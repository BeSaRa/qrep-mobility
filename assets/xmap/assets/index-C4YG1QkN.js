var Bve=Object.defineProperty;var Zve=(e,t,n)=>t in e?Bve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var WO=(e,t,n)=>(Zve(e,typeof t!="symbol"?t+"":t,n),n);function Mee(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Li(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Eee={exports:{}},HP={},Tee={exports:{}},Bi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS=Symbol.for("react.element"),Uve=Symbol.for("react.portal"),Hve=Symbol.for("react.fragment"),Vve=Symbol.for("react.strict_mode"),Wve=Symbol.for("react.profiler"),Gve=Symbol.for("react.provider"),Kve=Symbol.for("react.context"),qve=Symbol.for("react.forward_ref"),Xve=Symbol.for("react.suspense"),Yve=Symbol.for("react.memo"),Jve=Symbol.for("react.lazy"),_Z=Symbol.iterator;function Qve(e){return e===null||typeof e!="object"?null:(e=_Z&&e[_Z]||e["@@iterator"],typeof e=="function"?e:null)}var Pee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iee=Object.assign,Oee={};function xb(e,t,n){this.props=e,this.context=t,this.refs=Oee,this.updater=n||Pee}xb.prototype.isReactComponent={};xb.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xb.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kee(){}kee.prototype=xb.prototype;function HD(e,t,n){this.props=e,this.context=t,this.refs=Oee,this.updater=n||Pee}var VD=HD.prototype=new kee;VD.constructor=HD;Iee(VD,xb.prototype);VD.isPureReactComponent=!0;var xZ=Array.isArray,Nee=Object.prototype.hasOwnProperty,WD={current:null},Ree={key:!0,ref:!0,__self:!0,__source:!0};function Dee(e,t,n){var r,i={},s=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(s=""+t.key),t)Nee.call(t,r)&&!Ree.hasOwnProperty(r)&&(i[r]=t[r]);var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){for(var o=Array(h),m=0;m<h;m++)o[m]=arguments[m+2];i.children=o}if(e&&e.defaultProps)for(r in h=e.defaultProps,h)i[r]===void 0&&(i[r]=h[r]);return{$$typeof:WS,type:e,key:s,ref:c,props:i,_owner:WD.current}}function e0e(e,t){return{$$typeof:WS,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function GD(e){return typeof e=="object"&&e!==null&&e.$$typeof===WS}function t0e(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wZ=/\/+/g;function GO(e,t){return typeof e=="object"&&e!==null&&e.key!=null?t0e(""+e.key):t.toString(36)}function $M(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case WS:case Uve:c=!0}}if(c)return c=e,i=i(c),e=r===""?"."+GO(c,0):r,xZ(i)?(n="",e!=null&&(n=e.replace(wZ,"$&/")+"/"),$M(i,t,n,"",function(m){return m})):i!=null&&(GD(i)&&(i=e0e(i,n+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(wZ,"$&/")+"/")+e)),t.push(i)),1;if(c=0,r=r===""?".":r+":",xZ(e))for(var h=0;h<e.length;h++){s=e[h];var o=r+GO(s,h);c+=$M(s,t,n,o,i)}else if(o=Qve(e),typeof o=="function")for(e=o.call(e),h=0;!(s=e.next()).done;)s=s.value,o=r+GO(s,h++),c+=$M(s,t,n,o,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function wC(e,t,n){if(e==null)return e;var r=[],i=0;return $M(e,r,"","",function(s){return t.call(n,s,i++)}),r}function n0e(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yl={current:null},jM={transition:null},r0e={ReactCurrentDispatcher:yl,ReactCurrentBatchConfig:jM,ReactCurrentOwner:WD};Bi.Children={map:wC,forEach:function(e,t,n){wC(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wC(e,function(){t++}),t},toArray:function(e){return wC(e,function(t){return t})||[]},only:function(e){if(!GD(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Bi.Component=xb;Bi.Fragment=Hve;Bi.Profiler=Wve;Bi.PureComponent=HD;Bi.StrictMode=Vve;Bi.Suspense=Xve;Bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r0e;Bi.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Iee({},e.props),i=e.key,s=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,c=WD.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(o in t)Nee.call(t,o)&&!Ree.hasOwnProperty(o)&&(r[o]=t[o]===void 0&&h!==void 0?h[o]:t[o])}var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){h=Array(o);for(var m=0;m<o;m++)h[m]=arguments[m+2];r.children=h}return{$$typeof:WS,type:e.type,key:i,ref:s,props:r,_owner:c}};Bi.createContext=function(e){return e={$$typeof:Kve,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gve,_context:e},e.Consumer=e};Bi.createElement=Dee;Bi.createFactory=function(e){var t=Dee.bind(null,e);return t.type=e,t};Bi.createRef=function(){return{current:null}};Bi.forwardRef=function(e){return{$$typeof:qve,render:e}};Bi.isValidElement=GD;Bi.lazy=function(e){return{$$typeof:Jve,_payload:{_status:-1,_result:e},_init:n0e}};Bi.memo=function(e,t){return{$$typeof:Yve,type:e,compare:t===void 0?null:t}};Bi.startTransition=function(e){var t=jM.transition;jM.transition={};try{e()}finally{jM.transition=t}};Bi.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Bi.useCallback=function(e,t){return yl.current.useCallback(e,t)};Bi.useContext=function(e){return yl.current.useContext(e)};Bi.useDebugValue=function(){};Bi.useDeferredValue=function(e){return yl.current.useDeferredValue(e)};Bi.useEffect=function(e,t){return yl.current.useEffect(e,t)};Bi.useId=function(){return yl.current.useId()};Bi.useImperativeHandle=function(e,t,n){return yl.current.useImperativeHandle(e,t,n)};Bi.useInsertionEffect=function(e,t){return yl.current.useInsertionEffect(e,t)};Bi.useLayoutEffect=function(e,t){return yl.current.useLayoutEffect(e,t)};Bi.useMemo=function(e,t){return yl.current.useMemo(e,t)};Bi.useReducer=function(e,t,n){return yl.current.useReducer(e,t,n)};Bi.useRef=function(e){return yl.current.useRef(e)};Bi.useState=function(e){return yl.current.useState(e)};Bi.useSyncExternalStore=function(e,t,n){return yl.current.useSyncExternalStore(e,t,n)};Bi.useTransition=function(){return yl.current.useTransition()};Bi.version="18.2.0";Tee.exports=Bi;var A=Tee.exports;const Oe=Li(A),A0=Mee({__proto__:null,default:Oe},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0e=A,o0e=Symbol.for("react.element"),a0e=Symbol.for("react.fragment"),s0e=Object.prototype.hasOwnProperty,l0e=i0e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c0e={key:!0,ref:!0,__self:!0,__source:!0};function Lee(e,t,n){var r,i={},s=null,c=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)s0e.call(t,r)&&!c0e.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:o0e,type:e,key:s,ref:c,props:i,_owner:l0e.current}}HP.Fragment=a0e;HP.jsx=Lee;HP.jsxs=Lee;Eee.exports=HP;var te=Eee.exports,xk={},Fee={exports:{}},kc={},$ee={exports:{}},jee={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ue,xe){var ae=ue.length;ue.push(xe);e:for(;0<ae;){var Ee=ae-1>>>1,Me=ue[Ee];if(0<i(Me,xe))ue[Ee]=xe,ue[ae]=Me,ae=Ee;else break e}}function n(ue){return ue.length===0?null:ue[0]}function r(ue){if(ue.length===0)return null;var xe=ue[0],ae=ue.pop();if(ae!==xe){ue[0]=ae;e:for(var Ee=0,Me=ue.length,de=Me>>>1;Ee<de;){var ze=2*(Ee+1)-1,$e=ue[ze],et=ze+1,gt=ue[et];if(0>i($e,ae))et<Me&&0>i(gt,$e)?(ue[Ee]=gt,ue[et]=ae,Ee=et):(ue[Ee]=$e,ue[ze]=ae,Ee=ze);else if(et<Me&&0>i(gt,ae))ue[Ee]=gt,ue[et]=ae,Ee=et;else break e}}return xe}function i(ue,xe){var ae=ue.sortIndex-xe.sortIndex;return ae!==0?ae:ue.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var o=[],m=[],y=1,v=null,S=3,C=!1,P=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(ue){for(var xe=n(m);xe!==null;){if(xe.callback===null)r(m);else if(xe.startTime<=ue)r(m),xe.sortIndex=xe.expirationTime,t(o,xe);else break;xe=n(m)}}function U(ue){if(I=!1,F(ue),!P)if(n(o)!==null)P=!0,ye(B);else{var xe=n(m);xe!==null&&fe(U,xe.startTime-ue)}}function B(ue,xe){P=!1,I&&(I=!1,D(Y),Y=-1),C=!0;var ae=S;try{for(F(xe),v=n(o);v!==null&&(!(v.expirationTime>xe)||ue&&!re());){var Ee=v.callback;if(typeof Ee=="function"){v.callback=null,S=v.priorityLevel;var Me=Ee(v.expirationTime<=xe);xe=e.unstable_now(),typeof Me=="function"?v.callback=Me:v===n(o)&&r(o),F(xe)}else r(o);v=n(o)}if(v!==null)var de=!0;else{var ze=n(m);ze!==null&&fe(U,ze.startTime-xe),de=!1}return de}finally{v=null,S=ae,C=!1}}var z=!1,W=null,Y=-1,K=5,ee=-1;function re(){return!(e.unstable_now()-ee<K)}function oe(){if(W!==null){var ue=e.unstable_now();ee=ue;var xe=!0;try{xe=W(!0,ue)}finally{xe?he():(z=!1,W=null)}}else z=!1}var he;if(typeof k=="function")he=function(){k(oe)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,le=be.port2;be.port1.onmessage=oe,he=function(){le.postMessage(null)}}else he=function(){N(oe,0)};function ye(ue){W=ue,z||(z=!0,he())}function fe(ue,xe){Y=N(function(){ue(e.unstable_now())},xe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ue){ue.callback=null},e.unstable_continueExecution=function(){P||C||(P=!0,ye(B))},e.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<ue?Math.floor(1e3/ue):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(ue){switch(S){case 1:case 2:case 3:var xe=3;break;default:xe=S}var ae=S;S=xe;try{return ue()}finally{S=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ue,xe){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var ae=S;S=ue;try{return xe()}finally{S=ae}},e.unstable_scheduleCallback=function(ue,xe,ae){var Ee=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Ee+ae:Ee):ae=Ee,ue){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ae+Me,ue={id:y++,callback:xe,priorityLevel:ue,startTime:ae,expirationTime:Me,sortIndex:-1},ae>Ee?(ue.sortIndex=ae,t(m,ue),n(o)===null&&ue===n(m)&&(I?(D(Y),Y=-1):I=!0,fe(U,ae-Ee))):(ue.sortIndex=Me,t(o,ue),P||C||(P=!0,ye(B))),ue},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(ue){var xe=S;return function(){var ae=S;S=xe;try{return ue.apply(this,arguments)}finally{S=ae}}}})(jee);$ee.exports=jee;var u0e=$ee.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zee=A,Mc=u0e;function Wn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bee=new Set,bw={};function Qg(e,t){C0(e,t),C0(e+"Capture",t)}function C0(e,t){for(bw[e]=t,e=0;e<t.length;e++)Bee.add(t[e])}var Jh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wk=Object.prototype.hasOwnProperty,d0e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SZ={},AZ={};function h0e(e){return wk.call(AZ,e)?!0:wk.call(SZ,e)?!1:d0e.test(e)?AZ[e]=!0:(SZ[e]=!0,!1)}function p0e(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function f0e(e,t,n,r){if(t===null||typeof t>"u"||p0e(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vl(e,t,n,r,i,s,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=c}var Ns={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ns[e]=new vl(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ns[t]=new vl(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ns[e]=new vl(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ns[e]=new vl(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ns[e]=new vl(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ns[e]=new vl(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ns[e]=new vl(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ns[e]=new vl(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ns[e]=new vl(e,5,!1,e.toLowerCase(),null,!1,!1)});var KD=/[\-:]([a-z])/g;function qD(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(KD,qD);Ns[t]=new vl(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(KD,qD);Ns[t]=new vl(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(KD,qD);Ns[t]=new vl(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ns[e]=new vl(e,1,!1,e.toLowerCase(),null,!1,!1)});Ns.xlinkHref=new vl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ns[e]=new vl(e,1,!1,e.toLowerCase(),null,!0,!0)});function XD(e,t,n,r){var i=Ns.hasOwnProperty(t)?Ns[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(f0e(t,n,i,r)&&(n=null),r||i===null?h0e(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var up=zee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,SC=Symbol.for("react.element"),Lv=Symbol.for("react.portal"),Fv=Symbol.for("react.fragment"),YD=Symbol.for("react.strict_mode"),Sk=Symbol.for("react.profiler"),Zee=Symbol.for("react.provider"),Uee=Symbol.for("react.context"),JD=Symbol.for("react.forward_ref"),Ak=Symbol.for("react.suspense"),Ck=Symbol.for("react.suspense_list"),QD=Symbol.for("react.memo"),nf=Symbol.for("react.lazy"),Hee=Symbol.for("react.offscreen"),CZ=Symbol.iterator;function Y1(e){return e===null||typeof e!="object"?null:(e=CZ&&e[CZ]||e["@@iterator"],typeof e=="function"?e:null)}var da=Object.assign,KO;function Rx(e){if(KO===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);KO=t&&t[1]||""}return`
`+KO+e}var qO=!1;function XO(e,t){if(!e||qO)return"";qO=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){r=m}e.call(t.prototype)}else{try{throw Error()}catch(m){r=m}e()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var i=m.stack.split(`
`),s=r.stack.split(`
`),c=i.length-1,h=s.length-1;1<=c&&0<=h&&i[c]!==s[h];)h--;for(;1<=c&&0<=h;c--,h--)if(i[c]!==s[h]){if(c!==1||h!==1)do if(c--,h--,0>h||i[c]!==s[h]){var o=`
`+i[c].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=c&&0<=h);break}}}finally{qO=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rx(e):""}function m0e(e){switch(e.tag){case 5:return Rx(e.type);case 16:return Rx("Lazy");case 13:return Rx("Suspense");case 19:return Rx("SuspenseList");case 0:case 2:case 15:return e=XO(e.type,!1),e;case 11:return e=XO(e.type.render,!1),e;case 1:return e=XO(e.type,!0),e;default:return""}}function Mk(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fv:return"Fragment";case Lv:return"Portal";case Sk:return"Profiler";case YD:return"StrictMode";case Ak:return"Suspense";case Ck:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uee:return(e.displayName||"Context")+".Consumer";case Zee:return(e._context.displayName||"Context")+".Provider";case JD:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case QD:return t=e.displayName||null,t!==null?t:Mk(e.type)||"Memo";case nf:t=e._payload,e=e._init;try{return Mk(e(t))}catch{}}return null}function g0e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mk(t);case 8:return t===YD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function If(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function y0e(e){var t=Vee(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(c){r=""+c,s.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function AC(e){e._valueTracker||(e._valueTracker=y0e(e))}function Wee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vee(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ek(e,t){var n=t.checked;return da({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function MZ(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=If(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gee(e,t){t=t.checked,t!=null&&XD(e,"checked",t,!1)}function Tk(e,t){Gee(e,t);var n=If(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pk(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pk(e,t.type,If(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function EZ(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pk(e,t,n){(t!=="number"||vE(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Dx=Array.isArray;function a0(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+If(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ik(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Wn(91));return da({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function TZ(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Wn(92));if(Dx(n)){if(1<n.length)throw Error(Wn(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:If(n)}}function Kee(e,t){var n=If(t.value),r=If(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function PZ(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qee(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ok(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qee(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var CC,Xee=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(CC=CC||document.createElement("div"),CC.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=CC.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _w(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v0e=["Webkit","ms","Moz","O"];Object.keys(Vx).forEach(function(e){v0e.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vx[t]=Vx[e]})});function Yee(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vx.hasOwnProperty(e)&&Vx[e]?(""+t).trim():t+"px"}function Jee(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Yee(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var b0e=da({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kk(e,t){if(t){if(b0e[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Wn(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Wn(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Wn(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Wn(62))}}function Nk(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rk=null;function eL(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dk=null,s0=null,l0=null;function IZ(e){if(e=qS(e)){if(typeof Dk!="function")throw Error(Wn(280));var t=e.stateNode;t&&(t=qP(t),Dk(e.stateNode,e.type,t))}}function Qee(e){s0?l0?l0.push(e):l0=[e]:s0=e}function ete(){if(s0){var e=s0,t=l0;if(l0=s0=null,IZ(e),t)for(e=0;e<t.length;e++)IZ(t[e])}}function tte(e,t){return e(t)}function nte(){}var YO=!1;function rte(e,t,n){if(YO)return e(t,n);YO=!0;try{return tte(e,t,n)}finally{YO=!1,(s0!==null||l0!==null)&&(nte(),ete())}}function xw(e,t){var n=e.stateNode;if(n===null)return null;var r=qP(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Wn(231,t,typeof n));return n}var Lk=!1;if(Jh)try{var J1={};Object.defineProperty(J1,"passive",{get:function(){Lk=!0}}),window.addEventListener("test",J1,J1),window.removeEventListener("test",J1,J1)}catch{Lk=!1}function _0e(e,t,n,r,i,s,c,h,o){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(y){this.onError(y)}}var Wx=!1,bE=null,_E=!1,Fk=null,x0e={onError:function(e){Wx=!0,bE=e}};function w0e(e,t,n,r,i,s,c,h,o){Wx=!1,bE=null,_0e.apply(x0e,arguments)}function S0e(e,t,n,r,i,s,c,h,o){if(w0e.apply(this,arguments),Wx){if(Wx){var m=bE;Wx=!1,bE=null}else throw Error(Wn(198));_E||(_E=!0,Fk=m)}}function ey(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ite(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function OZ(e){if(ey(e)!==e)throw Error(Wn(188))}function A0e(e){var t=e.alternate;if(!t){if(t=ey(e),t===null)throw Error(Wn(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return OZ(i),e;if(s===r)return OZ(i),t;s=s.sibling}throw Error(Wn(188))}if(n.return!==r.return)n=i,r=s;else{for(var c=!1,h=i.child;h;){if(h===n){c=!0,n=i,r=s;break}if(h===r){c=!0,r=i,n=s;break}h=h.sibling}if(!c){for(h=s.child;h;){if(h===n){c=!0,n=s,r=i;break}if(h===r){c=!0,r=s,n=i;break}h=h.sibling}if(!c)throw Error(Wn(189))}}if(n.alternate!==r)throw Error(Wn(190))}if(n.tag!==3)throw Error(Wn(188));return n.stateNode.current===n?e:t}function ote(e){return e=A0e(e),e!==null?ate(e):null}function ate(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ate(e);if(t!==null)return t;e=e.sibling}return null}var ste=Mc.unstable_scheduleCallback,kZ=Mc.unstable_cancelCallback,C0e=Mc.unstable_shouldYield,M0e=Mc.unstable_requestPaint,Pa=Mc.unstable_now,E0e=Mc.unstable_getCurrentPriorityLevel,tL=Mc.unstable_ImmediatePriority,lte=Mc.unstable_UserBlockingPriority,xE=Mc.unstable_NormalPriority,T0e=Mc.unstable_LowPriority,cte=Mc.unstable_IdlePriority,VP=null,Vd=null;function P0e(e){if(Vd&&typeof Vd.onCommitFiberRoot=="function")try{Vd.onCommitFiberRoot(VP,e,void 0,(e.current.flags&128)===128)}catch{}}var Uu=Math.clz32?Math.clz32:k0e,I0e=Math.log,O0e=Math.LN2;function k0e(e){return e>>>=0,e===0?32:31-(I0e(e)/O0e|0)|0}var MC=64,EC=4194304;function Lx(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wE(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,c=n&268435455;if(c!==0){var h=c&~i;h!==0?r=Lx(h):(s&=c,s!==0&&(r=Lx(s)))}else c=n&~i,c!==0?r=Lx(c):s!==0&&(r=Lx(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Uu(t),i=1<<n,r|=e[n],t&=~i;return r}function N0e(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R0e(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-Uu(s),h=1<<c,o=i[c];o===-1?(!(h&n)||h&r)&&(i[c]=N0e(h,t)):o<=t&&(e.expiredLanes|=h),s&=~h}}function $k(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ute(){var e=MC;return MC<<=1,!(MC&4194240)&&(MC=64),e}function JO(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function GS(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Uu(t),e[t]=n}function D0e(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Uu(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function nL(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Uu(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _o=0;function dte(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hte,rL,pte,fte,mte,jk=!1,TC=[],vf=null,bf=null,_f=null,ww=new Map,Sw=new Map,sf=[],L0e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NZ(e,t){switch(e){case"focusin":case"focusout":vf=null;break;case"dragenter":case"dragleave":bf=null;break;case"mouseover":case"mouseout":_f=null;break;case"pointerover":case"pointerout":ww.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sw.delete(t.pointerId)}}function Q1(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=qS(t),t!==null&&rL(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function F0e(e,t,n,r,i){switch(t){case"focusin":return vf=Q1(vf,e,t,n,r,i),!0;case"dragenter":return bf=Q1(bf,e,t,n,r,i),!0;case"mouseover":return _f=Q1(_f,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ww.set(s,Q1(ww.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Sw.set(s,Q1(Sw.get(s)||null,e,t,n,r,i)),!0}return!1}function gte(e){var t=ug(e.target);if(t!==null){var n=ey(t);if(n!==null){if(t=n.tag,t===13){if(t=ite(n),t!==null){e.blockedOn=t,mte(e.priority,function(){pte(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zM(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zk(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Rk=r,n.target.dispatchEvent(r),Rk=null}else return t=qS(n),t!==null&&rL(t),e.blockedOn=n,!1;t.shift()}return!0}function RZ(e,t,n){zM(e)&&n.delete(t)}function $0e(){jk=!1,vf!==null&&zM(vf)&&(vf=null),bf!==null&&zM(bf)&&(bf=null),_f!==null&&zM(_f)&&(_f=null),ww.forEach(RZ),Sw.forEach(RZ)}function ex(e,t){e.blockedOn===t&&(e.blockedOn=null,jk||(jk=!0,Mc.unstable_scheduleCallback(Mc.unstable_NormalPriority,$0e)))}function Aw(e){function t(i){return ex(i,e)}if(0<TC.length){ex(TC[0],e);for(var n=1;n<TC.length;n++){var r=TC[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vf!==null&&ex(vf,e),bf!==null&&ex(bf,e),_f!==null&&ex(_f,e),ww.forEach(t),Sw.forEach(t),n=0;n<sf.length;n++)r=sf[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sf.length&&(n=sf[0],n.blockedOn===null);)gte(n),n.blockedOn===null&&sf.shift()}var c0=up.ReactCurrentBatchConfig,SE=!0;function j0e(e,t,n,r){var i=_o,s=c0.transition;c0.transition=null;try{_o=1,iL(e,t,n,r)}finally{_o=i,c0.transition=s}}function z0e(e,t,n,r){var i=_o,s=c0.transition;c0.transition=null;try{_o=4,iL(e,t,n,r)}finally{_o=i,c0.transition=s}}function iL(e,t,n,r){if(SE){var i=zk(e,t,n,r);if(i===null)l2(e,t,r,AE,n),NZ(e,r);else if(F0e(i,e,t,n,r))r.stopPropagation();else if(NZ(e,r),t&4&&-1<L0e.indexOf(e)){for(;i!==null;){var s=qS(i);if(s!==null&&hte(s),s=zk(e,t,n,r),s===null&&l2(e,t,r,AE,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else l2(e,t,r,null,n)}}var AE=null;function zk(e,t,n,r){if(AE=null,e=eL(r),e=ug(e),e!==null)if(t=ey(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ite(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return AE=e,null}function yte(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E0e()){case tL:return 1;case lte:return 4;case xE:case T0e:return 16;case cte:return 536870912;default:return 16}default:return 16}}var uf=null,oL=null,BM=null;function vte(){if(BM)return BM;var e,t=oL,n=t.length,r,i="value"in uf?uf.value:uf.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===i[s-r];r++);return BM=i.slice(e,1<r?1-r:void 0)}function ZM(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function PC(){return!0}function DZ(){return!1}function Nc(e){function t(n,r,i,s,c){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=c,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(s):s[h]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?PC:DZ,this.isPropagationStopped=DZ,this}return da(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=PC)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=PC)},persist:function(){},isPersistent:PC}),t}var wb={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aL=Nc(wb),KS=da({},wb,{view:0,detail:0}),B0e=Nc(KS),QO,e2,tx,WP=da({},KS,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sL,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tx&&(tx&&e.type==="mousemove"?(QO=e.screenX-tx.screenX,e2=e.screenY-tx.screenY):e2=QO=0,tx=e),QO)},movementY:function(e){return"movementY"in e?e.movementY:e2}}),LZ=Nc(WP),Z0e=da({},WP,{dataTransfer:0}),U0e=Nc(Z0e),H0e=da({},KS,{relatedTarget:0}),t2=Nc(H0e),V0e=da({},wb,{animationName:0,elapsedTime:0,pseudoElement:0}),W0e=Nc(V0e),G0e=da({},wb,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),K0e=Nc(G0e),q0e=da({},wb,{data:0}),FZ=Nc(q0e),X0e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y0e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J0e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q0e(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=J0e[e])?!!t[e]:!1}function sL(){return Q0e}var ebe=da({},KS,{key:function(e){if(e.key){var t=X0e[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ZM(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Y0e[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sL,charCode:function(e){return e.type==="keypress"?ZM(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ZM(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tbe=Nc(ebe),nbe=da({},WP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$Z=Nc(nbe),rbe=da({},KS,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sL}),ibe=Nc(rbe),obe=da({},wb,{propertyName:0,elapsedTime:0,pseudoElement:0}),abe=Nc(obe),sbe=da({},WP,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lbe=Nc(sbe),cbe=[9,13,27,32],lL=Jh&&"CompositionEvent"in window,Gx=null;Jh&&"documentMode"in document&&(Gx=document.documentMode);var ube=Jh&&"TextEvent"in window&&!Gx,bte=Jh&&(!lL||Gx&&8<Gx&&11>=Gx),jZ=" ",zZ=!1;function _te(e,t){switch(e){case"keyup":return cbe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xte(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $v=!1;function dbe(e,t){switch(e){case"compositionend":return xte(t);case"keypress":return t.which!==32?null:(zZ=!0,jZ);case"textInput":return e=t.data,e===jZ&&zZ?null:e;default:return null}}function hbe(e,t){if($v)return e==="compositionend"||!lL&&_te(e,t)?(e=vte(),BM=oL=uf=null,$v=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bte&&t.locale!=="ko"?null:t.data;default:return null}}var pbe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BZ(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pbe[e.type]:t==="textarea"}function wte(e,t,n,r){Qee(r),t=CE(t,"onChange"),0<t.length&&(n=new aL("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kx=null,Cw=null;function fbe(e){Nte(e,0)}function GP(e){var t=Bv(e);if(Wee(t))return e}function mbe(e,t){if(e==="change")return t}var Ste=!1;if(Jh){var n2;if(Jh){var r2="oninput"in document;if(!r2){var ZZ=document.createElement("div");ZZ.setAttribute("oninput","return;"),r2=typeof ZZ.oninput=="function"}n2=r2}else n2=!1;Ste=n2&&(!document.documentMode||9<document.documentMode)}function UZ(){Kx&&(Kx.detachEvent("onpropertychange",Ate),Cw=Kx=null)}function Ate(e){if(e.propertyName==="value"&&GP(Cw)){var t=[];wte(t,Cw,e,eL(e)),rte(fbe,t)}}function gbe(e,t,n){e==="focusin"?(UZ(),Kx=t,Cw=n,Kx.attachEvent("onpropertychange",Ate)):e==="focusout"&&UZ()}function ybe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return GP(Cw)}function vbe(e,t){if(e==="click")return GP(t)}function bbe(e,t){if(e==="input"||e==="change")return GP(t)}function _be(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xu=typeof Object.is=="function"?Object.is:_be;function Mw(e,t){if(Xu(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wk.call(t,i)||!Xu(e[i],t[i]))return!1}return!0}function HZ(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function VZ(e,t){var n=HZ(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HZ(n)}}function Cte(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cte(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mte(){for(var e=window,t=vE();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vE(e.document)}return t}function cL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xbe(e){var t=Mte(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cte(n.ownerDocument.documentElement,n)){if(r!==null&&cL(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=VZ(n,s);var c=VZ(n,r);i&&c&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wbe=Jh&&"documentMode"in document&&11>=document.documentMode,jv=null,Bk=null,qx=null,Zk=!1;function WZ(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zk||jv==null||jv!==vE(r)||(r=jv,"selectionStart"in r&&cL(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qx&&Mw(qx,r)||(qx=r,r=CE(Bk,"onSelect"),0<r.length&&(t=new aL("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jv)))}function IC(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zv={animationend:IC("Animation","AnimationEnd"),animationiteration:IC("Animation","AnimationIteration"),animationstart:IC("Animation","AnimationStart"),transitionend:IC("Transition","TransitionEnd")},i2={},Ete={};Jh&&(Ete=document.createElement("div").style,"AnimationEvent"in window||(delete zv.animationend.animation,delete zv.animationiteration.animation,delete zv.animationstart.animation),"TransitionEvent"in window||delete zv.transitionend.transition);function KP(e){if(i2[e])return i2[e];if(!zv[e])return e;var t=zv[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ete)return i2[e]=t[n];return e}var Tte=KP("animationend"),Pte=KP("animationiteration"),Ite=KP("animationstart"),Ote=KP("transitionend"),kte=new Map,GZ="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zf(e,t){kte.set(e,t),Qg(t,[e])}for(var o2=0;o2<GZ.length;o2++){var a2=GZ[o2],Sbe=a2.toLowerCase(),Abe=a2[0].toUpperCase()+a2.slice(1);zf(Sbe,"on"+Abe)}zf(Tte,"onAnimationEnd");zf(Pte,"onAnimationIteration");zf(Ite,"onAnimationStart");zf("dblclick","onDoubleClick");zf("focusin","onFocus");zf("focusout","onBlur");zf(Ote,"onTransitionEnd");C0("onMouseEnter",["mouseout","mouseover"]);C0("onMouseLeave",["mouseout","mouseover"]);C0("onPointerEnter",["pointerout","pointerover"]);C0("onPointerLeave",["pointerout","pointerover"]);Qg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qg("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cbe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fx));function KZ(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,S0e(r,t,void 0,e),e.currentTarget=null}function Nte(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var c=r.length-1;0<=c;c--){var h=r[c],o=h.instance,m=h.currentTarget;if(h=h.listener,o!==s&&i.isPropagationStopped())break e;KZ(i,h,m),s=o}else for(c=0;c<r.length;c++){if(h=r[c],o=h.instance,m=h.currentTarget,h=h.listener,o!==s&&i.isPropagationStopped())break e;KZ(i,h,m),s=o}}}if(_E)throw e=Fk,_E=!1,Fk=null,e}function Bo(e,t){var n=t[Gk];n===void 0&&(n=t[Gk]=new Set);var r=e+"__bubble";n.has(r)||(Rte(t,e,2,!1),n.add(r))}function s2(e,t,n){var r=0;t&&(r|=4),Rte(n,e,r,t)}var OC="_reactListening"+Math.random().toString(36).slice(2);function Ew(e){if(!e[OC]){e[OC]=!0,Bee.forEach(function(n){n!=="selectionchange"&&(Cbe.has(n)||s2(n,!1,e),s2(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[OC]||(t[OC]=!0,s2("selectionchange",!1,t))}}function Rte(e,t,n,r){switch(yte(t)){case 1:var i=j0e;break;case 4:i=z0e;break;default:i=iL}n=i.bind(null,t,n,e),i=void 0,!Lk||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function l2(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var h=r.stateNode.containerInfo;if(h===i||h.nodeType===8&&h.parentNode===i)break;if(c===4)for(c=r.return;c!==null;){var o=c.tag;if((o===3||o===4)&&(o=c.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;c=c.return}for(;h!==null;){if(c=ug(h),c===null)return;if(o=c.tag,o===5||o===6){r=s=c;continue e}h=h.parentNode}}r=r.return}rte(function(){var m=s,y=eL(n),v=[];e:{var S=kte.get(e);if(S!==void 0){var C=aL,P=e;switch(e){case"keypress":if(ZM(n)===0)break e;case"keydown":case"keyup":C=tbe;break;case"focusin":P="focus",C=t2;break;case"focusout":P="blur",C=t2;break;case"beforeblur":case"afterblur":C=t2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=LZ;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=U0e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=ibe;break;case Tte:case Pte:case Ite:C=W0e;break;case Ote:C=abe;break;case"scroll":C=B0e;break;case"wheel":C=lbe;break;case"copy":case"cut":case"paste":C=K0e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=$Z}var I=(t&4)!==0,N=!I&&e==="scroll",D=I?S!==null?S+"Capture":null:S;I=[];for(var k=m,F;k!==null;){F=k;var U=F.stateNode;if(F.tag===5&&U!==null&&(F=U,D!==null&&(U=xw(k,D),U!=null&&I.push(Tw(k,U,F)))),N)break;k=k.return}0<I.length&&(S=new C(S,P,null,n,y),v.push({event:S,listeners:I}))}}if(!(t&7)){e:{if(S=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",S&&n!==Rk&&(P=n.relatedTarget||n.fromElement)&&(ug(P)||P[Qh]))break e;if((C||S)&&(S=y.window===y?y:(S=y.ownerDocument)?S.defaultView||S.parentWindow:window,C?(P=n.relatedTarget||n.toElement,C=m,P=P?ug(P):null,P!==null&&(N=ey(P),P!==N||P.tag!==5&&P.tag!==6)&&(P=null)):(C=null,P=m),C!==P)){if(I=LZ,U="onMouseLeave",D="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(I=$Z,U="onPointerLeave",D="onPointerEnter",k="pointer"),N=C==null?S:Bv(C),F=P==null?S:Bv(P),S=new I(U,k+"leave",C,n,y),S.target=N,S.relatedTarget=F,U=null,ug(y)===m&&(I=new I(D,k+"enter",P,n,y),I.target=F,I.relatedTarget=N,U=I),N=U,C&&P)t:{for(I=C,D=P,k=0,F=I;F;F=uv(F))k++;for(F=0,U=D;U;U=uv(U))F++;for(;0<k-F;)I=uv(I),k--;for(;0<F-k;)D=uv(D),F--;for(;k--;){if(I===D||D!==null&&I===D.alternate)break t;I=uv(I),D=uv(D)}I=null}else I=null;C!==null&&qZ(v,S,C,I,!1),P!==null&&N!==null&&qZ(v,N,P,I,!0)}}e:{if(S=m?Bv(m):window,C=S.nodeName&&S.nodeName.toLowerCase(),C==="select"||C==="input"&&S.type==="file")var B=mbe;else if(BZ(S))if(Ste)B=bbe;else{B=ybe;var z=gbe}else(C=S.nodeName)&&C.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(B=vbe);if(B&&(B=B(e,m))){wte(v,B,n,y);break e}z&&z(e,S,m),e==="focusout"&&(z=S._wrapperState)&&z.controlled&&S.type==="number"&&Pk(S,"number",S.value)}switch(z=m?Bv(m):window,e){case"focusin":(BZ(z)||z.contentEditable==="true")&&(jv=z,Bk=m,qx=null);break;case"focusout":qx=Bk=jv=null;break;case"mousedown":Zk=!0;break;case"contextmenu":case"mouseup":case"dragend":Zk=!1,WZ(v,n,y);break;case"selectionchange":if(wbe)break;case"keydown":case"keyup":WZ(v,n,y)}var W;if(lL)e:{switch(e){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else $v?_te(e,n)&&(Y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Y="onCompositionStart");Y&&(bte&&n.locale!=="ko"&&($v||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&$v&&(W=vte()):(uf=y,oL="value"in uf?uf.value:uf.textContent,$v=!0)),z=CE(m,Y),0<z.length&&(Y=new FZ(Y,e,null,n,y),v.push({event:Y,listeners:z}),W?Y.data=W:(W=xte(n),W!==null&&(Y.data=W)))),(W=ube?dbe(e,n):hbe(e,n))&&(m=CE(m,"onBeforeInput"),0<m.length&&(y=new FZ("onBeforeInput","beforeinput",null,n,y),v.push({event:y,listeners:m}),y.data=W))}Nte(v,t)})}function Tw(e,t,n){return{instance:e,listener:t,currentTarget:n}}function CE(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xw(e,n),s!=null&&r.unshift(Tw(e,s,i)),s=xw(e,t),s!=null&&r.push(Tw(e,s,i))),e=e.return}return r}function uv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qZ(e,t,n,r,i){for(var s=t._reactName,c=[];n!==null&&n!==r;){var h=n,o=h.alternate,m=h.stateNode;if(o!==null&&o===r)break;h.tag===5&&m!==null&&(h=m,i?(o=xw(n,s),o!=null&&c.unshift(Tw(n,o,h))):i||(o=xw(n,s),o!=null&&c.push(Tw(n,o,h)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var Mbe=/\r\n?/g,Ebe=/\u0000|\uFFFD/g;function XZ(e){return(typeof e=="string"?e:""+e).replace(Mbe,`
`).replace(Ebe,"")}function kC(e,t,n){if(t=XZ(t),XZ(e)!==t&&n)throw Error(Wn(425))}function ME(){}var Uk=null,Hk=null;function Vk(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wk=typeof setTimeout=="function"?setTimeout:void 0,Tbe=typeof clearTimeout=="function"?clearTimeout:void 0,YZ=typeof Promise=="function"?Promise:void 0,Pbe=typeof queueMicrotask=="function"?queueMicrotask:typeof YZ<"u"?function(e){return YZ.resolve(null).then(e).catch(Ibe)}:Wk;function Ibe(e){setTimeout(function(){throw e})}function c2(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Aw(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Aw(t)}function xf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function JZ(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sb=Math.random().toString(36).slice(2),Dd="__reactFiber$"+Sb,Pw="__reactProps$"+Sb,Qh="__reactContainer$"+Sb,Gk="__reactEvents$"+Sb,Obe="__reactListeners$"+Sb,kbe="__reactHandles$"+Sb;function ug(e){var t=e[Dd];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qh]||n[Dd]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=JZ(e);e!==null;){if(n=e[Dd])return n;e=JZ(e)}return t}e=n,n=e.parentNode}return null}function qS(e){return e=e[Dd]||e[Qh],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bv(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Wn(33))}function qP(e){return e[Pw]||null}var Kk=[],Zv=-1;function Bf(e){return{current:e}}function Vo(e){0>Zv||(e.current=Kk[Zv],Kk[Zv]=null,Zv--)}function Fo(e,t){Zv++,Kk[Zv]=e.current,e.current=t}var Of={},Ys=Bf(Of),$l=Bf(!1),Rg=Of;function M0(e,t){var n=e.type.contextTypes;if(!n)return Of;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function jl(e){return e=e.childContextTypes,e!=null}function EE(){Vo($l),Vo(Ys)}function QZ(e,t,n){if(Ys.current!==Of)throw Error(Wn(168));Fo(Ys,t),Fo($l,n)}function Dte(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Wn(108,g0e(e)||"Unknown",i));return da({},n,r)}function TE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Of,Rg=Ys.current,Fo(Ys,e),Fo($l,$l.current),!0}function eU(e,t,n){var r=e.stateNode;if(!r)throw Error(Wn(169));n?(e=Dte(e,t,Rg),r.__reactInternalMemoizedMergedChildContext=e,Vo($l),Vo(Ys),Fo(Ys,e)):Vo($l),Fo($l,n)}var Dh=null,XP=!1,u2=!1;function Lte(e){Dh===null?Dh=[e]:Dh.push(e)}function Nbe(e){XP=!0,Lte(e)}function Zf(){if(!u2&&Dh!==null){u2=!0;var e=0,t=_o;try{var n=Dh;for(_o=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Dh=null,XP=!1}catch(i){throw Dh!==null&&(Dh=Dh.slice(e+1)),ste(tL,Zf),i}finally{_o=t,u2=!1}}return null}var Uv=[],Hv=0,PE=null,IE=0,Vc=[],Wc=0,Dg=null,Fh=1,$h="";function Qm(e,t){Uv[Hv++]=IE,Uv[Hv++]=PE,PE=e,IE=t}function Fte(e,t,n){Vc[Wc++]=Fh,Vc[Wc++]=$h,Vc[Wc++]=Dg,Dg=e;var r=Fh;e=$h;var i=32-Uu(r)-1;r&=~(1<<i),n+=1;var s=32-Uu(t)+i;if(30<s){var c=i-i%5;s=(r&(1<<c)-1).toString(32),r>>=c,i-=c,Fh=1<<32-Uu(t)+i|n<<i|r,$h=s+e}else Fh=1<<s|n<<i|r,$h=e}function uL(e){e.return!==null&&(Qm(e,1),Fte(e,1,0))}function dL(e){for(;e===PE;)PE=Uv[--Hv],Uv[Hv]=null,IE=Uv[--Hv],Uv[Hv]=null;for(;e===Dg;)Dg=Vc[--Wc],Vc[Wc]=null,$h=Vc[--Wc],Vc[Wc]=null,Fh=Vc[--Wc],Vc[Wc]=null}var Sc=null,bc=null,ta=!1,Lu=null;function $te(e,t){var n=Kc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tU(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Sc=e,bc=xf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Sc=e,bc=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dg!==null?{id:Fh,overflow:$h}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Kc(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Sc=e,bc=null,!0):!1;default:return!1}}function qk(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xk(e){if(ta){var t=bc;if(t){var n=t;if(!tU(e,t)){if(qk(e))throw Error(Wn(418));t=xf(n.nextSibling);var r=Sc;t&&tU(e,t)?$te(r,n):(e.flags=e.flags&-4097|2,ta=!1,Sc=e)}}else{if(qk(e))throw Error(Wn(418));e.flags=e.flags&-4097|2,ta=!1,Sc=e}}}function nU(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Sc=e}function NC(e){if(e!==Sc)return!1;if(!ta)return nU(e),ta=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vk(e.type,e.memoizedProps)),t&&(t=bc)){if(qk(e))throw jte(),Error(Wn(418));for(;t;)$te(e,t),t=xf(t.nextSibling)}if(nU(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Wn(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bc=xf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bc=null}}else bc=Sc?xf(e.stateNode.nextSibling):null;return!0}function jte(){for(var e=bc;e;)e=xf(e.nextSibling)}function E0(){bc=Sc=null,ta=!1}function hL(e){Lu===null?Lu=[e]:Lu.push(e)}var Rbe=up.ReactCurrentBatchConfig;function Pu(e,t){if(e&&e.defaultProps){t=da({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var OE=Bf(null),kE=null,Vv=null,pL=null;function fL(){pL=Vv=kE=null}function mL(e){var t=OE.current;Vo(OE),e._currentValue=t}function Yk(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function u0(e,t){kE=e,pL=Vv=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dl=!0),e.firstContext=null)}function tu(e){var t=e._currentValue;if(pL!==e)if(e={context:e,memoizedValue:t,next:null},Vv===null){if(kE===null)throw Error(Wn(308));Vv=e,kE.dependencies={lanes:0,firstContext:e}}else Vv=Vv.next=e;return t}var dg=null;function gL(e){dg===null?dg=[e]:dg.push(e)}function zte(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,gL(t)):(n.next=i.next,i.next=n),t.interleaved=n,ep(e,r)}function ep(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rf=!1;function yL(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bte(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wh(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Yi&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ep(e,n)}return i=r.interleaved,i===null?(t.next=t,gL(r)):(t.next=i.next,i.next=t),r.interleaved=t,ep(e,n)}function UM(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nL(e,n)}}function rU(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=c:s=s.next=c,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function NE(e,t,n,r){var i=e.updateQueue;rf=!1;var s=i.firstBaseUpdate,c=i.lastBaseUpdate,h=i.shared.pending;if(h!==null){i.shared.pending=null;var o=h,m=o.next;o.next=null,c===null?s=m:c.next=m,c=o;var y=e.alternate;y!==null&&(y=y.updateQueue,h=y.lastBaseUpdate,h!==c&&(h===null?y.firstBaseUpdate=m:h.next=m,y.lastBaseUpdate=o))}if(s!==null){var v=i.baseState;c=0,y=m=o=null,h=s;do{var S=h.lane,C=h.eventTime;if((r&S)===S){y!==null&&(y=y.next={eventTime:C,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var P=e,I=h;switch(S=t,C=n,I.tag){case 1:if(P=I.payload,typeof P=="function"){v=P.call(C,v,S);break e}v=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=I.payload,S=typeof P=="function"?P.call(C,v,S):P,S==null)break e;v=da({},v,S);break e;case 2:rf=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,S=i.effects,S===null?i.effects=[h]:S.push(h))}else C={eventTime:C,lane:S,tag:h.tag,payload:h.payload,callback:h.callback,next:null},y===null?(m=y=C,o=v):y=y.next=C,c|=S;if(h=h.next,h===null){if(h=i.shared.pending,h===null)break;S=h,h=S.next,S.next=null,i.lastBaseUpdate=S,i.shared.pending=null}}while(!0);if(y===null&&(o=v),i.baseState=o,i.firstBaseUpdate=m,i.lastBaseUpdate=y,t=i.shared.interleaved,t!==null){i=t;do c|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Fg|=c,e.lanes=c,e.memoizedState=v}}function iU(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Wn(191,i));i.call(r)}}}var Zte=new zee.Component().refs;function Jk(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:da({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var YP={isMounted:function(e){return(e=e._reactInternals)?ey(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ml(),i=Af(e),s=Wh(r,i);s.payload=t,n!=null&&(s.callback=n),t=wf(e,s,i),t!==null&&(Hu(t,e,i,r),UM(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ml(),i=Af(e),s=Wh(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=wf(e,s,i),t!==null&&(Hu(t,e,i,r),UM(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ml(),r=Af(e),i=Wh(n,r);i.tag=2,t!=null&&(i.callback=t),t=wf(e,i,r),t!==null&&(Hu(t,e,r,n),UM(t,e,r))}};function oU(e,t,n,r,i,s,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,c):t.prototype&&t.prototype.isPureReactComponent?!Mw(n,r)||!Mw(i,s):!0}function Ute(e,t,n){var r=!1,i=Of,s=t.contextType;return typeof s=="object"&&s!==null?s=tu(s):(i=jl(t)?Rg:Ys.current,r=t.contextTypes,s=(r=r!=null)?M0(e,i):Of),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=YP,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aU(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&YP.enqueueReplaceState(t,t.state,null)}function Qk(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Zte,yL(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=tu(s):(s=jl(t)?Rg:Ys.current,i.context=M0(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Jk(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&YP.enqueueReplaceState(i,i.state,null),NE(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function nx(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Wn(309));var r=n.stateNode}if(!r)throw Error(Wn(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(c){var h=i.refs;h===Zte&&(h=i.refs={}),c===null?delete h[s]:h[s]=c},t._stringRef=s,t)}if(typeof e!="string")throw Error(Wn(284));if(!n._owner)throw Error(Wn(290,e))}return e}function RC(e,t){throw e=Object.prototype.toString.call(t),Error(Wn(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sU(e){var t=e._init;return t(e._payload)}function Hte(e){function t(D,k){if(e){var F=D.deletions;F===null?(D.deletions=[k],D.flags|=16):F.push(k)}}function n(D,k){if(!e)return null;for(;k!==null;)t(D,k),k=k.sibling;return null}function r(D,k){for(D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function i(D,k){return D=Cf(D,k),D.index=0,D.sibling=null,D}function s(D,k,F){return D.index=F,e?(F=D.alternate,F!==null?(F=F.index,F<k?(D.flags|=2,k):F):(D.flags|=2,k)):(D.flags|=1048576,k)}function c(D){return e&&D.alternate===null&&(D.flags|=2),D}function h(D,k,F,U){return k===null||k.tag!==6?(k=y2(F,D.mode,U),k.return=D,k):(k=i(k,F),k.return=D,k)}function o(D,k,F,U){var B=F.type;return B===Fv?y(D,k,F.props.children,U,F.key):k!==null&&(k.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===nf&&sU(B)===k.type)?(U=i(k,F.props),U.ref=nx(D,k,F),U.return=D,U):(U=qM(F.type,F.key,F.props,null,D.mode,U),U.ref=nx(D,k,F),U.return=D,U)}function m(D,k,F,U){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=v2(F,D.mode,U),k.return=D,k):(k=i(k,F.children||[]),k.return=D,k)}function y(D,k,F,U,B){return k===null||k.tag!==7?(k=Cg(F,D.mode,U,B),k.return=D,k):(k=i(k,F),k.return=D,k)}function v(D,k,F){if(typeof k=="string"&&k!==""||typeof k=="number")return k=y2(""+k,D.mode,F),k.return=D,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case SC:return F=qM(k.type,k.key,k.props,null,D.mode,F),F.ref=nx(D,null,k),F.return=D,F;case Lv:return k=v2(k,D.mode,F),k.return=D,k;case nf:var U=k._init;return v(D,U(k._payload),F)}if(Dx(k)||Y1(k))return k=Cg(k,D.mode,F,null),k.return=D,k;RC(D,k)}return null}function S(D,k,F,U){var B=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return B!==null?null:h(D,k,""+F,U);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case SC:return F.key===B?o(D,k,F,U):null;case Lv:return F.key===B?m(D,k,F,U):null;case nf:return B=F._init,S(D,k,B(F._payload),U)}if(Dx(F)||Y1(F))return B!==null?null:y(D,k,F,U,null);RC(D,F)}return null}function C(D,k,F,U,B){if(typeof U=="string"&&U!==""||typeof U=="number")return D=D.get(F)||null,h(k,D,""+U,B);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case SC:return D=D.get(U.key===null?F:U.key)||null,o(k,D,U,B);case Lv:return D=D.get(U.key===null?F:U.key)||null,m(k,D,U,B);case nf:var z=U._init;return C(D,k,F,z(U._payload),B)}if(Dx(U)||Y1(U))return D=D.get(F)||null,y(k,D,U,B,null);RC(k,U)}return null}function P(D,k,F,U){for(var B=null,z=null,W=k,Y=k=0,K=null;W!==null&&Y<F.length;Y++){W.index>Y?(K=W,W=null):K=W.sibling;var ee=S(D,W,F[Y],U);if(ee===null){W===null&&(W=K);break}e&&W&&ee.alternate===null&&t(D,W),k=s(ee,k,Y),z===null?B=ee:z.sibling=ee,z=ee,W=K}if(Y===F.length)return n(D,W),ta&&Qm(D,Y),B;if(W===null){for(;Y<F.length;Y++)W=v(D,F[Y],U),W!==null&&(k=s(W,k,Y),z===null?B=W:z.sibling=W,z=W);return ta&&Qm(D,Y),B}for(W=r(D,W);Y<F.length;Y++)K=C(W,D,Y,F[Y],U),K!==null&&(e&&K.alternate!==null&&W.delete(K.key===null?Y:K.key),k=s(K,k,Y),z===null?B=K:z.sibling=K,z=K);return e&&W.forEach(function(re){return t(D,re)}),ta&&Qm(D,Y),B}function I(D,k,F,U){var B=Y1(F);if(typeof B!="function")throw Error(Wn(150));if(F=B.call(F),F==null)throw Error(Wn(151));for(var z=B=null,W=k,Y=k=0,K=null,ee=F.next();W!==null&&!ee.done;Y++,ee=F.next()){W.index>Y?(K=W,W=null):K=W.sibling;var re=S(D,W,ee.value,U);if(re===null){W===null&&(W=K);break}e&&W&&re.alternate===null&&t(D,W),k=s(re,k,Y),z===null?B=re:z.sibling=re,z=re,W=K}if(ee.done)return n(D,W),ta&&Qm(D,Y),B;if(W===null){for(;!ee.done;Y++,ee=F.next())ee=v(D,ee.value,U),ee!==null&&(k=s(ee,k,Y),z===null?B=ee:z.sibling=ee,z=ee);return ta&&Qm(D,Y),B}for(W=r(D,W);!ee.done;Y++,ee=F.next())ee=C(W,D,Y,ee.value,U),ee!==null&&(e&&ee.alternate!==null&&W.delete(ee.key===null?Y:ee.key),k=s(ee,k,Y),z===null?B=ee:z.sibling=ee,z=ee);return e&&W.forEach(function(oe){return t(D,oe)}),ta&&Qm(D,Y),B}function N(D,k,F,U){if(typeof F=="object"&&F!==null&&F.type===Fv&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case SC:e:{for(var B=F.key,z=k;z!==null;){if(z.key===B){if(B=F.type,B===Fv){if(z.tag===7){n(D,z.sibling),k=i(z,F.props.children),k.return=D,D=k;break e}}else if(z.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===nf&&sU(B)===z.type){n(D,z.sibling),k=i(z,F.props),k.ref=nx(D,z,F),k.return=D,D=k;break e}n(D,z);break}else t(D,z);z=z.sibling}F.type===Fv?(k=Cg(F.props.children,D.mode,U,F.key),k.return=D,D=k):(U=qM(F.type,F.key,F.props,null,D.mode,U),U.ref=nx(D,k,F),U.return=D,D=U)}return c(D);case Lv:e:{for(z=F.key;k!==null;){if(k.key===z)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){n(D,k.sibling),k=i(k,F.children||[]),k.return=D,D=k;break e}else{n(D,k);break}else t(D,k);k=k.sibling}k=v2(F,D.mode,U),k.return=D,D=k}return c(D);case nf:return z=F._init,N(D,k,z(F._payload),U)}if(Dx(F))return P(D,k,F,U);if(Y1(F))return I(D,k,F,U);RC(D,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,k!==null&&k.tag===6?(n(D,k.sibling),k=i(k,F),k.return=D,D=k):(n(D,k),k=y2(F,D.mode,U),k.return=D,D=k),c(D)):n(D,k)}return N}var T0=Hte(!0),Vte=Hte(!1),XS={},Wd=Bf(XS),Iw=Bf(XS),Ow=Bf(XS);function hg(e){if(e===XS)throw Error(Wn(174));return e}function vL(e,t){switch(Fo(Ow,t),Fo(Iw,e),Fo(Wd,XS),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ok(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ok(t,e)}Vo(Wd),Fo(Wd,t)}function P0(){Vo(Wd),Vo(Iw),Vo(Ow)}function Wte(e){hg(Ow.current);var t=hg(Wd.current),n=Ok(t,e.type);t!==n&&(Fo(Iw,e),Fo(Wd,n))}function bL(e){Iw.current===e&&(Vo(Wd),Vo(Iw))}var ca=Bf(0);function RE(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var d2=[];function _L(){for(var e=0;e<d2.length;e++)d2[e]._workInProgressVersionPrimary=null;d2.length=0}var HM=up.ReactCurrentDispatcher,h2=up.ReactCurrentBatchConfig,Lg=0,ua=null,Qa=null,gs=null,DE=!1,Xx=!1,kw=0,Dbe=0;function Bs(){throw Error(Wn(321))}function xL(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xu(e[n],t[n]))return!1;return!0}function wL(e,t,n,r,i,s){if(Lg=s,ua=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,HM.current=e===null||e.memoizedState===null?jbe:zbe,e=n(r,i),Xx){s=0;do{if(Xx=!1,kw=0,25<=s)throw Error(Wn(301));s+=1,gs=Qa=null,t.updateQueue=null,HM.current=Bbe,e=n(r,i)}while(Xx)}if(HM.current=LE,t=Qa!==null&&Qa.next!==null,Lg=0,gs=Qa=ua=null,DE=!1,t)throw Error(Wn(300));return e}function SL(){var e=kw!==0;return kw=0,e}function Id(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gs===null?ua.memoizedState=gs=e:gs=gs.next=e,gs}function nu(){if(Qa===null){var e=ua.alternate;e=e!==null?e.memoizedState:null}else e=Qa.next;var t=gs===null?ua.memoizedState:gs.next;if(t!==null)gs=t,Qa=e;else{if(e===null)throw Error(Wn(310));Qa=e,e={memoizedState:Qa.memoizedState,baseState:Qa.baseState,baseQueue:Qa.baseQueue,queue:Qa.queue,next:null},gs===null?ua.memoizedState=gs=e:gs=gs.next=e}return gs}function Nw(e,t){return typeof t=="function"?t(e):t}function p2(e){var t=nu(),n=t.queue;if(n===null)throw Error(Wn(311));n.lastRenderedReducer=e;var r=Qa,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var c=i.next;i.next=s.next,s.next=c}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var h=c=null,o=null,m=s;do{var y=m.lane;if((Lg&y)===y)o!==null&&(o=o.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:e(r,m.action);else{var v={lane:y,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};o===null?(h=o=v,c=r):o=o.next=v,ua.lanes|=y,Fg|=y}m=m.next}while(m!==null&&m!==s);o===null?c=r:o.next=h,Xu(r,t.memoizedState)||(Dl=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=o,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ua.lanes|=s,Fg|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function f2(e){var t=nu(),n=t.queue;if(n===null)throw Error(Wn(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var c=i=i.next;do s=e(s,c.action),c=c.next;while(c!==i);Xu(s,t.memoizedState)||(Dl=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Gte(){}function Kte(e,t){var n=ua,r=nu(),i=t(),s=!Xu(r.memoizedState,i);if(s&&(r.memoizedState=i,Dl=!0),r=r.queue,AL(Yte.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||gs!==null&&gs.memoizedState.tag&1){if(n.flags|=2048,Rw(9,Xte.bind(null,n,r,i,t),void 0,null),bs===null)throw Error(Wn(349));Lg&30||qte(n,t,i)}return i}function qte(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ua.updateQueue,t===null?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xte(e,t,n,r){t.value=n,t.getSnapshot=r,Jte(t)&&Qte(e)}function Yte(e,t,n){return n(function(){Jte(t)&&Qte(e)})}function Jte(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xu(e,n)}catch{return!0}}function Qte(e){var t=ep(e,1);t!==null&&Hu(t,e,1,-1)}function lU(e){var t=Id();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nw,lastRenderedState:e},t.queue=e,e=e.dispatch=$be.bind(null,ua,e),[t.memoizedState,e]}function Rw(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ua.updateQueue,t===null?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ene(){return nu().memoizedState}function VM(e,t,n,r){var i=Id();ua.flags|=e,i.memoizedState=Rw(1|t,n,void 0,r===void 0?null:r)}function JP(e,t,n,r){var i=nu();r=r===void 0?null:r;var s=void 0;if(Qa!==null){var c=Qa.memoizedState;if(s=c.destroy,r!==null&&xL(r,c.deps)){i.memoizedState=Rw(t,n,s,r);return}}ua.flags|=e,i.memoizedState=Rw(1|t,n,s,r)}function cU(e,t){return VM(8390656,8,e,t)}function AL(e,t){return JP(2048,8,e,t)}function tne(e,t){return JP(4,2,e,t)}function nne(e,t){return JP(4,4,e,t)}function rne(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ine(e,t,n){return n=n!=null?n.concat([e]):null,JP(4,4,rne.bind(null,t,e),n)}function CL(){}function one(e,t){var n=nu();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xL(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ane(e,t){var n=nu();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xL(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sne(e,t,n){return Lg&21?(Xu(n,t)||(n=ute(),ua.lanes|=n,Fg|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dl=!0),e.memoizedState=n)}function Lbe(e,t){var n=_o;_o=n!==0&&4>n?n:4,e(!0);var r=h2.transition;h2.transition={};try{e(!1),t()}finally{_o=n,h2.transition=r}}function lne(){return nu().memoizedState}function Fbe(e,t,n){var r=Af(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cne(e))une(t,n);else if(n=zte(e,t,n,r),n!==null){var i=ml();Hu(n,e,r,i),dne(n,t,r)}}function $be(e,t,n){var r=Af(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cne(e))une(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var c=t.lastRenderedState,h=s(c,n);if(i.hasEagerState=!0,i.eagerState=h,Xu(h,c)){var o=t.interleaved;o===null?(i.next=i,gL(t)):(i.next=o.next,o.next=i),t.interleaved=i;return}}catch{}finally{}n=zte(e,t,i,r),n!==null&&(i=ml(),Hu(n,e,r,i),dne(n,t,r))}}function cne(e){var t=e.alternate;return e===ua||t!==null&&t===ua}function une(e,t){Xx=DE=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dne(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nL(e,n)}}var LE={readContext:tu,useCallback:Bs,useContext:Bs,useEffect:Bs,useImperativeHandle:Bs,useInsertionEffect:Bs,useLayoutEffect:Bs,useMemo:Bs,useReducer:Bs,useRef:Bs,useState:Bs,useDebugValue:Bs,useDeferredValue:Bs,useTransition:Bs,useMutableSource:Bs,useSyncExternalStore:Bs,useId:Bs,unstable_isNewReconciler:!1},jbe={readContext:tu,useCallback:function(e,t){return Id().memoizedState=[e,t===void 0?null:t],e},useContext:tu,useEffect:cU,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,VM(4194308,4,rne.bind(null,t,e),n)},useLayoutEffect:function(e,t){return VM(4194308,4,e,t)},useInsertionEffect:function(e,t){return VM(4,2,e,t)},useMemo:function(e,t){var n=Id();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Id();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Fbe.bind(null,ua,e),[r.memoizedState,e]},useRef:function(e){var t=Id();return e={current:e},t.memoizedState=e},useState:lU,useDebugValue:CL,useDeferredValue:function(e){return Id().memoizedState=e},useTransition:function(){var e=lU(!1),t=e[0];return e=Lbe.bind(null,e[1]),Id().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ua,i=Id();if(ta){if(n===void 0)throw Error(Wn(407));n=n()}else{if(n=t(),bs===null)throw Error(Wn(349));Lg&30||qte(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,cU(Yte.bind(null,r,s,e),[e]),r.flags|=2048,Rw(9,Xte.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Id(),t=bs.identifierPrefix;if(ta){var n=$h,r=Fh;n=(r&~(1<<32-Uu(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=kw++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Dbe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zbe={readContext:tu,useCallback:one,useContext:tu,useEffect:AL,useImperativeHandle:ine,useInsertionEffect:tne,useLayoutEffect:nne,useMemo:ane,useReducer:p2,useRef:ene,useState:function(){return p2(Nw)},useDebugValue:CL,useDeferredValue:function(e){var t=nu();return sne(t,Qa.memoizedState,e)},useTransition:function(){var e=p2(Nw)[0],t=nu().memoizedState;return[e,t]},useMutableSource:Gte,useSyncExternalStore:Kte,useId:lne,unstable_isNewReconciler:!1},Bbe={readContext:tu,useCallback:one,useContext:tu,useEffect:AL,useImperativeHandle:ine,useInsertionEffect:tne,useLayoutEffect:nne,useMemo:ane,useReducer:f2,useRef:ene,useState:function(){return f2(Nw)},useDebugValue:CL,useDeferredValue:function(e){var t=nu();return Qa===null?t.memoizedState=e:sne(t,Qa.memoizedState,e)},useTransition:function(){var e=f2(Nw)[0],t=nu().memoizedState;return[e,t]},useMutableSource:Gte,useSyncExternalStore:Kte,useId:lne,unstable_isNewReconciler:!1};function I0(e,t){try{var n="",r=t;do n+=m0e(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function m2(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function eN(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Zbe=typeof WeakMap=="function"?WeakMap:Map;function hne(e,t,n){n=Wh(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$E||($E=!0,uN=r),eN(e,t)},n}function pne(e,t,n){n=Wh(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){eN(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){eN(e,t),typeof r!="function"&&(Sf===null?Sf=new Set([this]):Sf.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function uU(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Zbe;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=n_e.bind(null,e,t,n),t.then(e,e))}function dU(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hU(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wh(-1,1),t.tag=2,wf(n,t,1))),n.lanes|=1),e)}var Ube=up.ReactCurrentOwner,Dl=!1;function cl(e,t,n,r){t.child=e===null?Vte(t,null,n,r):T0(t,e.child,n,r)}function pU(e,t,n,r,i){n=n.render;var s=t.ref;return u0(t,i),r=wL(e,t,n,r,s,i),n=SL(),e!==null&&!Dl?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,tp(e,t,i)):(ta&&n&&uL(t),t.flags|=1,cl(e,t,r,i),t.child)}function fU(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!NL(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,fne(e,t,s,r,i)):(e=qM(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var c=s.memoizedProps;if(n=n.compare,n=n!==null?n:Mw,n(c,r)&&e.ref===t.ref)return tp(e,t,i)}return t.flags|=1,e=Cf(s,r),e.ref=t.ref,e.return=t,t.child=e}function fne(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Mw(s,r)&&e.ref===t.ref)if(Dl=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Dl=!0);else return t.lanes=e.lanes,tp(e,t,i)}return tN(e,t,n,r,i)}function mne(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fo(Gv,fc),fc|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fo(Gv,fc),fc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Fo(Gv,fc),fc|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Fo(Gv,fc),fc|=r;return cl(e,t,i,n),t.child}function gne(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tN(e,t,n,r,i){var s=jl(n)?Rg:Ys.current;return s=M0(t,s),u0(t,i),n=wL(e,t,n,r,s,i),r=SL(),e!==null&&!Dl?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,tp(e,t,i)):(ta&&r&&uL(t),t.flags|=1,cl(e,t,n,i),t.child)}function mU(e,t,n,r,i){if(jl(n)){var s=!0;TE(t)}else s=!1;if(u0(t,i),t.stateNode===null)WM(e,t),Ute(t,n,r),Qk(t,n,r,i),r=!0;else if(e===null){var c=t.stateNode,h=t.memoizedProps;c.props=h;var o=c.context,m=n.contextType;typeof m=="object"&&m!==null?m=tu(m):(m=jl(n)?Rg:Ys.current,m=M0(t,m));var y=n.getDerivedStateFromProps,v=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function";v||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==r||o!==m)&&aU(t,c,r,m),rf=!1;var S=t.memoizedState;c.state=S,NE(t,r,c,i),o=t.memoizedState,h!==r||S!==o||$l.current||rf?(typeof y=="function"&&(Jk(t,n,y,r),o=t.memoizedState),(h=rf||oU(t,n,h,r,S,o,m))?(v||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),c.props=r,c.state=o,c.context=m,r=h):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,Bte(e,t),h=t.memoizedProps,m=t.type===t.elementType?h:Pu(t.type,h),c.props=m,v=t.pendingProps,S=c.context,o=n.contextType,typeof o=="object"&&o!==null?o=tu(o):(o=jl(n)?Rg:Ys.current,o=M0(t,o));var C=n.getDerivedStateFromProps;(y=typeof C=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==v||S!==o)&&aU(t,c,r,o),rf=!1,S=t.memoizedState,c.state=S,NE(t,r,c,i);var P=t.memoizedState;h!==v||S!==P||$l.current||rf?(typeof C=="function"&&(Jk(t,n,C,r),P=t.memoizedState),(m=rf||oU(t,n,m,r,S,P,o)||!1)?(y||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,P,o),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,P,o)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=P),c.props=r,c.state=P,c.context=o,r=m):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),r=!1)}return nN(e,t,n,r,s,i)}function nN(e,t,n,r,i,s){gne(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return i&&eU(t,n,!1),tp(e,t,s);r=t.stateNode,Ube.current=t;var h=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=T0(t,e.child,null,s),t.child=T0(t,null,h,s)):cl(e,t,h,s),t.memoizedState=r.state,i&&eU(t,n,!0),t.child}function yne(e){var t=e.stateNode;t.pendingContext?QZ(e,t.pendingContext,t.pendingContext!==t.context):t.context&&QZ(e,t.context,!1),vL(e,t.containerInfo)}function gU(e,t,n,r,i){return E0(),hL(i),t.flags|=256,cl(e,t,n,r),t.child}var rN={dehydrated:null,treeContext:null,retryLane:0};function iN(e){return{baseLanes:e,cachePool:null,transitions:null}}function vne(e,t,n){var r=t.pendingProps,i=ca.current,s=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(i&2)!==0),h?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Fo(ca,i&1),e===null)return Xk(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=r.children,e=r.fallback,s?(r=t.mode,s=t.child,c={mode:"hidden",children:c},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=c):s=t3(c,r,0,null),e=Cg(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=iN(n),t.memoizedState=rN,e):ML(t,c));if(i=e.memoizedState,i!==null&&(h=i.dehydrated,h!==null))return Hbe(e,t,c,r,h,i,n);if(s){s=r.fallback,c=t.mode,i=e.child,h=i.sibling;var o={mode:"hidden",children:r.children};return!(c&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=o,t.deletions=null):(r=Cf(i,o),r.subtreeFlags=i.subtreeFlags&14680064),h!==null?s=Cf(h,s):(s=Cg(s,c,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,c=e.child.memoizedState,c=c===null?iN(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=rN,r}return s=e.child,e=s.sibling,r=Cf(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ML(e,t){return t=t3({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function DC(e,t,n,r){return r!==null&&hL(r),T0(t,e.child,null,n),e=ML(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hbe(e,t,n,r,i,s,c){if(n)return t.flags&256?(t.flags&=-257,r=m2(Error(Wn(422))),DC(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=t3({mode:"visible",children:r.children},i,0,null),s=Cg(s,i,c,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&T0(t,e.child,null,c),t.child.memoizedState=iN(c),t.memoizedState=rN,s);if(!(t.mode&1))return DC(e,t,c,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var h=r.dgst;return r=h,s=Error(Wn(419)),r=m2(s,r,void 0),DC(e,t,c,r)}if(h=(c&e.childLanes)!==0,Dl||h){if(r=bs,r!==null){switch(c&-c){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|c)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ep(e,i),Hu(r,e,i,-1))}return kL(),r=m2(Error(Wn(421))),DC(e,t,c,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=r_e.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,bc=xf(i.nextSibling),Sc=t,ta=!0,Lu=null,e!==null&&(Vc[Wc++]=Fh,Vc[Wc++]=$h,Vc[Wc++]=Dg,Fh=e.id,$h=e.overflow,Dg=t),t=ML(t,r.children),t.flags|=4096,t)}function yU(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Yk(e.return,t,n)}function g2(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function bne(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(cl(e,t,r.children,n),r=ca.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yU(e,n,t);else if(e.tag===19)yU(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fo(ca,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&RE(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),g2(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&RE(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}g2(t,!0,n,null,s);break;case"together":g2(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function WM(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tp(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fg|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Wn(153));if(t.child!==null){for(e=t.child,n=Cf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vbe(e,t,n){switch(t.tag){case 3:yne(t),E0();break;case 5:Wte(t);break;case 1:jl(t.type)&&TE(t);break;case 4:vL(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Fo(OE,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Fo(ca,ca.current&1),t.flags|=128,null):n&t.child.childLanes?vne(e,t,n):(Fo(ca,ca.current&1),e=tp(e,t,n),e!==null?e.sibling:null);Fo(ca,ca.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return bne(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fo(ca,ca.current),r)break;return null;case 22:case 23:return t.lanes=0,mne(e,t,n)}return tp(e,t,n)}var _ne,oN,xne,wne;_ne=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oN=function(){};xne=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,hg(Wd.current);var s=null;switch(n){case"input":i=Ek(e,i),r=Ek(e,r),s=[];break;case"select":i=da({},i,{value:void 0}),r=da({},r,{value:void 0}),s=[];break;case"textarea":i=Ik(e,i),r=Ik(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ME)}kk(n,r);var c;n=null;for(m in i)if(!r.hasOwnProperty(m)&&i.hasOwnProperty(m)&&i[m]!=null)if(m==="style"){var h=i[m];for(c in h)h.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(bw.hasOwnProperty(m)?s||(s=[]):(s=s||[]).push(m,null));for(m in r){var o=r[m];if(h=i!=null?i[m]:void 0,r.hasOwnProperty(m)&&o!==h&&(o!=null||h!=null))if(m==="style")if(h){for(c in h)!h.hasOwnProperty(c)||o&&o.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in o)o.hasOwnProperty(c)&&h[c]!==o[c]&&(n||(n={}),n[c]=o[c])}else n||(s||(s=[]),s.push(m,n)),n=o;else m==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,h=h?h.__html:void 0,o!=null&&h!==o&&(s=s||[]).push(m,o)):m==="children"?typeof o!="string"&&typeof o!="number"||(s=s||[]).push(m,""+o):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(bw.hasOwnProperty(m)?(o!=null&&m==="onScroll"&&Bo("scroll",e),s||h===o||(s=[])):(s=s||[]).push(m,o))}n&&(s=s||[]).push("style",n);var m=s;(t.updateQueue=m)&&(t.flags|=4)}};wne=function(e,t,n,r){n!==r&&(t.flags|=4)};function rx(e,t){if(!ta)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Zs(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wbe(e,t,n){var r=t.pendingProps;switch(dL(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(t),null;case 1:return jl(t.type)&&EE(),Zs(t),null;case 3:return r=t.stateNode,P0(),Vo($l),Vo(Ys),_L(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(NC(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lu!==null&&(pN(Lu),Lu=null))),oN(e,t),Zs(t),null;case 5:bL(t);var i=hg(Ow.current);if(n=t.type,e!==null&&t.stateNode!=null)xne(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Wn(166));return Zs(t),null}if(e=hg(Wd.current),NC(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Dd]=t,r[Pw]=s,e=(t.mode&1)!==0,n){case"dialog":Bo("cancel",r),Bo("close",r);break;case"iframe":case"object":case"embed":Bo("load",r);break;case"video":case"audio":for(i=0;i<Fx.length;i++)Bo(Fx[i],r);break;case"source":Bo("error",r);break;case"img":case"image":case"link":Bo("error",r),Bo("load",r);break;case"details":Bo("toggle",r);break;case"input":MZ(r,s),Bo("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Bo("invalid",r);break;case"textarea":TZ(r,s),Bo("invalid",r)}kk(n,s),i=null;for(var c in s)if(s.hasOwnProperty(c)){var h=s[c];c==="children"?typeof h=="string"?r.textContent!==h&&(s.suppressHydrationWarning!==!0&&kC(r.textContent,h,e),i=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(s.suppressHydrationWarning!==!0&&kC(r.textContent,h,e),i=["children",""+h]):bw.hasOwnProperty(c)&&h!=null&&c==="onScroll"&&Bo("scroll",r)}switch(n){case"input":AC(r),EZ(r,s,!0);break;case"textarea":AC(r),PZ(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ME)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qee(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Dd]=t,e[Pw]=r,_ne(e,t,!1,!1),t.stateNode=e;e:{switch(c=Nk(n,r),n){case"dialog":Bo("cancel",e),Bo("close",e),i=r;break;case"iframe":case"object":case"embed":Bo("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fx.length;i++)Bo(Fx[i],e);i=r;break;case"source":Bo("error",e),i=r;break;case"img":case"image":case"link":Bo("error",e),Bo("load",e),i=r;break;case"details":Bo("toggle",e),i=r;break;case"input":MZ(e,r),i=Ek(e,r),Bo("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=da({},r,{value:void 0}),Bo("invalid",e);break;case"textarea":TZ(e,r),i=Ik(e,r),Bo("invalid",e);break;default:i=r}kk(n,i),h=i;for(s in h)if(h.hasOwnProperty(s)){var o=h[s];s==="style"?Jee(e,o):s==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Xee(e,o)):s==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&_w(e,o):typeof o=="number"&&_w(e,""+o):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bw.hasOwnProperty(s)?o!=null&&s==="onScroll"&&Bo("scroll",e):o!=null&&XD(e,s,o,c))}switch(n){case"input":AC(e),EZ(e,r,!1);break;case"textarea":AC(e),PZ(e);break;case"option":r.value!=null&&e.setAttribute("value",""+If(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?a0(e,!!r.multiple,s,!1):r.defaultValue!=null&&a0(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ME)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zs(t),null;case 6:if(e&&t.stateNode!=null)wne(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Wn(166));if(n=hg(Ow.current),hg(Wd.current),NC(t)){if(r=t.stateNode,n=t.memoizedProps,r[Dd]=t,(s=r.nodeValue!==n)&&(e=Sc,e!==null))switch(e.tag){case 3:kC(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kC(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dd]=t,t.stateNode=r}return Zs(t),null;case 13:if(Vo(ca),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ta&&bc!==null&&t.mode&1&&!(t.flags&128))jte(),E0(),t.flags|=98560,s=!1;else if(s=NC(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Wn(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Wn(317));s[Dd]=t}else E0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zs(t),s=!1}else Lu!==null&&(pN(Lu),Lu=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ca.current&1?es===0&&(es=3):kL())),t.updateQueue!==null&&(t.flags|=4),Zs(t),null);case 4:return P0(),oN(e,t),e===null&&Ew(t.stateNode.containerInfo),Zs(t),null;case 10:return mL(t.type._context),Zs(t),null;case 17:return jl(t.type)&&EE(),Zs(t),null;case 19:if(Vo(ca),s=t.memoizedState,s===null)return Zs(t),null;if(r=(t.flags&128)!==0,c=s.rendering,c===null)if(r)rx(s,!1);else{if(es!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=RE(e),c!==null){for(t.flags|=128,rx(s,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,c=s.alternate,c===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fo(ca,ca.current&1|2),t.child}e=e.sibling}s.tail!==null&&Pa()>O0&&(t.flags|=128,r=!0,rx(s,!1),t.lanes=4194304)}else{if(!r)if(e=RE(c),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rx(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!ta)return Zs(t),null}else 2*Pa()-s.renderingStartTime>O0&&n!==1073741824&&(t.flags|=128,r=!0,rx(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(n=s.last,n!==null?n.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Pa(),t.sibling=null,n=ca.current,Fo(ca,r?n&1|2:n&1),t):(Zs(t),null);case 22:case 23:return OL(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?fc&1073741824&&(Zs(t),t.subtreeFlags&6&&(t.flags|=8192)):Zs(t),null;case 24:return null;case 25:return null}throw Error(Wn(156,t.tag))}function Gbe(e,t){switch(dL(t),t.tag){case 1:return jl(t.type)&&EE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return P0(),Vo($l),Vo(Ys),_L(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bL(t),null;case 13:if(Vo(ca),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Wn(340));E0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vo(ca),null;case 4:return P0(),null;case 10:return mL(t.type._context),null;case 22:case 23:return OL(),null;case 24:return null;default:return null}}var LC=!1,Gs=!1,Kbe=typeof WeakSet=="function"?WeakSet:Set,_r=null;function Wv(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ya(e,t,r)}else n.current=null}function aN(e,t,n){try{n()}catch(r){ya(e,t,r)}}var vU=!1;function qbe(e,t){if(Uk=SE,e=Mte(),cL(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var c=0,h=-1,o=-1,m=0,y=0,v=e,S=null;t:for(;;){for(var C;v!==n||i!==0&&v.nodeType!==3||(h=c+i),v!==s||r!==0&&v.nodeType!==3||(o=c+r),v.nodeType===3&&(c+=v.nodeValue.length),(C=v.firstChild)!==null;)S=v,v=C;for(;;){if(v===e)break t;if(S===n&&++m===i&&(h=c),S===s&&++y===r&&(o=c),(C=v.nextSibling)!==null)break;v=S,S=v.parentNode}v=C}n=h===-1||o===-1?null:{start:h,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hk={focusedElem:e,selectionRange:n},SE=!1,_r=t;_r!==null;)if(t=_r,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_r=e;else for(;_r!==null;){t=_r;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var I=P.memoizedProps,N=P.memoizedState,D=t.stateNode,k=D.getSnapshotBeforeUpdate(t.elementType===t.type?I:Pu(t.type,I),N);D.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var F=t.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Wn(163))}}catch(U){ya(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,_r=e;break}_r=t.return}return P=vU,vU=!1,P}function Yx(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&aN(t,n,s)}i=i.next}while(i!==r)}}function QP(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sN(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sne(e){var t=e.alternate;t!==null&&(e.alternate=null,Sne(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dd],delete t[Pw],delete t[Gk],delete t[Obe],delete t[kbe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ane(e){return e.tag===5||e.tag===3||e.tag===4}function bU(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ane(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ME));else if(r!==4&&(e=e.child,e!==null))for(lN(e,t,n),e=e.sibling;e!==null;)lN(e,t,n),e=e.sibling}function cN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(cN(e,t,n),e=e.sibling;e!==null;)cN(e,t,n),e=e.sibling}var Ps=null,Iu=!1;function Gp(e,t,n){for(n=n.child;n!==null;)Cne(e,t,n),n=n.sibling}function Cne(e,t,n){if(Vd&&typeof Vd.onCommitFiberUnmount=="function")try{Vd.onCommitFiberUnmount(VP,n)}catch{}switch(n.tag){case 5:Gs||Wv(n,t);case 6:var r=Ps,i=Iu;Ps=null,Gp(e,t,n),Ps=r,Iu=i,Ps!==null&&(Iu?(e=Ps,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ps.removeChild(n.stateNode));break;case 18:Ps!==null&&(Iu?(e=Ps,n=n.stateNode,e.nodeType===8?c2(e.parentNode,n):e.nodeType===1&&c2(e,n),Aw(e)):c2(Ps,n.stateNode));break;case 4:r=Ps,i=Iu,Ps=n.stateNode.containerInfo,Iu=!0,Gp(e,t,n),Ps=r,Iu=i;break;case 0:case 11:case 14:case 15:if(!Gs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,c=s.destroy;s=s.tag,c!==void 0&&(s&2||s&4)&&aN(n,t,c),i=i.next}while(i!==r)}Gp(e,t,n);break;case 1:if(!Gs&&(Wv(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){ya(n,t,h)}Gp(e,t,n);break;case 21:Gp(e,t,n);break;case 22:n.mode&1?(Gs=(r=Gs)||n.memoizedState!==null,Gp(e,t,n),Gs=r):Gp(e,t,n);break;default:Gp(e,t,n)}}function _U(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Kbe),t.forEach(function(r){var i=i_e.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Au(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,c=t,h=c;e:for(;h!==null;){switch(h.tag){case 5:Ps=h.stateNode,Iu=!1;break e;case 3:Ps=h.stateNode.containerInfo,Iu=!0;break e;case 4:Ps=h.stateNode.containerInfo,Iu=!0;break e}h=h.return}if(Ps===null)throw Error(Wn(160));Cne(s,c,i),Ps=null,Iu=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(m){ya(i,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mne(t,e),t=t.sibling}function Mne(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Au(t,e),Td(e),r&4){try{Yx(3,e,e.return),QP(3,e)}catch(I){ya(e,e.return,I)}try{Yx(5,e,e.return)}catch(I){ya(e,e.return,I)}}break;case 1:Au(t,e),Td(e),r&512&&n!==null&&Wv(n,n.return);break;case 5:if(Au(t,e),Td(e),r&512&&n!==null&&Wv(n,n.return),e.flags&32){var i=e.stateNode;try{_w(i,"")}catch(I){ya(e,e.return,I)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,c=n!==null?n.memoizedProps:s,h=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{h==="input"&&s.type==="radio"&&s.name!=null&&Gee(i,s),Nk(h,c);var m=Nk(h,s);for(c=0;c<o.length;c+=2){var y=o[c],v=o[c+1];y==="style"?Jee(i,v):y==="dangerouslySetInnerHTML"?Xee(i,v):y==="children"?_w(i,v):XD(i,y,v,m)}switch(h){case"input":Tk(i,s);break;case"textarea":Kee(i,s);break;case"select":var S=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var C=s.value;C!=null?a0(i,!!s.multiple,C,!1):S!==!!s.multiple&&(s.defaultValue!=null?a0(i,!!s.multiple,s.defaultValue,!0):a0(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pw]=s}catch(I){ya(e,e.return,I)}}break;case 6:if(Au(t,e),Td(e),r&4){if(e.stateNode===null)throw Error(Wn(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(I){ya(e,e.return,I)}}break;case 3:if(Au(t,e),Td(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Aw(t.containerInfo)}catch(I){ya(e,e.return,I)}break;case 4:Au(t,e),Td(e);break;case 13:Au(t,e),Td(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(PL=Pa())),r&4&&_U(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(Gs=(m=Gs)||y,Au(t,e),Gs=m):Au(t,e),Td(e),r&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!y&&e.mode&1)for(_r=e,y=e.child;y!==null;){for(v=_r=y;_r!==null;){switch(S=_r,C=S.child,S.tag){case 0:case 11:case 14:case 15:Yx(4,S,S.return);break;case 1:Wv(S,S.return);var P=S.stateNode;if(typeof P.componentWillUnmount=="function"){r=S,n=S.return;try{t=r,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(I){ya(r,n,I)}}break;case 5:Wv(S,S.return);break;case 22:if(S.memoizedState!==null){wU(v);continue}}C!==null?(C.return=S,_r=C):wU(v)}y=y.sibling}e:for(y=null,v=e;;){if(v.tag===5){if(y===null){y=v;try{i=v.stateNode,m?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(h=v.stateNode,o=v.memoizedProps.style,c=o!=null&&o.hasOwnProperty("display")?o.display:null,h.style.display=Yee("display",c))}catch(I){ya(e,e.return,I)}}}else if(v.tag===6){if(y===null)try{v.stateNode.nodeValue=m?"":v.memoizedProps}catch(I){ya(e,e.return,I)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;y===v&&(y=null),v=v.return}y===v&&(y=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Au(t,e),Td(e),r&4&&_U(e);break;case 21:break;default:Au(t,e),Td(e)}}function Td(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ane(n)){var r=n;break e}n=n.return}throw Error(Wn(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_w(i,""),r.flags&=-33);var s=bU(e);cN(e,s,i);break;case 3:case 4:var c=r.stateNode.containerInfo,h=bU(e);lN(e,h,c);break;default:throw Error(Wn(161))}}catch(o){ya(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xbe(e,t,n){_r=e,Ene(e)}function Ene(e,t,n){for(var r=(e.mode&1)!==0;_r!==null;){var i=_r,s=i.child;if(i.tag===22&&r){var c=i.memoizedState!==null||LC;if(!c){var h=i.alternate,o=h!==null&&h.memoizedState!==null||Gs;h=LC;var m=Gs;if(LC=c,(Gs=o)&&!m)for(_r=i;_r!==null;)c=_r,o=c.child,c.tag===22&&c.memoizedState!==null?SU(i):o!==null?(o.return=c,_r=o):SU(i);for(;s!==null;)_r=s,Ene(s),s=s.sibling;_r=i,LC=h,Gs=m}xU(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,_r=s):xU(e)}}function xU(e){for(;_r!==null;){var t=_r;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gs||QP(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Gs)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Pu(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&iU(t,s,r);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iU(t,c,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var y=m.memoizedState;if(y!==null){var v=y.dehydrated;v!==null&&Aw(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Wn(163))}Gs||t.flags&512&&sN(t)}catch(S){ya(t,t.return,S)}}if(t===e){_r=null;break}if(n=t.sibling,n!==null){n.return=t.return,_r=n;break}_r=t.return}}function wU(e){for(;_r!==null;){var t=_r;if(t===e){_r=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_r=n;break}_r=t.return}}function SU(e){for(;_r!==null;){var t=_r;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{QP(4,t)}catch(o){ya(t,n,o)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(o){ya(t,i,o)}}var s=t.return;try{sN(t)}catch(o){ya(t,s,o)}break;case 5:var c=t.return;try{sN(t)}catch(o){ya(t,c,o)}}}catch(o){ya(t,t.return,o)}if(t===e){_r=null;break}var h=t.sibling;if(h!==null){h.return=t.return,_r=h;break}_r=t.return}}var Ybe=Math.ceil,FE=up.ReactCurrentDispatcher,EL=up.ReactCurrentOwner,Yc=up.ReactCurrentBatchConfig,Yi=0,bs=null,Ha=null,Os=0,fc=0,Gv=Bf(0),es=0,Dw=null,Fg=0,e3=0,TL=0,Jx=null,Nl=null,PL=0,O0=1/0,kh=null,$E=!1,uN=null,Sf=null,FC=!1,df=null,jE=0,Qx=0,dN=null,GM=-1,KM=0;function ml(){return Yi&6?Pa():GM!==-1?GM:GM=Pa()}function Af(e){return e.mode&1?Yi&2&&Os!==0?Os&-Os:Rbe.transition!==null?(KM===0&&(KM=ute()),KM):(e=_o,e!==0||(e=window.event,e=e===void 0?16:yte(e.type)),e):1}function Hu(e,t,n,r){if(50<Qx)throw Qx=0,dN=null,Error(Wn(185));GS(e,n,r),(!(Yi&2)||e!==bs)&&(e===bs&&(!(Yi&2)&&(e3|=n),es===4&&lf(e,Os)),zl(e,r),n===1&&Yi===0&&!(t.mode&1)&&(O0=Pa()+500,XP&&Zf()))}function zl(e,t){var n=e.callbackNode;R0e(e,t);var r=wE(e,e===bs?Os:0);if(r===0)n!==null&&kZ(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kZ(n),t===1)e.tag===0?Nbe(AU.bind(null,e)):Lte(AU.bind(null,e)),Pbe(function(){!(Yi&6)&&Zf()}),n=null;else{switch(dte(r)){case 1:n=tL;break;case 4:n=lte;break;case 16:n=xE;break;case 536870912:n=cte;break;default:n=xE}n=Dne(n,Tne.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Tne(e,t){if(GM=-1,KM=0,Yi&6)throw Error(Wn(327));var n=e.callbackNode;if(d0()&&e.callbackNode!==n)return null;var r=wE(e,e===bs?Os:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=zE(e,r);else{t=r;var i=Yi;Yi|=2;var s=Ine();(bs!==e||Os!==t)&&(kh=null,O0=Pa()+500,Ag(e,t));do try{e_e();break}catch(h){Pne(e,h)}while(!0);fL(),FE.current=s,Yi=i,Ha!==null?t=0:(bs=null,Os=0,t=es)}if(t!==0){if(t===2&&(i=$k(e),i!==0&&(r=i,t=hN(e,i))),t===1)throw n=Dw,Ag(e,0),lf(e,r),zl(e,Pa()),n;if(t===6)lf(e,r);else{if(i=e.current.alternate,!(r&30)&&!Jbe(i)&&(t=zE(e,r),t===2&&(s=$k(e),s!==0&&(r=s,t=hN(e,s))),t===1))throw n=Dw,Ag(e,0),lf(e,r),zl(e,Pa()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Wn(345));case 2:eg(e,Nl,kh);break;case 3:if(lf(e,r),(r&130023424)===r&&(t=PL+500-Pa(),10<t)){if(wE(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ml(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wk(eg.bind(null,e,Nl,kh),t);break}eg(e,Nl,kh);break;case 4:if(lf(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var c=31-Uu(r);s=1<<c,c=t[c],c>i&&(i=c),r&=~s}if(r=i,r=Pa()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ybe(r/1960))-r,10<r){e.timeoutHandle=Wk(eg.bind(null,e,Nl,kh),r);break}eg(e,Nl,kh);break;case 5:eg(e,Nl,kh);break;default:throw Error(Wn(329))}}}return zl(e,Pa()),e.callbackNode===n?Tne.bind(null,e):null}function hN(e,t){var n=Jx;return e.current.memoizedState.isDehydrated&&(Ag(e,t).flags|=256),e=zE(e,t),e!==2&&(t=Nl,Nl=n,t!==null&&pN(t)),e}function pN(e){Nl===null?Nl=e:Nl.push.apply(Nl,e)}function Jbe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xu(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lf(e,t){for(t&=~TL,t&=~e3,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Uu(t),r=1<<n;e[n]=-1,t&=~r}}function AU(e){if(Yi&6)throw Error(Wn(327));d0();var t=wE(e,0);if(!(t&1))return zl(e,Pa()),null;var n=zE(e,t);if(e.tag!==0&&n===2){var r=$k(e);r!==0&&(t=r,n=hN(e,r))}if(n===1)throw n=Dw,Ag(e,0),lf(e,t),zl(e,Pa()),n;if(n===6)throw Error(Wn(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,eg(e,Nl,kh),zl(e,Pa()),null}function IL(e,t){var n=Yi;Yi|=1;try{return e(t)}finally{Yi=n,Yi===0&&(O0=Pa()+500,XP&&Zf())}}function $g(e){df!==null&&df.tag===0&&!(Yi&6)&&d0();var t=Yi;Yi|=1;var n=Yc.transition,r=_o;try{if(Yc.transition=null,_o=1,e)return e()}finally{_o=r,Yc.transition=n,Yi=t,!(Yi&6)&&Zf()}}function OL(){fc=Gv.current,Vo(Gv)}function Ag(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Tbe(n)),Ha!==null)for(n=Ha.return;n!==null;){var r=n;switch(dL(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&EE();break;case 3:P0(),Vo($l),Vo(Ys),_L();break;case 5:bL(r);break;case 4:P0();break;case 13:Vo(ca);break;case 19:Vo(ca);break;case 10:mL(r.type._context);break;case 22:case 23:OL()}n=n.return}if(bs=e,Ha=e=Cf(e.current,null),Os=fc=t,es=0,Dw=null,TL=e3=Fg=0,Nl=Jx=null,dg!==null){for(t=0;t<dg.length;t++)if(n=dg[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var c=s.next;s.next=i,r.next=c}n.pending=r}dg=null}return e}function Pne(e,t){do{var n=Ha;try{if(fL(),HM.current=LE,DE){for(var r=ua.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}DE=!1}if(Lg=0,gs=Qa=ua=null,Xx=!1,kw=0,EL.current=null,n===null||n.return===null){es=1,Dw=t,Ha=null;break}e:{var s=e,c=n.return,h=n,o=t;if(t=Os,h.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var m=o,y=h,v=y.tag;if(!(y.mode&1)&&(v===0||v===11||v===15)){var S=y.alternate;S?(y.updateQueue=S.updateQueue,y.memoizedState=S.memoizedState,y.lanes=S.lanes):(y.updateQueue=null,y.memoizedState=null)}var C=dU(c);if(C!==null){C.flags&=-257,hU(C,c,h,s,t),C.mode&1&&uU(s,m,t),t=C,o=m;var P=t.updateQueue;if(P===null){var I=new Set;I.add(o),t.updateQueue=I}else P.add(o);break e}else{if(!(t&1)){uU(s,m,t),kL();break e}o=Error(Wn(426))}}else if(ta&&h.mode&1){var N=dU(c);if(N!==null){!(N.flags&65536)&&(N.flags|=256),hU(N,c,h,s,t),hL(I0(o,h));break e}}s=o=I0(o,h),es!==4&&(es=2),Jx===null?Jx=[s]:Jx.push(s),s=c;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var D=hne(s,o,t);rU(s,D);break e;case 1:h=o;var k=s.type,F=s.stateNode;if(!(s.flags&128)&&(typeof k.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Sf===null||!Sf.has(F)))){s.flags|=65536,t&=-t,s.lanes|=t;var U=pne(s,h,t);rU(s,U);break e}}s=s.return}while(s!==null)}kne(n)}catch(B){t=B,Ha===n&&n!==null&&(Ha=n=n.return);continue}break}while(!0)}function Ine(){var e=FE.current;return FE.current=LE,e===null?LE:e}function kL(){(es===0||es===3||es===2)&&(es=4),bs===null||!(Fg&268435455)&&!(e3&268435455)||lf(bs,Os)}function zE(e,t){var n=Yi;Yi|=2;var r=Ine();(bs!==e||Os!==t)&&(kh=null,Ag(e,t));do try{Qbe();break}catch(i){Pne(e,i)}while(!0);if(fL(),Yi=n,FE.current=r,Ha!==null)throw Error(Wn(261));return bs=null,Os=0,es}function Qbe(){for(;Ha!==null;)One(Ha)}function e_e(){for(;Ha!==null&&!C0e();)One(Ha)}function One(e){var t=Rne(e.alternate,e,fc);e.memoizedProps=e.pendingProps,t===null?kne(e):Ha=t,EL.current=null}function kne(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Gbe(n,t),n!==null){n.flags&=32767,Ha=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{es=6,Ha=null;return}}else if(n=Wbe(n,t,fc),n!==null){Ha=n;return}if(t=t.sibling,t!==null){Ha=t;return}Ha=t=e}while(t!==null);es===0&&(es=5)}function eg(e,t,n){var r=_o,i=Yc.transition;try{Yc.transition=null,_o=1,t_e(e,t,n,r)}finally{Yc.transition=i,_o=r}return null}function t_e(e,t,n,r){do d0();while(df!==null);if(Yi&6)throw Error(Wn(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Wn(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(D0e(e,s),e===bs&&(Ha=bs=null,Os=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||FC||(FC=!0,Dne(xE,function(){return d0(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Yc.transition,Yc.transition=null;var c=_o;_o=1;var h=Yi;Yi|=4,EL.current=null,qbe(e,n),Mne(n,e),xbe(Hk),SE=!!Uk,Hk=Uk=null,e.current=n,Xbe(n),M0e(),Yi=h,_o=c,Yc.transition=s}else e.current=n;if(FC&&(FC=!1,df=e,jE=i),s=e.pendingLanes,s===0&&(Sf=null),P0e(n.stateNode),zl(e,Pa()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($E)throw $E=!1,e=uN,uN=null,e;return jE&1&&e.tag!==0&&d0(),s=e.pendingLanes,s&1?e===dN?Qx++:(Qx=0,dN=e):Qx=0,Zf(),null}function d0(){if(df!==null){var e=dte(jE),t=Yc.transition,n=_o;try{if(Yc.transition=null,_o=16>e?16:e,df===null)var r=!1;else{if(e=df,df=null,jE=0,Yi&6)throw Error(Wn(331));var i=Yi;for(Yi|=4,_r=e.current;_r!==null;){var s=_r,c=s.child;if(_r.flags&16){var h=s.deletions;if(h!==null){for(var o=0;o<h.length;o++){var m=h[o];for(_r=m;_r!==null;){var y=_r;switch(y.tag){case 0:case 11:case 15:Yx(8,y,s)}var v=y.child;if(v!==null)v.return=y,_r=v;else for(;_r!==null;){y=_r;var S=y.sibling,C=y.return;if(Sne(y),y===m){_r=null;break}if(S!==null){S.return=C,_r=S;break}_r=C}}}var P=s.alternate;if(P!==null){var I=P.child;if(I!==null){P.child=null;do{var N=I.sibling;I.sibling=null,I=N}while(I!==null)}}_r=s}}if(s.subtreeFlags&2064&&c!==null)c.return=s,_r=c;else e:for(;_r!==null;){if(s=_r,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Yx(9,s,s.return)}var D=s.sibling;if(D!==null){D.return=s.return,_r=D;break e}_r=s.return}}var k=e.current;for(_r=k;_r!==null;){c=_r;var F=c.child;if(c.subtreeFlags&2064&&F!==null)F.return=c,_r=F;else e:for(c=k;_r!==null;){if(h=_r,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:QP(9,h)}}catch(B){ya(h,h.return,B)}if(h===c){_r=null;break e}var U=h.sibling;if(U!==null){U.return=h.return,_r=U;break e}_r=h.return}}if(Yi=i,Zf(),Vd&&typeof Vd.onPostCommitFiberRoot=="function")try{Vd.onPostCommitFiberRoot(VP,e)}catch{}r=!0}return r}finally{_o=n,Yc.transition=t}}return!1}function CU(e,t,n){t=I0(n,t),t=hne(e,t,1),e=wf(e,t,1),t=ml(),e!==null&&(GS(e,1,t),zl(e,t))}function ya(e,t,n){if(e.tag===3)CU(e,e,n);else for(;t!==null;){if(t.tag===3){CU(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sf===null||!Sf.has(r))){e=I0(n,e),e=pne(t,e,1),t=wf(t,e,1),e=ml(),t!==null&&(GS(t,1,e),zl(t,e));break}}t=t.return}}function n_e(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ml(),e.pingedLanes|=e.suspendedLanes&n,bs===e&&(Os&n)===n&&(es===4||es===3&&(Os&130023424)===Os&&500>Pa()-PL?Ag(e,0):TL|=n),zl(e,t)}function Nne(e,t){t===0&&(e.mode&1?(t=EC,EC<<=1,!(EC&130023424)&&(EC=4194304)):t=1);var n=ml();e=ep(e,t),e!==null&&(GS(e,t,n),zl(e,n))}function r_e(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Nne(e,n)}function i_e(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Wn(314))}r!==null&&r.delete(t),Nne(e,n)}var Rne;Rne=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$l.current)Dl=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dl=!1,Vbe(e,t,n);Dl=!!(e.flags&131072)}else Dl=!1,ta&&t.flags&1048576&&Fte(t,IE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;WM(e,t),e=t.pendingProps;var i=M0(t,Ys.current);u0(t,n),i=wL(null,t,r,e,i,n);var s=SL();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jl(r)?(s=!0,TE(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yL(t),i.updater=YP,t.stateNode=i,i._reactInternals=t,Qk(t,r,e,n),t=nN(null,t,r,!0,s,n)):(t.tag=0,ta&&s&&uL(t),cl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(WM(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=a_e(r),e=Pu(r,e),i){case 0:t=tN(null,t,r,e,n);break e;case 1:t=mU(null,t,r,e,n);break e;case 11:t=pU(null,t,r,e,n);break e;case 14:t=fU(null,t,r,Pu(r.type,e),n);break e}throw Error(Wn(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pu(r,i),tN(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pu(r,i),mU(e,t,r,i,n);case 3:e:{if(yne(t),e===null)throw Error(Wn(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Bte(e,t),NE(t,r,null,n);var c=t.memoizedState;if(r=c.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=I0(Error(Wn(423)),t),t=gU(e,t,r,n,i);break e}else if(r!==i){i=I0(Error(Wn(424)),t),t=gU(e,t,r,n,i);break e}else for(bc=xf(t.stateNode.containerInfo.firstChild),Sc=t,ta=!0,Lu=null,n=Vte(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(E0(),r===i){t=tp(e,t,n);break e}cl(e,t,r,n)}t=t.child}return t;case 5:return Wte(t),e===null&&Xk(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,c=i.children,Vk(r,i)?c=null:s!==null&&Vk(r,s)&&(t.flags|=32),gne(e,t),cl(e,t,c,n),t.child;case 6:return e===null&&Xk(t),null;case 13:return vne(e,t,n);case 4:return vL(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=T0(t,null,r,n):cl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pu(r,i),pU(e,t,r,i,n);case 7:return cl(e,t,t.pendingProps,n),t.child;case 8:return cl(e,t,t.pendingProps.children,n),t.child;case 12:return cl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,c=i.value,Fo(OE,r._currentValue),r._currentValue=c,s!==null)if(Xu(s.value,c)){if(s.children===i.children&&!$l.current){t=tp(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var h=s.dependencies;if(h!==null){c=s.child;for(var o=h.firstContext;o!==null;){if(o.context===r){if(s.tag===1){o=Wh(-1,n&-n),o.tag=2;var m=s.updateQueue;if(m!==null){m=m.shared;var y=m.pending;y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o}}s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Yk(s.return,n,t),h.lanes|=n;break}o=o.next}}else if(s.tag===10)c=s.type===t.type?null:s.child;else if(s.tag===18){if(c=s.return,c===null)throw Error(Wn(341));c.lanes|=n,h=c.alternate,h!==null&&(h.lanes|=n),Yk(c,n,t),c=s.sibling}else c=s.child;if(c!==null)c.return=s;else for(c=s;c!==null;){if(c===t){c=null;break}if(s=c.sibling,s!==null){s.return=c.return,c=s;break}c=c.return}s=c}cl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,u0(t,n),i=tu(i),r=r(i),t.flags|=1,cl(e,t,r,n),t.child;case 14:return r=t.type,i=Pu(r,t.pendingProps),i=Pu(r.type,i),fU(e,t,r,i,n);case 15:return fne(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pu(r,i),WM(e,t),t.tag=1,jl(r)?(e=!0,TE(t)):e=!1,u0(t,n),Ute(t,r,i),Qk(t,r,i,n),nN(null,t,r,!0,e,n);case 19:return bne(e,t,n);case 22:return mne(e,t,n)}throw Error(Wn(156,t.tag))};function Dne(e,t){return ste(e,t)}function o_e(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kc(e,t,n,r){return new o_e(e,t,n,r)}function NL(e){return e=e.prototype,!(!e||!e.isReactComponent)}function a_e(e){if(typeof e=="function")return NL(e)?1:0;if(e!=null){if(e=e.$$typeof,e===JD)return 11;if(e===QD)return 14}return 2}function Cf(e,t){var n=e.alternate;return n===null?(n=Kc(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qM(e,t,n,r,i,s){var c=2;if(r=e,typeof e=="function")NL(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Fv:return Cg(n.children,i,s,t);case YD:c=8,i|=8;break;case Sk:return e=Kc(12,n,t,i|2),e.elementType=Sk,e.lanes=s,e;case Ak:return e=Kc(13,n,t,i),e.elementType=Ak,e.lanes=s,e;case Ck:return e=Kc(19,n,t,i),e.elementType=Ck,e.lanes=s,e;case Hee:return t3(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zee:c=10;break e;case Uee:c=9;break e;case JD:c=11;break e;case QD:c=14;break e;case nf:c=16,r=null;break e}throw Error(Wn(130,e==null?e:typeof e,""))}return t=Kc(c,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Cg(e,t,n,r){return e=Kc(7,e,r,t),e.lanes=n,e}function t3(e,t,n,r){return e=Kc(22,e,r,t),e.elementType=Hee,e.lanes=n,e.stateNode={isHidden:!1},e}function y2(e,t,n){return e=Kc(6,e,null,t),e.lanes=n,e}function v2(e,t,n){return t=Kc(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function s_e(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=JO(0),this.expirationTimes=JO(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=JO(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function RL(e,t,n,r,i,s,c,h,o){return e=new s_e(e,t,n,h,o),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Kc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yL(s),e}function l_e(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lv,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lne(e){if(!e)return Of;e=e._reactInternals;e:{if(ey(e)!==e||e.tag!==1)throw Error(Wn(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jl(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Wn(171))}if(e.tag===1){var n=e.type;if(jl(n))return Dte(e,n,t)}return t}function Fne(e,t,n,r,i,s,c,h,o){return e=RL(n,r,!0,e,i,s,c,h,o),e.context=Lne(null),n=e.current,r=ml(),i=Af(n),s=Wh(r,i),s.callback=t??null,wf(n,s,i),e.current.lanes=i,GS(e,i,r),zl(e,r),e}function n3(e,t,n,r){var i=t.current,s=ml(),c=Af(i);return n=Lne(n),t.context===null?t.context=n:t.pendingContext=n,t=Wh(s,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=wf(i,t,c),e!==null&&(Hu(e,i,c,s),UM(e,i,c)),c}function BE(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function MU(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function DL(e,t){MU(e,t),(e=e.alternate)&&MU(e,t)}function c_e(){return null}var $ne=typeof reportError=="function"?reportError:function(e){console.error(e)};function LL(e){this._internalRoot=e}r3.prototype.render=LL.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Wn(409));n3(e,t,null,null)};r3.prototype.unmount=LL.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$g(function(){n3(null,e,null,null)}),t[Qh]=null}};function r3(e){this._internalRoot=e}r3.prototype.unstable_scheduleHydration=function(e){if(e){var t=fte();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sf.length&&t!==0&&t<sf[n].priority;n++);sf.splice(n,0,e),n===0&&gte(e)}};function FL(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function i3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function EU(){}function u_e(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var m=BE(c);s.call(m)}}var c=Fne(t,r,e,0,null,!1,!1,"",EU);return e._reactRootContainer=c,e[Qh]=c.current,Ew(e.nodeType===8?e.parentNode:e),$g(),c}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var h=r;r=function(){var m=BE(o);h.call(m)}}var o=RL(e,0,!1,null,null,!1,!1,"",EU);return e._reactRootContainer=o,e[Qh]=o.current,Ew(e.nodeType===8?e.parentNode:e),$g(function(){n3(t,o,n,r)}),o}function o3(e,t,n,r,i){var s=n._reactRootContainer;if(s){var c=s;if(typeof i=="function"){var h=i;i=function(){var o=BE(c);h.call(o)}}n3(t,c,e,i)}else c=u_e(n,t,e,i,r);return BE(c)}hte=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Lx(t.pendingLanes);n!==0&&(nL(t,n|1),zl(t,Pa()),!(Yi&6)&&(O0=Pa()+500,Zf()))}break;case 13:$g(function(){var r=ep(e,1);if(r!==null){var i=ml();Hu(r,e,1,i)}}),DL(e,1)}};rL=function(e){if(e.tag===13){var t=ep(e,134217728);if(t!==null){var n=ml();Hu(t,e,134217728,n)}DL(e,134217728)}};pte=function(e){if(e.tag===13){var t=Af(e),n=ep(e,t);if(n!==null){var r=ml();Hu(n,e,t,r)}DL(e,t)}};fte=function(){return _o};mte=function(e,t){var n=_o;try{return _o=e,t()}finally{_o=n}};Dk=function(e,t,n){switch(t){case"input":if(Tk(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=qP(r);if(!i)throw Error(Wn(90));Wee(r),Tk(r,i)}}}break;case"textarea":Kee(e,n);break;case"select":t=n.value,t!=null&&a0(e,!!n.multiple,t,!1)}};tte=IL;nte=$g;var d_e={usingClientEntryPoint:!1,Events:[qS,Bv,qP,Qee,ete,IL]},ix={findFiberByHostInstance:ug,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},h_e={bundleType:ix.bundleType,version:ix.version,rendererPackageName:ix.rendererPackageName,rendererConfig:ix.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:up.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ote(e),e===null?null:e.stateNode},findFiberByHostInstance:ix.findFiberByHostInstance||c_e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $C=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$C.isDisabled&&$C.supportsFiber)try{VP=$C.inject(h_e),Vd=$C}catch{}}kc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d_e;kc.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!FL(t))throw Error(Wn(200));return l_e(e,t,null,n)};kc.createRoot=function(e,t){if(!FL(e))throw Error(Wn(299));var n=!1,r="",i=$ne;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=RL(e,1,!1,null,null,n,!1,r,i),e[Qh]=t.current,Ew(e.nodeType===8?e.parentNode:e),new LL(t)};kc.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Wn(188)):(e=Object.keys(e).join(","),Error(Wn(268,e)));return e=ote(t),e=e===null?null:e.stateNode,e};kc.flushSync=function(e){return $g(e)};kc.hydrate=function(e,t,n){if(!i3(t))throw Error(Wn(200));return o3(null,e,t,!0,n)};kc.hydrateRoot=function(e,t,n){if(!FL(e))throw Error(Wn(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",c=$ne;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=Fne(t,null,e,1,n??null,i,!1,s,c),e[Qh]=t.current,Ew(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new r3(t)};kc.render=function(e,t,n){if(!i3(t))throw Error(Wn(200));return o3(null,e,t,!1,n)};kc.unmountComponentAtNode=function(e){if(!i3(e))throw Error(Wn(40));return e._reactRootContainer?($g(function(){o3(null,null,e,!1,function(){e._reactRootContainer=null,e[Qh]=null})}),!0):!1};kc.unstable_batchedUpdates=IL;kc.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!i3(n))throw Error(Wn(200));if(e==null||e._reactInternals===void 0)throw Error(Wn(38));return o3(e,t,n,!1,r)};kc.version="18.2.0-next-9e3b772b8-20220608";function jne(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jne)}catch(e){console.error(e)}}jne(),Fee.exports=kc;var Wa=Fee.exports;const Mg=Li(Wa),p_e=Mee({__proto__:null,default:Mg},[Wa]);var TU=Wa;xk.createRoot=TU.createRoot,xk.hydrateRoot=TU.hydrateRoot;function zne(e){return t=>typeof t===e}var f_e=zne("function"),m_e=e=>e===null,PU=e=>Object.prototype.toString.call(e).slice(8,-1)==="RegExp",IU=e=>!g_e(e)&&!m_e(e)&&(f_e(e)||typeof e=="object"),g_e=zne("undefined");function y_e(e,t){const{length:n}=e;if(n!==t.length)return!1;for(let r=n;r--!==0;)if(!pl(e[r],t[r]))return!1;return!0}function v_e(e,t){if(e.byteLength!==t.byteLength)return!1;const n=new DataView(e.buffer),r=new DataView(t.buffer);let i=e.byteLength;for(;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function b_e(e,t){if(e.size!==t.size)return!1;for(const n of e.entries())if(!t.has(n[0]))return!1;for(const n of e.entries())if(!pl(n[1],t.get(n[0])))return!1;return!0}function __e(e,t){if(e.size!==t.size)return!1;for(const n of e.entries())if(!t.has(n[0]))return!1;return!0}function pl(e,t){if(e===t)return!0;if(e&&IU(e)&&t&&IU(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return y_e(e,t);if(e instanceof Map&&t instanceof Map)return b_e(e,t);if(e instanceof Set&&t instanceof Set)return __e(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return v_e(e,t);if(PU(e)&&PU(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[i]))return!1;for(let i=n.length;i--!==0;){const s=n[i];if(!(s==="_owner"&&e.$$typeof)&&!pl(e[s],t[s]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}var x_e=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],w_e=["bigint","boolean","null","number","string","symbol","undefined"];function a3(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(S_e(t))return t}function ed(e){return t=>a3(t)===e}function S_e(e){return x_e.includes(e)}function Ab(e){return t=>typeof t===e}function A_e(e){return w_e.includes(e)}var C_e=["innerHTML","ownerDocument","style","attributes","nodeValue"];function vr(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(vr.array(e))return"Array";if(vr.plainFunction(e))return"Function";const t=a3(e);return t||"Object"}vr.array=Array.isArray;vr.arrayOf=(e,t)=>!vr.array(e)&&!vr.function(t)?!1:e.every(n=>t(n));vr.asyncGeneratorFunction=e=>a3(e)==="AsyncGeneratorFunction";vr.asyncFunction=ed("AsyncFunction");vr.bigint=Ab("bigint");vr.boolean=e=>e===!0||e===!1;vr.date=ed("Date");vr.defined=e=>!vr.undefined(e);vr.domElement=e=>vr.object(e)&&!vr.plainObject(e)&&e.nodeType===1&&vr.string(e.nodeName)&&C_e.every(t=>t in e);vr.empty=e=>vr.string(e)&&e.length===0||vr.array(e)&&e.length===0||vr.object(e)&&!vr.map(e)&&!vr.set(e)&&Object.keys(e).length===0||vr.set(e)&&e.size===0||vr.map(e)&&e.size===0;vr.error=ed("Error");vr.function=Ab("function");vr.generator=e=>vr.iterable(e)&&vr.function(e.next)&&vr.function(e.throw);vr.generatorFunction=ed("GeneratorFunction");vr.instanceOf=(e,t)=>!e||!t?!1:Object.getPrototypeOf(e)===t.prototype;vr.iterable=e=>!vr.nullOrUndefined(e)&&vr.function(e[Symbol.iterator]);vr.map=ed("Map");vr.nan=e=>Number.isNaN(e);vr.null=e=>e===null;vr.nullOrUndefined=e=>vr.null(e)||vr.undefined(e);vr.number=e=>Ab("number")(e)&&!vr.nan(e);vr.numericString=e=>vr.string(e)&&e.length>0&&!Number.isNaN(Number(e));vr.object=e=>!vr.nullOrUndefined(e)&&(vr.function(e)||typeof e=="object");vr.oneOf=(e,t)=>vr.array(e)?e.indexOf(t)>-1:!1;vr.plainFunction=ed("Function");vr.plainObject=e=>{if(a3(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};vr.primitive=e=>vr.null(e)||A_e(typeof e);vr.promise=ed("Promise");vr.propertyOf=(e,t,n)=>{if(!vr.object(e)||!t)return!1;const r=e[t];return vr.function(n)?n(r):vr.defined(r)};vr.regexp=ed("RegExp");vr.set=ed("Set");vr.string=Ab("string");vr.symbol=Ab("symbol");vr.undefined=Ab("undefined");vr.weakMap=ed("WeakMap");vr.weakSet=ed("WeakSet");var Sr=vr;function M_e(...e){return e.every(t=>Sr.string(t)||Sr.array(t)||Sr.plainObject(t))}function E_e(e,t,n){return Bne(e,t)?[e,t].every(Sr.array)?!e.some(DU(n))&&t.some(DU(n)):[e,t].every(Sr.plainObject)?!Object.entries(e).some(RU(n))&&Object.entries(t).some(RU(n)):t===n:!1}function OU(e,t,n){const{actual:r,key:i,previous:s,type:c}=n,h=jd(e,i),o=jd(t,i);let m=[h,o].every(Sr.number)&&(c==="increased"?h<o:h>o);return Sr.undefined(r)||(m=m&&o===r),Sr.undefined(s)||(m=m&&h===s),m}function kU(e,t,n){const{key:r,type:i,value:s}=n,c=jd(e,r),h=jd(t,r),o=i==="added"?c:h,m=i==="added"?h:c;if(!Sr.nullOrUndefined(s)){if(Sr.defined(o)){if(Sr.array(o)||Sr.plainObject(o))return E_e(o,m,s)}else return pl(m,s);return!1}return[c,h].every(Sr.array)?!m.every($L(o)):[c,h].every(Sr.plainObject)?T_e(Object.keys(o),Object.keys(m)):![c,h].every(y=>Sr.primitive(y)&&Sr.defined(y))&&(i==="added"?!Sr.defined(c)&&Sr.defined(h):Sr.defined(c)&&!Sr.defined(h))}function NU(e,t,{key:n}={}){let r=jd(e,n),i=jd(t,n);if(!Bne(r,i))throw new TypeError("Inputs have different types");if(!M_e(r,i))throw new TypeError("Inputs don't have length");return[r,i].every(Sr.plainObject)&&(r=Object.keys(r),i=Object.keys(i)),[r,i]}function RU(e){return([t,n])=>Sr.array(e)?pl(e,n)||e.some(r=>pl(r,n)||Sr.array(n)&&$L(n)(r)):Sr.plainObject(e)&&e[t]?!!e[t]&&pl(e[t],n):pl(e,n)}function T_e(e,t){return t.some(n=>!e.includes(n))}function DU(e){return t=>Sr.array(e)?e.some(n=>pl(n,t)||Sr.array(t)&&$L(t)(n)):pl(e,t)}function ox(e,t){return Sr.array(e)?e.some(n=>pl(n,t)):pl(e,t)}function $L(e){return t=>e.some(n=>pl(n,t))}function Bne(...e){return e.every(Sr.array)||e.every(Sr.number)||e.every(Sr.plainObject)||e.every(Sr.string)}function jd(e,t){return Sr.plainObject(e)||Sr.array(e)?Sr.string(t)?t.split(".").reduce((r,i)=>r&&r[i],e):Sr.number(t)?e[t]:e:e}function ZE(e,t){if([e,t].some(Sr.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(y=>Sr.plainObject(y)||Sr.array(y)))throw new Error("Expected plain objects or array");return{added:(y,v)=>{try{return kU(e,t,{key:y,type:"added",value:v})}catch{return!1}},changed:(y,v,S)=>{try{const C=jd(e,y),P=jd(t,y),I=Sr.defined(v),N=Sr.defined(S);if(I||N){const D=N?ox(S,C):!ox(v,C),k=ox(v,P);return D&&k}return[C,P].every(Sr.array)||[C,P].every(Sr.plainObject)?!pl(C,P):C!==P}catch{return!1}},changedFrom:(y,v,S)=>{if(!Sr.defined(y))return!1;try{const C=jd(e,y),P=jd(t,y),I=Sr.defined(S);return ox(v,C)&&(I?ox(S,P):!I)}catch{return!1}},decreased:(y,v,S)=>{if(!Sr.defined(y))return!1;try{return OU(e,t,{key:y,actual:v,previous:S,type:"decreased"})}catch{return!1}},emptied:y=>{try{const[v,S]=NU(e,t,{key:y});return!!v.length&&!S.length}catch{return!1}},filled:y=>{try{const[v,S]=NU(e,t,{key:y});return!v.length&&!!S.length}catch{return!1}},increased:(y,v,S)=>{if(!Sr.defined(y))return!1;try{return OU(e,t,{key:y,actual:v,previous:S,type:"increased"})}catch{return!1}},removed:(y,v)=>{try{return kU(e,t,{key:y,type:"removed",value:v})}catch{return!1}}}}var P_e=new Error("Element already at target scroll position"),I_e=new Error("Scroll cancelled"),O_e=Math.min,LU=Date.now,k_e={left:FU("scrollLeft"),top:FU("scrollTop")};function FU(e){return function(n,r,i,s){i=i||{},typeof i=="function"&&(s=i,i={}),typeof s!="function"&&(s=R_e);var c=LU(),h=n[e],o=i.ease||N_e,m=isNaN(i.duration)?350:+i.duration,y=!1;return h===r?s(P_e,n[e]):requestAnimationFrame(S),v;function v(){y=!0}function S(C){if(y)return s(I_e,n[e]);var P=LU(),I=O_e(1,(P-c)/m),N=o(I);n[e]=N*(r-h)+h,I<1?requestAnimationFrame(S):requestAnimationFrame(function(){s(null,n[e])})}}}function N_e(e){return .5*(1-Math.cos(Math.PI*e))}function R_e(){}const D_e=Li(k_e);var Zne={exports:{}};(function(e){(function(t,n){e.exports?e.exports=n():t.Scrollparent=n()})($d,function(){function t(r){var i=getComputedStyle(r,null).getPropertyValue("overflow");return i.indexOf("scroll")>-1||i.indexOf("auto")>-1}function n(r){if(r instanceof HTMLElement||r instanceof SVGElement){for(var i=r.parentNode;i.parentNode;){if(t(i))return i;i=i.parentNode}return document.scrollingElement||document.documentElement}}return n})})(Zne);var L_e=Zne.exports;const Une=Li(L_e);var F_e=function(e){return Object.prototype.hasOwnProperty.call(e,"props")},$_e=function(e,t){return e+Lw(t)},Lw=function(e){return e===null||typeof e=="boolean"||typeof e>"u"?"":typeof e=="number"?e.toString():typeof e=="string"?e:Array.isArray(e)?e.reduce($_e,""):F_e(e)&&Object.prototype.hasOwnProperty.call(e.props,"children")?Lw(e.props.children):""};Lw.default=Lw;var j_e=Lw;const $U=Li(j_e);var z_e=function(t){return B_e(t)&&!Z_e(t)};function B_e(e){return!!e&&typeof e=="object"}function Z_e(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||V_e(e)}var U_e=typeof Symbol=="function"&&Symbol.for,H_e=U_e?Symbol.for("react.element"):60103;function V_e(e){return e.$$typeof===H_e}function W_e(e){return Array.isArray(e)?[]:{}}function Fw(e,t){return t.clone!==!1&&t.isMergeableObject(e)?k0(W_e(e),e,t):e}function G_e(e,t,n){return e.concat(t).map(function(r){return Fw(r,n)})}function K_e(e,t){if(!t.customMerge)return k0;var n=t.customMerge(e);return typeof n=="function"?n:k0}function q_e(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function jU(e){return Object.keys(e).concat(q_e(e))}function Hne(e,t){try{return t in e}catch{return!1}}function X_e(e,t){return Hne(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function Y_e(e,t,n){var r={};return n.isMergeableObject(e)&&jU(e).forEach(function(i){r[i]=Fw(e[i],n)}),jU(t).forEach(function(i){X_e(e,i)||(Hne(e,i)&&n.isMergeableObject(t[i])?r[i]=K_e(i,n)(e[i],t[i],n):r[i]=Fw(t[i],n))}),r}function k0(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||G_e,n.isMergeableObject=n.isMergeableObject||z_e,n.cloneUnlessOtherwiseSpecified=Fw;var r=Array.isArray(t),i=Array.isArray(e),s=r===i;return s?r?n.arrayMerge(e,t,n):Y_e(e,t,n):Fw(t,n)}k0.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return k0(r,i,n)},{})};var J_e=k0,Q_e=J_e;const Bu=Li(Q_e);var Vne={exports:{}},e1e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",t1e=e1e,n1e=t1e;function Wne(){}function Gne(){}Gne.resetWarningCache=Wne;var r1e=function(){function e(r,i,s,c,h,o){if(o!==n1e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Gne,resetWarningCache:Wne};return n.PropTypes=n,n};Vne.exports=r1e();var i1e=Vne.exports;const An=Li(i1e);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var YS=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",o1e=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(YS&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();function a1e(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function s1e(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},o1e))}}var l1e=YS&&window.Promise,c1e=l1e?a1e:s1e;function Kne(e){var t={};return e&&t.toString.call(e)==="[object Function]"}function ty(e,t){if(e.nodeType!==1)return[];var n=e.ownerDocument.defaultView,r=n.getComputedStyle(e,null);return t?r[t]:r}function jL(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function JS(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=ty(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:JS(jL(e))}function qne(e){return e&&e.referenceNode?e.referenceNode:e}var zU=YS&&!!(window.MSInputMethodContext&&document.documentMode),BU=YS&&/MSIE 10/.test(navigator.userAgent);function Cb(e){return e===11?zU:e===10?BU:zU||BU}function N0(e){if(!e)return document.documentElement;for(var t=Cb(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&ty(n,"position")==="static"?N0(n):n}function u1e(e){var t=e.nodeName;return t==="BODY"?!1:t==="HTML"||N0(e.firstElementChild)===e}function fN(e){return e.parentNode!==null?fN(e.parentNode):e}function UE(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);var c=s.commonAncestorContainer;if(e!==c&&t!==c||r.contains(i))return u1e(c)?c:N0(c);var h=fN(e);return h.host?UE(h.host,t):UE(e,fN(t).host)}function R0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=t==="top"?"scrollTop":"scrollLeft",r=e.nodeName;if(r==="BODY"||r==="HTML"){var i=e.ownerDocument.documentElement,s=e.ownerDocument.scrollingElement||i;return s[n]}return e[n]}function d1e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=R0(t,"top"),i=R0(t,"left"),s=n?-1:1;return e.top+=r*s,e.bottom+=r*s,e.left+=i*s,e.right+=i*s,e}function ZU(e,t){var n=t==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function UU(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],Cb(10)?parseInt(n["offset"+e])+parseInt(r["margin"+(e==="Height"?"Top":"Left")])+parseInt(r["margin"+(e==="Height"?"Bottom":"Right")]):0)}function Xne(e){var t=e.body,n=e.documentElement,r=Cb(10)&&getComputedStyle(n);return{height:UU("Height",t,n,r),width:UU("Width",t,n,r)}}var h1e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},p1e=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),D0=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},qc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function kf(e){return qc({},e,{right:e.left+e.width,bottom:e.top+e.height})}function mN(e){var t={};try{if(Cb(10)){t=e.getBoundingClientRect();var n=R0(e,"top"),r=R0(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch{}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s=e.nodeName==="HTML"?Xne(e.ownerDocument):{},c=s.width||e.clientWidth||i.width,h=s.height||e.clientHeight||i.height,o=e.offsetWidth-c,m=e.offsetHeight-h;if(o||m){var y=ty(e);o-=ZU(y,"x"),m-=ZU(y,"y"),i.width-=o,i.height-=m}return kf(i)}function zL(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Cb(10),i=t.nodeName==="HTML",s=mN(e),c=mN(t),h=JS(e),o=ty(t),m=parseFloat(o.borderTopWidth),y=parseFloat(o.borderLeftWidth);n&&i&&(c.top=Math.max(c.top,0),c.left=Math.max(c.left,0));var v=kf({top:s.top-c.top-m,left:s.left-c.left-y,width:s.width,height:s.height});if(v.marginTop=0,v.marginLeft=0,!r&&i){var S=parseFloat(o.marginTop),C=parseFloat(o.marginLeft);v.top-=m-S,v.bottom-=m-S,v.left-=y-C,v.right-=y-C,v.marginTop=S,v.marginLeft=C}return(r&&!n?t.contains(h):t===h&&h.nodeName!=="BODY")&&(v=d1e(v,t)),v}function f1e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=e.ownerDocument.documentElement,r=zL(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),c=t?0:R0(n),h=t?0:R0(n,"left"),o={top:c-r.top+r.marginTop,left:h-r.left+r.marginLeft,width:i,height:s};return kf(o)}function Yne(e){var t=e.nodeName;if(t==="BODY"||t==="HTML")return!1;if(ty(e,"position")==="fixed")return!0;var n=jL(e);return n?Yne(n):!1}function Jne(e){if(!e||!e.parentElement||Cb())return document.documentElement;for(var t=e.parentElement;t&&ty(t,"transform")==="none";)t=t.parentElement;return t||document.documentElement}function BL(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s={top:0,left:0},c=i?Jne(e):UE(e,qne(t));if(r==="viewport")s=f1e(c,i);else{var h=void 0;r==="scrollParent"?(h=JS(jL(t)),h.nodeName==="BODY"&&(h=e.ownerDocument.documentElement)):r==="window"?h=e.ownerDocument.documentElement:h=r;var o=zL(h,c,i);if(h.nodeName==="HTML"&&!Yne(c)){var m=Xne(e.ownerDocument),y=m.height,v=m.width;s.top+=o.top-o.marginTop,s.bottom=y+o.top,s.left+=o.left-o.marginLeft,s.right=v+o.left}else s=o}n=n||0;var S=typeof n=="number";return s.left+=S?n:n.left||0,s.top+=S?n:n.top||0,s.right-=S?n:n.right||0,s.bottom-=S?n:n.bottom||0,s}function m1e(e){var t=e.width,n=e.height;return t*n}function Qne(e,t,n,r,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var c=BL(n,r,s,i),h={top:{width:c.width,height:t.top-c.top},right:{width:c.right-t.right,height:c.height},bottom:{width:c.width,height:c.bottom-t.bottom},left:{width:t.left-c.left,height:c.height}},o=Object.keys(h).map(function(S){return qc({key:S},h[S],{area:m1e(h[S])})}).sort(function(S,C){return C.area-S.area}),m=o.filter(function(S){var C=S.width,P=S.height;return C>=n.clientWidth&&P>=n.clientHeight}),y=m.length>0?m[0].key:o[0].key,v=e.split("-")[1];return y+(v?"-"+v:"")}function ere(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=r?Jne(t):UE(t,qne(n));return zL(n,i,r)}function tre(e){var t=e.ownerDocument.defaultView,n=t.getComputedStyle(e),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),s={width:e.offsetWidth+i,height:e.offsetHeight+r};return s}function HE(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(n){return t[n]})}function nre(e,t,n){n=n.split("-")[0];var r=tre(e),i={width:r.width,height:r.height},s=["right","left"].indexOf(n)!==-1,c=s?"top":"left",h=s?"left":"top",o=s?"height":"width",m=s?"width":"height";return i[c]=t[c]+t[o]/2-r[o]/2,n===h?i[h]=t[h]-r[m]:i[h]=t[HE(h)],i}function QS(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function g1e(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(i){return i[t]===n});var r=QS(e,function(i){return i[t]===n});return e.indexOf(r)}function rre(e,t,n){var r=n===void 0?e:e.slice(0,g1e(e,"name",n));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var s=i.function||i.fn;i.enabled&&Kne(s)&&(t.offsets.popper=kf(t.offsets.popper),t.offsets.reference=kf(t.offsets.reference),t=s(t,i))}),t}function y1e(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=ere(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Qne(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=nre(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=rre(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function ire(e,t){return e.some(function(n){var r=n.name,i=n.enabled;return i&&r===t})}function ZL(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],s=i?""+i+n:e;if(typeof document.body.style[s]<"u")return s}return null}function v1e(){return this.state.isDestroyed=!0,ire(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[ZL("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function ore(e){var t=e.ownerDocument;return t?t.defaultView:window}function are(e,t,n,r){var i=e.nodeName==="BODY",s=i?e.ownerDocument.defaultView:e;s.addEventListener(t,n,{passive:!0}),i||are(JS(s.parentNode),t,n,r),r.push(s)}function b1e(e,t,n,r){n.updateBound=r,ore(e).addEventListener("resize",n.updateBound,{passive:!0});var i=JS(e);return are(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function _1e(){this.state.eventsEnabled||(this.state=b1e(this.reference,this.options,this.state,this.scheduleUpdate))}function x1e(e,t){return ore(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(n){n.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function w1e(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=x1e(this.reference,this.state))}function UL(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function gN(e,t){Object.keys(t).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&UL(t[n])&&(r="px"),e.style[n]=t[n]+r})}function S1e(e,t){Object.keys(t).forEach(function(n){var r=t[n];r!==!1?e.setAttribute(n,t[n]):e.removeAttribute(n)})}function A1e(e){return gN(e.instance.popper,e.styles),S1e(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&gN(e.arrowElement,e.arrowStyles),e}function C1e(e,t,n,r,i){var s=ere(i,t,e,n.positionFixed),c=Qne(n.placement,s,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",c),gN(t,{position:n.positionFixed?"fixed":"absolute"}),n}function M1e(e,t){var n=e.offsets,r=n.popper,i=n.reference,s=Math.round,c=Math.floor,h=function(D){return D},o=s(i.width),m=s(r.width),y=["left","right"].indexOf(e.placement)!==-1,v=e.placement.indexOf("-")!==-1,S=o%2===m%2,C=o%2===1&&m%2===1,P=t?y||v||S?s:c:h,I=t?s:h;return{left:P(C&&!v&&t?r.left-1:r.left),top:I(r.top),bottom:I(r.bottom),right:P(r.right)}}var E1e=YS&&/Firefox/i.test(navigator.userAgent);function T1e(e,t){var n=t.x,r=t.y,i=e.offsets.popper,s=QS(e.instance.modifiers,function(F){return F.name==="applyStyle"}).gpuAcceleration;s!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var c=s!==void 0?s:t.gpuAcceleration,h=N0(e.instance.popper),o=mN(h),m={position:i.position},y=M1e(e,window.devicePixelRatio<2||!E1e),v=n==="bottom"?"top":"bottom",S=r==="right"?"left":"right",C=ZL("transform"),P=void 0,I=void 0;if(v==="bottom"?h.nodeName==="HTML"?I=-h.clientHeight+y.bottom:I=-o.height+y.bottom:I=y.top,S==="right"?h.nodeName==="HTML"?P=-h.clientWidth+y.right:P=-o.width+y.right:P=y.left,c&&C)m[C]="translate3d("+P+"px, "+I+"px, 0)",m[v]=0,m[S]=0,m.willChange="transform";else{var N=v==="bottom"?-1:1,D=S==="right"?-1:1;m[v]=I*N,m[S]=P*D,m.willChange=v+", "+S}var k={"x-placement":e.placement};return e.attributes=qc({},k,e.attributes),e.styles=qc({},m,e.styles),e.arrowStyles=qc({},e.offsets.arrow,e.arrowStyles),e}function sre(e,t,n){var r=QS(e,function(h){var o=h.name;return o===t}),i=!!r&&e.some(function(h){return h.name===n&&h.enabled&&h.order<r.order});if(!i){var s="`"+t+"`",c="`"+n+"`";console.warn(c+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return i}function P1e(e,t){var n;if(!sre(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if(typeof r=="string"){if(r=e.instance.popper.querySelector(r),!r)return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],s=e.offsets,c=s.popper,h=s.reference,o=["left","right"].indexOf(i)!==-1,m=o?"height":"width",y=o?"Top":"Left",v=y.toLowerCase(),S=o?"left":"top",C=o?"bottom":"right",P=tre(r)[m];h[C]-P<c[v]&&(e.offsets.popper[v]-=c[v]-(h[C]-P)),h[v]+P>c[C]&&(e.offsets.popper[v]+=h[v]+P-c[C]),e.offsets.popper=kf(e.offsets.popper);var I=h[v]+h[m]/2-P/2,N=ty(e.instance.popper),D=parseFloat(N["margin"+y]),k=parseFloat(N["border"+y+"Width"]),F=I-e.offsets.popper[v]-D-k;return F=Math.max(Math.min(c[m]-P,F),0),e.arrowElement=r,e.offsets.arrow=(n={},D0(n,v,Math.round(F)),D0(n,S,""),n),e}function I1e(e){return e==="end"?"start":e==="start"?"end":e}var lre=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],b2=lre.slice(3);function HU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=b2.indexOf(e),r=b2.slice(n+1).concat(b2.slice(0,n));return t?r.reverse():r}var _2={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function O1e(e,t){if(ire(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var n=BL(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=HE(r),s=e.placement.split("-")[1]||"",c=[];switch(t.behavior){case _2.FLIP:c=[r,i];break;case _2.CLOCKWISE:c=HU(r);break;case _2.COUNTERCLOCKWISE:c=HU(r,!0);break;default:c=t.behavior}return c.forEach(function(h,o){if(r!==h||c.length===o+1)return e;r=e.placement.split("-")[0],i=HE(r);var m=e.offsets.popper,y=e.offsets.reference,v=Math.floor,S=r==="left"&&v(m.right)>v(y.left)||r==="right"&&v(m.left)<v(y.right)||r==="top"&&v(m.bottom)>v(y.top)||r==="bottom"&&v(m.top)<v(y.bottom),C=v(m.left)<v(n.left),P=v(m.right)>v(n.right),I=v(m.top)<v(n.top),N=v(m.bottom)>v(n.bottom),D=r==="left"&&C||r==="right"&&P||r==="top"&&I||r==="bottom"&&N,k=["top","bottom"].indexOf(r)!==-1,F=!!t.flipVariations&&(k&&s==="start"&&C||k&&s==="end"&&P||!k&&s==="start"&&I||!k&&s==="end"&&N),U=!!t.flipVariationsByContent&&(k&&s==="start"&&P||k&&s==="end"&&C||!k&&s==="start"&&N||!k&&s==="end"&&I),B=F||U;(S||D||B)&&(e.flipped=!0,(S||D)&&(r=c[o+1]),B&&(s=I1e(s)),e.placement=r+(s?"-"+s:""),e.offsets.popper=qc({},e.offsets.popper,nre(e.instance.popper,e.offsets.reference,e.placement)),e=rre(e.instance.modifiers,e,"flip"))}),e}function k1e(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],s=Math.floor,c=["top","bottom"].indexOf(i)!==-1,h=c?"right":"bottom",o=c?"left":"top",m=c?"width":"height";return n[h]<s(r[o])&&(e.offsets.popper[o]=s(r[o])-n[m]),n[o]>s(r[h])&&(e.offsets.popper[o]=s(r[h])),e}function N1e(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+i[1],c=i[2];if(!s)return e;if(c.indexOf("%")===0){var h=void 0;switch(c){case"%p":h=n;break;case"%":case"%r":default:h=r}var o=kf(h);return o[t]/100*s}else if(c==="vh"||c==="vw"){var m=void 0;return c==="vh"?m=Math.max(document.documentElement.clientHeight,window.innerHeight||0):m=Math.max(document.documentElement.clientWidth,window.innerWidth||0),m/100*s}else return s}function R1e(e,t,n,r){var i=[0,0],s=["right","left"].indexOf(r)!==-1,c=e.split(/(\+|\-)/).map(function(y){return y.trim()}),h=c.indexOf(QS(c,function(y){return y.search(/,|\s/)!==-1}));c[h]&&c[h].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var o=/\s*,\s*|\s+/,m=h!==-1?[c.slice(0,h).concat([c[h].split(o)[0]]),[c[h].split(o)[1]].concat(c.slice(h+1))]:[c];return m=m.map(function(y,v){var S=(v===1?!s:s)?"height":"width",C=!1;return y.reduce(function(P,I){return P[P.length-1]===""&&["+","-"].indexOf(I)!==-1?(P[P.length-1]=I,C=!0,P):C?(P[P.length-1]+=I,C=!1,P):P.concat(I)},[]).map(function(P){return N1e(P,S,t,n)})}),m.forEach(function(y,v){y.forEach(function(S,C){UL(S)&&(i[v]+=S*(y[C-1]==="-"?-1:1))})}),i}function D1e(e,t){var n=t.offset,r=e.placement,i=e.offsets,s=i.popper,c=i.reference,h=r.split("-")[0],o=void 0;return UL(+n)?o=[+n,0]:o=R1e(n,s,c,h),h==="left"?(s.top+=o[0],s.left-=o[1]):h==="right"?(s.top+=o[0],s.left+=o[1]):h==="top"?(s.left+=o[0],s.top-=o[1]):h==="bottom"&&(s.left+=o[0],s.top+=o[1]),e.popper=s,e}function L1e(e,t){var n=t.boundariesElement||N0(e.instance.popper);e.instance.reference===n&&(n=N0(n));var r=ZL("transform"),i=e.instance.popper.style,s=i.top,c=i.left,h=i[r];i.top="",i.left="",i[r]="";var o=BL(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=s,i.left=c,i[r]=h,t.boundaries=o;var m=t.priority,y=e.offsets.popper,v={primary:function(C){var P=y[C];return y[C]<o[C]&&!t.escapeWithReference&&(P=Math.max(y[C],o[C])),D0({},C,P)},secondary:function(C){var P=C==="right"?"left":"top",I=y[P];return y[C]>o[C]&&!t.escapeWithReference&&(I=Math.min(y[P],o[C]-(C==="right"?y.width:y.height))),D0({},P,I)}};return m.forEach(function(S){var C=["left","top"].indexOf(S)!==-1?"primary":"secondary";y=qc({},y,v[C](S))}),e.offsets.popper=y,e}function F1e(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,s=i.reference,c=i.popper,h=["bottom","top"].indexOf(n)!==-1,o=h?"left":"top",m=h?"width":"height",y={start:D0({},o,s[o]),end:D0({},o,s[o]+s[m]-c[m])};e.offsets.popper=qc({},c,y[r])}return e}function $1e(e){if(!sre(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=QS(e.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function j1e(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,s=r.reference,c=["left","right"].indexOf(n)!==-1,h=["top","left"].indexOf(n)===-1;return i[c?"left":"top"]=s[n]-(h?i[c?"width":"height"]:0),e.placement=HE(t),e.offsets.popper=kf(i),e}var z1e={shift:{order:100,enabled:!0,fn:F1e},offset:{order:200,enabled:!0,fn:D1e,offset:0},preventOverflow:{order:300,enabled:!0,fn:L1e,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:k1e},arrow:{order:500,enabled:!0,fn:P1e,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:O1e,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:j1e},hide:{order:800,enabled:!0,fn:$1e},computeStyle:{order:850,enabled:!0,fn:T1e,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:A1e,onLoad:C1e,gpuAcceleration:void 0}},B1e={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:z1e},$w=function(){function e(t,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h1e(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=c1e(this.update.bind(this)),this.options=qc({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(qc({},e.Defaults.modifiers,i.modifiers)).forEach(function(c){r.options.modifiers[c]=qc({},e.Defaults.modifiers[c]||{},i.modifiers?i.modifiers[c]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(c){return qc({name:c},r.options.modifiers[c])}).sort(function(c,h){return c.order-h.order}),this.modifiers.forEach(function(c){c.enabled&&Kne(c.onLoad)&&c.onLoad(r.reference,r.popper,r.options,c,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return p1e(e,[{key:"update",value:function(){return y1e.call(this)}},{key:"destroy",value:function(){return v1e.call(this)}},{key:"enableEventListeners",value:function(){return _1e.call(this)}},{key:"disableEventListeners",value:function(){return w1e.call(this)}}]),e}();$w.Utils=(typeof window<"u"?window:global).PopperUtils;$w.placements=lre;$w.Defaults=B1e;var Z1e=["innerHTML","ownerDocument","style","attributes","nodeValue"],U1e=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],H1e=["bigint","boolean","null","number","string","symbol","undefined"];function s3(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(V1e(t))return t}function td(e){return function(t){return s3(t)===e}}function V1e(e){return U1e.includes(e)}function Mb(e){return function(t){return typeof t===e}}function W1e(e){return H1e.includes(e)}function fn(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(fn.array(e))return"Array";if(fn.plainFunction(e))return"Function";var t=s3(e);return t||"Object"}fn.array=Array.isArray;fn.arrayOf=function(e,t){return!fn.array(e)&&!fn.function(t)?!1:e.every(function(n){return t(n)})};fn.asyncGeneratorFunction=function(e){return s3(e)==="AsyncGeneratorFunction"};fn.asyncFunction=td("AsyncFunction");fn.bigint=Mb("bigint");fn.boolean=function(e){return e===!0||e===!1};fn.date=td("Date");fn.defined=function(e){return!fn.undefined(e)};fn.domElement=function(e){return fn.object(e)&&!fn.plainObject(e)&&e.nodeType===1&&fn.string(e.nodeName)&&Z1e.every(function(t){return t in e})};fn.empty=function(e){return fn.string(e)&&e.length===0||fn.array(e)&&e.length===0||fn.object(e)&&!fn.map(e)&&!fn.set(e)&&Object.keys(e).length===0||fn.set(e)&&e.size===0||fn.map(e)&&e.size===0};fn.error=td("Error");fn.function=Mb("function");fn.generator=function(e){return fn.iterable(e)&&fn.function(e.next)&&fn.function(e.throw)};fn.generatorFunction=td("GeneratorFunction");fn.instanceOf=function(e,t){return!e||!t?!1:Object.getPrototypeOf(e)===t.prototype};fn.iterable=function(e){return!fn.nullOrUndefined(e)&&fn.function(e[Symbol.iterator])};fn.map=td("Map");fn.nan=function(e){return Number.isNaN(e)};fn.null=function(e){return e===null};fn.nullOrUndefined=function(e){return fn.null(e)||fn.undefined(e)};fn.number=function(e){return Mb("number")(e)&&!fn.nan(e)};fn.numericString=function(e){return fn.string(e)&&e.length>0&&!Number.isNaN(Number(e))};fn.object=function(e){return!fn.nullOrUndefined(e)&&(fn.function(e)||typeof e=="object")};fn.oneOf=function(e,t){return fn.array(e)?e.indexOf(t)>-1:!1};fn.plainFunction=td("Function");fn.plainObject=function(e){if(s3(e)!=="Object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};fn.primitive=function(e){return fn.null(e)||W1e(typeof e)};fn.promise=td("Promise");fn.propertyOf=function(e,t,n){if(!fn.object(e)||!t)return!1;var r=e[t];return fn.function(n)?n(r):fn.defined(r)};fn.regexp=td("RegExp");fn.set=td("Set");fn.string=Mb("string");fn.symbol=Mb("symbol");fn.undefined=Mb("undefined");fn.weakMap=td("WeakMap");fn.weakSet=td("WeakSet");function cre(e){return function(t){return typeof t===e}}var G1e=cre("function"),K1e=function(e){return e===null},VU=function(e){return Object.prototype.toString.call(e).slice(8,-1)==="RegExp"},WU=function(e){return!q1e(e)&&!K1e(e)&&(G1e(e)||typeof e=="object")},q1e=cre("undefined"),yN=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function X1e(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=n;r--!==0;)if(!Ll(e[r],t[r]))return!1;return!0}function Y1e(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e.buffer),r=new DataView(t.buffer),i=e.byteLength;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function J1e(e,t){var n,r,i,s;if(e.size!==t.size)return!1;try{for(var c=yN(e.entries()),h=c.next();!h.done;h=c.next()){var o=h.value;if(!t.has(o[0]))return!1}}catch(v){n={error:v}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}try{for(var m=yN(e.entries()),y=m.next();!y.done;y=m.next()){var o=y.value;if(!Ll(o[1],t.get(o[0])))return!1}}catch(v){i={error:v}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}return!0}function Q1e(e,t){var n,r;if(e.size!==t.size)return!1;try{for(var i=yN(e.entries()),s=i.next();!s.done;s=i.next()){var c=s.value;if(!t.has(c[0]))return!1}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0}function Ll(e,t){if(e===t)return!0;if(e&&WU(e)&&t&&WU(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return X1e(e,t);if(e instanceof Map&&t instanceof Map)return J1e(e,t);if(e instanceof Set&&t instanceof Set)return Q1e(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return Y1e(e,t);if(VU(e)&&VU(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[i]))return!1;for(var i=n.length;i--!==0;){var s=n[i];if(!(s==="_owner"&&e.$$typeof)&&!Ll(e[s],t[s]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}function exe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(function(n){return fn.string(n)||fn.array(n)||fn.plainObject(n)})}function txe(e,t,n){return ure(e,t)?[e,t].every(fn.array)?!e.some(YU(n))&&t.some(YU(n)):[e,t].every(fn.plainObject)?!Object.entries(e).some(XU(n))&&Object.entries(t).some(XU(n)):t===n:!1}function GU(e,t,n){var r=n.actual,i=n.key,s=n.previous,c=n.type,h=zd(e,i),o=zd(t,i),m=[h,o].every(fn.number)&&(c==="increased"?h<o:h>o);return fn.undefined(r)||(m=m&&o===r),fn.undefined(s)||(m=m&&h===s),m}function KU(e,t,n){var r=n.key,i=n.type,s=n.value,c=zd(e,r),h=zd(t,r),o=i==="added"?c:h,m=i==="added"?h:c;if(!fn.nullOrUndefined(s)){if(fn.defined(o)){if(fn.array(o)||fn.plainObject(o))return txe(o,m,s)}else return Ll(m,s);return!1}return[c,h].every(fn.array)?!m.every(HL(o)):[c,h].every(fn.plainObject)?nxe(Object.keys(o),Object.keys(m)):![c,h].every(function(y){return fn.primitive(y)&&fn.defined(y)})&&(i==="added"?!fn.defined(c)&&fn.defined(h):fn.defined(c)&&!fn.defined(h))}function qU(e,t,n){var r=n===void 0?{}:n,i=r.key,s=zd(e,i),c=zd(t,i);if(!ure(s,c))throw new TypeError("Inputs have different types");if(!exe(s,c))throw new TypeError("Inputs don't have length");return[s,c].every(fn.plainObject)&&(s=Object.keys(s),c=Object.keys(c)),[s,c]}function XU(e){return function(t){var n=t[0],r=t[1];return fn.array(e)?Ll(e,r)||e.some(function(i){return Ll(i,r)||fn.array(r)&&HL(r)(i)}):fn.plainObject(e)&&e[n]?!!e[n]&&Ll(e[n],r):Ll(e,r)}}function nxe(e,t){return t.some(function(n){return!e.includes(n)})}function YU(e){return function(t){return fn.array(e)?e.some(function(n){return Ll(n,t)||fn.array(t)&&HL(t)(n)}):Ll(e,t)}}function ax(e,t){return fn.array(e)?e.some(function(n){return Ll(n,t)}):Ll(e,t)}function HL(e){return function(t){return e.some(function(n){return Ll(n,t)})}}function ure(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(fn.array)||e.every(fn.number)||e.every(fn.plainObject)||e.every(fn.string)}function zd(e,t){if(fn.plainObject(e)||fn.array(e)){if(fn.string(t)){var n=t.split(".");return n.reduce(function(r,i){return r&&r[i]},e)}return fn.number(t)?e[t]:e}return e}function rxe(e,t){if([e,t].some(fn.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(function(v){return fn.plainObject(v)||fn.array(v)}))throw new Error("Expected plain objects or array");var n=function(v,S){try{return KU(e,t,{key:v,type:"added",value:S})}catch{return!1}},r=function(v,S,C){try{var P=zd(e,v),I=zd(t,v),N=fn.defined(S),D=fn.defined(C);if(N||D){var k=D?ax(C,P):!ax(S,P),F=ax(S,I);return k&&F}return[P,I].every(fn.array)||[P,I].every(fn.plainObject)?!Ll(P,I):P!==I}catch{return!1}},i=function(v,S,C){if(!fn.defined(v))return!1;try{var P=zd(e,v),I=zd(t,v),N=fn.defined(C);return ax(S,P)&&(N?ax(C,I):!N)}catch{return!1}},s=function(v,S){return fn.defined(v)?r(v,S):!1},c=function(v,S,C){if(!fn.defined(v))return!1;try{return GU(e,t,{key:v,actual:S,previous:C,type:"decreased"})}catch{return!1}},h=function(v){try{var S=qU(e,t,{key:v}),C=S[0],P=S[1];return!!C.length&&!P.length}catch{return!1}},o=function(v){try{var S=qU(e,t,{key:v}),C=S[0],P=S[1];return!C.length&&!!P.length}catch{return!1}},m=function(v,S,C){if(!fn.defined(v))return!1;try{return GU(e,t,{key:v,actual:S,previous:C,type:"increased"})}catch{return!1}},y=function(v,S){try{return KU(e,t,{key:v,type:"removed",value:S})}catch{return!1}};return{added:n,changed:r,changedFrom:i,changedTo:s,decreased:c,emptied:h,filled:o,increased:m,removed:y}}function JU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JU(Object(n),!0).forEach(function(r){Vs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ixe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hre(r.key),r)}}function tA(e,t,n){return t&&ixe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vs(e,t,n){return t=hre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vN(e,t)}function VE(e){return VE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},VE(e)}function vN(e,t){return vN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vN(e,t)}function oxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function axe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function dre(e,t){if(e==null)return{};var n=axe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Oh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sxe(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oh(e)}function rA(e){var t=oxe();return function(){var r=VE(e),i;if(t){var s=VE(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return sxe(this,i)}}function lxe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hre(e){var t=lxe(e,"string");return typeof t=="symbol"?t:String(t)}var cxe={flip:{padding:20},preventOverflow:{padding:10}},uxe="The typeValidator argument must be a function with the signature function(props, propName, componentName).",dxe="The error message is optional, but must be a string if provided.";function hxe(e,t,n,r){return typeof e=="boolean"?e:typeof e=="function"?e(t,n,r):e?!!e:!1}function pxe(e,t){return Object.hasOwnProperty.call(e,t)}function fxe(e,t,n,r){return new Error("Required ".concat(e[t]," `").concat(t,"` was not specified in `").concat(n,"`."))}function mxe(e,t){if(typeof e!="function")throw new TypeError(uxe);if(t)throw new TypeError(dxe)}function QU(e,t,n){return mxe(e,n),function(r,i,s){for(var c=arguments.length,h=new Array(c>3?c-3:0),o=3;o<c;o++)h[o-3]=arguments[o];return hxe(t,r,i,s)?pxe(r,i)?e.apply(void 0,[r,i,s].concat(h)):fxe(r,i,s):e.apply(void 0,[r,i,s].concat(h))}}var Gi={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},sx=Mg.createPortal!==void 0;function Nd(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function x2(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function jC(e){var t=e.title,n=e.data,r=e.warn,i=r===void 0?!1:r,s=e.debug,c=s===void 0?!1:s,h=i?console.warn||console.error:console.log;c&&t&&n&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach(function(o){fn.plainObject(o)&&o.key?h.apply(console,[o.key,o.value]):h.apply(console,[o])}):h.apply(console,[n]),console.groupEnd())}function gxe(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.addEventListener(t,n,r)}function yxe(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.removeEventListener(t,n,r)}function vxe(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;i=function(c){n(c),yxe(e,t,i)},gxe(e,t,i,r)}function eH(){}var pre=function(e){nA(n,e);var t=rA(n);function n(){return eA(this,n),t.apply(this,arguments)}return tA(n,[{key:"componentDidMount",value:function(){Nd()&&(this.node||this.appendNode(),sx||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Nd()&&(sx||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!Nd()||!this.node||(sx||Mg.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var i=this.props,s=i.id,c=i.zIndex;this.node||(this.node=document.createElement("div"),s&&(this.node.id=s),c&&(this.node.style.zIndex=c),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!Nd())return null;var i=this.props,s=i.children,c=i.setRef;if(this.node||this.appendNode(),sx)return Mg.createPortal(s,this.node);var h=Mg.unstable_renderSubtreeIntoContainer(this,s.length>1?Oe.createElement("div",null,s):s[0],this.node);return c(h),null}},{key:"renderReact16",value:function(){var i=this.props,s=i.hasChildren,c=i.placement,h=i.target;return s?this.renderPortal():h||c==="center"?this.renderPortal():null}},{key:"render",value:function(){return sx?this.renderReact16():null}}]),n}(Oe.Component);Vs(pre,"propTypes",{children:An.oneOfType([An.element,An.array]),hasChildren:An.bool,id:An.oneOfType([An.string,An.number]),placement:An.string,setRef:An.func.isRequired,target:An.oneOfType([An.object,An.string]),zIndex:An.number});var fre=function(e){nA(n,e);var t=rA(n);function n(){return eA(this,n),t.apply(this,arguments)}return tA(n,[{key:"parentStyle",get:function(){var i=this.props,s=i.placement,c=i.styles,h=c.arrow.length,o={pointerEvents:"none",position:"absolute",width:"100%"};return s.startsWith("top")?(o.bottom=0,o.left=0,o.right=0,o.height=h):s.startsWith("bottom")?(o.left=0,o.right=0,o.top=0,o.height=h):s.startsWith("left")?(o.right=0,o.top=0,o.bottom=0):s.startsWith("right")&&(o.left=0,o.top=0),o}},{key:"render",value:function(){var i=this.props,s=i.placement,c=i.setArrowRef,h=i.styles,o=h.arrow,m=o.color,y=o.display,v=o.length,S=o.margin,C=o.position,P=o.spread,I={display:y,position:C},N,D=P,k=v;return s.startsWith("top")?(N="0,0 ".concat(D/2,",").concat(k," ").concat(D,",0"),I.bottom=0,I.marginLeft=S,I.marginRight=S):s.startsWith("bottom")?(N="".concat(D,",").concat(k," ").concat(D/2,",0 0,").concat(k),I.top=0,I.marginLeft=S,I.marginRight=S):s.startsWith("left")?(k=P,D=v,N="0,0 ".concat(D,",").concat(k/2," 0,").concat(k),I.right=0,I.marginTop=S,I.marginBottom=S):s.startsWith("right")&&(k=P,D=v,N="".concat(D,",").concat(k," ").concat(D,",0 0,").concat(k/2),I.left=0,I.marginTop=S,I.marginBottom=S),Oe.createElement("div",{className:"__floater__arrow",style:this.parentStyle},Oe.createElement("span",{ref:c,style:I},Oe.createElement("svg",{width:D,height:k,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Oe.createElement("polygon",{points:N,fill:m}))))}}]),n}(Oe.Component);Vs(fre,"propTypes",{placement:An.string.isRequired,setArrowRef:An.func.isRequired,styles:An.object.isRequired});var bxe=["color","height","width"];function mre(e){var t=e.handleClick,n=e.styles,r=n.color,i=n.height,s=n.width,c=dre(n,bxe);return Oe.createElement("button",{"aria-label":"close",onClick:t,style:c,type:"button"},Oe.createElement("svg",{width:"".concat(s,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},Oe.createElement("g",null,Oe.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}mre.propTypes={handleClick:An.func.isRequired,styles:An.object.isRequired};function gre(e){var t=e.content,n=e.footer,r=e.handleClick,i=e.open,s=e.positionWrapper,c=e.showCloseButton,h=e.title,o=e.styles,m={content:Oe.isValidElement(t)?t:Oe.createElement("div",{className:"__floater__content",style:o.content},t)};return h&&(m.title=Oe.isValidElement(h)?h:Oe.createElement("div",{className:"__floater__title",style:o.title},h)),n&&(m.footer=Oe.isValidElement(n)?n:Oe.createElement("div",{className:"__floater__footer",style:o.footer},n)),(c||s)&&!fn.boolean(i)&&(m.close=Oe.createElement(mre,{styles:o.close,handleClick:r})),Oe.createElement("div",{className:"__floater__container",style:o.container},m.close,m.title,m.content,m.footer)}gre.propTypes={content:An.node.isRequired,footer:An.node,handleClick:An.func.isRequired,open:An.bool,positionWrapper:An.bool.isRequired,showCloseButton:An.bool.isRequired,styles:An.object.isRequired,title:An.node};var yre=function(e){nA(n,e);var t=rA(n);function n(){return eA(this,n),t.apply(this,arguments)}return tA(n,[{key:"style",get:function(){var i=this.props,s=i.disableAnimation,c=i.component,h=i.placement,o=i.hideArrow,m=i.status,y=i.styles,v=y.arrow.length,S=y.floater,C=y.floaterCentered,P=y.floaterClosing,I=y.floaterOpening,N=y.floaterWithAnimation,D=y.floaterWithComponent,k={};return o||(h.startsWith("top")?k.padding="0 0 ".concat(v,"px"):h.startsWith("bottom")?k.padding="".concat(v,"px 0 0"):h.startsWith("left")?k.padding="0 ".concat(v,"px 0 0"):h.startsWith("right")&&(k.padding="0 0 0 ".concat(v,"px"))),[Gi.OPENING,Gi.OPEN].indexOf(m)!==-1&&(k=ea(ea({},k),I)),m===Gi.CLOSING&&(k=ea(ea({},k),P)),m===Gi.OPEN&&!s&&(k=ea(ea({},k),N)),h==="center"&&(k=ea(ea({},k),C)),c&&(k=ea(ea({},k),D)),ea(ea({},S),k)}},{key:"render",value:function(){var i=this.props,s=i.component,c=i.handleClick,h=i.hideArrow,o=i.setFloaterRef,m=i.status,y={},v=["__floater"];return s?Oe.isValidElement(s)?y.content=Oe.cloneElement(s,{closeFn:c}):y.content=s({closeFn:c}):y.content=Oe.createElement(gre,this.props),m===Gi.OPEN&&v.push("__floater__open"),h||(y.arrow=Oe.createElement(fre,this.props)),Oe.createElement("div",{ref:o,className:v.join(" "),style:this.style},Oe.createElement("div",{className:"__floater__body"},y.content,y.arrow))}}]),n}(Oe.Component);Vs(yre,"propTypes",{component:An.oneOfType([An.func,An.element]),content:An.node,disableAnimation:An.bool.isRequired,footer:An.node,handleClick:An.func.isRequired,hideArrow:An.bool.isRequired,open:An.bool,placement:An.string.isRequired,positionWrapper:An.bool.isRequired,setArrowRef:An.func.isRequired,setFloaterRef:An.func.isRequired,showCloseButton:An.bool,status:An.string.isRequired,styles:An.object.isRequired,title:An.node});var vre=function(e){nA(n,e);var t=rA(n);function n(){return eA(this,n),t.apply(this,arguments)}return tA(n,[{key:"render",value:function(){var i=this.props,s=i.children,c=i.handleClick,h=i.handleMouseEnter,o=i.handleMouseLeave,m=i.setChildRef,y=i.setWrapperRef,v=i.style,S=i.styles,C;if(s)if(Oe.Children.count(s)===1)if(!Oe.isValidElement(s))C=Oe.createElement("span",null,s);else{var P=fn.function(s.type)?"innerRef":"ref";C=Oe.cloneElement(Oe.Children.only(s),Vs({},P,m))}else C=s;return C?Oe.createElement("span",{ref:y,style:ea(ea({},S),v),onClick:c,onMouseEnter:h,onMouseLeave:o},C):null}}]),n}(Oe.Component);Vs(vre,"propTypes",{children:An.node,handleClick:An.func.isRequired,handleMouseEnter:An.func.isRequired,handleMouseLeave:An.func.isRequired,setChildRef:An.func.isRequired,setWrapperRef:An.func.isRequired,style:An.object,styles:An.object.isRequired});var _xe={zIndex:100};function xxe(e){var t=Bu(_xe,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}var wxe=["arrow","flip","offset"],Sxe=["position","top","right","bottom","left"],VL=function(e){nA(n,e);var t=rA(n);function n(r){var i;return eA(this,n),i=t.call(this,r),Vs(Oh(i),"setArrowRef",function(s){i.arrowRef=s}),Vs(Oh(i),"setChildRef",function(s){i.childRef=s}),Vs(Oh(i),"setFloaterRef",function(s){i.floaterRef=s}),Vs(Oh(i),"setWrapperRef",function(s){i.wrapperRef=s}),Vs(Oh(i),"handleTransitionEnd",function(){var s=i.state.status,c=i.props.callback;i.wrapperPopper&&i.wrapperPopper.instance.update(),i.setState({status:s===Gi.OPENING?Gi.OPEN:Gi.IDLE},function(){var h=i.state.status;c(h===Gi.OPEN?"open":"close",i.props)})}),Vs(Oh(i),"handleClick",function(){var s=i.props,c=s.event,h=s.open;if(!fn.boolean(h)){var o=i.state,m=o.positionWrapper,y=o.status;(i.event==="click"||i.event==="hover"&&m)&&(jC({title:"click",data:[{event:c,status:y===Gi.OPEN?"closing":"opening"}],debug:i.debug}),i.toggle())}}),Vs(Oh(i),"handleMouseEnter",function(){var s=i.props,c=s.event,h=s.open;if(!(fn.boolean(h)||x2())){var o=i.state.status;i.event==="hover"&&o===Gi.IDLE&&(jC({title:"mouseEnter",data:[{key:"originalEvent",value:c}],debug:i.debug}),clearTimeout(i.eventDelayTimeout),i.toggle())}}),Vs(Oh(i),"handleMouseLeave",function(){var s=i.props,c=s.event,h=s.eventDelay,o=s.open;if(!(fn.boolean(o)||x2())){var m=i.state,y=m.status,v=m.positionWrapper;i.event==="hover"&&(jC({title:"mouseLeave",data:[{key:"originalEvent",value:c}],debug:i.debug}),h?[Gi.OPENING,Gi.OPEN].indexOf(y)!==-1&&!v&&!i.eventDelayTimeout&&(i.eventDelayTimeout=setTimeout(function(){delete i.eventDelayTimeout,i.toggle()},h*1e3)):i.toggle(Gi.IDLE))}}),i.state={currentPlacement:r.placement,needsUpdate:!1,positionWrapper:r.wrapperOptions.position&&!!r.target,status:Gi.INIT,statusWrapper:Gi.INIT},i._isMounted=!1,i.hasMounted=!1,Nd()&&window.addEventListener("load",function(){i.popper&&i.popper.instance.update(),i.wrapperPopper&&i.wrapperPopper.instance.update()}),i}return tA(n,[{key:"componentDidMount",value:function(){if(Nd()){var i=this.state.positionWrapper,s=this.props,c=s.children,h=s.open,o=s.target;this._isMounted=!0,jC({title:"init",data:{hasChildren:!!c,hasTarget:!!o,isControlled:fn.boolean(h),positionWrapper:i,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!c&&o&&fn.boolean(h)}}},{key:"componentDidUpdate",value:function(i,s){if(Nd()){var c=this.props,h=c.autoOpen,o=c.open,m=c.target,y=c.wrapperOptions,v=rxe(s,this.state),S=v.changedFrom,C=v.changed;if(i.open!==o){var P;fn.boolean(o)&&(P=o?Gi.OPENING:Gi.CLOSING),this.toggle(P)}(i.wrapperOptions.position!==y.position||i.target!==m)&&this.changeWrapperPosition(this.props),C("status",Gi.IDLE)&&o?this.toggle(Gi.OPEN):S("status",Gi.INIT,Gi.IDLE)&&h&&this.toggle(Gi.OPEN),this.popper&&C("status",Gi.OPENING)&&this.popper.instance.update(),this.floaterRef&&(C("status",Gi.OPENING)||C("status",Gi.CLOSING))&&vxe(this.floaterRef,"transitionend",this.handleTransitionEnd),C("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){Nd()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,c=this.state.positionWrapper,h=this.props,o=h.disableFlip,m=h.getPopper,y=h.hideArrow,v=h.offset,S=h.placement,C=h.wrapperOptions,P=S==="top"||S==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(S==="center")this.setState({status:Gi.IDLE});else if(s&&this.floaterRef){var I=this.options,N=I.arrow,D=I.flip,k=I.offset,F=dre(I,wxe);new $w(s,this.floaterRef,{placement:S,modifiers:ea({arrow:ea({enabled:!y,element:this.arrowRef},N),flip:ea({enabled:!o,behavior:P},D),offset:ea({offset:"0, ".concat(v,"px")},k)},F),onCreate:function(z){var W;if(i.popper=z,!((W=i.floaterRef)!==null&&W!==void 0&&W.isConnected)){i.setState({needsUpdate:!0});return}m(z,"floater"),i._isMounted&&i.setState({currentPlacement:z.placement,status:Gi.IDLE}),S!==z.placement&&setTimeout(function(){z.instance.update()},1)},onUpdate:function(z){i.popper=z;var W=i.state.currentPlacement;i._isMounted&&z.placement!==W&&i.setState({currentPlacement:z.placement})}})}if(c){var U=fn.undefined(C.offset)?0:C.offset;new $w(this.target,this.wrapperRef,{placement:C.placement||S,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(U,"px")},flip:{enabled:!1}},onCreate:function(z){i.wrapperPopper=z,i._isMounted&&i.setState({statusWrapper:Gi.IDLE}),m(z,"wrapper"),S!==z.placement&&setTimeout(function(){z.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var i=this;this.floaterRefInterval=setInterval(function(){var s;(s=i.floaterRef)!==null&&s!==void 0&&s.isConnected&&(clearInterval(i.floaterRefInterval),i.setState({needsUpdate:!1}),i.initPopper())},50)}},{key:"changeWrapperPosition",value:function(i){var s=i.target,c=i.wrapperOptions;this.setState({positionWrapper:c.position&&!!s})}},{key:"toggle",value:function(i){var s=this.state.status,c=s===Gi.OPEN?Gi.CLOSING:Gi.OPENING;fn.undefined(i)||(c=i),this.setState({status:c})}},{key:"debug",get:function(){var i=this.props.debug;return i||Nd()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var i=this.props,s=i.disableHoverToClick,c=i.event;return c==="hover"&&x2()&&!s?"click":c}},{key:"options",get:function(){var i=this.props.options;return Bu(cxe,i||{})}},{key:"styles",get:function(){var i=this,s=this.state,c=s.status,h=s.positionWrapper,o=s.statusWrapper,m=this.props.styles,y=Bu(xxe(m),m);if(h){var v;[Gi.IDLE].indexOf(c)===-1||[Gi.IDLE].indexOf(o)===-1?v=y.wrapperPosition:v=this.wrapperPopper.styles,y.wrapper=ea(ea({},y.wrapper),v)}if(this.target){var S=window.getComputedStyle(this.target);this.wrapperStyles?y.wrapper=ea(ea({},y.wrapper),this.wrapperStyles):["relative","static"].indexOf(S.position)===-1&&(this.wrapperStyles={},h||(Sxe.forEach(function(C){i.wrapperStyles[C]=S[C]}),y.wrapper=ea(ea({},y.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return y}},{key:"target",get:function(){if(!Nd())return null;var i=this.props.target;return i?fn.domElement(i)?i:document.querySelector(i):this.childRef||this.wrapperRef}},{key:"render",value:function(){var i=this.state,s=i.currentPlacement,c=i.positionWrapper,h=i.status,o=this.props,m=o.children,y=o.component,v=o.content,S=o.disableAnimation,C=o.footer,P=o.hideArrow,I=o.id,N=o.open,D=o.showCloseButton,k=o.style,F=o.target,U=o.title,B=Oe.createElement(vre,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:k,styles:this.styles.wrapper},m),z={};return c?z.wrapperInPortal=B:z.wrapperAsChildren=B,Oe.createElement("span",null,Oe.createElement(pre,{hasChildren:!!m,id:I,placement:s,setRef:this.setFloaterRef,target:F,zIndex:this.styles.options.zIndex},Oe.createElement(yre,{component:y,content:v,disableAnimation:S,footer:C,handleClick:this.handleClick,hideArrow:P||s==="center",open:N,placement:s,positionWrapper:c,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:D,status:h,styles:this.styles,title:U}),z.wrapperInPortal),z.wrapperAsChildren)}}]),n}(Oe.Component);Vs(VL,"propTypes",{autoOpen:An.bool,callback:An.func,children:An.node,component:QU(An.oneOfType([An.func,An.element]),function(e){return!e.content}),content:QU(An.node,function(e){return!e.component}),debug:An.bool,disableAnimation:An.bool,disableFlip:An.bool,disableHoverToClick:An.bool,event:An.oneOf(["hover","click"]),eventDelay:An.number,footer:An.node,getPopper:An.func,hideArrow:An.bool,id:An.oneOfType([An.string,An.number]),offset:An.number,open:An.bool,options:An.object,placement:An.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:An.bool,style:An.object,styles:An.object,target:An.oneOfType([An.object,An.string]),title:An.node,wrapperOptions:An.shape({offset:An.number,placement:An.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:An.bool})});Vs(VL,"defaultProps",{autoOpen:!1,callback:eH,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:eH,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var Axe=Object.defineProperty,Cxe=(e,t,n)=>t in e?Axe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Er=(e,t,n)=>Cxe(e,typeof t!="symbol"?t+"":t,n),mo={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Fu={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},vi={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},Ii={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function cf(){var e;return!!(typeof window<"u"&&((e=window.document)!=null&&e.createElement))}function bre(e){return e?e.getBoundingClientRect():null}function Mxe(e=!1){const{body:t,documentElement:n}=document;if(!t||!n)return 0;if(e){const r=[t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort((s,c)=>s-c),i=Math.floor(r.length/2);return r.length%2===0?(r[i-1]+r[i])/2:r[i]}return Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function jh(e){if(typeof e=="string")try{return document.querySelector(e)}catch{return null}return e}function Exe(e){return!e||e.nodeType!==1?null:getComputedStyle(e)}function jw(e,t,n){if(!e)return pg();const r=Une(e);if(r){if(r.isSameNode(pg()))return n?document:pg();if(!(r.scrollHeight>r.offsetHeight)&&!t)return r.style.overflow="initial",pg()}return r}function l3(e,t){if(!e)return!1;const n=jw(e,t);return n?!n.isSameNode(pg()):!1}function Txe(e){return e.offsetParent!==document.body}function L0(e,t="fixed"){if(!e||!(e instanceof HTMLElement))return!1;const{nodeName:n}=e,r=Exe(e);return n==="BODY"||n==="HTML"?!1:r&&r.position===t?!0:e.parentNode?L0(e.parentNode,t):!1}function Pxe(e){var t;if(!e)return!1;let n=e;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:r,visibility:i}=getComputedStyle(n);if(r==="none"||i==="hidden")return!1}n=(t=n.parentElement)!=null?t:null}return!0}function Ixe(e,t,n){var r,i,s;const c=bre(e),h=jw(e,n),o=l3(e,n),m=L0(e);let y=0,v=(r=c==null?void 0:c.top)!=null?r:0;if(o&&m){const S=(i=e==null?void 0:e.offsetTop)!=null?i:0,C=(s=h==null?void 0:h.scrollTop)!=null?s:0;v=S-C}else h instanceof HTMLElement&&(y=h.scrollTop,!o&&!L0(e)&&(v+=y),h.isSameNode(pg())||(v+=pg().scrollTop));return Math.floor(v-t)}function Oxe(e,t,n){var r;if(!e)return 0;const{offsetTop:i=0,scrollTop:s=0}=(r=Une(e))!=null?r:{};let c=e.getBoundingClientRect().top+s;i&&(l3(e,n)||Txe(e))&&(c-=i);const h=Math.floor(c-t);return h<0?0:h}function pg(){var e;return(e=document.scrollingElement)!=null?e:document.documentElement}function kxe(e,t){const{duration:n,element:r}=t;return new Promise((i,s)=>{const{scrollTop:c}=r,h=e>c?e-c:c-e;D_e.top(r,e,{duration:h<100?50:n},o=>o&&o.message!=="Element already at target scroll position"?s(o):i())})}var lx=Wa.createPortal!==void 0;function _re(e=navigator.userAgent){let t=e;return typeof window>"u"?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":window.opera||e.includes(" OPR/")?t="opera":typeof window.InstallTrigger<"u"?t="firefox":window.chrome?t="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function XM(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function Rd(e,t={}){const{defaultValue:n,step:r,steps:i}=t;let s=$U(e);if(s)(s.includes("{step}")||s.includes("{steps}"))&&r&&i&&(s=s.replace("{step}",r.toString()).replace("{steps}",i.toString()));else if(A.isValidElement(e)&&!Object.values(e.props).length&&XM(e.type)==="function"){const c=e.type({});s=Rd(c,t)}else s=$U(n);return s}function Nxe(e,t){return!Sr.plainObject(e)||!Sr.array(t)?!1:Object.keys(e).every(n=>t.includes(n))}function Rxe(e){const t=/^#?([\da-f])([\da-f])([\da-f])$/i,n=e.replace(t,(i,s,c,h)=>s+s+c+c+h+h),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(n);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function tH(e){return e.disableBeacon||e.placement==="center"}function nH(){return!["chrome","safari","firefox","opera"].includes(_re())}function jg({data:e,debug:t=!1,title:n,warn:r=!1}){const i=r?console.warn||console.error:console.log;t&&(n&&e?(console.groupCollapsed(`%creact-joyride: ${n}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(e)?e.forEach(s=>{Sr.plainObject(s)&&s.key?i.apply(console,[s.key,s.value]):i.apply(console,[s])}):i.apply(console,[e]),console.groupEnd()):console.error("Missing title or data props"))}function Dxe(e){return Object.keys(e)}function xre(e,...t){if(!Sr.plainObject(e))throw new TypeError("Expected an object");const n={};for(const r in e)({}).hasOwnProperty.call(e,r)&&(t.includes(r)||(n[r]=e[r]));return n}function Lxe(e,...t){if(!Sr.plainObject(e))throw new TypeError("Expected an object");if(!t.length)return e;const n={};for(const r in e)({}).hasOwnProperty.call(e,r)&&t.includes(r)&&(n[r]=e[r]);return n}function bN(e,t,n){const r=s=>s.replace("{step}",String(t)).replace("{steps}",String(n));if(XM(e)==="string")return r(e);if(!A.isValidElement(e))return e;const{children:i}=e.props;if(XM(i)==="string"&&i.includes("{step}"))return A.cloneElement(e,{children:r(i)});if(Array.isArray(i))return A.cloneElement(e,{children:i.map(s=>typeof s=="string"?r(s):bN(s,t,n))});if(XM(e.type)==="function"&&!Object.values(e.props).length){const s=e.type({});return bN(s,t,n)}return e}function Fxe(e){const{isFirstStep:t,lifecycle:n,previousLifecycle:r,scrollToFirstStep:i,step:s,target:c}=e;return!s.disableScrolling&&(!t||i||n===vi.TOOLTIP)&&s.placement!=="center"&&(!s.isFixed||!L0(c))&&r!==n&&[vi.BEACON,vi.TOOLTIP].includes(n)}var $xe={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},wre={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},jxe={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:wre,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},zxe={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},Bxe={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},cx={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},rH={borderRadius:4,position:"absolute"};function Zxe(e,t){var n,r,i,s,c;const{floaterProps:h,styles:o}=e,m=Bu((n=t.floaterProps)!=null?n:{},h??{}),y=Bu(o??{},(r=t.styles)!=null?r:{}),v=Bu(Bxe,y.options||{}),S=t.placement==="center"||t.disableBeacon;let{width:C}=v;window.innerWidth>480&&(C=380),"width"in v&&(C=typeof v.width=="number"&&window.innerWidth<v.width?window.innerWidth-30:v.width);const P={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:v.zIndex},I={beacon:{...cx,display:S?"none":"inline-block",height:v.beaconSize,position:"relative",width:v.beaconSize,zIndex:v.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:v.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${Rxe(v.primaryColor).join(",")}, 0.2)`,border:`2px solid ${v.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:v.backgroundColor,borderRadius:5,boxSizing:"border-box",color:v.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:C},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...cx,backgroundColor:v.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...cx,color:v.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...cx,color:v.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...cx,color:v.textColor,fontSize:14},overlay:{...P,backgroundColor:v.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...P},overlayLegacyCenter:{...P,backgroundColor:v.overlayColor},spotlight:{...rH,backgroundColor:"gray"},spotlightLegacy:{...rH,boxShadow:`0 0 0 9999px ${v.overlayColor}, ${v.spotlightShadow}`},floaterStyles:{arrow:{color:(c=(s=(i=m==null?void 0:m.styles)==null?void 0:i.arrow)==null?void 0:s.color)!=null?c:v.arrowColor},options:{zIndex:v.zIndex+100}},options:v};return Bu(I,y)}function Uxe(e){return Lxe(e,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function dv(e,t){var n,r,i,s,c,h;const o=t??{},m=Bu.all([jxe,Uxe(e),o],{isMergeableObject:Sr.plainObject}),y=Zxe(e,m),v=l3(jh(m.target),m.disableScrollParentFix),S=Bu.all([$xe,(n=e.floaterProps)!=null?n:{},(r=m.floaterProps)!=null?r:{}]);return S.offset=m.offset,S.styles=Bu((i=S.styles)!=null?i:{},y.floaterStyles),S.offset+=(c=(s=e.spotlightPadding)!=null?s:m.spotlightPadding)!=null?c:0,m.placementBeacon&&S.wrapperOptions&&(S.wrapperOptions.placement=m.placementBeacon),v&&S.options.preventOverflow&&(S.options.preventOverflow.boundariesElement="window"),{...m,locale:Bu.all([wre,(h=e.locale)!=null?h:{},m.locale||{}]),floaterProps:S,styles:xre(y,"floaterStyles")}}function Sre(e,t=!1){return Sr.plainObject(e)?e.target?!0:(jg({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(jg({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function iH(e,t=!1){return Sr.array(e)?e.every(n=>Sre(n,t)):(jg({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var Are={action:"init",controlled:!1,index:0,lifecycle:vi.INIT,origin:null,size:0,status:Ii.IDLE},oH=Dxe(xre(Are,"controlled","size")),Hxe=class{constructor(e){Er(this,"beaconPopper"),Er(this,"tooltipPopper"),Er(this,"data",new Map),Er(this,"listener"),Er(this,"store",new Map),Er(this,"addListener",i=>{this.listener=i}),Er(this,"setSteps",i=>{const{size:s,status:c}=this.getState(),h={size:i.length,status:c};this.data.set("steps",i),c===Ii.WAITING&&!s&&i.length&&(h.status=Ii.RUNNING),this.setState(h)}),Er(this,"getPopper",i=>i==="beacon"?this.beaconPopper:this.tooltipPopper),Er(this,"setPopper",(i,s)=>{i==="beacon"?this.beaconPopper=s:this.tooltipPopper=s}),Er(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),Er(this,"close",(i=null)=>{const{index:s,status:c}=this.getState();c===Ii.RUNNING&&this.setState({...this.getNextState({action:mo.CLOSE,index:s+1,origin:i})})}),Er(this,"go",i=>{const{controlled:s,status:c}=this.getState();if(s||c!==Ii.RUNNING)return;const h=this.getSteps()[i];this.setState({...this.getNextState({action:mo.GO,index:i}),status:h?c:Ii.FINISHED})}),Er(this,"info",()=>this.getState()),Er(this,"next",()=>{const{index:i,status:s}=this.getState();s===Ii.RUNNING&&this.setState(this.getNextState({action:mo.NEXT,index:i+1}))}),Er(this,"open",()=>{const{status:i}=this.getState();i===Ii.RUNNING&&this.setState({...this.getNextState({action:mo.UPDATE,lifecycle:vi.TOOLTIP})})}),Er(this,"prev",()=>{const{index:i,status:s}=this.getState();s===Ii.RUNNING&&this.setState({...this.getNextState({action:mo.PREV,index:i-1})})}),Er(this,"reset",(i=!1)=>{const{controlled:s}=this.getState();s||this.setState({...this.getNextState({action:mo.RESET,index:0}),status:i?Ii.RUNNING:Ii.READY})}),Er(this,"skip",()=>{const{status:i}=this.getState();i===Ii.RUNNING&&this.setState({action:mo.SKIP,lifecycle:vi.INIT,status:Ii.SKIPPED})}),Er(this,"start",i=>{const{index:s,size:c}=this.getState();this.setState({...this.getNextState({action:mo.START,index:Sr.number(i)?i:s},!0),status:c?Ii.RUNNING:Ii.WAITING})}),Er(this,"stop",(i=!1)=>{const{index:s,status:c}=this.getState();[Ii.FINISHED,Ii.SKIPPED].includes(c)||this.setState({...this.getNextState({action:mo.STOP,index:s+(i?1:0)}),status:Ii.PAUSED})}),Er(this,"update",i=>{var s,c;if(!Nxe(i,oH))throw new Error(`State is not valid. Valid keys: ${oH.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...i,action:(s=i.action)!=null?s:mo.UPDATE,origin:(c=i.origin)!=null?c:null},!0)})});const{continuous:t=!1,stepIndex:n,steps:r=[]}=e??{};this.setState({action:mo.INIT,controlled:Sr.number(n),continuous:t,index:Sr.number(n)?n:0,lifecycle:vi.INIT,origin:null,status:r.length?Ii.READY:Ii.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...Are}}getNextState(e,t=!1){var n,r,i,s,c;const{action:h,controlled:o,index:m,size:y,status:v}=this.getState(),S=Sr.number(e.index)?e.index:m,C=o&&!t?m:Math.min(Math.max(S,0),y);return{action:(n=e.action)!=null?n:h,controlled:o,index:C,lifecycle:(r=e.lifecycle)!=null?r:vi.INIT,origin:(i=e.origin)!=null?i:null,size:(s=e.size)!=null?s:y,status:C===y?Ii.FINISHED:(c=e.status)!=null?c:v}}getSteps(){const e=this.data.get("steps");return Array.isArray(e)?e:[]}hasUpdatedState(e){const t=JSON.stringify(e),n=JSON.stringify(this.getState());return t!==n}setState(e,t=!1){const n=this.getState(),{action:r,index:i,lifecycle:s,origin:c=null,size:h,status:o}={...n,...e};this.store.set("action",r),this.store.set("index",i),this.store.set("lifecycle",s),this.store.set("origin",c),this.store.set("size",h),this.store.set("status",o),t&&(this.store.set("controlled",e.controlled),this.store.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function Vxe(e){return new Hxe(e)}function Wxe({styles:e}){return A.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:e})}var Gxe=Wxe,Kxe=class extends A.Component{constructor(){super(...arguments),Er(this,"isActive",!1),Er(this,"resizeTimeout"),Er(this,"scrollTimeout"),Er(this,"scrollParent"),Er(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),Er(this,"hideSpotlight",()=>{const{continuous:e,disableOverlay:t,lifecycle:n}=this.props,r=[vi.INIT,vi.BEACON,vi.COMPLETE,vi.ERROR];return t||(e?r.includes(n):n!==vi.TOOLTIP)}),Er(this,"handleMouseMove",e=>{const{mouseOverSpotlight:t}=this.state,{height:n,left:r,position:i,top:s,width:c}=this.spotlightStyles,h=i==="fixed"?e.clientY:e.pageY,o=i==="fixed"?e.clientX:e.pageX,m=h>=s&&h<=s+n,v=o>=r&&o<=r+c&&m;v!==t&&this.updateState({mouseOverSpotlight:v})}),Er(this,"handleScroll",()=>{const{target:e}=this.props,t=jh(e);if(this.scrollParent!==document){const{isScrolling:n}=this.state;n||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else L0(t,"sticky")&&this.updateState({})}),Er(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:e,disableScrolling:t,disableScrollParentFix:n=!1,target:r}=this.props,i=jh(r);this.scrollParent=jw(i??document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){var t;const{disableScrollParentFix:n,lifecycle:r,spotlightClicks:i,target:s}=this.props,{changed:c}=ZE(e,this.props);if(c("target")||c("disableScrollParentFix")){const h=jh(s);this.scrollParent=jw(h??document.body,n,!0)}c("lifecycle",vi.TOOLTIP)&&((t=this.scrollParent)==null||t.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:h}=this.state;h||this.updateState({showSpotlight:!0})},100)),(c("spotlightClicks")||c("disableOverlay")||c("lifecycle"))&&(i&&r===vi.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==vi.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var e;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(e=this.scrollParent)==null||e.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:e}=this.state,{disableOverlayClose:t,placement:n,styles:r}=this.props;let i=r.overlay;return nH()&&(i=n==="center"?r.overlayLegacyCenter:r.overlayLegacy),{cursor:t?"default":"pointer",height:Mxe(),pointerEvents:e?"none":"auto",...i}}get spotlightStyles(){var e,t,n;const{showSpotlight:r}=this.state,{disableScrollParentFix:i=!1,spotlightClicks:s,spotlightPadding:c=0,styles:h,target:o}=this.props,m=jh(o),y=bre(m),v=L0(m),S=Ixe(m,c,i);return{...nH()?h.spotlightLegacy:h.spotlight,height:Math.round(((e=y==null?void 0:y.height)!=null?e:0)+c*2),left:Math.round(((t=y==null?void 0:y.left)!=null?t:0)-c),opacity:r?1:0,pointerEvents:s?"none":"auto",position:v?"fixed":"absolute",top:S,transition:"opacity 0.2s",width:Math.round(((n=y==null?void 0:y.width)!=null?n:0)+c*2)}}updateState(e){this.isActive&&this.setState(t=>({...t,...e}))}render(){const{showSpotlight:e}=this.state,{onClickOverlay:t,placement:n}=this.props,{hideSpotlight:r,overlayStyles:i,spotlightStyles:s}=this;if(r())return null;let c=n!=="center"&&e&&A.createElement(Gxe,{styles:s});if(_re()==="safari"){const{mixBlendMode:h,zIndex:o,...m}=i;c=A.createElement("div",{style:{...m}},c),delete i.backgroundColor}return A.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:t,role:"presentation",style:i},c)}},qxe=class extends A.Component{constructor(){super(...arguments),Er(this,"node",null)}componentDidMount(){const{id:e}=this.props;cf()&&(this.node=document.createElement("div"),this.node.id=e,document.body.appendChild(this.node),lx||this.renderReact15())}componentDidUpdate(){cf()&&(lx||this.renderReact15())}componentWillUnmount(){!cf()||!this.node||(lx||Wa.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!cf())return;const{children:e}=this.props;this.node&&Wa.unstable_renderSubtreeIntoContainer(this,e,this.node)}renderReact16(){if(!cf()||!lx)return null;const{children:e}=this.props;return this.node?Wa.createPortal(e,this.node):null}render(){return lx?this.renderReact16():null}},Xxe=class{constructor(e,t){if(Er(this,"element"),Er(this,"options"),Er(this,"canBeTabbed",n=>{const{tabIndex:r}=n;return r===null||r<0?!1:this.canHaveFocus(n)}),Er(this,"canHaveFocus",n=>{const r=/input|select|textarea|button|object/,i=n.nodeName.toLowerCase();return(r.test(i)&&!n.getAttribute("disabled")||i==="a"&&!!n.getAttribute("href"))&&this.isVisible(n)}),Er(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),Er(this,"handleKeyDown",n=>{const{code:r="Tab"}=this.options;n.code===r&&this.interceptTab(n)}),Er(this,"interceptTab",n=>{n.preventDefault();const r=this.findValidTabElements(),{shiftKey:i}=n;if(!r.length)return;let s=document.activeElement?r.indexOf(document.activeElement):0;s===-1||!i&&s+1===r.length?s=0:i&&s===0?s=r.length-1:s+=i?-1:1,r[s].focus()}),Er(this,"isHidden",n=>{const r=n.offsetWidth<=0&&n.offsetHeight<=0,i=window.getComputedStyle(n);return r&&!n.innerHTML?!0:r&&i.getPropertyValue("overflow")!=="visible"||i.getPropertyValue("display")==="none"}),Er(this,"isVisible",n=>{let r=n;for(;r;)if(r instanceof HTMLElement){if(r===document.body)break;if(this.isHidden(r))return!1;r=r.parentNode}return!0}),Er(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),Er(this,"checkFocus",n=>{document.activeElement!==n&&(n.focus(),window.requestAnimationFrame(()=>this.checkFocus(n)))}),Er(this,"setFocus",()=>{const{selector:n}=this.options;if(!n)return;const r=this.element.querySelector(n);r&&window.requestAnimationFrame(()=>this.checkFocus(r))}),!(e instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=e,this.options=t,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},Yxe=class extends A.Component{constructor(e){if(super(e),Er(this,"beacon",null),Er(this,"setBeaconRef",i=>{this.beacon=i}),e.beaconComponent)return;const t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",e.nonce&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),t.appendChild(n)}componentDidMount(){const{shouldFocus:e}=this.props;setTimeout(()=>{Sr.domElement(this.beacon)&&e&&this.beacon.focus()},0)}componentWillUnmount(){const e=document.getElementById("joyride-beacon-animation");e!=null&&e.parentNode&&e.parentNode.removeChild(e)}render(){const{beaconComponent:e,continuous:t,index:n,isLastStep:r,locale:i,onClickOrHover:s,size:c,step:h,styles:o}=this.props,m=Rd(i.open),y={"aria-label":m,onClick:s,onMouseEnter:s,ref:this.setBeaconRef,title:m};let v;if(e){const S=e;v=A.createElement(S,{continuous:t,index:n,isLastStep:r,size:c,step:h,...y})}else v=A.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:o.beacon,type:"button",...y},A.createElement("span",{style:o.beaconInner}),A.createElement("span",{style:o.beaconOuter}));return v}};function Jxe({styles:e,...t}){const{color:n,height:r,width:i,...s}=e;return Oe.createElement("button",{style:s,type:"button",...t},Oe.createElement("svg",{height:typeof r=="number"?`${r}px`:r,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof i=="number"?`${i}px`:i,xmlns:"http://www.w3.org/2000/svg"},Oe.createElement("g",null,Oe.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}var Qxe=Jxe;function ewe(e){const{backProps:t,closeProps:n,index:r,isLastStep:i,primaryProps:s,skipProps:c,step:h,tooltipProps:o}=e,{content:m,hideBackButton:y,hideCloseButton:v,hideFooter:S,showSkipButton:C,styles:P,title:I}=h,N={};return N.primary=A.createElement("button",{"data-test-id":"button-primary",style:P.buttonNext,type:"button",...s}),C&&!i&&(N.skip=A.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:P.buttonSkip,type:"button",...c})),!y&&r>0&&(N.back=A.createElement("button",{"data-test-id":"button-back",style:P.buttonBack,type:"button",...t})),N.close=!v&&A.createElement(Qxe,{"data-test-id":"button-close",styles:P.buttonClose,...n}),A.createElement("div",{key:"JoyrideTooltip","aria-label":Rd(I??m),className:"react-joyride__tooltip",style:P.tooltip,...o},A.createElement("div",{style:P.tooltipContainer},I&&A.createElement("h1",{"aria-label":Rd(I),style:P.tooltipTitle},I),A.createElement("div",{style:P.tooltipContent},m)),!S&&A.createElement("div",{style:P.tooltipFooter},A.createElement("div",{style:P.tooltipFooterSpacer},N.skip),N.back,N.primary),N.close)}var twe=ewe,nwe=class extends A.Component{constructor(){super(...arguments),Er(this,"handleClickBack",e=>{e.preventDefault();const{helpers:t}=this.props;t.prev()}),Er(this,"handleClickClose",e=>{e.preventDefault();const{helpers:t}=this.props;t.close("button_close")}),Er(this,"handleClickPrimary",e=>{e.preventDefault();const{continuous:t,helpers:n}=this.props;if(!t){n.close("button_primary");return}n.next()}),Er(this,"handleClickSkip",e=>{e.preventDefault();const{helpers:t}=this.props;t.skip()}),Er(this,"getElementsProps",()=>{const{continuous:e,index:t,isLastStep:n,setTooltipRef:r,size:i,step:s}=this.props,{back:c,close:h,last:o,next:m,nextLabelWithProgress:y,skip:v}=s.locale,S=Rd(c),C=Rd(h),P=Rd(o),I=Rd(m),N=Rd(v);let D=h,k=C;if(e){if(D=m,k=I,s.showProgress&&!n){const F=Rd(y,{step:t+1,steps:i});D=bN(y,t+1,i),k=F}n&&(D=o,k=P)}return{backProps:{"aria-label":S,children:c,"data-action":"back",onClick:this.handleClickBack,role:"button",title:S},closeProps:{"aria-label":C,children:h,"data-action":"close",onClick:this.handleClickClose,role:"button",title:C},primaryProps:{"aria-label":k,children:D,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:k},skipProps:{"aria-label":N,children:v,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:N},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:e,index:t,isLastStep:n,setTooltipRef:r,size:i,step:s}=this.props,{beaconComponent:c,tooltipComponent:h,...o}=s;let m;if(h){const y={...this.getElementsProps(),continuous:e,index:t,isLastStep:n,size:i,step:o,setTooltipRef:r},v=h;m=A.createElement(v,{...y})}else m=A.createElement(twe,{...this.getElementsProps(),continuous:e,index:t,isLastStep:n,size:i,step:s});return m}},rwe=class extends A.Component{constructor(){super(...arguments),Er(this,"scope",null),Er(this,"tooltip",null),Er(this,"handleClickHoverBeacon",e=>{const{step:t,store:n}=this.props;e.type==="mouseenter"&&t.event!=="hover"||n.update({lifecycle:vi.TOOLTIP})}),Er(this,"setTooltipRef",e=>{this.tooltip=e}),Er(this,"setPopper",(e,t)=>{var n;const{action:r,lifecycle:i,step:s,store:c}=this.props;t==="wrapper"?c.setPopper("beacon",e):c.setPopper("tooltip",e),c.getPopper("beacon")&&(c.getPopper("tooltip")||s.placement==="center")&&i===vi.INIT&&c.update({action:r,lifecycle:vi.READY}),(n=s.floaterProps)!=null&&n.getPopper&&s.floaterProps.getPopper(e,t)}),Er(this,"renderTooltip",e=>{const{continuous:t,helpers:n,index:r,size:i,step:s}=this.props;return A.createElement(nwe,{continuous:t,helpers:n,index:r,isLastStep:r+1===i,setTooltipRef:this.setTooltipRef,size:i,step:s,...e})})}componentDidMount(){const{debug:e,index:t}=this.props;jg({title:`step:${t}`,data:[{key:"props",value:this.props}],debug:e})}componentDidUpdate(e){var t;const{action:n,callback:r,continuous:i,controlled:s,debug:c,helpers:h,index:o,lifecycle:m,shouldScroll:y,status:v,step:S,store:C}=this.props,{changed:P,changedFrom:I}=ZE(e,this.props),N=h.info(),D=i&&n!==mo.CLOSE&&(o>0||n===mo.PREV),k=P("action")||P("index")||P("lifecycle")||P("status"),F=I("lifecycle",[vi.TOOLTIP,vi.INIT],vi.INIT),U=P("action",[mo.NEXT,mo.PREV,mo.SKIP,mo.CLOSE]),B=s&&o===e.index;if(U&&(F||B)&&r({...N,index:e.index,lifecycle:vi.COMPLETE,step:e.step,type:Fu.STEP_AFTER}),S.placement==="center"&&v===Ii.RUNNING&&P("index")&&n!==mo.START&&m===vi.INIT&&C.update({lifecycle:vi.READY}),k){const z=jh(S.target),W=!!z;W&&Pxe(z)?(I("status",Ii.READY,Ii.RUNNING)||I("lifecycle",vi.INIT,vi.READY))&&r({...N,step:S,type:Fu.STEP_BEFORE}):(console.warn(W?"Target not visible":"Target not mounted",S),r({...N,type:Fu.TARGET_NOT_FOUND,step:S}),s||C.update({index:o+(n===mo.PREV?-1:1)}))}I("lifecycle",vi.INIT,vi.READY)&&C.update({lifecycle:tH(S)||D?vi.TOOLTIP:vi.BEACON}),P("index")&&jg({title:`step:${m}`,data:[{key:"props",value:this.props}],debug:c}),P("lifecycle",vi.BEACON)&&r({...N,step:S,type:Fu.BEACON}),P("lifecycle",vi.TOOLTIP)&&(r({...N,step:S,type:Fu.TOOLTIP}),y&&this.tooltip&&(this.scope=new Xxe(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),I("lifecycle",[vi.TOOLTIP,vi.INIT],vi.INIT)&&((t=this.scope)==null||t.removeScope(),C.cleanupPoppers())}componentWillUnmount(){var e;(e=this.scope)==null||e.removeScope()}get open(){const{lifecycle:e,step:t}=this.props;return tH(t)||e===vi.TOOLTIP}render(){const{continuous:e,debug:t,index:n,nonce:r,shouldScroll:i,size:s,step:c}=this.props,h=jh(c.target);return!Sre(c)||!Sr.domElement(h)?null:A.createElement("div",{key:`JoyrideStep-${n}`,className:"react-joyride__step"},A.createElement(VL,{...c.floaterProps,component:this.renderTooltip,debug:t,getPopper:this.setPopper,id:`react-joyride-step-${n}`,open:this.open,placement:c.placement,target:c.target},A.createElement(Yxe,{beaconComponent:c.beaconComponent,continuous:e,index:n,isLastStep:n+1===s,locale:c.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:i,size:s,step:c,styles:c.styles})))}},Cre=class extends A.Component{constructor(e){super(e),Er(this,"helpers"),Er(this,"store"),Er(this,"callback",c=>{const{callback:h}=this.props;Sr.function(h)&&h(c)}),Er(this,"handleKeyboard",c=>{const{index:h,lifecycle:o}=this.state,{steps:m}=this.props,y=m[h];o===vi.TOOLTIP&&c.code==="Escape"&&y&&!y.disableCloseOnEsc&&this.store.close("keyboard")}),Er(this,"handleClickOverlay",()=>{const{index:c}=this.state,{steps:h}=this.props;dv(this.props,h[c]).disableOverlayClose||this.helpers.close("overlay")}),Er(this,"syncState",c=>{this.setState(c)});const{debug:t,getHelpers:n,run:r=!0,stepIndex:i}=e;this.store=Vxe({...e,controlled:r&&Sr.number(i)}),this.helpers=this.store.getHelpers();const{addListener:s}=this.store;jg({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:t}),s(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!cf())return;const{debug:e,disableCloseOnEsc:t,run:n,steps:r}=this.props,{start:i}=this.store;iH(r,e)&&n&&i(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(e,t){if(!cf())return;const{action:n,controlled:r,index:i,status:s}=this.state,{debug:c,run:h,stepIndex:o,steps:m}=this.props,{stepIndex:y,steps:v}=e,{reset:S,setSteps:C,start:P,stop:I,update:N}=this.store,{changed:D}=ZE(e,this.props),{changed:k,changedFrom:F}=ZE(t,this.state),U=dv(this.props,m[i]),B=!pl(v,m),z=Sr.number(o)&&D("stepIndex"),W=jh(U.target);if(B&&(iH(m,c)?C(m):console.warn("Steps are not valid",m)),D("run")&&(h?P(o):I()),z){let ee=Sr.number(y)&&y<o?mo.NEXT:mo.PREV;n===mo.STOP&&(ee=mo.START),[Ii.FINISHED,Ii.SKIPPED].includes(s)||N({action:n===mo.CLOSE?mo.CLOSE:ee,index:o,lifecycle:vi.INIT})}!r&&s===Ii.RUNNING&&i===0&&!W&&(this.store.update({index:i+1}),this.callback({...this.state,type:Fu.TARGET_NOT_FOUND,step:U}));const Y={...this.state,index:i,step:U};if(k("action",[mo.NEXT,mo.PREV,mo.SKIP,mo.CLOSE])&&k("status",Ii.PAUSED)){const ee=dv(this.props,m[t.index]);this.callback({...Y,index:t.index,lifecycle:vi.COMPLETE,step:ee,type:Fu.STEP_AFTER})}if(k("status",[Ii.FINISHED,Ii.SKIPPED])){const ee=dv(this.props,m[t.index]);r||this.callback({...Y,index:t.index,lifecycle:vi.COMPLETE,step:ee,type:Fu.STEP_AFTER}),this.callback({...Y,type:Fu.TOUR_END,step:ee,index:t.index}),S()}else F("status",[Ii.IDLE,Ii.READY],Ii.RUNNING)?this.callback({...Y,type:Fu.TOUR_START}):(k("status")||k("action",mo.RESET))&&this.callback({...Y,type:Fu.TOUR_STATUS});this.scrollToStep(t)}componentWillUnmount(){const{disableCloseOnEsc:e}=this.props;e||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(e){const{index:t,lifecycle:n,status:r}=this.state,{debug:i,disableScrollParentFix:s=!1,scrollDuration:c,scrollOffset:h=20,scrollToFirstStep:o=!1,steps:m}=this.props,y=dv(this.props,m[t]),v=jh(y.target),S=Fxe({isFirstStep:t===0,lifecycle:n,previousLifecycle:e.lifecycle,scrollToFirstStep:o,step:y,target:v});if(r===Ii.RUNNING&&S){const C=l3(v,s),P=jw(v,s);let I=Math.floor(Oxe(v,h,s))||0;jg({title:"scrollToStep",data:[{key:"index",value:t},{key:"lifecycle",value:n},{key:"status",value:r}],debug:i});const N=this.store.getPopper("beacon"),D=this.store.getPopper("tooltip");if(n===vi.BEACON&&N){const{offsets:k,placement:F}=N;!["bottom"].includes(F)&&!C&&(I=Math.floor(k.popper.top-h))}else if(n===vi.TOOLTIP&&D){const{flipped:k,offsets:F,placement:U}=D;["top","right","left"].includes(U)&&!k&&!C?I=Math.floor(F.popper.top-h):I-=y.spotlightPadding}I=I>=0?I:0,r===Ii.RUNNING&&kxe(I,{element:P,duration:c}).then(()=>{setTimeout(()=>{var k;(k=this.store.getPopper("tooltip"))==null||k.instance.update()},10)})}}render(){if(!cf())return null;const{index:e,lifecycle:t,status:n}=this.state,{continuous:r=!1,debug:i=!1,nonce:s,scrollToFirstStep:c=!1,steps:h}=this.props,o=n===Ii.RUNNING,m={};if(o&&h[e]){const y=dv(this.props,h[e]);m.step=A.createElement(rwe,{...this.state,callback:this.callback,continuous:r,debug:i,helpers:this.helpers,nonce:s,shouldScroll:!y.disableScrolling&&(e!==0||c),step:y,store:this.store}),m.overlay=A.createElement(qxe,{id:"react-joyride-portal"},A.createElement(Kxe,{...y,continuous:r,debug:i,lifecycle:t,onClickOverlay:this.handleClickOverlay}))}return A.createElement("div",{className:"react-joyride"},m.step,m.overlay)}};Er(Cre,"defaultProps",zxe);var iwe=Cre,Mre={exports:{}},Ere={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iA=A;function owe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var awe=typeof Object.is=="function"?Object.is:owe,swe=iA.useSyncExternalStore,lwe=iA.useRef,cwe=iA.useEffect,uwe=iA.useMemo,dwe=iA.useDebugValue;Ere.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=lwe(null);if(s.current===null){var c={hasValue:!1,value:null};s.current=c}else c=s.current;s=uwe(function(){function o(C){if(!m){if(m=!0,y=C,C=r(C),i!==void 0&&c.hasValue){var P=c.value;if(i(P,C))return v=P}return v=C}if(P=v,awe(y,C))return P;var I=r(C);return i!==void 0&&i(P,I)?(y=C,P):(y=C,v=I)}var m=!1,y,v,S=n===void 0?null:n;return[function(){return o(t())},S===null?void 0:function(){return o(S())}]},[t,n,r,i]);var h=swe(e,s[0],s[1]);return cwe(function(){c.hasValue=!0,c.value=h},[h]),dwe(h),h};Mre.exports=Ere;var hwe=Mre.exports,_c="default"in A0?Oe:A0,aH=Symbol.for("react-redux-context"),sH=typeof globalThis<"u"?globalThis:{};function pwe(){if(!_c.createContext)return{};const e=sH[aH]??(sH[aH]=new Map);let t=e.get(_c.createContext);return t||(t=_c.createContext(null),e.set(_c.createContext,t)),t}var Nf=pwe(),fwe=()=>{throw new Error("uSES not initialized!")};function WL(e=Nf){return function(){return _c.useContext(e)}}var Tre=WL(),Pre=fwe,mwe=e=>{Pre=e},gwe=(e,t)=>e===t;function ywe(e=Nf){const t=e===Nf?Tre:WL(e),n=(r,i={})=>{const{equalityFn:s=gwe,devModeChecks:c={}}=typeof i=="function"?{equalityFn:i}:i,{store:h,subscription:o,getServerState:m,stabilityCheck:y,identityFunctionCheck:v}=t();_c.useRef(!0);const S=_c.useCallback({[r.name](P){return r(P)}}[r.name],[r,y,c.stabilityCheck]),C=Pre(o.addNestedSub,h.getState,m||h.getState,S,s);return _c.useDebugValue(C),C};return Object.assign(n,{withTypes:()=>n}),n}var Ci=ywe();function vwe(e){e()}function bwe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){vwe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var lH={notify(){},get:()=>[]};function _we(e,t){let n,r=lH,i=0,s=!1;function c(I){y();const N=r.subscribe(I);let D=!1;return()=>{D||(D=!0,N(),v())}}function h(){r.notify()}function o(){P.onStateChange&&P.onStateChange()}function m(){return s}function y(){i++,n||(n=e.subscribe(o),r=bwe())}function v(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=lH)}function S(){s||(s=!0,y())}function C(){s&&(s=!1,v())}const P={addNestedSub:c,notifyNestedSubs:h,handleChangeWrapper:o,isSubscribed:m,trySubscribe:S,tryUnsubscribe:C,getListeners:()=>r};return P}var xwe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wwe=typeof navigator<"u"&&navigator.product==="ReactNative",Swe=xwe||wwe?_c.useLayoutEffect:_c.useEffect;function Awe({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const c=_c.useMemo(()=>{const m=_we(e);return{store:e,subscription:m,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[e,r,i,s]),h=_c.useMemo(()=>e.getState(),[e]);Swe(()=>{const{subscription:m}=c;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),h!==e.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[c,h]);const o=t||Nf;return _c.createElement(o.Provider,{value:c},n)}var Cwe=Awe;function Ire(e=Nf){const t=e===Nf?Tre:WL(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var Mwe=Ire();function Ewe(e=Nf){const t=e===Nf?Mwe:Ire(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var ha=Ewe();mwe(hwe.useSyncExternalStoreWithSelector);function Es(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Twe=typeof Symbol=="function"&&Symbol.observable||"@@observable",cH=Twe,w2=()=>Math.random().toString(36).substring(7).split("").join("."),Pwe={INIT:`@@redux/INIT${w2()}`,REPLACE:`@@redux/REPLACE${w2()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${w2()}`},WE=Pwe;function GL(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Ore(e,t,n){if(typeof e!="function")throw new Error(Es(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Es(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Es(1));return n(Ore)(e,t)}let r=e,i=t,s=new Map,c=s,h=0,o=!1;function m(){c===s&&(c=new Map,s.forEach((N,D)=>{c.set(D,N)}))}function y(){if(o)throw new Error(Es(3));return i}function v(N){if(typeof N!="function")throw new Error(Es(4));if(o)throw new Error(Es(5));let D=!0;m();const k=h++;return c.set(k,N),function(){if(D){if(o)throw new Error(Es(6));D=!1,m(),c.delete(k),s=null}}}function S(N){if(!GL(N))throw new Error(Es(7));if(typeof N.type>"u")throw new Error(Es(8));if(typeof N.type!="string")throw new Error(Es(17));if(o)throw new Error(Es(9));try{o=!0,i=r(i,N)}finally{o=!1}return(s=c).forEach(k=>{k()}),N}function C(N){if(typeof N!="function")throw new Error(Es(10));r=N,S({type:WE.REPLACE})}function P(){const N=v;return{subscribe(D){if(typeof D!="object"||D===null)throw new Error(Es(11));function k(){const U=D;U.next&&U.next(y())}return k(),{unsubscribe:N(k)}},[cH](){return this}}}return S({type:WE.INIT}),{dispatch:S,subscribe:v,getState:y,replaceReducer:C,[cH]:P}}function Iwe(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:WE.INIT})>"u")throw new Error(Es(12));if(typeof n(void 0,{type:WE.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Es(13))})}function Owe(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const c=t[s];typeof e[c]=="function"&&(n[c]=e[c])}const r=Object.keys(n);let i;try{Iwe(n)}catch(s){i=s}return function(c={},h){if(i)throw i;let o=!1;const m={};for(let y=0;y<r.length;y++){const v=r[y],S=n[v],C=c[v],P=S(C,h);if(typeof P>"u")throw h&&h.type,new Error(Es(14));m[v]=P,o=o||P!==C}return o=o||r.length!==Object.keys(c).length,o?m:c}}function GE(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function kwe(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Es(15))};const c={getState:i.getState,dispatch:(o,...m)=>s(o,...m)},h=e.map(o=>o(c));return s=GE(...h)(i.dispatch),{...i,dispatch:s}}}function Nwe(e){return GL(e)&&"type"in e&&typeof e.type=="string"}var kre=Symbol.for("immer-nothing"),uH=Symbol.for("immer-draftable"),Ec=Symbol.for("immer-state");function ju(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var F0=Object.getPrototypeOf;function Rf(e){return!!e&&!!e[Ec]}function np(e){var t;return e?Nre(e)||Array.isArray(e)||!!e[uH]||!!((t=e.constructor)!=null&&t[uH])||u3(e)||d3(e):!1}var Rwe=Object.prototype.constructor.toString();function Nre(e){if(!e||typeof e!="object")return!1;const t=F0(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Rwe}function KE(e,t){c3(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function c3(e){const t=e[Ec];return t?t.type_:Array.isArray(e)?1:u3(e)?2:d3(e)?3:0}function _N(e,t){return c3(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Rre(e,t,n){const r=c3(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Dwe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function u3(e){return e instanceof Map}function d3(e){return e instanceof Set}function tg(e){return e.copy_||e.base_}function xN(e,t){if(u3(e))return new Map(e);if(d3(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Nre(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ec];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const c=i[s],h=r[c];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(r[c]={configurable:!0,writable:!0,enumerable:h.enumerable,value:e[c]})}return Object.create(F0(e),r)}else{const r=F0(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function KL(e,t=!1){return h3(e)||Rf(e)||!np(e)||(c3(e)>1&&(e.set=e.add=e.clear=e.delete=Lwe),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>KL(r,!0))),e}function Lwe(){ju(2)}function h3(e){return Object.isFrozen(e)}var Fwe={};function zg(e){const t=Fwe[e];return t||ju(0,e),t}var zw;function Dre(){return zw}function $we(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function dH(e,t){t&&(zg("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function wN(e){SN(e),e.drafts_.forEach(jwe),e.drafts_=null}function SN(e){e===zw&&(zw=e.parent_)}function hH(e){return zw=$we(zw,e)}function jwe(e){const t=e[Ec];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pH(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ec].modified_&&(wN(t),ju(4)),np(e)&&(e=qE(t,e),t.parent_||XE(t,e)),t.patches_&&zg("Patches").generateReplacementPatches_(n[Ec].base_,e,t.patches_,t.inversePatches_)):e=qE(t,n,[]),wN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kre?e:void 0}function qE(e,t,n){if(h3(t))return t;const r=t[Ec];if(!r)return KE(t,(i,s)=>fH(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return XE(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,c=!1;r.type_===3&&(s=new Set(i),i.clear(),c=!0),KE(s,(h,o)=>fH(e,r,i,h,o,n,c)),XE(e,i,!1),n&&e.patches_&&zg("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function fH(e,t,n,r,i,s,c){if(Rf(i)){const h=s&&t&&t.type_!==3&&!_N(t.assigned_,r)?s.concat(r):void 0,o=qE(e,i,h);if(Rre(n,r,o),Rf(o))e.canAutoFreeze_=!1;else return}else c&&n.add(i);if(np(i)&&!h3(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;qE(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&XE(e,i)}}function XE(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&KL(t,n)}function zwe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Dre(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=qL;n&&(i=[r],s=Bw);const{revoke:c,proxy:h}=Proxy.revocable(i,s);return r.draft_=h,r.revoke_=c,h}var qL={get(e,t){if(t===Ec)return e;const n=tg(e);if(!_N(n,t))return Bwe(e,n,t);const r=n[t];return e.finalized_||!np(r)?r:r===S2(e.base_,t)?(A2(e),e.copy_[t]=CN(r,e)):r},has(e,t){return t in tg(e)},ownKeys(e){return Reflect.ownKeys(tg(e))},set(e,t,n){const r=Lre(tg(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=S2(tg(e),t),s=i==null?void 0:i[Ec];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Dwe(n,i)&&(n!==void 0||_N(e.base_,t)))return!0;A2(e),AN(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return S2(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,A2(e),AN(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=tg(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ju(11)},getPrototypeOf(e){return F0(e.base_)},setPrototypeOf(){ju(12)}},Bw={};KE(qL,(e,t)=>{Bw[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Bw.deleteProperty=function(e,t){return Bw.set.call(this,e,t,void 0)};Bw.set=function(e,t,n){return qL.set.call(this,e[0],t,n,e[0])};function S2(e,t){const n=e[Ec];return(n?tg(n):e)[t]}function Bwe(e,t,n){var i;const r=Lre(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Lre(e,t){if(!(t in e))return;let n=F0(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=F0(n)}}function AN(e){e.modified_||(e.modified_=!0,e.parent_&&AN(e.parent_))}function A2(e){e.copy_||(e.copy_=xN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Zwe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const c=this;return function(o=s,...m){return c.produce(o,y=>n.call(this,y,...m))}}typeof n!="function"&&ju(6),r!==void 0&&typeof r!="function"&&ju(7);let i;if(np(t)){const s=hH(this),c=CN(t,void 0);let h=!0;try{i=n(c),h=!1}finally{h?wN(s):SN(s)}return dH(s,r),pH(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===kre&&(i=void 0),this.autoFreeze_&&KL(i,!0),r){const s=[],c=[];zg("Patches").generateReplacementPatches_(t,i,s,c),r(s,c)}return i}else ju(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...h)=>this.produceWithPatches(c,o=>t(o,...h));let r,i;return[this.produce(t,n,(c,h)=>{r=c,i=h}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){np(e)||ju(8),Rf(e)&&(e=Fre(e));const t=hH(this),n=CN(e,void 0);return n[Ec].isManual_=!0,SN(t),n}finishDraft(e,t){const n=e&&e[Ec];(!n||!n.isManual_)&&ju(9);const{scope_:r}=n;return dH(r,t),pH(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=zg("Patches").applyPatches_;return Rf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function CN(e,t){const n=u3(e)?zg("MapSet").proxyMap_(e,t):d3(e)?zg("MapSet").proxySet_(e,t):zwe(e,t);return(t?t.scope_:Dre()).drafts_.push(n),n}function Fre(e){return Rf(e)||ju(10,e),$re(e)}function $re(e){if(!np(e)||h3(e))return e;const t=e[Ec];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=xN(e,t.scope_.immer_.useStrictShallowCopy_)}else n=xN(e,!0);return KE(n,(r,i)=>{Rre(n,r,$re(i))}),t&&(t.finalized_=!1),n}var Tc=new Zwe,jre=Tc.produce;Tc.produceWithPatches.bind(Tc);Tc.setAutoFreeze.bind(Tc);Tc.setUseStrictShallowCopy.bind(Tc);Tc.applyPatches.bind(Tc);Tc.createDraft.bind(Tc);Tc.finishDraft.bind(Tc);function Uwe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Hwe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Vwe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var mH=e=>Array.isArray(e)?e:[e];function Wwe(e){const t=Array.isArray(e[0])?e[0]:e;return Vwe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Gwe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Kwe=class{constructor(e){this.value=e}deref(){return this.value}},qwe=typeof WeakRef<"u"?WeakRef:Kwe,Xwe=0,gH=1;function zC(){return{s:Xwe,v:void 0,o:null,p:null}}function XL(e,t={}){let n=zC();const{resultEqualityCheck:r}=t;let i,s=0;function c(){var v;let h=n;const{length:o}=arguments;for(let S=0,C=o;S<C;S++){const P=arguments[S];if(typeof P=="function"||typeof P=="object"&&P!==null){let I=h.o;I===null&&(h.o=I=new WeakMap);const N=I.get(P);N===void 0?(h=zC(),I.set(P,h)):h=N}else{let I=h.p;I===null&&(h.p=I=new Map);const N=I.get(P);N===void 0?(h=zC(),I.set(P,h)):h=N}}const m=h;let y;if(h.s===gH)y=h.v;else if(y=e.apply(null,arguments),s++,r){const S=((v=i==null?void 0:i.deref)==null?void 0:v.call(i))??i;S!=null&&r(S,y)&&(y=S,s!==0&&s--),i=typeof y=="object"&&y!==null||typeof y=="function"?new qwe(y):y}return m.s=gH,m.v=y,y}return c.clearCache=()=>{n=zC(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function zre(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,c=0,h,o={},m=i.pop();typeof m=="object"&&(o=m,m=i.pop()),Uwe(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const y={...n,...o},{memoize:v,memoizeOptions:S=[],argsMemoize:C=XL,argsMemoizeOptions:P=[]}=y,I=mH(S),N=mH(P),D=Wwe(i),k=v(function(){return s++,m.apply(null,arguments)},...I),F=C(function(){c++;const B=Gwe(D,arguments);return h=k.apply(null,B),h},...N);return Object.assign(F,{resultFunc:m,memoizedResultFunc:k,dependencies:D,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>h,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:v,argsMemoize:C})};return Object.assign(r,{withTypes:()=>r}),r}var Ywe=zre(XL),Jwe=Object.assign((e,t=Ywe)=>{Hwe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((c,h,o)=>(c[n[o]]=h,c),{}))},{withTypes:()=>Jwe});function Bre(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var Qwe=Bre(),eSe=Bre,tSe=(...e)=>{const t=zre(...e),n=Object.assign((...r)=>{const i=t(...r),s=(c,...h)=>i(Rf(c)?Fre(c):c,...h);return Object.assign(s,i),s},{withTypes:()=>n});return n};tSe(XL);var nSe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?GE:GE.apply(null,arguments)},rSe=e=>e&&typeof e.match=="function";function Gh(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Bl(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Nwe(r)&&r.type===e,n}var Zre=class $x extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,$x.prototype)}static get[Symbol.species](){return $x}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new $x(...t[0].concat(this)):new $x(...t.concat(this))}};function yH(e){return np(e)?jre(e,()=>{}):e}function vH(e,t,n){if(e.has(t)){let i=e.get(t);return n.update&&(i=n.update(i,t,e),e.set(t,i)),i}if(!n.insert)throw new Error(Bl(10));const r=n.insert(t,e);return e.set(t,r),r}function iSe(e){return typeof e=="boolean"}var oSe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let c=new Zre;return n&&(iSe(n)?c.push(Qwe):c.push(eSe(n.extraArgument))),c},aSe="RTK_autoBatch",Ure=e=>t=>{setTimeout(t,e)},sSe=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ure(10),lSe=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,c=!1;const h=new Set,o=e.type==="tick"?queueMicrotask:e.type==="raf"?sSe:e.type==="callback"?e.queueNotification:Ure(e.timeout),m=()=>{c=!1,s&&(s=!1,h.forEach(y=>y()))};return Object.assign({},r,{subscribe(y){const v=()=>i&&y(),S=r.subscribe(v);return h.add(y),()=>{S(),h.delete(y)}},dispatch(y){var v;try{return i=!((v=y==null?void 0:y.meta)!=null&&v[aSe]),s=!i,s&&(c||(c=!0,o(m))),r.dispatch(y)}finally{i=!0}}})},cSe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new Zre(e);return r&&i.push(lSe(typeof r=="object"?r:void 0)),i};function uSe(e){const t=oSe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let h;if(typeof n=="function")h=n;else if(GL(n))h=Owe(n);else throw new Error(Bl(1));let o;typeof r=="function"?o=r(t):o=t();let m=GE;i&&(m=nSe({trace:!1,...typeof i=="object"&&i}));const y=kwe(...o),v=cSe(y);let S=typeof c=="function"?c(v):v();const C=m(...S);return Ore(h,s,C)}function Hre(e){const t={},n=[];let r;const i={addCase(s,c){const h=typeof s=="string"?s:s.type;if(!h)throw new Error(Bl(28));if(h in t)throw new Error(Bl(29));return t[h]=c,i},addMatcher(s,c){return n.push({matcher:s,reducer:c}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function dSe(e){return typeof e=="function"}function hSe(e,t){let[n,r,i]=Hre(t),s;if(dSe(e))s=()=>yH(e());else{const h=yH(e);s=()=>h}function c(h=s(),o){let m=[n[o.type],...r.filter(({matcher:y})=>y(o)).map(({reducer:y})=>y)];return m.filter(y=>!!y).length===0&&(m=[i]),m.reduce((y,v)=>{if(v)if(Rf(y)){const C=v(y,o);return C===void 0?y:C}else{if(np(y))return jre(y,S=>v(S,o));{const S=v(y,o);if(S===void 0){if(y===null)return y;throw new Error(Bl(9))}return S}}return y},h)}return c.getInitialState=s,c}var pSe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Vre=(e=21)=>{let t="",n=e;for(;n--;)t+=pSe[Math.random()*64|0];return t},fSe=(e,t)=>rSe(e)?e.match(t):e(t);function mSe(...e){return t=>e.some(n=>fSe(n,t))}var gSe=["name","message","stack","code"],C2=class{constructor(e,t){WO(this,"_type");this.payload=e,this.meta=t}},bH=class{constructor(e,t){WO(this,"_type");this.payload=e,this.meta=t}},ySe=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of gSe)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},vSe=(()=>{function e(t,n,r){const i=Gh(t+"/fulfilled",(o,m,y,v)=>({payload:o,meta:{...v||{},arg:y,requestId:m,requestStatus:"fulfilled"}})),s=Gh(t+"/pending",(o,m,y)=>({payload:void 0,meta:{...y||{},arg:m,requestId:o,requestStatus:"pending"}})),c=Gh(t+"/rejected",(o,m,y,v,S)=>({payload:v,error:(r&&r.serializeError||ySe)(o||"Rejected"),meta:{...S||{},arg:y,requestId:m,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(o==null?void 0:o.name)==="AbortError",condition:(o==null?void 0:o.name)==="ConditionError"}}));function h(o){return(m,y,v)=>{const S=r!=null&&r.idGenerator?r.idGenerator(o):Vre(),C=new AbortController;let P,I;function N(k){I=k,C.abort()}const D=async function(){var U,B;let k;try{let z=(U=r==null?void 0:r.condition)==null?void 0:U.call(r,o,{getState:y,extra:v});if(_Se(z)&&(z=await z),z===!1||C.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const W=new Promise((Y,K)=>{P=()=>{K({name:"AbortError",message:I||"Aborted"})},C.signal.addEventListener("abort",P)});m(s(S,o,(B=r==null?void 0:r.getPendingMeta)==null?void 0:B.call(r,{requestId:S,arg:o},{getState:y,extra:v}))),k=await Promise.race([W,Promise.resolve(n(o,{dispatch:m,getState:y,extra:v,requestId:S,signal:C.signal,abort:N,rejectWithValue:(Y,K)=>new C2(Y,K),fulfillWithValue:(Y,K)=>new bH(Y,K)})).then(Y=>{if(Y instanceof C2)throw Y;return Y instanceof bH?i(Y.payload,S,o,Y.meta):i(Y,S,o)})])}catch(z){k=z instanceof C2?c(null,S,o,z.payload,z.meta):c(z,S,o)}finally{P&&C.signal.removeEventListener("abort",P)}return r&&!r.dispatchConditionRejection&&c.match(k)&&k.meta.condition||m(k),k}();return Object.assign(D,{abort:N,requestId:S,arg:o,unwrap(){return D.then(bSe)}})}}return Object.assign(h,{pending:s,rejected:c,fulfilled:i,settled:mSe(c,i),typePrefix:t})}return e.withTypes=()=>e,e})();function bSe(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function _Se(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var xSe=Symbol.for("rtk-slice-createasyncthunk");function wSe(e,t){return`${e}/${t}`}function SSe({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[xSe];return function(i){const{name:s,reducerPath:c=s}=i;if(!s)throw new Error(Bl(11));const h=(typeof i.reducers=="function"?i.reducers(CSe()):i.reducers)||{},o=Object.keys(h),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(F,U){const B=typeof F=="string"?F:F.type;if(!B)throw new Error(Bl(12));if(B in m.sliceCaseReducersByType)throw new Error(Bl(13));return m.sliceCaseReducersByType[B]=U,y},addMatcher(F,U){return m.sliceMatchers.push({matcher:F,reducer:U}),y},exposeAction(F,U){return m.actionCreators[F]=U,y},exposeCaseReducer(F,U){return m.sliceCaseReducersByName[F]=U,y}};o.forEach(F=>{const U=h[F],B={reducerName:F,type:wSe(s,F),createNotation:typeof i.reducers=="function"};ESe(U)?PSe(B,U,y,t):MSe(B,U,y)});function v(){const[F={},U=[],B=void 0]=typeof i.extraReducers=="function"?Hre(i.extraReducers):[i.extraReducers],z={...F,...m.sliceCaseReducersByType};return hSe(i.initialState,W=>{for(let Y in z)W.addCase(Y,z[Y]);for(let Y of m.sliceMatchers)W.addMatcher(Y.matcher,Y.reducer);for(let Y of U)W.addMatcher(Y.matcher,Y.reducer);B&&W.addDefaultCase(B)})}const S=F=>F,C=new Map;let P;function I(F,U){return P||(P=v()),P(F,U)}function N(){return P||(P=v()),P.getInitialState()}function D(F,U=!1){function B(W){let Y=W[F];return typeof Y>"u"&&U&&(Y=N()),Y}function z(W=S){const Y=vH(C,U,{insert:()=>new WeakMap});return vH(Y,W,{insert:()=>{const K={};for(const[ee,re]of Object.entries(i.selectors??{}))K[ee]=ASe(re,W,N,U);return K}})}return{reducerPath:F,getSelectors:z,get selectors(){return z(B)},selectSlice:B}}const k={name:s,reducer:I,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:N,...D(c),injectInto(F,{reducerPath:U,...B}={}){const z=U??c;return F.inject({reducerPath:z,reducer:I},B),{...k,...D(z,!0)}}};return k}}function ASe(e,t,n,r){function i(s,...c){let h=t(s);return typeof h>"u"&&r&&(h=n()),e(h,...c)}return i.unwrapped=e,i}var Eb=SSe();function CSe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function MSe({type:e,reducerName:t,createNotation:n},r,i){let s,c;if("reducer"in r){if(n&&!TSe(r))throw new Error(Bl(17));s=r.reducer,c=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,c?Gh(e,c):Gh(e))}function ESe(e){return e._reducerDefinitionType==="asyncThunk"}function TSe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function PSe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Bl(18));const{payloadCreator:s,fulfilled:c,pending:h,rejected:o,settled:m,options:y}=n,v=i(e,s,y);r.exposeAction(t,v),c&&r.addCase(v.fulfilled,c),h&&r.addCase(v.pending,h),o&&r.addCase(v.rejected,o),m&&r.addMatcher(v.settled,m),r.exposeCaseReducer(t,{fulfilled:c||BC,pending:h||BC,rejected:o||BC,settled:m||BC})}function BC(){}var ISe=(e,t)=>{if(typeof e!="function")throw new Error(Bl(32))},YL="listenerMiddleware",OSe=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Gh(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Bl(21));return ISe(s),{predicate:i,type:t,effect:s}},kSe=Object.assign(e=>{const{type:t,predicate:n,effect:r}=OSe(e);return{id:Vre(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Bl(22))}}},{withTypes:()=>kSe}),NSe=Object.assign(Gh(`${YL}/add`),{withTypes:()=>NSe});Gh(`${YL}/removeAll`);var RSe=Object.assign(Gh(`${YL}/remove`),{withTypes:()=>RSe});function Bl(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const DSe={projectMarkers:[],selectedPOI:null,selectedPanel:null,popupInfo:{isOpen:!1,type:null,properties:null}},Wre=Eb({name:"mapData",initialState:DSe,reducers:{setProjectMarkers:(e,t)=>{e.projectMarkers=t.payload},setSelectedPOI:(e,t)=>{e.selectedPOI=t.payload},clearSelectedPOI:e=>{e.selectedPOI=null},setSelectedPanel:(e,t)=>{e.selectedPanel=t.payload},setPopupInfo:(e,t)=>{e.popupInfo=t.payload},clearPopupInfo:e=>{e.popupInfo={isOpen:!1,type:null,properties:null}}}}),{setProjectMarkers:LSe,setSelectedPOI:Gre,clearSelectedPOI:FSe,setSelectedPanel:ew,setPopupInfo:_H,clearPopupInfo:$Se}=Wre.actions,jSe=Wre.reducer,zSe=(e,t,n,r)=>{var s,c,h,o;const i=[n,{code:t,...r||{}}];if((c=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&c.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);Eg(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(o=(h=e==null?void 0:e.services)==null?void 0:h.logger)!=null&&o.warn?e.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},xH={},MN=(e,t,n,r)=>{Eg(n)&&xH[n]||(Eg(n)&&(xH[n]=new Date),zSe(e,t,n,r))},Kre=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},EN=(e,t,n)=>{e.loadNamespaces(t,Kre(e,n))},wH=(e,t,n,r)=>{if(Eg(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return EN(e,n,r);n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,Kre(e,r))},BSe=(e,t,n={})=>!t.languages||!t.languages.length?(MN(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,i)=>{var s;if(((s=n.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,e))return!1}}),Eg=e=>typeof e=="string",ZSe=e=>typeof e=="object"&&e!==null,USe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,HSe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},VSe=e=>HSe[e],WSe=e=>e.replace(USe,VSe);let TN={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:WSe};const GSe=(e={})=>{TN={...TN,...e}},KSe=()=>TN;let qre;const qSe=e=>{qre=e},XSe=()=>qre,YSe={type:"3rdParty",init(e){GSe(e.options.react),qSe(e)}},JSe=A.createContext();class QSe{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const eAe=(e,t)=>{const n=A.useRef();return A.useEffect(()=>{n.current=e},[e,t]),n.current},Xre=(e,t,n,r)=>e.getFixedT(t,n,r),tAe=(e,t,n,r)=>A.useCallback(Xre(e,t,n,r),[e,t,n,r]),Zi=(e,t={})=>{var U,B,z,W;const{i18n:n}=t,{i18n:r,defaultNS:i}=A.useContext(JSe)||{},s=n||r||XSe();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new QSe),!s){MN(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const Y=(ee,re)=>Eg(re)?re:ZSe(re)&&Eg(re.defaultValue)?re.defaultValue:Array.isArray(ee)?ee[ee.length-1]:ee,K=[Y,{},!1];return K.t=Y,K.i18n={},K.ready=!1,K}(U=s.options.react)!=null&&U.wait&&MN(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...KSe(),...s.options.react,...t},{useSuspense:h,keyPrefix:o}=c;let m=i||((B=s.options)==null?void 0:B.defaultNS);m=Eg(m)?[m]:m||["translation"],(W=(z=s.reportNamespaces).addUsedNamespaces)==null||W.call(z,m);const y=(s.isInitialized||s.initializedStoreOnce)&&m.every(Y=>BSe(Y,s,c)),v=tAe(s,t.lng||null,c.nsMode==="fallback"?m:m[0],o),S=()=>v,C=()=>Xre(s,t.lng||null,c.nsMode==="fallback"?m:m[0],o),[P,I]=A.useState(S);let N=m.join();t.lng&&(N=`${t.lng}${N}`);const D=eAe(N),k=A.useRef(!0);A.useEffect(()=>{const{bindI18n:Y,bindI18nStore:K}=c;k.current=!0,!y&&!h&&(t.lng?wH(s,t.lng,m,()=>{k.current&&I(C)}):EN(s,m,()=>{k.current&&I(C)})),y&&D&&D!==N&&k.current&&I(C);const ee=()=>{k.current&&I(C)};return Y&&(s==null||s.on(Y,ee)),K&&(s==null||s.store.on(K,ee)),()=>{k.current=!1,s&&(Y==null||Y.split(" ").forEach(re=>s.off(re,ee))),K&&s&&K.split(" ").forEach(re=>s.store.off(re,ee))}},[s,N]),A.useEffect(()=>{k.current&&y&&I(S)},[s,o,y]);const F=[P,s,y];if(F.t=P,F.i18n=s,F.ready=y,y||!y&&!h)return F;throw new Promise(Y=>{t.lng?wH(s,t.lng,m,()=>Y()):EN(s,m,()=>Y())})};var Yre={exports:{}};(function(e,t){var n={};(function(r,i){e.exports=i()})($d,function(){var r,i,s;function c(o,m){if(!r)r=m;else if(!i)i=m;else{var y="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+r+")(sharedChunk); ("+i+")(sharedChunk); self.onerror = null;",v={};r(v),s=m(v),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(s.workerUrl=window.URL.createObjectURL(new Blob([y],{type:"text/javascript"})))}}c(["exports"],function(o){var m="3.3.0";let y;const v={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(y==null){const l=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{y=n.API_URL_REGEX!=null?new RegExp(n.API_URL_REGEX):l}catch{y=l}}return y},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!v.API_URL)return null;try{const l=new URL(v.API_URL);return l.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":l.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",RASTERARRAYS_URL_PREFIX:"rasterarrays/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,DEFAULT_STYLE:"mapbox://styles/mapbox/standard",MAX_PARALLEL_IMAGE_REQUESTS:16,DRACO_URL:"https://api.mapbox.com/mapbox-gl-js/draco_decoder_gltf_v1.5.6.wasm",MESHOPT_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_base_v0.20.wasm",MESHOPT_SIMD_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_simd_v0.20.wasm",GLYPHS_URL:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"};function S(l){return v.API_URL_REGEX.test(l)}function C(l){return l.indexOf("mapbox:")===0}function P(l){return v.API_CDN_URL_REGEX.test(l)}function I(l){return v.API_SPRITE_REGEX.test(l)}function N(l){return v.API_STYLE_REGEX.test(l)&&!I(l)}const D={create:"create",load:"load",fullLoad:"fullLoad"};function k(l){const a=l.name.split("?")[0];return P(a)&&a.includes("mapbox-gl.js")?"javascript":P(a)&&a.includes("mapbox-gl.css")?"css":function(u){return v.API_FONTS_REGEX.test(u)}(a)?"fontRange":I(a)?"sprite":N(a)?"style":function(u){return v.API_TILEJSON_REGEX.test(u)}(a)?"tilejson":"other"}function F(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var U=B;function B(l,a,u,p){this.cx=3*l,this.bx=3*(u-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(p-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=a,this.p2x=u,this.p2y=p}B.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,a){if(a===void 0&&(a=1e-6),l<0)return 0;if(l>1)return 1;for(var u=l,p=0;p<8;p++){var g=this.sampleCurveX(u)-l;if(Math.abs(g)<a)return u;var b=this.sampleCurveDerivativeX(u);if(Math.abs(b)<1e-6)break;u-=g/b}var w=0,E=1;for(u=l,p=0;p<20&&(g=this.sampleCurveX(u),!(Math.abs(g-l)<a));p++)l>g?w=u:E=u,u=.5*(E-w)+w;return u},solve:function(l,a){return this.sampleCurveY(this.solveCurveX(l,a))}};var z=F(U),W=Y;function Y(l,a){this.x=l,this.y=a}Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(l){return this.clone()._add(l)},sub:function(l){return this.clone()._sub(l)},multByPoint:function(l){return this.clone()._multByPoint(l)},divByPoint:function(l){return this.clone()._divByPoint(l)},mult:function(l){return this.clone()._mult(l)},div:function(l){return this.clone()._div(l)},rotate:function(l){return this.clone()._rotate(l)},rotateAround:function(l,a){return this.clone()._rotateAround(l,a)},matMult:function(l){return this.clone()._matMult(l)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(l){return this.x===l.x&&this.y===l.y},dist:function(l){return Math.sqrt(this.distSqr(l))},distSqr:function(l){var a=l.x-this.x,u=l.y-this.y;return a*a+u*u},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(l){return Math.atan2(this.y-l.y,this.x-l.x)},angleWith:function(l){return this.angleWithSep(l.x,l.y)},angleWithSep:function(l,a){return Math.atan2(this.x*a-this.y*l,this.x*l+this.y*a)},_matMult:function(l){var a=l[2]*this.x+l[3]*this.y;return this.x=l[0]*this.x+l[1]*this.y,this.y=a,this},_add:function(l){return this.x+=l.x,this.y+=l.y,this},_sub:function(l){return this.x-=l.x,this.y-=l.y,this},_mult:function(l){return this.x*=l,this.y*=l,this},_div:function(l){return this.x/=l,this.y/=l,this},_multByPoint:function(l){return this.x*=l.x,this.y*=l.y,this},_divByPoint:function(l){return this.x/=l.x,this.y/=l.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var l=this.y;return this.y=this.x,this.x=-l,this},_rotate:function(l){var a=Math.cos(l),u=Math.sin(l),p=u*this.x+a*this.y;return this.x=a*this.x-u*this.y,this.y=p,this},_rotateAround:function(l,a){var u=Math.cos(l),p=Math.sin(l),g=a.y+p*(this.x-a.x)+u*(this.y-a.y);return this.x=a.x+u*(this.x-a.x)-p*(this.y-a.y),this.y=g,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Y.convert=function(l){return l instanceof Y?l:Array.isArray(l)?new Y(l[0],l[1]):l};var K=F(W);const ee=Math.PI/180,re=180/Math.PI;function oe(l){return l*ee}function he(l){return l*re}const be=[[0,0],[1,0],[1,1],[0,1]];function le(l){if(l<=0)return 0;if(l>=1)return 1;const a=l*l,u=a*l;return 4*(l<.5?u:3*(l-a)+u-.75)}function ye(l,a,u,p){const g=new z(l,a,u,p);return function(b){return g.solve(b)}}const fe=ye(.25,.1,.25,1);function ue(l,a,u){return Math.min(u,Math.max(a,l))}function xe(l,a,u){return(u=ue((u-l)/(a-l),0,1))*u*(3-2*u)}function ae(l,a,u){const p=u-a,g=((l-a)%p+p)%p+a;return g===a?u:g}function Ee(l,a,u){if(!l.length)return u(null,[]);let p=l.length;const g=new Array(l.length);let b=null;l.forEach((w,E)=>{a(w,(O,R)=>{O&&(b=O),g[E]=R,--p==0&&u(b,g)})})}function Me(l,...a){for(const u of a)for(const p in u)l[p]=u[p];return l}let de=1;function ze(){return de++}function $e(){return function l(a){return a?(a^Math.random()*(16>>a/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,l)}()}function et(l){return l<=1?1:Math.pow(2,Math.ceil(Math.log(l)/Math.LN2))}function gt(l){return!!l&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(l)}function lt(l,a){l.forEach(u=>{a[u]&&(a[u]=a[u].bind(a))})}function We(l,a){return l.indexOf(a,l.length-a.length)!==-1}function qe(l,a,u){const p={};for(const g in l)p[g]=a.call(u||this,l[g],g,l);return p}function Qe(l,a,u){const p={};for(const g in l)a.call(u||this,l[g],g,l)&&(p[g]=l[g]);return p}function Ve(l){return Array.isArray(l)?l.map(Ve):typeof l=="object"&&l?qe(l,Ve):l}const yt={};function it(l){yt[l]||(typeof console<"u"&&console.warn(l),yt[l]=!0)}function pt(l,a,u){return(u.y-l.y)*(a.x-l.x)>(a.y-l.y)*(u.x-l.x)}function $t(l){let a=0;for(let u,p,g=0,b=l.length,w=b-1;g<b;w=g++)u=l[g],p=l[w],a+=(p.x-u.x)*(u.y+p.y);return a}function Jt([l,a,u]){const p=oe(a+90),g=oe(u);return{x:l*Math.cos(p)*Math.sin(g),y:l*Math.sin(p)*Math.sin(g),z:l*Math.cos(g),azimuthal:a,polar:u}}function on(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ln(l){const a={};if(l.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(u,p,g,b)=>{const w=g||b;return a[p]=!w||w.toLowerCase(),""}),a["max-age"]){const u=parseInt(a["max-age"],10);isNaN(u)?delete a["max-age"]:a["max-age"]=u}return a}let Lt,en,Kt,Zt,En,Fn,je=null;function me(l){try{const a=self[l];return a.setItem("_mapbox_test_",1),a.removeItem("_mapbox_test_"),!0}catch{return!1}}function we(l,a){return[l[4*a],l[4*a+1],l[4*a+2],l[4*a+3]]}function Ne(l,a,u,p){for(;a<u;){const g=a+u>>1;l[g]<p?a=g+1:u=g}return a}function Xe(l,a,u,p){for(;a<u;){const g=a+u>>1;l[g]<=p?a=g+1:u=g}return a}function ot(){return Lt==null&&(Lt=self.OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),Lt}const st={now:()=>Zt!==void 0?Zt:performance.now(),setNow(l){Zt=l},restoreNow(){Zt=void 0},frame(l){const a=requestAnimationFrame(l);return{cancel:()=>cancelAnimationFrame(a)}},getImageData(l,a=0){const{width:u,height:p}=l;En||(En=document.createElement("canvas"));const g=En.getContext("2d",{willReadFrequently:!0});if(!g)throw new Error("failed to create canvas 2d context");return(u>En.width||p>En.height)&&(En.width=u,En.height=p),g.clearRect(-a,-a,u+2*a,p+2*a),g.drawImage(l,0,0,u,p),g.getImageData(-a,-a,u+2*a,p+2*a)},resolveURL:l=>(en||(en=document.createElement("a")),en.href=l,en.href),get devicePixelRatio(){return window.devicePixelRatio},get prefersReducedMotion(){return!!window.matchMedia&&(Kt==null&&(Kt=window.matchMedia("(prefers-reduced-motion: reduce)")),Kt.matches)},hasCanvasFingerprintNoise(){if(Fn!==void 0)return Fn;if(!ot())return Fn=!1,!1;const l=new OffscreenCanvas(85,1),a=l.getContext("2d",{willReadFrequently:!0});let u=0;for(let g=0;g<l.width;++g)a.fillStyle=`rgba(${u++},${u++},${u++}, 255)`,a.fillRect(g,0,1,1);const p=a.getImageData(0,0,l.width,l.height);u=0;for(let g=0;g<p.data.length;++g)if(g%4!=3&&u++!==p.data[g])return Fn=!0,!0;return Fn=!1,!1}},_t="mapbox-tiles";let nt=500,St=50,Et,ft;function jt(){try{return caches}catch{}}function Bn(){const l=jt();l&&!Et&&(Et=l.open(_t))}function rr(l){const a=l.indexOf("?");if(a<0)return l;const u=["language","worldview"],p=new URLSearchParams,g=new URLSearchParams(l.slice(a));for(const b of u){const w=g.get(b);w&&p.set(b,w)}return`${l.slice(0,a)}?${p.toString()}`}function dr(l,a){const u=l.indexOf("?");if(u<0)return`${l}?${new URLSearchParams(a).toString()}`;const p=new URLSearchParams(l.slice(u));for(const g in a)p.set(g,a[g]);return`${l.slice(0,u)}?${p.toString()}`}let ar=1/0;const un={supported:!1,testSupport:function(l){!In&&vn&&(Sn?kn(l):hn=l)}};let hn,vn,In=!1,Sn=!1;const an=typeof self<"u"?self:{};function kn(l){const a=l.createTexture();l.bindTexture(l.TEXTURE_2D,a);try{if(l.texImage2D(l.TEXTURE_2D,0,l.RGBA,l.RGBA,l.UNSIGNED_BYTE,vn),l.isContextLost())return;un.supported=!0}catch{}l.deleteTexture(a),In=!0}an.document&&(vn=an.document.createElement("img"),vn.onload=function(){hn&&kn(hn),hn=null,Sn=!0},vn.onerror=function(){In=!0,hn=null},vn.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const hr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image",Model:"Model"};typeof Object.freeze=="function"&&Object.freeze(hr);class Ht extends Error{constructor(a,u,p){u===401&&S(p)&&(a+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(a),this.status=u,this.url=p}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Un=on()?()=>self.worker&&self.worker.referrer:()=>(location.protocol==="blob:"?parent:self).location.href,rt=function(l,a){if(!(/^file:/.test(u=l.url)||/^file:/.test(Un())&&!/^\w+:/.test(u))){if(self.fetch&&self.Request&&self.AbortController&&Request.prototype.hasOwnProperty("signal"))return function(p,g){const b=new AbortController,w=new Request(p.url,{method:p.method||"GET",body:p.body,credentials:p.credentials,headers:p.headers,referrer:Un(),referrerPolicy:p.referrerPolicy,signal:b.signal});let E=!1,O=!1;const R=($=w.url).indexOf("sku=")>0&&S($);var $;p.type==="json"&&w.headers.set("Accept","application/json");const Z=(X,Q,ne)=>{if(O)return;if(X&&X.message!=="SecurityError"&&it(X.toString()),Q&&ne)return V(Q);const ce=Date.now();fetch(w).then(ge=>{if(ge.ok){const Te=R?ge.clone():null;return V(ge,Te,ce)}return g(new Ht(ge.statusText,ge.status,p.url))}).catch(ge=>{ge.name!=="AbortError"&&g(new Error(`${ge.message} ${p.url}`))})},V=(X,Q,ne)=>{(p.type==="arrayBuffer"?X.arrayBuffer():p.type==="json"?X.json():X.text()).then(ce=>{O||(Q&&ne&&function(ge,Te,ke){if(Bn(),!Et)return;const Ie=ln(Te.headers.get("Cache-Control")||"");if(Ie["no-store"])return;const Be={status:Te.status,statusText:Te.statusText,headers:new Headers};Te.headers.forEach((tt,ht)=>Be.headers.set(ht,tt)),Ie["max-age"]&&Be.headers.set("Expires",new Date(ke+1e3*Ie["max-age"]).toUTCString());const Fe=Be.headers.get("Expires");if(!Fe||new Date(Fe).getTime()-ke<42e4)return;let Ke=rr(ge.url);if(Te.status===206){const tt=ge.headers.get("Range");if(!tt)return;Be.status=200,Ke=dr(Ke,{range:tt})}(function(tt,ht){if(ft===void 0)try{new Response(new ReadableStream),ft=!0}catch{ft=!1}ft?ht(tt.body):tt.blob().then(ht)})(Te,tt=>{const ht=new Response(tt,Be);Bn(),Et&&Et.then(wt=>wt.put(Ke,ht)).catch(wt=>it(wt.message))})}(w,Q,ne),E=!0,g(null,ce,X.headers.get("Cache-Control"),X.headers.get("Expires")))}).catch(ce=>{O||g(new Error(ce.message))})};return R?function(X,Q){if(Bn(),!Et)return Q(null);Et.then(ne=>{let ce=rr(X.url);const ge=X.headers.get("Range");ge&&(ce=dr(ce,{range:ge})),ne.match(ce).then(Te=>{const ke=function(Ie){if(!Ie)return!1;const Be=new Date(Ie.headers.get("Expires")||0),Fe=ln(Ie.headers.get("Cache-Control")||"");return Be>Date.now()&&!Fe["no-cache"]}(Te);ne.delete(ce),ke&&ne.put(ce,Te.clone()),Q(null,Te,ke)}).catch(Q)}).catch(Q)}(w,Z):Z(null,null),{cancel:()=>{O=!0,E||b.abort()}}}(l,a);if(on()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",l,a,void 0,!0)}var u;return function(p,g){const b=new XMLHttpRequest;b.open(p.method||"GET",p.url,!0),p.type==="arrayBuffer"&&(b.responseType="arraybuffer");for(const w in p.headers)b.setRequestHeader(w,p.headers[w]);return p.type==="json"&&(b.responseType="text",b.setRequestHeader("Accept","application/json")),b.withCredentials=p.credentials==="include",b.onerror=()=>{g(new Error(b.statusText))},b.onload=()=>{if((b.status>=200&&b.status<300||b.status===0)&&b.response!==null){let w=b.response;if(p.type==="json")try{w=JSON.parse(b.response)}catch(E){return g(E)}g(null,w,b.getResponseHeader("Cache-Control"),b.getResponseHeader("Expires"))}else g(new Ht(b.statusText,b.status,p.url))},b.send(p.body),{cancel:()=>b.abort()}}(l,a)},ut=function(l,a){return rt(Me(l,{type:"arrayBuffer"}),a)};function Tt(l){const a=document.createElement("a");return a.href=l,a.protocol===location.protocol&&a.host===location.host}const Rt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Gt,Qt;Gt=[],Qt=0;const zt=function(l,a){if(un.supported&&(l.headers||(l.headers={}),l.headers.accept="image/webp,*/*"),Qt>=v.MAX_PARALLEL_IMAGE_REQUESTS){const b={requestParameters:l,callback:a,cancelled:!1,cancel(){this.cancelled=!0}};return Gt.push(b),b}Qt++;let u=!1;const p=()=>{if(!u)for(u=!0,Qt--;Gt.length&&Qt<v.MAX_PARALLEL_IMAGE_REQUESTS;){const b=Gt.shift(),{requestParameters:w,callback:E,cancelled:O}=b;O||(b.cancel=zt(w,E).cancel)}},g=ut(l,(b,w,E,O)=>{p(),b?a(b):w&&(self.createImageBitmap?function(R,$){const Z=new Blob([new Uint8Array(R)],{type:"image/png"});createImageBitmap(Z).then(V=>{$(null,V)}).catch(V=>{$(new Error(`Could not load image because of ${V.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(w,(R,$)=>a(R,$,E,O)):function(R,$){const Z=new Image;Z.onload=()=>{$(null,Z),URL.revokeObjectURL(Z.src),Z.onload=null,requestAnimationFrame(()=>{Z.src=Rt})},Z.onerror=()=>$(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const V=new Blob([new Uint8Array(R)],{type:"image/png"});Z.src=R.byteLength?URL.createObjectURL(V):Rt}(w,(R,$)=>a(R,$,E,O)))});return{cancel:()=>{g.cancel(),p()}}},dt="01",At="NO_ACCESS_TOKEN",kt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Cn(l){const a=l.match(kt);if(!a)throw new Error("Unable to parse URL object");return{protocol:a[1],authority:a[2],path:a[3]||"/",params:a[4]?a[4].split("&"):[]}}function $n(l){const a=l.params.length?`?${l.params.join("&")}`:"";return`${l.protocol}://${l.authority}${l.path}${a}`}const _n="mapbox.eventData";function sr(l){if(!l)return null;const a=l.split(".");if(!a||a.length!==3)return null;try{return JSON.parse(decodeURIComponent(atob(a[1]).split("").map(u=>"%"+("00"+u.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class zr{constructor(a){this.type=a,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(a){const u=sr(v.ACCESS_TOKEN);let p="";return p=u&&u.u?btoa(encodeURIComponent(u.u).replace(/%([0-9A-F]{2})/g,(g,b)=>String.fromCharCode(+("0x"+b)))):v.ACCESS_TOKEN||"",a?`${_n}.${a}:${p}`:`${_n}:${p}`}fetchEventData(){const a=me("localStorage"),u=this.getStorageKey(),p=this.getStorageKey("uuid");if(a)try{const g=localStorage.getItem(u);g&&(this.eventData=JSON.parse(g));const b=localStorage.getItem(p);b&&(this.anonId=b)}catch{it("Unable to read from LocalStorage")}}saveEventData(){const a=me("localStorage"),u=this.getStorageKey(),p=this.getStorageKey("uuid"),g=this.anonId;if(a&&g)try{localStorage.setItem(p,g),Object.keys(this.eventData).length>=1&&localStorage.setItem(u,JSON.stringify(this.eventData))}catch{it("Unable to write to LocalStorage")}}processRequests(a){}postEvent(a,u,p,g){if(!v.EVENTS_URL)return;const b=Cn(v.EVENTS_URL);b.params.push(`access_token=${g||v.ACCESS_TOKEN||""}`);const w={event:this.type,created:new Date(a).toISOString()},E=u?Me(w,u):w,O={url:$n(b),headers:{"Content-Type":"text/plain"},body:JSON.stringify([E])};this.pendingRequest=function(R,$){return rt(Me(R,{method:"POST"}),$)}(O,R=>{this.pendingRequest=null,p(R),this.saveEventData(),this.processRequests(g)})}queueRequest(a,u){this.queue.push(a),this.processRequests(u)}}const cn=new class extends zr{constructor(l){super("appUserTurnstile"),this._customAccessToken=l}postTurnstileEvent(l,a){v.EVENTS_URL&&v.ACCESS_TOKEN&&Array.isArray(l)&&l.some(u=>C(u)||S(u))&&this.queueRequest(Date.now(),a)}processRequests(l){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const a=sr(v.ACCESS_TOKEN),u=a?a.u:v.ACCESS_TOKEN;let p=u!==this.eventData.tokenU;gt(this.anonId)||(this.anonId=$e(),p=!0);const g=this.queue.shift();if(this.eventData.lastSuccess){const b=new Date(this.eventData.lastSuccess),w=new Date(g),E=(g-this.eventData.lastSuccess)/864e5;p=p||E>=1||E<-1||b.getDate()!==w.getDate()}else p=!0;p?this.postEvent(g,{sdkIdentifier:"mapbox-gl-js",sdkVersion:m,skuId:dt,"enabled.telemetry":!1,userId:this.anonId},b=>{b||(this.eventData.lastSuccess=g,this.eventData.tokenU=u)},l):this.processRequests()}},Nn=cn.postTurnstileEvent.bind(cn),pr=new class extends zr{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(l,a,u,p){this.skuToken=a,this.errorCb=p,v.EVENTS_URL&&(u||v.ACCESS_TOKEN?this.queueRequest({id:l,timestamp:Date.now()},u):this.errorCb(new Error(At)))}processRequests(l){if(this.pendingRequest||this.queue.length===0)return;const{id:a,timestamp:u}=this.queue.shift();a&&this.success[a]||(this.anonId||this.fetchEventData(),gt(this.anonId)||(this.anonId=$e()),this.postEvent(u,{sdkIdentifier:"mapbox-gl-js",sdkVersion:m,skuId:dt,skuToken:this.skuToken,userId:this.anonId},p=>{p?this.errorCb(p):a&&(this.success[a]=!0)},l))}remove(){this.errorCb=null}},qn=pr.postMapLoadEvent.bind(pr),li=new class extends zr{constructor(){super("gljs.performance")}postPerformanceEvent(l,a){v.EVENTS_URL&&(l||v.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:a},l)}processRequests(l){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:a,performanceData:u}=this.queue.shift(),p=function(g){const b=performance.getEntriesByType("resource"),w=performance.getEntriesByType("mark"),E=function(X){const Q={};if(X){for(const ne in X)if(ne!=="other")for(const ce of X[ne]){const ge=`${ne}ResolveRangeMin`,Te=`${ne}ResolveRangeMax`,ke=`${ne}RequestCount`,Ie=`${ne}RequestCachedCount`;Q[ge]=Math.min(Q[ge]||1/0,ce.startTime),Q[Te]=Math.max(Q[Te]||-1/0,ce.responseEnd);const Be=Fe=>{Q[Fe]===void 0&&(Q[Fe]=0),++Q[Fe]};ce.transferSize!==void 0&&ce.transferSize===0&&Be(Ie),Be(ke)}}return Q}(function(X,Q){const ne={};if(X)for(const ce of X){const ge=Q(ce);ne[ge]===void 0&&(ne[ge]=[]),ne[ge].push(ce)}return ne}(b,k)),O=window.devicePixelRatio,R=navigator.connection||navigator.mozConnection||navigator.webkitConnection,$=R?R.effectiveType:void 0,Z={counters:[],metadata:[],attributes:[]},V=(X,Q,ne)=>{ne!=null&&X.push({name:Q,value:ne.toString()})};for(const X in E)V(Z.counters,X,E[X]);if(g.interactionRange[0]!==1/0&&g.interactionRange[1]!==-1/0&&(V(Z.counters,"interactionRangeMin",g.interactionRange[0]),V(Z.counters,"interactionRangeMax",g.interactionRange[1])),w)for(const X of Object.keys(D)){const Q=D[X],ne=w.find(ce=>ce.name===Q);ne&&V(Z.counters,Q,ne.startTime)}return V(Z.counters,"visibilityHidden",g.visibilityHidden),V(Z.attributes,"style",function(X){if(X)for(const Q of X){const ne=Q.name.split("?")[0];if(N(ne)){const ce=ne.split("/").slice(-2);if(ce.length===2)return`mapbox://styles/${ce[0]}/${ce[1]}`}}}(b)),V(Z.attributes,"terrainEnabled",g.terrainEnabled?"true":"false"),V(Z.attributes,"fogEnabled",g.fogEnabled?"true":"false"),V(Z.attributes,"projection",g.projection),V(Z.attributes,"zoom",g.zoom),V(Z.metadata,"devicePixelRatio",O),V(Z.metadata,"connectionEffectiveType",$),V(Z.metadata,"navigatorUserAgent",navigator.userAgent),V(Z.metadata,"screenWidth",window.screen.width),V(Z.metadata,"screenHeight",window.screen.height),V(Z.metadata,"windowWidth",window.innerWidth),V(Z.metadata,"windowHeight",window.innerHeight),V(Z.metadata,"mapWidth",g.width/O),V(Z.metadata,"mapHeight",g.height/O),V(Z.metadata,"webglRenderer",g.renderer),V(Z.metadata,"webglVendor",g.vendor),V(Z.metadata,"sdkVersion",m),V(Z.metadata,"sdkIdentifier","mapbox-gl-js"),Z}(u);for(const g of p.metadata);for(const g of p.counters);for(const g of p.attributes);this.postEvent(a,p,()=>{},l)}},Po=li.postPerformanceEvent.bind(li),wi=new class extends zr{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(l,a,u,p){if(!v.API_URL||!v.SESSION_PATH)return;const g=Cn(v.API_URL+v.SESSION_PATH);g.params.push(`sku=${a||""}`),g.params.push(`access_token=${p||v.ACCESS_TOKEN||""}`);const b={url:$n(g),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(w,E){return rt(Me(w,{method:"GET"}),E)}(b,w=>{this.pendingRequest=null,u(w),this.saveEventData(),this.processRequests(p)})}getSessionAPI(l,a,u,p){this.skuToken=a,this.errorCb=p,v.SESSION_PATH&&v.API_URL&&(u||v.ACCESS_TOKEN?this.queueRequest({id:l,timestamp:Date.now()},u):this.errorCb(new Error(At)))}processRequests(l){if(this.pendingRequest||this.queue.length===0)return;const{id:a,timestamp:u}=this.queue.shift();a&&this.success[a]||this.getSession(u,this.skuToken,p=>{p?this.errorCb(p):a&&(this.success[a]=!0)},l)}remove(){this.errorCb=null}},ss=wi.getSessionAPI.bind(wi),$o=new Set;function xa(l,a,u){u[l]&&u[l].indexOf(a)!==-1||(u[l]=u[l]||[],u[l].push(a))}function wa(l,a,u){if(u&&u[l]){const p=u[l].indexOf(a);p!==-1&&u[l].splice(p,1)}}class qo{constructor(a,u={}){Me(this,u),this.type=a}}class _l extends qo{constructor(a,u={}){super("error",Me({error:a},u))}}class xs{on(a,u){return this._listeners=this._listeners||{},xa(a,u,this._listeners),this}off(a,u){return wa(a,u,this._listeners),wa(a,u,this._oneTimeListeners),this}once(a,u){return u?(this._oneTimeListeners=this._oneTimeListeners||{},xa(a,u,this._oneTimeListeners),this):new Promise(p=>this.once(a,p))}fire(a,u){typeof a=="string"&&(a=new qo(a,u||{}));const p=a.type;if(this.listens(p)){a.target=this;const g=this._listeners&&this._listeners[p]?this._listeners[p].slice():[];for(const E of g)E.call(this,a);const b=this._oneTimeListeners&&this._oneTimeListeners[p]?this._oneTimeListeners[p].slice():[];for(const E of b)wa(p,E,this._oneTimeListeners),E.call(this,a);const w=this._eventedParent;w&&(Me(a,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),w.fire(a))}else a instanceof _l&&console.error(a.error);return this}listens(a){return!!(this._listeners&&this._listeners[a]&&this._listeners[a].length>0||this._oneTimeListeners&&this._oneTimeListeners[a]&&this._oneTimeListeners[a].length>0||this._eventedParent&&this._eventedParent.listens(a))}setEventedParent(a,u){return this._eventedParent=a,this._eventedParentData=u,this}}o.y=void 0;var Ka={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function pa(l){return(l=Math.round(l))<0?0:l>255?255:l}function Pi(l){return pa(l[l.length-1]==="%"?parseFloat(l)/100*255:parseInt(l))}function ci(l){return(a=l[l.length-1]==="%"?parseFloat(l)/100:parseFloat(l))<0?0:a>1?1:a;var a}function lr(l,a,u){return u<0?u+=1:u>1&&(u-=1),6*u<1?l+(a-l)*u*6:2*u<1?a:3*u<2?l+(a-l)*(2/3-u)*6:l}try{o.y={}.parseCSSColor=function(l){var a,u=l.replace(/ /g,"").toLowerCase();if(u in Ka)return Ka[u].slice();if(u[0]==="#")return u.length===4?(a=parseInt(u.substr(1),16))>=0&&a<=4095?[(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4,1]:null:u.length===7&&(a=parseInt(u.substr(1),16))>=0&&a<=16777215?[(16711680&a)>>16,(65280&a)>>8,255&a,1]:null;var p=u.indexOf("("),g=u.indexOf(")");if(p!==-1&&g+1===u.length){var b=u.substr(0,p),w=u.substr(p+1,g-(p+1)).split(","),E=1;switch(b){case"rgba":if(w.length!==4)return null;E=ci(w.pop());case"rgb":return w.length!==3?null:[Pi(w[0]),Pi(w[1]),Pi(w[2]),E];case"hsla":if(w.length!==4)return null;E=ci(w.pop());case"hsl":if(w.length!==3)return null;var O=(parseFloat(w[0])%360+360)%360/360,R=ci(w[1]),$=ci(w[2]),Z=$<=.5?$*(R+1):$+R-$*R,V=2*$-Z;return[pa(255*lr(V,Z,O+1/3)),pa(255*lr(V,Z,O)),pa(255*lr(V,Z,O-1/3)),E];default:return null}}return null}}catch{}class cr{constructor(a,u,p,g=1){this.r=a,this.g=u,this.b=p,this.a=g}static parse(a){if(!a)return;if(a instanceof cr)return a;if(typeof a!="string")return;const u=o.y(a);return u?new cr(u[0]/255*u[3],u[1]/255*u[3],u[2]/255*u[3],u[3]):void 0}toString(){const[a,u,p,g]=this.toArray();return`rgba(${Math.round(a)},${Math.round(u)},${Math.round(p)},${g})`}toArray(){const{r:a,g:u,b:p,a:g}=this;return g===0?[0,0,0,0]:[255*a/g,255*u/g,255*p/g,g]}toArray01(){const{r:a,g:u,b:p,a:g}=this;return g===0?[0,0,0,0]:[a/g,u/g,p/g,g]}toArray01Scaled(a){const{r:u,g:p,b:g,a:b}=this;return b===0?[0,0,0]:[u/b*a,p/b*a,g/b*a]}toArray01PremultipliedAlpha(){const{r:a,g:u,b:p,a:g}=this;return[a,u,p,g]}toArray01Linear(){const{r:a,g:u,b:p,a:g}=this;return g===0?[0,0,0,0]:[Math.pow(a/g,2.2),Math.pow(u/g,2.2),Math.pow(p/g,2.2),g]}}cr.black=new cr(0,0,0,1),cr.white=new cr(1,1,1,1),cr.transparent=new cr(0,0,0,0),cr.red=new cr(1,0,0,1),cr.blue=new cr(0,0,1,1);var kr=cr;function ur(l,a,u){return l*(1-u)+a*u}function Ui(l,a,u){return l.map((p,g)=>ur(p,a[g],u))}var wo=Object.freeze({__proto__:null,array:Ui,color:function(l,a,u){return new kr(ur(l.r,a.r,u),ur(l.g,a.g,u),ur(l.b,a.b,u),ur(l.a,a.a,u))},number:ur});function oa(l,...a){for(const u of a)for(const p in u)l[p]=u[p];return l}class qa extends Error{constructor(a,u){super(u),this.message=u,this.key=a}}var Ji=qa;class La{constructor(a,u=[]){this.parent=a,this.bindings={};for(const[p,g]of u)this.bindings[p]=g}concat(a){return new La(this,a)}get(a){if(this.bindings[a])return this.bindings[a];if(this.parent)return this.parent.get(a);throw new Error(`${a} not found in scope.`)}has(a){return!!this.bindings[a]||!!this.parent&&this.parent.has(a)}}var ls=La;const cs={kind:"null"},Pn={kind:"number"},ni={kind:"string"},Xr={kind:"boolean"},jo={kind:"color"},Rc={kind:"object"},Kr={kind:"value"},ah={kind:"collator"},Xo={kind:"formatted"},xl={kind:"resolvedImage"};function aa(l,a){return{kind:"array",itemType:l,N:a}}function Hi(l){if(l.kind==="array"){const a=Hi(l.itemType);return typeof l.N=="number"?`array<${a}, ${l.N}>`:l.itemType.kind==="value"?"array":`array<${a}>`}return l.kind}const Qn=[cs,Pn,ni,Xr,jo,Xo,Rc,aa(Kr),xl];function wl(l,a){if(a.kind==="error")return null;if(l.kind==="array"){if(a.kind==="array"&&(a.N===0&&a.itemType.kind==="value"||!wl(l.itemType,a.itemType))&&(typeof l.N!="number"||l.N===a.N))return null}else{if(l.kind===a.kind)return null;if(l.kind==="value"){for(const u of Qn)if(!wl(u,a))return null}}return`Expected ${Hi(l)} but found ${Hi(a)} instead.`}function gr(l,a){return a.some(u=>u.kind===l.kind)}function Sl(l,a){return a.some(u=>u==="null"?l===null:u==="array"?Array.isArray(l):u==="object"?l&&!Array.isArray(l)&&typeof l=="object":u===typeof l)}class xn{constructor(a,u,p){this.sensitivity=a?u?"variant":"case":u?"accent":"base",this.locale=p,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(a,u){return this.collator.compare(a,u)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class jr{constructor(a,u,p,g,b){this.text=a.normalize?a.normalize():a,this.image=u,this.scale=p,this.fontStack=g,this.textColor=b}}class pi{constructor(a){this.sections=a}static fromString(a){return new pi([new jr(a,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(a=>a.text.length!==0||a.image&&a.image.namePrimary.length!==0)}static factory(a){return a instanceof pi?a:pi.fromString(a)}toString(){return this.sections.length===0?"":this.sections.map(a=>a.text).join("")}serialize(){const a=["format"];for(const u of this.sections){if(u.image){a.push(["image",u.image.namePrimary]);continue}a.push(u.text);const p={};u.fontStack&&(p["text-font"]=["literal",u.fontStack.split(",")]),u.scale&&(p["font-scale"]=u.scale),u.textColor&&(p["text-color"]=["rgba"].concat(u.textColor.toArray())),a.push(p)}return a}}class Rn{constructor(a){this.namePrimary=a.namePrimary,a.nameSecondary&&(this.nameSecondary=a.nameSecondary),this.available=a.available}toString(){return this.nameSecondary?`[${this.namePrimary},${this.nameSecondary}]`:this.namePrimary}static fromString(a,u){return a?new Rn({namePrimary:a,nameSecondary:u,available:!1}):null}serialize(){return this.nameSecondary?["image",this.namePrimary,this.nameSecondary]:["image",this.namePrimary]}}function go(l,a,u,p){return typeof l=="number"&&l>=0&&l<=255&&typeof a=="number"&&a>=0&&a<=255&&typeof u=="number"&&u>=0&&u<=255?p===void 0||typeof p=="number"&&p>=0&&p<=1?null:`Invalid rgba value [${[l,a,u,p].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof p=="number"?[l,a,u,p]:[l,a,u]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Al(l){if(l===null||typeof l=="string"||typeof l=="boolean"||typeof l=="number"||l instanceof kr||l instanceof xn||l instanceof pi||l instanceof Rn)return!0;if(Array.isArray(l)){for(const a of l)if(!Al(a))return!1;return!0}if(typeof l=="object"){for(const a in l)if(!Al(l[a]))return!1;return!0}return!1}function So(l){if(l===null)return cs;if(typeof l=="string")return ni;if(typeof l=="boolean")return Xr;if(typeof l=="number")return Pn;if(l instanceof kr)return jo;if(l instanceof xn)return ah;if(l instanceof pi)return Xo;if(l instanceof Rn)return xl;if(Array.isArray(l)){const a=l.length;let u;for(const p of l){const g=So(p);if(u){if(u===g)continue;u=Kr;break}u=g}return aa(u||Kr,a)}return Rc}function ws(l){const a=typeof l;return l===null?"":a==="string"||a==="number"||a==="boolean"?String(l):l instanceof kr||l instanceof pi||l instanceof Rn?l.toString():JSON.stringify(l)}class rl{constructor(a,u){this.type=a,this.value=u}static parse(a,u){if(a.length!==2)return u.error(`'literal' expression requires exactly one argument, but found ${a.length-1} instead.`);if(!Al(a[1]))return u.error("invalid value");const p=a[1];let g=So(p);const b=u.expectedType;return g.kind!=="array"||g.N!==0||!b||b.kind!=="array"||typeof b.N=="number"&&b.N!==0||(g=b),new rl(g,p)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof kr?["rgba"].concat(this.value.toArray()):this.value instanceof pi?this.value.serialize():this.value}}var su=rl,Yo=class{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}};const t_={string:ni,number:Pn,boolean:Xr,object:Rc};class n_{constructor(a,u){this.type=a,this.args=u}static parse(a,u){if(a.length<2)return u.error("Expected at least one argument.");let p,g=1;const b=a[0];if(b==="array"){let E,O;if(a.length>2){const R=a[1];if(typeof R!="string"||!(R in t_)||R==="object")return u.error('The item type argument of "array" must be one of string, number, boolean',1);E=t_[R],g++}else E=Kr;if(a.length>3){if(a[2]!==null&&(typeof a[2]!="number"||a[2]<0||a[2]!==Math.floor(a[2])))return u.error('The length argument to "array" must be a positive integer literal',2);O=a[2],g++}p=aa(E,O)}else p=t_[b];const w=[];for(;g<a.length;g++){const E=u.parse(a[g],g,Kr);if(!E)return null;w.push(E)}return new n_(p,w)}evaluate(a){for(let u=0;u<this.args.length;u++){const p=this.args[u].evaluate(a);if(!wl(this.type,So(p)))return p;if(u===this.args.length-1)throw new Yo(`Expected value to be of type ${Hi(this.type)}, but found ${Hi(So(p))} instead.`)}return null}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}serialize(){const a=this.type,u=[a.kind];if(a.kind==="array"){const p=a.itemType;if(p.kind==="string"||p.kind==="number"||p.kind==="boolean"){u.push(p.kind);const g=a.N;(typeof g=="number"||this.args.length>1)&&u.push(g)}}return u.concat(this.args.map(p=>p.serialize()))}}var lu=n_;class mp{constructor(a){this.type=Xo,this.sections=a}static parse(a,u){if(a.length<2)return u.error("Expected at least one argument.");const p=a[1];if(!Array.isArray(p)&&typeof p=="object")return u.error("First argument must be an image or text section.");const g=[];let b=!1;for(let w=1;w<=a.length-1;++w){const E=a[w];if(b&&typeof E=="object"&&!Array.isArray(E)){b=!1;let O=null;if(E["font-scale"]&&(O=u.parse(E["font-scale"],1,Pn),!O))return null;let R=null;if(E["text-font"]&&(R=u.parse(E["text-font"],1,aa(ni)),!R))return null;let $=null;if(E["text-color"]&&($=u.parse(E["text-color"],1,jo),!$))return null;const Z=g[g.length-1];Z.scale=O,Z.font=R,Z.textColor=$}else{const O=u.parse(a[w],1,Kr);if(!O)return null;const R=O.type.kind;if(R!=="string"&&R!=="value"&&R!=="null"&&R!=="resolvedImage")return u.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,g.push({content:O,scale:null,font:null,textColor:null})}}return new mp(g)}evaluate(a){return new pi(this.sections.map(u=>{const p=u.content.evaluate(a);return So(p)===xl?new jr("",p,null,null,null):new jr(ws(p),null,u.scale?u.scale.evaluate(a):null,u.font?u.font.evaluate(a).join(","):null,u.textColor?u.textColor.evaluate(a):null)}))}eachChild(a){for(const u of this.sections)a(u.content),u.scale&&a(u.scale),u.font&&a(u.font),u.textColor&&a(u.textColor)}outputDefined(){return!1}serialize(){const a=["format"];for(const u of this.sections){a.push(u.content.serialize());const p={};u.scale&&(p["font-scale"]=u.scale.serialize()),u.font&&(p["text-font"]=u.font.serialize()),u.textColor&&(p["text-color"]=u.textColor.serialize()),a.push(p)}return a}}class sh{constructor(a,u){this.type=xl,this.inputPrimary=a,this.inputSecondary=u}static parse(a,u){if(a.length<2)return u.error("Expected two or more arguments.");const p=u.parse(a[1],1,ni);if(!p)return u.error("No image name provided.");if(a.length===2)return new sh(p);const g=u.parse(a[2],1,ni);return g?new sh(p,g):u.error("Secondary image variant is not a string.")}evaluate(a){const u=Rn.fromString(this.inputPrimary.evaluate(a),this.inputSecondary?this.inputSecondary.evaluate(a):void 0);return u&&a.availableImages&&(u.available=a.availableImages.indexOf(u.namePrimary)>-1,u.nameSecondary&&u.available&&a.availableImages&&(u.available=a.availableImages.indexOf(u.nameSecondary)>-1)),u}eachChild(a){a(this.inputPrimary),this.inputSecondary&&a(this.inputSecondary)}outputDefined(){return!1}serialize(){return this.inputSecondary?["image",this.inputPrimary.serialize(),this.inputSecondary.serialize()]:["image",this.inputPrimary.serialize()]}}function gp(l){return l instanceof Number?"number":l instanceof String?"string":l instanceof Boolean?"boolean":Array.isArray(l)?"array":l===null?"null":typeof l}const Kl={"to-boolean":Xr,"to-color":jo,"to-number":Pn,"to-string":ni};class hy{constructor(a,u){this.type=a,this.args=u}static parse(a,u){if(a.length<2)return u.error("Expected at least one argument.");const p=a[0],g=[];let b=cs;if(p==="to-array"){if(!Array.isArray(a[1]))return null;const w=a[1].length;if(u.expectedType){if(u.expectedType.kind!=="array")return u.error(`Expected ${u.expectedType.kind} but found array.`);b=aa(u.expectedType.itemType,w)}else{if(!(w>0&&Al(a[1][0])))return null;b=aa(So(a[1][0]),w)}for(let E=0;E<w;E++){const O=a[1][E];let R;if(gp(O)==="array")R=u.parse(O,void 0,b.itemType);else{const $=gp(O);if($!==b.itemType.kind)return u.error(`Expected ${b.itemType.kind} but found ${$}.`);R=u.registry.literal.parse(["literal",O===void 0?null:O],u)}if(!R)return null;g.push(R)}}else{if((p==="to-boolean"||p==="to-string")&&a.length!==2)return u.error("Expected one argument.");b=Kl[p];for(let w=1;w<a.length;w++){const E=u.parse(a[w],w,Kr);if(!E)return null;g.push(E)}}return new hy(b,g)}evaluate(a){if(this.type.kind==="boolean")return!!this.args[0].evaluate(a);if(this.type.kind==="color"){let u,p;for(const g of this.args){if(u=g.evaluate(a),p=null,u instanceof kr)return u;if(typeof u=="string"){const b=a.parseColor(u);if(b)return b}else if(Array.isArray(u)&&(p=u.length<3||u.length>4?`Invalid rbga value ${JSON.stringify(u)}: expected an array containing either three or four numeric values.`:go(u[0],u[1],u[2],u[3]),!p))return new kr(u[0]/255,u[1]/255,u[2]/255,u[3])}throw new Yo(p||`Could not parse color from value '${typeof u=="string"?u:String(JSON.stringify(u))}'`)}if(this.type.kind==="number"){let u=null;for(const p of this.args){if(u=p.evaluate(a),u===null)return 0;const g=Number(u);if(!isNaN(g))return g}throw new Yo(`Could not convert ${JSON.stringify(u)} to number.`)}return this.type.kind==="formatted"?pi.fromString(ws(this.args[0].evaluate(a))):this.type.kind==="resolvedImage"?Rn.fromString(ws(this.args[0].evaluate(a))):this.type.kind==="array"?this.args.map(u=>u.evaluate(a)):ws(this.args[0].evaluate(a))}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}serialize(){if(this.type.kind==="formatted")return new mp([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new sh(this.args[0]).serialize();const a=this.type.kind==="array"?[]:[`to-${this.type.kind}`];return this.eachChild(u=>{a.push(u.serialize())}),a}}var cu=hy;const tm=["Unknown","Point","LineString","Polygon"];var kA=class{constructor(l,a){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null,this.scope=l,this.options=a}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?tm[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}measureLight(l){return this.globals.brightness||0}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const l=this.featureDistanceData.center,a=this.featureDistanceData.scale,{x:u,y:p}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(u*a-l[0])+this.featureDistanceData.bearing[1]*(p*a-l[1])}return 0}parseColor(l){let a=this._parseColorCache[l];return a||(a=this._parseColorCache[l]=kr.parse(l)),a}getConfig(l){return this.options?this.options.get(l):null}};class lh{constructor(a,u,p,g,b){this.name=a,this.type=u,this._evaluate=p,this.args=g,this._overloadIndex=b}evaluate(a){if(!this._evaluate){const u=lh.definitions[this.name];this._evaluate=Array.isArray(u)?u[2]:u.overloads[this._overloadIndex][1]}return this._evaluate(a,this.args)}eachChild(a){this.args.forEach(a)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(a=>a.serialize()))}static parse(a,u){const p=a[0],g=lh.definitions[p];if(!g)return u.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0);const b=Array.isArray(g)?g[0]:g.type,w=Array.isArray(g)?[[g[1],g[2]]]:g.overloads,E=[];let O=null,R=-1;for(const[$,Z]of w){if(Array.isArray($)&&$.length!==a.length-1)continue;E.push($),R++,O=new jA(u.registry,u.path,null,u.scope,void 0,u._scope,u.options);const V=[];let X=!1;for(let Q=1;Q<a.length;Q++){const ne=a[Q],ce=Array.isArray($)?$[Q-1]:$.type,ge=O.parse(ne,1+V.length,ce);if(!ge){X=!0;break}V.push(ge)}if(!X)if(Array.isArray($)&&$.length!==V.length)O.error(`Expected ${$.length} arguments, but found ${V.length} instead.`);else{for(let Q=0;Q<V.length;Q++){const ne=Array.isArray($)?$[Q]:$.type,ce=V[Q];O.concat(Q+1).checkSubtype(ne,ce.type)}if(O.errors.length===0)return new lh(p,b,Z,V,R)}}if(E.length===1)u.errors.push(...O.errors);else{const $=(E.length?E:w.map(([V])=>V)).map(NA).join(" | "),Z=[];for(let V=1;V<a.length;V++){const X=u.parse(a[V],1+Z.length);if(!X)return null;Z.push(Hi(X.type))}u.error(`Expected arguments of type ${$}, but found (${Z.join(", ")}) instead.`)}return null}static register(a,u){lh.definitions=u;for(const p in u)a[p]=lh}}function NA(l){return Array.isArray(l)?`(${l.map(Hi).join(", ")})`:`(${Hi(l.type)}...)`}var Yr=lh;class nm{constructor(a,u,p){this.type=ah,this.locale=p,this.caseSensitive=a,this.diacriticSensitive=u}static parse(a,u){if(a.length!==2)return u.error("Expected one argument.");const p=a[1];if(typeof p!="object"||Array.isArray(p))return u.error("Collator options argument must be an object.");const g=u.parse(p["case-sensitive"]!==void 0&&p["case-sensitive"],1,Xr);if(!g)return null;const b=u.parse(p["diacritic-sensitive"]!==void 0&&p["diacritic-sensitive"],1,Xr);if(!b)return null;let w=null;return p.locale&&(w=u.parse(p.locale,1,ni),!w)?null:new nm(g,b,w)}evaluate(a){return new xn(this.caseSensitive.evaluate(a),this.diacriticSensitive.evaluate(a),this.locale?this.locale.evaluate(a):null)}eachChild(a){a(this.caseSensitive),a(this.diacriticSensitive),this.locale&&a(this.locale)}outputDefined(){return!1}serialize(){const a={};return a["case-sensitive"]=this.caseSensitive.serialize(),a["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(a.locale=this.locale.serialize()),["collator",a]}}var r_={exports:{}};r_.exports=function(){function l(p,g,b,w,E){for(;w>b;){if(w-b>600){var O=w-b+1,R=g-b+1,$=Math.log(O),Z=.5*Math.exp(2*$/3),V=.5*Math.sqrt($*Z*(O-Z)/O)*(R-O/2<0?-1:1);l(p,g,Math.max(b,Math.floor(g-R*Z/O+V)),Math.min(w,Math.floor(g+(O-R)*Z/O+V)),E)}var X=p[g],Q=b,ne=w;for(a(p,b,g),E(p[w],X)>0&&a(p,b,w);Q<ne;){for(a(p,Q,ne),Q++,ne--;E(p[Q],X)<0;)Q++;for(;E(p[ne],X)>0;)ne--}E(p[b],X)===0?a(p,b,ne):a(p,++ne,w),ne<=g&&(b=ne+1),g<=ne&&(w=ne-1)}}function a(p,g,b){var w=p[g];p[g]=p[b],p[b]=w}function u(p,g){return p<g?-1:p>g?1:0}return function(p,g,b,w,E){l(p,g,b||0,w||p.length-1,E||u)}}();var iI=F(r_.exports);function oI(l){let a=0;for(let u,p,g=0,b=l.length,w=b-1;g<b;w=g++)u=l[g],p=l[w],a+=(p.x-u.x)*(u.y+p.y);return a}function sd(l,a){l[0]=Math.min(l[0],a[0]),l[1]=Math.min(l[1],a[1]),l[2]=Math.max(l[2],a[0]),l[3]=Math.max(l[3],a[1])}function ld(l,a){return!(l[0]<=a[0]||l[2]>=a[2]||l[1]<=a[1]||l[3]>=a[3])}function py(l,a,u){const p=l[0]-a[0],g=l[1]-a[1],b=l[0]-u[0],w=l[1]-u[1];return p*w-b*g==0&&p*b<=0&&g*w<=0}function yp(l,a,u=!1){let p=!1;for(let E=0,O=a.length;E<O;E++){const R=a[E];for(let $=0,Z=R.length,V=Z-1;$<Z;V=$++){const X=R[V],Q=R[$];if(py(l,X,Q))return u;(b=X)[1]>(g=l)[1]!=(w=Q)[1]>g[1]&&g[0]<(w[0]-b[0])*(g[1]-b[1])/(w[1]-b[1])+b[0]&&(p=!p)}}var g,b,w;return p}function i_(l,a,u,p){const g=p[0]-u[0],b=p[1]-u[1],w=(l[0]-u[0])*b-g*(l[1]-u[1]),E=(a[0]-u[0])*b-g*(a[1]-u[1]);return w>0&&E<0||w<0&&E>0}function uu(l,a,u,p){return(g=[p[0]-u[0],p[1]-u[1]])[0]*(b=[a[0]-l[0],a[1]-l[1]])[1]-g[1]*b[0]!=0&&!(!i_(l,a,u,p)||!i_(u,p,l,a));var g,b}const cd=8192;function rm(l,a){const u=(180+l[0])/360,p=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l[1]*Math.PI/360)))/360,g=Math.pow(2,a.z);return[Math.round(u*g*cd),Math.round(p*g*cd)]}function o_(l,a){for(let u=0;u<a.length;u++)if(yp(l,a[u]))return!0;return!1}function a_(l,a,u){for(const p of u)for(let g=0,b=p.length,w=b-1;g<b;w=g++)if(uu(l,a,p[w],p[g]))return!0;return!1}function Cl(l,a){for(let u=0;u<l.length;++u)if(!yp(l[u],a))return!1;for(let u=0;u<l.length-1;++u)if(a_(l[u],l[u+1],a))return!1;return!0}function RA(l,a){for(let u=0;u<a.length;u++)if(Cl(l,a[u]))return!0;return!1}function s_(l,a,u){const p=[];for(let g=0;g<l.length;g++){const b=[];for(let w=0;w<l[g].length;w++){const E=rm(l[g][w],u);sd(a,E),b.push(E)}p.push(b)}return p}function l_(l,a,u){const p=[];for(let g=0;g<l.length;g++){const b=s_(l[g],a,u);p.push(b)}return p}function c_(l,a,u,p){if(l[0]<u[0]||l[0]>u[2]){const g=.5*p;let b=l[0]-u[0]>g?-p:u[0]-l[0]>g?p:0;b===0&&(b=l[0]-u[2]>g?-p:u[2]-l[0]>g?p:0),l[0]+=b}sd(a,l)}function u_(l,a,u,p){const g=Math.pow(2,p.z)*cd,b=[p.x*cd,p.y*cd],w=[];if(!l)return w;for(const E of l)for(const O of E){const R=[O.x+b[0],O.y+b[1]];c_(R,a,u,g),w.push(R)}return w}function d_(l,a,u,p){const g=Math.pow(2,p.z)*cd,b=[p.x*cd,p.y*cd],w=[];if(!l)return w;for(const O of l){const R=[];for(const $ of O){const Z=[$.x+b[0],$.y+b[1]];sd(a,Z),R.push(Z)}w.push(R)}if(a[2]-a[0]<=g/2){(E=a)[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(const O of w)for(const R of O)c_(R,a,u,g)}var E;return w}class vp{constructor(a,u){this.type=Xr,this.geojson=a,this.geometries=u}static parse(a,u){if(a.length!==2)return u.error(`'within' expression requires exactly one argument, but found ${a.length-1} instead.`);if(Al(a[1])){const p=a[1];if(p.type==="FeatureCollection")for(let g=0;g<p.features.length;++g){const b=p.features[g].geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new vp(p,p.features[g].geometry)}else if(p.type==="Feature"){const g=p.geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new vp(p,p.geometry)}else if(p.type==="Polygon"||p.type==="MultiPolygon")return new vp(p,p)}return u.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(a){if(a.geometry()!=null&&a.canonicalID()!=null){if(a.geometryType()==="Point")return function(u,p){const g=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],w=u.canonicalID();if(!w)return!1;if(p.type==="Polygon"){const E=s_(p.coordinates,b,w),O=u_(u.geometry(),g,b,w);if(!ld(g,b))return!1;for(const R of O)if(!yp(R,E))return!1}if(p.type==="MultiPolygon"){const E=l_(p.coordinates,b,w),O=u_(u.geometry(),g,b,w);if(!ld(g,b))return!1;for(const R of O)if(!o_(R,E))return!1}return!0}(a,this.geometries);if(a.geometryType()==="LineString")return function(u,p){const g=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],w=u.canonicalID();if(!w)return!1;if(p.type==="Polygon"){const E=s_(p.coordinates,b,w),O=d_(u.geometry(),g,b,w);if(!ld(g,b))return!1;for(const R of O)if(!Cl(R,E))return!1}if(p.type==="MultiPolygon"){const E=l_(p.coordinates,b,w),O=d_(u.geometry(),g,b,w);if(!ld(g,b))return!1;for(const R of O)if(!RA(R,E))return!1}return!0}(a,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var fy=vp,im={exports:{}};im.exports=function(){var l={kilometers:1,miles:.621371192237334,nauticalmiles:.5399568034557235,meters:1e3,metres:1e3,yards:1093.6132983377079,feet:3280.839895013123,inches:39370.078740157485},a=1/298.257223563,u=a*(2-a),p=Math.PI/180,g=function(R,$){if(R===void 0)throw new Error("No latitude given.");if($&&!l[$])throw new Error("Unknown unit "+$+". Use one of: "+Object.keys(l).join(", "));var Z=6378.137*p*($?l[$]:1),V=Math.cos(R*p),X=1/(1-u*(1-V*V)),Q=Math.sqrt(X);this.kx=Z*Q*V,this.ky=Z*Q*X*(1-u)},b={units:{configurable:!0}};function w(R,$){return R[0]===$[0]&&R[1]===$[1]}function E(R,$,Z){var V=O($[0]-R[0]);return[R[0]+V*Z,R[1]+($[1]-R[1])*Z]}function O(R){for(;R<-180;)R+=360;for(;R>180;)R-=360;return R}return g.fromTile=function(R,$,Z){var V=Math.PI*(1-2*(R+.5)/Math.pow(2,$)),X=Math.atan(.5*(Math.exp(V)-Math.exp(-V)))/p;return new g(X,Z)},b.units.get=function(){return l},g.prototype.distance=function(R,$){var Z=O(R[0]-$[0])*this.kx,V=(R[1]-$[1])*this.ky;return Math.sqrt(Z*Z+V*V)},g.prototype.bearing=function(R,$){var Z=O($[0]-R[0])*this.kx;return Math.atan2(Z,($[1]-R[1])*this.ky)/p},g.prototype.destination=function(R,$,Z){var V=Z*p;return this.offset(R,Math.sin(V)*$,Math.cos(V)*$)},g.prototype.offset=function(R,$,Z){return[R[0]+$/this.kx,R[1]+Z/this.ky]},g.prototype.lineDistance=function(R){for(var $=0,Z=0;Z<R.length-1;Z++)$+=this.distance(R[Z],R[Z+1]);return $},g.prototype.area=function(R){for(var $=0,Z=0;Z<R.length;Z++)for(var V=R[Z],X=0,Q=V.length,ne=Q-1;X<Q;ne=X++)$+=O(V[X][0]-V[ne][0])*(V[X][1]+V[ne][1])*(Z?-1:1);return Math.abs($)/2*this.kx*this.ky},g.prototype.along=function(R,$){var Z=0;if($<=0)return R[0];for(var V=0;V<R.length-1;V++){var X=R[V],Q=R[V+1],ne=this.distance(X,Q);if((Z+=ne)>$)return E(X,Q,($-(Z-ne))/ne)}return R[R.length-1]},g.prototype.pointToSegmentDistance=function(R,$,Z){var V=$[0],X=$[1],Q=O(Z[0]-V)*this.kx,ne=(Z[1]-X)*this.ky,ce=0;return Q===0&&ne===0||((ce=(O(R[0]-V)*this.kx*Q+(R[1]-X)*this.ky*ne)/(Q*Q+ne*ne))>1?(V=Z[0],X=Z[1]):ce>0&&(V+=Q/this.kx*ce,X+=ne/this.ky*ce)),Q=O(R[0]-V)*this.kx,ne=(R[1]-X)*this.ky,Math.sqrt(Q*Q+ne*ne)},g.prototype.pointOnLine=function(R,$){for(var Z,V,X,Q,ne=1/0,ce=0;ce<R.length-1;ce++){var ge=R[ce][0],Te=R[ce][1],ke=O(R[ce+1][0]-ge)*this.kx,Ie=(R[ce+1][1]-Te)*this.ky,Be=0;ke===0&&Ie===0||((Be=(O($[0]-ge)*this.kx*ke+($[1]-Te)*this.ky*Ie)/(ke*ke+Ie*Ie))>1?(ge=R[ce+1][0],Te=R[ce+1][1]):Be>0&&(ge+=ke/this.kx*Be,Te+=Ie/this.ky*Be));var Fe=(ke=O($[0]-ge)*this.kx)*ke+(Ie=($[1]-Te)*this.ky)*Ie;Fe<ne&&(ne=Fe,Z=ge,V=Te,X=ce,Q=Be)}return{point:[Z,V],index:X,t:Math.max(0,Math.min(1,Q))}},g.prototype.lineSlice=function(R,$,Z){var V=this.pointOnLine(Z,R),X=this.pointOnLine(Z,$);if(V.index>X.index||V.index===X.index&&V.t>X.t){var Q=V;V=X,X=Q}var ne=[V.point],ce=V.index+1,ge=X.index;!w(Z[ce],ne[0])&&ce<=ge&&ne.push(Z[ce]);for(var Te=ce+1;Te<=ge;Te++)ne.push(Z[Te]);return w(Z[ge],X.point)||ne.push(X.point),ne},g.prototype.lineSliceAlong=function(R,$,Z){for(var V=0,X=[],Q=0;Q<Z.length-1;Q++){var ne=Z[Q],ce=Z[Q+1],ge=this.distance(ne,ce);if((V+=ge)>R&&X.length===0&&X.push(E(ne,ce,(R-(V-ge))/ge)),V>=$)return X.push(E(ne,ce,($-(V-ge))/ge)),X;V>R&&X.push(ce)}return X},g.prototype.bufferPoint=function(R,$){var Z=$/this.ky,V=$/this.kx;return[R[0]-V,R[1]-Z,R[0]+V,R[1]+Z]},g.prototype.bufferBBox=function(R,$){var Z=$/this.ky,V=$/this.kx;return[R[0]-V,R[1]-Z,R[2]+V,R[3]+Z]},g.prototype.insideBBox=function(R,$){return O(R[0]-$[0])>=0&&O(R[0]-$[2])<=0&&R[1]>=$[1]&&R[1]<=$[3]},Object.defineProperties(g,b),g}();var ud=F(im.exports),h_={exports:{}};h_.exports=function(){var l=function(u,p){if(u===void 0&&(u=[]),p===void 0&&(p=a),this.data=u,this.length=this.data.length,this.compare=p,this.length>0)for(var g=(this.length>>1)-1;g>=0;g--)this._down(g)};function a(u,p){return u<p?-1:u>p?1:0}return l.prototype.push=function(u){this.data.push(u),this.length++,this._up(this.length-1)},l.prototype.pop=function(){if(this.length!==0){var u=this.data[0],p=this.data.pop();return this.length--,this.length>0&&(this.data[0]=p,this._down(0)),u}},l.prototype.peek=function(){return this.data[0]},l.prototype._up=function(u){for(var p=this.data,g=this.compare,b=p[u];u>0;){var w=u-1>>1,E=p[w];if(g(b,E)>=0)break;p[u]=E,u=w}p[u]=b},l.prototype._down=function(u){for(var p=this.data,g=this.compare,b=this.length>>1,w=p[u];u<b;){var E=1+(u<<1),O=p[E],R=E+1;if(R<this.length&&g(p[R],O)<0&&(E=R,O=p[R]),g(O,w)>=0)break;p[u]=O,u=E}p[u]=w},l}();var Ml=F(h_.exports),Tn=8192;function my(l,a){return a.dist-l.dist}const p_=100,om=50;function f_(l){const a=[1/0,1/0,-1/0,-1/0];if(a.length!==l.length)return!1;for(let u=0;u<a.length;u++)if(a[u]!==l[u])return!1;return!0}function dd(l){return l[1]-l[0]+1}function ql(l,a){const u=l[1]>=l[0]&&l[1]<a;return u||console.warn("Distance Expression: Index is out of range"),u}function m_(l,a){if(l[0]>l[1])return[null,null];const u=dd(l);if(a){if(u===2)return[l,null];const p=Math.floor(u/2);return[[l[0],l[0]+p],[l[0]+p,l[1]]]}{if(u===1)return[l,null];const p=Math.floor(u/2)-1;return[[l[0],l[0]+p],[l[0]+p+1,l[1]]]}}function ch(l,a){const u=[1/0,1/0,-1/0,-1/0];if(!ql(a,l.length))return u;for(let p=a[0];p<=a[1];++p)sd(u,l[p]);return u}function gy(l){const a=[1/0,1/0,-1/0,-1/0];for(let u=0;u<l.length;++u)for(let p=0;p<l[u].length;++p)sd(a,l[u][p]);return a}function uh(l,a,u){if(f_(l)||f_(a))return NaN;let p=0,g=0;return l[2]<a[0]&&(p=a[0]-l[2]),l[0]>a[2]&&(p=l[0]-a[2]),l[1]>a[3]&&(g=l[1]-a[3]),l[3]<a[1]&&(g=a[1]-l[3]),u.distance([0,0],[p,g])}function g_(l){return 360*l-180}function aI(l){return 360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90}function bp(l,a){const u=Math.pow(2,a.z),p=(l.y/Tn+a.y)/u;return[g_((l.x/Tn+a.x)/u),aI(p)]}function sI(l,a){const u=[];for(let p=0;p<l.length;++p)u.push(bp(l[p],a));return u}function DA(l,a,u){const p=u.pointOnLine(a,l).point;return u.distance(l,p)}function LA(l,a,u,p,g){const b=u.slice(p[0],p[1]+1);let w=1/0;for(let E=a[0];E<=a[1];++E)if((w=Math.min(w,DA(l[E],b,g)))===0)return 0;return w}function y_(l,a,u,p,g){const b=Math.min(g.pointToSegmentDistance(l,u,p),g.pointToSegmentDistance(a,u,p)),w=Math.min(g.pointToSegmentDistance(u,l,a),g.pointToSegmentDistance(p,l,a));return Math.min(b,w)}function lI(l,a,u,p,g){if(!ql(a,l.length)||!ql(p,u.length))return NaN;let b=1/0;for(let w=a[0];w<a[1];++w)for(let E=p[0];E<p[1];++E){if(uu(l[w],l[w+1],u[E],u[E+1]))return 0;b=Math.min(b,y_(l[w],l[w+1],u[E],u[E+1],g))}return b}function cI(l,a,u,p,g){if(!ql(a,l.length)||!ql(p,u.length))return NaN;let b=1/0;for(let w=a[0];w<=a[1];++w)for(let E=p[0];E<=p[1];++E)if((b=Math.min(b,g.distance(l[w],u[E])))===0)return b;return b}function uI(l,a,u){if(yp(l,a,!0))return 0;let p=1/0;for(const g of a){const b=g.length;if(b<2)return console.warn("Distance Expression: Invalid polygon!"),NaN;if(g[0]!==g[b-1]&&(p=Math.min(p,u.pointToSegmentDistance(l,g[b-1],g[0])))===0||(p=Math.min(p,DA(l,g,u)))===0)return p}return p}function FA(l,a,u,p){if(!ql(a,l.length))return NaN;for(let b=a[0];b<=a[1];++b)if(yp(l[b],u,!0))return 0;let g=1/0;for(let b=a[0];b<a[1];++b)for(const w of u)for(let E=0,O=w.length,R=O-1;E<O;R=E++){if(uu(l[b],l[b+1],w[R],w[E]))return 0;g=Math.min(g,y_(l[b],l[b+1],w[R],w[E],p))}return g}function am(l,a){for(const u of l)for(let p=0;p<=u.length-1;++p)if(yp(u[p],a,!0))return!0;return!1}function dI(l,a,u,p=1/0){const g=gy(l),b=gy(a);if(p!==1/0&&uh(g,b,u)>=p)return p;if(ld(g,b)){if(am(l,a))return 0}else if(am(a,l))return 0;let w=p;for(const E of l)for(let O=0,R=E.length,$=R-1;O<R;$=O++)for(const Z of a)for(let V=0,X=Z.length,Q=X-1;V<X;Q=V++){if(uu(E[$],E[O],Z[Q],Z[V]))return 0;w=Math.min(w,y_(E[$],E[O],Z[Q],Z[V],u))}return w}function yy(l,a,u,p,g,b,w){if(b===null||w===null)return;const E=uh(ch(p,b),ch(g,w),u);E<a&&l.push({dist:E,range1:b,range2:w})}function v_(l,a,u,p,g=1/0){let b=Math.min(p.distance(l[0],u[0][0]),g);if(b===0)return b;const w=new Ml([{dist:0,range1:[0,l.length-1],range2:[0,0]}],my),E=a?om:p_,O=gy(u);for(;w.length;){const R=w.pop();if(R.dist>=b)continue;const $=R.range1;if(dd($)<=E){if(!ql($,l.length))return NaN;if(a){const Z=FA(l,$,u,p);if((b=Math.min(b,Z))===0)return b}else for(let Z=$[0];Z<=$[1];++Z){const V=uI(l[Z],u,p);if((b=Math.min(b,V))===0)return b}}else{const Z=m_($,a);if(Z[0]!==null){const V=uh(ch(l,Z[0]),O,p);V<b&&w.push({dist:V,range1:Z[0],range2:[0,0]})}if(Z[1]!==null){const V=uh(ch(l,Z[1]),O,p);V<b&&w.push({dist:V,range1:Z[1],range2:[0,0]})}}}return b}function $A(l,a,u,p,g,b=1/0){let w=Math.min(b,g.distance(l[0],u[0]));if(w===0)return w;const E=new Ml([{dist:0,range1:[0,l.length-1],range2:[0,u.length-1]}],my),O=a?om:p_,R=p?om:p_;for(;E.length;){const $=E.pop();if($.dist>=w)continue;const Z=$.range1,V=$.range2;if(dd(Z)<=O&&dd(V)<=R){if(!ql(Z,l.length)||!ql(V,u.length))return NaN;if(a&&p?w=Math.min(w,lI(l,Z,u,V,g)):a||p?a&&!p?w=Math.min(w,LA(u,V,l,Z,g)):!a&&p&&(w=Math.min(w,LA(l,Z,u,V,g))):w=Math.min(w,cI(l,Z,u,V,g)),w===0)return w}else{const X=m_(Z,a),Q=m_(V,p);yy(E,w,g,l,u,X[0],Q[0]),yy(E,w,g,l,u,X[0],Q[1]),yy(E,w,g,l,u,X[1],Q[0]),yy(E,w,g,l,u,X[1],Q[1])}}return w}function b_(l,a,u,p,g=1/0){let b=g;const w=ch(l,[0,l.length-1]);for(const E of u)if(!(b!==1/0&&uh(w,ch(E,[0,E.length-1]),p)>=b)&&(b=Math.min(b,$A(l,a,E,!0,p,b)),b===0))return b;return b}function vy(l,a,u,p,g=1/0){let b=g;const w=ch(l,[0,l.length-1]);for(const E of u){if(b!==1/0&&uh(w,gy(E),p)>=b)continue;const O=v_(l,a,E,p,b);if(isNaN(O))return O;if((b=Math.min(b,O))===0)return b}return b}function __(l){return l==="Point"||l==="MultiPoint"||l==="LineString"||l==="MultiLineString"||l==="Polygon"||l==="MultiPolygon"}class dh{constructor(a,u){this.type=Pn,this.geojson=a,this.geometries=u}static parse(a,u){if(a.length!==2)return u.error(`'distance' expression requires either one argument, but found ' ${a.length-1} instead.`);if(Al(a[1])){const p=a[1];if(p.type==="FeatureCollection"){for(let g=0;g<p.features.length;++g)if(__(p.features[g].geometry.type))return new dh(p,p.features[g].geometry)}else if(p.type==="Feature"){if(__(p.geometry.type))return new dh(p,p.geometry)}else if(__(p.type))return new dh(p,p)}return u.error("'distance' expression needs to be an array with format ['Distance', GeoJSONObj].")}evaluate(a){const u=a.geometry(),p=a.canonicalID();if(u!=null&&p!=null){if(a.geometryType()==="Point")return function(g,b,w){const E=[];for(const R of g)for(const $ of R)E.push(bp($,b));const O=new ud(E[0][1],"meters");return w.type==="Point"||w.type==="MultiPoint"||w.type==="LineString"?$A(E,!1,w.type==="Point"?[w.coordinates]:w.coordinates,w.type==="LineString",O):w.type==="MultiLineString"?b_(E,!1,w.coordinates,O):w.type==="Polygon"||w.type==="MultiPolygon"?vy(E,!1,w.type==="Polygon"?[w.coordinates]:w.coordinates,O):null}(u,p,this.geometries);if(a.geometryType()==="LineString")return function(g,b,w){const E=[];for(const R of g){const $=[];for(const Z of R)$.push(bp(Z,b));E.push($)}const O=new ud(E[0][0][1],"meters");if(w.type==="Point"||w.type==="MultiPoint"||w.type==="LineString")return b_(w.type==="Point"?[w.coordinates]:w.coordinates,w.type==="LineString",E,O);if(w.type==="MultiLineString"){let R=1/0;for(let $=0;$<w.coordinates.length;$++){const Z=b_(w.coordinates[$],!0,E,O,R);if(isNaN(Z))return Z;if((R=Math.min(R,Z))===0)return R}return R}if(w.type==="Polygon"||w.type==="MultiPolygon"){let R=1/0;for(let $=0;$<E.length;$++){const Z=vy(E[$],!0,w.type==="Polygon"?[w.coordinates]:w.coordinates,O,R);if(isNaN(Z))return Z;if((R=Math.min(R,Z))===0)return R}return R}return null}(u,p,this.geometries);if(a.geometryType()==="Polygon")return function(g,b,w){const E=[];for(const R of function($,Z){const V=$.length;if(V<=1)return[$];const X=[];let Q,ne;for(let ce=0;ce<V;ce++){const ge=oI($[ce]);ge!==0&&($[ce].area=Math.abs(ge),ne===void 0&&(ne=ge<0),ne===ge<0?(Q&&X.push(Q),Q=[$[ce]]):Q.push($[ce]))}return Q&&X.push(Q),X}(g)){const $=[];for(let Z=0;Z<R.length;++Z)$.push(sI(R[Z],b));E.push($)}const O=new ud(E[0][0][0][1],"meters");if(w.type==="Point"||w.type==="MultiPoint"||w.type==="LineString")return vy(w.type==="Point"?[w.coordinates]:w.coordinates,w.type==="LineString",E,O);if(w.type==="MultiLineString"){let R=1/0;for(let $=0;$<w.coordinates.length;$++){const Z=vy(w.coordinates[$],!0,E,O,R);if(isNaN(Z))return Z;if((R=Math.min(R,Z))===0)return R}return R}return w.type==="Polygon"||w.type==="MultiPolygon"?function(R,$,Z){let V=1/0;for(const X of R)for(const Q of $){const ne=dI(X,Q,Z,V);if(isNaN(ne))return ne;if((V=Math.min(V,ne))===0)return V}return V}(w.type==="Polygon"?[w.coordinates]:w.coordinates,E,O):null}(u,p,this.geometries);console.warn("Distance Expression: currently only evaluates valid Point/LineString/Polygon geometries.")}else console.warn("Distance Expression: requirs valid feature and canonical information.");return null}eachChild(){}outputDefined(){return!0}serialize(){return["distance",this.geojson]}}var by=dh;function sm(l,a){switch(l){case"string":return ws(a);case"number":return+a;case"boolean":return!!a;case"color":return kr.parse(a);case"formatted":return pi.fromString(ws(a));case"resolvedImage":return Rn.fromString(ws(a))}return a}function x_(l,a,u,p){return p!==void 0&&(l=p*Math.round(l/p)),a!==void 0&&l<a&&(l=a),u!==void 0&&l>u&&(l=u),l}class lm{constructor(a,u,p){this.type=a,this.key=u,this.scope=p}static parse(a,u){let p=u.expectedType;if(p==null&&(p=Kr),a.length<2||a.length>3)return u.error("Invalid number of arguments for 'config' expression.");const g=u.parse(a[1],1);if(!(g instanceof su))return u.error("Key name of 'config' expression must be a string literal.");if(a.length>=3){const b=u.parse(a[2],2);return b instanceof su?new lm(p,ws(g.value),ws(b.value)):u.error("Scope of 'config' expression must be a string literal.")}return new lm(p,ws(g.value))}evaluate(a){const u=[this.key,this.scope,a.scope].filter(Boolean).join(""),p=a.getConfig(u);if(!p)return null;const{type:g,value:b,values:w,minValue:E,maxValue:O,stepValue:R}=p,$=p.default.evaluate(a);let Z=$;if(b){const V=a.scope;a.scope=(V||"").split("").slice(1).join(""),Z=b.evaluate(a),a.scope=V}return g&&(Z=sm(g,Z)),Z===void 0||E===void 0&&O===void 0&&R===void 0||(typeof Z=="number"?Z=x_(Z,E,O,R):Array.isArray(Z)&&(Z=Z.map(V=>typeof V=="number"?x_(V,E,O,R):V))),b!==void 0&&Z!==void 0&&w&&!w.includes(Z)&&(Z=$,g&&(Z=sm(g,Z))),(g&&g!==this.type||Z!==void 0&&So(Z)!==this.type)&&(Z=sm(this.type.kind,Z)),Z}eachChild(){}outputDefined(){return!1}serialize(){const a=["config",this.key];return this.scope&&a.concat(this.key),a}}var _p=lm;function xp(l){if(l instanceof Yr&&(l.name==="get"&&l.args.length===1||l.name==="feature-state"||l.name==="has"&&l.args.length===1||l.name==="properties"||l.name==="geometry-type"||l.name==="id"||/^filter-/.test(l.name))||l instanceof fy||l instanceof by)return!1;let a=!0;return l.eachChild(u=>{a&&!xp(u)&&(a=!1)}),a}function cm(l){if(l instanceof Yr&&l.name==="feature-state")return!1;let a=!0;return l.eachChild(u=>{a&&!cm(u)&&(a=!1)}),a}function um(l){if(l instanceof _p)return!1;let a=!0;return l.eachChild(u=>{a&&!um(u)&&(a=!1)}),a}function Fa(l,a){if(l instanceof Yr&&a.indexOf(l.name)>=0)return!1;let u=!0;return l.eachChild(p=>{u&&!Fa(p,a)&&(u=!1)}),u}class hd{constructor(a,u){this.type=u.type,this.name=a,this.boundExpression=u}static parse(a,u){if(a.length!==2||typeof a[1]!="string")return u.error("'var' expression requires exactly one string literal argument.");const p=a[1];return u.scope.has(p)?new hd(p,u.scope.get(p)):u.error(`Unknown variable "${p}". Make sure "${p}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(a){return this.boundExpression.evaluate(a)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Ss=hd;class w_{constructor(a,u=[],p,g=new ls,b=[],w,E){this.registry=a,this.path=u,this.key=u.map(O=>`[${O}]`).join(""),this.scope=g,this.errors=b,this.expectedType=p,this._scope=w,this.options=E}parse(a,u,p,g,b={}){return u||p?this.concat(u,p,g)._parse(a,b):this._parse(a,b)}_parse(a,u){function p(g,b,w){return w==="assert"?new lu(b,[g]):w==="coerce"?new cu(b,[g]):g}if(a!==null&&typeof a!="string"&&typeof a!="boolean"&&typeof a!="number"||(a=["literal",a]),Array.isArray(a)){if(a.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const g=typeof a[0]=="string"?this.registry[a[0]]:void 0;if(g){let b=g.parse(a,this);if(!b)return null;if(this.expectedType){const w=this.expectedType,E=b.type;if(w.kind!=="string"&&w.kind!=="number"&&w.kind!=="boolean"&&w.kind!=="object"&&w.kind!=="array"||E.kind!=="value")if(w.kind!=="color"&&w.kind!=="formatted"&&w.kind!=="resolvedImage"||E.kind!=="value"&&E.kind!=="string"){if(this.checkSubtype(w,E))return null}else b=p(b,w,u.typeAnnotation||"coerce");else b=p(b,w,u.typeAnnotation||"assert")}if(!(b instanceof su)&&b.type.kind!=="resolvedImage"&&S_(b)){const w=new kA(this._scope,this.options);try{b=new su(b.type,b.evaluate(w))}catch(E){return this.error(E.message),null}}return b}return cu.parse(["to-array",a],this)}return this.error(a===void 0?"'undefined' value invalid. Use null instead.":typeof a=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof a} instead.`)}concat(a,u,p){const g=typeof a=="number"?this.path.concat(a):this.path,b=p?this.scope.concat(p):this.scope;return new w_(this.registry,g,u||null,b,this.errors,this._scope,this.options)}error(a,...u){const p=`${this.key}${u.map(g=>`[${g}]`).join("")}`;this.errors.push(new Ji(p,a))}checkSubtype(a,u){const p=wl(a,u);return p&&this.error(p),p}}var jA=w_;function S_(l){if(l instanceof Ss)return S_(l.boundExpression);if(l instanceof Yr&&l.name==="error"||l instanceof nm||l instanceof fy||l instanceof by||l instanceof _p)return!1;const a=l instanceof cu||l instanceof lu;let u=!0;return l.eachChild(p=>{u=a?u&&S_(p):u&&p instanceof su}),!!u&&xp(l)&&Fa(l,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])}function hh(l,a){const u=l.length-1;let p,g,b=0,w=u,E=0;for(;b<=w;)if(E=Math.floor((b+w)/2),p=l[E],g=l[E+1],p<=a){if(E===u||a<g)return E;b=E+1}else{if(!(p>a))throw new Yo("Input is not a number.");w=E-1}return 0}class _y{constructor(a,u,p){this.type=a,this.input=u,this.labels=[],this.outputs=[];for(const[g,b]of p)this.labels.push(g),this.outputs.push(b)}static parse(a,u){if(a.length-1<4)return u.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return u.error("Expected an even number of arguments.");const p=u.parse(a[1],1,Pn);if(!p)return null;const g=[];let b=null;u.expectedType&&u.expectedType.kind!=="value"&&(b=u.expectedType);for(let w=1;w<a.length;w+=2){const E=w===1?-1/0:a[w],O=a[w+1],R=w,$=w+1;if(typeof E!="number")return u.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',R);if(g.length&&g[g.length-1][0]>=E)return u.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',R);const Z=u.parse(O,$,b);if(!Z)return null;b=b||Z.type,g.push([E,Z])}return new _y(b,p,g)}evaluate(a){const u=this.labels,p=this.outputs;if(u.length===1)return p[0].evaluate(a);const g=this.input.evaluate(a);if(g<=u[0])return p[0].evaluate(a);const b=u.length;return g>=u[b-1]?p[b-1].evaluate(a):p[hh(u,g)].evaluate(a)}eachChild(a){a(this.input);for(const u of this.outputs)a(u)}outputDefined(){return this.outputs.every(a=>a.outputDefined())}serialize(){const a=["step",this.input.serialize()];for(let u=0;u<this.labels.length;u++)u>0&&a.push(this.labels[u]),a.push(this.outputs[u].serialize());return a}}var dm=_y;const zA=.95047,pd=1.08883,BA=4/29,wp=6/29,A_=3*wp*wp,ZA=wp*wp*wp,hI=Math.PI/180,Xl=180/Math.PI;function xy(l){return l>ZA?Math.pow(l,1/3):l/A_+BA}function wy(l){return l>wp?l*l*l:A_*(l-BA)}function Sy(l){return 255*(l<=.0031308?12.92*l:1.055*Math.pow(l,1/2.4)-.055)}function Ay(l){return(l/=255)<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}function C_(l){const a=Ay(l.r),u=Ay(l.g),p=Ay(l.b),g=xy((.4124564*a+.3575761*u+.1804375*p)/zA),b=xy((.2126729*a+.7151522*u+.072175*p)/1);return{l:116*b-16,a:500*(g-b),b:200*(b-xy((.0193339*a+.119192*u+.9503041*p)/pd)),alpha:l.a}}function M_(l){let a=(l.l+16)/116,u=isNaN(l.a)?a:a+l.a/500,p=isNaN(l.b)?a:a-l.b/200;return a=1*wy(a),u=zA*wy(u),p=pd*wy(p),new kr(Sy(3.2404542*u-1.5371385*a-.4985314*p),Sy(-.969266*u+1.8760108*a+.041556*p),Sy(.0556434*u-.2040259*a+1.0572252*p),l.alpha)}function UA(l,a,u){const p=a-l;return l+u*(p>180||p<-180?p-360*Math.round(p/360):p)}const Sp={forward:C_,reverse:M_,interpolate:function(l,a,u){return{l:ur(l.l,a.l,u),a:ur(l.a,a.a,u),b:ur(l.b,a.b,u),alpha:ur(l.alpha,a.alpha,u)}}},Ap={forward:function(l){const{l:a,a:u,b:p}=C_(l),g=Math.atan2(p,u)*Xl;return{h:g<0?g+360:g,c:Math.sqrt(u*u+p*p),l:a,alpha:l.a}},reverse:function(l){const a=l.h*hI,u=l.c;return M_({l:l.l,a:Math.cos(a)*u,b:Math.sin(a)*u,alpha:l.alpha})},interpolate:function(l,a,u){return{h:UA(l.h,a.h,u),c:ur(l.c,a.c,u),l:ur(l.l,a.l,u),alpha:ur(l.alpha,a.alpha,u)}}};var E_=Object.freeze({__proto__:null,hcl:Ap,lab:Sp});class hm{constructor(a,u,p,g,b){this.type=a,this.operator=u,this.interpolation=p,this.input=g,this.labels=[],this.outputs=[];for(const[w,E]of b)this.labels.push(w),this.outputs.push(E)}static interpolationFactor(a,u,p,g){let b=0;if(a.name==="exponential")b=Cp(u,a.base,p,g);else if(a.name==="linear")b=Cp(u,1,p,g);else if(a.name==="cubic-bezier"){const w=a.controlPoints;b=new z(w[0],w[1],w[2],w[3]).solve(Cp(u,1,p,g))}return b}static parse(a,u){let[p,g,b,...w]=a;if(!Array.isArray(g)||g.length===0)return u.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){const R=g[1];if(typeof R!="number")return u.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:R}}else{if(g[0]!=="cubic-bezier")return u.error(`Unknown interpolation type ${String(g[0])}`,1,0);{const R=g.slice(1);if(R.length!==4||R.some($=>typeof $!="number"||$<0||$>1))return u.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:R}}}if(a.length-1<4)return u.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return u.error("Expected an even number of arguments.");if(b=u.parse(b,2,Pn),!b)return null;const E=[];let O=null;p==="interpolate-hcl"||p==="interpolate-lab"?O=jo:u.expectedType&&u.expectedType.kind!=="value"&&(O=u.expectedType);for(let R=0;R<w.length;R+=2){const $=w[R],Z=w[R+1],V=R+3,X=R+4;if(typeof $!="number")return u.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',V);if(E.length&&E[E.length-1][0]>=$)return u.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',V);const Q=u.parse(Z,X,O);if(!Q)return null;O=O||Q.type,E.push([$,Q])}return O.kind==="number"||O.kind==="color"||O.kind==="array"&&O.itemType.kind==="number"&&typeof O.N=="number"?new hm(O,p,g,b,E):u.error(`Type ${Hi(O)} is not interpolatable.`)}evaluate(a){const u=this.labels,p=this.outputs;if(u.length===1)return p[0].evaluate(a);const g=this.input.evaluate(a);if(g<=u[0])return p[0].evaluate(a);const b=u.length;if(g>=u[b-1])return p[b-1].evaluate(a);const w=hh(u,g),E=hm.interpolationFactor(this.interpolation,g,u[w],u[w+1]),O=p[w].evaluate(a),R=p[w+1].evaluate(a);return this.operator==="interpolate"?wo[this.type.kind.toLowerCase()](O,R,E):this.operator==="interpolate-hcl"?Ap.reverse(Ap.interpolate(Ap.forward(O),Ap.forward(R),E)):Sp.reverse(Sp.interpolate(Sp.forward(O),Sp.forward(R),E))}eachChild(a){a(this.input);for(const u of this.outputs)a(u)}outputDefined(){return this.outputs.every(a=>a.outputDefined())}serialize(){let a;a=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const u=[this.operator,a,this.input.serialize()];for(let p=0;p<this.labels.length;p++)u.push(this.labels[p],this.outputs[p].serialize());return u}}function Cp(l,a,u,p){const g=p-u,b=l-u;return g===0?0:a===1?b/g:(Math.pow(a,b)-1)/(Math.pow(a,g)-1)}var il=hm;class Mp{constructor(a,u){this.type=a,this.args=u}static parse(a,u){if(a.length<2)return u.error("Expectected at least one argument.");let p=null;const g=u.expectedType;g&&g.kind!=="value"&&(p=g);const b=[];for(const E of a.slice(1)){const O=u.parse(E,1+b.length,p,void 0,{typeAnnotation:"omit"});if(!O)return null;p=p||O.type,b.push(O)}const w=g&&b.some(E=>wl(g,E.type));return new Mp(w?Kr:p,b)}evaluate(a){let u,p=null,g=0;for(const b of this.args){if(g++,p=b.evaluate(a),p&&p instanceof Rn&&!p.available&&(u||(u=p),p=null,g===this.args.length))return u;if(p!==null)break}return p}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}serialize(){const a=["coalesce"];return this.eachChild(u=>{a.push(u.serialize())}),a}}var T_=Mp;class Cy{constructor(a,u){this.type=u.type,this.bindings=[].concat(a),this.result=u}evaluate(a){return this.result.evaluate(a)}eachChild(a){for(const u of this.bindings)a(u[1]);a(this.result)}static parse(a,u){if(a.length<4)return u.error(`Expected at least 3 arguments, but found ${a.length-1} instead.`);const p=[];for(let b=1;b<a.length-1;b+=2){const w=a[b];if(typeof w!="string")return u.error(`Expected string, but found ${typeof w} instead.`,b);if(/[^a-zA-Z0-9_]/.test(w))return u.error("Variable names must contain only alphanumeric characters or '_'.",b);const E=u.parse(a[b+1],b+1);if(!E)return null;p.push([w,E])}const g=u.parse(a[a.length-1],a.length-1,u.expectedType,p);return g?new Cy(p,g):null}outputDefined(){return this.result.outputDefined()}serialize(){const a=["let"];for(const[u,p]of this.bindings)a.push(u,p.serialize());return a.push(this.result.serialize()),a}}var P_=Cy;class fd{constructor(a,u,p){this.type=a,this.index=u,this.input=p}static parse(a,u){if(a.length!==3)return u.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const p=u.parse(a[1],1,Pn),g=u.parse(a[2],2,aa(u.expectedType||Kr));return p&&g?new fd(g.type.itemType,p,g):null}evaluate(a){const u=this.index.evaluate(a),p=this.input.evaluate(a);if(u<0)throw new Yo(`Array index out of bounds: ${u} < 0.`);if(u>=p.length)throw new Yo(`Array index out of bounds: ${u} > ${p.length-1}.`);if(u!==Math.floor(u))throw new Yo(`Array index must be an integer, but found ${u} instead.`);return p[u]}eachChild(a){a(this.index),a(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var ri=fd;class I_{constructor(a,u){this.type=Xr,this.needle=a,this.haystack=u}static parse(a,u){if(a.length!==3)return u.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const p=u.parse(a[1],1,Kr),g=u.parse(a[2],2,Kr);return p&&g?gr(p.type,[Xr,ni,Pn,cs,Kr])?new I_(p,g):u.error(`Expected first argument to be of type boolean, string, number or null, but found ${Hi(p.type)} instead`):null}evaluate(a){const u=this.needle.evaluate(a),p=this.haystack.evaluate(a);if(p==null)return!1;if(!Sl(u,["boolean","string","number","null"]))throw new Yo(`Expected first argument to be of type boolean, string, number or null, but found ${Hi(So(u))} instead.`);if(!Sl(p,["string","array"]))throw new Yo(`Expected second argument to be of type array or string, but found ${Hi(So(p))} instead.`);return p.indexOf(u)>=0}eachChild(a){a(this.needle),a(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var pI=I_;class My{constructor(a,u,p){this.type=Pn,this.needle=a,this.haystack=u,this.fromIndex=p}static parse(a,u){if(a.length<=2||a.length>=5)return u.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const p=u.parse(a[1],1,Kr),g=u.parse(a[2],2,Kr);if(!p||!g)return null;if(!gr(p.type,[Xr,ni,Pn,cs,Kr]))return u.error(`Expected first argument to be of type boolean, string, number or null, but found ${Hi(p.type)} instead`);if(a.length===4){const b=u.parse(a[3],3,Pn);return b?new My(p,g,b):null}return new My(p,g)}evaluate(a){const u=this.needle.evaluate(a),p=this.haystack.evaluate(a);if(!Sl(u,["boolean","string","number","null"]))throw new Yo(`Expected first argument to be of type boolean, string, number or null, but found ${Hi(So(u))} instead.`);if(!Sl(p,["string","array"]))throw new Yo(`Expected second argument to be of type array or string, but found ${Hi(So(p))} instead.`);if(this.fromIndex){const g=this.fromIndex.evaluate(a);return p.indexOf(u,g)}return p.indexOf(u)}eachChild(a){a(this.needle),a(this.haystack),this.fromIndex&&a(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const a=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),a]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var HA=My;class O_{constructor(a,u,p,g,b,w){this.inputType=a,this.type=u,this.input=p,this.cases=g,this.outputs=b,this.otherwise=w}static parse(a,u){if(a.length<5)return u.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if(a.length%2!=1)return u.error("Expected an even number of arguments.");let p,g;u.expectedType&&u.expectedType.kind!=="value"&&(g=u.expectedType);const b={},w=[];for(let R=2;R<a.length-1;R+=2){let $=a[R];const Z=a[R+1];Array.isArray($)||($=[$]);const V=u.concat(R);if($.length===0)return V.error("Expected at least one branch label.");for(const Q of $){if(typeof Q!="number"&&typeof Q!="string")return V.error("Branch labels must be numbers or strings.");if(typeof Q=="number"&&Math.abs(Q)>Number.MAX_SAFE_INTEGER)return V.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Q=="number"&&Math.floor(Q)!==Q)return V.error("Numeric branch labels must be integer values.");if(p){if(V.checkSubtype(p,So(Q)))return null}else p=So(Q);if(b[String(Q)]!==void 0)return V.error("Branch labels must be unique.");b[String(Q)]=w.length}const X=u.parse(Z,R,g);if(!X)return null;g=g||X.type,w.push(X)}const E=u.parse(a[1],1,Kr);if(!E)return null;const O=u.parse(a[a.length-1],a.length-1,g);return O?E.type.kind!=="value"&&u.concat(1).checkSubtype(p,E.type)?null:new O_(p,g,E,b,w,O):null}evaluate(a){const u=this.input.evaluate(a);return(So(u)===this.inputType&&this.outputs[this.cases[u]]||this.otherwise).evaluate(a)}eachChild(a){a(this.input),this.outputs.forEach(a),a(this.otherwise)}outputDefined(){return this.outputs.every(a=>a.outputDefined())&&this.otherwise.outputDefined()}serialize(){const a=["match",this.input.serialize()],u=Object.keys(this.cases).sort(),p=[],g={};for(const w of u){const E=g[this.cases[w]];E===void 0?(g[this.cases[w]]=p.length,p.push([this.cases[w],[w]])):p[E][1].push(w)}const b=w=>this.inputType.kind==="number"?Number(w):w;for(const[w,E]of p)a.push(E.length===1?b(E[0]):E.map(b)),a.push(this.outputs[w].serialize());return a.push(this.otherwise.serialize()),a}}var VA=O_;class Ey{constructor(a,u,p){this.type=a,this.branches=u,this.otherwise=p}static parse(a,u){if(a.length<4)return u.error(`Expected at least 3 arguments, but found only ${a.length-1}.`);if(a.length%2!=0)return u.error("Expected an odd number of arguments.");let p;u.expectedType&&u.expectedType.kind!=="value"&&(p=u.expectedType);const g=[];for(let w=1;w<a.length-1;w+=2){const E=u.parse(a[w],w,Xr);if(!E)return null;const O=u.parse(a[w+1],w+1,p);if(!O)return null;g.push([E,O]),p=p||O.type}const b=u.parse(a[a.length-1],a.length-1,p);return b?new Ey(p,g,b):null}evaluate(a){for(const[u,p]of this.branches)if(u.evaluate(a))return p.evaluate(a);return this.otherwise.evaluate(a)}eachChild(a){for(const[u,p]of this.branches)a(u),a(p);a(this.otherwise)}outputDefined(){return this.branches.every(([a,u])=>u.outputDefined())&&this.otherwise.outputDefined()}serialize(){const a=["case"];return this.eachChild(u=>{a.push(u.serialize())}),a}}var WA=Ey;class pm{constructor(a,u,p,g){this.type=a,this.input=u,this.beginIndex=p,this.endIndex=g}static parse(a,u){if(a.length<=2||a.length>=5)return u.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const p=u.parse(a[1],1,Kr),g=u.parse(a[2],2,Pn);if(!p||!g)return null;if(!gr(p.type,[aa(Kr),ni,Kr]))return u.error(`Expected first argument to be of type array or string, but found ${Hi(p.type)} instead`);if(a.length===4){const b=u.parse(a[3],3,Pn);return b?new pm(p.type,p,g,b):null}return new pm(p.type,p,g)}evaluate(a){const u=this.input.evaluate(a),p=this.beginIndex.evaluate(a);if(!Sl(u,["string","array"]))throw new Yo(`Expected first argument to be of type array or string, but found ${Hi(So(u))} instead.`);if(this.endIndex){const g=this.endIndex.evaluate(a);return u.slice(p,g)}return u.slice(p)}eachChild(a){a(this.input),a(this.beginIndex),this.endIndex&&a(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const a=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),a]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Ep=pm;function k_(l,a){return l==="=="||l==="!="?a.kind==="boolean"||a.kind==="string"||a.kind==="number"||a.kind==="null"||a.kind==="value":a.kind==="string"||a.kind==="number"||a.kind==="value"}function N_(l,a,u,p){return p.compare(a,u)===0}function Tp(l,a,u){const p=l!=="=="&&l!=="!=";return class Jre{constructor(b,w,E){this.type=Xr,this.lhs=b,this.rhs=w,this.collator=E,this.hasUntypedArgument=b.type.kind==="value"||w.type.kind==="value"}static parse(b,w){if(b.length!==3&&b.length!==4)return w.error("Expected two or three arguments.");const E=b[0];let O=w.parse(b[1],1,Kr);if(!O)return null;if(!k_(E,O.type))return w.concat(1).error(`"${E}" comparisons are not supported for type '${Hi(O.type)}'.`);let R=w.parse(b[2],2,Kr);if(!R)return null;if(!k_(E,R.type))return w.concat(2).error(`"${E}" comparisons are not supported for type '${Hi(R.type)}'.`);if(O.type.kind!==R.type.kind&&O.type.kind!=="value"&&R.type.kind!=="value")return w.error(`Cannot compare types '${Hi(O.type)}' and '${Hi(R.type)}'.`);p&&(O.type.kind==="value"&&R.type.kind!=="value"?O=new lu(R.type,[O]):O.type.kind!=="value"&&R.type.kind==="value"&&(R=new lu(O.type,[R])));let $=null;if(b.length===4){if(O.type.kind!=="string"&&R.type.kind!=="string"&&O.type.kind!=="value"&&R.type.kind!=="value")return w.error("Cannot use collator to compare non-string types.");if($=w.parse(b[3],3,ah),!$)return null}return new Jre(O,R,$)}evaluate(b){const w=this.lhs.evaluate(b),E=this.rhs.evaluate(b);if(p&&this.hasUntypedArgument){const O=So(w),R=So(E);if(O.kind!==R.kind||O.kind!=="string"&&O.kind!=="number")throw new Yo(`Expected arguments for "${l}" to be (string, string) or (number, number), but found (${O.kind}, ${R.kind}) instead.`)}if(this.collator&&!p&&this.hasUntypedArgument){const O=So(w),R=So(E);if(O.kind!=="string"||R.kind!=="string")return a(b,w,E)}return this.collator?u(b,w,E,this.collator.evaluate(b)):a(b,w,E)}eachChild(b){b(this.lhs),b(this.rhs),this.collator&&b(this.collator)}outputDefined(){return!0}serialize(){const b=[l];return this.eachChild(w=>{b.push(w.serialize())}),b}}}const R_=Tp("==",function(l,a,u){return a===u},N_),D_=Tp("!=",function(l,a,u){return a!==u},function(l,a,u,p){return!N_(0,a,u,p)}),fI=Tp("<",function(l,a,u){return a<u},function(l,a,u,p){return p.compare(a,u)<0}),mI=Tp(">",function(l,a,u){return a>u},function(l,a,u,p){return p.compare(a,u)>0}),GA=Tp("<=",function(l,a,u){return a<=u},function(l,a,u,p){return p.compare(a,u)<=0}),gI=Tp(">=",function(l,a,u){return a>=u},function(l,a,u,p){return p.compare(a,u)>=0});class L_{constructor(a,u,p,g,b,w){this.type=ni,this.number=a,this.locale=u,this.currency=p,this.unit=g,this.minFractionDigits=b,this.maxFractionDigits=w}static parse(a,u){if(a.length!==3)return u.error("Expected two arguments.");const p=u.parse(a[1],1,Pn);if(!p)return null;const g=a[2];if(typeof g!="object"||Array.isArray(g))return u.error("NumberFormat options argument must be an object.");let b=null;if(g.locale&&(b=u.parse(g.locale,1,ni),!b))return null;let w=null;if(g.currency&&(w=u.parse(g.currency,1,ni),!w))return null;let E=null;if(g.unit&&(E=u.parse(g.unit,1,ni),!E))return null;let O=null;if(g["min-fraction-digits"]&&(O=u.parse(g["min-fraction-digits"],1,Pn),!O))return null;let R=null;return g["max-fraction-digits"]&&(R=u.parse(g["max-fraction-digits"],1,Pn),!R)?null:new L_(p,b,w,E,O,R)}evaluate(a){return new Intl.NumberFormat(this.locale?this.locale.evaluate(a):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(a):void 0,unit:this.unit?this.unit.evaluate(a):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(a):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(a):void 0}).format(this.number.evaluate(a))}eachChild(a){a(this.number),this.locale&&a(this.locale),this.currency&&a(this.currency),this.unit&&a(this.unit),this.minFractionDigits&&a(this.minFractionDigits),this.maxFractionDigits&&a(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const a={};return this.locale&&(a.locale=this.locale.serialize()),this.currency&&(a.currency=this.currency.serialize()),this.unit&&(a.unit=this.unit.serialize()),this.minFractionDigits&&(a["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(a["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),a]}}class F_{constructor(a){this.type=Pn,this.input=a}static parse(a,u){if(a.length!==2)return u.error(`Expected 1 argument, but found ${a.length-1} instead.`);const p=u.parse(a[1],1);return p?p.type.kind!=="array"&&p.type.kind!=="string"&&p.type.kind!=="value"?u.error(`Expected argument of type string or array, but found ${Hi(p.type)} instead.`):new F_(p):null}evaluate(a){const u=this.input.evaluate(a);if(typeof u=="string"||Array.isArray(u))return u.length;throw new Yo(`Expected value to be of type string or array, but found ${Hi(So(u))} instead.`)}eachChild(a){a(this.input)}outputDefined(){return!1}serialize(){const a=["length"];return this.eachChild(u=>{a.push(u.serialize())}),a}}function KA(l){return function(){l=1831565813+(l|=0)|0;let a=Math.imul(l^l>>>15,1|l);return a=a+Math.imul(a^a>>>7,61|a)^a,((a^a>>>14)>>>0)/4294967296}}const $_={"==":R_,"!=":D_,">":mI,"<":fI,">=":gI,"<=":GA,array:lu,at:ri,boolean:lu,case:WA,coalesce:T_,collator:nm,format:mp,image:sh,in:pI,"index-of":HA,interpolate:il,"interpolate-hcl":il,"interpolate-lab":il,length:F_,let:P_,literal:su,match:VA,number:lu,"number-format":L_,object:lu,slice:Ep,step:dm,string:lu,"to-boolean":cu,"to-color":cu,"to-number":cu,"to-string":cu,var:Ss,within:fy,distance:by,config:_p};function j_(l,[a,u,p,g]){a=a.evaluate(l),u=u.evaluate(l),p=p.evaluate(l);const b=g?g.evaluate(l):1,w=go(a,u,p,b);if(w)throw new Yo(w);return new kr(a/255*b,u/255*b,p/255*b,b)}function qA(l,[a,u,p,g]){a=a.evaluate(l),u=u.evaluate(l),p=p.evaluate(l);const b=g?g.evaluate(l):1,w=function(R,$,Z,V){return typeof R=="number"&&R>=0&&R<=360?typeof $=="number"&&$>=0&&$<=100&&typeof Z=="number"&&Z>=0&&Z<=100?V===void 0||typeof V=="number"&&V>=0&&V<=1?null:`Invalid hsla value [${[R,$,Z,V].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid hsla value [${(typeof V=="number"?[R,$,Z,V]:[R,$,Z]).join(", ")}]: 's', and 'l' must be between 0 and 100.`:`Invalid hsla value [${(typeof V=="number"?[R,$,Z,V]:[R,$,Z]).join(", ")}]: 'h' must be between 0 and 360.`}(a,u,p,b);if(w)throw new Yo(w);const E=`hsla(${a}, ${u}%, ${p}%, ${b})`,O=kr.parse(E);if(!O)throw new Yo(`Failed to parse HSLA color: ${E}`);return O}function z_(l,a){return l in a}function B_(l,a){const u=a[l];return u===void 0?null:u}function ph(l){return{type:l}}Yr.register($_,{error:[{kind:"error"},[ni],(l,[a])=>{throw new Yo(a.evaluate(l))}],typeof:[ni,[Kr],(l,[a])=>Hi(So(a.evaluate(l)))],"to-rgba":[aa(Pn,4),[jo],(l,[a])=>a.evaluate(l).toArray()],rgb:[jo,[Pn,Pn,Pn],j_],rgba:[jo,[Pn,Pn,Pn,Pn],j_],hsl:[jo,[Pn,Pn,Pn],qA],hsla:[jo,[Pn,Pn,Pn,Pn],qA],has:{type:Xr,overloads:[[[ni],(l,[a])=>z_(a.evaluate(l),l.properties())],[[ni,Rc],(l,[a,u])=>z_(a.evaluate(l),u.evaluate(l))]]},get:{type:Kr,overloads:[[[ni],(l,[a])=>B_(a.evaluate(l),l.properties())],[[ni,Rc],(l,[a,u])=>B_(a.evaluate(l),u.evaluate(l))]]},"feature-state":[Kr,[ni],(l,[a])=>B_(a.evaluate(l),l.featureState||{})],properties:[Rc,[],l=>l.properties()],"geometry-type":[ni,[],l=>l.geometryType()],id:[Kr,[],l=>l.id()],zoom:[Pn,[],l=>l.globals.zoom],pitch:[Pn,[],l=>l.globals.pitch||0],"distance-from-center":[Pn,[],l=>l.distanceFromCenter()],"measure-light":[Pn,[ni],(l,[a])=>l.measureLight(a.evaluate(l))],"heatmap-density":[Pn,[],l=>l.globals.heatmapDensity||0],"line-progress":[Pn,[],l=>l.globals.lineProgress||0],"raster-value":[Pn,[],l=>l.globals.rasterValue||0],"raster-particle-speed":[Pn,[],l=>l.globals.rasterParticleSpeed||0],"sky-radial-progress":[Pn,[],l=>l.globals.skyRadialProgress||0],accumulated:[Kr,[],l=>l.globals.accumulated===void 0?null:l.globals.accumulated],"+":[Pn,ph(Pn),(l,a)=>{let u=0;for(const p of a)u+=p.evaluate(l);return u}],"*":[Pn,ph(Pn),(l,a)=>{let u=1;for(const p of a)u*=p.evaluate(l);return u}],"-":{type:Pn,overloads:[[[Pn,Pn],(l,[a,u])=>a.evaluate(l)-u.evaluate(l)],[[Pn],(l,[a])=>-a.evaluate(l)]]},"/":[Pn,[Pn,Pn],(l,[a,u])=>a.evaluate(l)/u.evaluate(l)],"%":[Pn,[Pn,Pn],(l,[a,u])=>a.evaluate(l)%u.evaluate(l)],ln2:[Pn,[],()=>Math.LN2],pi:[Pn,[],()=>Math.PI],e:[Pn,[],()=>Math.E],"^":[Pn,[Pn,Pn],(l,[a,u])=>Math.pow(a.evaluate(l),u.evaluate(l))],sqrt:[Pn,[Pn],(l,[a])=>Math.sqrt(a.evaluate(l))],log10:[Pn,[Pn],(l,[a])=>Math.log(a.evaluate(l))/Math.LN10],ln:[Pn,[Pn],(l,[a])=>Math.log(a.evaluate(l))],log2:[Pn,[Pn],(l,[a])=>Math.log(a.evaluate(l))/Math.LN2],sin:[Pn,[Pn],(l,[a])=>Math.sin(a.evaluate(l))],cos:[Pn,[Pn],(l,[a])=>Math.cos(a.evaluate(l))],tan:[Pn,[Pn],(l,[a])=>Math.tan(a.evaluate(l))],asin:[Pn,[Pn],(l,[a])=>Math.asin(a.evaluate(l))],acos:[Pn,[Pn],(l,[a])=>Math.acos(a.evaluate(l))],atan:[Pn,[Pn],(l,[a])=>Math.atan(a.evaluate(l))],min:[Pn,ph(Pn),(l,a)=>Math.min(...a.map(u=>u.evaluate(l)))],max:[Pn,ph(Pn),(l,a)=>Math.max(...a.map(u=>u.evaluate(l)))],abs:[Pn,[Pn],(l,[a])=>Math.abs(a.evaluate(l))],round:[Pn,[Pn],(l,[a])=>{const u=a.evaluate(l);return u<0?-Math.round(-u):Math.round(u)}],floor:[Pn,[Pn],(l,[a])=>Math.floor(a.evaluate(l))],ceil:[Pn,[Pn],(l,[a])=>Math.ceil(a.evaluate(l))],"filter-==":[Xr,[ni,Kr],(l,[a,u])=>l.properties()[a.value]===u.value],"filter-id-==":[Xr,[Kr],(l,[a])=>l.id()===a.value],"filter-type-==":[Xr,[ni],(l,[a])=>l.geometryType()===a.value],"filter-<":[Xr,[ni,Kr],(l,[a,u])=>{const p=l.properties()[a.value],g=u.value;return typeof p==typeof g&&p<g}],"filter-id-<":[Xr,[Kr],(l,[a])=>{const u=l.id(),p=a.value;return typeof u==typeof p&&u<p}],"filter->":[Xr,[ni,Kr],(l,[a,u])=>{const p=l.properties()[a.value],g=u.value;return typeof p==typeof g&&p>g}],"filter-id->":[Xr,[Kr],(l,[a])=>{const u=l.id(),p=a.value;return typeof u==typeof p&&u>p}],"filter-<=":[Xr,[ni,Kr],(l,[a,u])=>{const p=l.properties()[a.value],g=u.value;return typeof p==typeof g&&p<=g}],"filter-id-<=":[Xr,[Kr],(l,[a])=>{const u=l.id(),p=a.value;return typeof u==typeof p&&u<=p}],"filter->=":[Xr,[ni,Kr],(l,[a,u])=>{const p=l.properties()[a.value],g=u.value;return typeof p==typeof g&&p>=g}],"filter-id->=":[Xr,[Kr],(l,[a])=>{const u=l.id(),p=a.value;return typeof u==typeof p&&u>=p}],"filter-has":[Xr,[Kr],(l,[a])=>a.value in l.properties()],"filter-has-id":[Xr,[],l=>l.id()!==null&&l.id()!==void 0],"filter-type-in":[Xr,[aa(ni)],(l,[a])=>a.value.indexOf(l.geometryType())>=0],"filter-id-in":[Xr,[aa(Kr)],(l,[a])=>a.value.indexOf(l.id())>=0],"filter-in-small":[Xr,[ni,aa(Kr)],(l,[a,u])=>u.value.indexOf(l.properties()[a.value])>=0],"filter-in-large":[Xr,[ni,aa(Kr)],(l,[a,u])=>function(p,g,b,w){for(;b<=w;){const E=b+w>>1;if(g[E]===p)return!0;g[E]>p?w=E-1:b=E+1}return!1}(l.properties()[a.value],u.value,0,u.value.length-1)],all:{type:Xr,overloads:[[[Xr,Xr],(l,[a,u])=>a.evaluate(l)&&u.evaluate(l)],[ph(Xr),(l,a)=>{for(const u of a)if(!u.evaluate(l))return!1;return!0}]]},any:{type:Xr,overloads:[[[Xr,Xr],(l,[a,u])=>a.evaluate(l)||u.evaluate(l)],[ph(Xr),(l,a)=>{for(const u of a)if(u.evaluate(l))return!0;return!1}]]},"!":[Xr,[Xr],(l,[a])=>!a.evaluate(l)],"is-supported-script":[Xr,[ni],(l,[a])=>{const u=l.globals&&l.globals.isSupportedScript;return!u||u(a.evaluate(l))}],upcase:[ni,[ni],(l,[a])=>a.evaluate(l).toUpperCase()],downcase:[ni,[ni],(l,[a])=>a.evaluate(l).toLowerCase()],concat:[ni,ph(Kr),(l,a)=>a.map(u=>ws(u.evaluate(l))).join("")],"resolved-locale":[ni,[ah],(l,[a])=>a.evaluate(l).resolvedLocale()],random:[Pn,[Pn,Pn,Kr],(l,a)=>{const[u,p,g]=a.map(w=>w.evaluate(l));if(u>p||u===p)return u;let b;if(typeof g=="string")b=function(w){let E=0;if(w.length===0)return E;for(let O=0;O<w.length;O++)E=(E<<5)-E+w.charCodeAt(O),E|=0;return E}(g);else{if(typeof g!="number")throw new Yo(`Invalid seed input: ${g}`);b=g}return u+KA(b)()*(p-u)}]});var Pp=$_;function Z_(l){return{result:"success",value:l}}function fh(l){return{result:"error",value:l}}function XA(l,a){return!!l&&!!l.parameters&&l.parameters.indexOf(a)>-1}function Ty(l){return l["property-type"]==="data-driven"}function U_(l){return XA(l.expression,"measure-light")}function YA(l){return XA(l.expression,"zoom")}function H_(l){return!!l.expression&&l.expression.interpolated}function Py(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)}function JA(l){return l}function V_(l,a){const u=a.type==="color",p=l.stops&&typeof l.stops[0][0]=="object",g=p||!(p||l.property!==void 0),b=l.type||(H_(a)?"exponential":"interval");if(u&&((l=oa({},l)).stops&&(l.stops=l.stops.map(R=>[R[0],kr.parse(R[1])])),l.default=kr.parse(l.default?l.default:a.default)),l.colorSpace&&l.colorSpace!=="rgb"&&!E_[l.colorSpace])throw new Error(`Unknown color space: ${l.colorSpace}`);let w,E,O;if(b==="exponential")w=QA;else if(b==="interval")w=vI;else if(b==="categorical"){w=yI,E=Object.create(null);for(const R of l.stops)E[R[0]]=R[1];O=typeof l.stops[0][0]}else{if(b!=="identity")throw new Error(`Unknown function type "${b}"`);w=e5}if(p){const R={},$=[];for(let X=0;X<l.stops.length;X++){const Q=l.stops[X],ne=Q[0].zoom;R[ne]===void 0&&(R[ne]={zoom:ne,type:l.type,property:l.property,default:l.default,stops:[]},$.push(ne)),R[ne].stops.push([Q[0].value,Q[1]])}const Z=[];for(const X of $)Z.push([R[X].zoom,V_(R[X],a)]);const V={name:"linear"};return{kind:"composite",interpolationType:V,interpolationFactor:il.interpolationFactor.bind(void 0,V),zoomStops:Z.map(X=>X[0]),evaluate:({zoom:X},Q)=>QA({stops:Z,base:l.base},a,X).evaluate(X,Q)}}if(g){const R=b==="exponential"?{name:"exponential",base:l.base!==void 0?l.base:1}:null;return{kind:"camera",interpolationType:R,interpolationFactor:il.interpolationFactor.bind(void 0,R),zoomStops:l.stops.map($=>$[0]),evaluate:({zoom:$})=>w(l,a,$,E,O)}}return{kind:"source",evaluate(R,$){const Z=$&&$.properties?$.properties[l.property]:void 0;return Z===void 0?fm(l.default,a.default):w(l,a,Z,E,O)}}}function fm(l,a,u){return l!==void 0?l:a!==void 0?a:u!==void 0?u:void 0}function yI(l,a,u,p,g){return fm(typeof u===g?p[u]:void 0,l.default,a.default)}function vI(l,a,u){if(gp(u)!=="number")return fm(l.default,a.default);const p=l.stops.length;if(p===1||u<=l.stops[0][0])return l.stops[0][1];if(u>=l.stops[p-1][0])return l.stops[p-1][1];const g=hh(l.stops.map(b=>b[0]),u);return l.stops[g][1]}function QA(l,a,u){const p=l.base!==void 0?l.base:1;if(gp(u)!=="number")return fm(l.default,a.default);const g=l.stops.length;if(g===1||u<=l.stops[0][0])return l.stops[0][1];if(u>=l.stops[g-1][0])return l.stops[g-1][1];const b=hh(l.stops.map($=>$[0]),u),w=function($,Z,V,X){const Q=X-V,ne=$-V;return Q===0?0:Z===1?ne/Q:(Math.pow(Z,ne)-1)/(Math.pow(Z,Q)-1)}(u,p,l.stops[b][0],l.stops[b+1][0]),E=l.stops[b][1],O=l.stops[b+1][1];let R=wo[a.type]||JA;if(l.colorSpace&&l.colorSpace!=="rgb"){const $=E_[l.colorSpace];R=(Z,V)=>$.reverse($.interpolate($.forward(Z),$.forward(V),w))}return typeof E.evaluate=="function"?{evaluate(...$){const Z=E.evaluate.apply(void 0,$),V=O.evaluate.apply(void 0,$);if(Z!==void 0&&V!==void 0)return R(Z,V,w)}}:R(E,O,w)}function e5(l,a,u){return a.type==="color"?u=kr.parse(u):a.type==="formatted"?u=pi.fromString(u.toString()):a.type==="resolvedImage"?u=Rn.fromString(u.toString()):gp(u)===a.type||a.type==="enum"&&a.values[u]||(u=void 0),fm(u,l.default,a.default)}class Iy{constructor(a,u,p,g){this.expression=a,this._warningHistory={},this._evaluator=new kA(p,g),this._defaultValue=u?function(b){return b.type==="color"&&(Py(b.default)||Array.isArray(b.default))?new kr(0,0,0,0):b.type==="color"?kr.parse(b.default)||null:b.default===void 0?null:b.default}(u):null,this._enumValues=u&&u.type==="enum"?u.values:null}evaluateWithoutErrorHandling(a,u,p,g,b,w,E,O){return this._evaluator.globals=a,this._evaluator.feature=u,this._evaluator.featureState=p,this._evaluator.canonical=g||null,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=w,this._evaluator.featureTileCoord=E||null,this._evaluator.featureDistanceData=O||null,this.expression.evaluate(this._evaluator)}evaluate(a,u,p,g,b,w,E,O){this._evaluator.globals=a,this._evaluator.feature=u||null,this._evaluator.featureState=p||null,this._evaluator.canonical=g||null,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=w||null,this._evaluator.featureTileCoord=E||null,this._evaluator.featureDistanceData=O||null;try{const R=this.expression.evaluate(this._evaluator);if(R==null||typeof R=="number"&&R!=R)return this._defaultValue;if(this._enumValues&&!(R in this._enumValues))throw new Yo(`Expected value to be one of ${Object.keys(this._enumValues).map($=>JSON.stringify($)).join(", ")}, but found ${JSON.stringify(R)} instead.`);return R}catch(R){return this._warningHistory[R.message]||(this._warningHistory[R.message]=!0,typeof console<"u"&&console.warn(R.message)),this._defaultValue}}}function mm(l){return Array.isArray(l)&&l.length>0&&typeof l[0]=="string"&&l[0]in Pp}function Oy(l,a,u,p){const g=new jA(Pp,[],a?function(w){const E={color:jo,string:ni,number:Pn,enum:ni,boolean:Xr,formatted:Xo,resolvedImage:xl};return w.type==="array"?aa(E[w.value]||Kr,w.length):E[w.type]}(a):void 0,void 0,void 0,u,p),b=g.parse(l,void 0,void 0,void 0,a&&a.type==="string"?{typeAnnotation:"coerce"}:void 0);return b?Z_(new Iy(b,a,u,p)):fh(g.errors)}class W_{constructor(a,u,p){this.kind=a,this._styleExpression=u,this.isLightConstant=p,this.isStateDependent=a!=="constant"&&!cm(u.expression),this.isConfigDependent=!um(u.expression)}evaluateWithoutErrorHandling(a,u,p,g,b,w){return this._styleExpression.evaluateWithoutErrorHandling(a,u,p,g,b,w)}evaluate(a,u,p,g,b,w){return this._styleExpression.evaluate(a,u,p,g,b,w)}}class gm{constructor(a,u,p,g,b){this.kind=a,this.zoomStops=p,this._styleExpression=u,this.isStateDependent=a!=="camera"&&!cm(u.expression),this.isLightConstant=b,this.isConfigDependent=!um(u.expression),this.interpolationType=g}evaluateWithoutErrorHandling(a,u,p,g,b,w){return this._styleExpression.evaluateWithoutErrorHandling(a,u,p,g,b,w)}evaluate(a,u,p,g,b,w){return this._styleExpression.evaluate(a,u,p,g,b,w)}interpolationFactor(a,u,p){return this.interpolationType?il.interpolationFactor(this.interpolationType,a,u,p):0}}function ky(l,a,u,p){if((l=Oy(l,a,u,p)).result==="error")return l;const g=l.value.expression,b=xp(g);if(!b&&!Ty(a))return fh([new Ji("","data expressions not supported")]);const w=Fa(g,["zoom","pitch","distance-from-center"]);if(!w&&!YA(a))return fh([new Ji("","zoom expressions not supported")]);const E=Fa(g,["measure-light"]);if(!E&&!U_(a))return fh([new Ji("","measure-light expression not supported")]);const O=a.expression&&a.expression.relaxZoomRestriction,R=vm(g);return R||w||O?R instanceof Ji?fh([R]):R instanceof il&&!H_(a)?fh([new Ji("",'"interpolate" expressions cannot be used with this property')]):Z_(R?new gm(b?"camera":"composite",l.value,R.labels,R instanceof il?R.interpolation:void 0,E):new W_(b?"constant":"source",l.value,E)):fh([new Ji("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression, or in the properties of atmosphere.')])}class ym{constructor(a,u){this._parameters=a,this._specification=u,oa(this,V_(this._parameters,this._specification))}static deserialize(a){return new ym(a._parameters,a._specification)}static serialize(a){return{_parameters:a._parameters,_specification:a._specification}}}function vm(l){let a=null;if(l instanceof P_)a=vm(l.result);else if(l instanceof T_){for(const u of l.args)if(a=vm(u),a)break}else(l instanceof dm||l instanceof il)&&l.input instanceof Yr&&l.input.name==="zoom"&&(a=l);return a instanceof Ji||l.eachChild(u=>{const p=vm(u);p instanceof Ji?a=p:a&&p&&a!==p&&(a=new Ji("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),a}var bI=Jl,Yl=3;function Jl(l,a,u){var p=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;var g=new Int32Array(this.arrayBuffer);l=g[0],this.d=(a=g[1])+2*(u=g[2]);for(var b=0;b<this.d*this.d;b++){var w=g[Yl+b],E=g[Yl+b+1];p.push(w===E?null:g.subarray(w,E))}var O=g[Yl+p.length+1];this.keys=g.subarray(g[Yl+p.length],O),this.bboxes=g.subarray(O),this.insert=this._insertReadonly}else{this.d=a+2*u;for(var R=0;R<this.d*this.d;R++)p.push([]);this.keys=[],this.bboxes=[]}this.n=a,this.extent=l,this.padding=u,this.scale=a/l,this.uid=0;var $=u/a*l;this.min=-$,this.max=l+$}Jl.prototype.insert=function(l,a,u,p,g){this._forEachCell(a,u,p,g,this._insertCell,this.uid++),this.keys.push(l),this.bboxes.push(a),this.bboxes.push(u),this.bboxes.push(p),this.bboxes.push(g)},Jl.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Jl.prototype._insertCell=function(l,a,u,p,g,b){this.cells[g].push(b)},Jl.prototype.query=function(l,a,u,p,g){var b=this.min,w=this.max;if(l<=b&&a<=b&&w<=u&&w<=p&&!g)return Array.prototype.slice.call(this.keys);var E=[];return this._forEachCell(l,a,u,p,this._queryCell,E,{},g),E},Jl.prototype._queryCell=function(l,a,u,p,g,b,w,E){var O=this.cells[g];if(O!==null)for(var R=this.keys,$=this.bboxes,Z=0;Z<O.length;Z++){var V=O[Z];if(w[V]===void 0){var X=4*V;(E?E($[X+0],$[X+1],$[X+2],$[X+3]):l<=$[X+2]&&a<=$[X+3]&&u>=$[X+0]&&p>=$[X+1])?(w[V]=!0,b.push(R[V])):w[V]=!1}}},Jl.prototype._forEachCell=function(l,a,u,p,g,b,w,E){for(var O=this._convertToCellCoord(l),R=this._convertToCellCoord(a),$=this._convertToCellCoord(u),Z=this._convertToCellCoord(p),V=O;V<=$;V++)for(var X=R;X<=Z;X++){var Q=this.d*X+V;if((!E||E(this._convertFromCellCoord(V),this._convertFromCellCoord(X),this._convertFromCellCoord(V+1),this._convertFromCellCoord(X+1)))&&g.call(this,l,a,u,p,Q,b,w,E))return}},Jl.prototype._convertFromCellCoord=function(l){return(l-this.padding)/this.scale},Jl.prototype._convertToCellCoord=function(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))},Jl.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var l=this.cells,a=Yl+this.cells.length+1+1,u=0,p=0;p<this.cells.length;p++)u+=this.cells[p].length;var g=new Int32Array(a+u+this.keys.length+this.bboxes.length);g[0]=this.extent,g[1]=this.n,g[2]=this.padding;for(var b=a,w=0;w<l.length;w++){var E=l[w];g[Yl+w]=b,g.set(E,b),b+=E.length}return g[Yl+l.length]=b,g.set(this.keys,b),g[Yl+l.length+1]=b+=this.keys.length,g.set(this.bboxes,b),b+=this.bboxes.length,g.buffer};var du=F(bI);const bm={};function Dn(l,a,u={}){Object.defineProperty(l,"_classRegistryKey",{value:a,writeable:!1}),bm[a]={klass:l,omit:u.omit||[]}}Dn(Object,"Object"),du.serialize=function(l,a){const u=l.toArrayBuffer();return a&&a.add(u),{buffer:u}},du.deserialize=function(l){return new du(l.buffer)},Object.defineProperty(du,"name",{value:"Grid"}),Dn(du,"Grid"),Dn(kr,"Color"),Dn(Error,"Error"),Dn(pi,"Formatted"),Dn(jr,"FormattedSection"),Dn(Ht,"AJAXError"),Dn(Rn,"ResolvedImage"),Dn(ym,"StylePropertyFunction"),Dn(Iy,"StyleExpression",{omit:["_evaluator"]}),Dn(gm,"ZoomDependentExpression"),Dn(W_,"ZoomConstantExpression"),Dn(Yr,"CompoundExpression",{omit:["_evaluate"]});for(const l in Pp)bm[Pp[l]._classRegistryKey]||Dn(Pp[l],`Expression${l}`);function t5(l){return l&&typeof ArrayBuffer<"u"&&(l instanceof ArrayBuffer||l.constructor&&l.constructor.name==="ArrayBuffer")}function Ny(l){return self.ImageBitmap&&l instanceof ImageBitmap}function md(l,a){if(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp)return l;if(t5(l)||Ny(l))return a&&a.add(l),l;if(ArrayBuffer.isView(l)){const u=l;return a&&a.add(u.buffer),u}if(l instanceof ImageData)return a&&a.add(l.data.buffer),l;if(Array.isArray(l)){const u=[];for(const p of l)u.push(md(p,a));return u}if(l instanceof Map){const u={$name:"Map"};for(const[p,g]of l.entries())u[p]=md(g);return u}if(typeof l=="object"){const u=l.constructor,p=u._classRegistryKey;if(!p)throw new Error(`can't serialize object of unregistered class ${p}`);const g=u.serialize?u.serialize(l,a):{};if(!u.serialize){for(const b in l)l.hasOwnProperty(b)&&(bm[p].omit.indexOf(b)>=0||(g[b]=md(l[b],a)));l instanceof Error&&(g.message=l.message)}if(g.$name)throw new Error("$name property is reserved for worker serialization logic.");return p!=="Object"&&(g.$name=p),g}throw new Error("can't serialize object of type "+typeof l)}function mh(l){if(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||t5(l)||Ny(l)||ArrayBuffer.isView(l)||l instanceof ImageData)return l;if(Array.isArray(l))return l.map(mh);if(typeof l=="object"){const a=l.$name||"Object";if(a==="Map"){const g=new Map;for(const b of Object.keys(l))b!=="$name"&&g.set(b,mh(l[b]));return g}const{klass:u}=bm[a];if(!u)throw new Error(`can't deserialize unregistered class ${a}`);if(u.deserialize)return u.deserialize(l);const p=Object.create(u.prototype);for(const g of Object.keys(l))g!=="$name"&&(p[g]=mh(l[g]));return p}throw new Error("can't deserialize object of type "+typeof l)}const Gn={"Latin-1 Supplement":l=>l>=128&&l<=255,Arabic:l=>l>=1536&&l<=1791,"Arabic Supplement":l=>l>=1872&&l<=1919,"Arabic Extended-A":l=>l>=2208&&l<=2303,"Hangul Jamo":l=>l>=4352&&l<=4607,"Unified Canadian Aboriginal Syllabics":l=>l>=5120&&l<=5759,Khmer:l=>l>=6016&&l<=6143,"Unified Canadian Aboriginal Syllabics Extended":l=>l>=6320&&l<=6399,"General Punctuation":l=>l>=8192&&l<=8303,"Letterlike Symbols":l=>l>=8448&&l<=8527,"Number Forms":l=>l>=8528&&l<=8591,"Miscellaneous Technical":l=>l>=8960&&l<=9215,"Control Pictures":l=>l>=9216&&l<=9279,"Optical Character Recognition":l=>l>=9280&&l<=9311,"Enclosed Alphanumerics":l=>l>=9312&&l<=9471,"Geometric Shapes":l=>l>=9632&&l<=9727,"Miscellaneous Symbols":l=>l>=9728&&l<=9983,"Miscellaneous Symbols and Arrows":l=>l>=11008&&l<=11263,"CJK Radicals Supplement":l=>l>=11904&&l<=12031,"Kangxi Radicals":l=>l>=12032&&l<=12255,"Ideographic Description Characters":l=>l>=12272&&l<=12287,"CJK Symbols and Punctuation":l=>l>=12288&&l<=12351,Hiragana:l=>l>=12352&&l<=12447,Katakana:l=>l>=12448&&l<=12543,Bopomofo:l=>l>=12544&&l<=12591,"Hangul Compatibility Jamo":l=>l>=12592&&l<=12687,Kanbun:l=>l>=12688&&l<=12703,"Bopomofo Extended":l=>l>=12704&&l<=12735,"CJK Strokes":l=>l>=12736&&l<=12783,"Katakana Phonetic Extensions":l=>l>=12784&&l<=12799,"Enclosed CJK Letters and Months":l=>l>=12800&&l<=13055,"CJK Compatibility":l=>l>=13056&&l<=13311,"CJK Unified Ideographs Extension A":l=>l>=13312&&l<=19903,"Yijing Hexagram Symbols":l=>l>=19904&&l<=19967,"CJK Unified Ideographs":l=>l>=19968&&l<=40959,"Yi Syllables":l=>l>=40960&&l<=42127,"Yi Radicals":l=>l>=42128&&l<=42191,"Hangul Jamo Extended-A":l=>l>=43360&&l<=43391,"Hangul Syllables":l=>l>=44032&&l<=55215,"Hangul Jamo Extended-B":l=>l>=55216&&l<=55295,"Private Use Area":l=>l>=57344&&l<=63743,"CJK Compatibility Ideographs":l=>l>=63744&&l<=64255,"Arabic Presentation Forms-A":l=>l>=64336&&l<=65023,"Vertical Forms":l=>l>=65040&&l<=65055,"CJK Compatibility Forms":l=>l>=65072&&l<=65103,"Small Form Variants":l=>l>=65104&&l<=65135,"Arabic Presentation Forms-B":l=>l>=65136&&l<=65279,"Halfwidth and Fullwidth Forms":l=>l>=65280&&l<=65519,"CJK Unified Ideographs Extension B":l=>l>=131072&&l<=173791};function gd(l){for(const a of l)if(G_(a.charCodeAt(0)))return!0;return!1}function _I(l){for(const a of l)if(!xI(a.charCodeAt(0)))return!1;return!0}function xI(l){return!(Gn.Arabic(l)||Gn["Arabic Supplement"](l)||Gn["Arabic Extended-A"](l)||Gn["Arabic Presentation Forms-A"](l)||Gn["Arabic Presentation Forms-B"](l))}function G_(l){return!(l!==746&&l!==747&&(l<4352||!(Gn["Bopomofo Extended"](l)||Gn.Bopomofo(l)||Gn["CJK Compatibility Forms"](l)&&!(l>=65097&&l<=65103)||Gn["CJK Compatibility Ideographs"](l)||Gn["CJK Compatibility"](l)||Gn["CJK Radicals Supplement"](l)||Gn["CJK Strokes"](l)||!(!Gn["CJK Symbols and Punctuation"](l)||l>=12296&&l<=12305||l>=12308&&l<=12319||l===12336)||Gn["CJK Unified Ideographs Extension A"](l)||Gn["CJK Unified Ideographs"](l)||Gn["Enclosed CJK Letters and Months"](l)||Gn["Hangul Compatibility Jamo"](l)||Gn["Hangul Jamo Extended-A"](l)||Gn["Hangul Jamo Extended-B"](l)||Gn["Hangul Jamo"](l)||Gn["Hangul Syllables"](l)||Gn.Hiragana(l)||Gn["Ideographic Description Characters"](l)||Gn.Kanbun(l)||Gn["Kangxi Radicals"](l)||Gn["Katakana Phonetic Extensions"](l)||Gn.Katakana(l)&&l!==12540||!(!Gn["Halfwidth and Fullwidth Forms"](l)||l===65288||l===65289||l===65293||l>=65306&&l<=65310||l===65339||l===65341||l===65343||l>=65371&&l<=65503||l===65507||l>=65512&&l<=65519)||!(!Gn["Small Form Variants"](l)||l>=65112&&l<=65118||l>=65123&&l<=65126)||Gn["Unified Canadian Aboriginal Syllabics"](l)||Gn["Unified Canadian Aboriginal Syllabics Extended"](l)||Gn["Vertical Forms"](l)||Gn["Yijing Hexagram Symbols"](l)||Gn["Yi Syllables"](l)||Gn["Yi Radicals"](l))))}function n5(l){return!(G_(l)||function(a){return!!(Gn["Latin-1 Supplement"](a)&&(a===167||a===169||a===174||a===177||a===188||a===189||a===190||a===215||a===247)||Gn["General Punctuation"](a)&&(a===8214||a===8224||a===8225||a===8240||a===8241||a===8251||a===8252||a===8258||a===8263||a===8264||a===8265||a===8273)||Gn["Letterlike Symbols"](a)||Gn["Number Forms"](a)||Gn["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||a===9003||a>=9085&&a<=9114||a>=9150&&a<=9165||a===9167||a>=9169&&a<=9179||a>=9186&&a<=9215)||Gn["Control Pictures"](a)&&a!==9251||Gn["Optical Character Recognition"](a)||Gn["Enclosed Alphanumerics"](a)||Gn["Geometric Shapes"](a)||Gn["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||Gn["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||Gn["CJK Symbols and Punctuation"](a)||Gn.Katakana(a)||Gn["Private Use Area"](a)||Gn["CJK Compatibility Forms"](a)||Gn["Small Form Variants"](a)||Gn["Halfwidth and Fullwidth Forms"](a)||a===8734||a===8756||a===8757||a>=9984&&a<=10087||a>=10102&&a<=10131||a===65532||a===65533)}(l))}function r5(l){return l>=1424&&l<=2303||Gn["Arabic Presentation Forms-A"](l)||Gn["Arabic Presentation Forms-B"](l)}function i5(l,a){return!(!a&&r5(l)||l>=2304&&l<=3583||l>=3840&&l<=4255||Gn.Khmer(l))}function K_(l){for(const a of l)if(r5(a.charCodeAt(0)))return!0;return!1}const q_="deferred",X_="loading",Y_="loaded";let J_=null,Ds="unavailable",yd=null;const o5=function(l){l&&typeof l=="string"&&l.indexOf("NetworkError")>-1&&(Ds="error"),J_&&J_(l)};function Q_(){e1.fire(new qo("pluginStateChange",{pluginStatus:Ds,pluginURL:yd}))}const e1=new xs,vd=function(){return Ds},t1=function(){if(Ds!==q_||!yd)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Ds=X_,Q_(),yd&&ut({url:yd},l=>{l?o5(l):(Ds=Y_,Q_())})},ol={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Ds===Y_||ol.applyArabicShaping!=null,isLoading:()=>Ds===X_,setState(l){Ds=l.pluginStatus,yd=l.pluginURL},isParsed:()=>ol.applyArabicShaping!=null&&ol.processBidirectionalText!=null&&ol.processStyledBidirectionalText!=null,getPluginURL:()=>yd};class co{constructor(a,u){this.zoom=a,u?(this.now=u.now,this.fadeDuration=u.fadeDuration,this.transition=u.transition,this.pitch=u.pitch,this.brightness=u.brightness):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0,this.brightness=0)}isSupportedScript(a){return function(u,p){for(const g of u)if(!i5(g.charCodeAt(0),p))return!1;return!0}(a,ol.isLoaded())}}class Ry{constructor(a,u,p,g){this.property=a,this.value=u,this.expression=function(b,w,E,O){if(Py(b))return new ym(b,w);if(mm(b)||Array.isArray(b)&&b.length>0){const R=ky(b,w,E,O);if(R.result==="error")throw new Error(R.value.map($=>`${$.key}: ${$.message}`).join(", "));return R.value}{let R=b;return typeof b=="string"&&w.type==="color"&&(R=kr.parse(b)),{kind:"constant",isConfigDependent:!1,evaluate:()=>R}}}(u===void 0?a.specification.default:u,a.specification,p,g)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(a,u,p){return this.property.possiblyEvaluate(this,a,u,p)}}class n1{constructor(a,u,p){this.property=a,this.value=new Ry(a,void 0,u,p)}transitioned(a,u){return new r1(this.property,this.value,u,Me({},a.transition,this.transition),a.now)}untransitioned(){return new r1(this.property,this.value,null,{},0)}}class hu{constructor(a,u,p){this._properties=a,this._values=Object.create(a.defaultTransitionablePropertyValues),this._scope=u,this._options=p,this.isConfigDependent=!1}getValue(a){return Ve(this._values[a].value.value)}setValue(a,u){this._values.hasOwnProperty(a)||(this._values[a]=new n1(this._values[a].property,this._scope,this._options)),this._values[a].value=new Ry(this._values[a].property,u===null?void 0:Ve(u),this._scope,this._options),this.isConfigDependent=this.isConfigDependent||this._values[a].value.expression.isConfigDependent}setTransitionOrValue(a,u){u&&(this._options=u);const p=this._properties.properties;if(a)for(const g in a){const b=a[g];if(We(g,"-transition")){const w=g.slice(0,-11);p[w]&&this.setTransition(w,b)}else p[g]&&this.setValue(g,b)}}getTransition(a){return Ve(this._values[a].transition)}setTransition(a,u){this._values.hasOwnProperty(a)||(this._values[a]=new n1(this._values[a].property)),this._values[a].transition=Ve(u)||void 0}serialize(){const a={};for(const u of Object.keys(this._values)){const p=this.getValue(u);p!==void 0&&(a[u]=p);const g=this.getTransition(u);g!==void 0&&(a[`${u}-transition`]=g)}return a}transitioned(a,u){const p=new gh(this._properties);for(const g of Object.keys(this._values))p._values[g]=this._values[g].transitioned(a,u._values[g]);return p}untransitioned(){const a=new gh(this._properties);for(const u of Object.keys(this._values))a._values[u]=this._values[u].untransitioned();return a}}class r1{constructor(a,u,p,g,b){const w=g.delay||0,E=g.duration||0;b=b||0,this.property=a,this.value=u,this.begin=b+w,this.end=this.begin+E,a.specification.transition&&(g.delay||g.duration)&&(this.prior=p)}possiblyEvaluate(a,u,p){const g=a.now||0,b=this.value.possiblyEvaluate(a,u,p),w=this.prior;if(w){if(g>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(g<this.begin)return w.possiblyEvaluate(a,u,p);{const E=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(w.possiblyEvaluate(a,u,p),b,le(E))}}return b}}class gh{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitioningPropertyValues)}possiblyEvaluate(a,u,p){const g=new _m(this._properties);for(const b of Object.keys(this._values))g._values[b]=this._values[b].possiblyEvaluate(a,u,p);return g}hasTransition(){for(const a of Object.keys(this._values))if(this._values[a].prior)return!0;return!1}}class wI{constructor(a,u,p){this._properties=a,this._values=Object.create(a.defaultPropertyValues),this._scope=u,this._options=p,this.isConfigDependent=!1}getValue(a){return Ve(this._values[a].value)}setValue(a,u){this._values[a]=new Ry(this._values[a].property,u===null?void 0:Ve(u),this._scope,this._options),this.isConfigDependent=this.isConfigDependent||this._values[a].expression.isConfigDependent}serialize(){const a={};for(const u of Object.keys(this._values)){const p=this.getValue(u);p!==void 0&&(a[u]=p)}return a}possiblyEvaluate(a,u,p){const g=new _m(this._properties);for(const b of Object.keys(this._values))g._values[b]=this._values[b].possiblyEvaluate(a,u,p);return g}}class Ip{constructor(a,u,p){this.property=a,this.value=u,this.parameters=p}isConstant(){return this.value.kind==="constant"}constantOr(a){return this.value.kind==="constant"?this.value.value:a}evaluate(a,u,p,g){return this.property.evaluate(this.value,this.parameters,a,u,p,g)}}class _m{constructor(a){this._properties=a,this._values=Object.create(a.defaultPossiblyEvaluatedValues)}get(a){return this._values[a]}}class bn{constructor(a){this.specification=a}possiblyEvaluate(a,u){return a.expression.evaluate(u)}interpolate(a,u,p){const g=wo[this.specification.type];return g?g(a,u,p):a}}class ir{constructor(a,u){this.specification=a,this.overrides=u}possiblyEvaluate(a,u,p,g){return new Ip(this,a.expression.kind==="constant"||a.expression.kind==="camera"?{kind:"constant",value:a.expression.evaluate(u,null,{},p,g)}:a.expression,u)}interpolate(a,u,p){if(a.value.kind!=="constant"||u.value.kind!=="constant")return a;if(a.value.value===void 0||u.value.value===void 0)return new Ip(this,{kind:"constant",value:void 0},a.parameters);const g=wo[this.specification.type];return g?new Ip(this,{kind:"constant",value:g(a.value.value,u.value.value,p)},a.parameters):a}evaluate(a,u,p,g,b,w){return a.kind==="constant"?a.value:a.evaluate(u,p,g,b,w)}}class yh{constructor(a){this.specification=a}possiblyEvaluate(a,u,p,g){return!!a.expression.evaluate(u,null,{},p,g)}interpolate(){return!1}}class uo{constructor(a){this.properties=a,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const u=new co(0,{});for(const p in a){const g=a[p];g.specification.overridable&&this.overridableProperties.push(p);const b=this.defaultPropertyValues[p]=new Ry(g,void 0),w=this.defaultTransitionablePropertyValues[p]=new n1(g);this.defaultTransitioningPropertyValues[p]=w.untransitioned(),this.defaultPossiblyEvaluatedValues[p]=b.possiblyEvaluate(u)}}}function xm(l){return l instanceof Number||l instanceof String||l instanceof Boolean?l.valueOf():l}function wm(l){if(Array.isArray(l))return l.map(wm);if(l instanceof Object&&!(l instanceof Number||l instanceof String||l instanceof Boolean)){const a={};for(const u in l)a[u]=wm(l[u]);return a}return xm(l)}Dn(ir,"DataDrivenProperty"),Dn(bn,"DataConstantProperty"),Dn(yh,"ColorRampProperty");var bt=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"fragment":{"type":"boolean"},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360},"pitch":{"type":"number","default":0},"light":{"type":"light"},"lights":{"required":false,"type":"array","value":"light-3d"},"terrain":{"type":"terrain","optional":true},"fog":{"type":"fog"},"camera":{"type":"camera"},"imports":{"type":"array","value":"import"},"schema":{"type":"schema"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string","default":"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"},"models":{"type":"models"}},"model":{"type":"string","required":true},"import":{"id":{"type":"string","required":true},"url":{"type":"string","required":true},"config":{"type":"config"},"data":{"type":"$root"}},"config":{"*":{"type":"*"}},"schema":{"*":{"type":"option"}},"option":{"default":{"type":"*","required":true},"type":{"type":"enum","values":{"string":1,"number":1,"boolean":1,"color":1}},"array":{"type":"boolean"},"minValue":{"type":"number"},"maxValue":{"type":"number"},"stepValue":{"type":"number"},"values":{"type":"array","value":"*"},"metadata":{"type":"*"}},"models":{"*":{"type":"model"}},"light-3d":{"id":{"type":"string","required":true},"properties":{"type":"properties"},"type":{"type":"enum","values":{"ambient":{},"directional":{},"flat":{}}}},"properties":["properties_light_directional","properties_light_ambient","properties_light_flat"],"properties_light_directional":{"direction":{"type":"array","default":[210,30],"minimum":[0,0],"maximum":[360,90],"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"cast-shadows":{"type":"boolean","default":false,"expression":{},"property-type":"data-constant"},"shadow-intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_ambient":{"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_flat":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_raster_array","source_geojson","source_video","source_image","source_model"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":1,"mapbox":1},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_array":{"type":{"required":true,"type":"enum","values":{"raster-array":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"rasterLayers":{"type":"*"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":1}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":1}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":1}},"url":{"required":false,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_model":{"type":{"required":true,"type":"enum","values":{"model":1,"batched-model":1}},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"tiles":{"type":"array","value":"string"}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"raster-particle":{},"hillshade":{},"model":{},"background":{},"sky":{},"slot":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"slot":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_raster-particle","layout_hillshade","layout_background","layout_sky","layout_model"],"layout_background":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_model":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"model-id":{"type":"string","default":"","property-type":"data-driven","expression":{"parameters":["zoom","feature"]}}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":1,"round":1,"square":1},"default":"butt","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":1,"round":1,"miter":1},"default":"miter","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":1,"line":1,"line-center":1},"default":"point","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":1,"viewport-y":1,"source":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-z-elevate":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":1,"width":1,"height":1,"both":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":1,"left":1,"center":1,"right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","default":0,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":1,"vertical":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":1,"uppercase":1,"lowercase":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster-particle":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":1,"!=":1,">":1,">=":1,"<":1,"<=":1,"in":1,"!in":1,"all":1,"any":1,"none":1,"has":1,"!has":1}},"geometry_type":{"type":"enum","values":{"Point":1,"LineString":1,"Polygon":1}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":1,"exponential":1,"interval":1,"categorical":1},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":1,"lab":1,"hcl":1},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vertical-range":{"type":"array","default":[0,0],"minimum":0,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}}},"camera":{"camera-projection":{"type":"enum","values":{"perspective":1,"orthographic":1},"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"default":"perspective","property-type":"data-constant"}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":1,"equalEarth":1,"equirectangular":1,"lambertConformalConic":1,"mercator":1,"naturalEarth":1,"winkelTripel":1,"globe":1},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky","paint_model"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-wall-radius":{"property-type":"data-constant","type":"number","default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-radius":{"property-type":"data-constant","type":"number","default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-attenuation":{"property-type":"data-constant","type":"number","default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-flood-light-color":{"property-type":"data-constant","type":"color","default":"#ffffff","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-intensity":{"property-type":"data-constant","type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-wall-radius":{"property-type":"data-driven","type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-radius":{"property-type":"data-driven","type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-attenuation":{"property-type":"data-constant","type":"number","default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-vertical-scale":{"property-type":"data-constant","type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-rounded-roof":{"property-type":"data-constant","type":"boolean","default":true,"expression":{"parameters":["zoom"]}},"fill-extrusion-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"fill-extrusion-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"property-type":"constant"},"line-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-border-width":{"type":"number","private":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-border-color":{"type":"color","private":true,"default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-driven"},"text-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-image-cross-fade":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"transition":true},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-color-saturation":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-value"]},"property-type":"color-ramp"},"raster-color-mix":{"type":"array","default":[0.2126,0.7152,0.0722,0],"length":4,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-color-range":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":1,"nearest":1},"default":"linear","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"raster-array-band":{"type":"string","required":false,"property-type":"data-constant"},"raster-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster-particle":{"raster-particle-array-band":{"type":"string","required":false,"property-type":"data-constant"},"raster-particle-count":{"type":"number","default":512,"minimum":1,"property-type":"data-constant"},"raster-particle-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-particle-speed"]},"property-type":"color-ramp"},"raster-particle-max-speed":{"type":"number","default":1,"minimum":1,"property-type":"data-constant"},"raster-particle-speed-factor":{"type":"number","default":0.2,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-fade-opacity-factor":{"type":"number","default":0.98,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-reset-rate-factor":{"type":"number","default":0.8,"minimum":0,"maximum":1,"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":1,"atmosphere":1},"default":"atmosphere","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","default":10,"minimum":0,"maximum":100,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","value":"number","default":[0,0],"length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","default":90,"minimum":0,"maximum":180,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_model":{"model-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"model-rotation":{"type":"array","value":"number","length":3,"default":[0,0,0],"period":360,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-scale":{"type":"array","value":"number","length":3,"default":[1,1,1],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-translation":{"type":"array","value":"number","length":3,"default":[0,0,0],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-color":{"type":"color","default":"#ffffff","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light","zoom"]},"transition":true},"model-color-mix-intensity":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-type":{"type":"enum","values":{"common-3d":1,"location-indicator":1},"default":"common-3d","property-type":"data-constant"},"model-cast-shadows":{"type":"boolean","default":true,"expression":{},"property-type":"data-constant"},"model-receive-shadows":{"type":"boolean","default":true,"expression":{},"property-type":"data-constant"},"model-ambient-occlusion-intensity":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant","transition":true},"model-emissive-strength":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":5,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-roughness":{"type":"number","default":1,"minimum":0,"maximum":1,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state"]},"transition":true},"model-height-based-emissive-strength-multiplier":{"type":"array","default":[1,1,1,1,0],"length":5,"value":"number","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0},"delay":{"type":"number","default":0,"minimum":0}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function i1(l){if(l===!0||l===!1)return!0;if(!Array.isArray(l)||l.length===0)return!1;switch(l[0]){case"has":return l.length>=2&&l[1]!=="$id"&&l[1]!=="$type";case"in":return l.length>=3&&(typeof l[1]!="string"||Array.isArray(l[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return l.length!==3||Array.isArray(l[1])||Array.isArray(l[2]);case"any":case"all":for(const a of l.slice(1))if(!i1(a)&&typeof a!="boolean")return!1;return!0;default:return!0}}function al(l,a="fill"){if(l==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};i1(l)||(l=Sm(l));const u=l;let p=!0;try{p=function(R){if(!Op(R))return R;let $=wm(R);return o1($),$=a5($),$}(u)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(u,null,2)}
        `)}const g=bt[`filter_${a}`],b=Oy(p,g);let w=null;if(b.result==="error")throw new Error(b.value.map(R=>`${R.key}: ${R.message}`).join(", "));w=(R,$,Z)=>b.value.evaluate(R,$,{},Z);let E=null,O=null;if(p!==u){const R=Oy(u,g);if(R.result==="error")throw new Error(R.value.map($=>`${$.key}: ${$.message}`).join(", "));E=($,Z,V,X,Q)=>R.value.evaluate($,Z,{},V,void 0,void 0,X,Q),O=!xp(R.value.expression)}return{filter:w,dynamicFilter:E||void 0,needGeometry:s5(p),needFeature:!!O}}function a5(l){if(!Array.isArray(l))return l;const a=function(u){if(SI.has(u[0])){for(let p=1;p<u.length;p++)if(Op(u[p]))return!0}return u}(l);return a===!0?a:a.map(u=>a5(u))}function o1(l){let a=!1;const u=[];if(l[0]==="case"){for(let p=1;p<l.length-1;p+=2)a=a||Op(l[p]),u.push(l[p+1]);u.push(l[l.length-1])}else if(l[0]==="match"){a=a||Op(l[1]);for(let p=2;p<l.length-1;p+=2)u.push(l[p+1]);u.push(l[l.length-1])}else if(l[0]==="step"){a=a||Op(l[1]);for(let p=1;p<l.length-1;p+=2)u.push(l[p+1])}a&&(l.length=0,l.push("any",...u));for(let p=1;p<l.length;p++)o1(l[p])}function Op(l){if(!Array.isArray(l))return!1;if((a=l[0])==="pitch"||a==="distance-from-center")return!0;var a;for(let u=1;u<l.length;u++)if(Op(l[u]))return!0;return!1}const SI=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function AI(l,a){return l<a?-1:l>a?1:0}function s5(l){if(!Array.isArray(l))return!1;if(l[0]==="within"||l[0]==="distance")return!0;for(let a=1;a<l.length;a++)if(s5(l[a]))return!0;return!1}function Sm(l){if(!l)return!0;const a=l[0];return l.length<=1?a!=="any":a==="=="?Am(l[1],l[2],"=="):a==="!="?Cm(Am(l[1],l[2],"==")):a==="<"||a===">"||a==="<="||a===">="?Am(l[1],l[2],a):a==="any"?(u=l.slice(1),["any"].concat(u.map(Sm))):a==="all"?["all"].concat(l.slice(1).map(Sm)):a==="none"?["all"].concat(l.slice(1).map(Sm).map(Cm)):a==="in"?a1(l[1],l.slice(2)):a==="!in"?Cm(a1(l[1],l.slice(2))):a==="has"?l5(l[1]):a!=="!has"||Cm(l5(l[1]));var u}function Am(l,a,u){switch(l){case"$type":return[`filter-type-${u}`,a];case"$id":return[`filter-id-${u}`,a];default:return[`filter-${u}`,l,a]}}function a1(l,a){if(a.length===0)return!1;switch(l){case"$type":return["filter-type-in",["literal",a]];case"$id":return["filter-id-in",["literal",a]];default:return a.length>200&&!a.some(u=>typeof u!=typeof a[0])?["filter-in-large",l,["literal",a.sort(AI)]]:["filter-in-small",l,["literal",a]]}}function l5(l){switch(l){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",l]}}function Cm(l){return["!",l]}const Dy="";function s1(l,a){return a?`${l}${Dy}${a}`:l}const Mm="-transition";class Ls extends xs{constructor(a,u,p,g){if(super(),this.id=a.id,this.fqid=s1(this.id,p),this.type=a.type,this.scope=p,this.options=g,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,this.isConfigDependent=!1,a.type!=="custom"&&(this.metadata=a.metadata,this.minzoom=a.minzoom,this.maxzoom=a.maxzoom,a.type!=="background"&&a.type!=="sky"&&a.type!=="slot"&&(this.source=a.source,this.sourceLayer=a["source-layer"],this.filter=a.filter),a.slot&&(this.slot=a.slot),u.layout&&(this._unevaluatedLayout=new wI(u.layout,this.scope,g),this.isConfigDependent=this.isConfigDependent||this._unevaluatedLayout.isConfigDependent),u.paint)){this._transitionablePaint=new hu(u.paint,this.scope,g);for(const b in a.paint)this.setPaintProperty(b,a.paint[b]);for(const b in a.layout)this.setLayoutProperty(b,a.layout[b]);this.isConfigDependent=this.isConfigDependent||this._transitionablePaint.isConfigDependent,this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new _m(u.paint)}}getLayoutProperty(a){return a==="visibility"?this.visibility:this._unevaluatedLayout.getValue(a)}setLayoutProperty(a,u){if(this.type==="custom"&&a==="visibility")return void(this.visibility=u);const p=this._unevaluatedLayout;p._properties.properties[a]&&(p.setValue(a,u),this.isConfigDependent=this.isConfigDependent||p.isConfigDependent,a==="visibility"&&this.possiblyEvaluateVisibility())}possiblyEvaluateVisibility(){this.visibility=this._unevaluatedLayout._values.visibility.possiblyEvaluate({zoom:0})}getPaintProperty(a){return We(a,Mm)?this._transitionablePaint.getTransition(a.slice(0,-11)):this._transitionablePaint.getValue(a)}setPaintProperty(a,u){const p=this._transitionablePaint,g=p._properties.properties;if(We(a,Mm)){const Z=a.slice(0,-11);return g[Z]&&p.setTransition(Z,u||void 0),!1}if(!g[a])return!1;const b=p._values[a],w=b.value.isDataDriven(),E=b.value;p.setValue(a,u),this.isConfigDependent=this.isConfigDependent||p.isConfigDependent,this._handleSpecialPaintPropertyUpdate(a);const O=p._values[a].value,R=O.isDataDriven(),$=We(a,"pattern")||a==="line-dasharray";return R||w||$||this._handleOverridablePaintPropertyUpdate(a,E,O)}_handleSpecialPaintPropertyUpdate(a){}getProgramIds(){return null}getDefaultProgramParams(a,u){return null}_handleOverridablePaintPropertyUpdate(a,u,p){return!1}isHidden(a){return!!(this.minzoom&&a<this.minzoom)||!!(this.maxzoom&&a>=this.maxzoom)||this.visibility==="none"}updateTransitions(a){this._transitioningPaint=this._transitionablePaint.transitioned(a,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(a,u){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(a,void 0,u)),this.paint=this._transitioningPaint.possiblyEvaluate(a,void 0,u)}serialize(){return Qe({id:this.id,type:this.type,slot:this.slot,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()},(a,u)=>!(a===void 0||u==="layout"&&!Object.keys(a).length||u==="paint"&&!Object.keys(a).length))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}hasShadowPass(){return!1}canCastShadows(){return!1}hasLightBeamPass(){return!1}cutoffRange(){return 0}tileCoverLift(){return 0}resize(){}isStateDependent(){for(const a in this.paint._values){const u=this.paint.get(a);if(u instanceof Ip&&Ty(u.property.specification)&&(u.value.kind==="source"||u.value.kind==="composite")&&u.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=al(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}getLayerRenderingStats(){return this._stats}resetLayerRenderingStats(a){this._stats&&(a.renderPass==="shadow"?this._stats.numRenderedVerticesInShadowPass=0:this._stats.numRenderedVerticesInTransparentPass=0)}}const CI={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Ly{constructor(a,u){this._structArray=a,this._pos1=u*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Qi{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(a,u){return a._trim(),u&&(a.isTransferred=!0,u.add(a.arrayBuffer)),{length:a.length,arrayBuffer:a.arrayBuffer}}static deserialize(a){const u=Object.create(this.prototype);return u.arrayBuffer=a.arrayBuffer,u.length=a.length,u.capacity=a.arrayBuffer.byteLength/u.bytesPerElement,u._refreshViews(),u}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(a){this.reserve(a),this.length=a}reserve(a){if(a>this.capacity){this.capacity=Math.max(a,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const u=this.uint8;this._refreshViews(),u&&this.uint8.set(u)}}_refreshViews(){throw new Error("StructArray#_refreshViews() must be implemented by each concrete StructArray layout")}emplace(...a){throw new Error("StructArray#emplace() must be implemented by each concrete StructArray layout")}emplaceBack(...a){throw new Error("StructArray#emplaceBack() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function bi(l,a=1){let u=0,p=0;return{members:l.map(g=>{const b=CI[g.type].BYTES_PER_ELEMENT,w=u=Em(u,Math.max(a,b)),E=g.components||1;return p=Math.max(p,b),u+=b*E,{name:g.name,type:g.type,components:E,offset:w}}),size:Em(u,Math.max(p,a)),alignment:a}}function Em(l,a){return Math.ceil(l/a)*a}class Ql extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,u){const p=this.length;return this.resize(p+1),this.emplace(p,a,u)}emplace(a,u,p){const g=2*a;return this.int16[g+0]=u,this.int16[g+1]=p,a}}Ql.prototype.bytesPerElement=4,Dn(Ql,"StructArrayLayout2i4");class As extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,u,p){const g=this.length;return this.resize(g+1),this.emplace(g,a,u,p)}emplace(a,u,p,g){const b=3*a;return this.int16[b+0]=u,this.int16[b+1]=p,this.int16[b+2]=g,a}}As.prototype.bytesPerElement=6,Dn(As,"StructArrayLayout3i6");class pu extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,u,p,g){const b=this.length;return this.resize(b+1),this.emplace(b,a,u,p,g)}emplace(a,u,p,g,b){const w=4*a;return this.int16[w+0]=u,this.int16[w+1]=p,this.int16[w+2]=g,this.int16[w+3]=b,a}}pu.prototype.bytesPerElement=8,Dn(pu,"StructArrayLayout4i8");class l1 extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,u,p,g,b){const w=this.length;return this.resize(w+1),this.emplace(w,a,u,p,g,b)}emplace(a,u,p,g,b,w){const E=5*a;return this.int16[E+0]=u,this.int16[E+1]=p,this.int16[E+2]=g,this.int16[E+3]=b,this.int16[E+4]=w,a}}l1.prototype.bytesPerElement=10,Dn(l1,"StructArrayLayout5i10");class c1 extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,p,g,b,w,E){const O=this.length;return this.resize(O+1),this.emplace(O,a,u,p,g,b,w,E)}emplace(a,u,p,g,b,w,E,O){const R=6*a,$=12*a,Z=3*a;return this.int16[R+0]=u,this.int16[R+1]=p,this.uint8[$+4]=g,this.uint8[$+5]=b,this.uint8[$+6]=w,this.uint8[$+7]=E,this.float32[Z+2]=O,a}}c1.prototype.bytesPerElement=12,Dn(c1,"StructArrayLayout2i4ub1f12");class bd extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,p,g){const b=this.length;return this.resize(b+1),this.emplace(b,a,u,p,g)}emplace(a,u,p,g,b){const w=4*a;return this.float32[w+0]=u,this.float32[w+1]=p,this.float32[w+2]=g,this.float32[w+3]=b,a}}bd.prototype.bytesPerElement=16,Dn(bd,"StructArrayLayout4f16");class _d extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,p,g,b){const w=this.length;return this.resize(w+1),this.emplace(w,a,u,p,g,b)}emplace(a,u,p,g,b,w){const E=6*a,O=3*a;return this.uint16[E+0]=u,this.uint16[E+1]=p,this.uint16[E+2]=g,this.uint16[E+3]=b,this.float32[O+2]=w,a}}_d.prototype.bytesPerElement=12,Dn(_d,"StructArrayLayout4ui1f12");class kp extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,u,p,g){const b=this.length;return this.resize(b+1),this.emplace(b,a,u,p,g)}emplace(a,u,p,g,b){const w=4*a;return this.uint16[w+0]=u,this.uint16[w+1]=p,this.uint16[w+2]=g,this.uint16[w+3]=b,a}}kp.prototype.bytesPerElement=8,Dn(kp,"StructArrayLayout4ui8");class Fy extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,u,p,g,b,w){const E=this.length;return this.resize(E+1),this.emplace(E,a,u,p,g,b,w)}emplace(a,u,p,g,b,w,E){const O=6*a;return this.int16[O+0]=u,this.int16[O+1]=p,this.int16[O+2]=g,this.int16[O+3]=b,this.int16[O+4]=w,this.int16[O+5]=E,a}}Fy.prototype.bytesPerElement=12,Dn(Fy,"StructArrayLayout6i12");class Tm extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,u,p,g,b,w,E,O,R,$,Z,V){const X=this.length;return this.resize(X+1),this.emplace(X,a,u,p,g,b,w,E,O,R,$,Z,V)}emplace(a,u,p,g,b,w,E,O,R,$,Z,V,X){const Q=12*a;return this.int16[Q+0]=u,this.int16[Q+1]=p,this.int16[Q+2]=g,this.int16[Q+3]=b,this.uint16[Q+4]=w,this.uint16[Q+5]=E,this.uint16[Q+6]=O,this.uint16[Q+7]=R,this.int16[Q+8]=$,this.int16[Q+9]=Z,this.int16[Q+10]=V,this.int16[Q+11]=X,a}}Tm.prototype.bytesPerElement=24,Dn(Tm,"StructArrayLayout4i4ui4i24");class u1 extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,p,g,b,w){const E=this.length;return this.resize(E+1),this.emplace(E,a,u,p,g,b,w)}emplace(a,u,p,g,b,w,E){const O=10*a,R=5*a;return this.int16[O+0]=u,this.int16[O+1]=p,this.int16[O+2]=g,this.float32[R+2]=b,this.float32[R+3]=w,this.float32[R+4]=E,a}}u1.prototype.bytesPerElement=20,Dn(u1,"StructArrayLayout3i3f20");class d1 extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(a){const u=this.length;return this.resize(u+1),this.emplace(u,a)}emplace(a,u){return this.uint32[1*a+0]=u,a}}d1.prototype.bytesPerElement=4,Dn(d1,"StructArrayLayout1ul4");class Dc extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,u){const p=this.length;return this.resize(p+1),this.emplace(p,a,u)}emplace(a,u,p){const g=2*a;return this.uint16[g+0]=u,this.uint16[g+1]=p,a}}Dc.prototype.bytesPerElement=4,Dn(Dc,"StructArrayLayout2ui4");class h1 extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,u,p,g,b,w,E,O,R,$,Z,V,X){const Q=this.length;return this.resize(Q+1),this.emplace(Q,a,u,p,g,b,w,E,O,R,$,Z,V,X)}emplace(a,u,p,g,b,w,E,O,R,$,Z,V,X,Q){const ne=20*a,ce=10*a;return this.int16[ne+0]=u,this.int16[ne+1]=p,this.int16[ne+2]=g,this.int16[ne+3]=b,this.int16[ne+4]=w,this.float32[ce+3]=E,this.float32[ce+4]=O,this.float32[ce+5]=R,this.float32[ce+6]=$,this.int16[ne+14]=Z,this.uint32[ce+8]=V,this.uint16[ne+18]=X,this.uint16[ne+19]=Q,a}}h1.prototype.bytesPerElement=40,Dn(h1,"StructArrayLayout5i4f1i1ul2ui40");class Pm extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,u,p,g,b,w,E){const O=this.length;return this.resize(O+1),this.emplace(O,a,u,p,g,b,w,E)}emplace(a,u,p,g,b,w,E,O){const R=8*a;return this.int16[R+0]=u,this.int16[R+1]=p,this.int16[R+2]=g,this.int16[R+4]=b,this.int16[R+5]=w,this.int16[R+6]=E,this.int16[R+7]=O,a}}Pm.prototype.bytesPerElement=16,Dn(Pm,"StructArrayLayout3i2i2i16");class $y extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,u,p,g,b){const w=this.length;return this.resize(w+1),this.emplace(w,a,u,p,g,b)}emplace(a,u,p,g,b,w){const E=4*a,O=8*a;return this.float32[E+0]=u,this.float32[E+1]=p,this.float32[E+2]=g,this.int16[O+6]=b,this.int16[O+7]=w,a}}$y.prototype.bytesPerElement=16,Dn($y,"StructArrayLayout2f1f2i16");class p1 extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,p,g){const b=this.length;return this.resize(b+1),this.emplace(b,a,u,p,g)}emplace(a,u,p,g,b){const w=12*a,E=3*a;return this.uint8[w+0]=u,this.uint8[w+1]=p,this.float32[E+1]=g,this.float32[E+2]=b,a}}p1.prototype.bytesPerElement=12,Dn(p1,"StructArrayLayout2ub2f12");class fa extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,u,p){const g=this.length;return this.resize(g+1),this.emplace(g,a,u,p)}emplace(a,u,p,g){const b=3*a;return this.uint16[b+0]=u,this.uint16[b+1]=p,this.uint16[b+2]=g,a}}fa.prototype.bytesPerElement=6,Dn(fa,"StructArrayLayout3ui6");class Np extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(a,u,p,g,b,w,E,O,R,$,Z,V,X,Q,ne,ce,ge,Te,ke,Ie,Be){const Fe=this.length;return this.resize(Fe+1),this.emplace(Fe,a,u,p,g,b,w,E,O,R,$,Z,V,X,Q,ne,ce,ge,Te,ke,Ie,Be)}emplace(a,u,p,g,b,w,E,O,R,$,Z,V,X,Q,ne,ce,ge,Te,ke,Ie,Be,Fe){const Ke=30*a,tt=15*a,ht=60*a;return this.int16[Ke+0]=u,this.int16[Ke+1]=p,this.int16[Ke+2]=g,this.float32[tt+2]=b,this.float32[tt+3]=w,this.uint16[Ke+8]=E,this.uint16[Ke+9]=O,this.uint32[tt+5]=R,this.uint32[tt+6]=$,this.uint32[tt+7]=Z,this.uint16[Ke+16]=V,this.uint16[Ke+17]=X,this.uint16[Ke+18]=Q,this.float32[tt+10]=ne,this.float32[tt+11]=ce,this.uint8[ht+48]=ge,this.uint8[ht+49]=Te,this.uint8[ht+50]=ke,this.uint32[tt+13]=Ie,this.int16[Ke+28]=Be,this.uint8[ht+58]=Fe,a}}Np.prototype.bytesPerElement=60,Dn(Np,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class jy extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(a,u,p,g,b,w,E,O,R,$,Z,V,X,Q,ne,ce,ge,Te,ke,Ie,Be,Fe,Ke,tt,ht,wt,mt,Ft,qt,Ot,Wt,Mt){const Vt=this.length;return this.resize(Vt+1),this.emplace(Vt,a,u,p,g,b,w,E,O,R,$,Z,V,X,Q,ne,ce,ge,Te,ke,Ie,Be,Fe,Ke,tt,ht,wt,mt,Ft,qt,Ot,Wt,Mt)}emplace(a,u,p,g,b,w,E,O,R,$,Z,V,X,Q,ne,ce,ge,Te,ke,Ie,Be,Fe,Ke,tt,ht,wt,mt,Ft,qt,Ot,Wt,Mt,Vt){const wn=20*a,Xt=40*a,Hn=80*a;return this.float32[wn+0]=u,this.float32[wn+1]=p,this.int16[Xt+4]=g,this.int16[Xt+5]=b,this.int16[Xt+6]=w,this.int16[Xt+7]=E,this.int16[Xt+8]=O,this.int16[Xt+9]=R,this.int16[Xt+10]=$,this.int16[Xt+11]=Z,this.int16[Xt+12]=V,this.uint16[Xt+13]=X,this.uint16[Xt+14]=Q,this.uint16[Xt+15]=ne,this.uint16[Xt+16]=ce,this.uint16[Xt+17]=ge,this.uint16[Xt+18]=Te,this.uint16[Xt+19]=ke,this.uint16[Xt+20]=Ie,this.uint16[Xt+21]=Be,this.uint16[Xt+22]=Fe,this.uint16[Xt+23]=Ke,this.uint16[Xt+24]=tt,this.uint16[Xt+25]=ht,this.uint16[Xt+26]=wt,this.uint16[Xt+27]=mt,this.uint32[wn+14]=Ft,this.float32[wn+15]=qt,this.float32[wn+16]=Ot,this.float32[wn+17]=Wt,this.float32[wn+18]=Mt,this.uint8[Hn+76]=Vt,a}}jy.prototype.bytesPerElement=80,Dn(jy,"StructArrayLayout2f9i15ui1ul4f1ub80");class Im extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a){const u=this.length;return this.resize(u+1),this.emplace(u,a)}emplace(a,u){return this.float32[1*a+0]=u,a}}Im.prototype.bytesPerElement=4,Dn(Im,"StructArrayLayout1f4");class xd extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,p,g,b){const w=this.length;return this.resize(w+1),this.emplace(w,a,u,p,g,b)}emplace(a,u,p,g,b,w){const E=5*a;return this.float32[E+0]=u,this.float32[E+1]=p,this.float32[E+2]=g,this.float32[E+3]=b,this.float32[E+4]=w,a}}xd.prototype.bytesPerElement=20,Dn(xd,"StructArrayLayout5f20");class f1 extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,p,g,b,w,E){const O=this.length;return this.resize(O+1),this.emplace(O,a,u,p,g,b,w,E)}emplace(a,u,p,g,b,w,E,O){const R=7*a;return this.float32[R+0]=u,this.float32[R+1]=p,this.float32[R+2]=g,this.float32[R+3]=b,this.float32[R+4]=w,this.float32[R+5]=E,this.float32[R+6]=O,a}}f1.prototype.bytesPerElement=28,Dn(f1,"StructArrayLayout7f28");class Om extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,u,p,g){const b=this.length;return this.resize(b+1),this.emplace(b,a,u,p,g)}emplace(a,u,p,g,b){const w=6*a;return this.uint32[3*a+0]=u,this.uint16[w+2]=p,this.uint16[w+3]=g,this.uint16[w+4]=b,a}}Om.prototype.bytesPerElement=12,Dn(Om,"StructArrayLayout1ul3ui12");class m1 extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a){const u=this.length;return this.resize(u+1),this.emplace(u,a)}emplace(a,u){return this.uint16[1*a+0]=u,a}}m1.prototype.bytesPerElement=2,Dn(m1,"StructArrayLayout1ui2");class vh extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,p){const g=this.length;return this.resize(g+1),this.emplace(g,a,u,p)}emplace(a,u,p,g){const b=3*a;return this.float32[b+0]=u,this.float32[b+1]=p,this.float32[b+2]=g,a}}vh.prototype.bytesPerElement=12,Dn(vh,"StructArrayLayout3f12");class km extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u){const p=this.length;return this.resize(p+1),this.emplace(p,a,u)}emplace(a,u,p){const g=2*a;return this.float32[g+0]=u,this.float32[g+1]=p,a}}km.prototype.bytesPerElement=8,Dn(km,"StructArrayLayout2f8");class g1 extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,p,g,b,w,E,O,R,$,Z,V,X,Q,ne,ce){const ge=this.length;return this.resize(ge+1),this.emplace(ge,a,u,p,g,b,w,E,O,R,$,Z,V,X,Q,ne,ce)}emplace(a,u,p,g,b,w,E,O,R,$,Z,V,X,Q,ne,ce,ge){const Te=16*a;return this.float32[Te+0]=u,this.float32[Te+1]=p,this.float32[Te+2]=g,this.float32[Te+3]=b,this.float32[Te+4]=w,this.float32[Te+5]=E,this.float32[Te+6]=O,this.float32[Te+7]=R,this.float32[Te+8]=$,this.float32[Te+9]=Z,this.float32[Te+10]=V,this.float32[Te+11]=X,this.float32[Te+12]=Q,this.float32[Te+13]=ne,this.float32[Te+14]=ce,this.float32[Te+15]=ge,a}}g1.prototype.bytesPerElement=64,Dn(g1,"StructArrayLayout16f64");class Nm extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,u,p,g,b,w,E){const O=this.length;return this.resize(O+1),this.emplace(O,a,u,p,g,b,w,E)}emplace(a,u,p,g,b,w,E,O){const R=10*a,$=5*a;return this.uint16[R+0]=u,this.uint16[R+1]=p,this.uint16[R+2]=g,this.uint16[R+3]=b,this.float32[$+2]=w,this.float32[$+3]=E,this.float32[$+4]=O,a}}Nm.prototype.bytesPerElement=20,Dn(Nm,"StructArrayLayout4ui3f20");class y1 extends Qi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer)}emplaceBack(a){const u=this.length;return this.resize(u+1),this.emplace(u,a)}emplace(a,u){return this.uint8[1*a+0]=u,a}}y1.prototype.bytesPerElement=1,Dn(y1,"StructArrayLayout1ub1");class c5 extends Ly{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}c5.prototype.size=40;class u5 extends h1{get(a){return new c5(this,a)}}Dn(u5,"CollisionBoxArray");class d5 extends Ly{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(a){this._structArray.uint8[this._pos1+49]=a}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(a){this._structArray.uint8[this._pos1+50]=a}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(a){this._structArray.uint32[this._pos4+13]=a}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(a){this._structArray.uint8[this._pos1+58]=a}}d5.prototype.size=60;class h5 extends Np{get(a){return new d5(this,a)}}Dn(h5,"PlacedSymbolArray");class p5 extends Ly{get tileAnchorX(){return this._structArray.float32[this._pos4+0]}get tileAnchorY(){return this._structArray.float32[this._pos4+1]}get projectedAnchorX(){return this._structArray.int16[this._pos2+4]}get projectedAnchorY(){return this._structArray.int16[this._pos2+5]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+6]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+11]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get key(){return this._structArray.uint16[this._pos2+13]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+14]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+15]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+17]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+19]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+21]}get featureIndex(){return this._structArray.uint16[this._pos2+22]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+23]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numIconVertices(){return this._structArray.uint16[this._pos2+25]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+26]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+27]}get crossTileID(){return this._structArray.uint32[this._pos4+14]}set crossTileID(a){this._structArray.uint32[this._pos4+14]=a}get textOffset0(){return this._structArray.float32[this._pos4+15]}get textOffset1(){return this._structArray.float32[this._pos4+16]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+17]}get zOffset(){return this._structArray.float32[this._pos4+18]}set zOffset(a){this._structArray.float32[this._pos4+18]=a}get hasIconTextFit(){return this._structArray.uint8[this._pos1+76]}}p5.prototype.size=80;class f5 extends jy{get(a){return new p5(this,a)}}Dn(f5,"SymbolInstanceArray");class m5 extends Im{getoffsetX(a){return this.float32[1*a+0]}}Dn(m5,"GlyphOffsetArray");class Rm extends Ql{getx(a){return this.int16[2*a+0]}gety(a){return this.int16[2*a+1]}}Dn(Rm,"SymbolLineVertexArray");class g5 extends Ly{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}g5.prototype.size=12;class y5 extends Om{get(a){return new g5(this,a)}}Dn(y5,"FeatureIndexArray");class Dm extends Dc{geta_centroid_pos0(a){return this.uint16[2*a+0]}geta_centroid_pos1(a){return this.uint16[2*a+1]}}Dn(Dm,"FillExtrusionCentroidArray");const MI=bi([{name:"a_pos",components:2,type:"Int16"}],4),v5=bi([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Ao{constructor(a=[]){this.segments=a}_prepareSegment(a,u,p,g){let b=this.segments[this.segments.length-1];return a>Ao.MAX_VERTEX_ARRAY_LENGTH&&it(`Max vertices per segment is ${Ao.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${a}`),(!b||b.vertexLength+a>Ao.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==g)&&(b={vertexOffset:u,primitiveOffset:p,vertexLength:0,primitiveLength:0},g!==void 0&&(b.sortKey=g),this.segments.push(b)),b}prepareSegment(a,u,p,g){return this._prepareSegment(a,u.length,p.length,g)}get(){return this.segments}destroy(){for(const a of this.segments)for(const u in a.vaos)a.vaos[u].destroy()}static simpleSegment(a,u,p,g){return new Ao([{vertexOffset:a,primitiveOffset:u,vertexLength:p,primitiveLength:g,vaos:{},sortKey:0}])}}function v1(l,a){return 256*(l=ue(Math.floor(l),0,255))+ue(Math.floor(a),0,255)}Ao.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Dn(Ao,"SegmentVector");const b5=bi([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),_5=bi([{name:"a_dash",components:4,type:"Uint16"}]);var Lm={exports:{}},zy={exports:{}};(function(l){l.exports=function(a,u){var p,g,b,w,E,O,R,$;for(g=a.length-(p=3&a.length),b=u,E=3432918353,O=461845907,$=0;$<g;)R=255&a.charCodeAt($)|(255&a.charCodeAt(++$))<<8|(255&a.charCodeAt(++$))<<16|(255&a.charCodeAt(++$))<<24,++$,b=27492+(65535&(w=5*(65535&(b=(b^=R=(65535&(R=(R=(65535&R)*E+(((R>>>16)*E&65535)<<16)&4294967295)<<15|R>>>17))*O+(((R>>>16)*O&65535)<<16)&4294967295)<<13|b>>>19))+((5*(b>>>16)&65535)<<16)&4294967295))+((58964+(w>>>16)&65535)<<16);switch(R=0,p){case 3:R^=(255&a.charCodeAt($+2))<<16;case 2:R^=(255&a.charCodeAt($+1))<<8;case 1:b^=R=(65535&(R=(R=(65535&(R^=255&a.charCodeAt($)))*E+(((R>>>16)*E&65535)<<16)&4294967295)<<15|R>>>17))*O+(((R>>>16)*O&65535)<<16)&4294967295}return b^=a.length,b=2246822507*(65535&(b^=b>>>16))+((2246822507*(b>>>16)&65535)<<16)&4294967295,b=3266489909*(65535&(b^=b>>>13))+((3266489909*(b>>>16)&65535)<<16)&4294967295,(b^=b>>>16)>>>0}})(zy);var b1=zy.exports,x5={exports:{}};(function(l){l.exports=function(a,u){for(var p,g=a.length,b=u^g,w=0;g>=4;)p=1540483477*(65535&(p=255&a.charCodeAt(w)|(255&a.charCodeAt(++w))<<8|(255&a.charCodeAt(++w))<<16|(255&a.charCodeAt(++w))<<24))+((1540483477*(p>>>16)&65535)<<16),b=1540483477*(65535&b)+((1540483477*(b>>>16)&65535)<<16)^(p=1540483477*(65535&(p^=p>>>24))+((1540483477*(p>>>16)&65535)<<16)),g-=4,++w;switch(g){case 3:b^=(255&a.charCodeAt(w+2))<<16;case 2:b^=(255&a.charCodeAt(w+1))<<8;case 1:b=1540483477*(65535&(b^=255&a.charCodeAt(w)))+((1540483477*(b>>>16)&65535)<<16)}return b=1540483477*(65535&(b^=b>>>13))+((1540483477*(b>>>16)&65535)<<16),(b^=b>>>15)>>>0}})(x5);var w5=b1,S5=x5.exports;Lm.exports=w5,Lm.exports.murmur3=w5,Lm.exports.murmur2=S5;var _1=F(Lm.exports);class Fm{constructor(){this.ids=[],this.uniqueIds=[],this.positions=[],this.indexed=!1}add(a,u,p,g){this.ids.push(A5(a)),this.positions.push(u,p,g)}eachPosition(a,u){const p=A5(a);let g=0,b=this.ids.length-1;for(;g<b;){const w=g+b>>1;this.ids[w]>=p?b=w:g=w+1}for(;this.ids[g]===p;)u(this.positions[3*g],this.positions[3*g+1],this.positions[3*g+2]),g++}static serialize(a,u){const p=new Float64Array(a.ids),g=new Uint32Array(a.positions);return x1(p,g,0,p.length-1),u&&(u.add(p.buffer),u.add(g.buffer)),{ids:p,positions:g}}static deserialize(a){const u=new Fm;let p;u.ids=a.ids,u.positions=a.positions;for(const g of u.ids)g!==p&&u.uniqueIds.push(g),p=g;return u.indexed=!0,u}}function A5(l){const a=+l;return!isNaN(a)&&Number.MIN_SAFE_INTEGER<=a&&a<=Number.MAX_SAFE_INTEGER?a:_1(String(l))}function x1(l,a,u,p){for(;u<p;){const g=l[u+p>>1];let b=u-1,w=p+1;for(;;){do b++;while(l[b]<g);do w--;while(l[w]>g);if(b>=w)break;By(l,b,w),By(a,3*b,3*w),By(a,3*b+1,3*w+1),By(a,3*b+2,3*w+2)}w-u<p-w?(x1(l,a,u,w),u=w+1):(x1(l,a,w+1,p),p=w)}}function By(l,a,u){const p=l[a];l[a]=l[u],l[u]=p}Dn(Fm,"FeaturePositionMap");class fu{constructor(a){this.gl=a.gl,this.initialized=!1}fetchUniformLocation(a,u){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(a,u),this.initialized=!0),!!this.location}}class Zy extends fu{constructor(a){super(a),this.current=0}set(a,u,p){this.fetchUniformLocation(a,u)&&this.current!==p&&(this.current=p,this.gl.uniform1i(this.location,p))}}class us extends fu{constructor(a){super(a),this.current=0}set(a,u,p){this.fetchUniformLocation(a,u)&&this.current!==p&&(this.current=p,this.gl.uniform1f(this.location,p))}}class wd extends fu{constructor(a){super(a),this.current=[0,0]}set(a,u,p){this.fetchUniformLocation(a,u)&&(p[0]===this.current[0]&&p[1]===this.current[1]||(this.current=p,this.gl.uniform2f(this.location,p[0],p[1])))}}class C5 extends fu{constructor(a){super(a),this.current=[0,0,0]}set(a,u,p){this.fetchUniformLocation(a,u)&&(p[0]===this.current[0]&&p[1]===this.current[1]&&p[2]===this.current[2]||(this.current=p,this.gl.uniform3f(this.location,p[0],p[1],p[2])))}}class _ extends fu{constructor(a){super(a),this.current=[0,0,0,0]}set(a,u,p){this.fetchUniformLocation(a,u)&&(p[0]===this.current[0]&&p[1]===this.current[1]&&p[2]===this.current[2]&&p[3]===this.current[3]||(this.current=p,this.gl.uniform4f(this.location,p[0],p[1],p[2],p[3])))}}class d extends fu{constructor(a){super(a),this.current=kr.transparent}set(a,u,p){this.fetchUniformLocation(a,u)&&(p.r===this.current.r&&p.g===this.current.g&&p.b===this.current.b&&p.a===this.current.a||(this.current=p,this.gl.uniform4f(this.location,p.r,p.g,p.b,p.a)))}}const f=new Float32Array(16);class x extends fu{constructor(a){super(a),this.current=f}set(a,u,p){if(this.fetchUniformLocation(a,u)){if(p[12]!==this.current[12]||p[0]!==this.current[0])return this.current=p,void this.gl.uniformMatrix4fv(this.location,!1,p);for(let g=1;g<16;g++)if(p[g]!==this.current[g]){this.current=p,this.gl.uniformMatrix4fv(this.location,!1,p);break}}}}const M=new Float32Array(9),T=new Float32Array(4);class L extends fu{constructor(a){super(a),this.current=T}set(a,u,p){if(this.fetchUniformLocation(a,u)){for(let g=0;g<4;g++)if(p[g]!==this.current[g]){this.current=p,this.gl.uniformMatrix2fv(this.location,!1,p);break}}}}function j(l){return[v1(255*l.r,255*l.g),v1(255*l.b,255*l.a)]}class H{constructor(a,u,p){this.value=a,this.uniformNames=u.map(g=>`u_${g}`),this.type=p}setUniform(a,u,p,g,b){u.set(a,b,g.constantOr(this.value))}getBinding(a,u){return this.type==="color"?new d(a):new us(a)}}class G{constructor(a,u){this.uniformNames=u.map(p=>`u_${p}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(a){this.pixelRatio=a.pixelRatio||1,this.pattern=a.tl.concat(a.br)}setUniform(a,u,p,g,b){const w=b==="u_pattern"||b==="u_dash"?this.pattern:b==="u_pixel_ratio"?this.pixelRatio:null;w&&u.set(a,b,w)}getBinding(a,u){return u==="u_pattern"||u==="u_dash"?new _(a):new us(a)}}class q{constructor(a,u,p,g){this.expression=a,this.type=p,this.maxValue=0,this.paintVertexAttributes=u.map(b=>({name:`a_${b}`,type:"Float32",components:p==="color"?2:1,offset:0})),this.paintVertexArray=new g}populatePaintArray(a,u,p,g,b,w,E){const O=this.paintVertexArray.length,R=this.expression.evaluate(new co(0,{brightness:w}),u,{},b,g,E);this.paintVertexArray.resize(a),this._setPaintValue(O,a,R)}updatePaintArray(a,u,p,g,b,w,E){const O=this.expression.evaluate({zoom:0,brightness:E},p,g,void 0,b);this._setPaintValue(a,u,O)}_setPaintValue(a,u,p){if(this.type==="color"){const g=j(p);for(let b=a;b<u;b++)this.paintVertexArray.emplace(b,g[0],g[1])}else{for(let g=a;g<u;g++)this.paintVertexArray.emplace(g,p);this.maxValue=Math.max(this.maxValue,Math.abs(p))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class J{constructor(a,u,p,g,b,w){this.expression=a,this.uniformNames=u.map(E=>`u_${E}_t`),this.type=p,this.useIntegerZoom=g,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=u.map(E=>({name:`a_${E}`,type:"Float32",components:p==="color"?4:2,offset:0})),this.paintVertexArray=new w}populatePaintArray(a,u,p,g,b,w,E){const O=this.expression.evaluate(new co(this.zoom,{brightness:w}),u,{},b,g,E),R=this.expression.evaluate(new co(this.zoom+1,{brightness:w}),u,{},b,g,E),$=this.paintVertexArray.length;this.paintVertexArray.resize(a),this._setPaintValue($,a,O,R)}updatePaintArray(a,u,p,g,b,w,E){const O=this.expression.evaluate({zoom:this.zoom,brightness:E},p,g,void 0,b),R=this.expression.evaluate({zoom:this.zoom+1,brightness:E},p,g,void 0,b);this._setPaintValue(a,u,O,R)}_setPaintValue(a,u,p,g){if(this.type==="color"){const b=j(p),w=j(g);for(let E=a;E<u;E++)this.paintVertexArray.emplace(E,b[0],b[1],w[0],w[1])}else{for(let b=a;b<u;b++)this.paintVertexArray.emplace(b,p,g);this.maxValue=Math.max(this.maxValue,Math.abs(p),Math.abs(g))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(a,u,p,g,b){const w=this.useIntegerZoom?Math.floor(p.zoom):p.zoom,E=ue(this.expression.interpolationFactor(w,this.zoom,this.zoom+1),0,1);u.set(a,b,E)}getBinding(a,u){return new us(a)}}class ie{constructor(a,u,p,g,b){this.expression=a,this.layerId=b,this.paintVertexAttributes=(p==="array"?_5:b5).members;for(let w=0;w<u.length;++w);this.paintVertexArray=new g}populatePaintArray(a,u,p){const g=this.paintVertexArray.length;this.paintVertexArray.resize(a),this._setPaintValues(g,a,u.patterns&&u.patterns[this.layerId],p)}updatePaintArray(a,u,p,g,b,w,E){this._setPaintValues(a,u,p.patterns&&p.patterns[this.layerId],w)}_setPaintValues(a,u,p,g){if(!g||!p)return;const b=g[p];if(!b)return;const{tl:w,br:E,pixelRatio:O}=b;for(let R=a;R<u;R++)this.paintVertexArray.emplace(R,w[0],w[1],E[0],E[1],O)}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class se{constructor(a,u,p=()=>!0){this.binders={},this._buffers=[];const g=[];for(const b in a.paint._values){const w=a.paint.get(b);if(!p(b)||!(w instanceof Ip&&Ty(w.property.specification)))continue;const E=Se(b,a.type),O=w.value,R=w.property.specification.type,$=!!w.property.useIntegerZoom,Z=b==="line-dasharray"||b.endsWith("pattern"),V=b==="line-dasharray"&&a.layout.get("line-cap").value.kind!=="constant";if(O.kind!=="constant"||V)if(O.kind==="source"||V||Z){const X=Re(b,R,"source");this.binders[b]=Z?new ie(O,E,R,X,a.id):new q(O,E,R,X),g.push(`/a_${b}`)}else{const X=Re(b,R,"composite");this.binders[b]=new J(O,E,R,$,u,X),g.push(`/z_${b}`)}else this.binders[b]=Z?new G(O.value,E):new H(O.value,E,R),g.push(`/u_${b}`)}this.cacheKey=g.sort().join("")}getMaxValue(a){const u=this.binders[a];return u instanceof q||u instanceof J?u.maxValue:0}populatePaintArrays(a,u,p,g,b,w,E){for(const O in this.binders){const R=this.binders[O];(R instanceof q||R instanceof J||R instanceof ie)&&R.populatePaintArray(a,u,p,g,b,w,E)}}setConstantPatternPositions(a){for(const u in this.binders){const p=this.binders[u];p instanceof G&&p.setConstantPatternPositions(a)}}updatePaintArrays(a,u,p,g,b,w,E,O){let R=!1;const $=Object.keys(a),Z=$.length!==0,V=Z?$:u.uniqueIds;for(const X in this.binders){const Q=this.binders[X];if((Q instanceof q||Q instanceof J||Q instanceof ie)&&(Q.expression.isStateDependent===!0||Q.expression.isLightConstant===!1)){const ne=b.paint.get(X);Q.expression=ne.value;for(const ce of V){const ge=a[ce.toString()];u.eachPosition(ce,(Te,ke,Ie)=>{const Be=g.feature(Te);Q.updatePaintArray(ke,Ie,Be,ge,w,E,O)})}if(!Z)for(const ce of p.uniqueIds){const ge=a[ce.toString()];p.eachPosition(ce,(Te,ke,Ie)=>{const Be=g.feature(Te);Q.updatePaintArray(ke,Ie,Be,ge,w,E,O)})}R=!0}}return R}defines(){const a=[];for(const u in this.binders){const p=this.binders[u];(p instanceof H||p instanceof G)&&a.push(...p.uniformNames.map(g=>`#define HAS_UNIFORM_${g}`))}return a}getBinderAttributes(){const a=[];for(const u in this.binders){const p=this.binders[u];if(p instanceof q||p instanceof J||p instanceof ie)for(let g=0;g<p.paintVertexAttributes.length;g++)a.push(p.paintVertexAttributes[g].name)}return a}getBinderUniforms(){const a=[];for(const u in this.binders){const p=this.binders[u];if(p instanceof H||p instanceof G||p instanceof J)for(const g of p.uniformNames)a.push(g)}return a}getPaintVertexBuffers(){return this._buffers}getUniforms(a){const u=[];for(const p in this.binders){const g=this.binders[p];if(g instanceof H||g instanceof G||g instanceof J)for(const b of g.uniformNames)u.push({name:b,property:p,binding:g.getBinding(a,b)})}return u}setUniforms(a,u,p,g,b){for(const{name:w,property:E,binding:O}of p)this.binders[E].setUniform(a,O,b,g.get(E),w)}updatePaintBuffers(){this._buffers=[];for(const a in this.binders){const u=this.binders[a];(u instanceof q||u instanceof J||u instanceof ie)&&u.paintVertexBuffer&&this._buffers.push(u.paintVertexBuffer)}}upload(a){for(const u in this.binders){const p=this.binders[u];(p instanceof q||p instanceof J||p instanceof ie)&&p.upload(a)}this.updatePaintBuffers()}destroy(){for(const a in this.binders){const u=this.binders[a];(u instanceof q||u instanceof J||u instanceof ie)&&u.destroy()}}}class _e{constructor(a,u,p=()=>!0){this.programConfigurations={};for(const g of a)this.programConfigurations[g.id]=new se(g,u,p);this.needsUpload=!1,this._featureMap=new Fm,this._featureMapWithoutIds=new Fm,this._bufferOffset=0,this._idlessCounter=0}populatePaintArrays(a,u,p,g,b,w,E,O){for(const R in this.programConfigurations)this.programConfigurations[R].populatePaintArrays(a,u,g,b,w,E,O);u.id!==void 0?this._featureMap.add(u.id,p,this._bufferOffset,a):(this._featureMapWithoutIds.add(this._idlessCounter,p,this._bufferOffset,a),this._idlessCounter+=1),this._bufferOffset=a,this.needsUpload=!0}updatePaintArrays(a,u,p,g,b,w){for(const E of p)this.needsUpload=this.programConfigurations[E.id].updatePaintArrays(a,this._featureMap,this._featureMapWithoutIds,u,E,g,b,w||0)||this.needsUpload}get(a){return this.programConfigurations[a]}upload(a){if(this.needsUpload){for(const u in this.programConfigurations)this.programConfigurations[u].upload(a);this.needsUpload=!1}}destroy(){for(const a in this.programConfigurations)this.programConfigurations[a].destroy()}}const ve={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-emissive-strength":["emissive_strength"],"icon-emissive-strength":["emissive_strength"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function Se(l,a){return ve[l]||[l.replace(`${a}-`,"").replace(/-/g,"_")]}const pe={"line-pattern":{source:_d,composite:_d},"fill-pattern":{source:_d,composite:_d},"fill-extrusion-pattern":{source:_d,composite:_d},"line-dasharray":{source:kp,composite:kp}},Ce={color:{source:km,composite:bd},number:{source:Im,composite:km}};function Re(l,a,u){const p=pe[l];return p&&p[u]||Ce[a][u]}Dn(H,"ConstantBinder"),Dn(G,"PatternConstantBinder"),Dn(q,"SourceExpressionBinder"),Dn(ie,"PatternCompositeBinder"),Dn(J,"CompositeExpressionBinder"),Dn(se,"ProgramConfiguration",{omit:["_buffers"]}),Dn(_e,"ProgramConfigurationSet");const Pe=Tn/Math.PI/2,De=5,Ae=6,Le=16383,He=64,Ge=[He,32,16],Je=-Pe,xt=Pe;function at(l,a,u,p=Pe){return u=oe(u),[l*Math.sin(u)*p,-a*p,l*Math.cos(u)*p]}function Nt(l,a,u){return at(Math.cos(oe(l)),Math.sin(oe(l)),a,u)}const It=63710088e-1,Yt=2*Math.PI*It;class ct{constructor(a,u){if(isNaN(a)||isNaN(u))throw new Error(`Invalid LngLat object: (${a}, ${u})`);if(this.lng=+a,this.lat=+u,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new ct(ae(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(a){const u=Math.PI/180,p=this.lat*u,g=a.lat*u,b=Math.sin(p)*Math.sin(g)+Math.cos(p)*Math.cos(g)*Math.cos((a.lng-this.lng)*u);return It*Math.acos(Math.min(b,1))}toBounds(a=0){const u=360*a/40075017,p=u/Math.cos(Math.PI/180*this.lat);return new Ct({lng:this.lng-p,lat:this.lat-u},{lng:this.lng+p,lat:this.lat+u})}toEcef(a){return Nt(this.lat,this.lng,Pe+a*Pe/It)}static convert(a){if(a instanceof ct)return a;if(Array.isArray(a)&&(a.length===2||a.length===3))return new ct(Number(a[0]),Number(a[1]));if(!Array.isArray(a)&&typeof a=="object"&&a!==null)return new ct(Number("lng"in a?a.lng:a.lon),Number(a.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class Ct{constructor(a,u){a&&(u?this.setSouthWest(a).setNorthEast(u):a.length===4?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1]))}setNorthEast(a){return this._ne=a instanceof ct?new ct(a.lng,a.lat):ct.convert(a),this}setSouthWest(a){return this._sw=a instanceof ct?new ct(a.lng,a.lat):ct.convert(a),this}extend(a){const u=this._sw,p=this._ne;let g,b;if(a instanceof ct)g=a,b=a;else{if(!(a instanceof Ct))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(Ct.convert(a)):this.extend(ct.convert(a)):typeof a=="object"&&a!==null&&a.hasOwnProperty("lat")&&(a.hasOwnProperty("lon")||a.hasOwnProperty("lng"))?this.extend(ct.convert(a)):this;if(g=a._sw,b=a._ne,!g||!b)return this}return u||p?(u.lng=Math.min(g.lng,u.lng),u.lat=Math.min(g.lat,u.lat),p.lng=Math.max(b.lng,p.lng),p.lat=Math.max(b.lat,p.lat)):(this._sw=new ct(g.lng,g.lat),this._ne=new ct(b.lng,b.lat)),this}getCenter(){return new ct((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new ct(this.getWest(),this.getNorth())}getSouthEast(){return new ct(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){const{lng:u,lat:p}=ct.convert(a);let g=this._sw.lng<=u&&u<=this._ne.lng;return this._sw.lng>this._ne.lng&&(g=this._sw.lng>=u&&u>=this._ne.lng),this._sw.lat<=p&&p<=this._ne.lat&&g}static convert(a){return!a||a instanceof Ct?a:new Ct(a)}}var Ye={};(function(l,a){(function(u){function p(b,w,E){var O=g(256*b,256*(w=Math.pow(2,E)-w-1),E),R=g(256*(b+1),256*(w+1),E);return O[0]+","+O[1]+","+R[0]+","+R[1]}function g(b,w,E){var O=2*Math.PI*6378137/256/Math.pow(2,E);return[b*O-2*Math.PI*6378137/2,w*O-2*Math.PI*6378137/2]}u.getURL=function(b,w,E,O,R,$){return $=$||{},b+"?"+["bbox="+p(E,O,R),"format="+($.format||"image/png"),"service="+($.service||"WMS"),"version="+($.version||"1.1.1"),"request="+($.request||"GetMap"),"srs="+($.srs||"EPSG:3857"),"width="+($.width||256),"height="+($.height||256),"layers="+w].join("&")},u.getTileBBox=p,u.getMercCoords=g,Object.defineProperty(u,"__esModule",{value:!0})})(a)})(0,Ye);var vt=Ye;class tn{constructor(a,u,p){this.z=a,this.x=u,this.y=p,this.key=Mn(0,a,a,u,p)}equals(a){return this.z===a.z&&this.x===a.x&&this.y===a.y}url(a,u){const p=vt.getTileBBox(this.x,this.y,this.z),g=function(b,w,E){let O,R="";for(let $=b;$>0;$--)O=1<<$-1,R+=(w&O?1:0)+(E&O?2:0);return R}(this.z,this.x,this.y);return a[(this.x+this.y)%a.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(u==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",g).replace("{bbox-epsg-3857}",p)}toString(){return`${this.z}/${this.x}/${this.y}`}}class yn{constructor(a,u){this.wrap=a,this.canonical=u,this.key=Mn(a,u.z,u.z,u.x,u.y)}}class mn{constructor(a,u,p,g,b){this.overscaledZ=a,this.wrap=u,this.canonical=new tn(p,+g,+b),this.key=u===0&&a===p?this.canonical.key:Mn(u,a,p,g,b)}equals(a){return this.overscaledZ===a.overscaledZ&&this.wrap===a.wrap&&this.canonical.equals(a.canonical)}scaledTo(a){const u=this.canonical.z-a;return a>this.canonical.z?new mn(a,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new mn(a,this.wrap,a,this.canonical.x>>u,this.canonical.y>>u)}calculateScaledKey(a,u=!0){if(this.overscaledZ===a&&u)return this.key;if(a>this.canonical.z)return Mn(this.wrap*+u,a,this.canonical.z,this.canonical.x,this.canonical.y);{const p=this.canonical.z-a;return Mn(this.wrap*+u,a,a,this.canonical.x>>p,this.canonical.y>>p)}}isChildOf(a){if(a.wrap!==this.wrap)return!1;const u=this.canonical.z-a.canonical.z;return a.overscaledZ===0||a.overscaledZ<this.overscaledZ&&a.canonical.z<this.canonical.z&&a.canonical.x===this.canonical.x>>u&&a.canonical.y===this.canonical.y>>u}children(a){if(this.overscaledZ>=a)return[new mn(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const u=this.canonical.z+1,p=2*this.canonical.x,g=2*this.canonical.y;return[new mn(u,this.wrap,u,p,g),new mn(u,this.wrap,u,p+1,g),new mn(u,this.wrap,u,p,g+1),new mn(u,this.wrap,u,p+1,g+1)]}isLessThan(a){return this.wrap<a.wrap||!(this.wrap>a.wrap)&&(this.overscaledZ<a.overscaledZ||!(this.overscaledZ>a.overscaledZ)&&(this.canonical.x<a.canonical.x||!(this.canonical.x>a.canonical.x)&&this.canonical.y<a.canonical.y))}wrapped(){return new mn(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(a){return new mn(this.overscaledZ,a,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new yn(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Mn(l,a,u,p,g){const b=1<<Math.min(u,22);let w=b*(g%b)+p%b;return l&&u<22&&(w+=b*b*((l<0?-2*l-1:2*l)%(1<<2*(22-u)))),16*(32*w+u)+(a-u)}const Vn=[l=>{let a=l.canonical.x-1,u=l.wrap;return a<0&&(a=(1<<l.canonical.z)-1,u--),new mn(l.overscaledZ,u,l.canonical.z,a,l.canonical.y)},l=>{let a=l.canonical.x+1,u=l.wrap;return a===1<<l.canonical.z&&(a=0,u++),new mn(l.overscaledZ,u,l.canonical.z,a,l.canonical.y)},l=>new mn(l.overscaledZ,l.wrap,l.canonical.z,l.canonical.x,(l.canonical.y===0?1<<l.canonical.z:l.canonical.y)-1),l=>new mn(l.overscaledZ,l.wrap,l.canonical.z,l.canonical.x,l.canonical.y===(1<<l.canonical.z)-1?0:l.canonical.y+1)];Dn(tn,"CanonicalTileID"),Dn(mn,"OverscaledTileID",{omit:["projMatrix","expandedProjMatrix"]});const nr=0,Xn=25.5;function Jn(l){return Yt*Math.cos(l*Math.PI/180)}function Nr(l){return(180+l)/360}function br(l){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l*Math.PI/360)))/360}function Tr(l,a){return l/Jn(a)}function Cr(l){return 360*l-180}function Jr(l){return 360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90}function Fi(l,a){return l*Jn(Jr(a))}const yi=85.051129;function ho(l){return Math.cos(oe(ue(l,-85.051129,yi)))}function Zr(l,a){const u=ue(a,nr,Xn),p=Math.pow(2,u);return ho(l)*Yt/(512*p)}function oi(l){return 1/Math.cos(l*Math.PI/180)}function Ur(l,a=0){const u=Math.exp(Math.PI*(1-(l.y+a/Tn)/(1<<l.z)*2));return 80150034*u/(u*u+1)/Tn/(1<<l.z)}class ii{constructor(a,u,p=0){this.x=+a,this.y=+u,this.z=+p}static fromLngLat(a,u=0){const p=ct.convert(a);return new ii(Nr(p.lng),br(p.lat),Tr(u,p.lat))}toLngLat(){return new ct(Cr(this.x),Jr(this.y))}toAltitude(){return Fi(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Yt*oi(Jr(this.y))}}function Vi(l,a,u,p,g,b,w,E,O){const R=(a+p)/2,$=(u+g)/2,Z=new K(R,$);E(Z),function(V,X,Q,ne,ce,ge){const Te=Q-ce,ke=ne-ge;return Math.abs((ne-X)*Te-(Q-V)*ke)/Math.hypot(Te,ke)}(Z.x,Z.y,b.x,b.y,w.x,w.y)>=O?(Vi(l,a,u,R,$,b,Z,E,O),Vi(l,R,$,p,g,Z,w,E,O)):l.push(w)}function fi(l,a,u){let p=l[0],g=p.x,b=p.y;a(p);const w=[p];for(let E=1;E<l.length;E++){const O=l[E],{x:R,y:$}=O;a(O),Vi(w,g,b,R,$,p,O,a,u),g=R,b=$,p=O}return w}function ma(l,a,u,p){if(p(a,u)){const g=a.add(u)._mult(.5);ma(l,a,g,p),ma(l,g,u,p)}else l.push(u)}function $a(l,a){let u=l[0];const p=[u];for(let g=1;g<l.length;g++){const b=l[g];ma(p,u,b,a),u=b}return p}const Fs=Math.pow(2,14)-1,Lc=-Fs-1;function $s(l,a){const u=Math.round(l.x*a),p=Math.round(l.y*a);return l.x=ue(u,Lc,Fs),l.y=ue(p,Lc,Fs),(u<l.x||u>l.x+1||p<l.y||p>l.y+1)&&it("Geometry exceeds allowed extent, reduce your vector tile buffer size"),l}function ga(l,a,u){const p=l.loadGeometry(),g=l.extent,b=Tn/g;if(a&&u&&u.projection.isReprojectedInTileSpace){const w=1<<a.z,{scale:E,x:O,y:R,projection:$}=u,Z=V=>{const X=Cr((a.x+V.x/g)/w),Q=Jr((a.y+V.y/g)/w),ne=$.project(X,Q);V.x=(ne.x*E-O)*g,V.y=(ne.y*E-R)*g};for(let V=0;V<p.length;V++)if(l.type!==1)p[V]=fi(p[V],Z,1);else{const X=[];for(const Q of p[V])Q.x<0||Q.x>=g||Q.y<0||Q.y>=g||(Z(Q),X.push(Q));p[V]=X}}for(const w of p)for(const E of w)$s(E,b);return p}function Jo(l,a){return{type:l.type,id:l.id,properties:l.properties,geometry:a?ga(l):[]}}function ds(l,a,u,p,g){l.emplaceBack(2*a+(p+1)/2,2*u+(g+1)/2)}function Cs(l,a,u){l.emplaceBack(a.x,a.y,a.z,u[0]*16384,u[1]*16384,u[2]*16384)}class js{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(u=>u.fqid),this.index=a.index,this.hasPattern=!1,this.projection=a.projection,this.layoutVertexArray=new Ql,this.indexArray=new fa,this.segments=new Ao,this.programConfigurations=new _e(a.layers,a.zoom),this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}populate(a,u,p,g){const b=this.layers[0],w=[];let E=null;b.type==="circle"&&(E=b.layout.get("circle-sort-key"));for(const{feature:R,id:$,index:Z,sourceLayerIndex:V}of a){const X=this.layers[0]._featureFilter.needGeometry,Q=Jo(R,X);if(!this.layers[0]._featureFilter.filter(new co(this.zoom),Q,p))continue;const ne=E?E.evaluate(Q,{},p):void 0,ce={id:$,properties:R.properties,type:R.type,sourceLayerIndex:V,index:Z,geometry:X?Q.geometry:ga(R,p,g),patterns:{},sortKey:ne};w.push(ce)}E&&w.sort((R,$)=>R.sortKey-$.sortKey);let O=null;g.projection.name==="globe"&&(this.globeExtVertexArray=new Fy,O=g.projection);for(const R of w){const{geometry:$,index:Z,sourceLayerIndex:V}=R,X=a[Z].feature;this.addFeature(R,$,Z,u.availableImages,p,O,u.brightness),u.featureIndex.insert(X,$,Z,V,this.index)}}update(a,u,p,g,b){const w=Object.keys(a).length!==0;w&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(a,u,w?this.stateDependentLayers:this.layers,p,g,b)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,MI.members),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=a.createVertexBuffer(this.globeExtVertexArray,v5.members))),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(a,u,p,g,b,w,E){for(const O of u)for(const R of O){const $=R.x,Z=R.y;if($<0||$>=Tn||Z<0||Z>=Tn)continue;if(w){const Q=w.projectTilePoint($,Z,b),ne=w.upVector(b,$,Z),ce=this.globeExtVertexArray;Cs(ce,Q,ne),Cs(ce,Q,ne),Cs(ce,Q,ne),Cs(ce,Q,ne)}const V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,a.sortKey),X=V.vertexLength;ds(this.layoutVertexArray,$,Z,-1,-1),ds(this.layoutVertexArray,$,Z,1,-1),ds(this.layoutVertexArray,$,Z,1,1),ds(this.layoutVertexArray,$,Z,-1,1),this.indexArray.emplaceBack(X,X+1,X+2),this.indexArray.emplaceBack(X,X+2,X+3),V.vertexLength+=4,V.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,p,{},g,b,E)}}function Fc(l,a){for(let u=0;u<l.length;u++)if(mu(a,l[u]))return!0;for(let u=0;u<a.length;u++)if(mu(l,a[u]))return!0;return!!jm(l,a)}function Sd(l,a,u){return!!mu(l,a)||!!zm(a,l,u)}function bh(l,a){if(l.length===1)return Uy(a,l[0]);for(let u=0;u<a.length;u++){const p=a[u];for(let g=0;g<p.length;g++)if(mu(l,p[g]))return!0}for(let u=0;u<l.length;u++)if(Uy(a,l[u]))return!0;for(let u=0;u<a.length;u++)if(jm(l,a[u]))return!0;return!1}function $m(l,a,u){if(l.length>1){if(jm(l,a))return!0;for(let p=0;p<a.length;p++)if(zm(a[p],l,u))return!0}for(let p=0;p<l.length;p++)if(zm(l[p],a,u))return!0;return!1}function jm(l,a){if(l.length===0||a.length===0)return!1;for(let u=0;u<l.length-1;u++){const p=l[u],g=l[u+1];for(let b=0;b<a.length-1;b++)if(w1(p,g,a[b],a[b+1]))return!0}return!1}function w1(l,a,u,p){return pt(l,u,p)!==pt(a,u,p)&&pt(l,a,u)!==pt(l,a,p)}function zm(l,a,u){const p=u*u;if(a.length===1)return l.distSqr(a[0])<p;for(let g=1;g<a.length;g++)if(Rp(l,a[g-1],a[g])<p)return!0;return!1}function Rp(l,a,u){const p=a.distSqr(u);if(p===0)return l.distSqr(a);const g=((l.x-a.x)*(u.x-a.x)+(l.y-a.y)*(u.y-a.y))/p;return l.distSqr(g<0?a:g>1?u:u.sub(a)._mult(g)._add(a))}function Uy(l,a){let u,p,g,b=!1;for(let w=0;w<l.length;w++){u=l[w];for(let E=0,O=u.length-1;E<u.length;O=E++)p=u[E],g=u[O],p.y>a.y!=g.y>a.y&&a.x<(g.x-p.x)*(a.y-p.y)/(g.y-p.y)+p.x&&(b=!b)}return b}function mu(l,a){let u=!1;for(let p=0,g=l.length-1;p<l.length;g=p++){const b=l[p],w=l[g];b.y>a.y!=w.y>a.y&&a.x<(w.x-b.x)*(a.y-b.y)/(w.y-b.y)+b.x&&(u=!u)}return u}function f$(l,a,u,p,g){for(const w of l)if(a<=w.x&&u<=w.y&&p>=w.x&&g>=w.y)return!0;const b=[new K(a,u),new K(a,g),new K(p,g),new K(p,u)];if(l.length>2){for(const w of b)if(mu(l,w))return!0}for(let w=0;w<l.length-1;w++)if(ume(l[w],l[w+1],b))return!0;return!1}function ume(l,a,u){const p=u[0],g=u[2];if(l.x<p.x&&a.x<p.x||l.x>g.x&&a.x>g.x||l.y<p.y&&a.y<p.y||l.y>g.y&&a.y>g.y)return!1;const b=pt(l,a,u[0]);return b!==pt(l,a,u[1])||b!==pt(l,a,u[2])||b!==pt(l,a,u[3])}function Hy(l,a,u,p,g,b){let w=a.y-l.y,E=l.x-a.x;if(b=b||0){const O=w*w+E*E;if(O===0)return!0;const R=Math.sqrt(O);w/=R,E/=R}return!((u.x-l.x)*w+(u.y-l.y)*E-b<0||(p.x-l.x)*w+(p.y-l.y)*E-b<0||(g.x-l.x)*w+(g.y-l.y)*E-b<0)}function EI(l,a,u,p,g,b,w){return!(Hy(l,a,p,g,b,w)||Hy(a,u,p,g,b,w)||Hy(u,l,p,g,b,w)||Hy(p,g,l,a,u,w)||Hy(g,b,l,a,u,w)||Hy(b,p,l,a,u,w))}function Vy(l,a,u){const p=a.paint.get(l).value;return p.kind==="constant"?p.value:u.programConfigurations.get(a.id).getMaxValue(l)}function M5(l){return Math.sqrt(l[0]*l[0]+l[1]*l[1])}function m$(l,a,u,p,g){if(!a[0]&&!a[1])return l;const b=K.convert(a)._mult(g);u==="viewport"&&b._rotate(-p);const w=[];for(let E=0;E<l.length;E++)w.push(l[E].sub(b));return w}function g$(l,a,u,p){const g=K.convert(l)._mult(p);return a==="viewport"&&g._rotate(-u),g}Dn(js,"CircleBucket",{omit:["layers"]});const dme=new uo({"circle-sort-key":new ir(bt.layout_circle["circle-sort-key"]),visibility:new bn(bt.layout_circle.visibility)});var hme={paint:new uo({"circle-radius":new ir(bt.paint_circle["circle-radius"]),"circle-color":new ir(bt.paint_circle["circle-color"]),"circle-blur":new ir(bt.paint_circle["circle-blur"]),"circle-opacity":new ir(bt.paint_circle["circle-opacity"]),"circle-translate":new bn(bt.paint_circle["circle-translate"]),"circle-translate-anchor":new bn(bt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new bn(bt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new bn(bt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ir(bt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ir(bt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ir(bt.paint_circle["circle-stroke-opacity"]),"circle-emissive-strength":new bn(bt.paint_circle["circle-emissive-strength"])}),layout:dme},Sa={},Aa={};Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.setMatrixArrayType=function(l){Aa.ARRAY_TYPE=v$=l},Aa.toRadian=function(l){return l*fme},Aa.equals=function(l,a){return Math.abs(l-a)<=y$*Math.max(1,Math.abs(l),Math.abs(a))},Aa.RANDOM=Aa.ARRAY_TYPE=Aa.EPSILON=void 0;var y$=1e-6;Aa.EPSILON=y$;var v$=typeof Float32Array<"u"?Float32Array:Array;Aa.ARRAY_TYPE=v$;var pme=Math.random;Aa.RANDOM=pme;var fme=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var l=0,a=arguments.length;a--;)l+=arguments[a]*arguments[a];return Math.sqrt(l)});var po={};function TI(l){return TI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},TI(l)}Object.defineProperty(po,"__esModule",{value:!0}),po.create=function(){var l=new Dp.ARRAY_TYPE(4);return Dp.ARRAY_TYPE!=Float32Array&&(l[1]=0,l[2]=0),l[0]=1,l[3]=1,l},po.clone=function(l){var a=new Dp.ARRAY_TYPE(4);return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a},po.copy=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l},po.identity=function(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l},po.fromValues=function(l,a,u,p){var g=new Dp.ARRAY_TYPE(4);return g[0]=l,g[1]=a,g[2]=u,g[3]=p,g},po.set=function(l,a,u,p,g){return l[0]=a,l[1]=u,l[2]=p,l[3]=g,l},po.transpose=function(l,a){if(l===a){var u=a[1];l[1]=a[2],l[2]=u}else l[0]=a[0],l[1]=a[2],l[2]=a[1],l[3]=a[3];return l},po.invert=function(l,a){var u=a[0],p=a[1],g=a[2],b=a[3],w=u*b-g*p;return w?(l[0]=b*(w=1/w),l[1]=-p*w,l[2]=-g*w,l[3]=u*w,l):null},po.adjoint=function(l,a){var u=a[0];return l[0]=a[3],l[1]=-a[1],l[2]=-a[2],l[3]=u,l},po.determinant=function(l){return l[0]*l[3]-l[2]*l[1]},po.multiply=_$,po.rotate=function(l,a,u){var p=a[0],g=a[1],b=a[2],w=a[3],E=Math.sin(u),O=Math.cos(u);return l[0]=p*O+b*E,l[1]=g*O+w*E,l[2]=p*-E+b*O,l[3]=g*-E+w*O,l},po.scale=function(l,a,u){var p=a[1],g=a[2],b=a[3],w=u[0],E=u[1];return l[0]=a[0]*w,l[1]=p*w,l[2]=g*E,l[3]=b*E,l},po.fromRotation=function(l,a){var u=Math.sin(a),p=Math.cos(a);return l[0]=p,l[1]=u,l[2]=-u,l[3]=p,l},po.fromScaling=function(l,a){return l[0]=a[0],l[1]=0,l[2]=0,l[3]=a[1],l},po.str=function(l){return"mat2("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+")"},po.frob=function(l){return Math.hypot(l[0],l[1],l[2],l[3])},po.LDU=function(l,a,u,p){return l[2]=p[2]/p[0],u[0]=p[0],u[1]=p[1],u[3]=p[3]-l[2]*u[1],[l,a,u]},po.add=function(l,a,u){return l[0]=a[0]+u[0],l[1]=a[1]+u[1],l[2]=a[2]+u[2],l[3]=a[3]+u[3],l},po.subtract=x$,po.exactEquals=function(l,a){return l[0]===a[0]&&l[1]===a[1]&&l[2]===a[2]&&l[3]===a[3]},po.equals=function(l,a){var u=l[0],p=l[1],g=l[2],b=l[3],w=a[0],E=a[1],O=a[2],R=a[3];return Math.abs(u-w)<=Dp.EPSILON*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(p-E)<=Dp.EPSILON*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(g-O)<=Dp.EPSILON*Math.max(1,Math.abs(g),Math.abs(O))&&Math.abs(b-R)<=Dp.EPSILON*Math.max(1,Math.abs(b),Math.abs(R))},po.multiplyScalar=function(l,a,u){return l[0]=a[0]*u,l[1]=a[1]*u,l[2]=a[2]*u,l[3]=a[3]*u,l},po.multiplyScalarAndAdd=function(l,a,u,p){return l[0]=a[0]+u[0]*p,l[1]=a[1]+u[1]*p,l[2]=a[2]+u[2]*p,l[3]=a[3]+u[3]*p,l},po.sub=po.mul=void 0;var Dp=function(l,a){if(l&&l.__esModule)return l;if(l===null||TI(l)!=="object"&&typeof l!="function")return{default:l};var u=b$(void 0);if(u&&u.has(l))return u.get(l);var p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in l)if(b!=="default"&&Object.prototype.hasOwnProperty.call(l,b)){var w=g?Object.getOwnPropertyDescriptor(l,b):null;w&&(w.get||w.set)?Object.defineProperty(p,b,w):p[b]=l[b]}return p.default=l,u&&u.set(l,p),p}(Aa);function b$(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(b$=function(p){return p?u:a})(l)}function _$(l,a,u){var p=a[0],g=a[1],b=a[2],w=a[3],E=u[0],O=u[1],R=u[2],$=u[3];return l[0]=p*E+b*O,l[1]=g*E+w*O,l[2]=p*R+b*$,l[3]=g*R+w*$,l}function x$(l,a,u){return l[0]=a[0]-u[0],l[1]=a[1]-u[1],l[2]=a[2]-u[2],l[3]=a[3]-u[3],l}po.mul=_$,po.sub=x$;var yo={};function PI(l){return PI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},PI(l)}Object.defineProperty(yo,"__esModule",{value:!0}),yo.create=function(){var l=new Ad.ARRAY_TYPE(6);return Ad.ARRAY_TYPE!=Float32Array&&(l[1]=0,l[2]=0,l[4]=0,l[5]=0),l[0]=1,l[3]=1,l},yo.clone=function(l){var a=new Ad.ARRAY_TYPE(6);return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],a},yo.copy=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5],l},yo.identity=function(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l[4]=0,l[5]=0,l},yo.fromValues=function(l,a,u,p,g,b){var w=new Ad.ARRAY_TYPE(6);return w[0]=l,w[1]=a,w[2]=u,w[3]=p,w[4]=g,w[5]=b,w},yo.set=function(l,a,u,p,g,b,w){return l[0]=a,l[1]=u,l[2]=p,l[3]=g,l[4]=b,l[5]=w,l},yo.invert=function(l,a){var u=a[0],p=a[1],g=a[2],b=a[3],w=a[4],E=a[5],O=u*b-p*g;return O?(l[0]=b*(O=1/O),l[1]=-p*O,l[2]=-g*O,l[3]=u*O,l[4]=(g*E-b*w)*O,l[5]=(p*w-u*E)*O,l):null},yo.determinant=function(l){return l[0]*l[3]-l[1]*l[2]},yo.multiply=S$,yo.rotate=function(l,a,u){var p=a[0],g=a[1],b=a[2],w=a[3],E=a[4],O=a[5],R=Math.sin(u),$=Math.cos(u);return l[0]=p*$+b*R,l[1]=g*$+w*R,l[2]=p*-R+b*$,l[3]=g*-R+w*$,l[4]=E,l[5]=O,l},yo.scale=function(l,a,u){var p=a[1],g=a[2],b=a[3],w=a[4],E=a[5],O=u[0],R=u[1];return l[0]=a[0]*O,l[1]=p*O,l[2]=g*R,l[3]=b*R,l[4]=w,l[5]=E,l},yo.translate=function(l,a,u){var p=a[0],g=a[1],b=a[2],w=a[3],E=a[4],O=a[5],R=u[0],$=u[1];return l[0]=p,l[1]=g,l[2]=b,l[3]=w,l[4]=p*R+b*$+E,l[5]=g*R+w*$+O,l},yo.fromRotation=function(l,a){var u=Math.sin(a),p=Math.cos(a);return l[0]=p,l[1]=u,l[2]=-u,l[3]=p,l[4]=0,l[5]=0,l},yo.fromScaling=function(l,a){return l[0]=a[0],l[1]=0,l[2]=0,l[3]=a[1],l[4]=0,l[5]=0,l},yo.fromTranslation=function(l,a){return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l[4]=a[0],l[5]=a[1],l},yo.str=function(l){return"mat2d("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+", "+l[4]+", "+l[5]+")"},yo.frob=function(l){return Math.hypot(l[0],l[1],l[2],l[3],l[4],l[5],1)},yo.add=function(l,a,u){return l[0]=a[0]+u[0],l[1]=a[1]+u[1],l[2]=a[2]+u[2],l[3]=a[3]+u[3],l[4]=a[4]+u[4],l[5]=a[5]+u[5],l},yo.subtract=A$,yo.multiplyScalar=function(l,a,u){return l[0]=a[0]*u,l[1]=a[1]*u,l[2]=a[2]*u,l[3]=a[3]*u,l[4]=a[4]*u,l[5]=a[5]*u,l},yo.multiplyScalarAndAdd=function(l,a,u,p){return l[0]=a[0]+u[0]*p,l[1]=a[1]+u[1]*p,l[2]=a[2]+u[2]*p,l[3]=a[3]+u[3]*p,l[4]=a[4]+u[4]*p,l[5]=a[5]+u[5]*p,l},yo.exactEquals=function(l,a){return l[0]===a[0]&&l[1]===a[1]&&l[2]===a[2]&&l[3]===a[3]&&l[4]===a[4]&&l[5]===a[5]},yo.equals=function(l,a){var u=l[0],p=l[1],g=l[2],b=l[3],w=l[4],E=l[5],O=a[0],R=a[1],$=a[2],Z=a[3],V=a[4],X=a[5];return Math.abs(u-O)<=Ad.EPSILON*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(p-R)<=Ad.EPSILON*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(g-$)<=Ad.EPSILON*Math.max(1,Math.abs(g),Math.abs($))&&Math.abs(b-Z)<=Ad.EPSILON*Math.max(1,Math.abs(b),Math.abs(Z))&&Math.abs(w-V)<=Ad.EPSILON*Math.max(1,Math.abs(w),Math.abs(V))&&Math.abs(E-X)<=Ad.EPSILON*Math.max(1,Math.abs(E),Math.abs(X))},yo.sub=yo.mul=void 0;var Ad=function(l,a){if(l&&l.__esModule)return l;if(l===null||PI(l)!=="object"&&typeof l!="function")return{default:l};var u=w$(void 0);if(u&&u.has(l))return u.get(l);var p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in l)if(b!=="default"&&Object.prototype.hasOwnProperty.call(l,b)){var w=g?Object.getOwnPropertyDescriptor(l,b):null;w&&(w.get||w.set)?Object.defineProperty(p,b,w):p[b]=l[b]}return p.default=l,u&&u.set(l,p),p}(Aa);function w$(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(w$=function(p){return p?u:a})(l)}function S$(l,a,u){var p=a[0],g=a[1],b=a[2],w=a[3],E=a[4],O=a[5],R=u[0],$=u[1],Z=u[2],V=u[3],X=u[4],Q=u[5];return l[0]=p*R+b*$,l[1]=g*R+w*$,l[2]=p*Z+b*V,l[3]=g*Z+w*V,l[4]=p*X+b*Q+E,l[5]=g*X+w*Q+O,l}function A$(l,a,u){return l[0]=a[0]-u[0],l[1]=a[1]-u[1],l[2]=a[2]-u[2],l[3]=a[3]-u[3],l[4]=a[4]-u[4],l[5]=a[5]-u[5],l}yo.mul=S$,yo.sub=A$;var ki={};function II(l){return II=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},II(l)}Object.defineProperty(ki,"__esModule",{value:!0}),ki.create=function(){var l=new ec.ARRAY_TYPE(9);return ec.ARRAY_TYPE!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[5]=0,l[6]=0,l[7]=0),l[0]=1,l[4]=1,l[8]=1,l},ki.fromMat4=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[4],l[4]=a[5],l[5]=a[6],l[6]=a[8],l[7]=a[9],l[8]=a[10],l},ki.clone=function(l){var a=new ec.ARRAY_TYPE(9);return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],a[6]=l[6],a[7]=l[7],a[8]=l[8],a},ki.copy=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5],l[6]=a[6],l[7]=a[7],l[8]=a[8],l},ki.fromValues=function(l,a,u,p,g,b,w,E,O){var R=new ec.ARRAY_TYPE(9);return R[0]=l,R[1]=a,R[2]=u,R[3]=p,R[4]=g,R[5]=b,R[6]=w,R[7]=E,R[8]=O,R},ki.set=function(l,a,u,p,g,b,w,E,O,R){return l[0]=a,l[1]=u,l[2]=p,l[3]=g,l[4]=b,l[5]=w,l[6]=E,l[7]=O,l[8]=R,l},ki.identity=function(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=1,l[5]=0,l[6]=0,l[7]=0,l[8]=1,l},ki.transpose=function(l,a){if(l===a){var u=a[1],p=a[2],g=a[5];l[1]=a[3],l[2]=a[6],l[3]=u,l[5]=a[7],l[6]=p,l[7]=g}else l[0]=a[0],l[1]=a[3],l[2]=a[6],l[3]=a[1],l[4]=a[4],l[5]=a[7],l[6]=a[2],l[7]=a[5],l[8]=a[8];return l},ki.invert=function(l,a){var u=a[0],p=a[1],g=a[2],b=a[3],w=a[4],E=a[5],O=a[6],R=a[7],$=a[8],Z=$*w-E*R,V=-$*b+E*O,X=R*b-w*O,Q=u*Z+p*V+g*X;return Q?(l[0]=Z*(Q=1/Q),l[1]=(-$*p+g*R)*Q,l[2]=(E*p-g*w)*Q,l[3]=V*Q,l[4]=($*u-g*O)*Q,l[5]=(-E*u+g*b)*Q,l[6]=X*Q,l[7]=(-R*u+p*O)*Q,l[8]=(w*u-p*b)*Q,l):null},ki.adjoint=function(l,a){var u=a[0],p=a[1],g=a[2],b=a[3],w=a[4],E=a[5],O=a[6],R=a[7],$=a[8];return l[0]=w*$-E*R,l[1]=g*R-p*$,l[2]=p*E-g*w,l[3]=E*O-b*$,l[4]=u*$-g*O,l[5]=g*b-u*E,l[6]=b*R-w*O,l[7]=p*O-u*R,l[8]=u*w-p*b,l},ki.determinant=function(l){var a=l[3],u=l[4],p=l[5],g=l[6],b=l[7],w=l[8];return l[0]*(w*u-p*b)+l[1]*(-w*a+p*g)+l[2]*(b*a-u*g)},ki.multiply=M$,ki.translate=function(l,a,u){var p=a[0],g=a[1],b=a[2],w=a[3],E=a[4],O=a[5],R=a[6],$=a[7],Z=a[8],V=u[0],X=u[1];return l[0]=p,l[1]=g,l[2]=b,l[3]=w,l[4]=E,l[5]=O,l[6]=V*p+X*w+R,l[7]=V*g+X*E+$,l[8]=V*b+X*O+Z,l},ki.rotate=function(l,a,u){var p=a[0],g=a[1],b=a[2],w=a[3],E=a[4],O=a[5],R=a[6],$=a[7],Z=a[8],V=Math.sin(u),X=Math.cos(u);return l[0]=X*p+V*w,l[1]=X*g+V*E,l[2]=X*b+V*O,l[3]=X*w-V*p,l[4]=X*E-V*g,l[5]=X*O-V*b,l[6]=R,l[7]=$,l[8]=Z,l},ki.scale=function(l,a,u){var p=u[0],g=u[1];return l[0]=p*a[0],l[1]=p*a[1],l[2]=p*a[2],l[3]=g*a[3],l[4]=g*a[4],l[5]=g*a[5],l[6]=a[6],l[7]=a[7],l[8]=a[8],l},ki.fromTranslation=function(l,a){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=1,l[5]=0,l[6]=a[0],l[7]=a[1],l[8]=1,l},ki.fromRotation=function(l,a){var u=Math.sin(a),p=Math.cos(a);return l[0]=p,l[1]=u,l[2]=0,l[3]=-u,l[4]=p,l[5]=0,l[6]=0,l[7]=0,l[8]=1,l},ki.fromScaling=function(l,a){return l[0]=a[0],l[1]=0,l[2]=0,l[3]=0,l[4]=a[1],l[5]=0,l[6]=0,l[7]=0,l[8]=1,l},ki.fromMat2d=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=0,l[3]=a[2],l[4]=a[3],l[5]=0,l[6]=a[4],l[7]=a[5],l[8]=1,l},ki.fromQuat=function(l,a){var u=a[0],p=a[1],g=a[2],b=a[3],w=u+u,E=p+p,O=g+g,R=u*w,$=p*w,Z=p*E,V=g*w,X=g*E,Q=g*O,ne=b*w,ce=b*E,ge=b*O;return l[0]=1-Z-Q,l[3]=$-ge,l[6]=V+ce,l[1]=$+ge,l[4]=1-R-Q,l[7]=X-ne,l[2]=V-ce,l[5]=X+ne,l[8]=1-R-Z,l},ki.normalFromMat4=function(l,a){var u=a[0],p=a[1],g=a[2],b=a[3],w=a[4],E=a[5],O=a[6],R=a[7],$=a[8],Z=a[9],V=a[10],X=a[11],Q=a[12],ne=a[13],ce=a[14],ge=a[15],Te=u*E-p*w,ke=u*O-g*w,Ie=u*R-b*w,Be=p*O-g*E,Fe=p*R-b*E,Ke=g*R-b*O,tt=$*ne-Z*Q,ht=$*ce-V*Q,wt=$*ge-X*Q,mt=Z*ce-V*ne,Ft=Z*ge-X*ne,qt=V*ge-X*ce,Ot=Te*qt-ke*Ft+Ie*mt+Be*wt-Fe*ht+Ke*tt;return Ot?(l[0]=(E*qt-O*Ft+R*mt)*(Ot=1/Ot),l[1]=(O*wt-w*qt-R*ht)*Ot,l[2]=(w*Ft-E*wt+R*tt)*Ot,l[3]=(g*Ft-p*qt-b*mt)*Ot,l[4]=(u*qt-g*wt+b*ht)*Ot,l[5]=(p*wt-u*Ft-b*tt)*Ot,l[6]=(ne*Ke-ce*Fe+ge*Be)*Ot,l[7]=(ce*Ie-Q*Ke-ge*ke)*Ot,l[8]=(Q*Fe-ne*Ie+ge*Te)*Ot,l):null},ki.projection=function(l,a,u){return l[0]=2/a,l[1]=0,l[2]=0,l[3]=0,l[4]=-2/u,l[5]=0,l[6]=-1,l[7]=1,l[8]=1,l},ki.str=function(l){return"mat3("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+", "+l[4]+", "+l[5]+", "+l[6]+", "+l[7]+", "+l[8]+")"},ki.frob=function(l){return Math.hypot(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8])},ki.add=function(l,a,u){return l[0]=a[0]+u[0],l[1]=a[1]+u[1],l[2]=a[2]+u[2],l[3]=a[3]+u[3],l[4]=a[4]+u[4],l[5]=a[5]+u[5],l[6]=a[6]+u[6],l[7]=a[7]+u[7],l[8]=a[8]+u[8],l},ki.subtract=E$,ki.multiplyScalar=function(l,a,u){return l[0]=a[0]*u,l[1]=a[1]*u,l[2]=a[2]*u,l[3]=a[3]*u,l[4]=a[4]*u,l[5]=a[5]*u,l[6]=a[6]*u,l[7]=a[7]*u,l[8]=a[8]*u,l},ki.multiplyScalarAndAdd=function(l,a,u,p){return l[0]=a[0]+u[0]*p,l[1]=a[1]+u[1]*p,l[2]=a[2]+u[2]*p,l[3]=a[3]+u[3]*p,l[4]=a[4]+u[4]*p,l[5]=a[5]+u[5]*p,l[6]=a[6]+u[6]*p,l[7]=a[7]+u[7]*p,l[8]=a[8]+u[8]*p,l},ki.exactEquals=function(l,a){return l[0]===a[0]&&l[1]===a[1]&&l[2]===a[2]&&l[3]===a[3]&&l[4]===a[4]&&l[5]===a[5]&&l[6]===a[6]&&l[7]===a[7]&&l[8]===a[8]},ki.equals=function(l,a){var u=l[0],p=l[1],g=l[2],b=l[3],w=l[4],E=l[5],O=l[6],R=l[7],$=l[8],Z=a[0],V=a[1],X=a[2],Q=a[3],ne=a[4],ce=a[5],ge=a[6],Te=a[7],ke=a[8];return Math.abs(u-Z)<=ec.EPSILON*Math.max(1,Math.abs(u),Math.abs(Z))&&Math.abs(p-V)<=ec.EPSILON*Math.max(1,Math.abs(p),Math.abs(V))&&Math.abs(g-X)<=ec.EPSILON*Math.max(1,Math.abs(g),Math.abs(X))&&Math.abs(b-Q)<=ec.EPSILON*Math.max(1,Math.abs(b),Math.abs(Q))&&Math.abs(w-ne)<=ec.EPSILON*Math.max(1,Math.abs(w),Math.abs(ne))&&Math.abs(E-ce)<=ec.EPSILON*Math.max(1,Math.abs(E),Math.abs(ce))&&Math.abs(O-ge)<=ec.EPSILON*Math.max(1,Math.abs(O),Math.abs(ge))&&Math.abs(R-Te)<=ec.EPSILON*Math.max(1,Math.abs(R),Math.abs(Te))&&Math.abs($-ke)<=ec.EPSILON*Math.max(1,Math.abs($),Math.abs(ke))},ki.sub=ki.mul=void 0;var ec=function(l,a){if(l&&l.__esModule)return l;if(l===null||II(l)!=="object"&&typeof l!="function")return{default:l};var u=C$(void 0);if(u&&u.has(l))return u.get(l);var p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in l)if(b!=="default"&&Object.prototype.hasOwnProperty.call(l,b)){var w=g?Object.getOwnPropertyDescriptor(l,b):null;w&&(w.get||w.set)?Object.defineProperty(p,b,w):p[b]=l[b]}return p.default=l,u&&u.set(l,p),p}(Aa);function C$(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(C$=function(p){return p?u:a})(l)}function M$(l,a,u){var p=a[0],g=a[1],b=a[2],w=a[3],E=a[4],O=a[5],R=a[6],$=a[7],Z=a[8],V=u[0],X=u[1],Q=u[2],ne=u[3],ce=u[4],ge=u[5],Te=u[6],ke=u[7],Ie=u[8];return l[0]=V*p+X*w+Q*R,l[1]=V*g+X*E+Q*$,l[2]=V*b+X*O+Q*Z,l[3]=ne*p+ce*w+ge*R,l[4]=ne*g+ce*E+ge*$,l[5]=ne*b+ce*O+ge*Z,l[6]=Te*p+ke*w+Ie*R,l[7]=Te*g+ke*E+Ie*$,l[8]=Te*b+ke*O+Ie*Z,l}function E$(l,a,u){return l[0]=a[0]-u[0],l[1]=a[1]-u[1],l[2]=a[2]-u[2],l[3]=a[3]-u[3],l[4]=a[4]-u[4],l[5]=a[5]-u[5],l[6]=a[6]-u[6],l[7]=a[7]-u[7],l[8]=a[8]-u[8],l}ki.mul=M$,ki.sub=E$;var Dr={};function OI(l){return OI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},OI(l)}Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.create=function(){var l=new Io.ARRAY_TYPE(16);return Io.ARRAY_TYPE!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=0,l[12]=0,l[13]=0,l[14]=0),l[0]=1,l[5]=1,l[10]=1,l[15]=1,l},Dr.clone=function(l){var a=new Io.ARRAY_TYPE(16);return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],a[6]=l[6],a[7]=l[7],a[8]=l[8],a[9]=l[9],a[10]=l[10],a[11]=l[11],a[12]=l[12],a[13]=l[13],a[14]=l[14],a[15]=l[15],a},Dr.copy=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5],l[6]=a[6],l[7]=a[7],l[8]=a[8],l[9]=a[9],l[10]=a[10],l[11]=a[11],l[12]=a[12],l[13]=a[13],l[14]=a[14],l[15]=a[15],l},Dr.fromValues=function(l,a,u,p,g,b,w,E,O,R,$,Z,V,X,Q,ne){var ce=new Io.ARRAY_TYPE(16);return ce[0]=l,ce[1]=a,ce[2]=u,ce[3]=p,ce[4]=g,ce[5]=b,ce[6]=w,ce[7]=E,ce[8]=O,ce[9]=R,ce[10]=$,ce[11]=Z,ce[12]=V,ce[13]=X,ce[14]=Q,ce[15]=ne,ce},Dr.set=function(l,a,u,p,g,b,w,E,O,R,$,Z,V,X,Q,ne,ce){return l[0]=a,l[1]=u,l[2]=p,l[3]=g,l[4]=b,l[5]=w,l[6]=E,l[7]=O,l[8]=R,l[9]=$,l[10]=Z,l[11]=V,l[12]=X,l[13]=Q,l[14]=ne,l[15]=ce,l},Dr.identity=P$,Dr.transpose=function(l,a){if(l===a){var u=a[1],p=a[2],g=a[3],b=a[6],w=a[7],E=a[11];l[1]=a[4],l[2]=a[8],l[3]=a[12],l[4]=u,l[6]=a[9],l[7]=a[13],l[8]=p,l[9]=b,l[11]=a[14],l[12]=g,l[13]=w,l[14]=E}else l[0]=a[0],l[1]=a[4],l[2]=a[8],l[3]=a[12],l[4]=a[1],l[5]=a[5],l[6]=a[9],l[7]=a[13],l[8]=a[2],l[9]=a[6],l[10]=a[10],l[11]=a[14],l[12]=a[3],l[13]=a[7],l[14]=a[11],l[15]=a[15];return l},Dr.invert=function(l,a){var u=a[0],p=a[1],g=a[2],b=a[3],w=a[4],E=a[5],O=a[6],R=a[7],$=a[8],Z=a[9],V=a[10],X=a[11],Q=a[12],ne=a[13],ce=a[14],ge=a[15],Te=u*E-p*w,ke=u*O-g*w,Ie=u*R-b*w,Be=p*O-g*E,Fe=p*R-b*E,Ke=g*R-b*O,tt=$*ne-Z*Q,ht=$*ce-V*Q,wt=$*ge-X*Q,mt=Z*ce-V*ne,Ft=Z*ge-X*ne,qt=V*ge-X*ce,Ot=Te*qt-ke*Ft+Ie*mt+Be*wt-Fe*ht+Ke*tt;return Ot?(l[0]=(E*qt-O*Ft+R*mt)*(Ot=1/Ot),l[1]=(g*Ft-p*qt-b*mt)*Ot,l[2]=(ne*Ke-ce*Fe+ge*Be)*Ot,l[3]=(V*Fe-Z*Ke-X*Be)*Ot,l[4]=(O*wt-w*qt-R*ht)*Ot,l[5]=(u*qt-g*wt+b*ht)*Ot,l[6]=(ce*Ie-Q*Ke-ge*ke)*Ot,l[7]=($*Ke-V*Ie+X*ke)*Ot,l[8]=(w*Ft-E*wt+R*tt)*Ot,l[9]=(p*wt-u*Ft-b*tt)*Ot,l[10]=(Q*Fe-ne*Ie+ge*Te)*Ot,l[11]=(Z*Ie-$*Fe-X*Te)*Ot,l[12]=(E*ht-w*mt-O*tt)*Ot,l[13]=(u*mt-p*ht+g*tt)*Ot,l[14]=(ne*ke-Q*Be-ce*Te)*Ot,l[15]=($*Be-Z*ke+V*Te)*Ot,l):null},Dr.adjoint=function(l,a){var u=a[0],p=a[1],g=a[2],b=a[3],w=a[4],E=a[5],O=a[6],R=a[7],$=a[8],Z=a[9],V=a[10],X=a[11],Q=a[12],ne=a[13],ce=a[14],ge=a[15];return l[0]=E*(V*ge-X*ce)-Z*(O*ge-R*ce)+ne*(O*X-R*V),l[1]=-(p*(V*ge-X*ce)-Z*(g*ge-b*ce)+ne*(g*X-b*V)),l[2]=p*(O*ge-R*ce)-E*(g*ge-b*ce)+ne*(g*R-b*O),l[3]=-(p*(O*X-R*V)-E*(g*X-b*V)+Z*(g*R-b*O)),l[4]=-(w*(V*ge-X*ce)-$*(O*ge-R*ce)+Q*(O*X-R*V)),l[5]=u*(V*ge-X*ce)-$*(g*ge-b*ce)+Q*(g*X-b*V),l[6]=-(u*(O*ge-R*ce)-w*(g*ge-b*ce)+Q*(g*R-b*O)),l[7]=u*(O*X-R*V)-w*(g*X-b*V)+$*(g*R-b*O),l[8]=w*(Z*ge-X*ne)-$*(E*ge-R*ne)+Q*(E*X-R*Z),l[9]=-(u*(Z*ge-X*ne)-$*(p*ge-b*ne)+Q*(p*X-b*Z)),l[10]=u*(E*ge-R*ne)-w*(p*ge-b*ne)+Q*(p*R-b*E),l[11]=-(u*(E*X-R*Z)-w*(p*X-b*Z)+$*(p*R-b*E)),l[12]=-(w*(Z*ce-V*ne)-$*(E*ce-O*ne)+Q*(E*V-O*Z)),l[13]=u*(Z*ce-V*ne)-$*(p*ce-g*ne)+Q*(p*V-g*Z),l[14]=-(u*(E*ce-O*ne)-w*(p*ce-g*ne)+Q*(p*O-g*E)),l[15]=u*(E*V-O*Z)-w*(p*V-g*Z)+$*(p*O-g*E),l},Dr.determinant=function(l){var a=l[0],u=l[1],p=l[2],g=l[3],b=l[4],w=l[5],E=l[6],O=l[7],R=l[8],$=l[9],Z=l[10],V=l[11],X=l[12],Q=l[13],ne=l[14],ce=l[15];return(a*w-u*b)*(Z*ce-V*ne)-(a*E-p*b)*($*ce-V*Q)+(a*O-g*b)*($*ne-Z*Q)+(u*E-p*w)*(R*ce-V*X)-(u*O-g*w)*(R*ne-Z*X)+(p*O-g*E)*(R*Q-$*X)},Dr.multiply=I$,Dr.translate=function(l,a,u){var p,g,b,w,E,O,R,$,Z,V,X,Q,ne=u[0],ce=u[1],ge=u[2];return a===l?(l[12]=a[0]*ne+a[4]*ce+a[8]*ge+a[12],l[13]=a[1]*ne+a[5]*ce+a[9]*ge+a[13],l[14]=a[2]*ne+a[6]*ce+a[10]*ge+a[14],l[15]=a[3]*ne+a[7]*ce+a[11]*ge+a[15]):(g=a[1],b=a[2],w=a[3],E=a[4],O=a[5],R=a[6],$=a[7],Z=a[8],V=a[9],X=a[10],Q=a[11],l[0]=p=a[0],l[1]=g,l[2]=b,l[3]=w,l[4]=E,l[5]=O,l[6]=R,l[7]=$,l[8]=Z,l[9]=V,l[10]=X,l[11]=Q,l[12]=p*ne+E*ce+Z*ge+a[12],l[13]=g*ne+O*ce+V*ge+a[13],l[14]=b*ne+R*ce+X*ge+a[14],l[15]=w*ne+$*ce+Q*ge+a[15]),l},Dr.scale=function(l,a,u){var p=u[0],g=u[1],b=u[2];return l[0]=a[0]*p,l[1]=a[1]*p,l[2]=a[2]*p,l[3]=a[3]*p,l[4]=a[4]*g,l[5]=a[5]*g,l[6]=a[6]*g,l[7]=a[7]*g,l[8]=a[8]*b,l[9]=a[9]*b,l[10]=a[10]*b,l[11]=a[11]*b,l[12]=a[12],l[13]=a[13],l[14]=a[14],l[15]=a[15],l},Dr.rotate=function(l,a,u,p){var g,b,w,E,O,R,$,Z,V,X,Q,ne,ce,ge,Te,ke,Ie,Be,Fe,Ke,tt,ht,wt,mt,Ft=p[0],qt=p[1],Ot=p[2],Wt=Math.hypot(Ft,qt,Ot);return Wt<Io.EPSILON?null:(Ft*=Wt=1/Wt,qt*=Wt,Ot*=Wt,g=Math.sin(u),b=Math.cos(u),O=a[1],R=a[2],$=a[3],V=a[5],X=a[6],Q=a[7],ce=a[9],ge=a[10],Te=a[11],ke=Ft*Ft*(w=1-b)+b,Fe=Ft*qt*w-Ot*g,Ke=qt*qt*w+b,tt=Ot*qt*w+Ft*g,ht=Ft*Ot*w+qt*g,wt=qt*Ot*w-Ft*g,mt=Ot*Ot*w+b,l[0]=(E=a[0])*ke+(Z=a[4])*(Ie=qt*Ft*w+Ot*g)+(ne=a[8])*(Be=Ot*Ft*w-qt*g),l[1]=O*ke+V*Ie+ce*Be,l[2]=R*ke+X*Ie+ge*Be,l[3]=$*ke+Q*Ie+Te*Be,l[4]=E*Fe+Z*Ke+ne*tt,l[5]=O*Fe+V*Ke+ce*tt,l[6]=R*Fe+X*Ke+ge*tt,l[7]=$*Fe+Q*Ke+Te*tt,l[8]=E*ht+Z*wt+ne*mt,l[9]=O*ht+V*wt+ce*mt,l[10]=R*ht+X*wt+ge*mt,l[11]=$*ht+Q*wt+Te*mt,a!==l&&(l[12]=a[12],l[13]=a[13],l[14]=a[14],l[15]=a[15]),l)},Dr.rotateX=function(l,a,u){var p=Math.sin(u),g=Math.cos(u),b=a[4],w=a[5],E=a[6],O=a[7],R=a[8],$=a[9],Z=a[10],V=a[11];return a!==l&&(l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[12]=a[12],l[13]=a[13],l[14]=a[14],l[15]=a[15]),l[4]=b*g+R*p,l[5]=w*g+$*p,l[6]=E*g+Z*p,l[7]=O*g+V*p,l[8]=R*g-b*p,l[9]=$*g-w*p,l[10]=Z*g-E*p,l[11]=V*g-O*p,l},Dr.rotateY=function(l,a,u){var p=Math.sin(u),g=Math.cos(u),b=a[0],w=a[1],E=a[2],O=a[3],R=a[8],$=a[9],Z=a[10],V=a[11];return a!==l&&(l[4]=a[4],l[5]=a[5],l[6]=a[6],l[7]=a[7],l[12]=a[12],l[13]=a[13],l[14]=a[14],l[15]=a[15]),l[0]=b*g-R*p,l[1]=w*g-$*p,l[2]=E*g-Z*p,l[3]=O*g-V*p,l[8]=b*p+R*g,l[9]=w*p+$*g,l[10]=E*p+Z*g,l[11]=O*p+V*g,l},Dr.rotateZ=function(l,a,u){var p=Math.sin(u),g=Math.cos(u),b=a[0],w=a[1],E=a[2],O=a[3],R=a[4],$=a[5],Z=a[6],V=a[7];return a!==l&&(l[8]=a[8],l[9]=a[9],l[10]=a[10],l[11]=a[11],l[12]=a[12],l[13]=a[13],l[14]=a[14],l[15]=a[15]),l[0]=b*g+R*p,l[1]=w*g+$*p,l[2]=E*g+Z*p,l[3]=O*g+V*p,l[4]=R*g-b*p,l[5]=$*g-w*p,l[6]=Z*g-E*p,l[7]=V*g-O*p,l},Dr.fromTranslation=function(l,a){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=a[0],l[13]=a[1],l[14]=a[2],l[15]=1,l},Dr.fromScaling=function(l,a){return l[0]=a[0],l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=a[1],l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=a[2],l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},Dr.fromRotation=function(l,a,u){var p,g,b,w=u[0],E=u[1],O=u[2],R=Math.hypot(w,E,O);return R<Io.EPSILON?null:(w*=R=1/R,E*=R,O*=R,p=Math.sin(a),g=Math.cos(a),l[0]=w*w*(b=1-g)+g,l[1]=E*w*b+O*p,l[2]=O*w*b-E*p,l[3]=0,l[4]=w*E*b-O*p,l[5]=E*E*b+g,l[6]=O*E*b+w*p,l[7]=0,l[8]=w*O*b+E*p,l[9]=E*O*b-w*p,l[10]=O*O*b+g,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l)},Dr.fromXRotation=function(l,a){var u=Math.sin(a),p=Math.cos(a);return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=p,l[6]=u,l[7]=0,l[8]=0,l[9]=-u,l[10]=p,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},Dr.fromYRotation=function(l,a){var u=Math.sin(a),p=Math.cos(a);return l[0]=p,l[1]=0,l[2]=-u,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=u,l[9]=0,l[10]=p,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},Dr.fromZRotation=function(l,a){var u=Math.sin(a),p=Math.cos(a);return l[0]=p,l[1]=u,l[2]=0,l[3]=0,l[4]=-u,l[5]=p,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},Dr.fromRotationTranslation=O$,Dr.fromQuat2=function(l,a){var u=new Io.ARRAY_TYPE(3),p=-a[0],g=-a[1],b=-a[2],w=a[3],E=a[4],O=a[5],R=a[6],$=a[7],Z=p*p+g*g+b*b+w*w;return Z>0?(u[0]=2*(E*w+$*p+O*b-R*g)/Z,u[1]=2*(O*w+$*g+R*p-E*b)/Z,u[2]=2*(R*w+$*b+E*g-O*p)/Z):(u[0]=2*(E*w+$*p+O*b-R*g),u[1]=2*(O*w+$*g+R*p-E*b),u[2]=2*(R*w+$*b+E*g-O*p)),O$(l,a,u),l},Dr.getTranslation=function(l,a){return l[0]=a[12],l[1]=a[13],l[2]=a[14],l},Dr.getScaling=k$,Dr.getRotation=function(l,a){var u=new Io.ARRAY_TYPE(3);k$(u,a);var p=1/u[0],g=1/u[1],b=1/u[2],w=a[0]*p,E=a[1]*g,O=a[2]*b,R=a[4]*p,$=a[5]*g,Z=a[6]*b,V=a[8]*p,X=a[9]*g,Q=a[10]*b,ne=w+$+Q,ce=0;return ne>0?(ce=2*Math.sqrt(ne+1),l[3]=.25*ce,l[0]=(Z-X)/ce,l[1]=(V-O)/ce,l[2]=(E-R)/ce):w>$&&w>Q?(ce=2*Math.sqrt(1+w-$-Q),l[3]=(Z-X)/ce,l[0]=.25*ce,l[1]=(E+R)/ce,l[2]=(V+O)/ce):$>Q?(ce=2*Math.sqrt(1+$-w-Q),l[3]=(V-O)/ce,l[0]=(E+R)/ce,l[1]=.25*ce,l[2]=(Z+X)/ce):(ce=2*Math.sqrt(1+Q-w-$),l[3]=(E-R)/ce,l[0]=(V+O)/ce,l[1]=(Z+X)/ce,l[2]=.25*ce),l},Dr.fromRotationTranslationScale=function(l,a,u,p){var g=a[0],b=a[1],w=a[2],E=a[3],O=g+g,R=b+b,$=w+w,Z=g*O,V=g*R,X=g*$,Q=b*R,ne=b*$,ce=w*$,ge=E*O,Te=E*R,ke=E*$,Ie=p[0],Be=p[1],Fe=p[2];return l[0]=(1-(Q+ce))*Ie,l[1]=(V+ke)*Ie,l[2]=(X-Te)*Ie,l[3]=0,l[4]=(V-ke)*Be,l[5]=(1-(Z+ce))*Be,l[6]=(ne+ge)*Be,l[7]=0,l[8]=(X+Te)*Fe,l[9]=(ne-ge)*Fe,l[10]=(1-(Z+Q))*Fe,l[11]=0,l[12]=u[0],l[13]=u[1],l[14]=u[2],l[15]=1,l},Dr.fromRotationTranslationScaleOrigin=function(l,a,u,p,g){var b=a[0],w=a[1],E=a[2],O=a[3],R=b+b,$=w+w,Z=E+E,V=b*R,X=b*$,Q=b*Z,ne=w*$,ce=w*Z,ge=E*Z,Te=O*R,ke=O*$,Ie=O*Z,Be=p[0],Fe=p[1],Ke=p[2],tt=g[0],ht=g[1],wt=g[2],mt=(1-(ne+ge))*Be,Ft=(X+Ie)*Be,qt=(Q-ke)*Be,Ot=(X-Ie)*Fe,Wt=(1-(V+ge))*Fe,Mt=(ce+Te)*Fe,Vt=(Q+ke)*Ke,wn=(ce-Te)*Ke,Xt=(1-(V+ne))*Ke;return l[0]=mt,l[1]=Ft,l[2]=qt,l[3]=0,l[4]=Ot,l[5]=Wt,l[6]=Mt,l[7]=0,l[8]=Vt,l[9]=wn,l[10]=Xt,l[11]=0,l[12]=u[0]+tt-(mt*tt+Ot*ht+Vt*wt),l[13]=u[1]+ht-(Ft*tt+Wt*ht+wn*wt),l[14]=u[2]+wt-(qt*tt+Mt*ht+Xt*wt),l[15]=1,l},Dr.fromQuat=function(l,a){var u=a[0],p=a[1],g=a[2],b=a[3],w=u+u,E=p+p,O=g+g,R=u*w,$=p*w,Z=p*E,V=g*w,X=g*E,Q=g*O,ne=b*w,ce=b*E,ge=b*O;return l[0]=1-Z-Q,l[1]=$+ge,l[2]=V-ce,l[3]=0,l[4]=$-ge,l[5]=1-R-Q,l[6]=X+ne,l[7]=0,l[8]=V+ce,l[9]=X-ne,l[10]=1-R-Z,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},Dr.frustum=function(l,a,u,p,g,b,w){var E=1/(u-a),O=1/(g-p),R=1/(b-w);return l[0]=2*b*E,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=2*b*O,l[6]=0,l[7]=0,l[8]=(u+a)*E,l[9]=(g+p)*O,l[10]=(w+b)*R,l[11]=-1,l[12]=0,l[13]=0,l[14]=w*b*2*R,l[15]=0,l},Dr.perspectiveNO=N$,Dr.perspectiveZO=function(l,a,u,p,g){var b,w=1/Math.tan(a/2);return l[0]=w/u,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=w,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=-1,l[12]=0,l[13]=0,l[15]=0,g!=null&&g!==1/0?(l[10]=g*(b=1/(p-g)),l[14]=g*p*b):(l[10]=-1,l[14]=-p),l},Dr.perspectiveFromFieldOfView=function(l,a,u,p){var g=Math.tan(a.upDegrees*Math.PI/180),b=Math.tan(a.downDegrees*Math.PI/180),w=Math.tan(a.leftDegrees*Math.PI/180),E=Math.tan(a.rightDegrees*Math.PI/180),O=2/(w+E),R=2/(g+b);return l[0]=O,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=R,l[6]=0,l[7]=0,l[8]=-(w-E)*O*.5,l[9]=(g-b)*R*.5,l[10]=p/(u-p),l[11]=-1,l[12]=0,l[13]=0,l[14]=p*u/(u-p),l[15]=0,l},Dr.orthoNO=R$,Dr.orthoZO=function(l,a,u,p,g,b,w){var E=1/(a-u),O=1/(p-g),R=1/(b-w);return l[0]=-2*E,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*O,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=R,l[11]=0,l[12]=(a+u)*E,l[13]=(g+p)*O,l[14]=b*R,l[15]=1,l},Dr.lookAt=function(l,a,u,p){var g,b,w,E,O,R,$,Z,V,X,Q=a[0],ne=a[1],ce=a[2],ge=p[0],Te=p[1],ke=p[2],Ie=u[0],Be=u[1],Fe=u[2];return Math.abs(Q-Ie)<Io.EPSILON&&Math.abs(ne-Be)<Io.EPSILON&&Math.abs(ce-Fe)<Io.EPSILON?P$(l):($=Q-Ie,Z=ne-Be,V=ce-Fe,g=Te*(V*=X=1/Math.hypot($,Z,V))-ke*(Z*=X),b=ke*($*=X)-ge*V,w=ge*Z-Te*$,(X=Math.hypot(g,b,w))?(g*=X=1/X,b*=X,w*=X):(g=0,b=0,w=0),E=Z*w-V*b,O=V*g-$*w,R=$*b-Z*g,(X=Math.hypot(E,O,R))?(E*=X=1/X,O*=X,R*=X):(E=0,O=0,R=0),l[0]=g,l[1]=E,l[2]=$,l[3]=0,l[4]=b,l[5]=O,l[6]=Z,l[7]=0,l[8]=w,l[9]=R,l[10]=V,l[11]=0,l[12]=-(g*Q+b*ne+w*ce),l[13]=-(E*Q+O*ne+R*ce),l[14]=-($*Q+Z*ne+V*ce),l[15]=1,l)},Dr.targetTo=function(l,a,u,p){var g=a[0],b=a[1],w=a[2],E=p[0],O=p[1],R=p[2],$=g-u[0],Z=b-u[1],V=w-u[2],X=$*$+Z*Z+V*V;X>0&&($*=X=1/Math.sqrt(X),Z*=X,V*=X);var Q=O*V-R*Z,ne=R*$-E*V,ce=E*Z-O*$;return(X=Q*Q+ne*ne+ce*ce)>0&&(Q*=X=1/Math.sqrt(X),ne*=X,ce*=X),l[0]=Q,l[1]=ne,l[2]=ce,l[3]=0,l[4]=Z*ce-V*ne,l[5]=V*Q-$*ce,l[6]=$*ne-Z*Q,l[7]=0,l[8]=$,l[9]=Z,l[10]=V,l[11]=0,l[12]=g,l[13]=b,l[14]=w,l[15]=1,l},Dr.str=function(l){return"mat4("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+", "+l[4]+", "+l[5]+", "+l[6]+", "+l[7]+", "+l[8]+", "+l[9]+", "+l[10]+", "+l[11]+", "+l[12]+", "+l[13]+", "+l[14]+", "+l[15]+")"},Dr.frob=function(l){return Math.hypot(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15])},Dr.add=function(l,a,u){return l[0]=a[0]+u[0],l[1]=a[1]+u[1],l[2]=a[2]+u[2],l[3]=a[3]+u[3],l[4]=a[4]+u[4],l[5]=a[5]+u[5],l[6]=a[6]+u[6],l[7]=a[7]+u[7],l[8]=a[8]+u[8],l[9]=a[9]+u[9],l[10]=a[10]+u[10],l[11]=a[11]+u[11],l[12]=a[12]+u[12],l[13]=a[13]+u[13],l[14]=a[14]+u[14],l[15]=a[15]+u[15],l},Dr.subtract=D$,Dr.multiplyScalar=function(l,a,u){return l[0]=a[0]*u,l[1]=a[1]*u,l[2]=a[2]*u,l[3]=a[3]*u,l[4]=a[4]*u,l[5]=a[5]*u,l[6]=a[6]*u,l[7]=a[7]*u,l[8]=a[8]*u,l[9]=a[9]*u,l[10]=a[10]*u,l[11]=a[11]*u,l[12]=a[12]*u,l[13]=a[13]*u,l[14]=a[14]*u,l[15]=a[15]*u,l},Dr.multiplyScalarAndAdd=function(l,a,u,p){return l[0]=a[0]+u[0]*p,l[1]=a[1]+u[1]*p,l[2]=a[2]+u[2]*p,l[3]=a[3]+u[3]*p,l[4]=a[4]+u[4]*p,l[5]=a[5]+u[5]*p,l[6]=a[6]+u[6]*p,l[7]=a[7]+u[7]*p,l[8]=a[8]+u[8]*p,l[9]=a[9]+u[9]*p,l[10]=a[10]+u[10]*p,l[11]=a[11]+u[11]*p,l[12]=a[12]+u[12]*p,l[13]=a[13]+u[13]*p,l[14]=a[14]+u[14]*p,l[15]=a[15]+u[15]*p,l},Dr.exactEquals=function(l,a){return l[0]===a[0]&&l[1]===a[1]&&l[2]===a[2]&&l[3]===a[3]&&l[4]===a[4]&&l[5]===a[5]&&l[6]===a[6]&&l[7]===a[7]&&l[8]===a[8]&&l[9]===a[9]&&l[10]===a[10]&&l[11]===a[11]&&l[12]===a[12]&&l[13]===a[13]&&l[14]===a[14]&&l[15]===a[15]},Dr.equals=function(l,a){var u=l[0],p=l[1],g=l[2],b=l[3],w=l[4],E=l[5],O=l[6],R=l[7],$=l[8],Z=l[9],V=l[10],X=l[11],Q=l[12],ne=l[13],ce=l[14],ge=l[15],Te=a[0],ke=a[1],Ie=a[2],Be=a[3],Fe=a[4],Ke=a[5],tt=a[6],ht=a[7],wt=a[8],mt=a[9],Ft=a[10],qt=a[11],Ot=a[12],Wt=a[13],Mt=a[14],Vt=a[15];return Math.abs(u-Te)<=Io.EPSILON*Math.max(1,Math.abs(u),Math.abs(Te))&&Math.abs(p-ke)<=Io.EPSILON*Math.max(1,Math.abs(p),Math.abs(ke))&&Math.abs(g-Ie)<=Io.EPSILON*Math.max(1,Math.abs(g),Math.abs(Ie))&&Math.abs(b-Be)<=Io.EPSILON*Math.max(1,Math.abs(b),Math.abs(Be))&&Math.abs(w-Fe)<=Io.EPSILON*Math.max(1,Math.abs(w),Math.abs(Fe))&&Math.abs(E-Ke)<=Io.EPSILON*Math.max(1,Math.abs(E),Math.abs(Ke))&&Math.abs(O-tt)<=Io.EPSILON*Math.max(1,Math.abs(O),Math.abs(tt))&&Math.abs(R-ht)<=Io.EPSILON*Math.max(1,Math.abs(R),Math.abs(ht))&&Math.abs($-wt)<=Io.EPSILON*Math.max(1,Math.abs($),Math.abs(wt))&&Math.abs(Z-mt)<=Io.EPSILON*Math.max(1,Math.abs(Z),Math.abs(mt))&&Math.abs(V-Ft)<=Io.EPSILON*Math.max(1,Math.abs(V),Math.abs(Ft))&&Math.abs(X-qt)<=Io.EPSILON*Math.max(1,Math.abs(X),Math.abs(qt))&&Math.abs(Q-Ot)<=Io.EPSILON*Math.max(1,Math.abs(Q),Math.abs(Ot))&&Math.abs(ne-Wt)<=Io.EPSILON*Math.max(1,Math.abs(ne),Math.abs(Wt))&&Math.abs(ce-Mt)<=Io.EPSILON*Math.max(1,Math.abs(ce),Math.abs(Mt))&&Math.abs(ge-Vt)<=Io.EPSILON*Math.max(1,Math.abs(ge),Math.abs(Vt))},Dr.sub=Dr.mul=Dr.ortho=Dr.perspective=void 0;var Io=function(l,a){if(l&&l.__esModule)return l;if(l===null||OI(l)!=="object"&&typeof l!="function")return{default:l};var u=T$(void 0);if(u&&u.has(l))return u.get(l);var p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in l)if(b!=="default"&&Object.prototype.hasOwnProperty.call(l,b)){var w=g?Object.getOwnPropertyDescriptor(l,b):null;w&&(w.get||w.set)?Object.defineProperty(p,b,w):p[b]=l[b]}return p.default=l,u&&u.set(l,p),p}(Aa);function T$(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(T$=function(p){return p?u:a})(l)}function P$(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}function I$(l,a,u){var p=a[0],g=a[1],b=a[2],w=a[3],E=a[4],O=a[5],R=a[6],$=a[7],Z=a[8],V=a[9],X=a[10],Q=a[11],ne=a[12],ce=a[13],ge=a[14],Te=a[15],ke=u[0],Ie=u[1],Be=u[2],Fe=u[3];return l[0]=ke*p+Ie*E+Be*Z+Fe*ne,l[1]=ke*g+Ie*O+Be*V+Fe*ce,l[2]=ke*b+Ie*R+Be*X+Fe*ge,l[3]=ke*w+Ie*$+Be*Q+Fe*Te,l[4]=(ke=u[4])*p+(Ie=u[5])*E+(Be=u[6])*Z+(Fe=u[7])*ne,l[5]=ke*g+Ie*O+Be*V+Fe*ce,l[6]=ke*b+Ie*R+Be*X+Fe*ge,l[7]=ke*w+Ie*$+Be*Q+Fe*Te,l[8]=(ke=u[8])*p+(Ie=u[9])*E+(Be=u[10])*Z+(Fe=u[11])*ne,l[9]=ke*g+Ie*O+Be*V+Fe*ce,l[10]=ke*b+Ie*R+Be*X+Fe*ge,l[11]=ke*w+Ie*$+Be*Q+Fe*Te,l[12]=(ke=u[12])*p+(Ie=u[13])*E+(Be=u[14])*Z+(Fe=u[15])*ne,l[13]=ke*g+Ie*O+Be*V+Fe*ce,l[14]=ke*b+Ie*R+Be*X+Fe*ge,l[15]=ke*w+Ie*$+Be*Q+Fe*Te,l}function O$(l,a,u){var p=a[0],g=a[1],b=a[2],w=a[3],E=p+p,O=g+g,R=b+b,$=p*E,Z=p*O,V=p*R,X=g*O,Q=g*R,ne=b*R,ce=w*E,ge=w*O,Te=w*R;return l[0]=1-(X+ne),l[1]=Z+Te,l[2]=V-ge,l[3]=0,l[4]=Z-Te,l[5]=1-($+ne),l[6]=Q+ce,l[7]=0,l[8]=V+ge,l[9]=Q-ce,l[10]=1-($+X),l[11]=0,l[12]=u[0],l[13]=u[1],l[14]=u[2],l[15]=1,l}function k$(l,a){var u=a[4],p=a[5],g=a[6],b=a[8],w=a[9],E=a[10];return l[0]=Math.hypot(a[0],a[1],a[2]),l[1]=Math.hypot(u,p,g),l[2]=Math.hypot(b,w,E),l}function N$(l,a,u,p,g){var b,w=1/Math.tan(a/2);return l[0]=w/u,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=w,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=-1,l[12]=0,l[13]=0,l[15]=0,g!=null&&g!==1/0?(l[10]=(g+p)*(b=1/(p-g)),l[14]=2*g*p*b):(l[10]=-1,l[14]=-2*p),l}function R$(l,a,u,p,g,b,w){var E=1/(a-u),O=1/(p-g),R=1/(b-w);return l[0]=-2*E,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*O,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*R,l[11]=0,l[12]=(a+u)*E,l[13]=(g+p)*O,l[14]=(w+b)*R,l[15]=1,l}function D$(l,a,u){return l[0]=a[0]-u[0],l[1]=a[1]-u[1],l[2]=a[2]-u[2],l[3]=a[3]-u[3],l[4]=a[4]-u[4],l[5]=a[5]-u[5],l[6]=a[6]-u[6],l[7]=a[7]-u[7],l[8]=a[8]-u[8],l[9]=a[9]-u[9],l[10]=a[10]-u[10],l[11]=a[11]-u[11],l[12]=a[12]-u[12],l[13]=a[13]-u[13],l[14]=a[14]-u[14],l[15]=a[15]-u[15],l}Dr.perspective=N$,Dr.ortho=R$,Dr.mul=I$,Dr.sub=D$;var Ir={},Rr={};function kI(l){return kI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},kI(l)}Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.create=F$,Rr.clone=function(l){var a=new _h.ARRAY_TYPE(3);return a[0]=l[0],a[1]=l[1],a[2]=l[2],a},Rr.length=$$,Rr.fromValues=function(l,a,u){var p=new _h.ARRAY_TYPE(3);return p[0]=l,p[1]=a,p[2]=u,p},Rr.copy=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l},Rr.set=function(l,a,u,p){return l[0]=a,l[1]=u,l[2]=p,l},Rr.add=function(l,a,u){return l[0]=a[0]+u[0],l[1]=a[1]+u[1],l[2]=a[2]+u[2],l},Rr.subtract=j$,Rr.multiply=z$,Rr.divide=B$,Rr.ceil=function(l,a){return l[0]=Math.ceil(a[0]),l[1]=Math.ceil(a[1]),l[2]=Math.ceil(a[2]),l},Rr.floor=function(l,a){return l[0]=Math.floor(a[0]),l[1]=Math.floor(a[1]),l[2]=Math.floor(a[2]),l},Rr.min=function(l,a,u){return l[0]=Math.min(a[0],u[0]),l[1]=Math.min(a[1],u[1]),l[2]=Math.min(a[2],u[2]),l},Rr.max=function(l,a,u){return l[0]=Math.max(a[0],u[0]),l[1]=Math.max(a[1],u[1]),l[2]=Math.max(a[2],u[2]),l},Rr.round=function(l,a){return l[0]=Math.round(a[0]),l[1]=Math.round(a[1]),l[2]=Math.round(a[2]),l},Rr.scale=function(l,a,u){return l[0]=a[0]*u,l[1]=a[1]*u,l[2]=a[2]*u,l},Rr.scaleAndAdd=function(l,a,u,p){return l[0]=a[0]+u[0]*p,l[1]=a[1]+u[1]*p,l[2]=a[2]+u[2]*p,l},Rr.distance=Z$,Rr.squaredDistance=U$,Rr.squaredLength=H$,Rr.negate=function(l,a){return l[0]=-a[0],l[1]=-a[1],l[2]=-a[2],l},Rr.inverse=function(l,a){return l[0]=1/a[0],l[1]=1/a[1],l[2]=1/a[2],l},Rr.normalize=function(l,a){var u=a[0],p=a[1],g=a[2],b=u*u+p*p+g*g;return b>0&&(b=1/Math.sqrt(b)),l[0]=a[0]*b,l[1]=a[1]*b,l[2]=a[2]*b,l},Rr.dot=V$,Rr.cross=function(l,a,u){var p=a[0],g=a[1],b=a[2],w=u[0],E=u[1],O=u[2];return l[0]=g*O-b*E,l[1]=b*w-p*O,l[2]=p*E-g*w,l},Rr.lerp=function(l,a,u,p){var g=a[0],b=a[1],w=a[2];return l[0]=g+p*(u[0]-g),l[1]=b+p*(u[1]-b),l[2]=w+p*(u[2]-w),l},Rr.hermite=function(l,a,u,p,g,b){var w=b*b,E=w*(2*b-3)+1,O=w*(b-2)+b,R=w*(b-1),$=w*(3-2*b);return l[0]=a[0]*E+u[0]*O+p[0]*R+g[0]*$,l[1]=a[1]*E+u[1]*O+p[1]*R+g[1]*$,l[2]=a[2]*E+u[2]*O+p[2]*R+g[2]*$,l},Rr.bezier=function(l,a,u,p,g,b){var w=1-b,E=w*w,O=b*b,R=E*w,$=3*b*E,Z=3*O*w,V=O*b;return l[0]=a[0]*R+u[0]*$+p[0]*Z+g[0]*V,l[1]=a[1]*R+u[1]*$+p[1]*Z+g[1]*V,l[2]=a[2]*R+u[2]*$+p[2]*Z+g[2]*V,l},Rr.random=function(l,a){a=a||1;var u=2*_h.RANDOM()*Math.PI,p=2*_h.RANDOM()-1,g=Math.sqrt(1-p*p)*a;return l[0]=Math.cos(u)*g,l[1]=Math.sin(u)*g,l[2]=p*a,l},Rr.transformMat4=function(l,a,u){var p=a[0],g=a[1],b=a[2],w=u[3]*p+u[7]*g+u[11]*b+u[15];return l[0]=(u[0]*p+u[4]*g+u[8]*b+u[12])/(w=w||1),l[1]=(u[1]*p+u[5]*g+u[9]*b+u[13])/w,l[2]=(u[2]*p+u[6]*g+u[10]*b+u[14])/w,l},Rr.transformMat3=function(l,a,u){var p=a[0],g=a[1],b=a[2];return l[0]=p*u[0]+g*u[3]+b*u[6],l[1]=p*u[1]+g*u[4]+b*u[7],l[2]=p*u[2]+g*u[5]+b*u[8],l},Rr.transformQuat=function(l,a,u){var p=u[0],g=u[1],b=u[2],w=a[0],E=a[1],O=a[2],R=g*O-b*E,$=b*w-p*O,Z=p*E-g*w,V=g*Z-b*$,X=b*R-p*Z,Q=p*$-g*R,ne=2*u[3];return $*=ne,Z*=ne,X*=2,Q*=2,l[0]=w+(R*=ne)+(V*=2),l[1]=E+$+X,l[2]=O+Z+Q,l},Rr.rotateX=function(l,a,u,p){var g=[],b=[];return g[0]=a[0]-u[0],g[1]=a[1]-u[1],g[2]=a[2]-u[2],b[0]=g[0],b[1]=g[1]*Math.cos(p)-g[2]*Math.sin(p),b[2]=g[1]*Math.sin(p)+g[2]*Math.cos(p),l[0]=b[0]+u[0],l[1]=b[1]+u[1],l[2]=b[2]+u[2],l},Rr.rotateY=function(l,a,u,p){var g=[],b=[];return g[0]=a[0]-u[0],g[1]=a[1]-u[1],g[2]=a[2]-u[2],b[0]=g[2]*Math.sin(p)+g[0]*Math.cos(p),b[1]=g[1],b[2]=g[2]*Math.cos(p)-g[0]*Math.sin(p),l[0]=b[0]+u[0],l[1]=b[1]+u[1],l[2]=b[2]+u[2],l},Rr.rotateZ=function(l,a,u,p){var g=[],b=[];return g[0]=a[0]-u[0],g[1]=a[1]-u[1],g[2]=a[2]-u[2],b[0]=g[0]*Math.cos(p)-g[1]*Math.sin(p),b[1]=g[0]*Math.sin(p)+g[1]*Math.cos(p),b[2]=g[2],l[0]=b[0]+u[0],l[1]=b[1]+u[1],l[2]=b[2]+u[2],l},Rr.angle=function(l,a){var u=l[0],p=l[1],g=l[2],b=a[0],w=a[1],E=a[2],O=Math.sqrt(u*u+p*p+g*g)*Math.sqrt(b*b+w*w+E*E),R=O&&V$(l,a)/O;return Math.acos(Math.min(Math.max(R,-1),1))},Rr.zero=function(l){return l[0]=0,l[1]=0,l[2]=0,l},Rr.str=function(l){return"vec3("+l[0]+", "+l[1]+", "+l[2]+")"},Rr.exactEquals=function(l,a){return l[0]===a[0]&&l[1]===a[1]&&l[2]===a[2]},Rr.equals=function(l,a){var u=l[0],p=l[1],g=l[2],b=a[0],w=a[1],E=a[2];return Math.abs(u-b)<=_h.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(p-w)<=_h.EPSILON*Math.max(1,Math.abs(p),Math.abs(w))&&Math.abs(g-E)<=_h.EPSILON*Math.max(1,Math.abs(g),Math.abs(E))},Rr.forEach=Rr.sqrLen=Rr.len=Rr.sqrDist=Rr.dist=Rr.div=Rr.mul=Rr.sub=void 0;var _h=function(l,a){if(l&&l.__esModule)return l;if(l===null||kI(l)!=="object"&&typeof l!="function")return{default:l};var u=L$(void 0);if(u&&u.has(l))return u.get(l);var p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in l)if(b!=="default"&&Object.prototype.hasOwnProperty.call(l,b)){var w=g?Object.getOwnPropertyDescriptor(l,b):null;w&&(w.get||w.set)?Object.defineProperty(p,b,w):p[b]=l[b]}return p.default=l,u&&u.set(l,p),p}(Aa);function L$(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(L$=function(p){return p?u:a})(l)}function F$(){var l=new _h.ARRAY_TYPE(3);return _h.ARRAY_TYPE!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0),l}function $$(l){return Math.hypot(l[0],l[1],l[2])}function j$(l,a,u){return l[0]=a[0]-u[0],l[1]=a[1]-u[1],l[2]=a[2]-u[2],l}function z$(l,a,u){return l[0]=a[0]*u[0],l[1]=a[1]*u[1],l[2]=a[2]*u[2],l}function B$(l,a,u){return l[0]=a[0]/u[0],l[1]=a[1]/u[1],l[2]=a[2]/u[2],l}function Z$(l,a){return Math.hypot(a[0]-l[0],a[1]-l[1],a[2]-l[2])}function U$(l,a){var u=a[0]-l[0],p=a[1]-l[1],g=a[2]-l[2];return u*u+p*p+g*g}function H$(l){var a=l[0],u=l[1],p=l[2];return a*a+u*u+p*p}function V$(l,a){return l[0]*a[0]+l[1]*a[1]+l[2]*a[2]}Rr.sub=j$,Rr.mul=z$,Rr.div=B$,Rr.dist=Z$,Rr.sqrDist=U$,Rr.len=$$,Rr.sqrLen=H$;var xh,mme=(xh=F$(),function(l,a,u,p,g,b){var w,E;for(a||(a=3),u||(u=0),E=p?Math.min(p*a+u,l.length):l.length,w=u;w<E;w+=a)xh[0]=l[w],xh[1]=l[w+1],xh[2]=l[w+2],g(xh,xh,b),l[w]=xh[0],l[w+1]=xh[1],l[w+2]=xh[2];return l});Rr.forEach=mme;var Vr={};function NI(l){return NI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},NI(l)}Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.create=G$,Vr.clone=function(l){var a=new $c.ARRAY_TYPE(4);return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a},Vr.fromValues=function(l,a,u,p){var g=new $c.ARRAY_TYPE(4);return g[0]=l,g[1]=a,g[2]=u,g[3]=p,g},Vr.copy=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l},Vr.set=function(l,a,u,p,g){return l[0]=a,l[1]=u,l[2]=p,l[3]=g,l},Vr.add=function(l,a,u){return l[0]=a[0]+u[0],l[1]=a[1]+u[1],l[2]=a[2]+u[2],l[3]=a[3]+u[3],l},Vr.subtract=K$,Vr.multiply=q$,Vr.divide=X$,Vr.ceil=function(l,a){return l[0]=Math.ceil(a[0]),l[1]=Math.ceil(a[1]),l[2]=Math.ceil(a[2]),l[3]=Math.ceil(a[3]),l},Vr.floor=function(l,a){return l[0]=Math.floor(a[0]),l[1]=Math.floor(a[1]),l[2]=Math.floor(a[2]),l[3]=Math.floor(a[3]),l},Vr.min=function(l,a,u){return l[0]=Math.min(a[0],u[0]),l[1]=Math.min(a[1],u[1]),l[2]=Math.min(a[2],u[2]),l[3]=Math.min(a[3],u[3]),l},Vr.max=function(l,a,u){return l[0]=Math.max(a[0],u[0]),l[1]=Math.max(a[1],u[1]),l[2]=Math.max(a[2],u[2]),l[3]=Math.max(a[3],u[3]),l},Vr.round=function(l,a){return l[0]=Math.round(a[0]),l[1]=Math.round(a[1]),l[2]=Math.round(a[2]),l[3]=Math.round(a[3]),l},Vr.scale=function(l,a,u){return l[0]=a[0]*u,l[1]=a[1]*u,l[2]=a[2]*u,l[3]=a[3]*u,l},Vr.scaleAndAdd=function(l,a,u,p){return l[0]=a[0]+u[0]*p,l[1]=a[1]+u[1]*p,l[2]=a[2]+u[2]*p,l[3]=a[3]+u[3]*p,l},Vr.distance=Y$,Vr.squaredDistance=J$,Vr.length=Q$,Vr.squaredLength=ej,Vr.negate=function(l,a){return l[0]=-a[0],l[1]=-a[1],l[2]=-a[2],l[3]=-a[3],l},Vr.inverse=function(l,a){return l[0]=1/a[0],l[1]=1/a[1],l[2]=1/a[2],l[3]=1/a[3],l},Vr.normalize=function(l,a){var u=a[0],p=a[1],g=a[2],b=a[3],w=u*u+p*p+g*g+b*b;return w>0&&(w=1/Math.sqrt(w)),l[0]=u*w,l[1]=p*w,l[2]=g*w,l[3]=b*w,l},Vr.dot=function(l,a){return l[0]*a[0]+l[1]*a[1]+l[2]*a[2]+l[3]*a[3]},Vr.cross=function(l,a,u,p){var g=u[0]*p[1]-u[1]*p[0],b=u[0]*p[2]-u[2]*p[0],w=u[0]*p[3]-u[3]*p[0],E=u[1]*p[2]-u[2]*p[1],O=u[1]*p[3]-u[3]*p[1],R=u[2]*p[3]-u[3]*p[2],$=a[0],Z=a[1],V=a[2],X=a[3];return l[0]=Z*R-V*O+X*E,l[1]=-$*R+V*w-X*b,l[2]=$*O-Z*w+X*g,l[3]=-$*E+Z*b-V*g,l},Vr.lerp=function(l,a,u,p){var g=a[0],b=a[1],w=a[2],E=a[3];return l[0]=g+p*(u[0]-g),l[1]=b+p*(u[1]-b),l[2]=w+p*(u[2]-w),l[3]=E+p*(u[3]-E),l},Vr.random=function(l,a){var u,p,g,b,w,E;a=a||1;do w=(u=2*$c.RANDOM()-1)*u+(p=2*$c.RANDOM()-1)*p;while(w>=1);do E=(g=2*$c.RANDOM()-1)*g+(b=2*$c.RANDOM()-1)*b;while(E>=1);var O=Math.sqrt((1-w)/E);return l[0]=a*u,l[1]=a*p,l[2]=a*g*O,l[3]=a*b*O,l},Vr.transformMat4=function(l,a,u){var p=a[0],g=a[1],b=a[2],w=a[3];return l[0]=u[0]*p+u[4]*g+u[8]*b+u[12]*w,l[1]=u[1]*p+u[5]*g+u[9]*b+u[13]*w,l[2]=u[2]*p+u[6]*g+u[10]*b+u[14]*w,l[3]=u[3]*p+u[7]*g+u[11]*b+u[15]*w,l},Vr.transformQuat=function(l,a,u){var p=a[0],g=a[1],b=a[2],w=u[0],E=u[1],O=u[2],R=u[3],$=R*p+E*b-O*g,Z=R*g+O*p-w*b,V=R*b+w*g-E*p,X=-w*p-E*g-O*b;return l[0]=$*R+X*-w+Z*-O-V*-E,l[1]=Z*R+X*-E+V*-w-$*-O,l[2]=V*R+X*-O+$*-E-Z*-w,l[3]=a[3],l},Vr.zero=function(l){return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l},Vr.str=function(l){return"vec4("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+")"},Vr.exactEquals=function(l,a){return l[0]===a[0]&&l[1]===a[1]&&l[2]===a[2]&&l[3]===a[3]},Vr.equals=function(l,a){var u=l[0],p=l[1],g=l[2],b=l[3],w=a[0],E=a[1],O=a[2],R=a[3];return Math.abs(u-w)<=$c.EPSILON*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(p-E)<=$c.EPSILON*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(g-O)<=$c.EPSILON*Math.max(1,Math.abs(g),Math.abs(O))&&Math.abs(b-R)<=$c.EPSILON*Math.max(1,Math.abs(b),Math.abs(R))},Vr.forEach=Vr.sqrLen=Vr.len=Vr.sqrDist=Vr.dist=Vr.div=Vr.mul=Vr.sub=void 0;var $c=function(l,a){if(l&&l.__esModule)return l;if(l===null||NI(l)!=="object"&&typeof l!="function")return{default:l};var u=W$(void 0);if(u&&u.has(l))return u.get(l);var p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in l)if(b!=="default"&&Object.prototype.hasOwnProperty.call(l,b)){var w=g?Object.getOwnPropertyDescriptor(l,b):null;w&&(w.get||w.set)?Object.defineProperty(p,b,w):p[b]=l[b]}return p.default=l,u&&u.set(l,p),p}(Aa);function W$(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(W$=function(p){return p?u:a})(l)}function G$(){var l=new $c.ARRAY_TYPE(4);return $c.ARRAY_TYPE!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0,l[3]=0),l}function K$(l,a,u){return l[0]=a[0]-u[0],l[1]=a[1]-u[1],l[2]=a[2]-u[2],l[3]=a[3]-u[3],l}function q$(l,a,u){return l[0]=a[0]*u[0],l[1]=a[1]*u[1],l[2]=a[2]*u[2],l[3]=a[3]*u[3],l}function X$(l,a,u){return l[0]=a[0]/u[0],l[1]=a[1]/u[1],l[2]=a[2]/u[2],l[3]=a[3]/u[3],l}function Y$(l,a){return Math.hypot(a[0]-l[0],a[1]-l[1],a[2]-l[2],a[3]-l[3])}function J$(l,a){var u=a[0]-l[0],p=a[1]-l[1],g=a[2]-l[2],b=a[3]-l[3];return u*u+p*p+g*g+b*b}function Q$(l){return Math.hypot(l[0],l[1],l[2],l[3])}function ej(l){var a=l[0],u=l[1],p=l[2],g=l[3];return a*a+u*u+p*p+g*g}Vr.sub=K$,Vr.mul=q$,Vr.div=X$,Vr.dist=Y$,Vr.sqrDist=J$,Vr.len=Q$,Vr.sqrLen=ej;var gme=function(){var l=G$();return function(a,u,p,g,b,w){var E,O;for(u||(u=4),p||(p=0),O=g?Math.min(g*u+p,a.length):a.length,E=p;E<O;E+=u)l[0]=a[E],l[1]=a[E+1],l[2]=a[E+2],l[3]=a[E+3],b(l,l,w),a[E]=l[0],a[E+1]=l[1],a[E+2]=l[2],a[E+3]=l[3];return a}}();function RI(l){return RI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},RI(l)}Vr.forEach=gme,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.create=DI,Ir.identity=function(l){return l[0]=0,l[1]=0,l[2]=0,l[3]=1,l},Ir.setAxisAngle=nj,Ir.getAxisAngle=function(l,a){var u=2*Math.acos(a[3]),p=Math.sin(u/2);return p>Bm.EPSILON?(l[0]=a[0]/p,l[1]=a[1]/p,l[2]=a[2]/p):(l[0]=1,l[1]=0,l[2]=0),u},Ir.getAngle=function(l,a){var u=lj(l,a);return Math.acos(2*u*u-1)},Ir.multiply=rj,Ir.rotateX=function(l,a,u){u*=.5;var p=a[0],g=a[1],b=a[2],w=a[3],E=Math.sin(u),O=Math.cos(u);return l[0]=p*O+w*E,l[1]=g*O+b*E,l[2]=b*O-g*E,l[3]=w*O-p*E,l},Ir.rotateY=function(l,a,u){u*=.5;var p=a[0],g=a[1],b=a[2],w=a[3],E=Math.sin(u),O=Math.cos(u);return l[0]=p*O-b*E,l[1]=g*O+w*E,l[2]=b*O+p*E,l[3]=w*O-g*E,l},Ir.rotateZ=function(l,a,u){u*=.5;var p=a[0],g=a[1],b=a[2],w=a[3],E=Math.sin(u),O=Math.cos(u);return l[0]=p*O+g*E,l[1]=g*O-p*E,l[2]=b*O+w*E,l[3]=w*O-b*E,l},Ir.calculateW=function(l,a){var u=a[0],p=a[1],g=a[2];return l[0]=u,l[1]=p,l[2]=g,l[3]=Math.sqrt(Math.abs(1-u*u-p*p-g*g)),l},Ir.exp=ij,Ir.ln=oj,Ir.pow=function(l,a,u){return oj(l,a),sj(l,l,u),ij(l,l),l},Ir.slerp=T5,Ir.random=function(l){var a=Bm.RANDOM(),u=Bm.RANDOM(),p=Bm.RANDOM(),g=Math.sqrt(1-a),b=Math.sqrt(a);return l[0]=g*Math.sin(2*Math.PI*u),l[1]=g*Math.cos(2*Math.PI*u),l[2]=b*Math.sin(2*Math.PI*p),l[3]=b*Math.cos(2*Math.PI*p),l},Ir.invert=function(l,a){var u=a[0],p=a[1],g=a[2],b=a[3],w=u*u+p*p+g*g+b*b,E=w?1/w:0;return l[0]=-u*E,l[1]=-p*E,l[2]=-g*E,l[3]=b*E,l},Ir.conjugate=function(l,a){return l[0]=-a[0],l[1]=-a[1],l[2]=-a[2],l[3]=a[3],l},Ir.fromMat3=aj,Ir.fromEuler=function(l,a,u,p){var g=.5*Math.PI/180;a*=g,u*=g,p*=g;var b=Math.sin(a),w=Math.cos(a),E=Math.sin(u),O=Math.cos(u),R=Math.sin(p),$=Math.cos(p);return l[0]=b*O*$-w*E*R,l[1]=w*E*$+b*O*R,l[2]=w*O*R-b*E*$,l[3]=w*O*$+b*E*R,l},Ir.str=function(l){return"quat("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+")"},Ir.setAxes=Ir.sqlerp=Ir.rotationTo=Ir.equals=Ir.exactEquals=Ir.normalize=Ir.sqrLen=Ir.squaredLength=Ir.len=Ir.length=Ir.lerp=Ir.dot=Ir.scale=Ir.mul=Ir.add=Ir.set=Ir.copy=Ir.fromValues=Ir.clone=void 0;var Bm=E5(Aa),yme=E5(ki),wh=E5(Rr),tc=E5(Vr);function tj(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(tj=function(p){return p?u:a})(l)}function E5(l,a){if(l&&l.__esModule)return l;if(l===null||RI(l)!=="object"&&typeof l!="function")return{default:l};var u=tj(a);if(u&&u.has(l))return u.get(l);var p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in l)if(b!=="default"&&Object.prototype.hasOwnProperty.call(l,b)){var w=g?Object.getOwnPropertyDescriptor(l,b):null;w&&(w.get||w.set)?Object.defineProperty(p,b,w):p[b]=l[b]}return p.default=l,u&&u.set(l,p),p}function DI(){var l=new Bm.ARRAY_TYPE(4);return Bm.ARRAY_TYPE!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0),l[3]=1,l}function nj(l,a,u){u*=.5;var p=Math.sin(u);return l[0]=p*a[0],l[1]=p*a[1],l[2]=p*a[2],l[3]=Math.cos(u),l}function rj(l,a,u){var p=a[0],g=a[1],b=a[2],w=a[3],E=u[0],O=u[1],R=u[2],$=u[3];return l[0]=p*$+w*E+g*R-b*O,l[1]=g*$+w*O+b*E-p*R,l[2]=b*$+w*R+p*O-g*E,l[3]=w*$-p*E-g*O-b*R,l}function ij(l,a){var u=a[0],p=a[1],g=a[2],b=a[3],w=Math.sqrt(u*u+p*p+g*g),E=Math.exp(b),O=w>0?E*Math.sin(w)/w:0;return l[0]=u*O,l[1]=p*O,l[2]=g*O,l[3]=E*Math.cos(w),l}function oj(l,a){var u=a[0],p=a[1],g=a[2],b=a[3],w=Math.sqrt(u*u+p*p+g*g),E=w>0?Math.atan2(w,b)/w:0;return l[0]=u*E,l[1]=p*E,l[2]=g*E,l[3]=.5*Math.log(u*u+p*p+g*g+b*b),l}function T5(l,a,u,p){var g,b,w,E,O,R=a[0],$=a[1],Z=a[2],V=a[3],X=u[0],Q=u[1],ne=u[2],ce=u[3];return(b=R*X+$*Q+Z*ne+V*ce)<0&&(b=-b,X=-X,Q=-Q,ne=-ne,ce=-ce),1-b>Bm.EPSILON?(g=Math.acos(b),w=Math.sin(g),E=Math.sin((1-p)*g)/w,O=Math.sin(p*g)/w):(E=1-p,O=p),l[0]=E*R+O*X,l[1]=E*$+O*Q,l[2]=E*Z+O*ne,l[3]=E*V+O*ce,l}function aj(l,a){var u,p=a[0]+a[4]+a[8];if(p>0)u=Math.sqrt(p+1),l[3]=.5*u,l[0]=(a[5]-a[7])*(u=.5/u),l[1]=(a[6]-a[2])*u,l[2]=(a[1]-a[3])*u;else{var g=0;a[4]>a[0]&&(g=1),a[8]>a[3*g+g]&&(g=2);var b=(g+1)%3,w=(g+2)%3;u=Math.sqrt(a[3*g+g]-a[3*b+b]-a[3*w+w]+1),l[g]=.5*u,l[3]=(a[3*b+w]-a[3*w+b])*(u=.5/u),l[b]=(a[3*b+g]+a[3*g+b])*u,l[w]=(a[3*w+g]+a[3*g+w])*u}return l}Ir.clone=tc.clone,Ir.fromValues=tc.fromValues,Ir.copy=tc.copy,Ir.set=tc.set,Ir.add=tc.add,Ir.mul=rj;var sj=tc.scale;Ir.scale=sj;var lj=tc.dot;Ir.dot=lj,Ir.lerp=tc.lerp;var cj=tc.length;Ir.length=cj,Ir.len=cj;var uj=tc.squaredLength;Ir.squaredLength=uj,Ir.sqrLen=uj;var LI=tc.normalize;Ir.normalize=LI,Ir.exactEquals=tc.exactEquals,Ir.equals=tc.equals;var gu,dj,hj,vme=(gu=wh.create(),dj=wh.fromValues(1,0,0),hj=wh.fromValues(0,1,0),function(l,a,u){var p=wh.dot(a,u);return p<-.999999?(wh.cross(gu,dj,a),wh.len(gu)<1e-6&&wh.cross(gu,hj,a),wh.normalize(gu,gu),nj(l,gu,Math.PI),l):p>.999999?(l[0]=0,l[1]=0,l[2]=0,l[3]=1,l):(wh.cross(gu,a,u),l[0]=gu[0],l[1]=gu[1],l[2]=gu[2],l[3]=1+p,LI(l,l))});Ir.rotationTo=vme;var FI,$I,bme=(FI=DI(),$I=DI(),function(l,a,u,p,g,b){return T5(FI,a,g,b),T5($I,u,p,b),T5(l,FI,$I,2*b*(1-b)),l});Ir.sqlerp=bme;var yu,_me=(yu=yme.create(),function(l,a,u,p){return yu[0]=u[0],yu[3]=u[1],yu[6]=u[2],yu[1]=p[0],yu[4]=p[1],yu[7]=p[2],yu[2]=-a[0],yu[5]=-a[1],yu[8]=-a[2],LI(l,aj(l,yu))});Ir.setAxes=_me;var ei={};function jI(l){return jI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},jI(l)}Object.defineProperty(ei,"__esModule",{value:!0}),ei.create=function(){var l=new sl.ARRAY_TYPE(8);return sl.ARRAY_TYPE!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0,l[4]=0,l[5]=0,l[6]=0,l[7]=0),l[3]=1,l},ei.clone=function(l){var a=new sl.ARRAY_TYPE(8);return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],a[6]=l[6],a[7]=l[7],a},ei.fromValues=function(l,a,u,p,g,b,w,E){var O=new sl.ARRAY_TYPE(8);return O[0]=l,O[1]=a,O[2]=u,O[3]=p,O[4]=g,O[5]=b,O[6]=w,O[7]=E,O},ei.fromRotationTranslationValues=function(l,a,u,p,g,b,w){var E=new sl.ARRAY_TYPE(8);E[0]=l,E[1]=a,E[2]=u,E[3]=p;var O=.5*g,R=.5*b,$=.5*w;return E[4]=O*p+R*u-$*a,E[5]=R*p+$*l-O*u,E[6]=$*p+O*a-R*l,E[7]=-O*l-R*a-$*u,E},ei.fromRotationTranslation=mj,ei.fromTranslation=function(l,a){return l[0]=0,l[1]=0,l[2]=0,l[3]=1,l[4]=.5*a[0],l[5]=.5*a[1],l[6]=.5*a[2],l[7]=0,l},ei.fromRotation=function(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=0,l[5]=0,l[6]=0,l[7]=0,l},ei.fromMat4=function(l,a){var u=Sh.create();pj.getRotation(u,a);var p=new sl.ARRAY_TYPE(3);return pj.getTranslation(p,a),mj(l,u,p),l},ei.copy=gj,ei.identity=function(l){return l[0]=0,l[1]=0,l[2]=0,l[3]=1,l[4]=0,l[5]=0,l[6]=0,l[7]=0,l},ei.set=function(l,a,u,p,g,b,w,E,O){return l[0]=a,l[1]=u,l[2]=p,l[3]=g,l[4]=b,l[5]=w,l[6]=E,l[7]=O,l},ei.getDual=function(l,a){return l[0]=a[4],l[1]=a[5],l[2]=a[6],l[3]=a[7],l},ei.setDual=function(l,a){return l[4]=a[0],l[5]=a[1],l[6]=a[2],l[7]=a[3],l},ei.getTranslation=function(l,a){var u=a[4],p=a[5],g=a[6],b=a[7],w=-a[0],E=-a[1],O=-a[2],R=a[3];return l[0]=2*(u*R+b*w+p*O-g*E),l[1]=2*(p*R+b*E+g*w-u*O),l[2]=2*(g*R+b*O+u*E-p*w),l},ei.translate=function(l,a,u){var p=a[0],g=a[1],b=a[2],w=a[3],E=.5*u[0],O=.5*u[1],R=.5*u[2],$=a[4],Z=a[5],V=a[6],X=a[7];return l[0]=p,l[1]=g,l[2]=b,l[3]=w,l[4]=w*E+g*R-b*O+$,l[5]=w*O+b*E-p*R+Z,l[6]=w*R+p*O-g*E+V,l[7]=-p*E-g*O-b*R+X,l},ei.rotateX=function(l,a,u){var p=-a[0],g=-a[1],b=-a[2],w=a[3],E=a[4],O=a[5],R=a[6],$=a[7],Z=E*w+$*p+O*b-R*g,V=O*w+$*g+R*p-E*b,X=R*w+$*b+E*g-O*p,Q=$*w-E*p-O*g-R*b;return Sh.rotateX(l,a,u),l[4]=Z*(w=l[3])+Q*(p=l[0])+V*(b=l[2])-X*(g=l[1]),l[5]=V*w+Q*g+X*p-Z*b,l[6]=X*w+Q*b+Z*g-V*p,l[7]=Q*w-Z*p-V*g-X*b,l},ei.rotateY=function(l,a,u){var p=-a[0],g=-a[1],b=-a[2],w=a[3],E=a[4],O=a[5],R=a[6],$=a[7],Z=E*w+$*p+O*b-R*g,V=O*w+$*g+R*p-E*b,X=R*w+$*b+E*g-O*p,Q=$*w-E*p-O*g-R*b;return Sh.rotateY(l,a,u),l[4]=Z*(w=l[3])+Q*(p=l[0])+V*(b=l[2])-X*(g=l[1]),l[5]=V*w+Q*g+X*p-Z*b,l[6]=X*w+Q*b+Z*g-V*p,l[7]=Q*w-Z*p-V*g-X*b,l},ei.rotateZ=function(l,a,u){var p=-a[0],g=-a[1],b=-a[2],w=a[3],E=a[4],O=a[5],R=a[6],$=a[7],Z=E*w+$*p+O*b-R*g,V=O*w+$*g+R*p-E*b,X=R*w+$*b+E*g-O*p,Q=$*w-E*p-O*g-R*b;return Sh.rotateZ(l,a,u),l[4]=Z*(w=l[3])+Q*(p=l[0])+V*(b=l[2])-X*(g=l[1]),l[5]=V*w+Q*g+X*p-Z*b,l[6]=X*w+Q*b+Z*g-V*p,l[7]=Q*w-Z*p-V*g-X*b,l},ei.rotateByQuatAppend=function(l,a,u){var p=u[0],g=u[1],b=u[2],w=u[3],E=a[0],O=a[1],R=a[2],$=a[3];return l[0]=E*w+$*p+O*b-R*g,l[1]=O*w+$*g+R*p-E*b,l[2]=R*w+$*b+E*g-O*p,l[3]=$*w-E*p-O*g-R*b,l[4]=(E=a[4])*w+($=a[7])*p+(O=a[5])*b-(R=a[6])*g,l[5]=O*w+$*g+R*p-E*b,l[6]=R*w+$*b+E*g-O*p,l[7]=$*w-E*p-O*g-R*b,l},ei.rotateByQuatPrepend=function(l,a,u){var p=a[0],g=a[1],b=a[2],w=a[3],E=u[0],O=u[1],R=u[2],$=u[3];return l[0]=p*$+w*E+g*R-b*O,l[1]=g*$+w*O+b*E-p*R,l[2]=b*$+w*R+p*O-g*E,l[3]=w*$-p*E-g*O-b*R,l[4]=p*($=u[7])+w*(E=u[4])+g*(R=u[6])-b*(O=u[5]),l[5]=g*$+w*O+b*E-p*R,l[6]=b*$+w*R+p*O-g*E,l[7]=w*$-p*E-g*O-b*R,l},ei.rotateAroundAxis=function(l,a,u,p){if(Math.abs(p)<sl.EPSILON)return gj(l,a);var g=Math.hypot(u[0],u[1],u[2]);p*=.5;var b=Math.sin(p),w=b*u[0]/g,E=b*u[1]/g,O=b*u[2]/g,R=Math.cos(p),$=a[0],Z=a[1],V=a[2],X=a[3];l[0]=$*R+X*w+Z*O-V*E,l[1]=Z*R+X*E+V*w-$*O,l[2]=V*R+X*O+$*E-Z*w,l[3]=X*R-$*w-Z*E-V*O;var Q=a[4],ne=a[5],ce=a[6],ge=a[7];return l[4]=Q*R+ge*w+ne*O-ce*E,l[5]=ne*R+ge*E+ce*w-Q*O,l[6]=ce*R+ge*O+Q*E-ne*w,l[7]=ge*R-Q*w-ne*E-ce*O,l},ei.add=function(l,a,u){return l[0]=a[0]+u[0],l[1]=a[1]+u[1],l[2]=a[2]+u[2],l[3]=a[3]+u[3],l[4]=a[4]+u[4],l[5]=a[5]+u[5],l[6]=a[6]+u[6],l[7]=a[7]+u[7],l},ei.multiply=yj,ei.scale=function(l,a,u){return l[0]=a[0]*u,l[1]=a[1]*u,l[2]=a[2]*u,l[3]=a[3]*u,l[4]=a[4]*u,l[5]=a[5]*u,l[6]=a[6]*u,l[7]=a[7]*u,l},ei.lerp=function(l,a,u,p){var g=1-p;return vj(a,u)<0&&(p=-p),l[0]=a[0]*g+u[0]*p,l[1]=a[1]*g+u[1]*p,l[2]=a[2]*g+u[2]*p,l[3]=a[3]*g+u[3]*p,l[4]=a[4]*g+u[4]*p,l[5]=a[5]*g+u[5]*p,l[6]=a[6]*g+u[6]*p,l[7]=a[7]*g+u[7]*p,l},ei.invert=function(l,a){var u=P5(a);return l[0]=-a[0]/u,l[1]=-a[1]/u,l[2]=-a[2]/u,l[3]=a[3]/u,l[4]=-a[4]/u,l[5]=-a[5]/u,l[6]=-a[6]/u,l[7]=a[7]/u,l},ei.conjugate=function(l,a){return l[0]=-a[0],l[1]=-a[1],l[2]=-a[2],l[3]=a[3],l[4]=-a[4],l[5]=-a[5],l[6]=-a[6],l[7]=a[7],l},ei.normalize=function(l,a){var u=P5(a);if(u>0){u=Math.sqrt(u);var p=a[0]/u,g=a[1]/u,b=a[2]/u,w=a[3]/u,E=a[4],O=a[5],R=a[6],$=a[7],Z=p*E+g*O+b*R+w*$;l[0]=p,l[1]=g,l[2]=b,l[3]=w,l[4]=(E-p*Z)/u,l[5]=(O-g*Z)/u,l[6]=(R-b*Z)/u,l[7]=($-w*Z)/u}return l},ei.str=function(l){return"quat2("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+", "+l[4]+", "+l[5]+", "+l[6]+", "+l[7]+")"},ei.exactEquals=function(l,a){return l[0]===a[0]&&l[1]===a[1]&&l[2]===a[2]&&l[3]===a[3]&&l[4]===a[4]&&l[5]===a[5]&&l[6]===a[6]&&l[7]===a[7]},ei.equals=function(l,a){var u=l[0],p=l[1],g=l[2],b=l[3],w=l[4],E=l[5],O=l[6],R=l[7],$=a[0],Z=a[1],V=a[2],X=a[3],Q=a[4],ne=a[5],ce=a[6],ge=a[7];return Math.abs(u-$)<=sl.EPSILON*Math.max(1,Math.abs(u),Math.abs($))&&Math.abs(p-Z)<=sl.EPSILON*Math.max(1,Math.abs(p),Math.abs(Z))&&Math.abs(g-V)<=sl.EPSILON*Math.max(1,Math.abs(g),Math.abs(V))&&Math.abs(b-X)<=sl.EPSILON*Math.max(1,Math.abs(b),Math.abs(X))&&Math.abs(w-Q)<=sl.EPSILON*Math.max(1,Math.abs(w),Math.abs(Q))&&Math.abs(E-ne)<=sl.EPSILON*Math.max(1,Math.abs(E),Math.abs(ne))&&Math.abs(O-ce)<=sl.EPSILON*Math.max(1,Math.abs(O),Math.abs(ce))&&Math.abs(R-ge)<=sl.EPSILON*Math.max(1,Math.abs(R),Math.abs(ge))},ei.sqrLen=ei.squaredLength=ei.len=ei.length=ei.dot=ei.mul=ei.setReal=ei.getReal=void 0;var sl=zI(Aa),Sh=zI(Ir),pj=zI(Dr);function fj(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(fj=function(p){return p?u:a})(l)}function zI(l,a){if(l&&l.__esModule)return l;if(l===null||jI(l)!=="object"&&typeof l!="function")return{default:l};var u=fj(a);if(u&&u.has(l))return u.get(l);var p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in l)if(b!=="default"&&Object.prototype.hasOwnProperty.call(l,b)){var w=g?Object.getOwnPropertyDescriptor(l,b):null;w&&(w.get||w.set)?Object.defineProperty(p,b,w):p[b]=l[b]}return p.default=l,u&&u.set(l,p),p}function mj(l,a,u){var p=.5*u[0],g=.5*u[1],b=.5*u[2],w=a[0],E=a[1],O=a[2],R=a[3];return l[0]=w,l[1]=E,l[2]=O,l[3]=R,l[4]=p*R+g*O-b*E,l[5]=g*R+b*w-p*O,l[6]=b*R+p*E-g*w,l[7]=-p*w-g*E-b*O,l}function gj(l,a){return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5],l[6]=a[6],l[7]=a[7],l}function yj(l,a,u){var p=a[0],g=a[1],b=a[2],w=a[3],E=u[4],O=u[5],R=u[6],$=u[7],Z=a[4],V=a[5],X=a[6],Q=a[7],ne=u[0],ce=u[1],ge=u[2],Te=u[3];return l[0]=p*Te+w*ne+g*ge-b*ce,l[1]=g*Te+w*ce+b*ne-p*ge,l[2]=b*Te+w*ge+p*ce-g*ne,l[3]=w*Te-p*ne-g*ce-b*ge,l[4]=p*$+w*E+g*R-b*O+Z*Te+Q*ne+V*ge-X*ce,l[5]=g*$+w*O+b*E-p*R+V*Te+Q*ce+X*ne-Z*ge,l[6]=b*$+w*R+p*O-g*E+X*Te+Q*ge+Z*ce-V*ne,l[7]=w*$-p*E-g*O-b*R+Q*Te-Z*ne-V*ce-X*ge,l}ei.getReal=Sh.copy,ei.setReal=Sh.copy,ei.mul=yj;var vj=Sh.dot;ei.dot=vj;var bj=Sh.length;ei.length=bj,ei.len=bj;var P5=Sh.squaredLength;ei.squaredLength=P5,ei.sqrLen=P5;var Br={};function BI(l){return BI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},BI(l)}Object.defineProperty(Br,"__esModule",{value:!0}),Br.create=xj,Br.clone=function(l){var a=new Zm.ARRAY_TYPE(2);return a[0]=l[0],a[1]=l[1],a},Br.fromValues=function(l,a){var u=new Zm.ARRAY_TYPE(2);return u[0]=l,u[1]=a,u},Br.copy=function(l,a){return l[0]=a[0],l[1]=a[1],l},Br.set=function(l,a,u){return l[0]=a,l[1]=u,l},Br.add=function(l,a,u){return l[0]=a[0]+u[0],l[1]=a[1]+u[1],l},Br.subtract=wj,Br.multiply=Sj,Br.divide=Aj,Br.ceil=function(l,a){return l[0]=Math.ceil(a[0]),l[1]=Math.ceil(a[1]),l},Br.floor=function(l,a){return l[0]=Math.floor(a[0]),l[1]=Math.floor(a[1]),l},Br.min=function(l,a,u){return l[0]=Math.min(a[0],u[0]),l[1]=Math.min(a[1],u[1]),l},Br.max=function(l,a,u){return l[0]=Math.max(a[0],u[0]),l[1]=Math.max(a[1],u[1]),l},Br.round=function(l,a){return l[0]=Math.round(a[0]),l[1]=Math.round(a[1]),l},Br.scale=function(l,a,u){return l[0]=a[0]*u,l[1]=a[1]*u,l},Br.scaleAndAdd=function(l,a,u,p){return l[0]=a[0]+u[0]*p,l[1]=a[1]+u[1]*p,l},Br.distance=Cj,Br.squaredDistance=Mj,Br.length=Ej,Br.squaredLength=Tj,Br.negate=function(l,a){return l[0]=-a[0],l[1]=-a[1],l},Br.inverse=function(l,a){return l[0]=1/a[0],l[1]=1/a[1],l},Br.normalize=function(l,a){var u=a[0],p=a[1],g=u*u+p*p;return g>0&&(g=1/Math.sqrt(g)),l[0]=a[0]*g,l[1]=a[1]*g,l},Br.dot=function(l,a){return l[0]*a[0]+l[1]*a[1]},Br.cross=function(l,a,u){var p=a[0]*u[1]-a[1]*u[0];return l[0]=l[1]=0,l[2]=p,l},Br.lerp=function(l,a,u,p){var g=a[0],b=a[1];return l[0]=g+p*(u[0]-g),l[1]=b+p*(u[1]-b),l},Br.random=function(l,a){a=a||1;var u=2*Zm.RANDOM()*Math.PI;return l[0]=Math.cos(u)*a,l[1]=Math.sin(u)*a,l},Br.transformMat2=function(l,a,u){var p=a[0],g=a[1];return l[0]=u[0]*p+u[2]*g,l[1]=u[1]*p+u[3]*g,l},Br.transformMat2d=function(l,a,u){var p=a[0],g=a[1];return l[0]=u[0]*p+u[2]*g+u[4],l[1]=u[1]*p+u[3]*g+u[5],l},Br.transformMat3=function(l,a,u){var p=a[0],g=a[1];return l[0]=u[0]*p+u[3]*g+u[6],l[1]=u[1]*p+u[4]*g+u[7],l},Br.transformMat4=function(l,a,u){var p=a[0],g=a[1];return l[0]=u[0]*p+u[4]*g+u[12],l[1]=u[1]*p+u[5]*g+u[13],l},Br.rotate=function(l,a,u,p){var g=a[0]-u[0],b=a[1]-u[1],w=Math.sin(p),E=Math.cos(p);return l[0]=g*E-b*w+u[0],l[1]=g*w+b*E+u[1],l},Br.angle=function(l,a){var u=l[0],p=l[1],g=a[0],b=a[1],w=Math.sqrt(u*u+p*p)*Math.sqrt(g*g+b*b);return Math.acos(Math.min(Math.max(w&&(u*g+p*b)/w,-1),1))},Br.zero=function(l){return l[0]=0,l[1]=0,l},Br.str=function(l){return"vec2("+l[0]+", "+l[1]+")"},Br.exactEquals=function(l,a){return l[0]===a[0]&&l[1]===a[1]},Br.equals=function(l,a){var u=l[0],p=l[1],g=a[0],b=a[1];return Math.abs(u-g)<=Zm.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(p-b)<=Zm.EPSILON*Math.max(1,Math.abs(p),Math.abs(b))},Br.forEach=Br.sqrLen=Br.sqrDist=Br.dist=Br.div=Br.mul=Br.sub=Br.len=void 0;var Zm=function(l,a){if(l&&l.__esModule)return l;if(l===null||BI(l)!=="object"&&typeof l!="function")return{default:l};var u=_j(void 0);if(u&&u.has(l))return u.get(l);var p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in l)if(b!=="default"&&Object.prototype.hasOwnProperty.call(l,b)){var w=g?Object.getOwnPropertyDescriptor(l,b):null;w&&(w.get||w.set)?Object.defineProperty(p,b,w):p[b]=l[b]}return p.default=l,u&&u.set(l,p),p}(Aa);function _j(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(_j=function(p){return p?u:a})(l)}function xj(){var l=new Zm.ARRAY_TYPE(2);return Zm.ARRAY_TYPE!=Float32Array&&(l[0]=0,l[1]=0),l}function wj(l,a,u){return l[0]=a[0]-u[0],l[1]=a[1]-u[1],l}function Sj(l,a,u){return l[0]=a[0]*u[0],l[1]=a[1]*u[1],l}function Aj(l,a,u){return l[0]=a[0]/u[0],l[1]=a[1]/u[1],l}function Cj(l,a){return Math.hypot(a[0]-l[0],a[1]-l[1])}function Mj(l,a){var u=a[0]-l[0],p=a[1]-l[1];return u*u+p*p}function Ej(l){return Math.hypot(l[0],l[1])}function Tj(l){var a=l[0],u=l[1];return a*a+u*u}Br.len=Ej,Br.sub=wj,Br.mul=Sj,Br.div=Aj,Br.dist=Cj,Br.sqrDist=Mj,Br.sqrLen=Tj;var xme=function(){var l=xj();return function(a,u,p,g,b,w){var E,O;for(u||(u=2),p||(p=0),O=g?Math.min(g*u+p,a.length):a.length,E=p;E<O;E+=u)l[0]=a[E],l[1]=a[E+1],b(l,l,w),a[E]=l[0],a[E+1]=l[1];return a}}();function ZI(l){return ZI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ZI(l)}Br.forEach=xme,Object.defineProperty(Sa,"__esModule",{value:!0}),o.a7=Sa.vec4=o.N=Sa.vec3=Sa.vec2=Sa.quat2=o.bi=Sa.quat=o.a6=Sa.mat4=o.co=Sa.mat3=Sa.mat2d=o.b4=Sa.mat2=Sa.glMatrix=void 0;var wme=Cd(Aa);Sa.glMatrix=wme;var Sme=Cd(po);o.b4=Sa.mat2=Sme;var Ame=Cd(yo);Sa.mat2d=Ame;var Cme=Cd(ki);o.co=Sa.mat3=Cme;var Mme=Cd(Dr);o.a6=Sa.mat4=Mme;var Eme=Cd(Ir);o.bi=Sa.quat=Eme;var Tme=Cd(ei);Sa.quat2=Tme;var Pme=Cd(Br);Sa.vec2=Pme;var Ime=Cd(Rr);o.N=Sa.vec3=Ime;var Ome=Cd(Vr);function Pj(l){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(Pj=function(p){return p?u:a})(l)}function Cd(l,a){if(l&&l.__esModule)return l;if(l===null||ZI(l)!=="object"&&typeof l!="function")return{default:l};var u=Pj(a);if(u&&u.has(l))return u.get(l);var p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in l)if(b!=="default"&&Object.prototype.hasOwnProperty.call(l,b)){var w=g?Object.getOwnPropertyDescriptor(l,b):null;w&&(w.get||w.set)?Object.defineProperty(p,b,w):p[b]=l[b]}return p.default=l,u&&u.set(l,p),p}o.a7=Sa.vec4=Ome;class UI{constructor(a,u){this.pos=a,this.dir=u}intersectsPlane(a,u,p){const g=o.N.dot(u,this.dir);if(Math.abs(g)<1e-6)return!1;const b=((a[0]-this.pos[0])*u[0]+(a[1]-this.pos[1])*u[1]+(a[2]-this.pos[2])*u[2])/g;return p[0]=this.pos[0]+this.dir[0]*b,p[1]=this.pos[1]+this.dir[1]*b,p[2]=this.pos[2]+this.dir[2]*b,!0}closestPointOnSphere(a,u,p){if(o.N.equals(this.pos,a)||u===0)return p[0]=p[1]=p[2]=0,!1;const[g,b,w]=this.dir,E=this.pos[0]-a[0],O=this.pos[1]-a[1],R=this.pos[2]-a[2],$=g*g+b*b+w*w,Z=2*(E*g+O*b+R*w),V=Z*Z-4*$*(E*E+O*O+R*R-u*u);if(V<0){const X=Math.max(-Z/2,0),Q=E+g*X,ne=O+b*X,ce=R+w*X,ge=Math.hypot(Q,ne,ce);return p[0]=Q*u/ge,p[1]=ne*u/ge,p[2]=ce*u/ge,!1}{const X=(-Z-Math.sqrt(V))/(2*$);if(X<0){const Q=Math.hypot(E,O,R);return p[0]=E*u/Q,p[1]=O*u/Q,p[2]=R*u/Q,!1}return p[0]=E+g*X,p[1]=O+b*X,p[2]=R+w*X,!0}}}class HI{constructor(a,u,p,g,b){this.TL=a,this.TR=u,this.BR=p,this.BL=g,this.horizon=b}static fromInvProjectionMatrix(a,u,p){const g=[-1,1,1],b=[1,1,1],w=[1,-1,1],E=[-1,-1,1],O=o.N.transformMat4(g,g,a),R=o.N.transformMat4(b,b,a),$=o.N.transformMat4(w,w,a),Z=o.N.transformMat4(E,E,a);return new HI(O,R,$,Z,u/p)}}function S1(l,a,u){let p=1/0,g=-1/0;const b=[];for(const w of l){o.N.sub(b,w,a);const E=o.N.dot(b,u);p=Math.min(p,E),g=Math.max(g,E)}return[p,g]}function Ij(l,a){let u=!0;for(let p=0;p<l.planes.length;p++){const g=l.planes[p];let b=0;for(let w=0;w<a.length;w++)b+=o.N.dot(g,a[w])+g[3]>=0;if(b===0)return 0;b!==a.length&&(u=!1)}return u?2:1}function Oj(l,a){for(const u of l.projections){const p=S1(a,l.points[0],u.axis);if(u.projection[1]<p[0]||u.projection[0]>p[1])return 0}return 1}function kj(l,a){let u=0;const p=[0,0,0,0];for(let g=0;g<l.length;g++)p[0]=l[g][0],p[1]=l[g][1],p[2]=l[g][2],p[3]=1,o.a7.dot(p,a)>=0&&u++;return u}class VI{constructor(a,u){this.points=a||new Array(8).fill([0,0,0]),this.planes=u||new Array(6).fill([0,0,0,0]),this.bounds=vo.fromPoints(this.points),this.projections=[],this.frustumEdges=[o.N.sub([],this.points[2],this.points[3]),o.N.sub([],this.points[0],this.points[3]),o.N.sub([],this.points[4],this.points[0]),o.N.sub([],this.points[5],this.points[1]),o.N.sub([],this.points[6],this.points[2]),o.N.sub([],this.points[7],this.points[3])];for(const p of this.frustumEdges){const g=[0,-p[2],p[1]],b=[p[2],0,-p[0]];this.projections.push({axis:g,projection:S1(this.points,this.points[0],g)}),this.projections.push({axis:b,projection:S1(this.points,this.points[0],b)})}}static fromInvProjectionMatrix(a,u,p,g){const b=Math.pow(2,p),w=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(R=>{const $=o.a7.transformMat4([],R,a),Z=1/$[3]/u*b;return o.a7.mul($,$,[Z,Z,g?1/$[3]:Z,Z])}),E=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(R=>{const $=o.N.sub([],w[R[0]],w[R[1]]),Z=o.N.sub([],w[R[2]],w[R[1]]),V=o.N.normalize([],o.N.cross([],$,Z)),X=-o.N.dot(V,w[R[1]]);return V.concat(X)}),O=[];for(let R=0;R<w.length;R++)O.push([w[R][0],w[R][1],w[R][2]]);return new VI(O,E)}intersectsPrecise(a,u,p){for(let g=0;g<u.length;g++)if(!kj(a,u[g]))return 0;for(let g=0;g<this.planes.length;g++)if(!kj(a,this.planes[g]))return 0;for(const g of p)for(const b of this.frustumEdges){const w=o.N.cross([],g,b),E=o.N.length(w);if(E===0)continue;o.N.scale(w,w,1/E);const O=S1(this.points,this.points[0],w),R=S1(a,this.points[0],w);if(O[0]>R[1]||R[0]>O[1])return 0}return 1}}class vo{static fromPoints(a){const u=[1/0,1/0,1/0],p=[-1/0,-1/0,-1/0];for(const g of a)o.N.min(u,u,g),o.N.max(p,p,g);return new vo(u,p)}static fromTileIdAndHeight(a,u,p){const g=1<<a.canonical.z,b=a.canonical.x,w=a.canonical.y;return new vo([b/g,w/g,u],[(b+1)/g,(w+1)/g,p])}static applyTransform(a,u){const p=a.getCorners();for(let g=0;g<p.length;++g)o.N.transformMat4(p[g],p[g],u);return vo.fromPoints(p)}static projectAabbCorners(a,u){const p=a.getCorners();for(let g=0;g<p.length;++g)o.N.transformMat4(p[g],p[g],u);return p}constructor(a,u){this.min=a,this.max=u,this.center=o.N.scale([],o.N.add([],this.min,this.max),.5)}quadrant(a){const u=[a%2==0,a<2],p=o.N.clone(this.min),g=o.N.clone(this.max);for(let b=0;b<u.length;b++)p[b]=u[b]?this.min[b]:this.center[b],g[b]=u[b]?this.center[b]:this.max[b];return g[2]=this.max[2],new vo(p,g)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}distanceZ(a){return Math.max(Math.min(this.max[2],a[2]),this.min[2])-a[2]}getCorners(){const a=this.min,u=this.max;return[[a[0],a[1],a[2]],[u[0],a[1],a[2]],[u[0],u[1],a[2]],[a[0],u[1],a[2]],[a[0],a[1],u[2]],[u[0],a[1],u[2]],[u[0],u[1],u[2]],[a[0],u[1],u[2]]]}intersects(a){return this.intersectsAabb(a.bounds)?Ij(a,this.getCorners()):0}intersectsFlat(a){return this.intersectsAabb(a.bounds)?Ij(a,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsPrecise(a,u){return u||this.intersects(a)?Oj(a,this.getCorners()):0}intersectsPreciseFlat(a,u){return u||this.intersectsFlat(a)?Oj(a,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsAabb(a){for(let u=0;u<3;++u)if(this.min[u]>a.max[u]||a.min[u]>this.max[u])return!1;return!0}intersectsAabbXY(a){return!(this.min[0]>a.max[0]||a.min[0]>this.max[0]||this.min[1]>a.max[1]||a.min[1]>this.max[1])}encapsulate(a){for(let u=0;u<3;u++)this.min[u]=Math.min(this.min[u],a.min[u]),this.max[u]=Math.max(this.max[u],a.max[u])}encapsulatePoint(a){for(let u=0;u<3;u++)this.min[u]=Math.min(this.min[u],a[u]),this.max[u]=Math.max(this.max[u],a[u])}closestPoint(a){return[Math.max(Math.min(this.max[0],a[0]),this.min[0]),Math.max(Math.min(this.max[1],a[1]),this.min[1]),Math.max(Math.min(this.max[2],a[2]),this.min[2])]}}Dn(vo,"Aabb");const kme=bi([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:I5}=kme,Nme=bi([{name:"a_pos_3",components:3,type:"Int16"}]);var Nj=bi([{name:"a_pos",type:"Int16",components:2}]);function O5(l){return l*Pe/It}const Rme=[new vo([Je,Je,Je],[xt,xt,xt]),new vo([Je,Je,Je],[0,0,xt]),new vo([0,Je,Je],[xt,0,xt]),new vo([Je,0,Je],[0,xt,xt]),new vo([0,0,Je],[xt,xt,xt])];function Rj(l,a,u,p=!0){const g=o.N.scale([],l._camera.position,l.worldSize),b=[a,u,1,1];o.a7.transformMat4(b,b,l.pixelMatrixInverse),o.a7.scale(b,b,1/b[3]);const w=o.N.sub([],b,g),E=o.N.normalize([],w),O=l.globeMatrix,R=[O[12],O[13],O[14]],$=o.N.sub([],R,g),Z=o.N.length($),V=o.N.normalize([],$),X=l.worldSize/(2*Math.PI),Q=o.N.dot(V,E),ne=Math.asin(X/Z);if(ne<Math.acos(Q)){if(!p)return null;const mt=[],Ft=[];o.N.scale(mt,E,Z/Q),o.N.normalize(Ft,o.N.sub(Ft,mt,$)),o.N.normalize(E,o.N.add(E,$,o.N.scale(E,Ft,Math.tan(ne)*Z)))}const ce=[];new UI(g,E).closestPointOnSphere(R,X,ce);const ge=o.N.normalize([],we(O,0)),Te=o.N.normalize([],we(O,1)),ke=o.N.normalize([],we(O,2)),Ie=o.N.dot(ge,ce),Be=o.N.dot(Te,ce),Fe=o.N.dot(ke,ce),Ke=he(Math.asin(-Be/X));let tt=he(Math.atan2(Ie,Fe));tt=l.center.lng+function(mt,Ft){const qt=(Ft-mt+180)%360-180;return qt<-180?qt+360:qt}(l.center.lng,tt);const ht=Nr(tt),wt=ue(br(Ke),0,1);return new ii(ht,wt)}class Dme{constructor(a,u,p){this.a=o.N.sub([],a,p),this.b=o.N.sub([],u,p),this.center=p;const g=o.N.normalize([],this.a),b=o.N.normalize([],this.b);this.angle=Math.acos(o.N.dot(g,b))}}function WI(l,a){if(l.angle===0)return null;let u;return u=l.a[a]===0?1/l.angle*.5*Math.PI:1/l.angle*Math.atan(l.b[a]/l.a[a]/Math.sin(l.angle)-1/Math.tan(l.angle)),u<0||u>1?null:function(p,g,b,w){const E=Math.sin(b);return p*(Math.sin((1-w)*b)/E)+g*(Math.sin(w*b)/E)}(l.a[a],l.b[a],l.angle,ue(u,0,1))+l.center[a]}function Md(l){if(l.z<=1)return Rme[l.z+2*l.y+l.x];const a=GI(k5(l));return vo.fromPoints(a)}function Ah(l,a,u){return o.N.scale(l,l,1-u),o.N.scaleAndAdd(l,l,a,u)}function Dj(l,a,u){for(const p of l)o.N.transformMat4(p,p,a),o.N.scale(p,p,u)}function Lj(l,a,u,p){const g=a/l.worldSize,b=l.globeMatrix;if(u.z<=1){const ht=Md(u).getCorners();return Dj(ht,b,g),vo.fromPoints(ht)}const w=k5(u,p),E=GI(w,Pe+O5(l._tileCoverLift));Dj(E,b,g);const O=Number.MAX_VALUE,R=[-O,-O,-O],$=[O,O,O];if(w.contains(l.center)){for(const mt of E)o.N.min($,$,mt),o.N.max(R,R,mt);R[2]=0;const ht=l.point,wt=[ht.x*g,ht.y*g,0];return o.N.min($,$,wt),o.N.max(R,R,wt),new vo($,R)}if(l._tileCoverLift>0){for(const ht of E)o.N.min($,$,ht),o.N.max(R,R,ht);return new vo($,R)}const Z=[b[12]*g,b[13]*g,b[14]*g],V=w.getCenter(),X=ue(l.center.lat,-85.051129,yi),Q=ue(V.lat,-85.051129,yi),ne=Nr(l.center.lng),ce=br(X);let ge=ne-Nr(V.lng);const Te=ce-br(Q);ge>.5?ge-=1:ge<-.5&&(ge+=1);let ke=0;if(Math.abs(ge)>Math.abs(Te))ke=ge>=0?1:3;else{ke=Te>=0?0:2;const ht=[b[4]*g,b[5]*g,b[6]*g],wt=-Math.sin(oe(Te>=0?w.getSouth():w.getNorth()))*Pe;o.N.scaleAndAdd(Z,Z,ht,wt)}const Ie=E[ke],Be=E[(ke+1)%4],Fe=new Dme(Ie,Be,Z),Ke=[WI(Fe,0)||Ie[0],WI(Fe,1)||Ie[1],WI(Fe,2)||Ie[2]],tt=Lp(l.zoom);if(tt>0){const ht=function({x:mt,y:Ft,z:qt},Ot,Wt,Mt,Vt){const wn=1/(1<<qt);let Xt=mt*wn,Hn=Xt+wn,On=Ft*wn,nn=On+wn,fr=0;const Yn=(Xt+Hn)/2-Mt;return Yn>.5?fr=-1:Yn<-.5&&(fr=1),Xt=((Xt+fr)*Ot-(Mt*=Ot))*Wt+Mt,Hn=((Hn+fr)*Ot-Mt)*Wt+Mt,On=(On*Ot-(Vt*=Ot))*Wt+Vt,nn=(nn*Ot-Vt)*Wt+Vt,[[Xt,nn,0],[Hn,nn,0],[Hn,On,0],[Xt,On,0]]}(u,a,l._pixelsPerMercatorPixel,ne,ce);for(let mt=0;mt<E.length;mt++)Ah(E[mt],ht[mt],tt);const wt=o.N.add([],ht[ke],ht[(ke+1)%4]);o.N.scale(wt,wt,.5),Ah(Ke,wt,tt)}for(const ht of E)o.N.min($,$,ht),o.N.max(R,R,ht);return $[2]=Math.min(Ie[2],Be[2]),o.N.min($,$,Ke),o.N.max(R,R,Ke),new vo($,R)}function k5({x:l,y:a,z:u},p=!1){const g=1/(1<<u),b=new ct(Cr(l*g),a===(1<<u)-1&&p?-90:Jr((a+1)*g)),w=new ct(Cr((l+1)*g),a===0&&p?90:Jr(a*g));return new Ct(b,w)}function GI(l,a=Pe){const u=oe(l.getNorth()),p=oe(l.getSouth()),g=Math.cos(u),b=Math.cos(p),w=Math.sin(u),E=Math.sin(p),O=l.getWest(),R=l.getEast();return[at(b,E,O,a),at(b,E,R,a),at(g,w,R,a),at(g,w,O,a)]}function A1(l,a,u,p){const g=1<<u.z,b=(l/Tn+u.x)/g;return Nt(Jr((a/Tn+u.y)/g),Cr(b),p)}function N5({min:l,max:a}){return Le/Math.max(a[0]-l[0],a[1]-l[1],a[2]-l[2])}const Fj=new Float64Array(16);function R5(l){const a=N5(l),u=o.a6.fromScaling(Fj,[a,a,a]);return o.a6.translate(u,u,o.N.negate([],l.min))}function KI(l){const a=o.a6.fromTranslation(Fj,l.min),u=1/N5(l);return o.a6.scale(a,a,[u,u,u])}function qI(l){const a=Tn/(2*Math.PI);return l/(2*Math.PI)/a}function $j(l,a){return Tn/(512*Math.pow(2,l))*N5(Md(a))}function jj(l,a,u,p,g){const b=qI(u),w=[l,a,-u/(2*Math.PI)],E=o.a6.identity(new Float64Array(16));return o.a6.translate(E,E,w),o.a6.scale(E,E,[b,b,b]),o.a6.rotateX(E,E,oe(-g)),o.a6.rotateY(E,E,oe(-p)),E}function Lp(l){return xe(De,Ae,l)}function zj(l,a){const u=Nt(a.lat,a.lng),p=function(b){const w=Nt(b._center.lat,b._center.lng),E=o.N.fromValues(0,1,0);let O=o.N.cross([],E,w);const R=o.a6.fromRotation([],-b.angle,w);O=o.N.transformMat4(O,O,R),o.a6.fromRotation(R,-b._pitch,O);const $=o.N.normalize([],w);return o.N.scale($,$,O5(b.cameraToCenterDistance/b.pixelsPerMeter)),o.N.transformMat4($,$,R),o.N.add([],w,$)}(l),g=o.N.subtract([],p,u);return o.N.angle(g,u)}function XI(l,a){return zj(l,a)>Math.PI/2*1.01}const Bj=oe(85),Lme=Math.cos(Bj),Fme=Math.sin(Bj),$me=o.a6.create(),Zj=l=>{const a=[];return l.paint.get("circle-pitch-alignment")==="map"&&a.push("PITCH_WITH_MAP"),l.paint.get("circle-pitch-scale")==="map"&&a.push("SCALE_WITH_MAP"),a};function Uj(l,a,u,p,g,b,w,E,O){if(b&&l.queryGeometry.isAboveHorizon)return!1;b&&(O*=l.pixelToTileUnitsFactor);const R=l.tileID.canonical,$=u.projection.upVectorScale(R,u.center.lat,u.worldSize).metersToTile;for(const Z of a)for(const V of Z){const X=V.add(E),Q=g&&u.elevation?u.elevation.exaggeration()*g.getElevationAt(X.x,X.y,!0):0,ne=u.projection.projectTilePoint(X.x,X.y,R);if(Q>0){const ke=u.projection.upVector(R,X.x,X.y);ne.x+=ke[0]*$*Q,ne.y+=ke[1]*$*Q,ne.z+=ke[2]*$*Q}const ce=b?X:jme(ne.x,ne.y,ne.z,p),ge=b?l.tilespaceRays.map(ke=>Bme(ke,Q)):l.queryGeometry.screenGeometry,Te=o.a7.transformMat4([],[ne.x,ne.y,ne.z,1],p);if(!w&&b?O*=Te[3]/u.cameraToCenterDistance:w&&!b&&(O*=u.cameraToCenterDistance/Te[3]),b){const ke=Jr((V.y/Tn+R.y)/(1<<R.z));O/=u.projection.pixelsPerMeter(ke,1)/Tr(1,ke)}if(Sd(ge,ce,O))return!0}return!1}function jme(l,a,u,p){const g=o.a7.transformMat4([],[l,a,u,1],p);return new K(g[0]/g[3],g[1]/g[3])}const Hj=o.N.fromValues(0,0,0),zme=o.N.fromValues(0,0,1);function Bme(l,a){const u=o.N.create();return Hj[2]=a,l.intersectsPlane(Hj,zme,u),new K(u[0],u[1])}class Vj extends js{}function Wj(l,{width:a,height:u},p,g){if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==a*u*p)throw new RangeError("mismatched image size")}else g=new Uint8Array(a*u*p);return l.width=a,l.height=u,l.data=g,l}function Gj(l,a,u){const{width:p,height:g}=a;p===l.width&&g===l.height||(YI(l,a,{x:0,y:0},{x:0,y:0},{width:Math.min(l.width,p),height:Math.min(l.height,g)},u),l.width=p,l.height=g,l.data=a.data)}function YI(l,a,u,p,g,b,w){if(g.width===0||g.height===0)return a;if(g.width>l.width||g.height>l.height||u.x>l.width-g.width||u.y>l.height-g.height)throw new RangeError("out of range source coordinates for image copy");if(g.width>a.width||g.height>a.height||p.x>a.width-g.width||p.y>a.height-g.height)throw new RangeError("out of range destination coordinates for image copy");const E=l.data,O=a.data,R=b===4&&w;for(let $=0;$<g.height;$++){const Z=((u.y+$)*l.width+u.x)*b,V=((p.y+$)*a.width+p.x)*b;if(R)for(let X=0;X<g.width;X++){const Q=Z+X*b+3,ne=V+X*b;O[ne+0]=255,O[ne+1]=255,O[ne+2]=255,O[ne+3]=E[Q]}else for(let X=0;X<g.width*b;X++)O[V+X]=E[Z+X]}return a}Dn(Vj,"HeatmapBucket",{omit:["layers"]});class Fp{constructor(a,u){Wj(this,a,1,u)}resize(a){Gj(this,new Fp(a),1)}clone(){return new Fp({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,u,p,g,b){YI(a,u,p,g,b,1)}}class nc{constructor(a,u){Wj(this,a,4,u)}resize(a){Gj(this,new nc(a),4)}replace(a,u){u?this.data.set(a):this.data=a instanceof Uint8ClampedArray?new Uint8Array(a.buffer):a}clone(){return new nc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,u,p,g,b,w){YI(a,u,p,g,b,4,w)}}class Kj{constructor(a,u){this.width=a.width,this.height=a.height,this.data=u instanceof Uint8Array?new Float32Array(u.buffer):u}}Dn(Fp,"AlphaImage"),Dn(nc,"RGBAImage");const Zme=new uo({visibility:new bn(bt.layout_heatmap.visibility)});var Ume={paint:new uo({"heatmap-radius":new ir(bt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ir(bt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new bn(bt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new yh(bt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new bn(bt.paint_heatmap["heatmap-opacity"])}),layout:Zme};function C1(l){const a={},u=l.resolution||256,p=l.clips?l.clips.length:1,g=l.image||new nc({width:u,height:p}),b=(w,E,O)=>{a[l.evaluationKey]=O;const R=l.expression.evaluate(a);R&&(g.data[w+E+0]=Math.floor(255*R.r/R.a),g.data[w+E+1]=Math.floor(255*R.g/R.a),g.data[w+E+2]=Math.floor(255*R.b/R.a),g.data[w+E+3]=Math.floor(255*R.a))};if(l.clips)for(let w=0,E=0;w<p;++w,E+=4*u)for(let O=0,R=0;O<u;O++,R+=4){const $=O/(u-1),{start:Z,end:V}=l.clips[w];b(E,R,Z*(1-$)+V*$)}else for(let w=0,E=0;w<u;w++,E+=4)b(0,E,w/(u-1));return g}const Hme=new uo({visibility:new bn(bt.layout_hillshade.visibility)});var Vme={paint:new uo({"hillshade-illumination-direction":new bn(bt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new bn(bt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new bn(bt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new bn(bt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new bn(bt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new bn(bt.paint_hillshade["hillshade-accent-color"]),"hillshade-emissive-strength":new bn(bt.paint_hillshade["hillshade-emissive-strength"])}),layout:Hme};const Wme=bi([{name:"a_pos",components:2,type:"Int16"}],4),{members:Gme}=Wme;var JI={exports:{}};function D5(l,a,u){u=u||2;var p,g,b,w,E,O,R,$=a&&a.length,Z=$?a[0]*u:l.length,V=qj(l,0,Z,u,!0),X=[];if(!V||V.next===V.prev)return X;if($&&(V=function(ne,ce,ge,Te){var ke,Ie,Be,Fe=[];for(ke=0,Ie=ce.length;ke<Ie;ke++)(Be=qj(ne,ce[ke]*Te,ke<Ie-1?ce[ke+1]*Te:ne.length,Te,!1))===Be.next&&(Be.steiner=!0),Fe.push(tge(Be));for(Fe.sort(Jme),ke=0;ke<Fe.length;ke++)ge=Qme(Fe[ke],ge);return ge}(l,a,V,u)),l.length>80*u){p=b=l[0],g=w=l[1];for(var Q=u;Q<Z;Q+=u)(E=l[Q])<p&&(p=E),(O=l[Q+1])<g&&(g=O),E>b&&(b=E),O>w&&(w=O);R=(R=Math.max(b-p,w-g))!==0?32767/R:0}return M1(V,X,u,p,g,R,0),X}function qj(l,a,u,p,g){var b,w;if(g===tO(l,a,u,p)>0)for(b=a;b<u;b+=p)w=Jj(b,l[b],l[b+1],w);else for(b=u-p;b>=a;b-=p)w=Jj(b,l[b],l[b+1],w);return w&&L5(w,w.next)&&(T1(w),w=w.next),w}function Um(l,a){if(!l)return l;a||(a=l);var u,p=l;do if(u=!1,p.steiner||!L5(p,p.next)&&sa(p.prev,p,p.next)!==0)p=p.next;else{if(T1(p),(p=a=p.prev)===p.next)break;u=!0}while(u||p!==a);return a}function M1(l,a,u,p,g,b,w){if(l){!w&&b&&function($,Z,V,X){var Q=$;do Q.z===0&&(Q.z=QI(Q.x,Q.y,Z,V,X)),Q.prevZ=Q.prev,Q.nextZ=Q.next,Q=Q.next;while(Q!==$);Q.prevZ.nextZ=null,Q.prevZ=null,function(ne){var ce,ge,Te,ke,Ie,Be,Fe,Ke,tt=1;do{for(ge=ne,ne=null,Ie=null,Be=0;ge;){for(Be++,Te=ge,Fe=0,ce=0;ce<tt&&(Fe++,Te=Te.nextZ);ce++);for(Ke=tt;Fe>0||Ke>0&&Te;)Fe!==0&&(Ke===0||!Te||ge.z<=Te.z)?(ke=ge,ge=ge.nextZ,Fe--):(ke=Te,Te=Te.nextZ,Ke--),Ie?Ie.nextZ=ke:ne=ke,ke.prevZ=Ie,Ie=ke;ge=Te}Ie.nextZ=null,tt*=2}while(Be>1)}(Q)}(l,p,g,b);for(var E,O,R=l;l.prev!==l.next;)if(E=l.prev,O=l.next,b?qme(l,p,g,b):Kme(l))a.push(E.i/u|0),a.push(l.i/u|0),a.push(O.i/u|0),T1(l),l=O.next,R=O.next;else if((l=O)===R){w?w===1?M1(l=Xme(Um(l),a,u),a,u,p,g,b,2):w===2&&Yme(l,a,u,p,g,b):M1(Um(l),a,u,p,g,b,1);break}}}function Kme(l){var a=l.prev,u=l,p=l.next;if(sa(a,u,p)>=0)return!1;for(var g=a.x,b=u.x,w=p.x,E=a.y,O=u.y,R=p.y,$=g<b?g<w?g:w:b<w?b:w,Z=E<O?E<R?E:R:O<R?O:R,V=g>b?g>w?g:w:b>w?b:w,X=E>O?E>R?E:R:O>R?O:R,Q=p.next;Q!==a;){if(Q.x>=$&&Q.x<=V&&Q.y>=Z&&Q.y<=X&&Wy(g,E,b,O,w,R,Q.x,Q.y)&&sa(Q.prev,Q,Q.next)>=0)return!1;Q=Q.next}return!0}function qme(l,a,u,p){var g=l.prev,b=l,w=l.next;if(sa(g,b,w)>=0)return!1;for(var E=g.x,O=b.x,R=w.x,$=g.y,Z=b.y,V=w.y,X=E<O?E<R?E:R:O<R?O:R,Q=$<Z?$<V?$:V:Z<V?Z:V,ne=E>O?E>R?E:R:O>R?O:R,ce=$>Z?$>V?$:V:Z>V?Z:V,ge=QI(X,Q,a,u,p),Te=QI(ne,ce,a,u,p),ke=l.prevZ,Ie=l.nextZ;ke&&ke.z>=ge&&Ie&&Ie.z<=Te;){if(ke.x>=X&&ke.x<=ne&&ke.y>=Q&&ke.y<=ce&&ke!==g&&ke!==w&&Wy(E,$,O,Z,R,V,ke.x,ke.y)&&sa(ke.prev,ke,ke.next)>=0||(ke=ke.prevZ,Ie.x>=X&&Ie.x<=ne&&Ie.y>=Q&&Ie.y<=ce&&Ie!==g&&Ie!==w&&Wy(E,$,O,Z,R,V,Ie.x,Ie.y)&&sa(Ie.prev,Ie,Ie.next)>=0))return!1;Ie=Ie.nextZ}for(;ke&&ke.z>=ge;){if(ke.x>=X&&ke.x<=ne&&ke.y>=Q&&ke.y<=ce&&ke!==g&&ke!==w&&Wy(E,$,O,Z,R,V,ke.x,ke.y)&&sa(ke.prev,ke,ke.next)>=0)return!1;ke=ke.prevZ}for(;Ie&&Ie.z<=Te;){if(Ie.x>=X&&Ie.x<=ne&&Ie.y>=Q&&Ie.y<=ce&&Ie!==g&&Ie!==w&&Wy(E,$,O,Z,R,V,Ie.x,Ie.y)&&sa(Ie.prev,Ie,Ie.next)>=0)return!1;Ie=Ie.nextZ}return!0}function Xme(l,a,u){var p=l;do{var g=p.prev,b=p.next.next;!L5(g,b)&&Xj(g,p,p.next,b)&&E1(g,b)&&E1(b,g)&&(a.push(g.i/u|0),a.push(p.i/u|0),a.push(b.i/u|0),T1(p),T1(p.next),p=l=b),p=p.next}while(p!==l);return Um(p)}function Yme(l,a,u,p,g,b){var w=l;do{for(var E=w.next.next;E!==w.prev;){if(w.i!==E.i&&nge(w,E)){var O=Yj(w,E);return w=Um(w,w.next),O=Um(O,O.next),M1(w,a,u,p,g,b,0),void M1(O,a,u,p,g,b,0)}E=E.next}w=w.next}while(w!==l)}function Jme(l,a){return l.x-a.x}function Qme(l,a){var u=function(g,b){var w,E=b,O=g.x,R=g.y,$=-1/0;do{if(R<=E.y&&R>=E.next.y&&E.next.y!==E.y){var Z=E.x+(R-E.y)*(E.next.x-E.x)/(E.next.y-E.y);if(Z<=O&&Z>$&&($=Z,w=E.x<E.next.x?E:E.next,Z===O))return w}E=E.next}while(E!==b);if(!w)return null;var V,X=w,Q=w.x,ne=w.y,ce=1/0;E=w;do O>=E.x&&E.x>=Q&&O!==E.x&&Wy(R<ne?O:$,R,Q,ne,R<ne?$:O,R,E.x,E.y)&&(V=Math.abs(R-E.y)/(O-E.x),E1(E,g)&&(V<ce||V===ce&&(E.x>w.x||E.x===w.x&&ege(w,E)))&&(w=E,ce=V)),E=E.next;while(E!==X);return w}(l,a);if(!u)return a;var p=Yj(u,l);return Um(p,p.next),Um(u,u.next)}function ege(l,a){return sa(l.prev,l,a.prev)<0&&sa(a.next,l,l.next)<0}function QI(l,a,u,p,g){return(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-u)*g|0)|l<<8))|l<<4))|l<<2))|l<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-p)*g|0)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function tge(l){var a=l,u=l;do(a.x<u.x||a.x===u.x&&a.y<u.y)&&(u=a),a=a.next;while(a!==l);return u}function Wy(l,a,u,p,g,b,w,E){return(g-w)*(a-E)>=(l-w)*(b-E)&&(l-w)*(p-E)>=(u-w)*(a-E)&&(u-w)*(b-E)>=(g-w)*(p-E)}function nge(l,a){return l.next.i!==a.i&&l.prev.i!==a.i&&!function(u,p){var g=u;do{if(g.i!==u.i&&g.next.i!==u.i&&g.i!==p.i&&g.next.i!==p.i&&Xj(g,g.next,u,p))return!0;g=g.next}while(g!==u);return!1}(l,a)&&(E1(l,a)&&E1(a,l)&&function(u,p){var g=u,b=!1,w=(u.x+p.x)/2,E=(u.y+p.y)/2;do g.y>E!=g.next.y>E&&g.next.y!==g.y&&w<(g.next.x-g.x)*(E-g.y)/(g.next.y-g.y)+g.x&&(b=!b),g=g.next;while(g!==u);return b}(l,a)&&(sa(l.prev,l,a.prev)||sa(l,a.prev,a))||L5(l,a)&&sa(l.prev,l,l.next)>0&&sa(a.prev,a,a.next)>0)}function sa(l,a,u){return(a.y-l.y)*(u.x-a.x)-(a.x-l.x)*(u.y-a.y)}function L5(l,a){return l.x===a.x&&l.y===a.y}function Xj(l,a,u,p){var g=$5(sa(l,a,u)),b=$5(sa(l,a,p)),w=$5(sa(u,p,l)),E=$5(sa(u,p,a));return g!==b&&w!==E||!(g!==0||!F5(l,u,a))||!(b!==0||!F5(l,p,a))||!(w!==0||!F5(u,l,p))||!(E!==0||!F5(u,a,p))}function F5(l,a,u){return a.x<=Math.max(l.x,u.x)&&a.x>=Math.min(l.x,u.x)&&a.y<=Math.max(l.y,u.y)&&a.y>=Math.min(l.y,u.y)}function $5(l){return l>0?1:l<0?-1:0}function E1(l,a){return sa(l.prev,l,l.next)<0?sa(l,a,l.next)>=0&&sa(l,l.prev,a)>=0:sa(l,a,l.prev)<0||sa(l,l.next,a)<0}function Yj(l,a){var u=new eO(l.i,l.x,l.y),p=new eO(a.i,a.x,a.y),g=l.next,b=a.prev;return l.next=a,a.prev=l,u.next=g,g.prev=u,p.next=u,u.prev=p,b.next=p,p.prev=b,p}function Jj(l,a,u,p){var g=new eO(l,a,u);return p?(g.next=p.next,g.prev=p,p.next.prev=g,p.next=g):(g.prev=g,g.next=g),g}function T1(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function eO(l,a,u){this.i=l,this.x=a,this.y=u,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function tO(l,a,u,p){for(var g=0,b=a,w=u-p;b<u;b+=p)g+=(l[w]-l[b])*(l[b+1]+l[w+1]),w=b;return g}JI.exports=D5,JI.exports.default=D5,D5.deviation=function(l,a,u,p){var g=a&&a.length,b=Math.abs(tO(l,0,g?a[0]*u:l.length,u));if(g)for(var w=0,E=a.length;w<E;w++)b-=Math.abs(tO(l,a[w]*u,w<E-1?a[w+1]*u:l.length,u));var O=0;for(w=0;w<p.length;w+=3){var R=p[w]*u,$=p[w+1]*u,Z=p[w+2]*u;O+=Math.abs((l[R]-l[Z])*(l[$+1]-l[R+1])-(l[R]-l[$])*(l[Z+1]-l[R+1]))}return b===0&&O===0?0:Math.abs((O-b)/b)},D5.flatten=function(l){for(var a=l[0][0].length,u={vertices:[],holes:[],dimensions:a},p=0,g=0;g<l.length;g++){for(var b=0;b<l[g].length;b++)for(var w=0;w<a;w++)u.vertices.push(l[g][b][w]);g>0&&u.holes.push(p+=l[g-1].length)}return u};var j5=F(JI.exports);function nO(l,a){const u=l.length;if(u<=1)return[l];const p=[];let g,b;for(let w=0;w<u;w++){const E=$t(l[w]);E!==0&&(l[w].area=Math.abs(E),b===void 0&&(b=E<0),b===E<0?(g&&p.push(g),g=[l[w]]):g.push(l[w]))}if(g&&p.push(g),a>1)for(let w=0;w<p.length;w++)p[w].length<=a||(iI(p[w],a,1,p[w].length-1,rge),p[w]=p[w].slice(0,a));return p}function rge(l,a){return a.area-l.area}function rO(l,a,u){const p=u.patternDependencies;let g=!1;for(const b of a){const w=b.paint.get(`${l}-pattern`);w.isConstant()||(g=!0);const E=w.constantOr(null);E&&(g=!0,p[E]=!0)}return g}function iO(l,a,u,p,g){const b=g.patternDependencies;for(const w of a){const E=w.paint.get(`${l}-pattern`).value;if(E.kind!=="constant"){let O=E.evaluate({zoom:p},u,{},g.availableImages);O=O&&O.name?O.name:O,b[O]=!0,u.patterns[w.id]=O}}return u}class oO{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(u=>u.fqid),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ql,this.indexArray=new fa,this.indexArray2=new Dc,this.programConfigurations=new _e(a.layers,a.zoom),this.segments=new Ao,this.segments2=new Ao,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id),this.projection=a.projection}populate(a,u,p,g){this.hasPattern=rO("fill",this.layers,u);const b=this.layers[0].layout.get("fill-sort-key"),w=[];for(const{feature:E,id:O,index:R,sourceLayerIndex:$}of a){const Z=this.layers[0]._featureFilter.needGeometry,V=Jo(E,Z);if(!this.layers[0]._featureFilter.filter(new co(this.zoom),V,p))continue;const X=b?b.evaluate(V,{},p,u.availableImages):void 0,Q={id:O,properties:E.properties,type:E.type,sourceLayerIndex:$,index:R,geometry:Z?V.geometry:ga(E,p,g),patterns:{},sortKey:X};w.push(Q)}b&&w.sort((E,O)=>E.sortKey-O.sortKey);for(const E of w){const{geometry:O,index:R,sourceLayerIndex:$}=E;if(this.hasPattern){const Z=iO("fill",this.layers,E,this.zoom,u);this.patternFeatures.push(Z)}else this.addFeature(E,O,R,p,{},u.availableImages,u.brightness);u.featureIndex.insert(a[R].feature,O,R,$,this.index)}}update(a,u,p,g,b){const w=Object.keys(a).length!==0;w&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(a,u,w?this.stateDependentLayers:this.layers,p,g,b)}addFeatures(a,u,p,g,b,w){for(const E of this.patternFeatures)this.addFeature(E,E.geometry,E.index,u,p,g,w)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Gme),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.indexBuffer2=a.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(a,u,p,g,b,w=[],E){for(const O of nO(u,500)){let R=0;for(const ne of O)R+=ne.length;const $=this.segments.prepareSegment(R,this.layoutVertexArray,this.indexArray),Z=$.vertexLength,V=[],X=[];for(const ne of O){if(ne.length===0)continue;ne!==O[0]&&X.push(V.length/2);const ce=this.segments2.prepareSegment(ne.length,this.layoutVertexArray,this.indexArray2),ge=ce.vertexLength;this.layoutVertexArray.emplaceBack(ne[0].x,ne[0].y),this.indexArray2.emplaceBack(ge+ne.length-1,ge),V.push(ne[0].x),V.push(ne[0].y);for(let Te=1;Te<ne.length;Te++)this.layoutVertexArray.emplaceBack(ne[Te].x,ne[Te].y),this.indexArray2.emplaceBack(ge+Te-1,ge+Te),V.push(ne[Te].x),V.push(ne[Te].y);ce.vertexLength+=ne.length,ce.primitiveLength+=ne.length}const Q=j5(V,X);for(let ne=0;ne<Q.length;ne+=3)this.indexArray.emplaceBack(Z+Q[ne],Z+Q[ne+1],Z+Q[ne+2]);$.vertexLength+=R,$.primitiveLength+=Q.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,p,b,w,g,E)}}Dn(oO,"FillBucket",{omit:["layers","patternFeatures"]});const ige=new uo({"fill-sort-key":new ir(bt.layout_fill["fill-sort-key"]),visibility:new bn(bt.layout_fill.visibility)});var oge={paint:new uo({"fill-antialias":new bn(bt.paint_fill["fill-antialias"]),"fill-opacity":new ir(bt.paint_fill["fill-opacity"]),"fill-color":new ir(bt.paint_fill["fill-color"]),"fill-outline-color":new ir(bt.paint_fill["fill-outline-color"]),"fill-translate":new bn(bt.paint_fill["fill-translate"]),"fill-translate-anchor":new bn(bt.paint_fill["fill-translate-anchor"]),"fill-pattern":new ir(bt.paint_fill["fill-pattern"]),"fill-emissive-strength":new bn(bt.paint_fill["fill-emissive-strength"])}),layout:ige};const age=bi([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),sge=bi([{name:"a_pos_end",components:4,type:"Int16"},{name:"a_angular_offset_factor",components:1,type:"Int16"}]),lge=bi([{name:"a_centroid_pos",components:2,type:"Uint16"}]),cge=bi([{name:"a_hidden_by_landmark",components:1,type:"Uint8"}]),uge=bi([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:dge}=age;var z5={},hge=W,Qj=Gy;function Gy(l,a,u,p,g){this.properties={},this.extent=u,this.type=0,this._pbf=l,this._geometry=-1,this._keys=p,this._values=g,l.readFields(pge,this,a)}function pge(l,a,u){l==1?a.id=u.readVarint():l==2?function(p,g){for(var b=p.readVarint()+p.pos;p.pos<b;){var w=g._keys[p.readVarint()],E=g._values[p.readVarint()];g.properties[w]=E}}(u,a):l==3?a.type=u.readVarint():l==4&&(a._geometry=u.pos)}function fge(l){for(var a,u,p=0,g=0,b=l.length,w=b-1;g<b;w=g++)p+=((u=l[w]).x-(a=l[g]).x)*(a.y+u.y);return p}Gy.types=["Unknown","Point","LineString","Polygon"],Gy.prototype.loadGeometry=function(){var l=this._pbf;l.pos=this._geometry;for(var a,u=l.readVarint()+l.pos,p=1,g=0,b=0,w=0,E=[];l.pos<u;){if(g<=0){var O=l.readVarint();p=7&O,g=O>>3}if(g--,p===1||p===2)b+=l.readSVarint(),w+=l.readSVarint(),p===1&&(a&&E.push(a),a=[]),a.push(new hge(b,w));else{if(p!==7)throw new Error("unknown command "+p);a&&a.push(a[0].clone())}}return a&&E.push(a),E},Gy.prototype.bbox=function(){var l=this._pbf;l.pos=this._geometry;for(var a=l.readVarint()+l.pos,u=1,p=0,g=0,b=0,w=1/0,E=-1/0,O=1/0,R=-1/0;l.pos<a;){if(p<=0){var $=l.readVarint();u=7&$,p=$>>3}if(p--,u===1||u===2)(g+=l.readSVarint())<w&&(w=g),g>E&&(E=g),(b+=l.readSVarint())<O&&(O=b),b>R&&(R=b);else if(u!==7)throw new Error("unknown command "+u)}return[w,O,E,R]},Gy.prototype.toGeoJSON=function(l,a,u){var p,g,b=this.extent*Math.pow(2,u),w=this.extent*l,E=this.extent*a,O=this.loadGeometry(),R=Gy.types[this.type];function $(X){for(var Q=0;Q<X.length;Q++){var ne=X[Q];X[Q]=[360*(ne.x+w)/b-180,360/Math.PI*Math.atan(Math.exp((180-360*(ne.y+E)/b)*Math.PI/180))-90]}}switch(this.type){case 1:var Z=[];for(p=0;p<O.length;p++)Z[p]=O[p][0];$(O=Z);break;case 2:for(p=0;p<O.length;p++)$(O[p]);break;case 3:for(O=function(X){var Q=X.length;if(Q<=1)return[X];for(var ne,ce,ge=[],Te=0;Te<Q;Te++){var ke=fge(X[Te]);ke!==0&&(ce===void 0&&(ce=ke<0),ce===ke<0?(ne&&ge.push(ne),ne=[X[Te]]):ne.push(X[Te]))}return ne&&ge.push(ne),ge}(O),p=0;p<O.length;p++)for(g=0;g<O[p].length;g++)$(O[p][g])}O.length===1?O=O[0]:R="Multi"+R;var V={type:"Feature",geometry:{type:R,coordinates:O},properties:this.properties};return"id"in this&&(V.id=this.id),V};var mge=Qj,ez=tz;function tz(l,a){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=l,this._keys=[],this._values=[],this._features=[],l.readFields(gge,this,a),this.length=this._features.length}function gge(l,a,u){l===15?a.version=u.readVarint():l===1?a.name=u.readString():l===5?a.extent=u.readVarint():l===2?a._features.push(u.pos):l===3?a._keys.push(u.readString()):l===4&&a._values.push(function(p){for(var g=null,b=p.readVarint()+p.pos;p.pos<b;){var w=p.readVarint()>>3;g=w===1?p.readString():w===2?p.readFloat():w===3?p.readDouble():w===4?p.readVarint64():w===5?p.readVarint():w===6?p.readSVarint():w===7?p.readBoolean():null}return g}(u))}tz.prototype.feature=function(l){if(l<0||l>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[l];var a=this._pbf.readVarint()+this._pbf.pos;return new mge(this._pbf,a,this.extent,this._keys,this._values)};var yge=ez;function vge(l,a,u){if(l===3){var p=new yge(u,u.readVarint()+u.pos);p.length&&(a[p.name]=p)}}var aO=z5.VectorTile=function(l,a){this.layers=l.readFields(vge,{},a)},B5=z5.VectorTileFeature=Qj;function Z5(l,a,u,p){const g=[],b=p===0?(w,E,O,R,$,Z)=>{w.push(new K(Z,O+(Z-E)/(R-E)*($-O)))}:(w,E,O,R,$,Z)=>{w.push(new K(E+(Z-O)/($-O)*(R-E),Z))};for(const w of l){const E=[];for(const O of w){if(O.length<=2)continue;const R=[];for(let V=0;V<O.length-1;V++){const X=O[V].x,Q=O[V].y,ne=O[V+1].x,ce=O[V+1].y,ge=p===0?X:Q,Te=p===0?ne:ce;ge<a?Te>a&&b(R,X,Q,ne,ce,a):ge>u?Te<u&&b(R,X,Q,ne,ce,u):R.push(O[V]),Te<a&&ge>=a&&b(R,X,Q,ne,ce,a),Te>u&&ge<=u&&b(R,X,Q,ne,ce,u)}let $=O[O.length-1];const Z=p===0?$.x:$.y;Z>=a&&Z<=u&&R.push($),R.length&&($=R[R.length-1],R[0].x===$.x&&R[0].y===$.y||R.push(R[0]),E.push(R))}E.length&&g.push(E)}return g}function U5(l,a){return l.x-a.x||l.y-a.y}function nz(l,a){return U5(l.min,a.min)===0&&U5(l.max,a.max)===0}function rz(l,a){return!(l.min.x>a.max.x||l.max.x<a.min.x||l.min.y>a.max.y||l.max.y<a.min.y)}function iz(l,a,u){const p=1/Tn,g=1/(1<<u.canonical.z),b=(a.x*p+u.canonical.x)*g+u.wrap,w=(a.y*p+u.canonical.y)*g;return{min:new K((l.x*p+u.canonical.x)*g+u.wrap,(l.y*p+u.canonical.y)*g),max:new K(b,w)}}function bge(l,a,u){const p=1<<u.canonical.z,g=((a.x-u.wrap)*p-u.canonical.x)*Tn,b=(a.y*p-u.canonical.y)*Tn;return{min:new K(((l.x-u.wrap)*p-u.canonical.x)*Tn,(l.y*p-u.canonical.y)*Tn),max:new K(g,b)}}function oz(l,a,u,p,g,b,w){const E=l.indices,O=l.vertices,R=[];for(let $=p;$<p+g;$+=3){const Z=a[u[$+0]+b],V=a[u[$+1]+b],X=a[u[$+2]+b],Q=Math.min(Z.x,V.x,X.x),ne=Math.max(Z.x,V.x,X.x),ce=Math.min(Z.y,V.y,X.y),ge=Math.max(Z.y,V.y,X.y);R.length=0,l.grid.query(new K(Q,ce),new K(ne,ge),R);for(let Te=0;Te<R.length;Te++){const ke=R[Te];if(EI(O[E[3*ke+0]],O[E[3*ke+1]],O[E[3*ke+2]],Z,V,X,w))return!0}}return!1}function az(l,a,u,p){if(!l||!u)return!1;let g=l.vertices;if(!a.canonical.equals(p.canonical)||a.wrap!==p.wrap){if(u.vertices.length<l.vertices.length)return az(u,p,l,a);const b=a.canonical,w=p.canonical,E=Math.pow(2,w.z-b.z);g=l.vertices.map(O=>new K(O.x*b.x*Tn*E-w.x*Tn,O.y*b.y*Tn*E-w.y*Tn))}return oz(u,g,l.indices,0,l.indices.length,0,0)}z5.VectorTileLayer=ez;class sz{constructor(a){this.size=a,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(a,u){const p=this.toIdx(a,u);return{min:this.minimums[p],max:this.maximums[p]}}isLeaf(a,u){return this.leaves[this.toIdx(a,u)]}toIdx(a,u){return u*this.size+a}}function lz(l,a,u,p){let g=0,b=Number.MAX_VALUE;for(let w=0;w<3;w++)if(Math.abs(p[w])<1e-15){if(u[w]<l[w]||u[w]>a[w])return null}else{const E=1/p[w];let O=(l[w]-u[w])*E,R=(a[w]-u[w])*E;if(O>R){const $=O;O=R,R=$}if(O>g&&(g=O),R<b&&(b=R),g>b)return null}return g}function cz(l,a,u,p,g,b,w,E,O,R,$){const Z=p-l,V=g-a,X=b-u,Q=w-l,ne=E-a,ce=O-u,ge=$[1]*ce-$[2]*ne,Te=$[2]*Q-$[0]*ce,ke=$[0]*ne-$[1]*Q,Ie=Z*ge+V*Te+X*ke;if(Math.abs(Ie)<1e-15)return null;const Be=1/Ie,Fe=R[0]-l,Ke=R[1]-a,tt=R[2]-u,ht=(Fe*ge+Ke*Te+tt*ke)*Be;if(ht<0||ht>1)return null;const wt=Ke*X-tt*V,mt=tt*Z-Fe*X,Ft=Fe*V-Ke*Z,qt=($[0]*wt+$[1]*mt+$[2]*Ft)*Be;return qt<0||ht+qt>1?null:(Q*wt+ne*mt+ce*Ft)*Be}function uz(l,a,u){return(l-a)/(u-a)}function dz(l,a,u,p,g,b,w,E,O){const R=1<<u,$=b-p,Z=w-g,V=(l+1)/R*$+p,X=(a+0)/R*Z+g,Q=(a+1)/R*Z+g;E[0]=(l+0)/R*$+p,E[1]=X,O[0]=V,O[1]=Q}class hz{constructor(a){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=a,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const u=function(b){const w=Math.ceil(Math.log2(b.dim/8)),E=[];let O=Math.ceil(Math.pow(2,w));const R=1/O,$=(X,Q,ne,ce,ge)=>{const Te=ce?1:0,ke=(X+1)*ne-Te,Ie=Q*ne,Be=(Q+1)*ne-Te;ge[0]=X*ne,ge[1]=Ie,ge[2]=ke,ge[3]=Be};let Z=new sz(O);const V=[];for(let X=0;X<O*O;X++){$(X%O,Math.floor(X/O),R,!1,V);const Q=$p(V[0],V[1],b),ne=$p(V[2],V[1],b),ce=$p(V[2],V[3],b),ge=$p(V[0],V[3],b);Z.minimums.push(Math.min(Q,ne,ce,ge)),Z.maximums.push(Math.max(Q,ne,ce,ge)),Z.leaves.push(1)}for(E.push(Z),O/=2;O>=1;O/=2){const X=E[E.length-1];Z=new sz(O);for(let Q=0;Q<O*O;Q++){$(Q%O,Math.floor(Q/O),2,!0,V);const ne=X.getElevation(V[0],V[1]),ce=X.getElevation(V[2],V[1]),ge=X.getElevation(V[2],V[3]),Te=X.getElevation(V[0],V[3]),ke=X.isLeaf(V[0],V[1]),Ie=X.isLeaf(V[2],V[1]),Be=X.isLeaf(V[2],V[3]),Fe=X.isLeaf(V[0],V[3]),Ke=Math.min(ne.min,ce.min,ge.min,Te.min),tt=Math.max(ne.max,ce.max,ge.max,Te.max),ht=ke&&Ie&&Be&&Fe;Z.maximums.push(tt),Z.minimums.push(Ke),Z.leaves.push(tt-Ke<=5&&ht?1:0)}E.push(Z)}return E}(this.dem),p=u.length-1,g=u[p];this._addNode(g.minimums[0],g.maximums[0],g.leaves[0]),this._construct(u,0,0,p,0)}raycastRoot(a,u,p,g,b,w,E=1){return lz([a,u,-100],[p,g,this.maximums[0]*E],b,w)}raycast(a,u,p,g,b,w,E=1){if(!this.nodeCount)return null;const O=this.raycastRoot(a,u,p,g,b,w,E);if(O==null)return null;const R=[],$=[],Z=[],V=[],X=[{idx:0,t:O,nodex:0,nodey:0,depth:0}];for(;X.length>0;){const{idx:Q,t:ne,nodex:ce,nodey:ge,depth:Te}=X.pop();if(this.leaves[Q]){dz(ce,ge,Te,a,u,p,g,Z,V);const Ie=1<<Te,Be=(ce+0)/Ie,Fe=(ce+1)/Ie,Ke=(ge+0)/Ie,tt=(ge+1)/Ie,ht=$p(Be,Ke,this.dem)*E,wt=$p(Fe,Ke,this.dem)*E,mt=$p(Fe,tt,this.dem)*E,Ft=$p(Be,tt,this.dem)*E,qt=cz(Z[0],Z[1],ht,V[0],Z[1],wt,V[0],V[1],mt,b,w),Ot=cz(V[0],V[1],mt,Z[0],V[1],Ft,Z[0],Z[1],ht,b,w),Wt=Math.min(qt!==null?qt:Number.MAX_VALUE,Ot!==null?Ot:Number.MAX_VALUE);if(Wt!==Number.MAX_VALUE)return Wt;{const Mt=o.N.scaleAndAdd([],b,w,ne);if(pz(ht,wt,Ft,mt,uz(Mt[0],Z[0],V[0]),uz(Mt[1],Z[1],V[1]))>=Mt[2])return ne}continue}let ke=0;for(let Ie=0;Ie<this._siblingOffset.length;Ie++){dz((ce<<1)+this._siblingOffset[Ie][0],(ge<<1)+this._siblingOffset[Ie][1],Te+1,a,u,p,g,Z,V),Z[2]=-100,V[2]=this.maximums[this.childOffsets[Q]+Ie]*E;const Be=lz(Z,V,b,w);if(Be!=null){const Fe=Be;R[Ie]=Fe;let Ke=!1;for(let tt=0;tt<ke&&!Ke;tt++)Fe>=R[$[tt]]&&($.splice(tt,0,Ie),Ke=!0);Ke||($[ke]=Ie),ke++}}for(let Ie=0;Ie<ke;Ie++){const Be=$[Ie];X.push({idx:this.childOffsets[Q]+Be,t:R[Be],nodex:(ce<<1)+this._siblingOffset[Be][0],nodey:(ge<<1)+this._siblingOffset[Be][1],depth:Te+1})}}return null}_addNode(a,u,p){return this.minimums.push(a),this.maximums.push(u),this.leaves.push(p),this.childOffsets.push(0),this.nodeCount++}_construct(a,u,p,g,b){if(a[g].isLeaf(u,p)===1)return;this.childOffsets[b]||(this.childOffsets[b]=this.nodeCount);const w=g-1,E=a[w];let O=0,R=0;for(let $=0;$<this._siblingOffset.length;$++){const Z=2*u+this._siblingOffset[$][0],V=2*p+this._siblingOffset[$][1],X=E.getElevation(Z,V),Q=E.isLeaf(Z,V),ne=this._addNode(X.min,X.max,Q);Q&&(O|=1<<$),R||(R=ne)}for(let $=0;$<this._siblingOffset.length;$++)O&1<<$||this._construct(a,2*u+this._siblingOffset[$][0],2*p+this._siblingOffset[$][1],w,R+$)}}function pz(l,a,u,p,g,b){return ur(ur(l,u,b),ur(a,p,b),g)}function $p(l,a,u){const p=u.dim,g=ue(l*p-.5,0,p-1),b=ue(a*p-.5,0,p-1),w=Math.floor(g),E=Math.floor(b),O=Math.min(w+1,p-1),R=Math.min(E+1,p-1);return pz(u.get(w,E),u.get(O,E),u.get(w,R),u.get(O,R),g-w,b-E)}const _ge={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function xge(l,a,u){return(256*l*256+256*a+u)/10-1e4}function wge(l,a,u){return 256*l+a+u/256-32768}class H5{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(a,u,p,g=!1){if(this.uid=a,u.height!==u.width)throw new RangeError("DEM tiles must be square");if(p&&p!=="mapbox"&&p!=="terrarium")return it(`"${p}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=u.height;const b=this.dim=u.height-2,w=new Uint32Array(u.data.buffer);if(this.pixels=new Uint8Array(u.data.buffer),this.floatView=new Float32Array(u.data.buffer),this.borderReady=g,this._modifiedForSources={},!g){for(let O=0;O<b;O++)w[this._idx(-1,O)]=w[this._idx(0,O)],w[this._idx(b,O)]=w[this._idx(b-1,O)],w[this._idx(O,-1)]=w[this._idx(O,0)],w[this._idx(O,b)]=w[this._idx(O,b-1)];w[this._idx(-1,-1)]=w[this._idx(0,0)],w[this._idx(b,-1)]=w[this._idx(b-1,0)],w[this._idx(-1,b)]=w[this._idx(0,b-1)],w[this._idx(b,b)]=w[this._idx(b-1,b-1)]}const E=p==="terrarium"?wge:xge;for(let O=0;O<w.length;++O){const R=4*O;this.floatView[O]=E(this.pixels[R],this.pixels[R+1],this.pixels[R+2])}this._timestamp=st.now()}_buildQuadTree(){this._tree=new hz(this)}get(a,u,p=!1){p&&(a=ue(a,-1,this.dim),u=ue(u,-1,this.dim));const g=this._idx(a,u);return this.floatView[g]}set(a,u,p){const g=this._idx(a,u),b=this.floatView[g];return this.floatView[g]=p,p-b}static getUnpackVector(a){return _ge[a]}_idx(a,u){if(a<-1||a>=this.dim+1||u<-1||u>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(u+1)*this.stride+(a+1)}static pack(a,u){const p=[0,0,0,0],g=H5.getUnpackVector(u);let b=Math.floor((a+g[3])/g[2]);return p[2]=b%256,b=Math.floor(b/256),p[1]=b%256,b=Math.floor(b/256),p[0]=b,p}getPixels(){return new Kj({width:this.stride,height:this.stride},this.pixels)}backfillBorder(a,u,p){if(this.dim!==a.dim)throw new Error("dem dimension mismatch");let g=u*this.dim,b=u*this.dim+this.dim,w=p*this.dim,E=p*this.dim+this.dim;switch(u){case-1:g=b-1;break;case 1:b=g+1}switch(p){case-1:w=E-1;break;case 1:E=w+1}const O=-u*this.dim,R=-p*this.dim;for(let $=w;$<E;$++)for(let Z=g;Z<b;Z++){const V=4*this._idx(Z,$),X=4*this._idx(Z+O,$+R);this.pixels[V+0]=a.pixels[X+0],this.pixels[V+1]=a.pixels[X+1],this.pixels[V+2]=a.pixels[X+2],this.pixels[V+3]=a.pixels[X+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Dn(H5,"DEMData"),Dn(hz,"DemMinMaxQuadTree",{omit:["dem"]});class Ky{constructor(a,u,p){this._demTile=a,this._dem=this._demTile.dem,this._scale=u,this._offset=p}static create(a,u,p){const g=p||a.findDEMTileFor(u);if(!g||!g.dem)return;const b=g.dem,w=g.tileID,E=1<<u.canonical.z-w.canonical.z;return new Ky(g,b.dim/Tn/E,[(u.canonical.x/E-w.canonical.x)*b.dim,(u.canonical.y/E-w.canonical.y)*b.dim])}tileCoordToPixel(a,u){const p=u*this._scale+this._offset[1],g=Math.floor(a*this._scale+this._offset[0]),b=Math.floor(p);return new K(g,b)}getElevationAt(a,u,p,g){const b=a*this._scale+this._offset[0],w=u*this._scale+this._offset[1],E=Math.floor(b),O=Math.floor(w),R=this._dem;return g=!!g,p?ur(ur(R.get(E,O,g),R.get(E,O+1,g),w-O),ur(R.get(E+1,O,g),R.get(E+1,O+1,g),w-O),b-E):R.get(E,O,g)}getElevationAtPixel(a,u,p){return this._dem.get(a,u,!!p)}getMeterToDEM(a){return(1<<this._demTile.tileID.canonical.z)*Tr(1,a)*this._dem.stride}}const Sge=B5.types,Age=["fill-extrusion-base","fill-extrusion-height","fill-extrusion-color","fill-extrusion-pattern","fill-extrusion-flood-light-wall-radius"],Cge=["fill-extrusion-flood-light-ground-radius"],Mge=Math.pow(2,13),Ege=Math.pow(2,15)-1,fz=new K(0,1),jp=2147483648;function P1(l,a,u,p,g,b,w,E){l.emplaceBack((a<<1)+w,(u<<1)+b,(Math.floor(p*Mge)<<1)+g,Math.round(E))}function V5(l,a,u,p,g,b){l.emplaceBack(a.x,a.y,(u.x<<1)+p,(u.y<<1)+g,b)}function I1(l,a,u){l.emplaceBack(a.x,a.y,a.z,u[0]*16384,u[1]*16384,u[2]*16384)}class mz{constructor(){this.vertexOffset=0,this.vertexCount=0,this.indexOffset=0,this.indexCount=0}}class gz{constructor(){this.centroidXY=new K(0,0),this.vertexArrayOffset=0,this.vertexCount=0,this.groundVertexArrayOffset=0,this.groundVertexCount=0,this.flags=0,this.footprintSegIdx=-1,this.footprintSegLen=0,this.polygonSegIdx=-1,this.polygonSegLen=0,this.min=new K(Number.MAX_VALUE,Number.MAX_VALUE),this.max=new K(-Number.MAX_VALUE,-Number.MAX_VALUE),this.height=0}span(){return new K(this.max.x-this.min.x,this.max.y-this.min.y)}}class yz{constructor(){this.acc=new K(0,0),this.accCount=0,this.centroidDataIndex=0}startRing(a,u){a.min.x===Number.MAX_VALUE&&(a.min.x=a.max.x=u.x,a.min.y=a.max.y=u.y)}appendEdge(a,u,p){this.accCount++,this.acc._add(u);let g=!!this.borders;u.x<a.min.x?(a.min.x=u.x,g=!0):u.x>a.max.x&&(a.max.x=u.x,g=!0),u.y<a.min.y?(a.min.y=u.y,g=!0):u.y>a.max.y&&(a.max.y=u.y,g=!0),((u.x===0||u.x===Tn)&&u.x===p.x)!=((u.y===0||u.y===Tn)&&u.y===p.y)&&this.processBorderOverlap(u,p),g&&this.checkBorderIntersection(u,p)}checkBorderIntersection(a,u){u.x<0!=a.x<0&&this.addBorderIntersection(0,ur(u.y,a.y,(0-u.x)/(a.x-u.x))),u.x>Tn!=a.x>Tn&&this.addBorderIntersection(1,ur(u.y,a.y,(Tn-u.x)/(a.x-u.x))),u.y<0!=a.y<0&&this.addBorderIntersection(2,ur(u.x,a.x,(0-u.y)/(a.y-u.y))),u.y>Tn!=a.y>Tn&&this.addBorderIntersection(3,ur(u.x,a.x,(Tn-u.y)/(a.y-u.y)))}addBorderIntersection(a,u){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const p=this.borders[a];u<p[0]&&(p[0]=u),u>p[1]&&(p[1]=u)}processBorderOverlap(a,u){if(a.x===u.x){if(a.y===u.y)return;const p=a.x===0?0:1;this.addBorderIntersection(p,u.y),this.addBorderIntersection(p,a.y)}else{const p=a.y===0?2:3;this.addBorderIntersection(p,u.x),this.addBorderIntersection(p,a.x)}}centroid(){return this.accCount===0?new K(0,0):new K(Math.floor(Math.max(0,this.acc.x)/this.accCount),Math.floor(Math.max(0,this.acc.y)/this.accCount))}intersectsCount(){return this.borders?this.borders.reduce((a,u)=>a+ +(u[0]!==Number.MAX_VALUE),0):0}}function vz(l,a){const u=l.add(a)._unit(),p=ue(l.x*u.x+l.y*u.y,-1,1);var g,b,w;return g=Math.acos(p),Math.min(4,Math.max(-4,Math.tan(g)))/4*Ege*((b=l).x*(w=a).y-b.y*w.x<0?-1:1)}const Tge=[l=>l.x<0,l=>l.x>Tn,l=>l.y<0,l=>l.y>Tn];function Pge(l,a,u,p){const g=[4];if(p===0)return g;u._mult(p);const b=l.sub(u),w=a.sub(u),E=[l,a,b,w];for(let O=0;O<4;O++)for(const R of E)if(Tge[O](R)){g.push(O);break}return g}class bz{constructor(a){this.vertexArray=new l1,this.indexArray=new fa,this.programConfigurations=new _e(a.layers,a.zoom,u=>Cge.includes(u)),this._segments=new Ao,this.hiddenByLandmarkVertexArray=new y1,this._segmentToGroundQuads={},this._segmentToGroundQuads[0]=[],this._segmentToRegionTriCounts={},this._segmentToRegionTriCounts[0]=[0,0,0,0,0],this.regionSegments={},this.regionSegments[4]=new Ao}getDefaultSegment(){return this.regionSegments[4]}hasData(){return this.vertexArray.length!==0}addData(a,u,p,g=!1){const b=a.length;if(b>2){let w=Math.max(0,this._segments.get().length-1);const E=this._segments._prepareSegment(4*b,this.vertexArray.length,2*this._segmentToGroundQuads[w].length);let O;w!==this._segments.get().length-1&&(w++,this._segmentToGroundQuads[w]=[],this._segmentToRegionTriCounts[w]=[0,0,0,0,0]);{const R=a[0],$=a[1];O=vz(R.sub(a[b-1])._perp()._unit(),$.sub(R)._perp()._unit())}for(let R=0;R<b;R++){const $=R===b-1?0:R+1,Z=a[R],V=a[$],X=a[$===b-1?0:$+1],Q=V.sub(Z)._perp()._unit(),ne=vz(Q,X.sub(V)._perp()._unit()),ce=O,ge=ne;if(sO(Z,V,u)||g&&wz(Z,u)&&wz(V,u)){O=ne;continue}const Te=E.vertexLength;V5(this.vertexArray,Z,V,1,1,ce),V5(this.vertexArray,Z,V,1,0,ce),V5(this.vertexArray,Z,V,0,1,ge),V5(this.vertexArray,Z,V,0,0,ge),E.vertexLength+=4;const ke=Pge(Z,V,Q,p);for(const Ie of ke)this._segmentToGroundQuads[w].push({id:Te,region:Ie}),this._segmentToRegionTriCounts[w][Ie]+=2,E.primitiveLength+=2;O=ne}}}prepareBorderSegments(){if(!this.hasData())return;const a=this._segments.get(),u=a.length;for(let p=0;p<u;p++)this._segmentToGroundQuads[p].sort((g,b)=>g.region-b.region);for(let p=0;p<u;p++){const g=this._segmentToGroundQuads[p],b=a[p],w=this._segmentToRegionTriCounts[p];w.reduce((O,R)=>O+R,0);let E=0;for(let O=0;O<=4;O++){const R=w[O];if(R!==0){let $=this.regionSegments[O];$||($=this.regionSegments[O]=new Ao);const Z={vertexOffset:b.vertexOffset,primitiveOffset:b.primitiveOffset+E,vertexLength:b.vertexLength,primitiveLength:R};$.get().push(Z)}E+=R}for(let O=0;O<g.length;O++){const R=g[O].id;this.indexArray.emplaceBack(R,R+1,R+3),this.indexArray.emplaceBack(R,R+3,R+2)}}this._segmentToGroundQuads=null,this._segmentToRegionTriCounts=null,this._segments.destroy(),this._segments=null}addPaintPropertiesData(a,u,p,g,b,w){this.hasData()&&this.programConfigurations.populatePaintArrays(this.vertexArray.length,a,u,p,g,b,w)}upload(a){this.hasData()&&(this.vertexBuffer=a.createVertexBuffer(this.vertexArray,sge.members),this.indexBuffer=a.createIndexBuffer(this.indexArray))}uploadPaintProperties(a){this.hasData()&&this.programConfigurations.upload(a)}update(a,u,p,g,b,w){this.hasData()&&this.programConfigurations.updatePaintArrays(a,u,p,g,b,w)}updateHiddenByLandmark(a){if(!this.hasData())return;const u=a.groundVertexCount+a.groundVertexArrayOffset;if(a.groundVertexCount===0)return;const p=a.flags&jp?1:0;for(let g=a.groundVertexArrayOffset;g<u;++g)this.hiddenByLandmarkVertexArray.emplace(g,p);this._needsHiddenByLandmarkUpdate=!0}uploadHiddenByLandmark(a){this.hasData()&&this._needsHiddenByLandmarkUpdate&&(!this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexArray.length>0?this.hiddenByLandmarkVertexBuffer=a.createVertexBuffer(this.hiddenByLandmarkVertexArray,cge.members,!0):this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.updateData(this.hiddenByLandmarkVertexArray),this._needsHiddenByLandmarkUpdate=!1)}destroy(){if(this.vertexBuffer){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.destroy(),this._segments&&this._segments.destroy(),this.programConfigurations.destroy();for(let a=0;a<=4;a++){const u=this.regionSegments[a];u&&u.destroy()}}}}class W5{constructor(a){this.zoom=a.zoom,this.canonical=a.canonical,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(u=>u.fqid),this.index=a.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=a.projection,this.activeReplacements=[],this.replacementUpdateTime=0,this.centroidData=[],this.footprintIndices=new fa,this.footprintVertices=new Ql,this.footprintSegments=[],this.layoutVertexArray=new pu,this.centroidVertexArray=new Dm,this.indexArray=new fa,this.programConfigurations=new _e(a.layers,a.zoom,u=>Age.includes(u)),this.segments=new Ao,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id),this.groundEffect=new bz(a),this.maxHeight=0,this.partLookup={},this.triangleSubSegments=[],this.polygonSegments=[]}populate(a,u,p,g){this.features=[],this.hasPattern=rO("fill-extrusion",this.layers,u),this.featuresOnBorder=[],this.borderFeatureIndices=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=Ur(p),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:b,id:w,index:E,sourceLayerIndex:O}of a){const R=this.layers[0]._featureFilter.needGeometry,$=Jo(b,R);if(!this.layers[0]._featureFilter.filter(new co(this.zoom),$,p))continue;const Z={id:w,sourceLayerIndex:O,index:E,geometry:R?$.geometry:ga(b,p,g),properties:b.properties,type:b.type,patterns:{}},V=this.layoutVertexArray.length;this.hasPattern?this.features.push(iO("fill-extrusion",this.layers,Z,this.zoom,u)):this.addFeature(Z,Z.geometry,E,p,{},u.availableImages,g,u.brightness),u.featureIndex.insert(b,Z.geometry,E,O,this.index,V)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles(),this.groundEffect.prepareBorderSegments(),this.polygonSegments.length=0}addFeatures(a,u,p,g,b,w){for(const E of this.features){const{geometry:O}=E;this.addFeature(E,O,E.index,u,p,g,b,w)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles()}update(a,u,p,g,b){const w=Object.keys(a).length!==0;if(w&&!this.stateDependentLayers.length)return;const E=w?this.stateDependentLayers:this.layers;this.programConfigurations.updatePaintArrays(a,u,E,p,g,b),this.groundEffect.update(a,u,E,p,g,b)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload||this.groundEffect.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,dge),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=a.createVertexBuffer(this.layoutVertexExtArray,uge.members,!0)),this.groundEffect.upload(a)),this.groundEffect.uploadPaintProperties(a),this.programConfigurations.upload(a),this.uploaded=!0}uploadCentroid(a){this.groundEffect.uploadHiddenByLandmark(a),this.needsCentroidUpdate&&(!this.centroidVertexBuffer&&this.centroidVertexArray.length>0?this.centroidVertexBuffer=a.createVertexBuffer(this.centroidVertexArray,lge.members,!0):this.centroidVertexBuffer&&this.centroidVertexBuffer.updateData(this.centroidVertexArray),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.groundEffect.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(a,u,p,g,b,w,E,O){const R=this.layers[0].paint.get("fill-extrusion-flood-light-ground-radius").evaluate(a,{})/this.tileToMeter,$=[new K(0,0),new K(Tn,Tn)],Z=E.projection,V=Z.name==="globe",X=Sge[a.type]==="Polygon",Q=new yz;Q.centroidDataIndex=this.centroidData.length;const ne=new gz,ce=this.layers[0].paint.get("fill-extrusion-base").evaluate(a,{},g)<=0,ge=this.layers[0].paint.get("fill-extrusion-height").evaluate(a,{},g);ne.height=ge,ne.vertexArrayOffset=this.layoutVertexArray.length,ne.groundVertexArrayOffset=this.groundEffect.vertexArray.length,V&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Fy);const Te=nO(u,500);for(let tt=Te.length-1;tt>=0;tt--){const ht=Te[tt];(ht.length===0||(ke=ht[0]).every(wt=>wt.x<=0)||ke.every(wt=>wt.x>=Tn)||ke.every(wt=>wt.y<=0)||ke.every(wt=>wt.y>=Tn))&&Te.splice(tt,1)}var ke;let Ie;if(V)Ie=Mz(Te,$,g);else{Ie=[];for(const tt of Te)Ie.push({polygon:tt,bounds:$})}const Be=X?this.edgeRadius:0,Fe=Be>0&&this.zoom<17,Ke=(tt,ht)=>{if(tt.length===0)return!1;const wt=tt[tt.length-1];return ht.x===wt.x&&ht.y===wt.y};for(const{polygon:tt,bounds:ht}of Ie){let wt=0,mt=0;for(const Wt of tt)X&&!Wt[0].equals(Wt[Wt.length-1])&&Wt.push(Wt[0]),mt+=X?Wt.length-1:Wt.length;const Ft=this.segments.prepareSegment((X?5:4)*mt,this.layoutVertexArray,this.indexArray);ne.footprintSegIdx<0&&(ne.footprintSegIdx=this.footprintSegments.length),ne.polygonSegIdx<0&&(ne.polygonSegIdx=this.polygonSegments.length);const qt={triangleArrayOffset:this.indexArray.length,triangleCount:0,triangleSegIdx:this.segments.segments.length-1},Ot=new mz;if(Ot.vertexOffset=this.footprintVertices.length,Ot.indexOffset=3*this.footprintIndices.length,Ot.ringIndices=[],X){const Wt=[],Mt=[];wt=Ft.vertexLength;for(let wn=0;wn<tt.length;wn++){const Xt=tt[wn];Xt.length&&wn!==0&&Mt.push(Wt.length/2);const Hn=[];let On,nn;On=Xt[1].sub(Xt[0])._perp()._unit(),Ot.ringIndices.push(Xt.length-1);for(let fr=1;fr<Xt.length;fr++){const Yn=Xt[fr],Zn=Xt[fr===Xt.length-1?1:fr+1],rn=Yn.clone();if(Be){nn=Zn.sub(Yn)._perp()._unit();const or=On.add(nn)._unit(),Lr=Be*Math.min(4,1/(On.x*or.x+On.y*or.y));rn.x+=Lr*or.x,rn.y+=Lr*or.y,rn.x=Math.round(rn.x),rn.y=Math.round(rn.y),On=nn}!ce||Be!==0&&!Fe||Ke(Hn,rn)||Hn.push(rn),P1(this.layoutVertexArray,rn.x,rn.y,0,0,1,1,0),Ft.vertexLength++,this.footprintVertices.emplaceBack(Yn.x,Yn.y),Wt.push(Yn.x,Yn.y),V&&I1(this.layoutVertexExtArray,Z.projectTilePoint(rn.x,rn.y,g),Z.upVector(g,rn.x,rn.y))}ce&&(Be===0||Fe)&&(Hn.length!==0&&Ke(Hn,Hn[0])&&Hn.pop(),this.groundEffect.addData(Hn,ht,R))}const Vt=j5(Wt,Mt);for(let wn=0;wn<Vt.length;wn+=3)this.footprintIndices.emplaceBack(Ot.vertexOffset+Vt[wn+0],Ot.vertexOffset+Vt[wn+1],Ot.vertexOffset+Vt[wn+2]),this.indexArray.emplaceBack(wt+Vt[wn],wt+Vt[wn+2],wt+Vt[wn+1]),Ft.primitiveLength++;Ot.indexCount+=Vt.length,Ot.vertexCount+=this.footprintVertices.length-Ot.vertexOffset}for(let Wt=0;Wt<tt.length;Wt++){const Mt=tt[Wt];Q.startRing(ne,Mt[0]);let Vt=Mt.length>4&&Sz(Mt[Mt.length-2],Mt[0],Mt[1]),wn=Be?Ige(Mt[Mt.length-2],Mt[0],Mt[1],Be):0;const Xt=[];let Hn,On,nn;On=Mt[1].sub(Mt[0])._perp()._unit();let fr=!0;for(let Yn=1,Zn=0;Yn<Mt.length;Yn++){let rn=Mt[Yn-1],or=Mt[Yn];const Lr=Mt[Yn===Mt.length-1?1:Yn+1];if(Q.appendEdge(ne,or,rn),sO(or,rn,ht)){Be&&(On=Lr.sub(or)._perp()._unit(),fr=!fr);continue}const mr=or.sub(rn)._perp(),Fr=mr.x/(Math.abs(mr.x)+Math.abs(mr.y)),wr=mr.y>0?1:0,qr=rn.dist(or);if(Zn+qr>32768&&(Zn=0),Be){nn=Lr.sub(or)._perp()._unit();let ui=xz(rn,or,Lr,_z(On,nn),Be);isNaN(ui)&&(ui=0);const gi=or.sub(rn)._unit();rn=rn.add(gi.mult(wn))._round(),or=or.add(gi.mult(-ui))._round(),wn=ui,On=nn,ce&&this.zoom>=17&&(Ke(Xt,rn)||Xt.push(rn),Ke(Xt,or)||Xt.push(or))}const Pr=Ft.vertexLength,Ni=Mt.length>4&&Sz(rn,or,Lr);let ai=Az(Zn,Vt,fr);if(P1(this.layoutVertexArray,rn.x,rn.y,Fr,wr,0,0,ai),P1(this.layoutVertexArray,rn.x,rn.y,Fr,wr,0,1,ai),Zn+=qr,ai=Az(Zn,Ni,!fr),Vt=Ni,P1(this.layoutVertexArray,or.x,or.y,Fr,wr,0,0,ai),P1(this.layoutVertexArray,or.x,or.y,Fr,wr,0,1,ai),Ft.vertexLength+=4,this.indexArray.emplaceBack(Pr+0,Pr+1,Pr+2),this.indexArray.emplaceBack(Pr+1,Pr+3,Pr+2),Ft.primitiveLength+=2,Be){const ui=wt+(Yn===1?Mt.length-2:Yn-2),gi=Yn===1?wt:ui+1;if(this.indexArray.emplaceBack(Pr+1,ui,Pr+3),this.indexArray.emplaceBack(ui,gi,Pr+3),Ft.primitiveLength+=2,Hn===void 0&&(Hn=Pr),!sO(Lr,Mt[Yn],ht)){const si=Yn===Mt.length-1?Hn:Ft.vertexLength;this.indexArray.emplaceBack(Pr+2,Pr+3,si),this.indexArray.emplaceBack(Pr+3,si+1,si),this.indexArray.emplaceBack(Pr+3,gi,si+1),Ft.primitiveLength+=3}fr=!fr}if(V){const ui=this.layoutVertexExtArray,gi=Z.projectTilePoint(rn.x,rn.y,g),si=Z.projectTilePoint(or.x,or.y,g),oo=Z.upVector(g,rn.x,rn.y),Ai=Z.upVector(g,or.x,or.y);I1(ui,gi,oo),I1(ui,gi,oo),I1(ui,si,Ai),I1(ui,si,Ai)}}X&&(wt+=Mt.length-1),ce&&Be&&this.zoom>=17&&(Xt.length!==0&&Ke(Xt,Xt[0])&&Xt.pop(),this.groundEffect.addData(Xt,ht,R,Be>0))}this.footprintSegments.push(Ot),qt.triangleCount=this.indexArray.length-qt.triangleArrayOffset,this.polygonSegments.push(qt),++ne.footprintSegLen,++ne.polygonSegLen}if(ne.vertexCount=this.layoutVertexArray.length-ne.vertexArrayOffset,ne.groundVertexCount=this.groundEffect.vertexArray.length-ne.groundVertexArrayOffset,ne.vertexCount!==0){if(ne.centroidXY=Q.borders?fz:this.encodeCentroid(Q,ne),this.centroidData.push(ne),Q.borders){this.featuresOnBorder.push(Q);const tt=this.featuresOnBorder.length-1;for(let ht=0;ht<Q.borders.length;ht++)Q.borders[ht][0]!==Number.MAX_VALUE&&this.borderFeatureIndices[ht].push(tt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,p,b,w,g,O),this.groundEffect.addPaintPropertiesData(a,p,b,w,g,O),this.maxHeight=Math.max(this.maxHeight,ge)}}sortBorders(){for(let a=0;a<this.borderFeatureIndices.length;a++)this.borderFeatureIndices[a].sort((u,p)=>this.featuresOnBorder[u].borders[a][0]-this.featuresOnBorder[p].borders[a][0])}splitToSubtiles(){const a=[];for(let E=0;E<this.centroidData.length;E++){const O=this.centroidData[E],R=+(O.min.y+O.max.y>Tn),$=2*R+(+(O.min.x+O.max.x>Tn)^R);for(let Z=0;Z<O.polygonSegLen;Z++){const V=O.polygonSegIdx+Z;a.push({centroidIdx:E,subtile:$,polygonSegmentIdx:V,triangleSegmentIdx:this.polygonSegments[V].triangleSegIdx})}}const u=new fa;a.sort((E,O)=>E.triangleSegmentIdx===O.triangleSegmentIdx?E.subtile-O.subtile:E.triangleSegmentIdx-O.triangleSegmentIdx);let p=0,g=0,b=0;for(const E of a){if(E.triangleSegmentIdx!==p)break;b++}const w=a.length;for(;g!==a.length;){p=a[g].triangleSegmentIdx;let E=0,O=g,R=g;for(let $=O;$<b&&a[$].subtile===E;$++)R++;for(;O!==b;){const $=a[O];E=$.subtile;const Z=this.centroidData[$.centroidIdx].min.clone(),V=this.centroidData[$.centroidIdx].max.clone(),X={vertexOffset:this.segments.segments[p].vertexOffset,primitiveOffset:u.length,vertexLength:this.segments.segments[p].vertexLength,primitiveLength:0,sortKey:void 0,vaos:{}};for(let Q=O;Q<R;Q++){const ne=a[Q],ce=this.polygonSegments[ne.polygonSegmentIdx],ge=this.centroidData[ne.centroidIdx].min,Te=this.centroidData[ne.centroidIdx].max,ke=this.indexArray.uint16;for(let Ie=ce.triangleArrayOffset;Ie<ce.triangleArrayOffset+ce.triangleCount;Ie++)u.emplaceBack(ke[3*Ie],ke[3*Ie+1],ke[3*Ie+2]);X.primitiveLength+=ce.triangleCount,Z.x=Math.min(Z.x,ge.x),Z.y=Math.min(Z.y,ge.y),V.x=Math.max(V.x,Te.x),V.y=Math.max(V.y,Te.y)}X.primitiveLength>0&&this.triangleSubSegments.push({segment:X,min:Z,max:V}),O=R;for(let Q=O;Q<b&&a[Q].subtile===a[O].subtile;Q++)R++}g=b;for(let $=g;$<w&&a[$].triangleSegmentIdx===a[g].triangleSegmentIdx;$++)b++}u._trim(),this.indexArray=u}getVisibleSegments(a,u,p){let g=0,b=0;const w=1<<a.canonical.z;if(u){const ne=u.getMinMaxForTile(a);ne&&(g=ne.min,b=ne.max)}b+=this.maxHeight;const E=a.toUnwrapped();let O;const R=[E.canonical.x/w+E.wrap,E.canonical.y/w],$=[(E.canonical.x+1)/w+E.wrap,(E.canonical.y+1)/w],Z=new Ao,V=(ne,ce,ge)=>[ne[0]*(1-ge[0])+ce[0]*ge[0],ne[1]*(1-ge[1])+ce[1]*ge[1]],X=[],Q=[];for(const ne of this.triangleSubSegments){X[0]=ne.min.x/Tn,X[1]=ne.min.y/Tn,Q[0]=ne.max.x/Tn,Q[1]=ne.max.y/Tn;const ce=V(R,$,X),ge=V(R,$,Q);if(new vo([ce[0],ce[1],g],[ge[0],ge[1],b]).intersectsPrecise(p)===0){O&&(Z.segments.push(O),O=void 0);continue}const Te=ne.segment;O&&O.vertexOffset!==Te.vertexOffset&&(Z.segments.push(O),O=void 0),O?(O.vertexLength+=Te.vertexLength,O.primitiveLength+=Te.primitiveLength):O={vertexOffset:Te.vertexOffset,primitiveLength:Te.primitiveLength,vertexLength:Te.vertexLength,primitiveOffset:Te.primitiveOffset,sortKey:void 0,vaos:{}}}return O&&Z.segments.push(O),Z}encodeCentroid(a,u){const p=a.centroid(),g=u.span(),b=Math.min(7,Math.round(g.x*this.tileToMeter/10)),w=Math.min(7,Math.round(g.y*this.tileToMeter/10));return new K(ue(p.x,1,Tn-1)<<3|b,ue(p.y,1,Tn-1)<<3|w)}encodeBorderCentroid(a){if(!a.borders)return new K(0,0);const u=a.borders,p=Number.MAX_VALUE;if(u[0][0]!==p||u[1][0]!==p){const g=u[0][0]!==p?0:1;return new K(6|(u[0][0]!==p?0:65528),(u[g][0]+u[g][1])/2<<3|6)}{const g=u[2][0]!==p?2:3;return new K((u[g][0]+u[g][1])/2<<3|6,6|(u[2][0]!==p?0:65528))}}showCentroid(a){const u=this.centroidData[a.centroidDataIndex];u.flags&=jp,u.centroidXY.x=0,u.centroidXY.y=0,this.writeCentroidToBuffer(u)}writeCentroidToBuffer(a){this.groundEffect.updateHiddenByLandmark(a);const u=a.vertexArrayOffset,p=a.vertexCount+a.vertexArrayOffset,g=a.flags&jp?fz:a.centroidXY,b=this.centroidVertexArray.geta_centroid_pos0(u);if(this.centroidVertexArray.geta_centroid_pos1(u)!==g.y||b!==g.x){for(let w=u;w<p;++w)this.centroidVertexArray.emplace(w,g.x,g.y);this.needsCentroidUpdate=!0}}createCentroidsBuffer(){this.centroidVertexArray.resize(this.layoutVertexArray.length),this.groundEffect.hiddenByLandmarkVertexArray.resize(this.groundEffect.vertexArray.length);for(const a of this.centroidData)this.writeCentroidToBuffer(a)}updateReplacement(a,u){if(u.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=u.updateTime;const p=u.getReplacementRegionsForTile(a.toUnwrapped());if(function(b,w){if(b.length!==w.length)return!1;for(let E=0;E<b.length;E++)if(b[E].sourceId!==w[E].sourceId||!nz(b[E],w[E]))return!1;return!0}(this.activeReplacements,p))return;if(this.activeReplacements=p,this.centroidVertexArray.length===0)this.createCentroidsBuffer();else for(const b of this.centroidData)b.flags&=2147483647;const g=[];for(const b of this.activeReplacements){const w=Math.pow(2,b.footprintTileId.canonical.z-a.canonical.z);for(const E of this.centroidData)if(!(E.flags&jp||b.min.x>E.max.x||E.min.x>b.max.x||b.min.y>E.max.y||E.min.y>b.max.y))for(let O=0;O<E.footprintSegLen;O++){const R=this.footprintSegments[E.footprintSegIdx+O];if(g.length=0,Oge(this.footprintVertices,R.vertexOffset,R.vertexCount,b.footprintTileId.canonical,a.canonical,g),oz(b.footprint,g,this.footprintIndices.uint16,R.indexOffset,R.indexCount,-R.vertexOffset,-w)){E.flags|=jp;break}}}for(const b of this.centroidData)this.writeCentroidToBuffer(b);this.borderDoneWithNeighborZ=[-1,-1,-1,-1]}footprintContainsPoint(a,u,p){let g=!1;for(let b=0;b<p.footprintSegLen;b++){const w=this.footprintSegments[p.footprintSegIdx+b];let E=0;for(const O of w.ringIndices){for(let R=E,$=O+E-1;R<O+E;$=R++){const Z=this.footprintVertices.int16[2*(R+w.vertexOffset)+0],V=this.footprintVertices.int16[2*(R+w.vertexOffset)+1],X=this.footprintVertices.int16[2*($+w.vertexOffset)+1];V>u!=X>u&&a<(this.footprintVertices.int16[2*($+w.vertexOffset)+0]-Z)*(u-V)/(X-V)+Z&&(g=!g)}E=O}}return g}getHeightAtTileCoord(a,u){let p=Number.NEGATIVE_INFINITY,g=!0;const b=4*(a+Tn)*Tn+(u+Tn);if(this.partLookup.hasOwnProperty(b)){const w=this.partLookup[b];return w?{height:w.height,hidden:!!(w.flags&jp)}:void 0}for(const w of this.centroidData)a>w.max.x||w.min.x>a||u>w.max.y||w.min.y>u||this.footprintContainsPoint(a,u,w)&&w&&w.height>p&&(p=w.height,this.partLookup[b]=w,g=!!(w.flags&jp));if(p!==Number.NEGATIVE_INFINITY)return{height:p,hidden:g};this.partLookup[b]=void 0}}function _z(l,a){const u=l.add(a)._unit();return l.x*u.x+l.y*u.y}function Ige(l,a,u,p){const g=a.sub(l)._perp()._unit(),b=u.sub(a)._perp()._unit();return xz(l,a,u,_z(g,b),p)}function xz(l,a,u,p,g){const b=Math.sqrt(1-p*p);return Math.min(l.dist(a)/3,a.dist(u)/3,g*b/p)}function sO(l,a,u){return l.x<u[0].x&&a.x<u[0].x||l.x>u[1].x&&a.x>u[1].x||l.y<u[0].y&&a.y<u[0].y||l.y>u[1].y&&a.y>u[1].y}function wz(l,a){return l.x<a[0].x||l.x>a[1].x||l.y<a[0].y||l.y>a[1].y}function Sz(l,a,u){if(l.x<0||l.x>=Tn||a.x<0||a.x>=Tn||u.x<0||u.x>=Tn)return!1;const p=u.sub(a),g=p.perp(),b=l.sub(a);return(p.x*b.x+p.y*b.y)/Math.sqrt((p.x*p.x+p.y*p.y)*(b.x*b.x+b.y*b.y))>-.866&&g.x*b.x+g.y*b.y<0}function Az(l,a,u){const p=a?2|l:-3&l;return u?1|p:-2&p}function Cz(){const l=Math.PI/32,a=Math.tan(l),u=It;return u*Math.sqrt(1+2*a*a)-u}function Mz(l,a,u){const p=1<<u.z,g=Cr(u.x/p),b=Cr((u.x+1)/p),w=Jr(u.y/p),E=Jr((u.y+1)/p);return function(O,R,$,Z,V=0,X){const Q=[];if(!O.length||!$||!Z)return Q;const ne=(Fe,Ke)=>{for(const tt of Fe)Q.push({polygon:tt,bounds:Ke})},ce=Math.ceil(Math.log2($)),ge=Math.ceil(Math.log2(Z)),Te=ce-ge,ke=[];for(let Fe=0;Fe<Math.abs(Te);Fe++)ke.push(Te>0?0:1);for(let Fe=0;Fe<Math.min(ce,ge);Fe++)ke.push(0),ke.push(1);let Ie=O;if(Ie=Z5(Ie,R[0].y-V,R[1].y+V,1),Ie=Z5(Ie,R[0].x-V,R[1].x+V,0),!Ie.length)return Q;const Be=[];for(ke.length?Be.push({polygons:Ie,bounds:R,depth:0}):ne(Ie,R);Be.length;){const Fe=Be.pop(),Ke=Fe.depth,tt=ke[Ke],ht=Fe.bounds[0],wt=Fe.bounds[1],mt=tt===0?ht.x:ht.y,Ft=tt===0?wt.x:wt.y,qt=X?X(tt,mt,Ft):.5*(mt+Ft),Ot=Z5(Fe.polygons,mt-V,qt+V,tt),Wt=Z5(Fe.polygons,qt-V,Ft+V,tt);if(Ot.length){const Mt=[ht,new K(tt===0?qt:wt.x,tt===1?qt:wt.y)];ke.length>Ke+1?Be.push({polygons:Ot,bounds:Mt,depth:Ke+1}):ne(Ot,Mt)}if(Wt.length){const Mt=[new K(tt===0?qt:ht.x,tt===1?qt:ht.y),wt];ke.length>Ke+1?Be.push({polygons:Wt,bounds:Mt,depth:Ke+1}):ne(Wt,Mt)}}return Q}(l,a,Math.ceil((b-g)/11.25),Math.ceil((w-E)/11.25),1,(O,R,$)=>{if(O===0)return .5*(R+$);{const Z=Jr((u.y+R/Tn)/p);return(br(.5*(Jr((u.y+$/Tn)/p)+Z))*p-u.y)*Tn}})}function Oge(l,a,u,p,g,b){const w=Math.pow(2,p.z-g.z);for(let E=0;E<u;E++){let O=l.int16[2*(E+a)+0],R=l.int16[2*(E+a)+1];O=(O+g.x*Tn)*w-p.x*Tn,R=(R+g.y*Tn)*w-p.y*Tn,b.push(new K(O,R))}}Dn(W5,"FillExtrusionBucket",{omit:["layers","features"]}),Dn(gz,"PartData"),Dn(mz,"FootprintSegment"),Dn(yz,"BorderCentroidData"),Dn(bz,"GroundEffect");const kge=new uo({visibility:new bn(bt["layout_fill-extrusion"].visibility),"fill-extrusion-edge-radius":new bn(bt["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Nge={paint:new uo({"fill-extrusion-opacity":new bn(bt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ir(bt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new bn(bt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new bn(bt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ir(bt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ir(bt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ir(bt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new bn(bt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new bn(bt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new bn(bt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-ambient-occlusion-wall-radius":new bn(bt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-wall-radius"]),"fill-extrusion-ambient-occlusion-ground-radius":new bn(bt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-radius"]),"fill-extrusion-ambient-occlusion-ground-attenuation":new bn(bt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-attenuation"]),"fill-extrusion-flood-light-color":new bn(bt["paint_fill-extrusion"]["fill-extrusion-flood-light-color"]),"fill-extrusion-flood-light-intensity":new bn(bt["paint_fill-extrusion"]["fill-extrusion-flood-light-intensity"]),"fill-extrusion-flood-light-wall-radius":new ir(bt["paint_fill-extrusion"]["fill-extrusion-flood-light-wall-radius"]),"fill-extrusion-flood-light-ground-radius":new ir(bt["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-radius"]),"fill-extrusion-flood-light-ground-attenuation":new bn(bt["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-attenuation"]),"fill-extrusion-vertical-scale":new bn(bt["paint_fill-extrusion"]["fill-extrusion-vertical-scale"]),"fill-extrusion-rounded-roof":new bn(bt["paint_fill-extrusion"]["fill-extrusion-rounded-roof"]),"fill-extrusion-cutoff-fade-range":new bn(bt["paint_fill-extrusion"]["fill-extrusion-cutoff-fade-range"]),"fill-extrusion-emissive-strength":new bn(bt["paint_fill-extrusion"]["fill-extrusion-emissive-strength"])}),layout:kge};class qy extends K{constructor(a,u,p){super(a,u),this.z=p}}function O1(l,a){return l.x*a.x+l.y*a.y}function Ez(l,a){if(l.length===1){let u=0;const p=a[u++];let g;for(;!g||p.equals(g);)if(g=a[u++],!g)return 1/0;for(;u<a.length;u++){const b=a[u],w=l[0],E=g.sub(p),O=b.sub(p),R=w.sub(p),$=O1(E,E),Z=O1(E,O),V=O1(O,O),X=O1(R,E),Q=O1(R,O),ne=$*V-Z*Z,ce=(V*X-Z*Q)/ne,ge=($*Q-Z*X)/ne,Te=p.z*(1-ce-ge)+g.z*ce+b.z*ge;if(isFinite(Te))return Te}return 1/0}{let u=1/0;for(const p of a)u=Math.min(u,p.z);return u}}function Tz(l,a,u,p,g,b,w,E){const O=w*g.getElevationAt(l,a,!0,!0),R=b[0]!==0,$=R?b[1]===0?w*(b[0]/7-450):w*function(Z,V,X){const Q=Math.floor(V[0]/8),ne=Math.floor(V[1]/8),ce=10*(V[0]-8*Q),ge=10*(V[1]-8*ne),Te=Z.getElevationAt(Q,ne,!0,!0),ke=Z.getMeterToDEM(X),Ie=Math.floor(.5*(ce*ke-1)),Be=Math.floor(.5*(ge*ke-1)),Fe=Z.tileCoordToPixel(Q,ne),Ke=2*Ie+1,tt=2*Be+1,ht=function(Wt,Mt,Vt,wn,Xt){return[Wt.getElevationAtPixel(Mt,Vt,!0),Wt.getElevationAtPixel(Mt+Xt,Vt,!0),Wt.getElevationAtPixel(Mt,Vt+Xt,!0),Wt.getElevationAtPixel(Mt+wn,Vt+Xt,!0)]}(Z,Fe.x-Ie,Fe.y-Be,Ke,tt),wt=Math.abs(ht[0]-ht[1]),mt=Math.abs(ht[2]-ht[3]),Ft=Math.abs(ht[0]-ht[2])+Math.abs(ht[1]-ht[3]),qt=Math.min(.25,.5*ke*(wt+mt)/Ke),Ot=Math.min(.25,.5*ke*Ft/tt);return Te+Math.max(qt*ce,Ot*ge)}(g,b,E):O;return{base:O+(u===0)?-1:u,top:R?Math.max($+p,O+u+2):O+p}}const Rge=bi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Dge}=Rge,Lge=bi([{name:"a_packed",components:4,type:"Float32"}]),{members:Fge}=Lge;class Pz{constructor(a,u){this.width=a,this.height=u,this.nextRow=0,this.image=new Fp({width:a,height:u}),this.positions={},this.uploaded=!1}getDash(a,u){const p=this.getKey(a,u);return this.positions[p]}trim(){const a=this.width,u=this.height=et(this.nextRow);this.image.resize({width:a,height:u})}getKey(a,u){return a.join(",")+u}getDashRanges(a,u,p){const g=[];let b=a.length%2==1?-a[a.length-1]*p:0,w=a[0]*p,E=!0;g.push({left:b,right:w,isDash:E,zeroLength:a[0]===0});let O=a[0];for(let R=1;R<a.length;R++){E=!E;const $=a[R];b=O*p,O+=$,w=O*p,g.push({left:b,right:w,isDash:E,zeroLength:$===0})}return g}addRoundDash(a,u,p){const g=u/2;for(let b=-p;b<=p;b++){const w=this.width*(this.nextRow+p+b);let E=0,O=a[E];for(let R=0;R<this.width;R++){R/O.right>1&&(O=a[++E]);const $=Math.abs(R-O.left),Z=Math.abs(R-O.right),V=Math.min($,Z);let X;const Q=b/p*(g+1);if(O.isDash){const ne=g-Math.abs(Q);X=Math.sqrt(V*V+ne*ne)}else X=g-Math.sqrt(V*V+Q*Q);this.image.data[w+R]=Math.max(0,Math.min(255,X+128))}}}addRegularDash(a,u){for(let O=a.length-1;O>=0;--O){const R=a[O],$=a[O+1];R.zeroLength?a.splice(O,1):$&&$.isDash===R.isDash&&($.left=R.left,a.splice(O,1))}const p=a[0],g=a[a.length-1];p.isDash===g.isDash&&(p.left=g.left-this.width,g.right=p.right+this.width);const b=this.width*this.nextRow;let w=0,E=a[w];for(let O=0;O<this.width;O++){O/E.right>1&&(E=a[++w]);const R=Math.abs(O-E.left),$=Math.abs(O-E.right),Z=Math.min(R,$);this.image.data[b+O]=Math.max(0,Math.min(255,(E.isDash?Z:-Z)+u+128))}}addDash(a,u){const p=this.getKey(a,u);if(this.positions[p])return this.positions[p];const g=u==="round",b=g?7:0,w=2*b+1;if(this.nextRow+w>this.height)return it("LineAtlas out of space"),null;a.length===0&&a.push(1);let E=0;for(let $=0;$<a.length;$++)a[$]<0&&(it("Negative value is found in line dasharray, replacing values with 0"),a[$]=0),E+=a[$];if(E!==0){const $=this.width/E,Z=this.getDashRanges(a,this.width,$);g?this.addRoundDash(Z,$,b):this.addRegularDash(Z,u==="square"?.5*$:0)}const O=this.nextRow+b;this.nextRow+=w;const R={tl:[O,b],br:[E,0]};return this.positions[p]=R,R}}Dn(Pz,"LineAtlas");const $ge=B5.types,jge=Math.cos(Math.PI/180*37.5);class lO{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(u=>u.fqid),this.index=a.index,this.projection=a.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(u=>{this.gradients[u.id]={}}),this.layoutVertexArray=new c1,this.layoutVertexArray2=new bd,this.indexArray=new fa,this.programConfigurations=new _e(a.layers,a.zoom),this.segments=new Ao,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}populate(a,u,p,g){this.hasPattern=rO("line",this.layers,u);const b=this.layers[0].layout.get("line-sort-key"),w=[];for(const{feature:$,id:Z,index:V,sourceLayerIndex:X}of a){const Q=this.layers[0]._featureFilter.needGeometry,ne=Jo($,Q);if(!this.layers[0]._featureFilter.filter(new co(this.zoom),ne,p))continue;const ce=b?b.evaluate(ne,{},p):void 0,ge={id:Z,properties:$.properties,type:$.type,sourceLayerIndex:X,index:V,geometry:Q?ne.geometry:ga($,p,g),patterns:{},sortKey:ce};w.push(ge)}b&&w.sort(($,Z)=>$.sortKey-Z.sortKey);const{lineAtlas:E,featureIndex:O}=u,R=this.addConstantDashes(E);for(const $ of w){const{geometry:Z,index:V,sourceLayerIndex:X}=$;if(R&&this.addFeatureDashes($,E),this.hasPattern){const Q=iO("line",this.layers,$,this.zoom,u);this.patternFeatures.push(Q)}else this.addFeature($,Z,V,p,E.positions,u.availableImages,u.brightness);O.insert(a[V].feature,Z,V,X,this.index)}}addConstantDashes(a){let u=!1;for(const p of this.layers){const g=p.paint.get("line-dasharray").value,b=p.layout.get("line-cap").value;if(g.kind!=="constant"||b.kind!=="constant")u=!0;else{const w=b.value,E=g.value;if(!E)continue;a.addDash(E,w)}}return u}addFeatureDashes(a,u){const p=this.zoom;for(const g of this.layers){const b=g.paint.get("line-dasharray").value,w=g.layout.get("line-cap").value;if(b.kind==="constant"&&w.kind==="constant")continue;let E,O;if(b.kind==="constant"){if(E=b.value,!E)continue}else E=b.evaluate({zoom:p},a);O=w.kind==="constant"?w.value:w.evaluate({zoom:p},a),u.addDash(E,O),a.patterns[g.id]=u.getKey(E,O)}}update(a,u,p,g,b){const w=Object.keys(a).length!==0;w&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(a,u,w?this.stateDependentLayers:this.layers,p,g,b)}addFeatures(a,u,p,g,b,w){for(const E of this.patternFeatures)this.addFeature(E,E.geometry,E.index,u,p,g,w)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=a.createVertexBuffer(this.layoutVertexArray2,Fge)),this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Dge),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(a){if(a.properties&&a.properties.hasOwnProperty("mapbox_clip_start")&&a.properties.hasOwnProperty("mapbox_clip_end"))return{start:+a.properties.mapbox_clip_start,end:+a.properties.mapbox_clip_end}}addFeature(a,u,p,g,b,w,E){const O=this.layers[0].layout,R=O.get("line-join").evaluate(a,{}),$=O.get("line-cap").evaluate(a,{}),Z=O.get("line-miter-limit"),V=O.get("line-round-limit");this.lineClips=this.lineFeatureClips(a);for(const X of u)this.addLine(X,a,R,$,Z,V);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,p,b,w,g,E)}addLine(a,u,p,g,b,w){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ge=0;ge<a.length-1;ge++)this.totalDistance+=a[ge].dist(a[ge+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const E=$ge[u.type]==="Polygon";let O=a.length;for(;O>=2&&a[O-1].equals(a[O-2]);)O--;let R=0;for(;R<O-1&&a[R].equals(a[R+1]);)R++;if(O<(E?3:2))return;p==="bevel"&&(b=1.05);const $=this.overscaling<=16?15*Tn/(512*this.overscaling):0,Z=this.segments.prepareSegment(10*O,this.layoutVertexArray,this.indexArray);let V,X,Q,ne,ce;this.e1=this.e2=-1,E&&(V=a[O-2],ce=a[R].sub(V)._unit()._perp());for(let ge=R;ge<O;ge++){if(Q=ge===O-1?E?a[R+1]:void 0:a[ge+1],Q&&a[ge].equals(Q))continue;ce&&(ne=ce),V&&(X=V),V=a[ge],ce=Q?Q.sub(V)._unit()._perp():ne,ne=ne||ce;let Te=ne.add(ce);Te.x===0&&Te.y===0||Te._unit();const ke=ne.x*ce.x+ne.y*ce.y,Ie=Te.x*ce.x+Te.y*ce.y,Be=Ie!==0?1/Ie:1/0,Fe=2*Math.sqrt(2-2*Ie),Ke=Ie<jge&&X&&Q,tt=ne.x*ce.y-ne.y*ce.x>0;if(Ke&&ge>R){const mt=V.dist(X);if(mt>2*$){const Ft=V.sub(V.sub(X)._mult($/mt)._round());this.updateDistance(X,Ft),this.addCurrentVertex(Ft,ne,0,0,Z),X=Ft}}const ht=X&&Q;let wt=ht?p:E?"butt":g;if(ht&&wt==="round"&&(Be<w?wt="miter":Be<=2&&(wt="fakeround")),wt==="miter"&&Be>b&&(wt="bevel"),wt==="bevel"&&(Be>2&&(wt="flipbevel"),Be<b&&(wt="miter")),X&&this.updateDistance(X,V),wt==="miter")Te._mult(Be),this.addCurrentVertex(V,Te,0,0,Z);else if(wt==="flipbevel"){if(Be>100)Te=ce.mult(-1);else{const mt=Be*ne.add(ce).mag()/ne.sub(ce).mag();Te._perp()._mult(mt*(tt?-1:1))}this.addCurrentVertex(V,Te,0,0,Z),this.addCurrentVertex(V,Te.mult(-1),0,0,Z)}else if(wt==="bevel"||wt==="fakeround"){const mt=-Math.sqrt(Be*Be-1),Ft=tt?mt:0,qt=tt?0:mt;if(X&&this.addCurrentVertex(V,ne,Ft,qt,Z),wt==="fakeround"){const Ot=Math.round(180*Fe/Math.PI/20);for(let Wt=1;Wt<Ot;Wt++){let Mt=Wt/Ot;if(Mt!==.5){const wn=Mt-.5;Mt+=Mt*wn*(Mt-1)*((1.0904+ke*(ke*(3.55645-1.43519*ke)-3.2452))*wn*wn+(.848013+ke*(.215638*ke-1.06021)))}const Vt=ce.sub(ne)._mult(Mt)._add(ne)._unit()._mult(tt?-1:1);this.addHalfVertex(V,Vt.x,Vt.y,!1,tt,0,Z)}}Q&&this.addCurrentVertex(V,ce,-Ft,-qt,Z)}else if(wt==="butt")this.addCurrentVertex(V,Te,0,0,Z);else if(wt==="square"){const mt=X?1:-1;X||this.addCurrentVertex(V,Te,mt,mt,Z),this.addCurrentVertex(V,Te,0,0,Z),X&&this.addCurrentVertex(V,Te,mt,mt,Z)}else wt==="round"&&(X&&(this.addCurrentVertex(V,ne,0,0,Z),this.addCurrentVertex(V,ne,1,1,Z,!0)),Q&&(this.addCurrentVertex(V,ce,-1,-1,Z,!0),this.addCurrentVertex(V,ce,0,0,Z)));if(Ke&&ge<O-1){const mt=V.dist(Q);if(mt>2*$){const Ft=V.add(Q.sub(V)._mult($/mt)._round());this.updateDistance(V,Ft),this.addCurrentVertex(Ft,ce,0,0,Z),V=Ft}}}}addCurrentVertex(a,u,p,g,b,w=!1){const E=u.y*g-u.x,O=-u.y-u.x*g;this.addHalfVertex(a,u.x+u.y*p,u.y-u.x*p,w,!1,p,b),this.addHalfVertex(a,E,O,w,!0,-g,b)}addHalfVertex({x:a,y:u},p,g,b,w,E,O){this.layoutVertexArray.emplaceBack((a<<1)+(b?1:0),(u<<1)+(w?1:0),Math.round(63*p)+128,Math.round(63*g)+128,1+(E===0?0:E<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const R=O.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,R),O.primitiveLength++),w?this.e2=R:this.e1=R}updateScaledDistance(){if(this.lineClips){const a=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=a*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(a,u){this.distance+=a.dist(u),this.updateScaledDistance()}}Dn(lO,"LineBucket",{omit:["layers","patternFeatures"]});const zge=new uo({"line-cap":new ir(bt.layout_line["line-cap"]),"line-join":new ir(bt.layout_line["line-join"]),"line-miter-limit":new bn(bt.layout_line["line-miter-limit"]),"line-round-limit":new bn(bt.layout_line["line-round-limit"]),"line-sort-key":new ir(bt.layout_line["line-sort-key"]),visibility:new bn(bt.layout_line.visibility)});var Iz={paint:new uo({"line-opacity":new ir(bt.paint_line["line-opacity"]),"line-color":new ir(bt.paint_line["line-color"]),"line-translate":new bn(bt.paint_line["line-translate"]),"line-translate-anchor":new bn(bt.paint_line["line-translate-anchor"]),"line-width":new ir(bt.paint_line["line-width"]),"line-gap-width":new ir(bt.paint_line["line-gap-width"]),"line-offset":new ir(bt.paint_line["line-offset"]),"line-blur":new ir(bt.paint_line["line-blur"]),"line-dasharray":new ir(bt.paint_line["line-dasharray"]),"line-pattern":new ir(bt.paint_line["line-pattern"]),"line-gradient":new yh(bt.paint_line["line-gradient"]),"line-trim-offset":new bn(bt.paint_line["line-trim-offset"]),"line-emissive-strength":new bn(bt.paint_line["line-emissive-strength"]),"line-border-width":new ir(bt.paint_line["line-border-width"]),"line-border-color":new ir(bt.paint_line["line-border-color"])}),layout:zge};function Oz(l,a,u){return a*(Tn/(l.tileSize*Math.pow(2,u-l.tileID.overscaledZ)))}function kz(l,a){return 1/Oz(l,1,a.tileZoom)}function Nz(l,a,u,p){return l.translatePosMatrix(p||a.tileID.projMatrix,a,u.paint.get("line-translate"),u.paint.get("line-translate-anchor"))}const Rz=l=>{const a=[];Dz(l)&&a.push("RENDER_LINE_DASH"),l.paint.get("line-gradient")&&a.push("RENDER_LINE_GRADIENT");const u=l.paint.get("line-trim-offset");return u[0]===0&&u[1]===0||a.push("RENDER_LINE_TRIM_OFFSET"),l.paint.get("line-border-width").constantOr(1)!==0&&a.push("RENDER_LINE_BORDER"),a};function Dz(l){const a=l.paint.get("line-dasharray").value;return a.value||a.kind!=="constant"}const Lz=new class extends ir{possiblyEvaluate(l,a){return a=new co(Math.floor(a.zoom),{now:a.now,fadeDuration:a.fadeDuration,transition:a.transition}),super.possiblyEvaluate(l,a)}evaluate(l,a,u,p){return a=Me({},a,{zoom:Math.floor(a.zoom)}),super.evaluate(l,a,u,p)}}(Iz.paint.properties["line-width"].specification);function Fz(l,a){return a>0?a+2*l:l}Lz.useIntegerZoom=!0;const Bge=bi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Zge=bi([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Uge=bi([{name:"a_projected_pos",components:4,type:"Float32"}],4);bi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Hge=bi([{name:"a_z_offset",components:1,type:"Float32"}],4),Vge=bi([{name:"a_texb",components:2,type:"Uint16"}]),Wge=bi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Gge=bi([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"},{name:"a_z_offset",components:1,type:"Float32"}]);bi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const $z=bi([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Kge=bi([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);bi([{name:"triangle",components:3,type:"Uint16"}]),bi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),bi([{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Float32",name:"zOffset"},{type:"Uint8",name:"hasIconTextFit"}]),bi([{type:"Float32",name:"offsetX"}]),bi([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Xa=24;const vu=128;function cO(l,a){const{expression:u}=a;if(u.kind==="constant")return{kind:"constant",layoutSize:u.evaluate(new co(l+1))};if(u.kind==="source")return{kind:"source"};{const{zoomStops:p,interpolationType:g}=u;let b=0;for(;b<p.length&&p[b]<=l;)b++;b=Math.max(0,b-1);let w=b;for(;w<p.length&&p[w]<l+1;)w++;w=Math.min(p.length-1,w);const E=p[b],O=p[w];return u.kind==="composite"?{kind:"composite",minZoom:E,maxZoom:O,interpolationType:g}:{kind:"camera",minZoom:E,maxZoom:O,minSize:u.evaluate(new co(E)),maxSize:u.evaluate(new co(O)),interpolationType:g}}}function G5(l,{uSize:a,uSizeT:u},{lowerSize:p,upperSize:g}){return l.kind==="source"?p/vu:l.kind==="composite"?ur(p/vu,g/vu,u):a}function Xy(l,a){let u=0,p=0;if(l.kind==="constant")p=l.layoutSize;else if(l.kind!=="source"){const{interpolationType:g,minZoom:b,maxZoom:w}=l,E=g?ue(il.interpolationFactor(g,a,b,w),0,1):0;l.kind==="camera"?p=ur(l.minSize,l.maxSize,E):u=E}return{uSizeT:u,uSize:p}}var qge=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:vu,evaluateSizeForFeature:G5,evaluateSizeForZoom:Xy,getSizeData:cO});function Xge(l,a,u){return l.sections.forEach(p=>{p.text=function(g,b,w){const E=b.layout.get("text-transform").evaluate(w,{});return E==="uppercase"?g=g.toLocaleUpperCase():E==="lowercase"&&(g=g.toLocaleLowerCase()),ol.applyArabicShaping&&(g=ol.applyArabicShaping(g)),g}(p.text,a,u)}),l}const k1={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂","←":"↑","→":"↓"};function Yge(l){return l==="︶"||l==="﹈"||l==="︸"||l==="﹄"||l==="﹂"||l==="︾"||l==="︼"||l==="︺"||l==="︘"||l==="﹀"||l==="︐"||l==="︓"||l==="︔"||l==="｀"||l==="￣"||l==="︑"||l==="︒"}function Jge(l){return l==="︵"||l==="﹇"||l==="︷"||l==="﹃"||l==="﹁"||l==="︽"||l==="︻"||l==="︹"||l==="︗"||l==="︿"}var Qge={read:function(l,a,u,p,g){var b,w,E=8*g-p-1,O=(1<<E)-1,R=O>>1,$=-7,Z=u?g-1:0,V=u?-1:1,X=l[a+Z];for(Z+=V,b=X&(1<<-$)-1,X>>=-$,$+=E;$>0;b=256*b+l[a+Z],Z+=V,$-=8);for(w=b&(1<<-$)-1,b>>=-$,$+=p;$>0;w=256*w+l[a+Z],Z+=V,$-=8);if(b===0)b=1-R;else{if(b===O)return w?NaN:1/0*(X?-1:1);w+=Math.pow(2,p),b-=R}return(X?-1:1)*w*Math.pow(2,b-p)},write:function(l,a,u,p,g,b){var w,E,O,R=8*b-g-1,$=(1<<R)-1,Z=$>>1,V=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,X=p?0:b-1,Q=p?1:-1,ne=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(E=isNaN(a)?1:0,w=$):(w=Math.floor(Math.log(a)/Math.LN2),a*(O=Math.pow(2,-w))<1&&(w--,O*=2),(a+=w+Z>=1?V/O:V*Math.pow(2,1-Z))*O>=2&&(w++,O/=2),w+Z>=$?(E=0,w=$):w+Z>=1?(E=(a*O-1)*Math.pow(2,g),w+=Z):(E=a*Math.pow(2,Z-1)*Math.pow(2,g),w=0));g>=8;l[u+X]=255&E,X+=Q,E/=256,g-=8);for(w=w<<g|E,R+=g;R>0;l[u+X]=255&w,X+=Q,w/=256,R-=8);l[u+X-Q]|=128*ne}},jz=io,K5=Qge;function io(l){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(l)?l:new Uint8Array(l||0),this.pos=0,this.type=0,this.length=this.buf.length}io.Varint=0,io.Fixed64=1,io.Bytes=2,io.Fixed32=5;var uO=4294967296,zz=1/uO,Bz=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ch(l){return l.type===io.Bytes?l.readVarint()+l.pos:l.pos+1}function Yy(l,a,u){return u?4294967296*a+(l>>>0):4294967296*(a>>>0)+(l>>>0)}function Zz(l,a,u){var p=a<=16383?1:a<=2097151?2:a<=268435455?3:Math.floor(Math.log(a)/(7*Math.LN2));u.realloc(p);for(var g=u.pos-1;g>=l;g--)u.buf[g+p]=u.buf[g]}function eye(l,a){for(var u=0;u<l.length;u++)a.writeVarint(l[u])}function tye(l,a){for(var u=0;u<l.length;u++)a.writeSVarint(l[u])}function nye(l,a){for(var u=0;u<l.length;u++)a.writeFloat(l[u])}function rye(l,a){for(var u=0;u<l.length;u++)a.writeDouble(l[u])}function iye(l,a){for(var u=0;u<l.length;u++)a.writeBoolean(l[u])}function oye(l,a){for(var u=0;u<l.length;u++)a.writeFixed32(l[u])}function aye(l,a){for(var u=0;u<l.length;u++)a.writeSFixed32(l[u])}function sye(l,a){for(var u=0;u<l.length;u++)a.writeFixed64(l[u])}function lye(l,a){for(var u=0;u<l.length;u++)a.writeSFixed64(l[u])}function q5(l,a){return(l[a]|l[a+1]<<8|l[a+2]<<16)+16777216*l[a+3]}function Jy(l,a,u){l[u]=a,l[u+1]=a>>>8,l[u+2]=a>>>16,l[u+3]=a>>>24}function Uz(l,a){return(l[a]|l[a+1]<<8|l[a+2]<<16)+(l[a+3]<<24)}io.prototype={destroy:function(){this.buf=null},readFields:function(l,a,u){for(u=u||this.length;this.pos<u;){var p=this.readVarint(),g=p>>3,b=this.pos;this.type=7&p,l(g,a,this),this.pos===b&&this.skip(p)}return a},readMessage:function(l,a){return this.readFields(l,a,this.readVarint()+this.pos)},readFixed32:function(){var l=q5(this.buf,this.pos);return this.pos+=4,l},readSFixed32:function(){var l=Uz(this.buf,this.pos);return this.pos+=4,l},readFixed64:function(){var l=q5(this.buf,this.pos)+q5(this.buf,this.pos+4)*uO;return this.pos+=8,l},readSFixed64:function(){var l=q5(this.buf,this.pos)+Uz(this.buf,this.pos+4)*uO;return this.pos+=8,l},readFloat:function(){var l=K5.read(this.buf,this.pos,!0,23,4);return this.pos+=4,l},readDouble:function(){var l=K5.read(this.buf,this.pos,!0,52,8);return this.pos+=8,l},readVarint:function(l){var a,u,p=this.buf;return a=127&(u=p[this.pos++]),u<128?a:(a|=(127&(u=p[this.pos++]))<<7,u<128?a:(a|=(127&(u=p[this.pos++]))<<14,u<128?a:(a|=(127&(u=p[this.pos++]))<<21,u<128?a:function(g,b,w){var E,O,R=w.buf;if(E=(112&(O=R[w.pos++]))>>4,O<128||(E|=(127&(O=R[w.pos++]))<<3,O<128)||(E|=(127&(O=R[w.pos++]))<<10,O<128)||(E|=(127&(O=R[w.pos++]))<<17,O<128)||(E|=(127&(O=R[w.pos++]))<<24,O<128)||(E|=(1&(O=R[w.pos++]))<<31,O<128))return Yy(g,E,b);throw new Error("Expected varint not more than 10 bytes")}(a|=(15&(u=p[this.pos]))<<28,l,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var l=this.readVarint();return l%2==1?(l+1)/-2:l/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var l=this.readVarint()+this.pos,a=this.pos;return this.pos=l,l-a>=12&&Bz?function(u,p,g){return Bz.decode(u.subarray(p,g))}(this.buf,a,l):function(u,p,g){for(var b="",w=p;w<g;){var E,O,R,$=u[w],Z=null,V=$>239?4:$>223?3:$>191?2:1;if(w+V>g)break;V===1?$<128&&(Z=$):V===2?(192&(E=u[w+1]))==128&&(Z=(31&$)<<6|63&E)<=127&&(Z=null):V===3?(O=u[w+2],(192&(E=u[w+1]))==128&&(192&O)==128&&((Z=(15&$)<<12|(63&E)<<6|63&O)<=2047||Z>=55296&&Z<=57343)&&(Z=null)):V===4&&(O=u[w+2],R=u[w+3],(192&(E=u[w+1]))==128&&(192&O)==128&&(192&R)==128&&((Z=(15&$)<<18|(63&E)<<12|(63&O)<<6|63&R)<=65535||Z>=1114112)&&(Z=null)),Z===null?(Z=65533,V=1):Z>65535&&(Z-=65536,b+=String.fromCharCode(Z>>>10&1023|55296),Z=56320|1023&Z),b+=String.fromCharCode(Z),w+=V}return b}(this.buf,a,l)},readBytes:function(){var l=this.readVarint()+this.pos,a=this.buf.subarray(this.pos,l);return this.pos=l,a},readPackedVarint:function(l,a){if(this.type!==io.Bytes)return l.push(this.readVarint(a));var u=Ch(this);for(l=l||[];this.pos<u;)l.push(this.readVarint(a));return l},readPackedSVarint:function(l){if(this.type!==io.Bytes)return l.push(this.readSVarint());var a=Ch(this);for(l=l||[];this.pos<a;)l.push(this.readSVarint());return l},readPackedBoolean:function(l){if(this.type!==io.Bytes)return l.push(this.readBoolean());var a=Ch(this);for(l=l||[];this.pos<a;)l.push(this.readBoolean());return l},readPackedFloat:function(l){if(this.type!==io.Bytes)return l.push(this.readFloat());var a=Ch(this);for(l=l||[];this.pos<a;)l.push(this.readFloat());return l},readPackedDouble:function(l){if(this.type!==io.Bytes)return l.push(this.readDouble());var a=Ch(this);for(l=l||[];this.pos<a;)l.push(this.readDouble());return l},readPackedFixed32:function(l){if(this.type!==io.Bytes)return l.push(this.readFixed32());var a=Ch(this);for(l=l||[];this.pos<a;)l.push(this.readFixed32());return l},readPackedSFixed32:function(l){if(this.type!==io.Bytes)return l.push(this.readSFixed32());var a=Ch(this);for(l=l||[];this.pos<a;)l.push(this.readSFixed32());return l},readPackedFixed64:function(l){if(this.type!==io.Bytes)return l.push(this.readFixed64());var a=Ch(this);for(l=l||[];this.pos<a;)l.push(this.readFixed64());return l},readPackedSFixed64:function(l){if(this.type!==io.Bytes)return l.push(this.readSFixed64());var a=Ch(this);for(l=l||[];this.pos<a;)l.push(this.readSFixed64());return l},skip:function(l){var a=7&l;if(a===io.Varint)for(;this.buf[this.pos++]>127;);else if(a===io.Bytes)this.pos=this.readVarint()+this.pos;else if(a===io.Fixed32)this.pos+=4;else{if(a!==io.Fixed64)throw new Error("Unimplemented type: "+a);this.pos+=8}},writeTag:function(l,a){this.writeVarint(l<<3|a)},realloc:function(l){for(var a=this.length||16;a<this.pos+l;)a*=2;if(a!==this.length){var u=new Uint8Array(a);u.set(this.buf),this.buf=u,this.length=a}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(l){this.realloc(4),Jy(this.buf,l,this.pos),this.pos+=4},writeSFixed32:function(l){this.realloc(4),Jy(this.buf,l,this.pos),this.pos+=4},writeFixed64:function(l){this.realloc(8),Jy(this.buf,-1&l,this.pos),Jy(this.buf,Math.floor(l*zz),this.pos+4),this.pos+=8},writeSFixed64:function(l){this.realloc(8),Jy(this.buf,-1&l,this.pos),Jy(this.buf,Math.floor(l*zz),this.pos+4),this.pos+=8},writeVarint:function(l){(l=+l||0)>268435455||l<0?function(a,u){var p,g;if(a>=0?(p=a%4294967296|0,g=a/4294967296|0):(g=~(-a/4294967296),4294967295^(p=~(-a%4294967296))?p=p+1|0:(p=0,g=g+1|0)),a>=18446744073709552e3||a<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");u.realloc(10),function(b,w,E){E.buf[E.pos++]=127&b|128,b>>>=7,E.buf[E.pos++]=127&b|128,b>>>=7,E.buf[E.pos++]=127&b|128,b>>>=7,E.buf[E.pos++]=127&b|128,E.buf[E.pos]=127&(b>>>=7)}(p,0,u),function(b,w){var E=(7&b)<<4;w.buf[w.pos++]|=E|((b>>>=3)?128:0),b&&(w.buf[w.pos++]=127&b|((b>>>=7)?128:0),b&&(w.buf[w.pos++]=127&b|((b>>>=7)?128:0),b&&(w.buf[w.pos++]=127&b|((b>>>=7)?128:0),b&&(w.buf[w.pos++]=127&b|((b>>>=7)?128:0),b&&(w.buf[w.pos++]=127&b)))))}(g,u)}(l,this):(this.realloc(4),this.buf[this.pos++]=127&l|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))},writeSVarint:function(l){this.writeVarint(l<0?2*-l-1:2*l)},writeBoolean:function(l){this.writeVarint(!!l)},writeString:function(l){l=String(l),this.realloc(4*l.length),this.pos++;var a=this.pos;this.pos=function(p,g,b){for(var w,E,O=0;O<g.length;O++){if((w=g.charCodeAt(O))>55295&&w<57344){if(!E){w>56319||O+1===g.length?(p[b++]=239,p[b++]=191,p[b++]=189):E=w;continue}if(w<56320){p[b++]=239,p[b++]=191,p[b++]=189,E=w;continue}w=E-55296<<10|w-56320|65536,E=null}else E&&(p[b++]=239,p[b++]=191,p[b++]=189,E=null);w<128?p[b++]=w:(w<2048?p[b++]=w>>6|192:(w<65536?p[b++]=w>>12|224:(p[b++]=w>>18|240,p[b++]=w>>12&63|128),p[b++]=w>>6&63|128),p[b++]=63&w|128)}return b}(this.buf,l,this.pos);var u=this.pos-a;u>=128&&Zz(a,u,this),this.pos=a-1,this.writeVarint(u),this.pos+=u},writeFloat:function(l){this.realloc(4),K5.write(this.buf,l,this.pos,!0,23,4),this.pos+=4},writeDouble:function(l){this.realloc(8),K5.write(this.buf,l,this.pos,!0,52,8),this.pos+=8},writeBytes:function(l){var a=l.length;this.writeVarint(a),this.realloc(a);for(var u=0;u<a;u++)this.buf[this.pos++]=l[u]},writeRawMessage:function(l,a){this.pos++;var u=this.pos;l(a,this);var p=this.pos-u;p>=128&&Zz(u,p,this),this.pos=u-1,this.writeVarint(p),this.pos+=p},writeMessage:function(l,a,u){this.writeTag(l,io.Bytes),this.writeRawMessage(a,u)},writePackedVarint:function(l,a){a.length&&this.writeMessage(l,eye,a)},writePackedSVarint:function(l,a){a.length&&this.writeMessage(l,tye,a)},writePackedBoolean:function(l,a){a.length&&this.writeMessage(l,iye,a)},writePackedFloat:function(l,a){a.length&&this.writeMessage(l,nye,a)},writePackedDouble:function(l,a){a.length&&this.writeMessage(l,rye,a)},writePackedFixed32:function(l,a){a.length&&this.writeMessage(l,oye,a)},writePackedSFixed32:function(l,a){a.length&&this.writeMessage(l,aye,a)},writePackedFixed64:function(l,a){a.length&&this.writeMessage(l,sye,a)},writePackedSFixed64:function(l,a){a.length&&this.writeMessage(l,lye,a)},writeBytesField:function(l,a){this.writeTag(l,io.Bytes),this.writeBytes(a)},writeFixed32Field:function(l,a){this.writeTag(l,io.Fixed32),this.writeFixed32(a)},writeSFixed32Field:function(l,a){this.writeTag(l,io.Fixed32),this.writeSFixed32(a)},writeFixed64Field:function(l,a){this.writeTag(l,io.Fixed64),this.writeFixed64(a)},writeSFixed64Field:function(l,a){this.writeTag(l,io.Fixed64),this.writeSFixed64(a)},writeVarintField:function(l,a){this.writeTag(l,io.Varint),this.writeVarint(a)},writeSVarintField:function(l,a){this.writeTag(l,io.Varint),this.writeSVarint(a)},writeStringField:function(l,a){this.writeTag(l,io.Bytes),this.writeString(a)},writeFloatField:function(l,a){this.writeTag(l,io.Fixed32),this.writeFloat(a)},writeDoubleField:function(l,a){this.writeTag(l,io.Fixed64),this.writeDouble(a)},writeBooleanField:function(l,a){this.writeVarintField(l,!!a)}};var Qy=F(jz);const dO=3;function cye(l,a,u){a.glyphs=[],l===1&&u.readMessage(uye,a)}function uye(l,a,u){if(l===3){const{id:p,bitmap:g,width:b,height:w,left:E,top:O,advance:R}=u.readMessage(dye,{});a.glyphs.push({id:p,bitmap:new Fp({width:b+2*dO,height:w+2*dO},g),metrics:{width:b,height:w,left:E,top:O,advance:R}})}else l===4?a.ascender=u.readSVarint():l===5&&(a.descender=u.readSVarint())}function dye(l,a,u){l===1?a.id=u.readVarint():l===2?a.bitmap=u.readBytes():l===3?a.width=u.readVarint():l===4?a.height=u.readVarint():l===5?a.left=u.readSVarint():l===6?a.top=u.readSVarint():l===7&&(a.advance=u.readVarint())}const hye=dO,rc={horizontal:1,vertical:2,horizontalOnly:3};class N1{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(a,u){const p=new N1;return p.scale=a||1,p.fontStack=u,p}static forImage(a){const u=new N1;return u.imageName=a,u}}class ev{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(a,u){const p=new ev;for(let g=0;g<a.sections.length;g++){const b=a.sections[g];b.image?p.addImageSection(b):p.addTextSection(b,u)}return p}length(){return this.text.length}getSection(a){return this.sections[this.sectionIndex[a]]}getSections(){return this.sections}getSectionIndex(a){return this.sectionIndex[a]}getCodePoint(a){return this.text.codePointAt(a)}verticalizePunctuation(a){this.text=function(u,p){let g="";for(let b=0;b<u.length;b++){const w=u.charCodeAt(b+1)||null,E=u.charCodeAt(b-1)||null;g+=!p&&(w&&n5(w)&&!k1[u[b+1]]||E&&n5(E)&&!k1[u[b-1]])||!k1[u[b]]?u[b]:k1[u[b]]}return g}(this.text,a)}trim(){let a=0;for(let p=0;p<this.text.length&&X5[this.text.charCodeAt(p)];p++)a++;let u=this.text.length;for(let p=this.text.length-1;p>=0&&p>=a&&X5[this.text.charCodeAt(p)];p--)u--;this.text=this.text.substring(a,u),this.sectionIndex=this.sectionIndex.slice(a,u)}substring(a,u){const p=new ev;return p.text=this.text.substring(a,u),p.sectionIndex=this.sectionIndex.slice(a,u),p.sections=this.sections,p}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((a,u)=>Math.max(a,this.sections[u].scale),0)}addTextSection(a,u){this.text+=a.text,this.sections.push(N1.forText(a.scale,a.fontStack||u));const p=this.sections.length-1;for(let g=0;g<a.text.length;++g)this.sectionIndex.push(p)}addImageSection(a){const u=a.image?a.image.namePrimary:"";if(u.length===0)return void it("Can't add FormattedSection with an empty image.");const p=this.getNextImageSectionCharCode();p?(this.text+=String.fromCodePoint(p),this.sections.push(N1.forImage(u)),this.sectionIndex.push(this.sections.length-1)):it("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function hO(l,a,u,p,g,b,w,E,O,R,$,Z,V,X,Q){const ne=ev.fromFeature(l,g);Z===rc.vertical&&ne.verticalizePunctuation(V);let ce=[];const ge=function(Fe,Ke,tt,ht,wt,mt){if(!Fe)return[];const Ft=[],qt=function(Vt,wn,Xt,Hn,On,nn){let fr=0;for(let Yn=0;Yn<Vt.length();Yn++){const Zn=Vt.getSection(Yn);fr+=Hz(Vt.getCodePoint(Yn),Zn,Hn,On,wn,nn)}return fr/Math.max(1,Math.ceil(fr/Xt))}(Fe,Ke,tt,ht,wt,mt),Ot=Fe.text.indexOf("​")>=0;let Wt=0;for(let Vt=0;Vt<Fe.length();Vt++){const wn=Fe.getSection(Vt),Xt=Fe.getCodePoint(Vt);if(X5[Xt]||(Wt+=Hz(Xt,wn,ht,wt,Ke,mt)),Vt<Fe.length()-1){const Hn=!((Mt=Xt)<11904||!(Gn["Bopomofo Extended"](Mt)||Gn.Bopomofo(Mt)||Gn["CJK Compatibility Forms"](Mt)||Gn["CJK Compatibility Ideographs"](Mt)||Gn["CJK Compatibility"](Mt)||Gn["CJK Radicals Supplement"](Mt)||Gn["CJK Strokes"](Mt)||Gn["CJK Symbols and Punctuation"](Mt)||Gn["CJK Unified Ideographs Extension A"](Mt)||Gn["CJK Unified Ideographs"](Mt)||Gn["Enclosed CJK Letters and Months"](Mt)||Gn["Halfwidth and Fullwidth Forms"](Mt)||Gn.Hiragana(Mt)||Gn["Ideographic Description Characters"](Mt)||Gn["Kangxi Radicals"](Mt)||Gn["Katakana Phonetic Extensions"](Mt)||Gn.Katakana(Mt)||Gn["Vertical Forms"](Mt)||Gn["Yi Radicals"](Mt)||Gn["Yi Syllables"](Mt)));(pye[Xt]||Hn||wn.imageName)&&Ft.push(Wz(Vt+1,Wt,qt,Ft,fye(Xt,Fe.getCodePoint(Vt+1),Hn&&Ot),!1))}}var Mt;return Gz(Wz(Fe.length(),Wt,qt,Ft,0,!0))}(ne,R,b,a,p,X),{processBidirectionalText:Te,processStyledBidirectionalText:ke}=ol;if(Te&&ne.sections.length===1){const Fe=Te(ne.toString(),ge);for(const Ke of Fe){const tt=new ev;tt.text=Ke,tt.sections=ne.sections;for(let ht=0;ht<Ke.length;ht++)tt.sectionIndex.push(0);ce.push(tt)}}else if(ke){const Fe=ke(ne.text,ne.sectionIndex,ge);for(const Ke of Fe){const tt=new ev;tt.text=Ke[0],tt.sectionIndex=Ke[1],tt.sections=ne.sections,ce.push(tt)}}else ce=function(Fe,Ke){const tt=[],ht=Fe.text;let wt=0;for(const mt of Ke)tt.push(Fe.substring(wt,mt)),wt=mt;return wt<ht.length&&tt.push(Fe.substring(wt,ht.length)),tt}(ne,ge);const Ie=[],Be={positionedLines:Ie,text:ne.toString(),top:$[1],bottom:$[1],left:$[0],right:$[0],writingMode:Z,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Fe,Ke,tt,ht,wt,mt,Ft,qt,Ot,Wt,Mt,Vt){let wn=0,Xt=0,Hn=0;const On=qt==="right"?1:qt==="left"?0:.5;let nn=!1;for(const Lr of wt){const mr=Lr.getSections();for(const Fr of mr){if(Fr.imageName)continue;const wr=Ke[Fr.fontStack];if(wr&&(nn=wr.ascender!==void 0&&wr.descender!==void 0,!nn))break}if(!nn)break}let fr=0;for(const Lr of wt){Lr.trim();const mr=Lr.getMaxScale(),Fr=(mr-1)*Xa,wr={positionedGlyphs:[],lineOffset:0};Fe.positionedLines[fr]=wr;const qr=wr.positionedGlyphs;let Pr=0;if(!Lr.length()){Xt+=mt,++fr;continue}let Ni=0,ai=0;for(let gi=0;gi<Lr.length();gi++){const si=Lr.getSection(gi),oo=Lr.getSectionIndex(gi),Ai=Lr.getCodePoint(gi);let Co=si.scale,la=null,ja=null,eo=null,fo=Xa,Ca=0;const Ma=!(Ot===rc.horizontal||!Mt&&!G_(Ai)||Mt&&(X5[Ai]||(Yn=Ai,Gn.Arabic(Yn)||Gn["Arabic Supplement"](Yn)||Gn["Arabic Extended-A"](Yn)||Gn["Arabic Presentation Forms-A"](Yn)||Gn["Arabic Presentation Forms-B"](Yn))));if(si.imageName){const Ea=ht[si.imageName];if(!Ea)continue;eo=si.imageName,Fe.iconsInText=Fe.iconsInText||!0,ja=Ea.paddedRect;const Wi=Ea.displaySize;Co=Co*Xa/Vt,la={width:Wi[0],height:Wi[1],left:0,top:-3,advance:Ma?Wi[1]:Wi[0],localGlyph:!1},Ca=nn?-la.height*Co:mr*Xa-17-Wi[1]*Co,fo=la.advance;const Tl=(Ma?Wi[0]:Wi[1])*Co-Xa*mr;Tl>0&&Tl>Pr&&(Pr=Tl)}else{const Ea=tt[si.fontStack];if(!Ea)continue;Ea[Ai]&&(ja=Ea[Ai]);const Wi=Ke[si.fontStack];if(!Wi)continue;const Tl=Wi.glyphs[Ai];if(!Tl)continue;if(la=Tl.metrics,fo=Ai!==8203?Xa:0,nn){const Vp=Wi.ascender!==void 0?Math.abs(Wi.ascender):0,zs=Wi.descender!==void 0?Math.abs(Wi.descender):0,Pl=(Vp+zs)*Co;Ni<Pl&&(Ni=Pl,ai=(Vp-zs)/2*Co),Ca=-Vp*Co}else Ca=(mr-Co)*Xa-17}Ma?(Fe.verticalizable=!0,qr.push({glyph:Ai,imageName:eo,x:wn,y:Xt+Ca,vertical:Ma,scale:Co,localGlyph:la.localGlyph,fontStack:si.fontStack,sectionIndex:oo,metrics:la,rect:ja}),wn+=fo*Co+Wt):(qr.push({glyph:Ai,imageName:eo,x:wn,y:Xt+Ca,vertical:Ma,scale:Co,localGlyph:la.localGlyph,fontStack:si.fontStack,sectionIndex:oo,metrics:la,rect:ja}),wn+=la.advance*Co+Wt)}qr.length!==0&&(Hn=Math.max(wn-Wt,Hn),nn?Kz(qr,On,Pr,ai,mt*mr/2):Kz(qr,On,Pr,0,mt/2)),wn=0;const ui=mt*mr+Pr;wr.lineOffset=Math.max(Pr,Fr),Xt+=ui,++fr}var Yn;const Zn=Xt,{horizontalAlign:rn,verticalAlign:or}=pO(Ft);(function(Lr,mr,Fr,wr,qr,Pr){const Ni=(mr-Fr)*qr,ai=-Pr*wr;for(const ui of Lr)for(const gi of ui.positionedGlyphs)gi.x+=Ni,gi.y+=ai})(Fe.positionedLines,On,rn,or,Hn,Zn),Fe.top+=-or*Zn,Fe.bottom=Fe.top+Zn,Fe.left+=-rn*Hn,Fe.right=Fe.left+Hn,Fe.hasBaseline=nn}(Be,a,u,p,ce,w,E,O,Z,R,V,Q),!function(Fe){for(const Ke of Fe)if(Ke.positionedGlyphs.length!==0)return!1;return!0}(Ie)&&Be}const X5={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},pye={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Hz(l,a,u,p,g,b){if(a.imageName){const w=p[a.imageName];return w?w.displaySize[0]*a.scale*Xa/b+g:0}{const w=u[a.fontStack],E=w&&w.glyphs[l];return E?E.metrics.advance*a.scale+g:0}}function Vz(l,a,u,p){const g=Math.pow(l-a,2);return p?l<a?g/2:2*g:g+Math.abs(u)*u}function fye(l,a,u){let p=0;return l===10&&(p-=1e4),u&&(p+=150),l!==40&&l!==65288||(p+=50),a!==41&&a!==65289||(p+=50),p}function Wz(l,a,u,p,g,b){let w=null,E=Vz(a,u,g,b);for(const O of p){const R=Vz(a-O.x,u,g,b)+O.badness;R<=E&&(w=O,E=R)}return{index:l,x:a,priorBreak:w,badness:E}}function Gz(l){return l?Gz(l.priorBreak).concat(l.index):[]}function pO(l){let a=.5,u=.5;switch(l){case"right":case"top-right":case"bottom-right":a=1;break;case"left":case"top-left":case"bottom-left":a=0}switch(l){case"bottom":case"bottom-right":case"bottom-left":u=1;break;case"top":case"top-right":case"top-left":u=0}return{horizontalAlign:a,verticalAlign:u}}function Kz(l,a,u,p,g){if(!(a||u||p||g))return;const b=l.length-1,w=l[b],E=(w.x+w.metrics.advance*w.scale)*a;for(let O=0;O<=b;O++)l[O].x-=E,l[O].y+=u+p+g}function mye(l,a,u,p){const{horizontalAlign:g,verticalAlign:b}=pO(p),w=u[0]-l.displaySize[0]*g,E=u[1]-l.displaySize[1]*b;return{imagePrimary:l,imageSecondary:a,top:E,bottom:E+l.displaySize[1],left:w,right:w+l.displaySize[0]}}function qz(l,a,u,p,g,b){const w=l.imagePrimary;let E;if(w.content){const ce=w.content,ge=w.pixelRatio||1;E=[ce[0]/ge,ce[1]/ge,w.displaySize[0]-ce[2]/ge,w.displaySize[1]-ce[3]/ge]}const O=a.left*b,R=a.right*b;let $,Z,V,X;u==="width"||u==="both"?(X=g[0]+O-p[3],Z=g[0]+R+p[1]):(X=g[0]+(O+R-w.displaySize[0])/2,Z=X+w.displaySize[0]);const Q=a.top*b,ne=a.bottom*b;return u==="height"||u==="both"?($=g[1]+Q-p[0],V=g[1]+ne+p[2]):($=g[1]+(Q+ne-w.displaySize[1])/2,V=$+w.displaySize[1]),{imagePrimary:w,imageSecondary:void 0,top:$,right:Z,bottom:V,left:X,collisionPadding:E}}class Mh extends K{constructor(a,u,p,g,b){super(a,u),this.angle=g,this.z=p,b!==void 0&&(this.segment=b)}clone(){return new Mh(this.x,this.y,this.z,this.angle,this.segment)}}function Xz(l,a,u,p,g){if(a.segment===void 0)return!0;let b=a,w=a.segment+1,E=0;for(;E>-u/2;){if(w--,w<0)return!1;E-=l[w].dist(b),b=l[w]}E+=l[w].dist(l[w+1]),w++;const O=[];let R=0;for(;E<u/2;){const $=l[w],Z=l[w+1];if(!Z)return!1;let V=l[w-1].angleTo($)-$.angleTo(Z);for(V=Math.abs((V+3*Math.PI)%(2*Math.PI)-Math.PI),O.push({distance:E,angleDelta:V}),R+=V;E-O[0].distance>p;)R-=O.shift().angleDelta;if(R>g)return!1;w++,E+=$.dist(Z)}return!0}function Yz(l){let a=0;for(let u=0;u<l.length-1;u++)a+=l[u].dist(l[u+1]);return a}function Jz(l,a,u){return l?.6*a*u:0}function Qz(l,a){return Math.max(l?l.right-l.left:0,a?a.right-a.left:0)}function gye(l,a,u,p,g,b){const w=Jz(u,g,b),E=Qz(u,p)*b;let O=0;const R=Yz(l)/2;for(let $=0;$<l.length-1;$++){const Z=l[$],V=l[$+1],X=Z.dist(V);if(O+X>R){const Q=(R-O)/X,ne=ur(Z.x,V.x,Q),ce=ur(Z.y,V.y,Q),ge=new Mh(ne,ce,0,V.angleTo(Z),$);return!w||Xz(l,ge,E,w,a)?ge:void 0}O+=X}}function yye(l,a,u,p,g,b,w,E,O){const R=Jz(p,b,w),$=Qz(p,g),Z=$*w,V=l[0].x===0||l[0].x===O||l[0].y===0||l[0].y===O;return a-Z<a/4&&(a=Z+a/4),eB(l,V?a/2*E%a:($/2+2*b)*w*E%a,a,R,u,Z,V,!1,O)}function eB(l,a,u,p,g,b,w,E,O){const R=b/2,$=Yz(l);let Z=0,V=a-u,X=[];for(let Q=0;Q<l.length-1;Q++){const ne=l[Q],ce=l[Q+1],ge=ne.dist(ce),Te=ce.angleTo(ne);for(;V+u<Z+ge;){V+=u;const ke=(V-Z)/ge,Ie=ur(ne.x,ce.x,ke),Be=ur(ne.y,ce.y,ke);if(Ie>=0&&Ie<O&&Be>=0&&Be<O&&V-R>=0&&V+R<=$){const Fe=new Mh(Ie,Be,0,Te,Q);p&&!Xz(l,Fe,b,p,g)||X.push(Fe)}}Z+=ge}return E||X.length||w||(X=eB(l,Z/2,u,p,g,b,w,!0,O)),X}function tB(l,a,u,p,g){const b=[];for(let w=0;w<l.length;w++){const E=l[w];let O;for(let R=0;R<E.length-1;R++){let $=E[R],Z=E[R+1];$.x<a&&Z.x<a||($.x<a?$=new K(a,$.y+(a-$.x)/(Z.x-$.x)*(Z.y-$.y))._round():Z.x<a&&(Z=new K(a,$.y+(a-$.x)/(Z.x-$.x)*(Z.y-$.y))._round()),$.y<u&&Z.y<u||($.y<u?$=new K($.x+(u-$.y)/(Z.y-$.y)*(Z.x-$.x),u)._round():Z.y<u&&(Z=new K($.x+(u-$.y)/(Z.y-$.y)*(Z.x-$.x),u)._round()),$.x>=p&&Z.x>=p||($.x>=p?$=new K(p,$.y+(p-$.x)/(Z.x-$.x)*(Z.y-$.y))._round():Z.x>=p&&(Z=new K(p,$.y+(p-$.x)/(Z.x-$.x)*(Z.y-$.y))._round()),$.y>=g&&Z.y>=g||($.y>=g?$=new K($.x+(g-$.y)/(Z.y-$.y)*(Z.x-$.x),g)._round():Z.y>=g&&(Z=new K($.x+(g-$.y)/(Z.y-$.y)*(Z.x-$.x),g)._round()),O&&$.equals(O[O.length-1])||(O=[$],b.push(O)),O.push(Z)))))}}return b}function nB(l){let a=0,u=0;for(const w of l)a+=w.w*w.h,u=Math.max(u,w.w);l.sort((w,E)=>E.h-w.h);const p=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(a/.95)),u),h:1/0}];let g=0,b=0;for(const w of l)for(let E=p.length-1;E>=0;E--){const O=p[E];if(!(w.w>O.w||w.h>O.h)){if(w.x=O.x,w.y=O.y,b=Math.max(b,w.y+w.h),g=Math.max(g,w.x+w.w),w.w===O.w&&w.h===O.h){const R=p.pop();E<p.length&&(p[E]=R)}else w.h===O.h?(O.x+=w.w,O.w-=w.w):w.w===O.w?(O.y+=w.h,O.h-=w.h):(p.push({x:O.x+w.w,y:O.y,w:O.w-w.w,h:w.h}),O.y+=w.h,O.h-=w.h);break}}return{w:g,h:b,fill:a/(g*b)||0}}Dn(Mh,"Anchor");const El=1;class fO{constructor(a,{pixelRatio:u,version:p,stretchX:g,stretchY:b,content:w}){this.paddedRect=a,this.pixelRatio=u,this.stretchX=g,this.stretchY=b,this.content=w,this.version=p}get tl(){return[this.paddedRect.x+El,this.paddedRect.y+El]}get br(){return[this.paddedRect.x+this.paddedRect.w-El,this.paddedRect.y+this.paddedRect.h-El]}get displaySize(){return[(this.paddedRect.w-2*El)/this.pixelRatio,(this.paddedRect.h-2*El)/this.pixelRatio]}}class rB{constructor(a,u){const p={},g={};this.haveRenderCallbacks=[];const b=[];this.addImages(a,p,b),this.addImages(u,g,b);const{w,h:E}=nB(b),O=new nc({width:w||1,height:E||1});for(const R in a){const $=a[R],Z=p[R].paddedRect;nc.copy($.data,O,{x:0,y:0},{x:Z.x+El,y:Z.y+El},$.data,$.sdf)}for(const R in u){const $=u[R],Z=g[R].paddedRect,V=Z.x+El,X=Z.y+El,Q=$.data.width,ne=$.data.height;nc.copy($.data,O,{x:0,y:0},{x:V,y:X},$.data),nc.copy($.data,O,{x:0,y:ne-1},{x:V,y:X-1},{width:Q,height:1}),nc.copy($.data,O,{x:0,y:0},{x:V,y:X+ne},{width:Q,height:1}),nc.copy($.data,O,{x:Q-1,y:0},{x:V-1,y:X},{width:1,height:ne}),nc.copy($.data,O,{x:0,y:0},{x:V+Q,y:X},{width:1,height:ne})}this.image=O,this.iconPositions=p,this.patternPositions=g}addImages(a,u,p){for(const g in a){const b=a[g],w={x:0,y:0,w:b.data.width+2*El,h:b.data.height+2*El};p.push(w),u[g]=new fO(w,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(g)}}patchUpdatedImages(a,u,p){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(g=>a.hasImage(g,p)),a.dispatchRenderCallbacks(this.haveRenderCallbacks,p);for(const g in a.getUpdatedImages(p))this.patchUpdatedImage(this.iconPositions[g],a.getImage(g,p),u),this.patchUpdatedImage(this.patternPositions[g],a.getImage(g,p),u)}patchUpdatedImage(a,u,p){if(!a||!u||a.version===u.version)return;a.version=u.version;const[g,b]=a.tl,w=!!Object.keys(this.patternPositions).length;p.update(u.data,{useMipmap:w},{x:g,y:b})}}Dn(fO,"ImagePosition"),Dn(rB,"ImageAtlas");const Y5=1e20;function iB(l,a,u,p,g,b,w,E,O){for(let R=a;R<a+p;R++)oB(l,u*b+R,b,g,w,E,O);for(let R=u;R<u+g;R++)oB(l,R*b+a,1,p,w,E,O)}function oB(l,a,u,p,g,b,w){b[0]=0,w[0]=-1e20,w[1]=Y5,g[0]=l[a];for(let E=1,O=0,R=0;E<p;E++){g[E]=l[a+E*u];const $=E*E;do{const Z=b[O];R=(g[E]-g[Z]+$-Z*Z)/(E-Z)/2}while(R<=w[O]&&--O>-1);O++,b[O]=E,w[O]=R,w[O+1]=Y5}for(let E=0,O=0;E<p;E++){for(;w[O+1]<E;)O++;const R=b[O],$=E-R;l[a+E*u]=g[R]+$*$}}const bu=2,mO={none:0,ideographs:1,all:2};class tv{constructor(a,u,p){this.requestManager=a,this.localGlyphMode=u,this.localFontFamily=p,this.urls={},this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(a,u){this.urls[u]=a}getGlyphs(a,u,p){const g=[],b=this.urls[u]||v.GLYPHS_URL;for(const w in a)for(const E of a[w])g.push({stack:w,id:E});Ee(g,({stack:w,id:E},O)=>{let R=this.entries[w];R||(R=this.entries[w]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let $=R.glyphs[E];if($!==void 0)return void O(null,{stack:w,id:E,glyph:$});if($=this._tinySDF(R,w,E),$)return R.glyphs[E]=$,void O(null,{stack:w,id:E,glyph:$});const Z=Math.floor(E/256);if(256*Z>65535)return void O(new Error("glyphs > 65535 not supported"));if(R.ranges[Z])return void O(null,{stack:w,id:E,glyph:$});let V=R.requests[Z];V||(V=R.requests[Z]=[],tv.loadGlyphRange(w,Z,b,this.requestManager,(X,Q)=>{if(Q){R.ascender=Q.ascender,R.descender=Q.descender;for(const ne in Q.glyphs)this._doesCharSupportLocalGlyph(+ne)||(R.glyphs[+ne]=Q.glyphs[+ne]);R.ranges[Z]=!0}for(const ne of V)ne(X,Q);delete R.requests[Z]})),V.push((X,Q)=>{X?O(X):Q&&O(null,{stack:w,id:E,glyph:Q.glyphs[E]||null})})},(w,E)=>{if(w)p(w);else if(E){const O={};for(const{stack:R,id:$,glyph:Z}of E)O[R]===void 0&&(O[R]={}),O[R].glyphs===void 0&&(O[R].glyphs={}),O[R].glyphs[$]=Z&&{id:Z.id,bitmap:Z.bitmap.clone(),metrics:Z.metrics},O[R].ascender=this.entries[R].ascender,O[R].descender=this.entries[R].descender;p(null,O)}})}_doesCharSupportLocalGlyph(a){return this.localGlyphMode!==mO.none&&(this.localGlyphMode===mO.all?!!this.localFontFamily:!!this.localFontFamily&&(Gn["CJK Unified Ideographs"](a)||Gn["Hangul Syllables"](a)||Gn.Hiragana(a)||Gn.Katakana(a)||Gn["CJK Symbols and Punctuation"](a)||Gn["CJK Unified Ideographs Extension A"](a)||Gn["CJK Unified Ideographs Extension B"](a)))}_tinySDF(a,u,p){const g=this.localFontFamily;if(!g||!this._doesCharSupportLocalGlyph(p))return;let b=a.tinySDF;if(!b){let ne="400";/bold/i.test(u)?ne="900":/medium/i.test(u)?ne="500":/light/i.test(u)&&(ne="200"),b=a.tinySDF=new tv.TinySDF({fontFamily:g,fontWeight:ne,fontSize:24*bu,buffer:3*bu,radius:8*bu}),b.fontWeight=ne}if(this.localGlyphs[b.fontWeight][p])return this.localGlyphs[b.fontWeight][p];const w=String.fromCodePoint(p),{data:E,width:O,height:R,glyphWidth:$,glyphHeight:Z,glyphLeft:V,glyphTop:X,glyphAdvance:Q}=b.draw(w);return this.localGlyphs[b.fontWeight][p]={id:p,bitmap:new Fp({width:O,height:R},E),metrics:{width:$/bu,height:Z/bu,left:V/bu,top:X/bu-27,advance:Q/bu,localGlyph:!0}}}}tv.loadGlyphRange=function(l,a,u,p,g){const b=256*a,w=b+255,E=p.transformRequest(p.normalizeGlyphsURL(u).replace("{fontstack}",l).replace("{range}",`${b}-${w}`),hr.Glyphs);ut(E,(O,R)=>{if(O)g(O);else if(R){const $={},Z=function(V){return new Qy(V).readFields(cye,{})}(R);for(const V of Z.glyphs)$[V.id]=V;g(null,{glyphs:$,ascender:Z.ascender,descender:Z.descender})}})},tv.TinySDF=class{constructor({fontSize:l=24,buffer:a=3,radius:u=8,cutoff:p=.25,fontFamily:g="sans-serif",fontWeight:b="normal",fontStyle:w="normal"}={}){this.buffer=a,this.cutoff=p,this.radius=u;const E=this.size=l+4*a,O=this._createCanvas(E),R=this.ctx=O.getContext("2d",{willReadFrequently:!0});R.font=`${w} ${b} ${l}px ${g}`,R.textBaseline="alphabetic",R.textAlign="left",R.fillStyle="black",this.gridOuter=new Float64Array(E*E),this.gridInner=new Float64Array(E*E),this.f=new Float64Array(E),this.z=new Float64Array(E+1),this.v=new Uint16Array(E)}_createCanvas(l){const a=document.createElement("canvas");return a.width=a.height=l,a}draw(l){const{width:a,actualBoundingBoxAscent:u,actualBoundingBoxDescent:p,actualBoundingBoxLeft:g,actualBoundingBoxRight:b}=this.ctx.measureText(l),w=Math.ceil(u),E=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(b-g))),O=Math.min(this.size-this.buffer,w+Math.ceil(p)),R=E+2*this.buffer,$=O+2*this.buffer,Z=Math.max(R*$,0),V=new Uint8ClampedArray(Z),X={data:V,width:R,height:$,glyphWidth:E,glyphHeight:O,glyphTop:w,glyphLeft:0,glyphAdvance:a};if(E===0||O===0)return X;const{ctx:Q,buffer:ne,gridInner:ce,gridOuter:ge}=this;Q.clearRect(ne,ne,E,O),Q.fillText(l,ne,ne+w);const Te=Q.getImageData(ne,ne,E,O);ge.fill(Y5,0,Z),ce.fill(0,0,Z);for(let ke=0;ke<O;ke++)for(let Ie=0;Ie<E;Ie++){const Be=Te.data[4*(ke*E+Ie)+3]/255;if(Be===0)continue;const Fe=(ke+ne)*R+Ie+ne;if(Be===1)ge[Fe]=0,ce[Fe]=Y5;else{const Ke=.5-Be;ge[Fe]=Ke>0?Ke*Ke:0,ce[Fe]=Ke<0?Ke*Ke:0}}iB(ge,0,0,R,$,R,this.f,this.v,this.z),iB(ce,ne,ne,E,O,R,this.f,this.v,this.z);for(let ke=0;ke<Z;ke++){const Ie=Math.sqrt(ge[ke])-Math.sqrt(ce[ke]);V[ke]=Math.round(255-255*(Ie/this.radius+this.cutoff))}return X}};const Hm=El;function aB(l,a,u,p){const g=[],b=l.imagePrimary,w=b.pixelRatio,E=b.paddedRect.w-2*Hm,O=b.paddedRect.h-2*Hm,R=l.right-l.left,$=l.bottom-l.top,Z=b.stretchX||[[0,E]],V=b.stretchY||[[0,O]],X=(mt,Ft)=>mt+Ft[1]-Ft[0],Q=Z.reduce(X,0),ne=V.reduce(X,0),ce=E-Q,ge=O-ne;let Te=0,ke=Q,Ie=0,Be=ne,Fe=0,Ke=ce,tt=0,ht=ge;if(b.content&&p){const mt=b.content;Te=J5(Z,0,mt[0]),Ie=J5(V,0,mt[1]),ke=J5(Z,mt[0],mt[2]),Be=J5(V,mt[1],mt[3]),Fe=mt[0]-Te,tt=mt[1]-Ie,Ke=mt[2]-mt[0]-ke,ht=mt[3]-mt[1]-Be}const wt=(mt,Ft,qt,Ot)=>{const Wt=Q5(mt.stretch-Te,ke,R,l.left),Mt=eC(mt.fixed-Fe,Ke,mt.stretch,Q),Vt=Q5(Ft.stretch-Ie,Be,$,l.top),wn=eC(Ft.fixed-tt,ht,Ft.stretch,ne),Xt=Q5(qt.stretch-Te,ke,R,l.left),Hn=eC(qt.fixed-Fe,Ke,qt.stretch,Q),On=Q5(Ot.stretch-Ie,Be,$,l.top),nn=eC(Ot.fixed-tt,ht,Ot.stretch,ne),fr=new K(Wt,Vt),Yn=new K(Xt,Vt),Zn=new K(Xt,On),rn=new K(Wt,On),or=new K(Mt/w,wn/w),Lr=new K(Hn/w,nn/w),mr=a*Math.PI/180;if(mr){const ai=Math.sin(mr),ui=Math.cos(mr),gi=[ui,-ai,ai,ui];fr._matMult(gi),Yn._matMult(gi),rn._matMult(gi),Zn._matMult(gi)}const Fr=mt.stretch+mt.fixed,wr=qt.stretch+qt.fixed,qr=Ft.stretch+Ft.fixed,Pr=Ot.stretch+Ot.fixed,Ni=l.imageSecondary;return{tl:fr,tr:Yn,bl:rn,br:Zn,texPrimary:{x:b.paddedRect.x+Hm+Fr,y:b.paddedRect.y+Hm+qr,w:wr-Fr,h:Pr-qr},texSecondary:Ni?{x:Ni.paddedRect.x+Hm+Fr,y:Ni.paddedRect.y+Hm+qr,w:wr-Fr,h:Pr-qr}:void 0,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:or,pixelOffsetBR:Lr,minFontScaleX:Ke/w/R,minFontScaleY:ht/w/$,isSDF:u}};if(p&&(b.stretchX||b.stretchY)){const mt=sB(Z,ce,Q),Ft=sB(V,ge,ne);for(let qt=0;qt<mt.length-1;qt++){const Ot=mt[qt],Wt=mt[qt+1];for(let Mt=0;Mt<Ft.length-1;Mt++)g.push(wt(Ot,Ft[Mt],Wt,Ft[Mt+1]))}}else g.push(wt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:E+1},{fixed:0,stretch:O+1}));return g}function J5(l,a,u){let p=0;for(const g of l)p+=Math.max(a,Math.min(u,g[1]))-Math.max(a,Math.min(u,g[0]));return p}function sB(l,a,u){const p=[{fixed:-1,stretch:0}];for(const[g,b]of l){const w=p[p.length-1];p.push({fixed:g-w.stretch,stretch:w.stretch}),p.push({fixed:g-w.stretch,stretch:w.stretch+(b-g)})}return p.push({fixed:a+Hm,stretch:u}),p}function Q5(l,a,u,p){return l/a*u+p}function eC(l,a,u,p){return l-a*u/p}function vye(l,a,u,p){const g=a+l.positionedLines[p].lineOffset;return p===0?u+g/2:u+(g+(a+l.positionedLines[p-1].lineOffset))/2}function bye(l,a=1,u=!1){let p=1/0,g=1/0,b=-1/0,w=-1/0;const E=l[0];for(let X=0;X<E.length;X++){const Q=E[X];(!X||Q.x<p)&&(p=Q.x),(!X||Q.y<g)&&(g=Q.y),(!X||Q.x>b)&&(b=Q.x),(!X||Q.y>w)&&(w=Q.y)}const O=Math.min(b-p,w-g);let R=O/2;const $=new Ml([],_ye);if(O===0)return new K(p,g);for(let X=p;X<b;X+=O)for(let Q=g;Q<w;Q+=O)$.push(new nv(X+R,Q+R,R,l));let Z=function(X){let Q=0,ne=0,ce=0;const ge=X[0];for(let Te=0,ke=ge.length,Ie=ke-1;Te<ke;Ie=Te++){const Be=ge[Te],Fe=ge[Ie],Ke=Be.x*Fe.y-Fe.x*Be.y;ne+=(Be.x+Fe.x)*Ke,ce+=(Be.y+Fe.y)*Ke,Q+=3*Ke}return new nv(ne/Q,ce/Q,0,X)}(l),V=$.length;for(;$.length;){const X=$.pop();(X.d>Z.d||!Z.d)&&(Z=X,u&&console.log("found best %d after %d probes",Math.round(1e4*X.d)/1e4,V)),X.max-Z.d<=a||(R=X.h/2,$.push(new nv(X.p.x-R,X.p.y-R,R,l)),$.push(new nv(X.p.x+R,X.p.y-R,R,l)),$.push(new nv(X.p.x-R,X.p.y+R,R,l)),$.push(new nv(X.p.x+R,X.p.y+R,R,l)),V+=4)}return u&&(console.log(`num probes: ${V}`),console.log(`best distance: ${Z.d}`)),Z.p}function _ye(l,a){return a.max-l.max}class nv{constructor(a,u,p,g){this.p=new K(a,u),this.h=p,this.d=function(b,w){let E=!1,O=1/0;for(let R=0;R<w.length;R++){const $=w[R];for(let Z=0,V=$.length,X=V-1;Z<V;X=Z++){const Q=$[Z],ne=$[X];Q.y>b.y!=ne.y>b.y&&b.x<(ne.x-Q.x)*(b.y-Q.y)/(ne.y-Q.y)+Q.x&&(E=!E),O=Math.min(O,Rp(b,Q,ne))}}return(E?1:-1)*Math.sqrt(O)}(this.p,g),this.max=this.d+this.h*Math.SQRT2}}const gO=Number.POSITIVE_INFINITY,xye=Math.sqrt(2);function lB(l,[a,u]){let p=0,g=0;if(u===gO){a<0&&(a=0);const b=a/xye;switch(l){case"top-right":case"top-left":g=b-7;break;case"bottom-right":case"bottom-left":g=7-b;break;case"bottom":g=7-a;break;case"top":g=a-7}switch(l){case"top-right":case"bottom-right":p=-b;break;case"top-left":case"bottom-left":p=b;break;case"left":p=a;break;case"right":p=-a}}else{switch(a=Math.abs(a),u=Math.abs(u),l){case"top-right":case"top-left":case"top":g=u-7;break;case"bottom-right":case"bottom-left":case"bottom":g=7-u}switch(l){case"top-right":case"bottom-right":case"right":p=-a;break;case"top-left":case"bottom-left":case"left":p=a}}return[p,g]}function yO(l){switch(l){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function wye(l,a,u,p,g,b,w,E,O,R,$,Z,V,X,Q){let ne=b.textMaxSize.evaluate(a,{},Z);ne===void 0&&(ne=w);const ce=l.layers[0].layout,ge=ce.get("icon-offset").evaluate(a,{},Z),Te=uB(u.horizontal)||u.vertical,ke=V.name==="globe",Ie=Xa,Be=w/Ie,Fe=l.tilePixelRatio*ne/Ie,Ke=(Wt=l.overscaling,l.zoom>18&&Wt>2&&(Wt>>=1),Math.max(Tn/(512*Wt),1)*ce.get("symbol-spacing")),tt=ce.get("text-padding")*l.tilePixelRatio,ht=ce.get("icon-padding")*l.tilePixelRatio,wt=oe(ce.get("text-max-angle")),mt=ce.get("text-rotation-alignment")==="map"&&ce.get("symbol-placement")!=="point",Ft=ce.get("icon-rotation-alignment")==="map"&&ce.get("symbol-placement")!=="point",qt=ce.get("symbol-placement"),Ot=Ke/2;var Wt;const Mt=ce.get("icon-text-fit").evaluate(a,{},Z),Vt=ce.get("icon-text-fit-padding").evaluate(a,{},Z),wn=Mt!=="none";let Xt;l.hasAnyIconTextFit===!1&&wn&&(l.hasAnyIconTextFit=!0),p&&wn&&(l.allowVerticalPlacement&&u.vertical&&(Xt=qz(p,u.vertical,Mt,Vt,ge,Be)),Te&&(p=qz(p,Te,Mt,Vt,ge,Be)));const Hn=(On,nn,fr)=>{if(nn.x<0||nn.x>=Tn||nn.y<0||nn.y>=Tn)return;let Yn=null;if(ke){const{x:Zn,y:rn,z:or}=V.projectTilePoint(nn.x,nn.y,fr);Yn={anchor:new Mh(Zn,rn,or,0,void 0),up:V.upVector(fr,nn.x,nn.y)}}(function(Zn,rn,or,Lr,mr,Fr,wr,qr,Pr,Ni,ai,ui,gi,si,oo,Ai,Co,la,ja,eo,fo,Ca,Ma,Ea,Wi,Tl,Vp){const zs=Zn.addToLineVertexArray(rn,Lr);let Pl,oc,X1,xC,dZ,hZ,pZ,fZ=0,mZ=0,gZ=0,yZ=0,zO=-1,BO=-1;const Ed={};let vZ=_1("");const Km=or?or.anchor:rn,ZO=Pr.layout.get("icon-text-fit").evaluate(fo,{},Wi)!=="none";let UO=0,HO=0;if(Pr._unevaluatedLayout.getValue("text-radial-offset")===void 0?[UO,HO]=Pr.layout.get("text-offset").evaluate(fo,{},Wi).map(Il=>Il*Xa):(UO=Pr.layout.get("text-radial-offset").evaluate(fo,{},Wi)*Xa,HO=gO),Zn.allowVerticalPlacement&&mr.vertical){const Il=mr.vertical;if(oo)hZ=vO(Il),qr&&(pZ=vO(qr));else{const Ol=Pr.layout.get("text-rotate").evaluate(fo,{},Wi)+90;X1=tC(Ni,Km,rn,ai,ui,gi,Il,si,Ol,Ai),qr&&(xC=tC(Ni,Km,rn,ai,ui,gi,qr,la,Ol))}}if(Fr){const Il=Pr.layout.get("icon-rotate").evaluate(fo,{},Wi),Ol=aB(Fr,Il,Ma,ZO),cv=qr?aB(qr,Il,Ma,ZO):void 0;oc=tC(Ni,Km,rn,ai,ui,gi,Fr,la,Il),fZ=4*Ol.length;const bZ=Zn.iconSizeData;let qm=null;bZ.kind==="source"?(qm=[vu*Pr.layout.get("icon-size").evaluate(fo,{},Wi)],qm[0]>zp&&it(`${Zn.layerIds[0]}: Value for "icon-size" is >= ${R1}. Reduce your "icon-size".`)):bZ.kind==="composite"&&(qm=[vu*Ca.compositeIconSizes[0].evaluate(fo,{},Wi),vu*Ca.compositeIconSizes[1].evaluate(fo,{},Wi)],(qm[0]>zp||qm[1]>zp)&&it(`${Zn.layerIds[0]}: Value for "icon-size" is >= ${R1}. Reduce your "icon-size".`)),Zn.addSymbols(Zn.icon,Ol,qm,eo,ja,fo,!1,or,rn,zs.lineStartIndex,zs.lineLength,-1,Ea,Wi,Tl,Vp),zO=Zn.icon.placedSymbolArray.length-1,cv&&(mZ=4*cv.length,Zn.addSymbols(Zn.icon,cv,qm,eo,ja,fo,rc.vertical,or,rn,zs.lineStartIndex,zs.lineLength,-1,Ea,Wi,Tl,Vp),BO=Zn.icon.placedSymbolArray.length-1)}for(const Il in mr.horizontal){const Ol=mr.horizontal[Il];Pl||(vZ=_1(Ol.text),oo?dZ=vO(Ol):Pl=tC(Ni,Km,rn,ai,ui,gi,Ol,si,Pr.layout.get("text-rotate").evaluate(fo,{},Wi),Ai));const cv=Ol.positionedLines.length===1;if(gZ+=cB(Zn,or,rn,Ol,wr,Pr,oo,fo,Ai,zs,mr.vertical?rc.horizontal:rc.horizontalOnly,cv?Object.keys(mr.horizontal):[Il],Ed,zO,Ca,Ea,Wi,Tl),cv)break}mr.vertical&&(yZ+=cB(Zn,or,rn,mr.vertical,wr,Pr,oo,fo,Ai,zs,rc.vertical,["vertical"],Ed,BO,Ca,Ea,Wi,Tl));let Wp=-1;const VO=(Il,Ol)=>Il?Math.max(Il,Ol):Ol;Wp=VO(dZ,Wp),Wp=VO(hZ,Wp),Wp=VO(pZ,Wp);const zve=Wp>-1?1:0;Zn.glyphOffsetArray.length>=65535&&it("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),fo.sortKey!==void 0&&Zn.addToSortKeyRanges(Zn.symbolInstances.length,fo.sortKey),Zn.symbolInstances.emplaceBack(rn.x,rn.y,Km.x,Km.y,Km.z,Ed.right>=0?Ed.right:-1,Ed.center>=0?Ed.center:-1,Ed.left>=0?Ed.left:-1,Ed.vertical>=0?Ed.vertical:-1,zO,BO,vZ,Pl!==void 0?Pl:Zn.collisionBoxArray.length,Pl!==void 0?Pl+1:Zn.collisionBoxArray.length,X1!==void 0?X1:Zn.collisionBoxArray.length,X1!==void 0?X1+1:Zn.collisionBoxArray.length,oc!==void 0?oc:Zn.collisionBoxArray.length,oc!==void 0?oc+1:Zn.collisionBoxArray.length,xC||Zn.collisionBoxArray.length,xC?xC+1:Zn.collisionBoxArray.length,ai,gZ,yZ,fZ,mZ,zve,0,UO,HO,Wp,0,ZO?1:0)})(l,nn,Yn,On,u,p,g,Xt,l.layers[0],l.collisionBoxArray,a.index,a.sourceLayerIndex,l.index,tt,mt,O,0,ht,Ft,ge,a,b,R,$,Z,X,Q)};if(qt==="line")for(const On of tB(a.geometry,0,0,Tn,Tn)){const nn=yye(On,Ke,wt,u.vertical||Te,p,Ie,Fe,l.overscaling,Tn);for(const fr of nn)Te&&Sye(l,Te.text,Ot,fr)||Hn(On,fr,Z)}else if(qt==="line-center"){for(const On of a.geometry)if(On.length>1){const nn=gye(On,wt,u.vertical||Te,p,Ie,Fe);nn&&Hn(On,nn,Z)}}else if(a.type==="Polygon")for(const On of nO(a.geometry,0)){const nn=bye(On,16);Hn(On[0],new Mh(nn.x,nn.y,0,0,void 0),Z)}else if(a.type==="LineString")for(const On of a.geometry)Hn(On,new Mh(On[0].x,On[0].y,0,0,void 0),Z);else if(a.type==="Point")for(const On of a.geometry)for(const nn of On)Hn([nn],new Mh(nn.x,nn.y,0,0,void 0),Z)}const R1=255,zp=R1*vu;function cB(l,a,u,p,g,b,w,E,O,R,$,Z,V,X,Q,ne,ce,ge){const Te=function(Be,Fe,Ke,tt,ht,wt,mt,Ft){const qt=[];if(Fe.positionedLines.length===0)return qt;const Ot=tt.layout.get("text-rotate").evaluate(wt,{})*Math.PI/180,Wt=function(Hn){const On=Hn[0],nn=Hn[1],fr=On*nn;return fr>0?[On,-nn]:fr<0?[-On,nn]:On===0?[nn,On]:[nn,-On]}(Ke);let Mt=Math.abs(Fe.top-Fe.bottom);for(const Hn of Fe.positionedLines)Mt-=Hn.lineOffset;const Vt=Fe.positionedLines.length,wn=Mt/Vt;let Xt=Fe.top-Ke[1];for(let Hn=0;Hn<Vt;++Hn){const On=Fe.positionedLines[Hn];Xt=vye(Fe,wn,Xt,Hn);for(const nn of On.positionedGlyphs){if(!nn.rect)continue;const fr=nn.rect||{};let Yn=hye+1,Zn=!0,rn=1,or=0;if(nn.imageName){const eo=mt[nn.imageName];if(!eo)continue;if(eo.sdf){it("SDF images are not supported in formatted text and will be ignored.");continue}Zn=!1,rn=eo.pixelRatio,Yn=El/rn}const Lr=(ht||Ft)&&nn.vertical,mr=nn.metrics.advance*nn.scale/2,Fr=nn.metrics,wr=nn.rect;if(wr===null)continue;Ft&&Fe.verticalizable&&(or=nn.imageName?mr-nn.metrics.width*nn.scale/2:0);const qr=ht?[nn.x+mr,nn.y]:[0,0];let Pr=[0,0],Ni=[0,0],ai=!1;ht||(Lr?(Ni=[nn.x+mr+Wt[0],nn.y+Wt[1]-or],ai=!0):Pr=[nn.x+mr+Ke[0],nn.y+Ke[1]-or]);const ui=wr.w*nn.scale/(rn*(nn.localGlyph?bu:1)),gi=wr.h*nn.scale/(rn*(nn.localGlyph?bu:1));let si,oo,Ai,Co;if(Lr){const eo=nn.y-Xt,fo=new K(-mr,mr-eo),Ca=-Math.PI/2,Ma=new K(...Ni);si=new K(-mr+Pr[0],Pr[1]),si._rotateAround(Ca,fo)._add(Ma),si.x+=-eo+mr,si.y-=(Fr.left-Yn)*nn.scale;const Ea=nn.imageName?Fr.advance*nn.scale:Xa*nn.scale,Wi=String.fromCodePoint(nn.glyph);Yge(Wi)?si.x+=(1-Yn)*nn.scale:Jge(Wi)?si.x+=Ea-Fr.height*nn.scale+(-Yn-1)*nn.scale:si.x+=nn.imageName||Fr.width+2*Yn===wr.w&&Fr.height+2*Yn===wr.h?(Ea-gi)/2:(Ea-(Fr.height+2*Yn)*nn.scale)/2,oo=new K(si.x,si.y-ui),Ai=new K(si.x+gi,si.y),Co=new K(si.x+gi,si.y-ui)}else{const eo=(Fr.left-Yn)*nn.scale-mr+Pr[0],fo=(-Fr.top-Yn)*nn.scale+Pr[1],Ca=eo+ui,Ma=fo+gi;si=new K(eo,fo),oo=new K(Ca,fo),Ai=new K(eo,Ma),Co=new K(Ca,Ma)}if(Ot){let eo;eo=ht?new K(0,0):ai?new K(Wt[0],Wt[1]):new K(Ke[0],Ke[1]),si._rotateAround(Ot,eo),oo._rotateAround(Ot,eo),Ai._rotateAround(Ot,eo),Co._rotateAround(Ot,eo)}const la=new K(0,0),ja=new K(0,0);qt.push({tl:si,tr:oo,bl:Ai,br:Co,texPrimary:fr,texSecondary:void 0,writingMode:Fe.writingMode,glyphOffset:qr,sectionIndex:nn.sectionIndex,isSDF:Zn,pixelOffsetTL:la,pixelOffsetBR:ja,minFontScaleX:0,minFontScaleY:0})}}return qt}(0,p,O,b,w,E,g,l.allowVerticalPlacement),ke=l.textSizeData;let Ie=null;ke.kind==="source"?(Ie=[vu*b.layout.get("text-size").evaluate(E,{},ce)],Ie[0]>zp&&it(`${l.layerIds[0]}: Value for "text-size" is >= ${R1}. Reduce your "text-size".`)):ke.kind==="composite"&&(Ie=[vu*Q.compositeTextSizes[0].evaluate(E,{},ce),vu*Q.compositeTextSizes[1].evaluate(E,{},ce)],(Ie[0]>zp||Ie[1]>zp)&&it(`${l.layerIds[0]}: Value for "text-size" is >= ${R1}. Reduce your "text-size".`)),l.addSymbols(l.text,Te,Ie,O,w,E,$,a,u,R.lineStartIndex,R.lineLength,X,ne,ce,ge,!1);for(const Be of Z)V[Be]=l.text.placedSymbolArray.length-1;return 4*Te.length}function uB(l){for(const a in l)return l[a];return null}function tC(l,a,u,p,g,b,w,E,O,R){let $=w.top,Z=w.bottom,V=w.left,X=w.right;const Q=w.collisionPadding;if(Q&&(V-=Q[0],$-=Q[1],X+=Q[2],Z+=Q[3]),O){const ne=new K(V,$),ce=new K(X,$),ge=new K(V,Z),Te=new K(X,Z),ke=oe(O);let Ie=new K(0,0);R&&(Ie=new K(R[0],R[1])),ne._rotateAround(ke,Ie),ce._rotateAround(ke,Ie),ge._rotateAround(ke,Ie),Te._rotateAround(ke,Ie),V=Math.min(ne.x,ce.x,ge.x,Te.x),X=Math.max(ne.x,ce.x,ge.x,Te.x),$=Math.min(ne.y,ce.y,ge.y,Te.y),Z=Math.max(ne.y,ce.y,ge.y,Te.y)}return l.emplaceBack(a.x,a.y,a.z,u.x,u.y,V,$,X,Z,E,p,g,b),l.length-1}function vO(l){l.collisionPadding&&(l.top-=l.collisionPadding[1],l.bottom+=l.collisionPadding[3]);const a=l.bottom-l.top;return a>0?Math.max(10,a):null}function Sye(l,a,u,p){const g=l.compareText;if(a in g){const b=g[a];for(let w=b.length-1;w>=0;w--)if(p.dist(b[w])<u)return!0}else g[a]=[];return g[a].push(p),!1}function dB(l,a){const u=l.fovAboveCenter,p=l.elevation?l.elevation.getMinElevationBelowMSL()*a:0,g=(l._camera.position[2]*l.worldSize-p)/Math.cos(l._pitch),b=Math.sin(u)*g/Math.sin(Math.max(Math.PI/2-l._pitch-u,.01)),w=Math.sin(l._pitch)*b+g;return Math.min(1.01*w,g*(1/l._horizonShift))}function D1(l,a){if(!a.isReprojectedInTileSpace)return{scale:1<<l.z,x:l.x,y:l.y,x2:l.x+1,y2:l.y+1,projection:a};const u=Math.pow(2,-l.z),p=l.x*u,g=(l.x+1)*u,b=l.y*u,w=(l.y+1)*u,E=Cr(p),O=Cr(g),R=Jr(b),$=Jr(w),Z=a.project(E,R),V=a.project(O,R),X=a.project(O,$),Q=a.project(E,$);let ne=Math.min(Z.x,V.x,X.x,Q.x),ce=Math.min(Z.y,V.y,X.y,Q.y),ge=Math.max(Z.x,V.x,X.x,Q.x),Te=Math.max(Z.y,V.y,X.y,Q.y);const ke=u/16;function Ie(Fe,Ke,tt,ht,wt,mt){const Ft=(tt+wt)/2,qt=(ht+mt)/2,Ot=a.project(Cr(Ft),Jr(qt)),Wt=Math.max(0,ne-Ot.x,ce-Ot.y,Ot.x-ge,Ot.y-Te);ne=Math.min(ne,Ot.x),ge=Math.max(ge,Ot.x),ce=Math.min(ce,Ot.y),Te=Math.max(Te,Ot.y),Wt>ke&&(Ie(Fe,Ot,tt,ht,Ft,qt),Ie(Ot,Ke,Ft,qt,wt,mt))}Ie(Z,V,p,b,g,b),Ie(V,X,g,b,g,w),Ie(X,Q,g,w,p,w),Ie(Q,Z,p,w,p,b),ne-=ke,ce-=ke,ge+=ke,Te+=ke;const Be=1/Math.max(ge-ne,Te-ce);return{scale:Be,x:ne*Be,y:ce*Be,x2:ge*Be,y2:Te*Be,projection:a}}function hB(l,{x:a,y:u},p=0){return new K(((a-p)*l.scale-l.x)*Tn,(u*l.scale-l.y)*Tn)}const Aye=o.a6.identity(new Float32Array(16));class Bp{constructor(a){this.spec=a,this.name=a.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(a,u){return{x:0,y:0,z:0}}unproject(a,u){return new ct(0,0)}projectTilePoint(a,u,p){return{x:a,y:u,z:0}}locationPoint(a,u,p=!0){return a._coordinatePoint(a.locationCoordinate(u),p)}pixelsPerMeter(a,u){return Tr(1,a)*u}pixelSpaceConversion(a,u,p){return 1}farthestPixelDistance(a){return dB(a,a.pixelsPerMeter)}pointCoordinate(a,u,p,g){const b=a.horizonLineFromTop(!1),w=new K(u,Math.max(b,p));return a.rayIntersectionCoordinate(a.pointRayIntersection(w,g))}pointCoordinate3D(a,u,p){const g=new K(u,p);if(a.elevation)return a.elevation.pointCoordinate(g);{const b=this.pointCoordinate(a,g.x,g.y,0);return[b.x,b.y,b.z]}}isPointAboveHorizon(a,u){if(a.elevation)return!this.pointCoordinate3D(a,u.x,u.y);const p=a.horizonLineFromTop();return u.y<p}createInversionMatrix(a,u){return Aye}createTileMatrix(a,u,p){let g,b,w;const E=p.canonical,O=o.a6.identity(new Float64Array(16));if(this.isReprojectedInTileSpace){const R=D1(E,this);g=1,b=R.x+p.wrap*R.scale,w=R.y,o.a6.scale(O,O,[g/R.scale,g/R.scale,a.pixelsPerMeter/u])}else g=u/a.zoomScale(E.z),b=(E.x+Math.pow(2,E.z)*p.wrap)*g,w=E.y*g;return o.a6.translate(O,O,[b,w,0]),o.a6.scale(O,O,[g/Tn,g/Tn,1]),O}upVector(a,u,p){return[0,0,1]}upVectorScale(a,u,p){return{metersToTile:1}}}class Cye extends Bp{constructor(a){super(a),this.range=[4,7],this.center=a.center||[-96,37.5];const[u,p]=this.parallels=a.parallels||[29.5,45.5],g=Math.sin(oe(u));this.n=(g+Math.sin(oe(p)))/2,this.c=1+g*(2*this.n-g),this.r0=Math.sqrt(this.c)/this.n}project(a,u){const{n:p,c:g,r0:b}=this,w=oe(a-this.center[0]),E=oe(u),O=Math.sqrt(g-2*p*Math.sin(E))/p;return{x:O*Math.sin(w*p),y:O*Math.cos(w*p)-b,z:0}}unproject(a,u){const{n:p,c:g,r0:b}=this,w=b+u;let E=Math.atan2(a,Math.abs(w))*Math.sign(w);w*p<0&&(E-=Math.PI*Math.sign(a)*Math.sign(w));const O=oe(this.center[0])*p;E=ae(E,-Math.PI-O,Math.PI-O);const R=ue(he(E/p)+this.center[0],-180,180),$=Math.asin(ue((g-(a*a+w*w)*p*p)/(2*p),-1,1)),Z=ue(he($),-85.051129,yi);return new ct(R,Z)}}const L1=1.340264,F1=-.081106,$1=893e-6,j1=.003796,nC=Math.sqrt(3)/2;class Mye extends Bp{project(a,u){u=u/180*Math.PI,a=a/180*Math.PI;const p=Math.asin(nC*Math.sin(u)),g=p*p,b=g*g*g;return{x:.5*(a*Math.cos(p)/(nC*(L1+3*F1*g+b*(7*$1+9*j1*g)))/Math.PI+.5),y:1-.5*(p*(L1+F1*g+b*($1+j1*g))/Math.PI+1),z:0}}unproject(a,u){a=(2*a-.5)*Math.PI;let p=u=(2*(1-u)-1)*Math.PI,g=p*p,b=g*g*g;for(let $,Z,V,X=0;X<12&&(Z=p*(L1+F1*g+b*($1+j1*g))-u,V=L1+3*F1*g+b*(7*$1+9*j1*g),$=Z/V,p=ue(p-$,-Math.PI/3,Math.PI/3),g=p*p,b=g*g*g,!(Math.abs($)<1e-12));++X);const w=nC*a*(L1+3*F1*g+b*(7*$1+9*j1*g))/Math.cos(p),E=Math.asin(Math.sin(p)/nC),O=ue(180*w/Math.PI,-180,180),R=ue(180*E/Math.PI,-85.051129,yi);return new ct(O,R)}}class Eye extends Bp{constructor(a){super(a),this.wrap=!0,this.supportsWorldCopies=!0}project(a,u){return{x:.5+a/360,y:.5-u/360,z:0}}unproject(a,u){const p=360*(a-.5),g=ue(360*(.5-u),-85.051129,yi);return new ct(p,g)}}const rv=Math.PI/2;function rC(l){return Math.tan((rv+l)/2)}class Tye extends Bp{constructor(a){super(a),this.center=a.center||[0,30];const[u,p]=this.parallels=a.parallels||[30,30];let g=oe(u),b=oe(p);this.southernCenter=g+b<0,this.southernCenter&&(g=-g,b=-b);const w=Math.cos(g),E=rC(g);this.n=g===b?Math.sin(g):Math.log(w/Math.cos(b))/Math.log(rC(b)/E),this.f=w*Math.pow(rC(g),this.n)/this.n}project(a,u){u=oe(u),this.southernCenter&&(u=-u),a=oe(a-this.center[0]);const p=1e-6,{n:g,f:b}=this;b>0?u<-rv+p&&(u=-rv+p):u>rv-p&&(u=rv-p);const w=b/Math.pow(rC(u),g);let E=w*Math.sin(g*a),O=b-w*Math.cos(g*a);return E=.5*(E/Math.PI+.5),O=.5*(O/Math.PI+.5),{x:E,y:this.southernCenter?O:1-O,z:0}}unproject(a,u){a=(2*a-.5)*Math.PI,this.southernCenter&&(u=1-u),u=(2*(1-u)-.5)*Math.PI;const{n:p,f:g}=this,b=g-u,w=Math.sign(b),E=Math.sign(p)*Math.sqrt(a*a+b*b);let O=Math.atan2(a,Math.abs(b))*w;b*p<0&&(O-=Math.PI*Math.sign(a)*w);const R=ue(he(O/p)+this.center[0],-180,180),$=ue(he(2*Math.atan(Math.pow(g/E,1/p))-rv),-85.051129,yi);return new ct(R,this.southernCenter?-$:$)}}class pB extends Bp{constructor(a){super(a),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(a,u){return{x:Nr(a),y:br(u),z:0}}unproject(a,u){const p=Cr(a),g=Jr(u);return new ct(p,g)}}const fB=oe(yi);class Pye extends Bp{project(a,u){const p=(u=oe(u))*u,g=p*p;return{x:.5*((a=oe(a))*(.8707-.131979*p+g*(g*(.003971*p-.001529*g)-.013791))/Math.PI+.5),y:1-.5*(u*(1.007226+p*(.015085+g*(.028874*p-.044475-.005916*g)))/Math.PI+1),z:0}}unproject(a,u){a=(2*a-.5)*Math.PI;let p=u=(2*(1-u)-1)*Math.PI,g=25,b=0,w=p*p;do{w=p*p;const R=w*w;b=(p*(1.007226+w*(.015085+R*(.028874*w-.044475-.005916*R)))-u)/(1.007226+w*(.045255+R*(.259866*w-.311325-.005916*11*R))),p=ue(p-b,-fB,fB)}while(Math.abs(b)>1e-6&&--g>0);w=p*p;const E=ue(he(a/(.8707+w*(w*(w*w*w*(.003971-.001529*w)-.013791)-.131979))),-180,180),O=he(p);return new ct(E,O)}}const mB=oe(yi);class Iye extends Bp{project(a,u){u=oe(u),a=oe(a);const p=Math.cos(u),g=2/Math.PI,b=Math.acos(p*Math.cos(a/2)),w=Math.sin(b)/b,E=.5*(a*g+2*p*Math.sin(a/2)/w)||0,O=.5*(u+Math.sin(u)/w)||0;return{x:.5*(E/Math.PI+.5),y:1-.5*(O/Math.PI+1),z:0}}unproject(a,u){let p=a=(2*a-.5)*Math.PI,g=u=(2*(1-u)-1)*Math.PI,b=25;const w=1e-6;let E=0,O=0;do{const R=Math.cos(g),$=Math.sin(g),Z=2*$*R,V=$*$,X=R*R,Q=Math.cos(p/2),ne=Math.sin(p/2),ce=2*Q*ne,ge=ne*ne,Te=1-X*Q*Q,ke=Te?1/Te:0,Ie=Te?Math.acos(R*Q)*Math.sqrt(1/Te):0,Be=.5*(2*Ie*R*ne+2*p/Math.PI)-a,Fe=.5*(Ie*$+g)-u,Ke=.5*ke*(X*ge+Ie*R*Q*V)+1/Math.PI,tt=ke*(ce*Z/4-Ie*$*ne),ht=.125*ke*(Z*ne-Ie*$*X*ce),wt=.5*ke*(V*Q+Ie*ge*R)+.5,mt=tt*ht-wt*Ke;E=(Fe*tt-Be*wt)/mt,O=(Be*ht-Fe*Ke)/mt,p=ue(p-E,-Math.PI,Math.PI),g=ue(g-O,-mB,mB)}while((Math.abs(E)>w||Math.abs(O)>w)&&--b>0);return new ct(he(p),he(g))}}class gB extends Bp{constructor(a){super(a),this.center=a.center||[0,0],this.parallels=a.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(oe(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(a,u){const{scale:p,cosPhi:g}=this;return{x:oe(a)*g*p+.5,y:-Math.sin(oe(u))/g*p+.5,z:0}}unproject(a,u){const{scale:p,cosPhi:g}=this,b=-(u-.5)/p,w=ue(he((a-.5)/p)/g,-180,180),E=Math.asin(ue(b*g,-1,1)),O=ue(he(E),-85.051129,yi);return new ct(w,O)}}class Oye extends pB{constructor(a){super(a),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(a,u,p){const g=A1(a,u,p),b=R5(Md(p));return o.N.transformMat4(g,g,b),{x:g[0],y:g[1],z:g[2]}}locationPoint(a,u){const p=Nt(u.lat,u.lng),g=o.N.normalize([],p),b=a.elevation?a.elevation.getAtPointOrZero(a.locationCoordinate(u),a._centerAltitude):a._centerAltitude,w=Tr(1,0)*Tn*b;o.N.scaleAndAdd(p,p,g,w);const E=o.a6.identity(new Float64Array(16));return o.a6.multiply(E,a.pixelMatrix,a.globeMatrix),o.N.transformMat4(p,p,E),new K(p[0],p[1])}pixelsPerMeter(a,u){return Tr(1,0)*u}pixelSpaceConversion(a,u,p){const g=Tr(1,a)*u,b=ur(Tr(1,45)*u,g,p);return this.pixelsPerMeter(a,u)/b}createTileMatrix(a,u,p){const g=KI(Md(p.canonical));return o.a6.multiply(new Float64Array(16),a.globeMatrix,g)}createInversionMatrix(a,u){const{center:p}=a,g=R5(Md(u));return o.a6.rotateY(g,g,oe(p.lng)),o.a6.rotateX(g,g,oe(p.lat)),o.a6.scale(g,g,[a._pixelsPerMercatorPixel,a._pixelsPerMercatorPixel,1]),Float32Array.from(g)}pointCoordinate(a,u,p,g){return Rj(a,u,p,!0)||new ii(0,0)}pointCoordinate3D(a,u,p){const g=this.pointCoordinate(a,u,p,0);return[g.x,g.y,g.z]}isPointAboveHorizon(a,u){return!Rj(a,u.x,u.y,!1)}farthestPixelDistance(a){const u=function(g,b){const w=g.cameraToCenterDistance,E=g._centerAltitude*b,O=g._camera,R=g._camera.forward(),$=o.N.add([],o.N.scale([],R,-w),[0,0,E]),Z=g.worldSize/(2*Math.PI),V=[0,0,-Z],X=g.width/g.height,Q=Math.tan(g.fovAboveCenter),ne=o.N.scale([],O.up(),Q),ce=o.N.scale([],O.right(),Q*X),ge=o.N.normalize([],o.N.add([],o.N.add([],R,ne),ce)),Te=[];let ke;if(new UI($,ge).closestPointOnSphere(V,Z,Te)){const Ie=o.N.add([],Te,V),Be=o.N.sub([],Ie,$);ke=Math.cos(g.fovAboveCenter)*o.N.length(Be)}else{const Ie=o.N.sub([],$,V),Be=o.N.sub([],V,$);o.N.normalize(Be,Be);const Fe=o.N.length(Ie)-Z;ke=Math.sqrt(Fe*(Fe+2*Z));const Ke=Math.acos(ke/(Z+Fe))-Math.acos(o.N.dot(R,Be));ke*=Math.cos(Ke)}return 1.01*ke}(a,this.pixelsPerMeter(a.center.lat,a.worldSize)),p=Lp(a.zoom);if(p>0){const g=dB(a,Tr(1,a.center.lat)*a.worldSize),b=a.worldSize/(2*Math.PI),w=Math.max(a.width,a.height)/a.worldSize*Math.PI;return ur(u,g+b*(1-Math.cos(w)),Math.pow(p,10))}return u}upVector(a,u,p){return A1(u,p,a,1)}upVectorScale(a){return{metersToTile:O5(N5(Md(a)))}}}function yB(l){const a=l.parallels,u=!!a&&Math.abs(a[0]+a[1])<.01;switch(l.name){case"mercator":return new pB(l);case"equirectangular":return new Eye(l);case"naturalEarth":return new Pye(l);case"equalEarth":return new Mye(l);case"winkelTripel":return new Iye(l);case"albers":return u?new gB(l):new Cye(l);case"lambertConformalConic":return u?new gB(l):new Tye(l);case"globe":return new Oye(l)}throw new Error(`Invalid projection name: ${l.name}`)}const kye=B5.types,Nye=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function iC(l,a,u,p,g,b,w,E,O,R,$,Z,V){const X=E?Math.min(zp,Math.round(E[0])):0,Q=E?Math.min(zp,Math.round(E[1])):0;l.emplaceBack(a,u,Math.round(32*p),Math.round(32*g),b,w,(X<<1)+(O?1:0),Q,16*R,16*$,256*Z,256*V)}function oC(l,a,u){l.emplaceBack(a,u)}function aC(l,a,u,p,g,b,w){l.emplaceBack(a,u,p,g,b,w)}function sC(l,a,u,p,g){l.emplaceBack(a,u,p,g),l.emplaceBack(a,u,p,g),l.emplaceBack(a,u,p,g),l.emplaceBack(a,u,p,g)}function Rye(l){for(const a of l.sections)if(K_(a.text))return!0;return!1}class bO{constructor(a){this.layoutVertexArray=new Tm,this.indexArray=new fa,this.programConfigurations=a,this.segments=new Ao,this.dynamicLayoutVertexArray=new bd,this.opacityVertexArray=new d1,this.placedSymbolArray=new h5,this.iconTransitioningVertexArray=new Dc,this.globeExtVertexArray=new u1,this.zOffsetVertexArray=new Im}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0&&this.iconTransitioningVertexArray.length===0}upload(a,u,p,g,b){this.isEmpty()||(p&&(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Bge.members),this.indexBuffer=a.createIndexBuffer(this.indexArray,u),this.dynamicLayoutVertexBuffer=a.createVertexBuffer(this.dynamicLayoutVertexArray,Uge.members,!0),this.opacityVertexBuffer=a.createVertexBuffer(this.opacityVertexArray,Nye,!0),this.iconTransitioningVertexArray.length>0&&(this.iconTransitioningVertexBuffer=a.createVertexBuffer(this.iconTransitioningVertexArray,Vge.members,!0)),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=a.createVertexBuffer(this.globeExtVertexArray,Zge.members,!0)),!this.zOffsetVertexBuffer&&(this.zOffsetVertexArray.length>0||b)&&(this.zOffsetVertexBuffer=a.createVertexBuffer(this.zOffsetVertexArray,Hge.members,!0)),this.opacityVertexBuffer.itemSize=1),(p||g)&&this.programConfigurations.upload(a))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.iconTransitioningVertexBuffer&&this.iconTransitioningVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy(),this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy())}}Dn(bO,"SymbolBuffers");class _O{constructor(a,u,p){this.layoutVertexArray=new a,this.layoutAttributes=u,this.indexArray=new p,this.segments=new Ao,this.collisionVertexArray=new p1,this.collisionVertexArrayExt=new bd}upload(a){this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=a.createVertexBuffer(this.collisionVertexArray,Wge.members,!0),this.collisionVertexBufferExt=a.createVertexBuffer(this.collisionVertexArrayExt,Gge.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Dn(_O,"CollisionBuffers");class lC{constructor(a){this.collisionBoxArray=a.collisionBoxArray,this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(w=>w.fqid),this.index=a.index,this.pixelRatio=a.pixelRatio,this.sourceLayerIndex=a.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.hasAnyIconTextFit=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=o.a6.identity([]),this.placementViewportMatrix=o.a6.identity([]);const u=this.layers[0]._unevaluatedLayout._values;this.textSizeData=cO(this.zoom,u["text-size"]),this.iconSizeData=cO(this.zoom,u["icon-size"]);const p=this.layers[0].layout,g=p.get("symbol-sort-key"),b=p.get("symbol-z-order");this.canOverlap=p.get("text-allow-overlap")||p.get("icon-allow-overlap")||p.get("text-ignore-placement")||p.get("icon-ignore-placement"),this.sortFeaturesByKey=b!=="viewport-y"&&g.constantOr(1)!==void 0,this.sortFeaturesByY=(b==="viewport-y"||b==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=p.get("text-writing-mode").map(w=>rc[w]),this.stateDependentLayerIds=this.layers.filter(w=>w.isStateDependent()).map(w=>w.id),this.sourceID=a.sourceID,this.projection=a.projection,this.hasAnyZOffset=!1,this.zOffsetSortDirty=!1,this.zOffsetBuffersNeedUpload=p.get("symbol-z-elevate")}createArrays(){this.text=new bO(new _e(this.layers,this.zoom,a=>/^text/.test(a))),this.icon=new bO(new _e(this.layers,this.zoom,a=>/^icon/.test(a))),this.glyphOffsetArray=new m5,this.lineVertexArray=new Rm,this.symbolInstances=new f5}calculateGlyphDependencies(a,u,p,g,b){for(let w=0;w<a.length;w++){const E=a.codePointAt(w);if(E===void 0)break;if(u[E]=!0,g&&b&&E<=65535){const O=k1[a.charAt(w)];O&&(u[O.charCodeAt(0)]=!0)}}}populate(a,u,p,g){const b=this.layers[0],w=b.layout,E=this.projection.name==="globe",O=w.get("text-font"),R=w.get("text-field"),$=w.get("icon-image"),Z=(R.value.kind!=="constant"||R.value.value instanceof pi&&!R.value.value.isEmpty()||R.value.value.toString().length>0)&&(O.value.kind!=="constant"||O.value.value.length>0),V=$.value.kind!=="constant"||!!$.value.value||Object.keys($.parameters).length>0,X=w.get("symbol-sort-key");if(this.features=[],!Z&&!V)return;const Q=u.iconDependencies,ne=u.glyphDependencies,ce=u.availableImages,ge=new co(this.zoom);for(const{feature:Te,id:ke,index:Ie,sourceLayerIndex:Be}of a){const Fe=b._featureFilter.needGeometry,Ke=Jo(Te,Fe);if(!b._featureFilter.filter(ge,Ke,p))continue;if(Fe||(Ke.geometry=ga(Te,p,g)),E&&Te.type!==1&&p.z<=5){const mt=Ke.geometry,Ft=.98078528056,qt=(Ot,Wt)=>{const Mt=A1(Ot.x,Ot.y,p,1),Vt=A1(Wt.x,Wt.y,p,1);return o.N.dot(Mt,Vt)<Ft};for(let Ot=0;Ot<mt.length;Ot++)mt[Ot]=$a(mt[Ot],qt)}let tt,ht;if(Z){const mt=b.getValueAndResolveTokens("text-field",Ke,p,ce),Ft=pi.factory(mt);Rye(Ft)&&(this.hasRTLText=!0),(!this.hasRTLText||vd()==="unavailable"||this.hasRTLText&&ol.isParsed())&&(tt=Xge(Ft,b,Ke))}if(V){const mt=b.getValueAndResolveTokens("icon-image",Ke,p,ce);ht=mt instanceof Rn?mt:Rn.fromString(mt)}if(!tt&&!ht)continue;const wt=this.sortFeaturesByKey?X.evaluate(Ke,{},p):void 0;if(this.features.push({id:ke,text:tt,icon:ht,index:Ie,sourceLayerIndex:Be,geometry:Ke.geometry,properties:Te.properties,type:kye[Te.type],sortKey:wt}),ht&&(Q[ht.namePrimary]=!0,ht.nameSecondary&&(Q[ht.nameSecondary]=!0)),tt){const mt=O.evaluate(Ke,{},p).join(","),Ft=w.get("text-rotation-alignment")==="map"&&w.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(rc.vertical)>=0;for(const qt of tt.sections)if(qt.image)Q[qt.image.namePrimary]=!0;else{const Ot=gd(tt.toString()),Wt=qt.fontStack||mt,Mt=ne[Wt]=ne[Wt]||{};this.calculateGlyphDependencies(qt.text,Mt,Ft,this.allowVerticalPlacement,Ot)}}}w.get("symbol-placement")==="line"&&(this.features=function(Te){const ke={},Ie={},Be=[];let Fe=0;function Ke(mt){Be.push(Te[mt]),Fe++}function tt(mt,Ft,qt){const Ot=Ie[mt];return delete Ie[mt],Ie[Ft]=Ot,Be[Ot].geometry[0].pop(),Be[Ot].geometry[0]=Be[Ot].geometry[0].concat(qt[0]),Ot}function ht(mt,Ft,qt){const Ot=ke[Ft];return delete ke[Ft],ke[mt]=Ot,Be[Ot].geometry[0].shift(),Be[Ot].geometry[0]=qt[0].concat(Be[Ot].geometry[0]),Ot}function wt(mt,Ft,qt){const Ot=qt?Ft[0][Ft[0].length-1]:Ft[0][0];return`${mt}:${Ot.x}:${Ot.y}`}for(let mt=0;mt<Te.length;mt++){const Ft=Te[mt],qt=Ft.geometry,Ot=Ft.text?Ft.text.toString():null;if(!Ot){Ke(mt);continue}const Wt=wt(Ot,qt),Mt=wt(Ot,qt,!0);if(Wt in Ie&&Mt in ke&&Ie[Wt]!==ke[Mt]){const Vt=ht(Wt,Mt,qt),wn=tt(Wt,Mt,Be[Vt].geometry);delete ke[Wt],delete Ie[Mt],Ie[wt(Ot,Be[wn].geometry,!0)]=wn,Be[Vt].geometry=null}else Wt in Ie?tt(Wt,Mt,qt):Mt in ke?ht(Wt,Mt,qt):(Ke(mt),ke[Wt]=Fe-1,Ie[Mt]=Fe-1)}return Be.filter(mt=>mt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Te,ke)=>Te.sortKey-ke.sortKey)}update(a,u,p,g,b){const w=Object.keys(a).length!==0;if(w&&!this.stateDependentLayers.length)return;const E=w?this.stateDependentLayers:this.layers;this.text.programConfigurations.updatePaintArrays(a,u,E,p,g,b),this.icon.programConfigurations.updatePaintArrays(a,u,E,p,g,b)}updateZOffset(){const a=(b,w,E)=>{p+=w,p>b.length&&b.resize(p);for(let O=-w;O<0;O++)b.emplace(O+p,E)},u=(b,w,E)=>{g+=w,g>b.length&&b.resize(g);for(let O=-w;O<0;O++)b.emplace(O+g,E)};if(!this.zOffsetBuffersNeedUpload)return;this.zOffsetBuffersNeedUpload=!1;let p=0,g=0;for(let b=0;b<this.symbolInstances.length;b++){const w=this.symbolInstances.get(b),{numHorizontalGlyphVertices:E,numVerticalGlyphVertices:O,numIconVertices:R}=w,$=w.zOffset,Z=R>0;if((E>0||O>0)&&(a(this.text.zOffsetVertexArray,E,$),a(this.text.zOffsetVertexArray,O,$)),Z){const{placedIconSymbolIndex:V,verticalPlacedIconSymbolIndex:X}=w;V>=0&&u(this.icon.zOffsetVertexArray,R,$),X>=0&&u(this.icon.zOffsetVertexArray,w.numVerticalIconVertices,$)}}this.text.zOffsetVertexBuffer&&this.text.zOffsetVertexBuffer.updateData(this.text.zOffsetVertexArray),this.icon.zOffsetVertexBuffer&&this.icon.zOffsetVertexBuffer.updateData(this.icon.zOffsetVertexArray)}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(a){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(a),this.iconCollisionBox.upload(a)),this.text.upload(a,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.icon.upload(a,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=yB(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(a,u){const p=this.lineVertexArray.length;if(a.segment!==void 0)for(const{x:g,y:b}of u)this.lineVertexArray.emplaceBack(g,b);return{lineStartIndex:p,lineLength:this.lineVertexArray.length-p}}addSymbols(a,u,p,g,b,w,E,O,R,$,Z,V,X,Q,ne,ce){const ge=a.indexArray,Te=a.layoutVertexArray,ke=a.globeExtVertexArray,Ie=a.segments.prepareSegment(4*u.length,Te,ge,this.canOverlap?w.sortKey:void 0),Be=this.glyphOffsetArray.length,Fe=Ie.vertexLength,Ke=this.allowVerticalPlacement&&E===rc.vertical?Math.PI/2:0,tt=w.text&&w.text.sections;for(let wt=0;wt<u.length;wt++){const{tl:mt,tr:Ft,bl:qt,br:Ot,texPrimary:Wt,texSecondary:Mt,pixelOffsetTL:Vt,pixelOffsetBR:wn,minFontScaleX:Xt,minFontScaleY:Hn,glyphOffset:On,isSDF:nn,sectionIndex:fr}=u[wt],Yn=Ie.vertexLength,Zn=On[1];if(iC(Te,R.x,R.y,mt.x,Zn+mt.y,Wt.x,Wt.y,p,nn,Vt.x,Vt.y,Xt,Hn),iC(Te,R.x,R.y,Ft.x,Zn+Ft.y,Wt.x+Wt.w,Wt.y,p,nn,wn.x,Vt.y,Xt,Hn),iC(Te,R.x,R.y,qt.x,Zn+qt.y,Wt.x,Wt.y+Wt.h,p,nn,Vt.x,wn.y,Xt,Hn),iC(Te,R.x,R.y,Ot.x,Zn+Ot.y,Wt.x+Wt.w,Wt.y+Wt.h,p,nn,wn.x,wn.y,Xt,Hn),O){const{x:rn,y:or,z:Lr}=O.anchor,[mr,Fr,wr]=O.up;aC(ke,rn,or,Lr,mr,Fr,wr),aC(ke,rn,or,Lr,mr,Fr,wr),aC(ke,rn,or,Lr,mr,Fr,wr),aC(ke,rn,or,Lr,mr,Fr,wr),sC(a.dynamicLayoutVertexArray,rn,or,Lr,Ke)}else sC(a.dynamicLayoutVertexArray,R.x,R.y,R.z,Ke);if(ce){const rn=Mt||Wt;oC(a.iconTransitioningVertexArray,rn.x,rn.y),oC(a.iconTransitioningVertexArray,rn.x+rn.w,rn.y),oC(a.iconTransitioningVertexArray,rn.x,rn.y+rn.h),oC(a.iconTransitioningVertexArray,rn.x+rn.w,rn.y+rn.h)}ge.emplaceBack(Yn,Yn+1,Yn+2),ge.emplaceBack(Yn+1,Yn+2,Yn+3),Ie.vertexLength+=4,Ie.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(On[0]),wt!==u.length-1&&fr===u[wt+1].sectionIndex||a.programConfigurations.populatePaintArrays(Te.length,w,w.index,{},X,Q,ne,tt&&tt[fr])}const ht=O?O.anchor:R;a.placedSymbolArray.emplaceBack(ht.x,ht.y,ht.z,R.x,R.y,Be,this.glyphOffsetArray.length-Be,Fe,$,Z,R.segment,p?p[0]:0,p?p[1]:0,g[0],g[1],E,0,!1,0,V,0)}_commitLayoutVertex(a,u,p,g,b,w,E){a.emplaceBack(u,p,g,b,w,Math.round(E.x),Math.round(E.y))}_addCollisionDebugVertices(a,u,p,g,b,w,E){const O=p.segments.prepareSegment(4,p.layoutVertexArray,p.indexArray),R=O.vertexLength,$=E.tileAnchorX,Z=E.tileAnchorY;for(let X=0;X<4;X++)p.collisionVertexArray.emplaceBack(0,0,0,0);this._commitDebugCollisionVertexUpdate(p.collisionVertexArrayExt,u,a.padding,E.zOffset),this._commitLayoutVertex(p.layoutVertexArray,g,b,w,$,Z,new K(a.x1,a.y1)),this._commitLayoutVertex(p.layoutVertexArray,g,b,w,$,Z,new K(a.x2,a.y1)),this._commitLayoutVertex(p.layoutVertexArray,g,b,w,$,Z,new K(a.x2,a.y2)),this._commitLayoutVertex(p.layoutVertexArray,g,b,w,$,Z,new K(a.x1,a.y2)),O.vertexLength+=4;const V=p.indexArray;V.emplaceBack(R,R+1),V.emplaceBack(R+1,R+2),V.emplaceBack(R+2,R+3),V.emplaceBack(R+3,R),O.primitiveLength+=4}_addTextDebugCollisionBoxes(a,u,p,g,b,w){for(let E=g;E<b;E++){const O=p.get(E),R=this.getSymbolInstanceTextSize(a,w,u,E);this._addCollisionDebugVertices(O,R,this.textCollisionBox,O.projectedAnchorX,O.projectedAnchorY,O.projectedAnchorZ,w)}}_addIconDebugCollisionBoxes(a,u,p,g,b,w){for(let E=g;E<b;E++){const O=p.get(E),R=this.getSymbolInstanceIconSize(a,u,w.placedIconSymbolIndex);this._addCollisionDebugVertices(O,R,this.iconCollisionBox,O.projectedAnchorX,O.projectedAnchorY,O.projectedAnchorZ,w)}}generateCollisionDebugBuffers(a,u){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new _O(Pm,$z.members,Dc),this.iconCollisionBox=new _O(Pm,$z.members,Dc);const p=Xy(this.iconSizeData,a),g=Xy(this.textSizeData,a);for(let b=0;b<this.symbolInstances.length;b++){const w=this.symbolInstances.get(b);this._addTextDebugCollisionBoxes(g,a,u,w.textBoxStartIndex,w.textBoxEndIndex,w),this._addTextDebugCollisionBoxes(g,a,u,w.verticalTextBoxStartIndex,w.verticalTextBoxEndIndex,w),this._addIconDebugCollisionBoxes(p,a,u,w.iconBoxStartIndex,w.iconBoxEndIndex,w),this._addIconDebugCollisionBoxes(p,a,u,w.verticalIconBoxStartIndex,w.verticalIconBoxEndIndex,w)}}getSymbolInstanceTextSize(a,u,p,g){const b=this.text.placedSymbolArray.get(u.rightJustifiedTextSymbolIndex>=0?u.rightJustifiedTextSymbolIndex:u.centerJustifiedTextSymbolIndex>=0?u.centerJustifiedTextSymbolIndex:u.leftJustifiedTextSymbolIndex>=0?u.leftJustifiedTextSymbolIndex:u.verticalPlacedTextSymbolIndex>=0?u.verticalPlacedTextSymbolIndex:g),w=G5(this.textSizeData,a,b)/Xa;return this.tilePixelRatio*w}getSymbolInstanceIconSize(a,u,p){const g=this.icon.placedSymbolArray.get(p),b=G5(this.iconSizeData,a,g);return this.tilePixelRatio*b}_commitDebugCollisionVertexUpdate(a,u,p,g){a.emplaceBack(u,-p,-p,g),a.emplaceBack(u,p,-p,g),a.emplaceBack(u,p,p,g),a.emplaceBack(u,-p,p,g)}_updateTextDebugCollisionBoxes(a,u,p,g,b,w){for(let E=g;E<b;E++){const O=p.get(E),R=this.getSymbolInstanceTextSize(a,w,u,E);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,R,O.padding,w.zOffset)}}_updateIconDebugCollisionBoxes(a,u,p,g,b,w){for(let E=g;E<b;E++){const O=p.get(E),R=this.getSymbolInstanceIconSize(a,u,w.placedIconSymbolIndex);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,R,O.padding,w.zOffset)}}updateCollisionDebugBuffers(a,u){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const p=Xy(this.iconSizeData,a),g=Xy(this.textSizeData,a);for(let b=0;b<this.symbolInstances.length;b++){const w=this.symbolInstances.get(b);this._updateTextDebugCollisionBoxes(g,a,u,w.textBoxStartIndex,w.textBoxEndIndex,w),this._updateTextDebugCollisionBoxes(g,a,u,w.verticalTextBoxStartIndex,w.verticalTextBoxEndIndex,w),this._updateIconDebugCollisionBoxes(p,a,u,w.iconBoxStartIndex,w.iconBoxEndIndex,w),this._updateIconDebugCollisionBoxes(p,a,u,w.verticalIconBoxStartIndex,w.verticalIconBoxEndIndex,w)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(a,u,p,g,b,w,E,O,R){const $={};if(u<p){const{x1:Z,y1:V,x2:X,y2:Q,padding:ne,projectedAnchorX:ce,projectedAnchorY:ge,projectedAnchorZ:Te,tileAnchorX:ke,tileAnchorY:Ie,featureIndex:Be}=a.get(u);$.textBox={x1:Z,y1:V,x2:X,y2:Q,padding:ne,projectedAnchorX:ce,projectedAnchorY:ge,projectedAnchorZ:Te,tileAnchorX:ke,tileAnchorY:Ie},$.textFeatureIndex=Be}if(g<b){const{x1:Z,y1:V,x2:X,y2:Q,padding:ne,projectedAnchorX:ce,projectedAnchorY:ge,projectedAnchorZ:Te,tileAnchorX:ke,tileAnchorY:Ie,featureIndex:Be}=a.get(g);$.verticalTextBox={x1:Z,y1:V,x2:X,y2:Q,padding:ne,projectedAnchorX:ce,projectedAnchorY:ge,projectedAnchorZ:Te,tileAnchorX:ke,tileAnchorY:Ie},$.verticalTextFeatureIndex=Be}if(w<E){const{x1:Z,y1:V,x2:X,y2:Q,padding:ne,projectedAnchorX:ce,projectedAnchorY:ge,projectedAnchorZ:Te,tileAnchorX:ke,tileAnchorY:Ie,featureIndex:Be}=a.get(w);$.iconBox={x1:Z,y1:V,x2:X,y2:Q,padding:ne,projectedAnchorX:ce,projectedAnchorY:ge,projectedAnchorZ:Te,tileAnchorX:ke,tileAnchorY:Ie},$.iconFeatureIndex=Be}if(O<R){const{x1:Z,y1:V,x2:X,y2:Q,padding:ne,projectedAnchorX:ce,projectedAnchorY:ge,projectedAnchorZ:Te,tileAnchorX:ke,tileAnchorY:Ie,featureIndex:Be}=a.get(O);$.verticalIconBox={x1:Z,y1:V,x2:X,y2:Q,padding:ne,projectedAnchorX:ce,projectedAnchorY:ge,projectedAnchorZ:Te,tileAnchorX:ke,tileAnchorY:Ie},$.verticalIconFeatureIndex=Be}return $}deserializeCollisionBoxes(a){this.collisionArrays=[];for(let u=0;u<this.symbolInstances.length;u++){const p=this.symbolInstances.get(u);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(a,p.textBoxStartIndex,p.textBoxEndIndex,p.verticalTextBoxStartIndex,p.verticalTextBoxEndIndex,p.iconBoxStartIndex,p.iconBoxEndIndex,p.verticalIconBoxStartIndex,p.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}hasIconTextFit(){return this.hasAnyIconTextFit}addIndicesForPlacedSymbol(a,u){const p=a.placedSymbolArray.get(u),g=p.vertexStartIndex+4*p.numGlyphs;for(let b=p.vertexStartIndex;b<g;b+=4)a.indexArray.emplaceBack(b,b+1,b+2),a.indexArray.emplaceBack(b+1,b+2,b+3)}getSortedSymbolIndexes(a){if(this.sortedAngle===a&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const u=Math.sin(a),p=Math.cos(a),g=[],b=[],w=[];for(let E=0;E<this.symbolInstances.length;++E){w.push(E);const O=this.symbolInstances.get(E);g.push(0|Math.round(u*O.tileAnchorX+p*O.tileAnchorY)),b.push(O.featureIndex)}return w.sort((E,O)=>g[E]-g[O]||b[O]-b[E]),w}getSortedIndexesByZOffset(){if(!this.zOffsetSortDirty)return this.symbolInstanceIndexesSortedZOffset;if(!this.symbolInstanceIndexesSortedZOffset){this.symbolInstanceIndexesSortedZOffset=[];for(let a=0;a<this.symbolInstances.length;++a)this.symbolInstanceIndexesSortedZOffset.push(a)}return this.zOffsetSortDirty=!1,this.symbolInstanceIndexesSortedZOffset.sort((a,u)=>this.symbolInstances.get(u).zOffset-this.symbolInstances.get(a).zOffset)}addToSortKeyRanges(a,u){const p=this.sortKeyRanges[this.sortKeyRanges.length-1];p&&p.sortKey===u?p.symbolInstanceEnd=a+1:this.sortKeyRanges.push({sortKey:u,symbolInstanceStart:a,symbolInstanceEnd:a+1})}sortFeatures(a){if(this.sortFeaturesByY&&this.sortedAngle!==a&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(a),this.sortedAngle=a,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const u of this.symbolInstanceIndexes){const p=this.symbolInstances.get(u);this.featureSortOrder.push(p.featureIndex);const{rightJustifiedTextSymbolIndex:g,centerJustifiedTextSymbolIndex:b,leftJustifiedTextSymbolIndex:w,verticalPlacedTextSymbolIndex:E,placedIconSymbolIndex:O,verticalPlacedIconSymbolIndex:R}=p;g>=0&&this.addIndicesForPlacedSymbol(this.text,g),b>=0&&b!==g&&this.addIndicesForPlacedSymbol(this.text,b),w>=0&&w!==b&&w!==g&&this.addIndicesForPlacedSymbol(this.text,w),E>=0&&this.addIndicesForPlacedSymbol(this.text,E),O>=0&&this.addIndicesForPlacedSymbol(this.icon,O),R>=0&&this.addIndicesForPlacedSymbol(this.icon,R)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Dn(lC,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),lC.addDynamicAttributes=sC;const Dye=new uo({"symbol-placement":new bn(bt.layout_symbol["symbol-placement"]),"symbol-spacing":new bn(bt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new bn(bt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ir(bt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new bn(bt.layout_symbol["symbol-z-order"]),"symbol-z-elevate":new bn(bt.layout_symbol["symbol-z-elevate"]),"icon-allow-overlap":new bn(bt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new bn(bt.layout_symbol["icon-ignore-placement"]),"icon-optional":new bn(bt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new bn(bt.layout_symbol["icon-rotation-alignment"]),"icon-size":new ir(bt.layout_symbol["icon-size"]),"icon-text-fit":new ir(bt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ir(bt.layout_symbol["icon-text-fit-padding"]),"icon-image":new ir(bt.layout_symbol["icon-image"]),"icon-rotate":new ir(bt.layout_symbol["icon-rotate"]),"icon-padding":new bn(bt.layout_symbol["icon-padding"]),"icon-keep-upright":new bn(bt.layout_symbol["icon-keep-upright"]),"icon-offset":new ir(bt.layout_symbol["icon-offset"]),"icon-anchor":new ir(bt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new bn(bt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new bn(bt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new bn(bt.layout_symbol["text-rotation-alignment"]),"text-field":new ir(bt.layout_symbol["text-field"]),"text-font":new ir(bt.layout_symbol["text-font"]),"text-size":new ir(bt.layout_symbol["text-size"]),"text-max-width":new ir(bt.layout_symbol["text-max-width"]),"text-line-height":new ir(bt.layout_symbol["text-line-height"]),"text-letter-spacing":new ir(bt.layout_symbol["text-letter-spacing"]),"text-justify":new ir(bt.layout_symbol["text-justify"]),"text-radial-offset":new ir(bt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new bn(bt.layout_symbol["text-variable-anchor"]),"text-anchor":new ir(bt.layout_symbol["text-anchor"]),"text-max-angle":new bn(bt.layout_symbol["text-max-angle"]),"text-writing-mode":new bn(bt.layout_symbol["text-writing-mode"]),"text-rotate":new ir(bt.layout_symbol["text-rotate"]),"text-padding":new bn(bt.layout_symbol["text-padding"]),"text-keep-upright":new bn(bt.layout_symbol["text-keep-upright"]),"text-transform":new ir(bt.layout_symbol["text-transform"]),"text-offset":new ir(bt.layout_symbol["text-offset"]),"text-allow-overlap":new bn(bt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new bn(bt.layout_symbol["text-ignore-placement"]),"text-optional":new bn(bt.layout_symbol["text-optional"]),visibility:new bn(bt.layout_symbol.visibility)});var xO={paint:new uo({"icon-opacity":new ir(bt.paint_symbol["icon-opacity"]),"icon-emissive-strength":new ir(bt.paint_symbol["icon-emissive-strength"]),"text-emissive-strength":new ir(bt.paint_symbol["text-emissive-strength"]),"icon-color":new ir(bt.paint_symbol["icon-color"]),"icon-halo-color":new ir(bt.paint_symbol["icon-halo-color"]),"icon-halo-width":new ir(bt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ir(bt.paint_symbol["icon-halo-blur"]),"icon-translate":new bn(bt.paint_symbol["icon-translate"]),"icon-translate-anchor":new bn(bt.paint_symbol["icon-translate-anchor"]),"icon-image-cross-fade":new ir(bt.paint_symbol["icon-image-cross-fade"]),"text-opacity":new ir(bt.paint_symbol["text-opacity"]),"text-color":new ir(bt.paint_symbol["text-color"],{runtimeType:jo,getOverride:l=>l.textColor,hasOverride:l=>!!l.textColor}),"text-halo-color":new ir(bt.paint_symbol["text-halo-color"]),"text-halo-width":new ir(bt.paint_symbol["text-halo-width"]),"text-halo-blur":new ir(bt.paint_symbol["text-halo-blur"]),"text-translate":new bn(bt.paint_symbol["text-translate"]),"text-translate-anchor":new bn(bt.paint_symbol["text-translate-anchor"]),"icon-color-saturation":new bn(bt.paint_symbol["icon-color-saturation"])}),layout:Dye};class vB{constructor(a){this.type=a.property.overrides?a.property.overrides.runtimeType:cs,this.defaultValue=a}evaluate(a){if(a.formattedSection){const u=this.defaultValue.property.overrides;if(u&&u.hasOverride(a.formattedSection))return u.getOverride(a.formattedSection)}return a.feature&&a.featureState?this.defaultValue.evaluate(a.feature,a.featureState):this.defaultValue.property.specification.default}eachChild(a){this.defaultValue.isConstant()||a(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Dn(vB,"FormatSectionOverride",{omit:["defaultValue"]});class cC extends Ls{constructor(a,u,p){super(a,xO,u,p)}recalculate(a,u){super.recalculate(a,u),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const p=this.layout.get("text-writing-mode");if(p){const g=[];for(const b of p)g.indexOf(b)<0&&g.push(b);this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(a,u,p,g){const b=this.layout.get(a).evaluate(u,{},p,g),w=this._unevaluatedLayout._values[a];return w.isDataDriven()||mm(w.value)||!b?b:function(E,O){return O.replace(/{([^{}]+)}/g,(R,$)=>$ in E?String(E[$]):"")}(u.properties,b)}createBucket(a){return new lC(a)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const a of xO.paint.overridableProperties){if(!cC.hasPaintOverride(this.layout,a))continue;const u=this.paint.get(a),p=new vB(u),g=new Iy(p,u.property.specification,this.scope,this.options);let b=null;b=u.value.kind==="constant"||u.value.kind==="source"?new W_("source",g):new gm("composite",g,u.value.zoomStops,u.value._interpolationType),this.paint._values[a]=new Ip(u.property,b,u.parameters)}}_handleOverridablePaintPropertyUpdate(a,u,p){return!(!this.layout||u.isDataDriven()||p.isDataDriven())&&cC.hasPaintOverride(this.layout,a)}static hasPaintOverride(a,u){const p=a.get("text-field"),g=xO.paint.properties[u];let b=!1;const w=E=>{for(const O of E)if(g.overrides&&g.overrides.hasOverride(O))return void(b=!0)};if(p.value.kind==="constant"&&p.value.value instanceof pi)w(p.value.value.sections);else if(p.value.kind==="source"){const E=R=>{b||(R instanceof su&&So(R.value)===Xo?w(R.value.sections):R instanceof mp?w(R.sections):R.eachChild(E))},O=p.value;O._styleExpression&&E(O._styleExpression.expression)}return b}getProgramIds(){const a=this.paint.get("icon-opacity").constantOr(1)!==0,u=this.paint.get("text-opacity").constantOr(1)!==0,p=[];return a&&p.push("symbolIcon"),u&&p.push("symbolSDF"),p}getDefaultProgramParams(a,u){return{config:new se(this,u),overrideFog:!1}}}const Lye=new uo({visibility:new bn(bt.layout_background.visibility)});var Fye={paint:new uo({"background-color":new bn(bt.paint_background["background-color"]),"background-pattern":new bn(bt.paint_background["background-pattern"]),"background-opacity":new bn(bt.paint_background["background-opacity"]),"background-emissive-strength":new bn(bt.paint_background["background-emissive-strength"])}),layout:Lye};const $ye=new uo({visibility:new bn(bt.layout_raster.visibility)});var jye={paint:new uo({"raster-opacity":new bn(bt.paint_raster["raster-opacity"]),"raster-color":new yh(bt.paint_raster["raster-color"]),"raster-color-mix":new bn(bt.paint_raster["raster-color-mix"]),"raster-color-range":new bn(bt.paint_raster["raster-color-range"]),"raster-hue-rotate":new bn(bt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new bn(bt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new bn(bt.paint_raster["raster-brightness-max"]),"raster-saturation":new bn(bt.paint_raster["raster-saturation"]),"raster-contrast":new bn(bt.paint_raster["raster-contrast"]),"raster-resampling":new bn(bt.paint_raster["raster-resampling"]),"raster-fade-duration":new bn(bt.paint_raster["raster-fade-duration"]),"raster-emissive-strength":new bn(bt.paint_raster["raster-emissive-strength"]),"raster-array-band":new bn(bt.paint_raster["raster-array-band"]),"raster-elevation":new bn(bt.paint_raster["raster-elevation"])}),layout:$ye},wO=bi([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class SO{constructor(a,u,p,g){this.context=a,this.format=p,this.texture=a.gl.createTexture(),this.update(u,g)}update(a,u,p){const{width:g,height:b}=a,{context:w}=this,{gl:E}=w;if(E.bindTexture(E.TEXTURE_2D,this.texture),w.pixelStoreUnpackFlipY.set(!1),w.pixelStoreUnpack.set(1),w.pixelStoreUnpackPremultiplyAlpha.set(this.format===E.RGBA&&(!u||u.premultiply!==!1)),p||this.size&&this.size[0]===g&&this.size[1]===b){const{x:O,y:R}=p||{x:0,y:0};if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||ImageBitmap&&a instanceof ImageBitmap)E.texSubImage2D(E.TEXTURE_2D,0,O,R,E.RGBA,E.UNSIGNED_BYTE,a);else{let $=this.format,Z=E.UNSIGNED_BYTE;this.format===E.R32F&&($=E.RED,Z=E.FLOAT),E.texSubImage2D(E.TEXTURE_2D,0,O,R,g,b,$,Z,a.data)}}else if(this.size=[g,b],a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||ImageBitmap&&a instanceof ImageBitmap){let O=this.format;this.format===E.R8&&(O=E.RED),E.texImage2D(E.TEXTURE_2D,0,this.format,O,E.UNSIGNED_BYTE,a)}else{let O=this.format,R=this.format,$=E.UNSIGNED_BYTE;this.format===E.DEPTH_COMPONENT&&(O=E.DEPTH_COMPONENT16,$=E.UNSIGNED_SHORT),this.format===E.R8&&(R=E.RED),this.format===E.R32F&&($=E.FLOAT,R=E.RED),E.texImage2D(E.TEXTURE_2D,0,O,g,b,0,R,$,a.data)}this.useMipmap=!!(u&&u.useMipmap),this.useMipmap&&E.generateMipmap(E.TEXTURE_2D)}bind(a,u,p=!1){const{context:g}=this,{gl:b}=g;b.bindTexture(b.TEXTURE_2D,this.texture),a!==this.minFilter&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,a),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,this.useMipmap&&!p?a===b.NEAREST?b.NEAREST_MIPMAP_NEAREST:b.LINEAR_MIPMAP_LINEAR:a),this.minFilter=a),u!==this.wrapS&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,u),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,u),this.wrapS=u)}bindExtraParam(a,u,p,g){const{context:b}=this,{gl:w}=b;w.bindTexture(w.TEXTURE_2D,this.texture),u!==this.magFilter&&(w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,u),this.magFilter=u),a!==this.minFilter&&(w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,this.useMipmap?a===w.NEAREST?w.NEAREST_MIPMAP_NEAREST:w.LINEAR_MIPMAP_LINEAR:a),this.minFilter=a),p!==this.wrapS&&(w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,p),this.wrapS=p),g!==this.wrapT&&(w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,g),this.wrapT=g)}destroy(){const{gl:a}=this.context;a.deleteTexture(this.texture),this.texture=null}}class uC{constructor(a,u){this.context=a,this.texture=u}bind(a,u){const{context:p}=this,{gl:g}=p;g.bindTexture(g.TEXTURE_2D,this.texture),a!==this.minFilter&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,a),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,a),this.minFilter=a),u!==this.wrapS&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,u),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,u),this.wrapS=u)}}function dC(l,a,u,p,g,b,w,E){const O=[l,a,1,u,p,1,g,b,1],R=[w,E,1],$=o.co.adjoint([],O),[Z,V,X]=o.N.transformMat3(R,R,$);return o.co.multiply(O,O,[Z,0,0,0,V,0,0,0,X])}function bB(l,a,u,p,g,b,w,E){const O=function(R,$,Z,V,X,Q,ne,ce){const ge=dC(0,0,1,0,1,1,0,1),Te=dC(R,$,Z,V,X,Q,ne,ce),ke=o.co.adjoint([],ge);return o.co.multiply(Te,Te,ke)}(l,a,u,p,g,b,w,E);return[O[2]/O[8]/Tn,O[5]/O[8]/Tn]}function hC(l){return[l[0],Math.min(Math.max(l[1],-85.051129),yi)]}class _B extends xs{constructor(a,u,p,g){super(),this.id=a,this.dispatcher=p,this.coordinates=u.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.onNorthPole=!1,this.onSouthPole=!1,this.setEventedParent(g),this.options=u,this._dirty=!1}load(a,u){if(this._loaded=u||!1,this.fire(new qo("dataloading",{dataType:"source"})),this.url=this.options.url,!this.url)return a&&(this.coordinates=a),this._loaded=!0,void this._finishLoading();this._imageRequest=zt(this.map._requestManager.transformRequest(this.url,hr.Image),(p,g)=>{this._imageRequest=null,this._loaded=!0,p?this.fire(new _l(p)):g&&(this.image=g instanceof HTMLImageElement?st.getImageData(g):g,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,a&&(this.coordinates=a),this._finishLoading())})}loaded(){return this._loaded}updateImage(a){return a.url?(this._imageRequest&&a.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=a.url,this.load(a.coordinates,this._loaded),this):this}setTexture(a){if(!(a.handle instanceof WebGLTexture))throw new Error("The provided handle is not a WebGLTexture instance");return this.texture=new uC(this.map.painter.context,a.handle),this.width=a.dimensions[0],this.height=a.dimensions[1],this._dirty=!1,this._loaded=!0,this._finishLoading(),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new qo("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),!this.texture||this.texture instanceof uC||this.texture.destroy(),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy())}setCoordinates(a){if(this.coordinates=a,this._boundsArray=void 0,this._unsupportedCoords=!1,!a.length)return this;this.onNorthPole=!1,this.onSouthPole=!1;let u=a[0][1],p=a[0][1];for(const b of a)b[1]>p&&(p=b[1]),b[1]<u&&(u=b[1]);const g=(p+u)/2;if(g>yi?this.onNorthPole=!0:g<-85.051129&&(this.onSouthPole=!0),!this.onNorthPole&&!this.onSouthPole){const b=a.map(ii.fromLngLat);this.tileID=function(w){let E=1/0,O=1/0,R=-1/0,$=-1/0;for(const ne of w)E=Math.min(E,ne.x),O=Math.min(O,ne.y),R=Math.max(R,ne.x),$=Math.max($,ne.y);const Z=Math.max(R-E,$-O),V=Math.max(0,Math.floor(-Math.log(Z)/Math.LN2)),X=Math.pow(2,V);let Q=Math.floor((E+R)/2*X);return Q>1&&(Q-=1),new tn(V,Q,Math.floor((O+$)/2*X))}(b),this.minzoom=this.maxzoom=this.tileID.z}return this.fire(new qo("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0,this._unsupportedCoords=!1}_prepareData(a){for(const ge in this.tiles){const Te=this.tiles[ge];Te.state!=="loaded"&&(Te.state="loaded",Te.texture=this.texture)}if(this._boundsArray||this.onNorthPole||this.onSouthPole||this._unsupportedCoords)return;const u=D1(new tn(0,0,0),this.map.transform.projection),p=[u.projection.project(this.coordinates[0][0],this.coordinates[0][1]),u.projection.project(this.coordinates[1][0],this.coordinates[1][1]),u.projection.project(this.coordinates[2][0],this.coordinates[2][1]),u.projection.project(this.coordinates[3][0],this.coordinates[3][1])];if(!function(ge){const Te=ge[1].x-ge[0].x,ke=ge[1].y-ge[0].y,Ie=ge[2].x-ge[1].x,Be=ge[2].y-ge[1].y,Fe=ge[3].x-ge[2].x,Ke=ge[3].y-ge[2].y,tt=ge[0].x-ge[3].x,ht=ge[0].y-ge[3].y,wt=Te*Be-Ie*ke,mt=Ie*Ke-Fe*Be,Ft=Fe*ht-tt*Ke,qt=tt*ke-Te*ht;return wt>0&&mt>0&&Ft>0&&qt>0||wt<0&&mt<0&&Ft<0&&qt<0}(p))return console.warn("Image source coordinates are defining non-convex area in the Mercator projection"),void(this._unsupportedCoords=!0);const g=D1(this.tileID,this.map.transform.projection),[b,w,E,O]=this.coordinates.map(ge=>{const Te=g.projection.project(ge[0],ge[1]);return hB(g,Te)._round()});this.perspectiveTransform=bB(b.x,b.y,w.x,w.y,E.x,E.y,O.x,O.y);const R=this._boundsArray=new pu;R.emplaceBack(b.x,b.y,0,0),R.emplaceBack(w.x,w.y,Tn,0),R.emplaceBack(O.x,O.y,0,Tn),R.emplaceBack(E.x,E.y,Tn,Tn),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy()),this.boundsBuffer=a.createVertexBuffer(R,wO.members),this.boundsSegments=Ao.simpleSegment(0,0,4,2);const $=[],Z=[hC((V=this.coordinates)[0]),hC(V[1]),hC(V[2]),hC(V[3])];var V;const[X,Q,ne,ce]=function(ge){let Te=ge[0][0],ke=Te,Ie=ge[0][1],Be=Ie;for(let Fe=1;Fe<ge.length;Fe++)ge[Fe][0]<Te?Te=ge[Fe][0]:ge[Fe][0]>ke&&(ke=ge[Fe][0]),ge[Fe][1]<Ie?Ie=ge[Fe][1]:ge[Fe][1]>Be&&(Be=ge[Fe][1]);return[Te,Ie,ke-Te,Be-Ie]}(Z);{const ge=new pu,[Te,ke,Ie,Be]=function(Vt){let wn=Vt[0].x,Xt=wn,Hn=Vt[0].y,On=Hn;for(let nn=1;nn<Vt.length;nn++)Vt[nn].x<wn?wn=Vt[nn].x:Vt[nn].x>Xt&&(Xt=Vt[nn].x),Vt[nn].y<Hn?Hn=Vt[nn].y:Vt[nn].y>On&&(On=Vt[nn].y);return[wn,Hn,Xt-wn,On-Hn]}(p),Fe=Vt=>[(Vt.x-Te)/Ie,(Vt.y-ke)/Be],[Ke,tt,ht,wt]=p.map(Fe),mt=function(Vt,wn,Xt,Hn,On,nn,fr,Yn){const Zn=dC(0,0,1,0,1,1,0,1),rn=dC(Vt,wn,Xt,Hn,On,nn,fr,Yn),or=o.co.adjoint([],rn);return o.co.multiply(Zn,Zn,or)}(Ke[0],Ke[1],tt[0],tt[1],ht[0],ht[1],wt[0],wt[1]);this.elevatedGlobePerspectiveTransform=bB(Ke[0],Ke[1],tt[0],tt[1],ht[0],ht[1],wt[0],wt[1]);const Ft=(Vt,wn)=>{$.push(Vt.lng);const Xt=Math.round((Vt.lng-X)/ne*Tn),Hn=Math.round((Vt.lat-Q)/ce*Tn),On=Fe(wn),nn=o.N.transformMat3([],[On[0],On[1],1],mt),fr=Math.round(nn[0]/nn[2]*Tn),Yn=Math.round(nn[1]/nn[2]*Tn);ge.emplaceBack(Xt,Hn,fr,Yn)},qt=p[3].x-p[0].x,Ot=p[3].y-p[0].y,Wt=p[2].x-p[1].x,Mt=p[2].y-p[1].y;for(let Vt=0;Vt<65;Vt++){const wn=Vt/64,Xt=[p[0].x+wn*qt,p[0].y+wn*Ot],Hn=[p[1].x+wn*Wt,p[1].y+wn*Mt],On=Hn[0]-Xt[0],nn=Hn[1]-Xt[1];for(let fr=0;fr<65;fr++){const Yn=fr/64,Zn={x:Xt[0]+On*Yn,y:Xt[1]+nn*Yn};Ft(u.projection.unproject(Zn.x,Zn.y),Zn)}}this.elevatedGlobeVertexBuffer=a.createVertexBuffer(ge,wO.members)}{this.maxLongitudeTriangleSize=0;let ge=[],Te=new fa;const ke=(Ie,Be,Fe)=>{Te.emplaceBack(Ie,Be,Fe);const Ke=$[Ie],tt=$[Be],ht=$[Fe],wt=Math.min(Math.min(Ke,tt),ht),mt=Math.max(Math.max(Ke,tt),ht)-wt;mt>this.maxLongitudeTriangleSize&&(this.maxLongitudeTriangleSize=mt),ge.push(wt+mt/2)};for(let Ie=0;Ie<64;Ie++)for(let Be=0;Be<64;Be++){const Fe=65*Ie+Be,Ke=Fe+1,tt=Fe+65,ht=tt+1;ke(Fe,tt,Ke),ke(Ke,tt,ht)}[ge,Te]=function(Ie,Be){const Fe=Array.from({length:Ie.length},(ht,wt)=>wt);Fe.sort((ht,wt)=>Ie[ht]-Ie[wt]);const Ke=[],tt=new fa;for(let ht=0;ht<Fe.length;ht++){const wt=Fe[ht];Ke.push(Ie[wt]);const mt=3*wt,Ft=mt+1;tt.emplaceBack(Be.uint16[mt],Be.uint16[Ft],Be.uint16[Ft+1])}return[Ke,tt]}(ge,Te),this.elevatedGlobeTrianglesCenterLongitudes=ge,this.elevatedGlobeIndexBuffer=a.createIndexBuffer(Te)}this.elevatedGlobeSegments=Ao.simpleSegment(0,0,4225,8192),this.elevatedGlobeGridMatrix=new Float32Array([0,ne/Tn,0,ce/Tn,0,0,Q,X,0])}prepare(){const a=Object.keys(this.tiles).length!==0;if(this.tileID&&!a)return;const u=this.map.painter.context,p=u.gl;!this._dirty||this.texture instanceof uC||(this.texture?this.texture.update(this.image):(this.texture=new SO(u,this.image,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE)),this._dirty=!1),a&&this._prepareData(u)}loadTile(a,u){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={},u(null)):(a.state="errored",u(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}getSegmentsForLongitude(a){const u=this.elevatedGlobeSegments;if(!this.elevatedGlobeTrianglesCenterLongitudes||!u)return null;const p=this.elevatedGlobeTrianglesCenterLongitudes;let g=(($,Z)=>$+360*Math.round((Z-$)/360))(a+180,p[0]);const b=new Ao,w=($,Z)=>{b.segments.push({vertexOffset:0,primitiveOffset:$,vertexLength:u.segments[0].vertexLength,primitiveLength:Z,sortKey:void 0,vaos:{}})},E=.51*this.maxLongitudeTriangleSize;if(Math.abs(p[0]-g)<=E){const $=Xe(p,0,p.length,g+E);return $===p.length||w($,Ne(p,$+1,p.length,g+360-E)-$),b}g<p[0]&&(g+=360);const O=Ne(p,0,p.length,g-E);if(O===p.length)return w(0,p.length),b;w(0,O-0);const R=Xe(p,O+1,p.length,g+E);return R!==p.length&&w(R,p.length-R),b}}const zye=(Math.pow(256,2)-1)/16907520;class xB extends Ls{constructor(a,u,p){super(a,jye,u,p),this.updateColorRamp(),this._curRampRange=[NaN,NaN]}getProgramIds(){return["raster"]}hasColorMap(){return!!this._transitionablePaint._values["raster-color"].value.value}tileCoverLift(){return this.paint.get("raster-elevation")}isLayerDraped(a){return!(a&&a._source instanceof _B&&(a._source.onNorthPole||a._source.onSouthPole))&&this.paint.get("raster-elevation")===0}_handleSpecialPaintPropertyUpdate(a){a!=="raster-color"&&a!=="raster-color-range"||(this._curRampRange=[NaN,NaN],this.updateColorRamp())}updateColorRamp(a){if(!this.hasColorMap()||!this._curRampRange)return;const u=this._transitionablePaint._values["raster-color"].value.expression,[p,g]=a||this._transitionablePaint._values["raster-color-range"].value.expression.evaluate({zoom:0})||[NaN,NaN];isNaN(p)&&isNaN(g)||p===this._curRampRange[0]&&g===this._curRampRange[1]||(this.colorRamp=C1({expression:u,evaluationKey:"rasterValue",image:this.colorRamp,clips:[{start:p,end:g}],resolution:256}),this.colorRampTexture=null,this._curRampRange=[p,g])}}const Bye=new uo({visibility:new bn(bt["layout_raster-particle"].visibility)});var Zye={paint:new uo({"raster-particle-array-band":new bn(bt["paint_raster-particle"]["raster-particle-array-band"]),"raster-particle-count":new bn(bt["paint_raster-particle"]["raster-particle-count"]),"raster-particle-color":new yh(bt["paint_raster-particle"]["raster-particle-color"]),"raster-particle-max-speed":new bn(bt["paint_raster-particle"]["raster-particle-max-speed"]),"raster-particle-speed-factor":new bn(bt["paint_raster-particle"]["raster-particle-speed-factor"]),"raster-particle-fade-opacity-factor":new bn(bt["paint_raster-particle"]["raster-particle-fade-opacity-factor"]),"raster-particle-reset-rate-factor":new bn(bt["paint_raster-particle"]["raster-particle-reset-rate-factor"])}),layout:Bye};class wB extends Ls{constructor(a,u,p){super(a,Zye,u,p),this._updateColorRamp(),this.onRemove=g=>{this.colorRampTexture&&this.colorRampTexture.destroy(),this.transformFeedbackObject&&g.painter.context.gl.deleteTransformFeedback(this.transformFeedbackObject),this.tileFramebuffer&&this.tileFramebuffer.destroy()},this.lastInvalidatedAt=st.now()}hasColorMap(){return!!this._transitionablePaint._values["raster-particle-color"].value.value}getProgramIds(){return["rasterParticle"]}hasOffscreenPass(){return this.visibility!=="none"}isLayerDraped(a){return!1}_handleSpecialPaintPropertyUpdate(a){a!=="raster-particle-color"&&a!=="raster-particle-max-speed"||(this._updateColorRamp(),this._invalidateAnimationState()),a==="raster-particle-count"&&this._invalidateAnimationState()}_updateColorRamp(){if(!this.hasColorMap())return;const a=this._transitionablePaint._values["raster-particle-color"].value.expression,u=this._transitionablePaint._values["raster-particle-max-speed"].value.expression.evaluate({zoom:0});this.colorRamp=C1({expression:a,evaluationKey:"rasterParticleSpeed",image:this.colorRamp,clips:[{start:0,end:u}],resolution:256}),this.colorRampTexture=null}_invalidateAnimationState(){this.lastInvalidatedAt=st.now()}}class Uye extends Ls{constructor(a,u){super(a,{},u),this.implementation=a,a.slot&&(this.slot=a.slot)}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isLayerDraped(a){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(a){this.implementation.onAdd&&this.implementation.onAdd(a,a.painter.context.gl)}onRemove(a){this.implementation.onRemove&&this.implementation.onRemove(a,a.painter.context.gl)}}const Hye=new uo({visibility:new bn(bt.layout_sky.visibility)});var Vye={paint:new uo({"sky-type":new bn(bt.paint_sky["sky-type"]),"sky-atmosphere-sun":new bn(bt.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new bn(bt.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new bn(bt.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new bn(bt.paint_sky["sky-gradient-radius"]),"sky-gradient":new yh(bt.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new bn(bt.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new bn(bt.paint_sky["sky-atmosphere-color"]),"sky-opacity":new bn(bt.paint_sky["sky-opacity"])}),layout:Hye};function AO(l,a,u){const p=[0,0,1],g=o.bi.identity([]);return o.bi.rotateY(g,g,u?-oe(l)+Math.PI:oe(l)),o.bi.rotateX(g,g,-oe(a)),o.N.transformQuat(p,p,g),o.N.normalize(p,p)}var Wye={paint:new uo({})};function SB(l,a){const u=pC(l.projection,l.zoom,l.width,l.height),p=function(b,w,E,O,R){const $=new ct(E.lng-180*Zp,E.lat),Z=new ct(E.lng+180*Zp,E.lat),V=b.project($.lng,$.lat),X=b.project(Z.lng,Z.lat),Q=-Math.atan2(X.y-V.y,X.x-V.x),ne=ii.fromLngLat(E);ne.y=ue(ne.y,-1+Zp,1-Zp);const ce=ne.toLngLat(),ge=b.project(ce.lng,ce.lat),Te=ii.fromLngLat(ce);Te.x+=Zp;const ke=Te.toLngLat(),Ie=b.project(ke.lng,ke.lat),Be=MB(Ie.x-ge.x,Ie.y-ge.y,Q),Fe=ii.fromLngLat(ce);Fe.y+=Zp;const Ke=Fe.toLngLat(),tt=b.project(Ke.lng,Ke.lat),ht=MB(tt.x-ge.x,tt.y-ge.y,Q),wt=Math.abs(Be.x)/Math.abs(ht.y),mt=o.a6.identity([]);o.a6.rotateZ(mt,mt,-Q*(1-(R?0:O)));const Ft=o.a6.identity([]);return o.a6.scale(Ft,Ft,[1,1-(1-wt)*O,1]),Ft[4]=-ht.x/ht.y*O,o.a6.rotateZ(Ft,Ft,Q),o.a6.multiply(Ft,mt,Ft),Ft}(l.projection,0,l.center,u,a),g=AB(l);return o.a6.scale(p,p,[g,g,1]),p}function AB(l){const a=l.projection,u=pC(l.projection,l.zoom,l.width,l.height),p=CB(a,l.center),g=CB(a,ct.convert(a.center));return Math.pow(2,p*u+(1-u)*g)}function pC(l,a,u,p,g=1/0){const b=l.range;if(!b)return 0;const w=Math.min(g,Math.max(u,p)),E=Math.log(w/1024)/Math.LN2;return xe(b[0]+E,b[1]+E,a)}const Zp=1/4e4;function CB(l,a){const u=ue(a.lat,-85.051129,yi),p=new ct(a.lng-180*Zp,u),g=new ct(a.lng+180*Zp,u),b=l.project(p.lng,u),w=l.project(g.lng,u),E=ii.fromLngLat(p),O=ii.fromLngLat(g),R=w.x-b.x,$=w.y-b.y,Z=O.x-E.x,V=O.y-E.y,X=Math.sqrt((Z*Z+V*V)/(R*R+$*$));return Math.log(X)/Math.LN2}function MB(l,a,u){const p=Math.cos(u),g=Math.sin(u);return{x:l*p-a*g,y:l*g+a*p}}function EB(l,a,u){o.a6.identity(l),o.a6.rotateZ(l,l,oe(a[2])),o.a6.rotateX(l,l,oe(a[0])),o.a6.rotateY(l,l,oe(a[1])),o.a6.scale(l,l,u),o.a6.multiply(l,l,[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1])}function fC(l,a,u,p,g,b,w,E){const O=[u[0]-a[0],u[1]-a[1],0],R=[p[0]-a[0],p[1]-a[1],0];if(o.N.length(O)<1e-12||o.N.length(R)<1e-12)return o.bi.identity(l);const $=o.N.cross([],O,R);o.N.normalize($,$),o.N.subtract(R,p,a),O[2]=(b-g)*E,R[2]=(w-g)*E;const Z=O;return o.N.cross(Z,O,R),o.N.normalize(Z,Z),o.bi.rotationTo(l,$,Z)}function CO(l,a,u=!1){const p=Lp(a.zoom),g=function(b,w,E){const O=w.worldSize,R=[b[12],b[13],b[14]],$=Jr(R[1]/O),Z=Cr(R[0]/O),V=o.a6.identity([]),X=Tr(1,$)*O,Q=Tr(1,0)*O*Zr($,w.zoom),ne=1/qI(O);let ce=Q*ne;if(E){const Ie=pC(w.projection,w.zoom,w.width,w.height,1024);ce=ne*w.projection.pixelSpaceConversion(w.center.lat,O,Ie)}const ge=Nt($,Z);o.N.add(ge,ge,o.N.scale([],o.N.normalize([],ge),X*ce*R[2]));const Te=function(Ie){const Be=[Ie[0],Ie[1],Ie[2]];let Fe=[0,1,0];const Ke=o.N.cross([],Fe,Be);return o.N.cross(Fe,Be,Ke),o.N.squaredLength(Fe)===0&&(Fe=[0,1,0],o.N.cross(Ke,Be,Fe)),o.N.normalize(Ke,Ke),o.N.normalize(Fe,Fe),o.N.normalize(Be,Be),[Ke[0],Ke[1],Ke[2],0,Fe[0],Fe[1],Fe[2],0,Be[0],Be[1],Be[2],0,Ie[0],Ie[1],Ie[2],1]}(ge);o.a6.scale(V,V,[ce,ce,ce*X]),o.a6.translate(V,V,[-R[0],-R[1],-R[2]]);const ke=o.a6.multiply([],w.globeMatrix,Te);return o.a6.multiply(ke,ke,V),o.a6.multiply(ke,ke,b),ke}(l,a,u);if(p>0){const b=function(w,E){const O=E.worldSize,R=Tr(1,0)*O*Zr(E.center.lat,E.zoom)/qI(O),$=Tr(1,E.center.lat)*O,Z=o.a6.identity([]);return o.a6.rotateY(Z,Z,oe(E.center.lng)),o.a6.rotateX(Z,Z,oe(E.center.lat)),o.a6.translate(Z,Z,[0,0,Pe]),o.a6.scale(Z,Z,[R,R,R*$]),o.a6.translate(Z,Z,[E.point.x-.5*O,E.point.y-.5*O,0]),o.a6.multiply(Z,Z,w),o.a6.multiply(Z,E.globeMatrix,Z)}(l,a);return function(w,E,O){const R=(Q,ne,ce)=>{const ge=o.N.length(Q),Te=o.N.length(ne),ke=Ah(Q,ne,ce);return o.N.scale(ke,ke,1/o.N.length(ke)*ur(ge,Te,ce))},$=R([w[0],w[1],w[2]],[E[0],E[1],E[2]],O),Z=R([w[4],w[5],w[6]],[E[4],E[5],E[6]],O),V=R([w[8],w[9],w[10]],[E[8],E[9],E[10]],O),X=Ah([w[12],w[13],w[14]],[E[12],E[13],E[14]],O);return[$[0],$[1],$[2],0,Z[0],Z[1],Z[2],0,V[0],V[1],V[2],0,X[0],X[1],X[2],1]}(g,b,p)}return g}function TB(l,a,u,p){const g=vo.projectAabbCorners(p,u);let b=Number.MAX_VALUE,w=-1;for(let R=0;R<g.length;++R){const $=g[R];$[0]=(.5*$[0]+.5)*a.width,$[1]=(.5-.5*$[1])*a.height,$[2]<b&&(w=R,b=$[2])}const E=R=>new K(g[R][0],g[R][1]);let O;switch(w){case 0:case 6:O=[E(1),E(5),E(4),E(7),E(3),E(2),E(1)];break;case 1:case 7:O=[E(0),E(4),E(5),E(6),E(2),E(3),E(0)];break;case 3:case 5:O=[E(1),E(0),E(4),E(7),E(6),E(2),E(1)];break;default:O=[E(1),E(5),E(6),E(7),E(3),E(0),E(1)]}if(Fc(l,O))return b}const Gye=bi([{name:"a_pos_3f",components:3,type:"Float32"}]),Kye=bi([{name:"a_color_3f",components:3,type:"Float32"}]),qye=bi([{name:"a_color_4f",components:4,type:"Float32"}]),Xye=bi([{name:"a_uv_2f",components:2,type:"Float32"}]),Yye=bi([{name:"a_normal_3f",components:3,type:"Float32"}]),Jye=bi([{name:"a_normal_matrix0",components:4,type:"Float32"},{name:"a_normal_matrix1",components:4,type:"Float32"},{name:"a_normal_matrix2",components:4,type:"Float32"},{name:"a_normal_matrix3",components:4,type:"Float32"}]),Qye=bi([{name:"a_pbr",components:4,type:"Uint16"},{name:"a_heightBasedEmissiveStrength",components:3,type:"Float32"}]);class PB{constructor(a,u){this.feature=a,this.instancedDataOffset=u,this.instancedDataCount=0,this.rotation=[0,0,0],this.scale=[1,1,1],this.translation=[0,0,0]}}class IB{constructor(){this.instancedDataArray=new g1,this.instancesEvaluatedElevation=[],this.features=[],this.idToFeaturesIndex={}}}class MO{constructor(a){this.zoom=a.zoom,this.canonical=a.canonical,this.layers=a.layers,this.layerIds=this.layers.map(u=>u.fqid),this.projection=a.projection,this.index=a.index,this.hasZoomDependentProperties=this.layers[0].isZoomDependent(),this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id),this.hasPattern=!1,this.instancesPerModel={},this.validForExaggeration=0,this.maxVerticalOffset=0,this.maxScale=0,this.maxHeight=0,this.lookupDim=this.zoom>this.canonical.z?256:this.zoom>15?75:100,this.instanceCount=0,this.terrainElevationMin=0,this.terrainElevationMax=0,this.validForDEMTile={id:null,timestamp:0}}populate(a,u,p,g){this.tileToMeter=Ur(p);const b=this.layers[0]._featureFilter.needGeometry;this.lookup=new Uint8Array(this.lookupDim*this.lookupDim);for(const{feature:w,id:E,index:O,sourceLayerIndex:R}of a){const $=Jo(w,b);if(!this.layers[0]._featureFilter.filter(new co(this.zoom),$,p))continue;const Z={id:E,sourceLayerIndex:R,index:O,geometry:b?$.geometry:ga(w,p,g),properties:w.properties,type:w.type,patterns:{}},V=this.addFeature(Z,Z.geometry,$);V&&u.featureIndex.insert(w,Z.geometry,O,R,this.index,this.instancesPerModel[V].instancedDataArray.length,Tn/32)}this.lookup=null}update(a,u,p,g){for(const b in this.instancesPerModel){const w=this.instancesPerModel[b];for(const E in a)w.idToFeaturesIndex.hasOwnProperty(E)&&this.evaluate(w.features[w.idToFeaturesIndex[E]],a[E],w,!0)}this.maxHeight=0}updateZoomBasedPaintProperties(){if(!this.hasZoomDependentProperties)return!1;let a=!1;for(const u in this.instancesPerModel){const p=this.instancesPerModel[u];for(const g of p.features){const b=this.layers[0],w=g.feature,E=this.canonical,O=b.paint.get("model-rotation").evaluate(w,{},E),R=b.paint.get("model-scale").evaluate(w,{},E),$=b.paint.get("model-translation").evaluate(w,{},E);o.N.exactEquals(g.rotation,O)&&o.N.exactEquals(g.scale,R)&&o.N.exactEquals(g.translation,$)||(this.evaluate(g,g.featureStates,p,!0),a=!0)}}return a}isEmpty(){for(const a in this.instancesPerModel)if(this.instancesPerModel[a].instancedDataArray.length!==0)return!1;return!0}uploadPending(){return!this.uploaded}upload(a){if(!this.uploaded)for(const u in this.instancesPerModel){const p=this.instancesPerModel[u];p.instancedDataArray.length<0||p.instancedDataArray.length===0||(p.instancedDataBuffer?p.instancedDataBuffer.updateData(p.instancedDataArray):p.instancedDataBuffer=a.createVertexBuffer(p.instancedDataArray,Jye.members,!0,void 0,this.instanceCount))}this.uploaded=!0}destroy(){for(const a in this.instancesPerModel){const u=this.instancesPerModel[a];u.instancedDataArray.length!==0&&u.instancedDataBuffer&&u.instancedDataBuffer.destroy()}}addFeature(a,u,p){const g=this.layers[0],b=g.layout.get("model-id").evaluate(p,{},this.canonical);if(!b)return it(`modelId is not evaluated for layer ${g.id} and it is not going to get rendered.`),b;this.instancesPerModel[b]||(this.instancesPerModel[b]=new IB);const w=this.instancesPerModel[b],E=w.instancedDataArray,O=new PB(p,E.length);for(const R of u)for(const $ of R){if($.x<0||$.x>=Tn||$.y<0||$.y>=Tn)continue;const Z=(this.lookupDim-1)/Tn,V=this.lookupDim*($.y*Z|0)+$.x*Z|0;if(this.lookup){if(this.lookup[V]!==0)continue;this.lookup[V]=1}this.instanceCount++;const X=E.length;E.resize(X+1),w.instancesEvaluatedElevation.push(0),E.float32[16*X]=$.x,E.float32[16*X+1]=$.y}return O.instancedDataCount=w.instancedDataArray.length-O.instancedDataOffset,O.instancedDataCount>0&&(a.id&&(w.idToFeaturesIndex[a.id]=w.features.length),w.features.push(O),this.evaluate(O,{},w,!1)),b}evaluate(a,u,p,g){const b=this.layers[0],w=a.feature,E=this.canonical,O=a.rotation=b.paint.get("model-rotation").evaluate(w,u,E),R=a.scale=b.paint.get("model-scale").evaluate(w,u,E),$=a.translation=b.paint.get("model-translation").evaluate(w,u,E),Z=b.paint.get("model-color").evaluate(w,u,E);Z.a=b.paint.get("model-color-mix-intensity").evaluate(w,u,E);const V=[];this.maxVerticalOffset<$[2]&&(this.maxVerticalOffset=$[2]),this.maxScale=Math.max(Math.max(this.maxScale,R[0]),Math.max(R[1],R[2])),EB(V,O,R);const X=Math.round(100*Z.a)+Z.b/1.05;for(let Q=0;Q<a.instancedDataCount;++Q){const ne=a.instancedDataOffset+Q,ce=16*ne,ge=p.instancedDataArray.float32;let Te=0;g&&(Te=ge[ce+6]-p.instancesEvaluatedElevation[ne]);const ke=0|ge[ce+1];ge[ce]=(0|ge[ce])+Z.r/1.05,ge[ce+1]=ke+Z.g/1.05,ge[ce+2]=X,ge[ce+3]=1/(E.z>10?this.tileToMeter:Ur(E,ke)),ge[ce+4]=$[0],ge[ce+5]=$[1],ge[ce+6]=$[2]+Te,ge[ce+7]=V[0],ge[ce+8]=V[1],ge[ce+9]=V[2],ge[ce+10]=V[4],ge[ce+11]=V[5],ge[ce+12]=V[6],ge[ce+13]=V[8],ge[ce+14]=V[9],ge[ce+15]=V[10],p.instancesEvaluatedElevation[ne]=$[2]}}}Dn(MO,"ModelBucket",{omit:["layers"]}),Dn(IB,"PerModelAttributes"),Dn(PB,"ModelFeature");const eve=new uo({visibility:new bn(bt.layout_model.visibility),"model-id":new ir(bt.layout_model["model-id"])});var tve={paint:new uo({"model-opacity":new bn(bt.paint_model["model-opacity"]),"model-rotation":new ir(bt.paint_model["model-rotation"]),"model-scale":new ir(bt.paint_model["model-scale"]),"model-translation":new ir(bt.paint_model["model-translation"]),"model-color":new ir(bt.paint_model["model-color"]),"model-color-mix-intensity":new ir(bt.paint_model["model-color-mix-intensity"]),"model-type":new bn(bt.paint_model["model-type"]),"model-cast-shadows":new bn(bt.paint_model["model-cast-shadows"]),"model-receive-shadows":new bn(bt.paint_model["model-receive-shadows"]),"model-ambient-occlusion-intensity":new bn(bt.paint_model["model-ambient-occlusion-intensity"]),"model-emissive-strength":new ir(bt.paint_model["model-emissive-strength"]),"model-roughness":new ir(bt.paint_model["model-roughness"]),"model-height-based-emissive-strength-multiplier":new ir(bt.paint_model["model-height-based-emissive-strength-multiplier"]),"model-cutoff-fade-range":new bn(bt.paint_model["model-cutoff-fade-range"])}),layout:eve};const Vm=64,iv={CoordinateSpaceTile:1,CoordinateSpaceYUp:2,HasMapboxMeshFeatures:4,HasMeshoptCompression:8};function OB(l,a,u,p,g,b,w,E,O,R=!1){const $=u.zoom,Z=u.project(p),V=Zr(p.lat,$),X=1/V;o.a6.identity(l),o.a6.translate(l,l,[Z.x+w[0]*X,Z.y+w[1]*X,w[2]]);let Q=1,ne=1;const ce=u.worldSize;if(R){if(u.projection.name==="mercator"){let Ie=0;u.elevation&&(Ie=u.elevation.getAtPointOrZero(new ii(Z.x/ce,Z.y/ce),0));const Be=o.a7.transformMat4([],[Z.x,Z.y,Ie,1],u.projMatrix)[3]/u.cameraToCenterDistance;Q=Be,ne=Be*Zr(u.center.lat,$)}else if(u.projection.name==="globe"){const Ie=CO(l,u),Be=o.a6.multiply([],u.projMatrix,Ie),Fe=[0,0,0,1];o.a7.transformMat4(Fe,Fe,Be);const Ke=Fe[3]/u.cameraToCenterDistance,tt=Lp($),ht=u.projection.pixelsPerMeter(p.lat,ce)*Zr(p.lat,$),wt=u.projection.pixelsPerMeter(u.center.lat,ce)*Zr(u.center.lat,$);Q=Ke/ur(ht,ho(u.center.lat),tt),ne=Ke*V/ht,Q*=wt,ne*=wt}}else Q=X;o.a6.scale(l,l,[Q,Q,ne]);const ge=[...l],Te=a.orientation,ke=[];if(EB(ke,[Te[0]+g[0],Te[1]+g[1],Te[2]+g[2]],b),o.a6.multiply(l,ge,ke),E&&u.elevation){let Ie=0;const Be=[];if(O&&u.elevation){Ie=function(tt,ht,wt,mt,Ft){const qt=ht.elevation;if(!qt)return 0;const Ot=vo.projectAabbCorners(wt,mt),Wt=Tr(1,Ft.lat)*ht.worldSize,Mt=function(or,Lr){const mr=[0,0,1],Fr=[{corners:[0,1,3,2],dotProductWithUp:0},{corners:[1,5,2,6],dotProductWithUp:0},{corners:[0,4,1,5],dotProductWithUp:0},{corners:[2,6,3,7],dotProductWithUp:0},{corners:[4,7,5,6],dotProductWithUp:0},{corners:[0,3,4,7],dotProductWithUp:0}];for(const wr of Fr){const qr=or[wr.corners[0]],Pr=or[wr.corners[1]],Ni=or[wr.corners[2]],ai=[Pr[0]-qr[0],Pr[1]-qr[1],Lr*(Pr[2]-qr[2])],ui=o.N.cross(ai,ai,[Ni[0]-qr[0],Ni[1]-qr[1],Lr*(Ni[2]-qr[2])]);o.N.normalize(ui,ui),wr.dotProductWithUp=o.N.dot(ui,mr)}return Fr.sort((wr,qr)=>wr.dotProductWithUp-qr.dotProductWithUp),Fr[0].corners}(Ot,Wt),Vt=Ot[Mt[0]],wn=Ot[Mt[1]],Xt=Ot[Mt[2]],Hn=Ot[Mt[3]],On=qt.getAtPointOrZero(new ii(Vt[0]/ht.worldSize,Vt[1]/ht.worldSize),0),nn=qt.getAtPointOrZero(new ii(wn[0]/ht.worldSize,wn[1]/ht.worldSize),0),fr=qt.getAtPointOrZero(new ii(Xt[0]/ht.worldSize,Xt[1]/ht.worldSize),0),Yn=qt.getAtPointOrZero(new ii(Hn[0]/ht.worldSize,Hn[1]/ht.worldSize),0),Zn=(On+Yn)/2,rn=(nn+fr)/2;return Zn>rn?nn<fr?fC(tt,wn,Hn,Vt,nn,Yn,On,Wt):fC(tt,Xt,Vt,Hn,fr,On,Yn,Wt):On<Yn?fC(tt,Vt,wn,Xt,On,nn,fr,Wt):fC(tt,Hn,Xt,wn,Yn,fr,nn,Wt),Math.max(Zn,rn)}(Be,u,a.aabb,l,p);const Fe=o.a6.fromQuat([],Be),Ke=o.a6.multiply([],Fe,ke);o.a6.multiply(l,ge,Ke)}else Ie=u.elevation.getAtPointOrZero(new ii(Z.x/ce,Z.y/ce),0);Ie!==0&&(l[14]+=Ie)}}function z1(l,a,u=!1){l.uploaded||(l.gfxTexture=new SO(a,l.image,u?a.gl.R8:a.gl.RGBA,{useMipmap:l.sampler.minFilter>=a.gl.NEAREST_MIPMAP_NEAREST}),l.uploaded=!0,l.image=null)}function nve(l,a,u){l.indexBuffer=a.createIndexBuffer(l.indexArray,!1,!0),l.vertexBuffer=a.createVertexBuffer(l.vertexArray,Gye.members,!1,!0),l.normalArray&&(l.normalBuffer=a.createVertexBuffer(l.normalArray,Yye.members,!1,!0)),l.texcoordArray&&(l.texcoordBuffer=a.createVertexBuffer(l.texcoordArray,Xye.members,!1,!0)),l.colorArray&&(l.colorBuffer=a.createVertexBuffer(l.colorArray,(l.colorArray.bytesPerElement===12?Kye:qye).members,!1,!0)),l.featureArray&&(l.pbrBuffer=a.createVertexBuffer(l.featureArray,Qye.members,!0)),l.segments=Ao.simpleSegment(0,0,l.vertexArray.length,l.indexArray.length);const p=l.material;p.pbrMetallicRoughness.baseColorTexture&&z1(p.pbrMetallicRoughness.baseColorTexture,a),p.pbrMetallicRoughness.metallicRoughnessTexture&&z1(p.pbrMetallicRoughness.metallicRoughnessTexture,a),p.normalTexture&&z1(p.normalTexture,a),p.occlusionTexture&&z1(p.occlusionTexture,a,u),p.emissionTexture&&z1(p.emissionTexture,a)}function EO(l,a,u){if(l.meshes)for(const p of l.meshes)nve(p,a,u);if(l.children)for(const p of l.children)EO(p,a,u)}function mC(l){if(l.meshes)for(const a of l.meshes)a.indexArray.destroy(),a.vertexArray.destroy(),a.colorArray&&a.colorArray.destroy(),a.normalArray&&a.normalArray.destroy(),a.texcoordArray&&a.texcoordArray.destroy(),a.featureArray&&a.featureArray.destroy();if(l.children)for(const a of l.children)mC(a)}function TO(l){if(l.meshes)for(const u of l.meshes)u.vertexBuffer&&(u.vertexBuffer.destroy(),u.indexBuffer.destroy(),u.normalBuffer&&u.normalBuffer.destroy(),u.texcoordBuffer&&u.texcoordBuffer.destroy(),u.colorBuffer&&u.colorBuffer.destroy(),u.pbrBuffer&&u.pbrBuffer.destroy(),u.segments.destroy(),u.material&&((a=u.material).pbrMetallicRoughness.baseColorTexture&&a.pbrMetallicRoughness.baseColorTexture.gfxTexture&&a.pbrMetallicRoughness.baseColorTexture.gfxTexture.destroy(),a.pbrMetallicRoughness.metallicRoughnessTexture&&a.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture&&a.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture.destroy(),a.normalTexture&&a.normalTexture.gfxTexture&&a.normalTexture.gfxTexture.destroy(),a.emissionTexture&&a.emissionTexture.gfxTexture&&a.emissionTexture.gfxTexture.destroy(),a.occlusionTexture&&a.occlusionTexture.gfxTexture&&a.occlusionTexture.gfxTexture.destroy()));var a;if(l.children)for(const u of l.children)TO(u)}class rve{constructor(a){this._callback=a,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class ive{constructor(){this.tasks={},this.taskQueue=[],lt(["process"],this),this.invoker=new rve(this.process),this.nextId=0}add(a,u){const p=this.nextId++,g=function({type:b,isSymbolTile:w,zoom:E}){return E=E||0,b==="message"?0:b!=="maybePrepare"||w?b!=="parseTile"||w?b==="parseTile"&&w?300-E:b==="maybePrepare"&&w?400-E:500:200-E:100-E}(u);if(g===0){on();try{a()}finally{}return null}return this.tasks[p]={fn:a,metadata:u,priority:g,id:p},this.taskQueue.push(p),this.invoker.trigger(),{cancel:()=>{delete this.tasks[p]}}}process(){on();try{if(this.taskQueue=this.taskQueue.filter(p=>!!this.tasks[p]),!this.taskQueue.length)return;const a=this.pick();if(a===null)return;const u=this.tasks[a];if(delete this.tasks[a],this.taskQueue.length&&this.invoker.trigger(),!u)return;u.fn()}finally{}}pick(){let a=null,u=1/0;for(let g=0;g<this.taskQueue.length;g++){const b=this.tasks[this.taskQueue[g]];b.priority<u&&(u=b.priority,a=g)}if(a===null)return null;const p=this.taskQueue[a];return this.taskQueue.splice(a,1),p}remove(){this.invoker.remove()}}class kB{constructor(a,u,p){this.target=a,this.parent=u,this.mapId=p,this.callbacks={},this.cancelCallbacks={},lt(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.scheduler=new ive}send(a,u,p,g,b=!1,w){const E=Math.round(1e18*Math.random()).toString(36).substring(0,10);p&&(p.metadata=w,this.callbacks[E]=p);const O=new Set;return this.target.postMessage({id:E,type:a,hasCallback:!!p,targetMapId:g,mustQueue:b,sourceMapId:this.mapId,data:md(u,O)},O),{cancel:()=>{p&&delete this.callbacks[E],this.target.postMessage({id:E,type:"<cancel>",targetMapId:g,sourceMapId:this.mapId})}}}receive(a){const u=a.data,p=u.id;if(p&&(!u.targetMapId||this.mapId===u.targetMapId))if(u.type==="<cancel>"){const g=this.cancelCallbacks[p];delete this.cancelCallbacks[p],g&&g.cancel()}else if(u.mustQueue||on()){const g=this.callbacks[p],b=this.scheduler.add(()=>this.processTask(p,u),g&&g.metadata||{type:"message"});b&&(this.cancelCallbacks[p]=b)}else this.processTask(p,u)}processTask(a,u){if(delete this.cancelCallbacks[a],u.type==="<response>"){const p=this.callbacks[a];delete this.callbacks[a],p&&(u.error?p(mh(u.error)):p(null,mh(u.data)))}else{const p=new Set,g=u.hasCallback?(w,E)=>{this.target.postMessage({id:a,type:"<response>",sourceMapId:this.mapId,error:w?md(w):null,data:md(E,p)},p)}:w=>{},b=mh(u.data);if(this.parent[u.type])this.parent[u.type](u.sourceMapId,b,g);else if(this.parent.getWorkerSource){const w=u.type.split(".");this.parent.getWorkerSource(u.sourceMapId,w[0],b.source,b.scope)[w[1]](b,g)}else g(new Error(`Could not find function ${u.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}class ov{constructor(a,u){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=ze();const p=this.workerPool.acquire(this.id);for(let g=0;g<p.length;g++){const b=new ov.Actor(p[g],u,this.id);b.name=`Worker ${g}`,this.actors.push(b)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(a,u,p){Ee(this.actors,(g,b)=>{g.send(a,u,b)},p=p||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(a=>{a.remove()}),this.actors=[],this.workerPool.release(this.id)}}ov.Actor=kB;var B1={workerUrl:"",workerClass:null,workerParams:void 0};function ove(){return B1.workerClass!=null?new B1.workerClass:new self.Worker(B1.workerUrl,B1.workerParams)}const PO="mapboxgl_preloaded_worker_pool";class Z1{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<Z1.workerCount;)this.workers.push(new ove);return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.workers&&this.numActive()===0&&(this.workers.forEach(u=>{u.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[PO]}numActive(){return Object.keys(this.active).length}}let U1;function gC(){return U1||(U1=new Z1),U1}Z1.workerCount=2;let yC,IO,_u,av,OO,sv=null;function NB(){return on()&&self.worker&&self.worker.dracoUrl?self.worker.dracoUrl:IO||v.DRACO_URL}function RB(){if(on()&&self.worker&&self.worker.meshoptUrl)return self.worker.meshoptUrl;if(av)return av;const l=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]);if(typeof WebAssembly!="object")throw new Error("WebAssembly not supported, cannot instantiate meshoptimizer");return av=WebAssembly.validate(l)?v.MESHOPT_SIMD_URL:v.MESHOPT_URL,av}const vC={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ave={5120:"DT_INT8",5121:"DT_UINT8",5122:"DT_INT16",5123:"DT_UINT16",5125:"DT_UINT32",5126:"DT_FLOAT32"},H1={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};function DB(l,a,u){const p=u.json.bufferViews.length,g=u.buffers.length;a.bufferView=p,u.json.bufferViews[p]={buffer:g,byteLength:l.byteLength},u.buffers[g]=l}const kO="KHR_draco_mesh_compression";function sve(l,a){const u=l.extensions&&l.extensions[kO];if(!u)return;const p=new _u.Decoder,g=jB(a,u.bufferView),b=new _u.Mesh;if(!p.DecodeArrayToMesh(g,g.byteLength,b))throw new Error("Failed to decode Draco mesh");const w=a.json.accessors[l.indices],E=vC[w.componentType],O=w.count*E.BYTES_PER_ELEMENT,R=_u._malloc(O);E===Uint16Array?p.GetTrianglesUInt16Array(b,O,R):p.GetTrianglesUInt32Array(b,O,R),DB(_u.memory.buffer.slice(R,R+O),w,a),_u._free(R);for(const $ of Object.keys(u.attributes)){const Z=p.GetAttributeByUniqueId(b,u.attributes[$]),V=a.json.accessors[l.attributes[$]],X=ave[V.componentType],Q=V.count*H1[V.type]*vC[V.componentType].BYTES_PER_ELEMENT,ne=_u._malloc(Q);p.GetAttributeDataArrayForAllPoints(b,Z,_u[X],Q,ne),DB(_u.memory.buffer.slice(ne,ne+Q),V,a),_u._free(ne)}p.destroy(),b.destroy(),delete l.extensions[kO]}const bC="EXT_meshopt_compression";function lve(l,a){if(!l.extensions||!l.extensions[bC])return;const u=l.extensions[bC],p=new Uint8Array(a.buffers[u.buffer],u.byteOffset||0,u.byteLength||0),g=new Uint8Array(u.count*u.byteStride);OO.decodeGltfBuffer(g,u.count,u.byteStride,p,u.mode,u.filter),l.buffer=a.buffers.length,l.byteOffset=0,a.buffers[l.buffer]=g.buffer,delete l.extensions[bC]}const LB=1179937895,FB=new TextDecoder("utf8");function $B(l,a){return new URL(l,a).href}function cve(l,a,u,p){return fetch($B(l.uri,p)).then(g=>g.arrayBuffer()).then(g=>{a.buffers[u]=g})}function jB(l,a){const u=l.json.bufferViews[a];return new Uint8Array(l.buffers[u.buffer],u.byteOffset||0,u.byteLength)}function uve(l,a,u,p){if(l.uri){const g=$B(l.uri,p);return fetch(g).then(b=>b.blob()).then(b=>createImageBitmap(b)).then(b=>{a.images[u]=b})}if(l.bufferView!==void 0){const g=jB(a,l.bufferView),b=new Blob([g],{type:l.mimeType});return createImageBitmap(b).then(w=>{a.images[u]=w})}}function zB(l,a=0,u){const p={json:null,images:[],buffers:[]};if(new Uint32Array(l,a,1)[0]===LB){const $=new Uint32Array(l,a);let Z=2;const V=($[Z++]>>2)-3,X=$[Z++]>>2;if(Z++,p.json=JSON.parse(FB.decode($.subarray(Z,Z+X))),Z+=X,Z<V){const Q=$[Z++];Z++;const ne=a+(Z<<2);p.buffers[0]=l.slice(ne,ne+Q)}}else p.json=JSON.parse(FB.decode(new Uint8Array(l,a)));const{buffers:g,images:b,meshes:w,extensionsUsed:E,bufferViews:O}=p.json;let R=Promise.resolve();if(g){const $=[];for(let Z=0;Z<g.length;Z++){const V=g[Z];V.uri?$.push(cve(V,p,Z,u)):p.buffers[Z]||(p.buffers[Z]=null)}R=Promise.all($)}return R.then(()=>{const $=[],Z=E&&E.includes(kO),V=E&&E.includes(bC);if(Z&&$.push(function(){if(!_u)return yC||(yC=function(X){let Q,ne=null;function ce(){Q=new Uint8Array(ne.buffer)}function ge(){throw new Error("Unexpected Draco error.")}const Te={a:{a:ge,d:function(ke,Ie,Be){return Q.copyWithin(ke,Ie,Ie+Be)},c:function(ke){const Ie=Q.length,Be=Math.max(ke>>>0,Math.ceil(1.2*Ie)),Fe=Math.ceil((Be-Ie)/65536);try{return ne.grow(Fe),ce(),!0}catch{return!1}},b:ge}};return(WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(X,Te):X.then(ke=>ke.arrayBuffer()).then(ke=>WebAssembly.instantiate(ke,Te))).then(ke=>{const{Rb:Ie,Qb:Be,P:Fe,T:Ke,X:tt,Ja:ht,La:wt,Qa:mt,Va:Ft,Wa:qt,eb:Ot,jb:Wt,f:Mt,e:Vt,yb:wn,zb:Xt,Ab:Hn,Bb:On,Db:nn,Gb:fr}=ke.instance.exports;ne=Vt;const Yn=(()=>{let Zn=0,rn=0,or=0,Lr=0;return mr=>{or&&(Ie(Lr),Ie(Zn),rn+=or,or=Zn=0),Zn||(rn+=128,Zn=Be(rn));const Fr=mr.length+7&-8;let wr=Zn;Fr>=rn&&(or=Fr,wr=Lr=Be(Fr));for(let qr=0;qr<mr.length;qr++)Q[wr+qr]=mr[qr];return wr}})();return ce(),Mt(),{memory:Vt,_free:Ie,_malloc:Be,Mesh:class{constructor(){this.ptr=Fe()}destroy(){Ke(this.ptr)}},Decoder:class{constructor(){this.ptr=ht()}destroy(){Wt(this.ptr)}DecodeArrayToMesh(Zn,rn,or){const Lr=Yn(Zn),mr=wt(this.ptr,Lr,rn,or.ptr);return!!tt(mr)}GetAttributeByUniqueId(Zn,rn){return{ptr:mt(this.ptr,Zn.ptr,rn)}}GetTrianglesUInt16Array(Zn,rn,or){Ft(this.ptr,Zn.ptr,rn,or)}GetTrianglesUInt32Array(Zn,rn,or){qt(this.ptr,Zn.ptr,rn,or)}GetAttributeDataArrayForAllPoints(Zn,rn,or,Lr,mr){Ot(this.ptr,Zn.ptr,rn.ptr,or,Lr,mr)}},DT_INT8:wn(),DT_UINT8:Xt(),DT_INT16:Hn(),DT_UINT16:On(),DT_UINT32:nn(),DT_FLOAT32:fr()}})}(fetch(NB())),yC.then(X=>{_u=X,yC=void 0}))}()),V&&$.push(function(){if(OO)return;const X=function(Q){let ne;const ce=WebAssembly.instantiateStreaming(Q,{}).then(ke=>{ne=ke.instance,ne.exports.__wasm_call_ctors()}),ge={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},Te={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return{ready:ce,supported:!0,decodeGltfBuffer(ke,Ie,Be,Fe,Ke,tt){(function(ht,wt,mt,Ft,qt,Ot,Wt){const Mt=ht.exports.sbrk,Vt=Ft+3&-4,wn=Mt(Vt*qt),Xt=Mt(Ot.length),Hn=new Uint8Array(ht.exports.memory.buffer);Hn.set(Ot,Xt);const On=wt(wn,Ft,qt,Xt,Ot.length);if(On===0&&Wt&&Wt(wn,Vt,qt),mt.set(Hn.subarray(wn,wn+Ft*qt)),Mt(wn-Mt(0)),On!==0)throw new Error(`Malformed buffer data: ${On}`)})(ne,ne.exports[Te[Ke]],ke,Ie,Be,Fe,ne.exports[ge[tt]])}}}(fetch(RB()));return X.ready.then(()=>{OO=X})}()),b)for(let X=0;X<b.length;X++)$.push(uve(b[X],p,X,u));return($.length?Promise.all($):Promise.resolve()).then(()=>{if(Z&&w)for(const{primitives:X}of w)for(const Q of X)sve(Q,p);if(V&&w&&O)for(const X of O)lve(X,p);return p})})}class BB{constructor(a,u,p){if(this.triangleCount=u.length/3,this.min=new K(0,0),this.max=new K(0,0),this.xScale=0,this.yScale=0,this.cellsX=0,this.cellsY=0,this.cells=[],this.payload=[],this.triangleCount===0||a.length===0||p===0)return;const g=a.map($=>$.x),b=a.map($=>$.y);this.min=new K(Math.min(...g),Math.min(...b)),this.max=new K(Math.max(...g),Math.max(...b));const w=this.max.sub(this.min);w.x=Math.max(w.x,1),w.y=Math.max(w.y,1);const E=Math.max(w.x,w.y)/p;this.cellsX=Math.max(1,Math.ceil(w.x/E)),this.cellsY=Math.max(1,Math.ceil(w.y/E)),this.xScale=1/E,this.yScale=1/E;const O=[];for(let $=0;$<this.triangleCount;$++){const Z=a[u[3*$+0]].sub(this.min),V=a[u[3*$+1]].sub(this.min),X=a[u[3*$+2]].sub(this.min),Q=Up(Math.floor(Math.min(Z.x,V.x,X.x)),this.xScale,this.cellsX),ne=Up(Math.floor(Math.max(Z.x,V.x,X.x)),this.xScale,this.cellsX),ce=Up(Math.floor(Math.min(Z.y,V.y,X.y)),this.yScale,this.cellsY),ge=Up(Math.floor(Math.max(Z.y,V.y,X.y)),this.yScale,this.cellsY),Te=new K(0,0),ke=new K(0,0),Ie=new K(0,0),Be=new K(0,0);for(let Fe=ce;Fe<=ge;++Fe){Te.y=ke.y=Fe*E,Ie.y=Be.y=(Fe+1)*E;for(let Ke=Q;Ke<=ne;++Ke)Te.x=Ie.x=Ke*E,ke.x=Be.x=(Ke+1)*E,(EI(Z,V,X,Te,ke,Be)||EI(Z,V,X,Te,Be,Ie))&&O.push({cellIdx:Fe*this.cellsX+Ke,triIdx:$})}}if(O.length===0)return;O.sort(($,Z)=>$.cellIdx-Z.cellIdx||$.triIdx-Z.triIdx);let R=0;for(;R<O.length;){const $=O[R].cellIdx,Z={start:this.payload.length,len:0};for(;R<O.length&&O[R].cellIdx===$;)++Z.len,this.payload.push(O[R++].triIdx);this.cells[$]=Z}}query(a,u,p){if(this.triangleCount===0||this.cells.length===0||a.x>this.max.x||this.min.x>u.x||a.y>this.max.y||this.min.y>u.y)return;this.lookup||(this.lookup=new Uint8Array(Math.ceil(this.triangleCount/8)));for(let O=0;O<this.lookup.length;O++)this.lookup[O]=0;const g=Up(a.x-this.min.x,this.xScale,this.cellsX),b=Up(u.x-this.min.x,this.xScale,this.cellsX),w=Up(a.y-this.min.y,this.yScale,this.cellsY),E=Up(u.y-this.min.y,this.yScale,this.cellsY);for(let O=w;O<=E;O++)for(let R=g;R<=b;R++){const $=this.cells[O*this.cellsX+R];if($)for(let Z=0;Z<$.len;Z++){const V=this.payload[$.start+Z],X=Math.floor(V/8),Q=1<<V%8;if(!(this.lookup[X]&Q)&&(this.lookup[X]|=Q,p.push(V),p.length===this.triangleCount))return}}}}function Up(l,a,u){return Math.max(0,Math.min(u-1,Math.floor(l*a)))}function Wm(l,a){const u=l.json.bufferViews[a.bufferView],p=vC[a.componentType];return new p(l.buffers[u.buffer],(a.byteOffset||0)+(u.byteOffset||0),a.count*(u.byteStride&&u.byteStride!==H1[a.type]*p.BYTES_PER_ELEMENT?u.byteStride/p.BYTES_PER_ELEMENT:H1[a.type]))}function NO(l,a,u,p){const g=vC[a.componentType],b=function($){switch($){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:return 1}}(g),w=l.json.bufferViews[a.bufferView],E=w.byteStride?w.byteStride/g.BYTES_PER_ELEMENT:H1[a.type],O=u.float32,R=O.length/u.capacity;for(let $=0,Z=0;$<a.count*E;$+=E,Z+=R)for(let V=0;V<R;V++)O[Z+V]=p[$+V]*b;u._trim()}function dve(l,a,u){const p=l.indices,g=l.attributes,b={};b.indexArray=new fa;const w=a.json.accessors[p],E=w.count/3;b.indexArray.reserve(E);const O=Wm(a,w);for(let V=0;V<E;V++)b.indexArray.emplaceBack(O[3*V],O[3*V+1],O[3*V+2]);b.indexArray._trim(),b.vertexArray=new vh;const R=a.json.accessors[g.POSITION];b.vertexArray.reserve(R.count);const $=Wm(a,R);for(let V=0;V<R.count;V++)b.vertexArray.emplaceBack($[3*V],$[3*V+1],$[3*V+2]);if(b.vertexArray._trim(),b.aabb=new vo(R.min,R.max),b.centroid=function(V,X){const Q=[0,0,0],ne=V.length;if(ne>0){for(let ce=0;ce<ne;ce++){const ge=3*V[ce];Q[0]+=X[ge],Q[1]+=X[ge+1],Q[2]+=X[ge+2]}Q[0]/=ne,Q[1]/=ne,Q[2]/=ne}return Q}(O,$),g.COLOR_0!==void 0){const V=a.json.accessors[g.COLOR_0],X=H1[V.type],Q=Wm(a,V);b.colorArray=X===3?new vh:new bd,b.colorArray.resize(V.count),NO(a,V,b.colorArray,Q)}if(g.NORMAL!==void 0){b.normalArray=new vh;const V=a.json.accessors[g.NORMAL];b.normalArray.resize(V.count);const X=Wm(a,V);NO(a,V,b.normalArray,X)}if(g.TEXCOORD_0!==void 0&&u.length>0){b.texcoordArray=new km;const V=a.json.accessors[g.TEXCOORD_0];b.texcoordArray.resize(V.count);const X=Wm(a,V);NO(a,V,b.texcoordArray,X)}if(g._FEATURE_ID_RGBA4444!==void 0){const V=a.json.accessors[g._FEATURE_ID_RGBA4444];a.json.extensionsUsed&&a.json.extensionsUsed.includes("EXT_meshopt_compression")&&(b.featureData=Wm(a,V))}g._FEATURE_RGBA4444!==void 0&&(b.featureData=new Uint32Array(Wm(a,a.json.accessors[g._FEATURE_RGBA4444]).buffer));const Z=l.material;return b.material=function(V,X){const{emissiveFactor:Q=[0,0,0],alphaMode:ne="OPAQUE",alphaCutoff:ce=.5,normalTexture:ge,occlusionTexture:Te,emissiveTexture:ke,doubleSided:Ie}=V,{baseColorFactor:Be=[1,1,1,1],metallicFactor:Fe=1,roughnessFactor:Ke=1,baseColorTexture:tt,metallicRoughnessTexture:ht}=V.pbrMetallicRoughness||{},wt=Te?X[Te.index]:void 0;if(Te&&Te.extensions&&Te.extensions.KHR_texture_transform&&wt){const mt=Te.extensions.KHR_texture_transform;wt.offsetScale=[mt.offset[0],mt.offset[1],mt.scale[0],mt.scale[1]]}return{pbrMetallicRoughness:{baseColorFactor:new kr(...Be),metallicFactor:Fe,roughnessFactor:Ke,baseColorTexture:tt?X[tt.index]:void 0,metallicRoughnessTexture:ht?X[ht.index]:void 0},doubleSided:Ie,emissiveFactor:Q,alphaMode:ne,alphaCutoff:ce,normalTexture:ge?X[ge.index]:void 0,occlusionTexture:wt,emissionTexture:ke?X[ke.index]:void 0,defined:V.defined===void 0}}(Z!==void 0?a.json.materials[Z]:{defined:!1},u),b}function ZB(l,a,u){const{matrix:p,rotation:g,translation:b,scale:w,mesh:E,extras:O,children:R}=l,$={};if($.matrix=p||o.a6.fromRotationTranslationScale([],g||[0,0,0,1],b||[0,0,0],w||[1,1,1]),E!==void 0){$.meshes=u[E];const Z=$.anchor=[0,0];for(const V of $.meshes){const{min:X,max:Q}=V.aabb;Z[0]+=X[0]+Q[0],Z[1]+=X[1]+Q[1]}Z[0]=Math.floor(Z[0]/$.meshes.length/2),Z[1]=Math.floor(Z[1]/$.meshes.length/2)}if(O&&(O.id&&($.id=O.id),O.lights&&($.lights=function(Z){if(!Z.length)return[];const V=function(ge){const Te=atob(ge),ke=new Uint8Array(Te.length);for(let Ie=0;Ie<Te.length;Ie++)ke[Ie]=Te.codePointAt(Ie);return ke}(Z),X=[],Q=V.length/24,ne=new Uint16Array(V.buffer),ce=new Float32Array(V.buffer);for(let ge=0;ge<Q;ge++){const Te=ne[2*ge*6]/30,ke=ne[2*ge*6+1]/30,Ie=ne[2*ge*6+10]/100,Be=ce[6*ge+1],Fe=ce[6*ge+2],Ke=ce[6*ge+3],tt=ce[6*ge+4],ht=Ke-Be,wt=tt-Fe,mt=Math.hypot(ht,wt);X.push({pos:[Be+.5*ht,Fe+.5*wt,ke],normal:[wt/mt,-ht/mt,0],width:mt,height:Te,depth:Ie,points:[Be,Fe,Ke,tt]})}return X}(O.lights))),R){const Z=[];for(const V of R)Z.push(ZB(a.json.nodes[V],a,u));$.children=Z}return $}function hve(l){if(l.vertices.length===0||l.indices.length===0)return null;const[a,u]=[l.vertices[0].clone(),l.vertices[0].clone()];for(let w=1;w<l.vertices.length;++w){const E=l.vertices[w];a.x=Math.min(a.x,E.x),a.y=Math.min(a.y,E.y),u.x=Math.max(u.x,E.x),u.y=Math.max(u.y,E.y)}const p=Math.ceil(Math.max(u.x-a.x,u.y-a.y)/256),g=Math.max(8,p),b=new BB(l.vertices,l.indices,g);return{vertices:l.vertices,indices:l.indices,grid:b,min:a,max:u}}function pve(l){if(!l.extras||!l.extras.ground)return null;const a=l.extras.ground;if(!a||!Array.isArray(a)||a.length===0)return null;const u=a[0];if(!u||!Array.isArray(u)||u.length===0)return null;const p=[];for(const w of u){if(!Array.isArray(w)||w.length!==2)continue;const E=w[0],O=w[1];typeof E=="number"&&typeof O=="number"&&p.push(new K(E,O))}if(p.length<3)return null;p.length>1&&p[p.length-1].equals(p[0])&&p.pop();let g=0;for(let w=0;w<p.length;w++){const E=p[w],O=p[(w+1)%p.length],R=p[(w+2)%p.length];g+=(E.x-O.x)*(R.y-O.y)-(R.x-O.x)*(E.y-O.y)}g>0&&p.reverse();const b=j5(p.flatMap(w=>[w.x,w.y]),[]);return b.length===0?null:{vertices:p,indices:b}}function fve(l){const a=[],u=[];let p=0;for(const g of l){p=a.length;const b=g.vertexArray.float32,w=g.indexArray.uint16;for(let E=0;E<g.vertexArray.length;E++)a.push(new K(b[3*E+0],b[3*E+1]));for(let E=0;E<3*g.indexArray.length;E++)u.push(w[E]+p)}if(u.length%3!=0)return null;for(let g=0;g<u.length;g+=3){const b=a[u[g+0]],w=a[u[g+1]],E=a[u[g+2]];(b.x-w.x)*(E.y-w.y)-(E.x-w.x)*(b.y-w.y)>0&&([u[g+1],u[g+2]]=[u[g+2],u[g+1]])}return{vertices:a,indices:u}}function UB(l){const a=function(O,R){const $=[],Z=WebGL2RenderingContext;if(O.json.textures)for(const V of O.json.textures){const X={magFilter:Z.LINEAR,minFilter:Z.NEAREST,wrapS:Z.REPEAT,wrapT:Z.REPEAT};V.sampler!==void 0&&Object.assign(X,O.json.samplers[V.sampler]),$.push({image:R[V.source],sampler:X,uploaded:!1})}return $}(l,l.images),u=function(O,R){const $=[];for(const Z of O.json.meshes){const V=[];for(const X of Z.primitives)V.push(dve(X,O,R));$.push(V)}return $}(l,a),{scenes:p,scene:g,nodes:b}=l.json,w=p?p[g||0].nodes:b,E=[];for(const O of w)E.push(ZB(b[O],l,u));return function(O,R,$){const Z={},V=new Set;for(let X=0;X<O.length;X++){const Q=$[R[X]];if(!Q.extras)continue;const ne=Q.extras["mapbox:footprint:version"],ce=Q.extras["mapbox:footprint:id"];(ne||ce)&&V.add(X),ne==="1.0.0"&&ce&&(Z[ce]=X)}for(let X=0;X<O.length;X++){if(V.has(X))continue;const Q=O[X],ne=$[R[X]];if(!ne.extras)continue;let ce=null;Q.id in Z&&(ce=fve(O[Z[Q.id]].meshes)),ce||(ce=pve(ne)),ce&&(Q.footprint=hve(ce))}if(V.size>0){const X=Array.from(V.values()).sort((Q,ne)=>Q-ne);for(let Q=X.length-1;Q>=0;Q--)O.splice(X[Q],1)}}(E,w,l.json.nodes),E}function mve(l){l.heightmap=new Float32Array(4096),l.heightmap.fill(-1);const a=l.vertexArray.float32,u=l.aabb.min[0]-1,p=l.aabb.min[1]-1,g=Vm/(l.aabb.max[0]-u+2),b=Vm/(l.aabb.max[1]-p+2);for(let w=0;w<a.length;w+=3){const E=a[w+2],O=(a[w+0]-u)*g|0,R=(a[w+1]-p)*b|0;E>l.heightmap[R*Vm+O]&&(l.heightmap[R*Vm+O]=E)}}function gve(l,a){const u={};u.indexArray=new fa,u.indexArray.reserve(4*l.length),u.vertexArray=new vh,u.vertexArray.reserve(10*l.length),u.colorArray=new bd,u.vertexArray.reserve(10*l.length);let p=0;for(const w of l){const E=Math.min(10,Math.max(4,1.3*w.height))*a,O=[-w.normal[1],w.normal[0],0],R=Math.min(.29,.1*w.width/w.depth),$=w.width-2*w.depth*a*(R+.01),Z=o.N.scaleAndAdd([],w.pos,O,$/2),V=o.N.scaleAndAdd([],w.pos,O,-$/2),X=[Z[0],Z[1],Z[2]+w.height],Q=[V[0],V[1],V[2]+w.height],ne=o.N.scaleAndAdd([],w.normal,O,R);o.N.scale(ne,ne,E);const ce=o.N.scaleAndAdd([],w.normal,O,-R);o.N.scale(ce,ce,E),o.N.add(ne,Z,ne),o.N.add(ce,V,ce),Z[2]+=.1,V[2]+=.1,u.vertexArray.emplaceBack(ne[0],ne[1],ne[2]),u.vertexArray.emplaceBack(ce[0],ce[1],ce[2]),u.vertexArray.emplaceBack(Z[0],Z[1],Z[2]),u.vertexArray.emplaceBack(V[0],V[1],V[2]),u.vertexArray.emplaceBack(X[0],X[1],X[2]),u.vertexArray.emplaceBack(Q[0],Q[1],Q[2]),u.vertexArray.emplaceBack(Z[0],Z[1],Z[2]),u.vertexArray.emplaceBack(V[0],V[1],V[2]),u.vertexArray.emplaceBack(ne[0],ne[1],ne[2]),u.vertexArray.emplaceBack(ce[0],ce[1],ce[2]);const ge=$/E/2;u.colorArray.emplaceBack(-ge-R,-1,ge,.8),u.colorArray.emplaceBack(ge+R,-1,ge,.8),u.colorArray.emplaceBack(-ge,0,ge,1.3),u.colorArray.emplaceBack(ge,0,ge,1.3),u.colorArray.emplaceBack(ge+R,-.8,ge,.7),u.colorArray.emplaceBack(ge+R,-.8,ge,.7),u.colorArray.emplaceBack(0,0,ge,1.3),u.colorArray.emplaceBack(0,0,ge,1.3),u.colorArray.emplaceBack(ge+R,-1.2,ge,.8),u.colorArray.emplaceBack(ge+R,-1.2,ge,.8),u.indexArray.emplaceBack(6+p,4+p,8+p),u.indexArray.emplaceBack(7+p,9+p,5+p),u.indexArray.emplaceBack(0+p,1+p,2+p),u.indexArray.emplaceBack(1+p,3+p,2+p),p+=10}const g={defined:!0,emissiveFactor:[0,0,0]},b={};return b.baseColorFactor=kr.white,g.pbrMetallicRoughness=b,u.material=g,u.aabb=new vo([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),u}Dn(BB,"TriangleGridIndex");class HB{constructor(a){this._stringToNumber={},this._numberToString=[];for(let u=0;u<a.length;u++){const p=a[u];this._stringToNumber[p]=u,this._numberToString[u]=p}}encode(a){return this._stringToNumber[a]}decode(a){return this._numberToString[a]}}const yve=["tile","layer","source","sourceLayer","state"];class VB{constructor(a,u,p,g,b){this.type="Feature",this._vectorTileFeature=a,this._z=u,this._x=p,this._y=g,this.properties=a.properties,this.id=b}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(a){this._geometry=a}toJSON(){const a={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};this.id!==void 0&&(a.id=this.id);for(const u of yve)this[u]!==void 0&&(a[u]=this[u]);return a}}class WB{constructor(a,u){this.tileID=a,this.x=a.canonical.x,this.y=a.canonical.y,this.z=a.canonical.z,this.grid=new du(Tn,16,0),this.featureIndexArray=new y5,this.promoteId=u,this.is3DTile=!1}insert(a,u,p,g,b,w=0,E=0){const O=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(p,g,b,w);const R=this.grid;for(let $=0;$<u.length;$++){const Z=u[$],V=[1/0,1/0,-1/0,-1/0];for(let X=0;X<Z.length;X++){const Q=Z[X];V[0]=Math.min(V[0],Q.x),V[1]=Math.min(V[1],Q.y),V[2]=Math.max(V[2],Q.x),V[3]=Math.max(V[3],Q.y)}E!==0&&(V[0]-=E,V[1]-=E,V[2]+=E,V[3]+=E),V[0]<Tn&&V[1]<Tn&&V[2]>=0&&V[3]>=0&&R.insert(O,V[0],V[1],V[2],V[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new aO(new Qy(this.rawTileData)).layers,this.sourceLayerCoder=new HB(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const a in this.vtLayers)this.vtFeatures[a]=[]}return this.vtLayers}query(a,u,p,g){this.loadVTLayers();const b=a.params||{},w=al(b.filter),E=a.tileResult,O=a.transform,R=E.bufferedTilespaceBounds,$=this.grid.query(R.min.x,R.min.y,R.max.x,R.max.y,(Q,ne,ce,ge)=>f$(E.bufferedTilespaceGeometry,Q,ne,ce,ge));$.sort(vve);let Z=null;O.elevation&&$.length>0&&(Z=Ky.create(O.elevation,this.tileID));const V={};let X;for(let Q=0;Q<$.length;Q++){const ne=$[Q];if(ne===X)continue;X=ne;const ce=this.featureIndexArray.get(ne);let ge=null;if(this.is3DTile){const Te=this.bucketLayerIDs[0][0],ke=u[Te];if(ke.type!=="model")continue;const{queryFeature:Ie,intersectionZ:Be}=ke.queryIntersectsMatchingFeature(E,ce.featureIndex,w,O);Ie&&this.appendToResult(V,Te,ce.featureIndex,Ie,Be)}else this.loadMatchingFeature(V,ce,w,b.layers,b.availableImages,u,p,g,(Te,ke,Ie,Be=0)=>(ge||(ge=ga(Te,this.tileID.canonical,a.tileTransform)),ke.queryIntersectsFeature(E,Te,Ie,ge,this.z,a.transform,a.pixelPosMatrix,Z,Be)))}return V}loadMatchingFeature(a,u,p,g,b,w,E,O,R){const{featureIndex:$,bucketIndex:Z,sourceLayerIndex:V,layoutVertexArrayOffset:X}=u,Q=this.bucketLayerIDs[Z];if(g&&!function(Te,ke){for(let Ie=0;Ie<Te.length;Ie++)if(ke.indexOf(Te[Ie])>=0)return!0;return!1}(g,Q))return;const ne=this.sourceLayerCoder.decode(V),ce=this.vtLayers[ne].feature($);if(p.needGeometry){const Te=Jo(ce,!0);if(!p.filter(new co(this.tileID.overscaledZ),Te,this.tileID.canonical))return}else if(!p.filter(new co(this.tileID.overscaledZ),ce))return;const ge=this.getId(ce,ne);for(let Te=0;Te<Q.length;Te++){const ke=Q[Te];if(g&&g.indexOf(ke)<0)continue;const Ie=w[ke];if(!Ie)continue;let Be={};ge!==void 0&&O&&(Be=O.getState(Ie.sourceLayer||"_geojsonTileLayer",ge));const Fe=!R||R(ce,Ie,Be,X);if(!Fe)continue;const Ke=new VB(ce,this.z,this.x,this.y,ge),tt=Me({},E[ke]);tt.paint=GB(tt.paint,Ie.paint,ce,Be,b),tt.layout=GB(tt.layout,Ie.layout,ce,Be,b),Ke.layer=tt,this.appendToResult(a,ke,$,Ke,Fe)}}appendToResult(a,u,p,g,b){let w=a[u];w===void 0&&(w=a[u]=[]),w.push({featureIndex:p,feature:g,intersectionZ:b})}lookupSymbolFeatures(a,u,p,g,b,w,E,O){const R={};this.loadVTLayers();const $=al(b);for(const Z of a)this.loadMatchingFeature(R,{bucketIndex:p,sourceLayerIndex:g,featureIndex:Z,layoutVertexArrayOffset:0},$,w,E,O,u);return R}loadFeature(a){const{featureIndex:u,sourceLayerIndex:p}=a;this.loadVTLayers();const g=this.sourceLayerCoder.decode(p),b=this.vtFeatures[g];if(b[u])return b[u];const w=this.vtLayers[g].feature(u);return b[u]=w,w}hasLayer(a){for(const u of this.bucketLayerIDs)for(const p of u)if(a===p)return!0;return!1}getId(a,u){let p=a.id;if(this.promoteId){const g=typeof this.promoteId=="string"?this.promoteId:this.promoteId[u];g!=null&&(p=a.properties[g]),typeof p=="boolean"&&(p=Number(p))}return p}}function GB(l,a,u,p,g){return qe(l,(b,w)=>{const E=a instanceof _m?a.get(w):null;return E&&E.evaluate?E.evaluate(u,p,g):E})}function vve(l,a){return a-l}Dn(WB,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});const RO=new Float32Array(262144),Gm=new Uint8Array(262144);function KB(l){let a=0;if(l.meshes)for(const u of l.meshes)a=Math.max(a,u.aabb.max[2]);if(l.children)for(const u of l.children)a=Math.max(a,KB(u));return a}function qB(l,a,u){if(l.meshes)for(const p of l.meshes)p.aabb.min[0]!==1/0&&u.insert(a,p.aabb.min[0],p.aabb.min[1],p.aabb.max[0],p.aabb.max[1]);if(l.children)for(const p of l.children)qB(p,a,u)}const XB=["","wall","door","roof","window","lamp","logo"];class YB{constructor(a){this.node=a,this.evaluatedRMEA=[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[.4,1,0,1],[1,0,0,1],[1,0,0,1]],this.hiddenByReplacement=!1,this.evaluatedScale=[1,1,1],this.evaluatedColor=[],this.emissionHeightBasedParams=[],this.feature={type:"Point",id:a.id,geometry:[],properties:{height:KB(a)}}}getLocalBounds(){if(!this.node.meshes)return new vo([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);if(!this.aabb){let a=0;const u=new vo([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);for(const p of this.node.meshes)this.node.lightMeshIndex!==a&&u.encapsulate(p.aabb),a++;this.aabb=u}return this.aabb}}class _C{constructor(a,u,p,g,b,w){this.id=u,this.modelTraits|=iv.CoordinateSpaceTile,this.uploaded=!1,this.hasPattern=!1,p&&(this.modelTraits|=iv.HasMapboxMeshFeatures),g&&(this.modelTraits|=iv.HasMeshoptCompression),this.zoom=-1,this.terrainExaggeration=1,this.projection={name:"mercator"},this.replacementUpdateTime=0,this.elevationReadFromZ=255,this.brightness=b,this.dirty=!0,this.needsUpload=!1,this.nodesInfo=[];for(const E of a)this.nodesInfo.push(new YB(E)),qB(E,w.featureIndexArray.length,w.grid),w.featureIndexArray.emplaceBack(this.nodesInfo.length-1,0,w.bucketLayerIDs.length-1,0)}update(){console.log("Update 3D model bucket")}populate(){console.log("populate 3D model bucket")}uploadPending(){return!this.uploaded||this.needsUpload}upload(a){if(!this.needsUpload)return;const u=this.getNodesInfo();for(const p of u){const g=p.node;this.uploaded?this.updatePbrBuffer(g):EO(g,a,!0)}for(const p of u)mC(p.node);this.uploaded=!0,this.needsUpload=!1}updatePbrBuffer(a){let u=!1;if(!a.meshes)return u;for(const p of a.meshes)p.pbrBuffer&&(p.pbrBuffer.updateData(p.featureArray),u=!0);return u}needsReEvaluation(a,u,p){const g=a.transform.projectionOptions,b=a.style.getBrightness(),w=this.brightness!==b;return!!(!this.uploaded||this.dirty||g.name!==this.projection.name||V1(p.paint.get("model-color").value,w)||V1(p.paint.get("model-color-mix-intensity").value,w)||V1(p.paint.get("model-roughness").value,w)||V1(p.paint.get("model-emissive-strength").value,w)||V1(p.paint.get("model-height-based-emissive-strength-multiplier").value,w))&&(this.projection=g,this.brightness=b,!0)}evaluateScale(a,u){if(a.transform.zoom===this.zoom)return;this.zoom=a.transform.zoom;const p=this.getNodesInfo(),g=this.id.canonical;for(const b of p){const w=b.feature;b.evaluatedScale=u.paint.get("model-scale").evaluate(w,{},g)}}evaluate(a){const u=this.getNodesInfo();for(const p of u){if(!p.node.meshes)continue;const g=p.feature,b=p.node.meshes&&p.node.meshes[0].featureData,w=p.evaluatedColor[2],E=p.evaluatedRMEA[2],O=this.id.canonical;if(p.hasTranslucentParts=!1,b){for(let R=0;R<XB.length;R++){const $=XB[R];$.length&&(g.properties.part=$);const Z=a.paint.get("model-color").evaluate(g,{},O),V=a.paint.get("model-color-mix-intensity").evaluate(g,{},O);p.evaluatedColor[R]=[Z.r,Z.g,Z.b,V],p.evaluatedRMEA[R][0]=a.paint.get("model-roughness").evaluate(g,{},O),p.evaluatedRMEA[R][2]=a.paint.get("model-emissive-strength").evaluate(g,{},O),p.evaluatedRMEA[R][3]=Z.a,p.emissionHeightBasedParams[R]=a.paint.get("model-height-based-emissive-strength-multiplier").evaluate(g,{},O),!p.hasTranslucentParts&&Z.a<1&&(p.hasTranslucentParts=!0)}delete g.properties.part,_ve(p,w!==p.evaluatedColor[2]||E!==p.evaluatedRMEA[2],this.modelTraits)}else p.evaluatedRMEA[0][2]=a.paint.get("model-emissive-strength").evaluate(g,{},O);p.evaluatedScale=a.paint.get("model-scale").evaluate(g,{},O),this.updatePbrBuffer(p.node)||(this.needsUpload=!0)}this.dirty=!1}elevationUpdate(a,u,p,g){const b=a.findDEMTileFor(p);if(b&&(b.tileID.canonical!==this.terrainTile||u!==this.terrainExaggeration)){if(b.dem&&b.tileID.overscaledZ!==this.elevationReadFromZ){this.elevationReadFromZ=b.tileID.overscaledZ;const w=Ky.create(a,p,b);if(!w)return;this.modelTraits&iv.HasMapboxMeshFeatures&&this.updateDEM(a,w,p,g);for(const E of this.getNodesInfo()){const O=E.node;if(!O.footprint||!O.footprint.vertices||!O.footprint.vertices.length)continue;const R=O.footprint.vertices;let $=w.getElevationAt(R[0].x,R[0].y,!0,!0);for(let Z=1;Z<R.length;Z++)$=Math.min($,w.getElevationAt(R[Z].x,R[Z].y,!0,!0));O.elevation=$}}this.terrainTile=b.tileID.canonical,this.terrainExaggeration=u}}updateDEM(a,u,p,g){let b=u._dem._modifiedForSources[g];if(b===void 0&&(u._dem._modifiedForSources[g]=[],b=u._dem._modifiedForSources[g]),b.includes(p.canonical))return;const w=u._dem.dim;b.push(p.canonical);let E=!1;for(const O of this.getNodesInfo()){const R=O.node;if(!R.footprint||!R.footprint.grid)continue;const $=R.footprint.grid,Z=u.tileCoordToPixel($.min.x,$.min.y),V=u.tileCoordToPixel($.max.x,$.max.y),X=Math.min(Math.min(w-V.y,Z.x),Math.min(Z.y,w-V.x));if(X<0)continue;const Q=ue(X,2,5);let ne=Math.max(0,Z.x-Q),ce=Math.max(0,Z.y-Q),ge=Math.min(V.x+Q,w-1),Te=Math.min(V.y+Q,w-1);for(let Fe=ce;Fe<=Te;++Fe)for(let Ke=ne;Ke<=ge;++Ke)Gm[Fe*w+Ke]=255;let ke=0,Ie=0;for(let Fe=0;Fe<$.cellsY;++Fe)for(let Ke=0;Ke<$.cellsX;++Ke){if(!$.cells[Fe*$.cellsX+Ke])continue;const tt=u.tileCoordToPixel($.min.x+Ke/$.xScale,$.min.y+Fe/$.yScale),ht=u.tileCoordToPixel($.min.x+(Ke+1)/$.xScale,$.min.y+(Fe+1)/$.yScale);for(let wt=tt.y;wt<=Math.min(ht.y+1,w-1);++wt)for(let mt=tt.x;mt<=Math.min(ht.x+1,w-1);++mt)Gm[wt*w+mt]===255&&(Gm[wt*w+mt]=0,ke+=u.getElevationAtPixel(mt,wt),Ie++)}const Be=ke/Ie;ne=Math.max(1,Z.x-Q),ce=Math.max(1,Z.y-Q),ge=Math.min(V.x+Q,w-2),Te=Math.min(V.y+Q,w-2),E=!0;for(let Fe=ce;Fe<=Te;++Fe)for(let Ke=ne;Ke<=ge;++Ke)Gm[Fe*w+Ke]===0&&(RO[Fe*w+Ke]=u._dem.set(Ke,Fe,Be));for(let Fe=1;Fe<Q;++Fe){ne=Math.max(1,Z.x-Fe),ce=Math.max(1,Z.y-Fe),ge=Math.min(V.x+Fe,w-2),Te=Math.min(V.y+Fe,w-2);for(let Ke=ce;Ke<=Te;++Ke)for(let tt=ne;tt<=ge;++tt){const ht=Ke*w+tt;if(Gm[ht]===255){let wt=0,mt=0,Ft=-1,qt=-1;for(let Ot=-1;Ot<=1;++Ot)for(let Wt=-1;Wt<=1;++Wt){const Mt=(Ke+Ot)*w+tt+Wt;if(Gm[Mt]>=Fe)continue;const Vt=RO[Mt],wn=Math.abs(Vt);wn>mt&&(wt=Vt,mt=wn,Ft=Wt,qt=Ot)}if(mt>.1){const Ot=1-(Fe+.5*Math.abs(Ft*qt))/Q;let Wt=u._dem.get(tt,Ke)+wt*Ot;const Mt=u._dem.get(tt+Ft,Ke+qt),Vt=u._dem.get(tt-Ft,Ke-qt,!0);(Wt-Mt)*(Wt-Vt)>0&&(Wt=(Mt+Vt)/2),RO[ht]=u._dem.set(tt,Ke,Wt),Gm[ht]=Fe}}}}}E&&(u._demTile.needsDEMTextureUpload=!0,u._dem._timestamp=st.now())}getNodesInfo(){return this.nodesInfo}destroy(){const a=this.getNodesInfo();for(const u of a)mC(u.node),TO(u.node)}isEmpty(){return!this.nodesInfo.length}updateReplacement(a,u){if(u.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=u.updateTime;const p=u.getReplacementRegionsForTile(a.toUnwrapped()),g=this.getNodesInfo();for(let b=0;b<this.nodesInfo.length;b++){const w=g[b].node;g[b].hiddenByReplacement=!!w.footprint&&!p.find(E=>E.footprint===w.footprint)}}getHeightAtTileCoord(a,u){const p=this.getNodesInfo(),g=[];for(let b=0;b<this.nodesInfo.length;b++){const w=p[b],E=w.node.meshes[0];if(a<E.aabb.min[0]||u<E.aabb.min[1]||a>E.aabb.max[0]||u>E.aabb.max[1])continue;const O=(a-E.aabb.min[0])/(E.aabb.max[0]-E.aabb.min[0])*Vm|0,R=Math.min(63,(u-E.aabb.min[1])/(E.aabb.max[1]-E.aabb.min[1])*Vm|0)*Vm+Math.min(63,O);if(!(E.heightmap[R]<0&&w.node.footprint))return w.hiddenByReplacement?void 0:{height:E.heightmap[R],maxHeight:w.feature.properties.height,hidden:!1,verticalScale:w.evaluatedScale[2]};if(w.node.footprint.grid.query(new K(a,u),new K(a,u),g),g.length>0)return{height:void 0,maxHeight:w.feature.properties.height,hidden:w.hiddenByReplacement,verticalScale:w.evaluatedScale[2]}}}}function V1(l,a){return!l.isLightConstant&&a}function bve(l,a,u,p,g,b,w,E){let O=(61440&a|(61440&a)>>4)>>8,R=(3840&a|(3840&a)>>4)>>4,$=240&a|(240&a)>>4;u[3]>0&&(O=ur(O,255*u[0],u[3]),R=ur(R,255*u[1],u[3]),$=ur($,255*u[2],u[3]));const Z=O<<8|R,V=$<<8|Math.floor(255*p[3]),X=function(Fe){const Ke=ue(Fe,0,2);return Math.min(Math.round(.5*Ke*255),255)}(p[2])<<8|15*p[0]<<4|15*p[1],Q=ue(g[0],0,1),ne=ue(g[1],0,1),ce=ue(g[2],0,1),ge=ue(g[3],0,1);let Te,ke,Ie,Be;if(Q!==ne&&w!==b&&ne!==Q){const Fe=w-b;ke=1/(Fe*(ne-Q)),Ie=-(b+Fe*Q)/(Fe*(ne-Q));const Ke=ue(g[4],-1,1);Be=Math.pow(10,Ke),Te=255*ce<<8|255*ge}else Te=65535,ke=0,Ie=1,Be=1;if(l.emplaceBack(Z,V,X,Te,ke,Ie,Be),E){const Fe=E.length;E.clear();for(let Ke=0;Ke<Fe;Ke++)E.emplaceBack(Z,V,X,Te,ke,Ie,Be)}}function _ve(l,a,u){const p=l.node;let g=0;const b=u&iv.HasMeshoptCompression;for(const w of p.meshes){if(p.lights&&p.lightMeshIndex===g||!w.featureData)continue;w.featureArray=new Nm,w.featureArray.reserve(w.featureData.length);let E=a;for(const O of w.featureData){const R=b?65535&O:O>>16&65535,$=b?O>>16&65535:65535&O,Z=(15&$)<8?15&$:0,V=l.evaluatedRMEA[Z],X=l.evaluatedColor[Z],Q=l.emissionHeightBasedParams[Z];let ne;if(E&&Z===2&&p.lights&&(ne=new Nm,ne.resize(10*p.lights.length)),bve(w.featureArray,R,X,V,Q,w.aabb.min[2],w.aabb.max[2],ne),ne&&E){E=!1;const ce=p.meshes[p.lightMeshIndex];ce.featureArray=ne,ce.featureArray._trim()}}w.featureArray._trim(),g++}}function JB(l,a,u,p){const g=1<<l.z;a.lat=Jr((p/Tn+l.y)/g),a.lng=Cr((u/Tn+l.x)/g)}Dn(_C,"Tiled3dModelBucket",{omit:["layers"]}),Dn(YB,"Tiled3dModelFeature");const xve={circle:class extends Ls{constructor(l,a,u){super(l,hme,a,u)}createBucket(l){return new js(l)}queryRadius(l){const a=l;return Vy("circle-radius",this,a)+Vy("circle-stroke-width",this,a)+M5(this.paint.get("circle-translate"))}queryIntersectsFeature(l,a,u,p,g,b,w,E){const O=g$(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),b.angle,l.pixelToTileUnitsFactor),R=this.paint.get("circle-radius").evaluate(a,u)+this.paint.get("circle-stroke-width").evaluate(a,u);return Uj(l,p,b,w,E,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",O,R)}getProgramIds(){return["circle"]}getDefaultProgramParams(l,a){const u=Zj(this);return{config:new se(this,a),defines:u,overrideFog:!1}}},heatmap:class extends Ls{createBucket(l){return new Vj(l)}constructor(l,a,u){super(l,Ume,a,u),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=C1({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(l){return Vy("heatmap-radius",this,l)}queryIntersectsFeature(l,a,u,p,g,b,w,E){const O=this.paint.get("heatmap-radius").evaluate(a,u);return Uj(l,p,b,w,E,!0,!0,new K(0,0),O)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getDefaultProgramParams(l,a){return l==="heatmap"?{config:new se(this,a),overrideFog:!1}:{}}},hillshade:class extends Ls{constructor(l,a,u){super(l,Vme,a,u)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}getDefaultProgramParams(l,a){return{overrideFog:!1}}},fill:class extends Ls{constructor(l,a,u){super(l,oge,a,u)}getProgramIds(){const l=this.paint.get("fill-pattern"),a=l&&l.constantOr(1),u=[a?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&u.push(a&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),u}getDefaultProgramParams(l,a){return{config:new se(this,a),overrideFog:!1}}recalculate(l,a){super.recalculate(l,a);const u=this.paint._values["fill-outline-color"];u.value.kind==="constant"&&u.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new oO(l)}queryRadius(){return M5(this.paint.get("fill-translate"))}queryIntersectsFeature(l,a,u,p,g,b){return!l.queryGeometry.isAboveHorizon&&bh(m$(l.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),b.angle,l.pixelToTileUnitsFactor),p)}isTileClipped(){return!0}},"fill-extrusion":class extends Ls{constructor(l,a,u){super(l,Nge,a,u),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(l){return new W5(l)}queryRadius(){return M5(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}hasShadowPass(){return!0}cutoffRange(){return this.paint.get("fill-extrusion-cutoff-fade-range")}canCastShadows(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}queryIntersectsFeature(l,a,u,p,g,b,w,E,O){const R=g$(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),b.angle,l.pixelToTileUnitsFactor),$=this.paint.get("fill-extrusion-height").evaluate(a,u),Z=this.paint.get("fill-extrusion-base").evaluate(a,u),V=[0,0],X=E&&b.elevation,Q=b.elevation?b.elevation.exaggeration():1,ne=l.tile.getBucket(this);if(X&&ne instanceof W5){const Ie=ne.centroidVertexArray,Be=O+1;Be<Ie.length&&(V[0]=Ie.geta_centroid_pos0(Be),V[1]=Ie.geta_centroid_pos1(Be))}if(V[0]===0&&V[1]===1)return!1;b.projection.name==="globe"&&(p=Mz([p],[new K(0,0),new K(Tn,Tn)],l.tileID.canonical).map(Ie=>Ie.polygon).flat());const ce=X?E:null,[ge,Te]=function(Ie,Be,Fe,Ke,tt,ht,wt,mt,Ft,qt,Ot){return Ie.projection.name==="globe"?function(Wt,Mt,Vt,wn,Xt,Hn,On,nn,fr,Yn,Zn){const rn=[],or=[],Lr=Wt.projection.upVectorScale(Zn,Wt.center.lat,Wt.worldSize).metersToTile,mr=[0,0,0,1],Fr=[0,0,0,1],wr=(Pr,Ni,ai,ui)=>{Pr[0]=Ni,Pr[1]=ai,Pr[2]=ui,Pr[3]=1},qr=Cz();Vt>0&&(Vt+=qr),wn+=qr;for(const Pr of Mt){const Ni=[],ai=[];for(const ui of Pr){const gi=ui.x+Xt.x,si=ui.y+Xt.y,oo=Wt.projection.projectTilePoint(gi,si,Zn),Ai=Wt.projection.upVector(Zn,ui.x,ui.y);let Co=Vt,la=wn;if(On){const ja=Tz(gi,si,Vt,wn,On,nn,fr,Yn);Co+=ja.base,la+=ja.top}Vt!==0?wr(mr,oo.x+Ai[0]*Lr*Co,oo.y+Ai[1]*Lr*Co,oo.z+Ai[2]*Lr*Co):wr(mr,oo.x,oo.y,oo.z),wr(Fr,oo.x+Ai[0]*Lr*la,oo.y+Ai[1]*Lr*la,oo.z+Ai[2]*Lr*la),o.N.transformMat4(mr,mr,Hn),o.N.transformMat4(Fr,Fr,Hn),Ni.push(new qy(mr[0],mr[1],mr[2])),ai.push(new qy(Fr[0],Fr[1],Fr[2]))}rn.push(Ni),or.push(ai)}return[rn,or]}(Ie,Be,Fe,Ke,tt,ht,wt,mt,Ft,qt,Ot):wt?function(Wt,Mt,Vt,wn,Xt,Hn,On,nn,fr){const Yn=[],Zn=[],rn=[0,0,0,1];for(const or of Wt){const Lr=[],mr=[];for(const Fr of or){const wr=Fr.x+wn.x,qr=Fr.y+wn.y,Pr=Tz(wr,qr,Mt,Vt,Hn,On,nn,fr);rn[0]=wr,rn[1]=qr,rn[2]=Pr.base,rn[3]=1,o.a7.transformMat4(rn,rn,Xt),rn[3]=Math.max(rn[3],1e-5);const Ni=new qy(rn[0]/rn[3],rn[1]/rn[3],rn[2]/rn[3]);rn[0]=wr,rn[1]=qr,rn[2]=Pr.top,rn[3]=1,o.a7.transformMat4(rn,rn,Xt),rn[3]=Math.max(rn[3],1e-5);const ai=new qy(rn[0]/rn[3],rn[1]/rn[3],rn[2]/rn[3]);Lr.push(Ni),mr.push(ai)}Yn.push(Lr),Zn.push(mr)}return[Yn,Zn]}(Be,Fe,Ke,tt,ht,wt,mt,Ft,qt):function(Wt,Mt,Vt,wn,Xt){const Hn=[],On=[],nn=Xt[8]*Mt,fr=Xt[9]*Mt,Yn=Xt[10]*Mt,Zn=Xt[11]*Mt,rn=Xt[8]*Vt,or=Xt[9]*Vt,Lr=Xt[10]*Vt,mr=Xt[11]*Vt;for(const Fr of Wt){const wr=[],qr=[];for(const Pr of Fr){const Ni=Pr.x+wn.x,ai=Pr.y+wn.y,ui=Xt[0]*Ni+Xt[4]*ai+Xt[12],gi=Xt[1]*Ni+Xt[5]*ai+Xt[13],si=Xt[2]*Ni+Xt[6]*ai+Xt[14],oo=Xt[3]*Ni+Xt[7]*ai+Xt[15],Ai=ui+nn,Co=gi+fr,la=si+Yn,ja=Math.max(oo+Zn,1e-5),eo=ui+rn,fo=gi+or,Ca=si+Lr,Ma=Math.max(oo+mr,1e-5);wr.push(new qy(Ai/ja,Co/ja,la/ja)),qr.push(new qy(eo/Ma,fo/Ma,Ca/Ma))}Hn.push(wr),On.push(qr)}return[Hn,On]}(Be,Fe,Ke,tt,ht)}(b,p,Z,$,R,w,ce,V,Q,b.center.lat,l.tileID.canonical),ke=l.queryGeometry;return function(Ie,Be,Fe){let Ke=1/0;bh(Fe,Be)&&(Ke=Ez(Fe,Be[0]));for(let tt=0;tt<Be.length;tt++){const ht=Be[tt],wt=Ie[tt];for(let mt=0;mt<ht.length-1;mt++){const Ft=ht[mt],qt=[Ft,ht[mt+1],wt[mt+1],wt[mt],Ft];Fc(Fe,qt)&&(Ke=Math.min(Ke,Ez(Fe,qt)))}}return Ke!==1/0&&Ke}(ge,Te,ke.isPointQuery()?ke.screenBounds:ke.screenGeometry)}},line:class extends Ls{constructor(l,a,u){super(l,Iz,a,u),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const a=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=a._styleExpression&&a._styleExpression.expression instanceof dm,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(l,a){super.recalculate(l,a),this.paint._values["line-floorwidth"]=Lz.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new lO(l)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getDefaultProgramParams(l,a){const u=Rz(this);return{config:new se(this,a),defines:u,overrideFog:!1}}queryRadius(l){const a=l,u=Fz(Vy("line-width",this,a),Vy("line-gap-width",this,a)),p=Vy("line-offset",this,a);return u/2+Math.abs(p)+M5(this.paint.get("line-translate"))}queryIntersectsFeature(l,a,u,p,g,b){if(l.queryGeometry.isAboveHorizon)return!1;const w=m$(l.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),b.angle,l.pixelToTileUnitsFactor),E=l.pixelToTileUnitsFactor/2*Fz(this.paint.get("line-width").evaluate(a,u),this.paint.get("line-gap-width").evaluate(a,u)),O=this.paint.get("line-offset").evaluate(a,u);return O&&(p=function(R,$){const Z=[],V=new K(0,0);for(let X=0;X<R.length;X++){const Q=R[X],ne=[];for(let ce=0;ce<Q.length;ce++){const ge=Q[ce],Te=Q[ce+1],ke=ce===0?V:ge.sub(Q[ce-1])._unit()._perp(),Ie=ce===Q.length-1?V:Te.sub(ge)._unit()._perp(),Be=ke._add(Ie)._unit();Be._mult(1/(Be.x*Ie.x+Be.y*Ie.y)),ne.push(Be._mult($)._add(ge))}Z.push(ne)}return Z}(p,O*l.pixelToTileUnitsFactor)),function(R,$,Z){for(let V=0;V<$.length;V++){const X=$[V];if(R.length>=3){for(let Q=0;Q<X.length;Q++)if(mu(R,X[Q]))return!0}if($m(R,X,Z))return!0}return!1}(w,p,E)}isTileClipped(){return!0}},symbol:cC,background:class extends Ls{constructor(l,a,u){super(l,Fye,a,u)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}getDefaultProgramParams(l,a){return{overrideFog:!1}}},raster:xB,"raster-particle":wB,sky:class extends Ls{constructor(l,a,u){super(l,Vye,a,u),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="sky-gradient"?this._updateColorRamp():l!=="sky-atmosphere-sun"&&l!=="sky-atmosphere-halo-color"&&l!=="sky-atmosphere-color"&&l!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=C1({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(l){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const a=l.style.light.properties.get("position");return this._lightPosition.azimuthal!==a.azimuthal||this._lightPosition.polar!==a.polar}return!1}getCenter(l,a){if(this.paint.get("sky-type")==="atmosphere"){const p=this.paint.get("sky-atmosphere-sun"),g=!p,b=l.style.light,w=b.properties.get("position");return g&&b.properties.get("anchor")==="viewport"&&it("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),g?AO(w.azimuthal,90-w.polar,a):AO(p[0],90-p[1],a)}const u=this.paint.get("sky-gradient-center");return AO(u[0],90-u[1],a)}isSky(){return!0}markSkyboxValid(l){this._skyboxInvalidated=!1,this._lightPosition=l.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const l=this.paint.get("sky-type");return l==="atmosphere"?["skyboxCapture","skybox"]:l==="gradient"?["skyboxGradient"]:null}},slot:class extends Ls{constructor(l,a,u){super(l,Wye,a)}},model:class extends Ls{constructor(l,a,u){super(l,tve,a,u),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(l){return new MO(l)}getProgramIds(){return["model"]}is3D(){return!0}hasShadowPass(){return!0}canCastShadows(){return!0}hasLightBeamPass(){return!0}cutoffRange(){return this.paint.get("model-cutoff-fade-range")}queryRadius(l){return l instanceof _C?Tn-1:0}queryIntersectsFeature(l,a,u,p,g,b){if(!this.modelManager)return!1;const w=this.modelManager,E=l.tile.getBucket(this);if(!(E&&E instanceof MO))return!1;const O=E;for(const R in O.instancesPerModel){const $=O.instancesPerModel[R];if($.idToFeaturesIndex.hasOwnProperty(a.id)){const Z=$.features[$.idToFeaturesIndex[a.id]],V=w.getModel(R,this.scope);if(!V)return!1;let X=o.a6.create();const Q=new ct(0,0),ne=O.canonical;let ce=Number.MAX_VALUE;for(let ge=0;ge<Z.instancedDataCount;++ge){const Te=16*(Z.instancedDataOffset+ge),ke=$.instancedDataArray.float32,Ie=[ke[Te+4],ke[Te+5],ke[Te+6]];JB(ne,Q,ke[Te],0|ke[Te+1]),OB(X,V,b,Q,Z.rotation,Z.scale,Ie,!1,!1,!1),b.projection.name==="globe"&&(X=CO(X,b));const Be=o.a6.multiply([],b.projMatrix,X),Fe=l.queryGeometry,Ke=TB(Fe.isPointQuery()?Fe.screenBounds:Fe.screenGeometry,b,Be,V.aabb);Ke!=null&&(ce=Math.min(Ke,ce))}return ce!==Number.MAX_VALUE&&ce}}return!1}_handleOverridablePaintPropertyUpdate(l,a,u){return!(!this.layout||a.isDataDriven()||u.isDataDriven()||l!=="model-color"&&l!=="model-color-mix-intensity"&&l!=="model-rotation"&&l!=="model-scale"&&l!=="model-translation"&&l!=="model-emissive-strength")}_isPropertyZoomDependent(l){const a=this._transitionablePaint._values[l];return a!=null&&a.value!=null&&a.value.expression!=null&&a.value.expression instanceof gm}isZoomDependent(){return this._isPropertyZoomDependent("model-scale")||this._isPropertyZoomDependent("model-rotation")||this._isPropertyZoomDependent("model-translation")}queryIntersectsMatchingFeature(l,a,u,p){const g=l.tile,b=g.getBucket(this);let w=null,E=Number.MAX_VALUE;if(!(b&&b instanceof _C))return{queryFeature:w,intersectionZ:E};const O=b.getNodesInfo()[a];if(O.hiddenByReplacement||!O.node.meshes||!u.filter(new co(g.tileID.overscaledZ),O.feature,g.tileID.canonical))return{queryFeature:w,intersectionZ:E};const R=O.node,$=p.calculatePosMatrix(g.tileID.toUnwrapped(),p.worldSize),Z=O.evaluatedScale;let V=0;p.elevation&&R.elevation&&(V=R.elevation*p.elevation.exaggeration()),o.a6.translate($,$,[(R.anchor?R.anchor[0]:0)*(Z[0]-1),(R.anchor?R.anchor[1]:0)*(Z[1]-1),V]),o.a6.scale($,$,Z),o.a6.multiply($,$,R.matrix);const X=l.queryGeometry,Q=X.isPointQuery()?X.screenBounds:X.screenGeometry,ne=function(ge){const Te=o.a6.multiply([],$,ge.matrix),ke=o.a6.multiply(Te,p.expandedFarZProjMatrix,Te);for(let Ie=0;Ie<ge.meshes.length;++Ie){const Be=ge.meshes[Ie];if(Ie===ge.lightMeshIndex)continue;const Fe=TB(Q,p,ke,Be.aabb);Fe!=null&&(E=Math.min(Fe,E))}if(ge.children)for(const Ie of ge.children)ne(Ie)};if(ne(R),E===Number.MAX_VALUE)return{queryFeature:w,intersectionZ:E};const ce=new ct(0,0);return JB(g.tileID.canonical,ce,O.node.anchor[0],O.node.anchor[1]),w={type:"Feature",geometry:{type:"Point",coordinates:[ce.lng,ce.lat]},properties:O.feature.properties,id:O.feature.id,state:{},layer:this.serialize()},{queryFeature:w,intersectionZ:E}}}},Or={read:function(l,a){return l.readFields(Or._readField,{header_length:0,x:0,y:0,z:0,layers:[]},a)},_readField:function(l,a,u){l===1?a.header_length=u.readFixed32():l===2?a.x=u.readVarint():l===3?a.y=u.readVarint():l===4?a.z=u.readVarint():l===5&&a.layers.push(Or.Layer.read(u,u.readVarint()+u.pos))},PixelFormat:{PIXEL_FORMAT_UNKNOWN:{value:0,options:{}},PIXEL_FORMAT_UINT32:{value:1,options:{}},PIXEL_FORMAT_UINT16:{value:2,options:{}},PIXEL_FORMAT_UINT8:{value:3,options:{}}},Filter:{}};Or.Filter.read=function(l,a){return l.readFields(Or.Filter._readField,{delta_filter:null,filter:null,zigzag_filter:null,bitshuffle_filter:null,byteshuffle_filter:null},a)},Or.Filter._readField=function(l,a,u){l===1?(a.delta_filter=Or.Filter.Delta.read(u,u.readVarint()+u.pos),a.filter="delta_filter"):l===2?(a.zigzag_filter=Or.Filter.Zigzag.read(u,u.readVarint()+u.pos),a.filter="zigzag_filter"):l===3?(a.bitshuffle_filter=Or.Filter.BitShuffle.read(u,u.readVarint()+u.pos),a.filter="bitshuffle_filter"):l===4&&(a.byteshuffle_filter=Or.Filter.ByteShuffle.read(u,u.readVarint()+u.pos),a.filter="byteshuffle_filter")},Or.Filter.Delta={},Or.Filter.Delta.read=function(l,a){return l.readFields(Or.Filter.Delta._readField,{block_size:0},a)},Or.Filter.Delta._readField=function(l,a,u){l===1&&(a.block_size=u.readVarint())},Or.Filter.Zigzag={},Or.Filter.Zigzag.read=function(l,a){return l.readFields(Or.Filter.Zigzag._readField,{},a)},Or.Filter.Zigzag._readField=function(l,a,u){},Or.Filter.BitShuffle={},Or.Filter.BitShuffle.read=function(l,a){return l.readFields(Or.Filter.BitShuffle._readField,{},a)},Or.Filter.BitShuffle._readField=function(l,a,u){},Or.Filter.ByteShuffle={},Or.Filter.ByteShuffle.read=function(l,a){return l.readFields(Or.Filter.ByteShuffle._readField,{},a)},Or.Filter.ByteShuffle._readField=function(l,a,u){},Or.Codec={},Or.Codec.read=function(l,a){return l.readFields(Or.Codec._readField,{gzip_data:null,codec:null,jpeg_image:null,webp_image:null,png_image:null},a)},Or.Codec._readField=function(l,a,u){l===1?(a.gzip_data=Or.Codec.GzipData.read(u,u.readVarint()+u.pos),a.codec="gzip_data"):l===2?(a.jpeg_image=Or.Codec.JpegImage.read(u,u.readVarint()+u.pos),a.codec="jpeg_image"):l===3?(a.webp_image=Or.Codec.WebpImage.read(u,u.readVarint()+u.pos),a.codec="webp_image"):l===4&&(a.png_image=Or.Codec.PngImage.read(u,u.readVarint()+u.pos),a.codec="png_image")},Or.Codec.GzipData={},Or.Codec.GzipData.read=function(l,a){return l.readFields(Or.Codec.GzipData._readField,{},a)},Or.Codec.GzipData._readField=function(l,a,u){},Or.Codec.JpegImage={},Or.Codec.JpegImage.read=function(l,a){return l.readFields(Or.Codec.JpegImage._readField,{},a)},Or.Codec.JpegImage._readField=function(l,a,u){},Or.Codec.WebpImage={},Or.Codec.WebpImage.read=function(l,a){return l.readFields(Or.Codec.WebpImage._readField,{},a)},Or.Codec.WebpImage._readField=function(l,a,u){},Or.Codec.PngImage={},Or.Codec.PngImage.read=function(l,a){return l.readFields(Or.Codec.PngImage._readField,{},a)},Or.Codec.PngImage._readField=function(l,a,u){},Or.DataIndexEntry={},Or.DataIndexEntry.read=function(l,a){return l.readFields(Or.DataIndexEntry._readField,{first_byte:0,last_byte:0,filters:[],codec:null,offset:0,scale:0,bands:[]},a)},Or.DataIndexEntry._readField=function(l,a,u){l===1?a.first_byte=u.readFixed64():l===2?a.last_byte=u.readFixed64():l===3?a.filters.push(Or.Filter.read(u,u.readVarint()+u.pos)):l===4?a.codec=Or.Codec.read(u,u.readVarint()+u.pos):l===5?a.offset=u.readFloat():l===6?a.scale=u.readFloat():l===7&&a.bands.push(u.readString())},Or.Layer={},Or.Layer.read=function(l,a){return l.readFields(Or.Layer._readField,{version:0,name:"",units:"",tilesize:0,buffer:0,pixel_format:0,data_index:[]},a)},Or.Layer._readField=function(l,a,u){l===1?a.version=u.readVarint():l===2?a.name=u.readString():l===3?a.units=u.readString():l===4?a.tilesize=u.readVarint():l===5?a.buffer=u.readVarint():l===6?a.pixel_format=u.readVarint():l===7&&a.data_index.push(Or.DataIndexEntry.read(u,u.readVarint()+u.pos))};const xu={read:function(l,a){return l.readFields(xu._readField,{uint32_values:null,values:null,fixed32_values:null},a)},_readField:function(l,a,u){l===2?(a.uint32_values=xu.Uint32Values.read(u,u.readVarint()+u.pos),a.values="uint32_values"):l===3&&(a.fixed32_values=xu.Fixed32Values.read(u,u.readVarint()+u.pos),a.values="fixed32_values")},Uint32Values:{}};xu.Uint32Values.read=function(l,a){return l.readFields(xu.Uint32Values._readField,{values:[]},a)},xu.Uint32Values._readField=function(l,a,u){l===1&&(a.readValuesInto=function(p){if(p.type!==2)throw new Error(`Unsupported pbf type "${p.type}"`);const g=function(w){return w.type===2?w.readVarint()+w.pos:w.pos+1}(p),b=p.pos;return p.pos=g,function(w){p.pos=b;let E=0;for(;p.pos<g;){const O=p.readVarint();w[E++]=O}return w}}(u))},xu.Fixed32Values={},xu.Fixed32Values.read=function(l,a){return l.readFields(xu.Fixed32Values._readField,{values:[]},a)},xu.Fixed32Values._readField=function(l,a,u){throw new Error("Not implemented")};/**
 * tiny-lru
 *
 * @copyright 2023 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 11.2.5
 */class wve{constructor(a=0,u=0,p=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=a,this.resetTtl=p,this.size=0,this.ttl=u}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(a){if(this.has(a)){const u=this.items[a];delete this.items[a],this.size--,u.prev!==null&&(u.prev.next=u.next),u.next!==null&&(u.next.prev=u.prev),this.first===u&&(this.first=u.next),this.last===u&&(this.last=u.prev)}return this}entries(a=this.keys()){return a.map(u=>[u,this.get(u)])}evict(a=!1){if(a||this.size>0){const u=this.first;delete this.items[u.key],--this.size==0?(this.first=null,this.last=null):(this.first=u.next,this.first.prev=null)}return this}expiresAt(a){let u;return this.has(a)&&(u=this.items[a].expiry),u}get(a){let u;if(this.has(a)){const p=this.items[a];this.ttl>0&&p.expiry<=Date.now()?this.delete(a):(u=p.value,this.set(a,u,!0))}return u}has(a){return a in this.items}keys(){const a=[];let u=this.first;for(;u!==null;)a.push(u.key),u=u.next;return a}set(a,u,p=!1,g=this.resetTtl){let b;if(p||this.has(a)){if(b=this.items[a],b.value=u,p===!1&&g&&(b.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.last!==b){const w=this.last,E=b.next,O=b.prev;this.first===b&&(this.first=b.next),b.next=null,b.prev=this.last,w.next=b,O!==null&&(O.next=E),E!==null&&(E.prev=O)}}else this.max>0&&this.size===this.max&&this.evict(!0),b=this.items[a]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:a,prev:this.last,next:null,value:u},++this.size==1?this.first=b:this.last.next=b;return this.last=b,this}values(a=this.keys()){return a.map(u=>this.get(u))}}function Sve(l,a){if(a.length!==4)throw new Error(`Expected data of dimension 4 but got ${a.length}.`);let u=a[3];for(let p=2;p>=1;p--){const g=p===1?1:0,b=p===2?1:0;for(let w=0;w<a[0];w++){const E=a[1]*w;for(let O=g;O<a[1];O++){const R=a[2]*(O+E);for(let $=b;$<a[2];$++){const Z=a[3]*($+R);for(let V=0;V<a[3];V++){const X=Z+V;l[X]+=l[X-u]}}}}u*=a[p]}return l}function Ave(l){for(let a=0,u=l.length;a<u;a++)l[a]=l[a]>>>1^-(1&l[a]);return l}function Cve(l,a){switch(a){case"uint32":return l;case"uint16":for(let u=0;u<l.length;u+=2){const p=l[u],g=l[u+1];l[u]=(240&p)>>4|(61440&p)>>8|(240&g)<<4|61440&g,l[u+1]=15&p|(3840&p)>>4|(15&g)<<8|(3840&g)<<4}return l;case"uint8":for(let u=0;u<l.length;u+=4){const p=l[u],g=l[u+1],b=l[u+2],w=l[u+3];l[u+0]=(192&p)>>6|(192&g)>>4|(192&b)>>2|192&w,l[u+1]=(48&p)>>4|(48&g)>>2|48&b|(48&w)<<2,l[u+2]=(12&p)>>2|12&g|(12&b)<<2|(12&w)<<4,l[u+3]=3&p|(3&g)<<2|(3&b)<<4|(3&w)<<6}return l;default:throw new Error(`Invalid pixel format, "${a}"`)}}class Hp extends Error{constructor(a){super(a),this.name="MRTError"}}var ic=Uint8Array,W1=Uint16Array,Mve=Int32Array,QB=new ic([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),eZ=new ic([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Eve=new ic([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tZ=function(l,a){for(var u=new W1(31),p=0;p<31;++p)u[p]=a+=1<<l[p-1];var g=new Mve(u[30]);for(p=1;p<30;++p)for(var b=u[p];b<u[p+1];++b)g[b]=b-u[p]<<5|p;return{b:u,r:g}},nZ=tZ(QB,2),rZ=nZ.b,Tve=nZ.r;rZ[28]=258,Tve[258]=28;for(var Pve=tZ(eZ,0).b,iZ=new W1(32768),zo=0;zo<32768;++zo){var lv=(43690&zo)>>1|(21845&zo)<<1;iZ[zo]=((65280&(lv=(61680&(lv=(52428&lv)>>2|(13107&lv)<<2))>>4|(3855&lv)<<4))>>8|(255&lv)<<8)>>1}var G1=function(l,a,u){for(var p=l.length,g=0,b=new W1(a);g<p;++g)l[g]&&++b[l[g]-1];var w,E=new W1(a);for(g=1;g<a;++g)E[g]=E[g-1]+b[g-1]<<1;{w=new W1(1<<a);var O=15-a;for(g=0;g<p;++g)if(l[g])for(var R=g<<4|l[g],$=a-l[g],Z=E[l[g]-1]++<<$,V=Z|(1<<$)-1;Z<=V;++Z)w[iZ[Z]>>O]=R}return w},K1=new ic(288);for(zo=0;zo<144;++zo)K1[zo]=8;for(zo=144;zo<256;++zo)K1[zo]=9;for(zo=256;zo<280;++zo)K1[zo]=7;for(zo=280;zo<288;++zo)K1[zo]=8;var oZ=new ic(32);for(zo=0;zo<32;++zo)oZ[zo]=5;var Ive=G1(K1,9),Ove=G1(oZ,5),DO=function(l){for(var a=l[0],u=1;u<l.length;++u)l[u]>a&&(a=l[u]);return a},wu=function(l,a,u){var p=a/8|0;return(l[p]|l[p+1]<<8)>>(7&a)&u},LO=function(l,a){var u=a/8|0;return(l[u]|l[u+1]<<8|l[u+2]<<16)>>(7&a)},kve=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Su=function(l,a,u){var p=new Error(a||kve[l]);if(p.code=l,Error.captureStackTrace&&Error.captureStackTrace(p,Su),!u)throw p;return p},Nve=new ic(0),Rve=typeof TextDecoder<"u"&&new TextDecoder;try{Rve.decode(Nve,{stream:!0})}catch{}const Dve={gzip_data:"gzip"},Lve={0:"uint32",1:"uint32",2:"uint16",3:"uint8"},Fve={uint32:1,uint16:2,uint8:4},$ve={uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array};class aZ{constructor(a=1){this.x=NaN,this.y=NaN,this.z=NaN,this.layers={},this._cacheSize=a}getLayer(a){return this.layers[a]}getHeaderLength(a){const u=new Uint8Array(a),p=new DataView(a);if(u[0]!==13)throw new Hp("File is not a valid MRT.");return p.getUint32(1,!0)}parseHeader(a){const u=new Uint8Array(a),p=this.getHeaderLength(a);if(u.length<p)throw new Hp(`Expected header with length >= ${p} but got buffer of length ${u.length}`);const g=new Qy(u.subarray(0,p)),b=Or.read(g);if(!isNaN(this.x)&&(this.x!==b.x||this.y!==b.y||this.z!==b.z))throw new Hp(`Invalid attempt to parse header ${b.z}/${b.x}/${b.y} for tile ${this.z}/${this.x}/${this.y}`);this.x=b.x,this.y=b.y,this.z=b.z;for(const w of b.layers)this.layers[w.name]=new jve(w,{cacheSize:this._cacheSize});return this}createDecodingTask(a){const u=[],p=this.getLayer(a.layerName);for(let g=0;g<p.dataIndex.length;g++){const b=p.dataIndex[g],w=b.first_byte-a.firstByte,E=b.last_byte+1-a.firstByte;if(g<a.firstBlock||g>a.lastBlock||p._blocksInProgress.has(g))continue;const O={layerName:p.name,firstByte:w,lastByte:E,pixelFormat:p.pixelFormat,blockIndex:g,blockShape:[b.bands.length].concat(p.bandShape),buffer:p.buffer,codec:b.codec.codec,filters:b.filters.map(R=>R.filter)};p._blocksInProgress.add(g),u.push(O)}return new sZ(u,()=>{u.forEach(g=>p._blocksInProgress.delete(g.blockIndex))},(g,b)=>{if(u.forEach(w=>p._blocksInProgress.delete(w.blockIndex)),g)throw g;b.forEach(w=>{this.getLayer(w.layerName).processDecodedData(w)})})}}class jve{constructor({version:a,name:u,units:p,tilesize:g,pixel_format:b,buffer:w,data_index:E},O){if(this.version=a,this.version!==1)throw new Hp(`Cannot parse raster layer encoded with MRT version ${a}`);this.name=u,this.units=p,this.tileSize=g,this.buffer=w,this.pixelFormat=Lve[b],this.dataIndex=E,this.bandShape=[g+2*w,g+2*w,Fve[this.pixelFormat]],this._decodedBlocks=function(R=1e3,$=0,Z=!1){if(isNaN(R)||R<0)throw new TypeError("Invalid max value");if(isNaN($)||$<0)throw new TypeError("Invalid ttl value");if(typeof Z!="boolean")throw new TypeError("Invalid resetTtl value");return new wve(R,$,Z)}(O?O.cacheSize:5),this._blocksInProgress=new Set}processDecodedData(a){const u=a.blockIndex.toString();this._decodedBlocks.get(u)||this._decodedBlocks.set(u,a.data)}getBlockForBand(a){let u=0;switch(typeof a){case"string":for(const[p,g]of this.dataIndex.entries()){for(const[b,w]of g.bands.entries())if(w===a)return{bandIndex:u+b,blockIndex:p,blockBandIndex:b};u+=g.bands.length}break;case"number":for(const[p,g]of this.dataIndex.entries()){if(a>=u&&a<u+g.bands.length)return{bandIndex:a,blockIndex:p,blockBandIndex:a-u};u+=g.bands.length}break;default:throw new Hp(`Invalid band \`${JSON.stringify(a)}\`. Expected string or integer.`)}throw new Hp(`Band not found: ${JSON.stringify(a)}`)}getDataRange(a){let u=1/0,p=-1/0,g=1/0,b=-1/0;for(const w of a){const{blockIndex:E}=this.getBlockForBand(w);if(E<0)throw new Hp(`Invalid band: ${JSON.stringify(w)}`);const O=this.dataIndex[E];g=Math.min(g,E),b=Math.max(b,E),u=Math.min(u,O.first_byte),p=Math.max(p,O.last_byte)}return{layerName:this.name,firstByte:u,lastByte:p,firstBlock:g,lastBlock:b}}hasBand(a){const{blockIndex:u}=this.getBlockForBand(a);return u>=0}hasDataForBand(a){const{blockIndex:u}=this.getBlockForBand(a);return u>=0&&!!this._decodedBlocks.get(u.toString())}getBandView(a){const{blockIndex:u,blockBandIndex:p}=this.getBlockForBand(a),g=this._decodedBlocks.get(u.toString());if(!g)throw new Hp(`Data for band ${JSON.stringify(a)} of layer "${this.name}" not decoded.`);const b=this.dataIndex[u],w=this.bandShape.reduce((R,$)=>R*$,1),E=p*w,O=g.subarray(E,E+w);return{data:O,bytes:new Uint8Array(O.buffer).subarray(O.byteOffset,O.byteOffset+O.byteLength),tileSize:this.tileSize,buffer:this.buffer,offset:b.offset,scale:b.scale}}}class sZ{constructor(a,u,p){this.tasks=a,this._onCancel=u,this._onComplete=p,this._finalized=!1}cancel(){this._finalized||(this._onCancel(),this._finalized=!0)}complete(a,u){this._finalized||(this._onComplete(a,u),this._finalized=!0)}}aZ.performDecoding=function(l,a){return Promise.all(a.tasks.map(u=>{const{layerName:p,firstByte:g,lastByte:b,pixelFormat:w,blockShape:E,blockIndex:O,filters:R,codec:$}=u,Z=new Uint8Array(l).subarray(g,b+1),V=new Uint32Array(E[0]*E[1]*E[2]);let X;if($!=="gzip_data")throw new Error(`Unhandled codec: ${$}`);return X=function(Q,ne){if(!globalThis.DecompressionStream&&ne==="gzip_data")return Promise.resolve(((ke=function(Fe){Fe[0]==31&&Fe[1]==139&&Fe[2]==8||Su(6,"invalid gzip data");var Ke=Fe[3],tt=10;4&Ke&&(tt+=2+(Fe[10]|Fe[11]<<8));for(var ht=(Ke>>3&1)+(Ke>>4&1);ht>0;ht-=!Fe[tt++]);return tt+(2&Ke)}(Te=Q))+8>Te.length&&Su(6,"invalid gzip data"),function(Fe,Ke,tt,ht){var wt=Fe.length;if(!wt||Ke.f&&!Ke.l)return tt||new ic(0);var mt=!tt,Ft=mt||Ke.i!=2,qt=Ke.i;mt&&(tt=new ic(3*wt));var Ot=function(zs){var Pl=tt.length;if(zs>Pl){var oc=new ic(Math.max(2*Pl,zs));oc.set(tt),tt=oc}},Wt=Ke.f||0,Mt=Ke.p||0,Vt=Ke.b||0,wn=Ke.l,Xt=Ke.d,Hn=Ke.m,On=Ke.n,nn=8*wt;do{if(!wn){Wt=wu(Fe,Mt,1);var fr=wu(Fe,Mt+1,3);if(Mt+=3,!fr){var Yn=Fe[(ai=4+((Mt+7)/8|0))-4]|Fe[ai-3]<<8,Zn=ai+Yn;if(Zn>wt){qt&&Su(0);break}Ft&&Ot(Vt+Yn),tt.set(Fe.subarray(ai,Zn),Vt),Ke.b=Vt+=Yn,Ke.p=Mt=8*Zn,Ke.f=Wt;continue}if(fr==1)wn=Ive,Xt=Ove,Hn=9,On=5;else if(fr==2){var rn=wu(Fe,Mt,31)+257,or=wu(Fe,Mt+10,15)+4,Lr=rn+wu(Fe,Mt+5,31)+1;Mt+=14;for(var mr=new ic(Lr),Fr=new ic(19),wr=0;wr<or;++wr)Fr[Eve[wr]]=wu(Fe,Mt+3*wr,7);Mt+=3*or;var qr=DO(Fr),Pr=(1<<qr)-1,Ni=G1(Fr,qr);for(wr=0;wr<Lr;){var ai,ui=Ni[wu(Fe,Mt,Pr)];if(Mt+=15&ui,(ai=ui>>4)<16)mr[wr++]=ai;else{var gi=0,si=0;for(ai==16?(si=3+wu(Fe,Mt,3),Mt+=2,gi=mr[wr-1]):ai==17?(si=3+wu(Fe,Mt,7),Mt+=3):ai==18&&(si=11+wu(Fe,Mt,127),Mt+=7);si--;)mr[wr++]=gi}}var oo=mr.subarray(0,rn),Ai=mr.subarray(rn);Hn=DO(oo),On=DO(Ai),wn=G1(oo,Hn),Xt=G1(Ai,On)}else Su(1);if(Mt>nn){qt&&Su(0);break}}Ft&&Ot(Vt+131072);for(var Co=(1<<Hn)-1,la=(1<<On)-1,ja=Mt;;ja=Mt){var eo=(gi=wn[LO(Fe,Mt)&Co])>>4;if((Mt+=15&gi)>nn){qt&&Su(0);break}if(gi||Su(2),eo<256)tt[Vt++]=eo;else{if(eo==256){ja=Mt,wn=null;break}var fo=eo-254;eo>264&&(fo=wu(Fe,Mt,(1<<(Ea=QB[wr=eo-257]))-1)+rZ[wr],Mt+=Ea);var Ca=Xt[LO(Fe,Mt)&la],Ma=Ca>>4;if(Ca||Su(3),Mt+=15&Ca,Ai=Pve[Ma],Ma>3){var Ea=eZ[Ma];Ai+=LO(Fe,Mt)&(1<<Ea)-1,Mt+=Ea}if(Mt>nn){qt&&Su(0);break}Ft&&Ot(Vt+131072);var Wi=Vt+fo;if(Vt<Ai){var Tl=0-Ai,Vp=Math.min(Ai,Wi);for(Tl+Vt<0&&Su(3);Vt<Vp;++Vt)tt[Vt]=ht[Tl+Vt]}for(;Vt<Wi;++Vt)tt[Vt]=tt[Vt-Ai]}}Ke.l=wn,Ke.p=ja,Ke.b=Vt,Ke.f=Wt,wn&&(Wt=1,Ke.m=Hn,Ke.d=Xt,Ke.n=On)}while(!Wt);return Vt!=tt.length&&mt?function(zs,Pl,oc){return(oc==null||oc>zs.length)&&(oc=zs.length),new ic(zs.subarray(Pl,oc))}(tt,0,Vt):tt.subarray(0,Vt)}(Te.subarray(ke,-8),{i:2},new ic(((ce=Te)[(ge=ce.length)-4]|ce[ge-3]<<8|ce[ge-2]<<16|ce[ge-1]<<24)>>>0),void 0)));var ce,ge,Te,ke;const Ie=Dve[ne];if(!Ie)throw new Error(`Unhandled codec: ${ne}`);const Be=new globalThis.DecompressionStream(Ie);return new Response(new Blob([Q]).stream().pipeThrough(Be)).arrayBuffer().then(Fe=>new Uint8Array(Fe))}(Z,$).then(Q=>{const ne=xu.read(new Qy(Q));if(ne.values==="uint32_values")return ne.uint32_values.readValuesInto(V),new $ve[w](V.buffer);throw new Error(`Unhandled numeric data "${ne.values}"`)}),X.then(Q=>{for(let ne=R.length-1;ne>=0;ne--)switch(R[ne]){case"delta_filter":Sve(Q,E);break;case"zigzag_filter":Ave(Q);break;case"bitshuffle_filter":Cve(Q,w);break;default:throw new Error(`Unhandled filter "${R[ne]}"`)}return{layerName:p,blockIndex:O,data:Q}}).catch(Q=>{throw Q})}))},Dn(sZ,"MRTDecodingBatch",{omit:["_onCancel","_onComplete"]});const lZ=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class FO{static from(a){if(!(a instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[u,p]=new Uint8Array(a,0,2);if(u!==219)throw new Error("Data does not appear to be in a KDBush format.");const g=p>>4;if(g!==1)throw new Error(`Got v${g} data when expected v1.`);const b=lZ[15&p];if(!b)throw new Error("Unrecognized array type.");const[w]=new Uint16Array(a,2,1),[E]=new Uint32Array(a,4,1);return new FO(E,w,b,a)}constructor(a,u=64,p=Float64Array,g){if(isNaN(a)||a<0)throw new Error(`Unpexpected numItems value: ${a}.`);this.numItems=+a,this.nodeSize=Math.min(Math.max(+u,2),65535),this.ArrayType=p,this.IndexArrayType=a<65536?Uint16Array:Uint32Array;const b=lZ.indexOf(this.ArrayType),w=2*a*this.ArrayType.BYTES_PER_ELEMENT,E=a*this.IndexArrayType.BYTES_PER_ELEMENT,O=(8-E%8)%8;if(b<0)throw new Error(`Unexpected typed array class: ${p}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+E+O,2*a),this._pos=2*a,this._finished=!0):(this.data=new ArrayBuffer(8+w+E+O),this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+E+O,2*a),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+b]),new Uint16Array(this.data,2,1)[0]=u,new Uint32Array(this.data,4,1)[0]=a)}add(a,u){const p=this._pos>>1;return this.ids[p]=p,this.coords[this._pos++]=a,this.coords[this._pos++]=u,p}finish(){const a=this._pos>>1;if(a!==this.numItems)throw new Error(`Added ${a} items when expected ${this.numItems}.`);return $O(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(a,u,p,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:b,coords:w,nodeSize:E}=this,O=[0,b.length-1,0],R=[];for(;O.length;){const $=O.pop()||0,Z=O.pop()||0,V=O.pop()||0;if(Z-V<=E){for(let ce=V;ce<=Z;ce++){const ge=w[2*ce],Te=w[2*ce+1];ge>=a&&ge<=p&&Te>=u&&Te<=g&&R.push(b[ce])}continue}const X=V+Z>>1,Q=w[2*X],ne=w[2*X+1];Q>=a&&Q<=p&&ne>=u&&ne<=g&&R.push(b[X]),($===0?a<=Q:u<=ne)&&(O.push(V),O.push(X-1),O.push(1-$)),($===0?p>=Q:g>=ne)&&(O.push(X+1),O.push(Z),O.push(1-$))}return R}within(a,u,p){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:b,nodeSize:w}=this,E=[0,g.length-1,0],O=[],R=p*p;for(;E.length;){const $=E.pop()||0,Z=E.pop()||0,V=E.pop()||0;if(Z-V<=w){for(let ce=V;ce<=Z;ce++)uZ(b[2*ce],b[2*ce+1],a,u)<=R&&O.push(g[ce]);continue}const X=V+Z>>1,Q=b[2*X],ne=b[2*X+1];uZ(Q,ne,a,u)<=R&&O.push(g[X]),($===0?a-p<=Q:u-p<=ne)&&(E.push(V),E.push(X-1),E.push(1-$)),($===0?a+p>=Q:u+p>=ne)&&(E.push(X+1),E.push(Z),E.push(1-$))}return O}}function $O(l,a,u,p,g,b){if(g-p<=u)return;const w=p+g>>1;cZ(l,a,w,p,g,b),$O(l,a,u,p,w-1,1-b),$O(l,a,u,w+1,g,1-b)}function cZ(l,a,u,p,g,b){for(;g>p;){if(g-p>600){const R=g-p+1,$=u-p+1,Z=Math.log(R),V=.5*Math.exp(2*Z/3),X=.5*Math.sqrt(Z*V*(R-V)/R)*($-R/2<0?-1:1);cZ(l,a,u,Math.max(p,Math.floor(u-$*V/R+X)),Math.min(g,Math.floor(u+(R-$)*V/R+X)),b)}const w=a[2*u+b];let E=p,O=g;for(q1(l,a,p,u),a[2*g+b]>w&&q1(l,a,p,g);E<O;){for(q1(l,a,E,O),E++,O--;a[2*E+b]<w;)E++;for(;a[2*O+b]>w;)O--}a[2*p+b]===w?q1(l,a,p,O):(O++,q1(l,a,O,g)),O<=u&&(p=O+1),u<=O&&(g=O-1)}}function q1(l,a,u,p){jO(l,u,p),jO(a,2*u,2*p),jO(a,2*u+1,2*p+1)}function jO(l,a,u){const p=l[a];l[a]=l[u],l[u]=p}function uZ(l,a,u,p){const g=l-u,b=a-p;return g*g+b*b}o.$=hB,o.A=Py,o.B=U_,o.C=Yr,o.D=bt,o.E=xs,o.F=uo,o.G=bn,o.H=class{constructor(l){this.specification=l}possiblyEvaluate(l,a){return Jt(l.expression.evaluate(a))}interpolate(l,a,u){return{x:ur(l.x,a.x,u),y:ur(l.y,a.y,u),z:ur(l.z,a.z,u),azimuthal:ur(l.azimuthal,a.azimuthal,u),polar:ur(l.polar,a.polar,u)}}},o.I=fO,o.J=hu,o.K=co,o.L=ii,o.M=class{constructor(l,a,u,p){this.id=l,this.position=a!=null?new ct(a[0],a[1]):new ct(0,0),this.orientation=u??[0,0,0],this.nodes=p,this.uploaded=!1,this.aabb=new vo([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),this.matrix=[]}_applyTransformations(l,a){if(o.a6.multiply(l.matrix,a,l.matrix),l.meshes)for(const u of l.meshes){const p=vo.applyTransform(u.aabb,l.matrix);this.aabb.encapsulate(p)}if(l.children)for(const u of l.children)this._applyTransformations(u,l.matrix)}computeBoundsAndApplyParent(){const l=o.a6.identity([]);for(const a of this.nodes)this._applyTransformations(a,l)}computeModelMatrix(l,a,u,p,g,b,w=!1){OB(this.matrix,this,l.transform,this.position,a,u,p,g,b,w)}upload(l){if(!this.uploaded){for(const a of this.nodes)EO(a,l);for(const a of this.nodes)mC(a);this.uploaded=!0}}destroy(){for(const l of this.nodes)TO(l)}},o.O=xe,o.P=K,o.Q=_m,o.R=hr,o.S=Lp,o.T=SO,o.U=ur,o.V=Tn,o.W=Ui,o.X=class{constructor(l){this.specification=l}possiblyEvaluate(l,a){return function([u,p]){const g=Jt([1,u,p]);return{x:g.x,y:g.y,z:g.z}}(l.expression.evaluate(a))}interpolate(l,a,u){return{x:ur(l.x,a.x,u),y:ur(l.y,a.y,u),z:ur(l.z,a.z,u)}}},o.Y=function(l,a,u=0,p=!0){const g=new K(u,u),b=l.sub(g),w=a.add(g),E=[b,new K(w.x,b.y),w,new K(b.x,w.y)];return p&&E.push(b.clone()),E},o.Z=gm,o._=function(l,a){const u=[];for(let p=0;p<l.length;p++){const g=ae(p-1,-1,l.length-1),b=ae(p+1,-1,l.length-1),w=l[p],E=l[b],O=l[g].sub(w).unit(),R=E.sub(w).unit(),$=R.angleWithSep(O.x,O.y),Z=O.add(R).unit().mult(-1*a/Math.sin($/2));u.push(w.add(Z))}return u},o.a=_l,o.a$=function(l){const a=[];for(const u in l)a.push(l[u]);return a},o.a0=f$,o.a1=function(l,a,u=0){return o.N.fromValues(((a.x-u)*l.scale-l.x)*Tn,(a.y*l.scale-l.y)*Tn,Fi(a.z,a.y))},o.a2=UI,o.a3=Oz,o.a4=function(l){let a=1/0,u=1/0,p=-1/0,g=-1/0;for(const b of l)a=Math.min(a,b.x),u=Math.min(u,b.y),p=Math.max(p,b.x),g=Math.max(g,b.y);return{min:new K(a,u),max:new K(p,g)}},o.a5=Nr,o.a8=mu,o.a9=fi,o.aA=KA,o.aB=Ao,o.aC=ze,o.aD=u5,o.aE=lC,o.aF=function(){ol.isLoading()||ol.isLoaded()||vd()!=="deferred"||t1()},o.aG=al,o.aH=Jo,o.aI=VB,o.aJ=ln,o.aK=lO,o.aL=oO,o.aM=ga,o.aN=Ql,o.aO=m1,o.aP=Nj,o.aQ=j5,o.aR=wO,o.aS=function(l,a){const u=Lp(a.zoom);if(u===0)return Md(l);const p=k5(l),g=GI(p),b=Nr(p.getWest())*a.worldSize,w=Nr(p.getEast())*a.worldSize,E=br(p.getNorth())*a.worldSize,O=br(p.getSouth())*a.worldSize,R=[b,E,0],$=[w,E,0],Z=[b,O,0],V=[w,O,0],X=o.a6.invert([],a.globeMatrix);return o.N.transformMat4(R,R,X),o.N.transformMat4($,$,X),o.N.transformMat4(Z,Z,X),o.N.transformMat4(V,V,X),g[0]=Ah(g[0],Z,u),g[1]=Ah(g[1],V,u),g[2]=Ah(g[2],$,u),g[3]=Ah(g[3],R,u),vo.fromPoints(g)},o.aT=R5,o.aU=A1,o.aV=Ah,o.aW=As,o.aX=Nme,o.aY=lt,o.aZ=aZ,o.a_=ut,o.aa=ue,o.ab=Pe,o.ac=function(l,a){const u={};for(let p=0;p<a.length;p++){const g=a[p];g in l&&(u[g]=l[g])}return u},o.ad=Ct,o.ae=br,o.af=class{constructor(l){this.entries={},this.scheduler=l}request(l,a,u,p){const g=this.entries[l]=this.entries[l]||{callbacks:[]};if(g.result){const[b,w]=g.result;return this.scheduler?this.scheduler.add(()=>{p(b,w)},a):p(b,w),()=>{}}return g.callbacks.push(p),g.cancel||(g.cancel=u((b,w)=>{g.result=[b,w];for(const E of g.callbacks)this.scheduler?this.scheduler.add(()=>{E(b,w)},a):E(b,w);setTimeout(()=>delete this.entries[l],3e3)})),()=>{g.result||(g.callbacks=g.callbacks.filter(b=>b!==p),g.callbacks.length||(g.cancel(),delete this.entries[l]))}}},o.ag=s1,o.ah=function(l,a,u){const p=JSON.stringify(l.request);return l.data&&(this.deduped.entries[p]={result:[null,l.data]}),this.deduped.request(p,{type:"parseTile",isSymbolTile:l.isSymbolTile,zoom:l.tileZoom},g=>{const b=ut(l.request,(w,E,O,R)=>{w?g(w):E&&g(null,{vectorTile:u?void 0:new aO(new Qy(E)),rawData:E,cacheControl:O,expires:R})});return()=>{b.cancel(),g()}},a)},o.ai=function(l){ar++,ar>St&&(l.getActor().send("enforceCacheSizeLimit",nt),ar=0)},o.aj=Nn,o.ak=ot,o.al=function(l){return l<=1?1:Math.pow(2,Math.floor(Math.log(l)/Math.LN2))},o.am=mn,o.an=xB,o.ao=wB,o.ap=_B,o.aq=function(l,a){const u=document.createElement("video");u.muted=!0,u.onloadstart=function(){a(null,u)};for(let p=0;p<l.length;p++){const g=document.createElement("source");Tt(l[p])||(u.crossOrigin="Anonymous"),g.src=l[p],u.appendChild(g)}return{cancel:()=>{}}},o.ar=uC,o.as=D1,o.at=Cr,o.au=Jr,o.av=pu,o.aw=fa,o.ax=kr,o.ay=bi,o.az=vh,o.b=qo,o.b$=o5,o.b0=function(l,a){const u=[];for(const p in l)p in a||u.push(p);return u},o.b1=Ee,o.b2=["type","source","source-layer","minzoom","maxzoom","filter","layout"],o.b3=function(l,a){const{x:u,y:p}=l.point,g=jj(u,p,l.worldSize/l._pixelsPerMercatorPixel,0,0);return o.a6.multiply(g,g,KI(Md(a)))},o.b5=Xy,o.b6=rc,o.b7=G5,o.b8=function(l,a,u,p,g){const b=5*a+2;l.float32[b+0]=u,l.float32[b+1]=p,l.float32[b+2]=g},o.b9=sC,o.bA=pC,o.bB=SB,o.bC=function(l){const a=SB(l,!0);return o.b4.invert([],[a[0],a[1],a[4],a[5]])},o.bD=HI,o.bE=function(l){const{x:a,y:u}=l.point,{lng:p,lat:g}=l._center;return jj(a,u,l.worldSize,p,g)},o.bF=he,o.bG=De,o.bH=function(l){const a=Math.round((l+45+360)%360/90)%4;return be[a]},o.bI=45,o.bJ=Jn,o.bK=x,o.bL=wd,o.bM=C5,o.bN=us,o.bO=Zy,o.bP=_,o.bQ=function(l,a,u){const p=Math.sqrt(l*l+a*a+u*u),g=p>0?Math.acos(u/p)*re:0;let b=l!==0||a!==0?Math.atan2(-a,-l)*re+90:0;return b<0&&(b+=360),[p,b,g]},o.bR=Ur,o.bS=vo,o.bT=Jt,o.bU=function(l){return[Math.pow(l[0],1/2.2),Math.pow(l[1],1/2.2),Math.pow(l[2],1/2.2)]},o.bV=function(l){return l({pluginStatus:Ds,pluginURL:yd}),e1.on("pluginStateChange",l),l},o.bW=ov,o.bX=gC,o.bY=tv,o.bZ=mO,o.b_=Un,o.ba=tB,o.bb=Fc,o.bc=Xa,o.bd=lB,o.be=yO,o.bf=pO,o.bg=FO,o.bh=ae,o.bj=oe,o.bk=we,o.bl=Tr,o.bm=function(l,a,u){l[4*a+0]=u[0],l[4*a+1]=u[1],l[4*a+2]=u[2],l[4*a+3]=u[3]},o.bn=ct,o.bo=yB,o.bp=yn,o.bq=VI,o.br=AB,o.bs=tn,o.bt=Lj,o.bu=function(l,a,u,p,g,b,w,E,O){if(O.name==="globe")return Lj(l,a,new tn(u,p,g),!1);const R=D1({z:u,x:p,y:g},O);return new vo([(b+R.x/R.scale)*a,a*(R.y/R.scale),w],[(b+R.x2/R.scale)*a,a*(R.y2/R.scale),E])},o.bv=function(l,a,u){let p=0;for(let g=0;g<2;++g){const b=u?u[g]:0;l[g]>b&&(p+=(l[g]-b)*(l[g]-b)),a[g]<b&&(p+=(b-a[g])*(b-a[g]))}return p},o.bw=yi,o.bx=Ae,o.by=function(l){const a=o.a6.identity(new Float64Array(16));o.a6.multiply(a,l.pixelMatrix,l.globeMatrix);const u=[0,Je,0],p=[0,xt,0];return o.N.transformMat4(u,u,a),o.N.transformMat4(p,p,a),[u[0]>0&&u[0]<=l.width&&u[1]>0&&u[1]<=l.height&&!XI(l,new ct(l.center.lat,90)),p[0]>0&&p[0]<=l.width&&p[1]>0&&p[1]<=l.height&&!XI(l,new ct(l.center.lat,-90))]},o.bz=function(l,a){const{scale:u}=l.tileTransform,p=u*Tn/(l.tileSize*Math.pow(2,a.zoom-l.tileID.overscaledZ+l.tileID.canonical.z));return o.b4.scale(new Float32Array(4),a.inverseAdjustmentMatrix,[p,p])},o.c=UB,o.c$=function(){return!!document.fullscreenElement||!!document.webkitFullscreenElement},o.c0=C,o.c1=Ve,o.c2=function(l,a,u){return l.type==="custom"?new Uye(l,a):new xve[l.type](l,a,u)},o.c3=function(l){const a=l.indexOf(Dy);return a>=0?l.slice(0,a):l},o.c4=function(l){return l.indexOf(Dy)>=0},o.c5=function(l){const a=l.indexOf(Dy);return a>=0?l.slice(a+1):""},o.c6=function(l){const a=[],u=l.id;return u===void 0&&a.push({message:`layers.${u}: missing required property "id"`}),l.render===void 0&&a.push({message:`layers.${u}: missing required method "render"`}),l.renderingMode&&l.renderingMode!=="2d"&&l.renderingMode!=="3d"&&a.push({message:`layers.${u}: property "renderingMode" must be either "2d" or "3d"`}),a},o.c7=Qe,o.c8=e1,o.c9=rt,o.cA=Rz,o.cB=(l,a,u,p,g,b)=>{const w=l.transform;return{u_matrix:Nz(l,a,u,p),u_texsize:a.imageAtlasTexture?a.imageAtlasTexture.size:[0,0],u_pixels_to_tile_units:w.calculatePixelsToTileUnitsMatrix(a),u_device_pixel_ratio:g,u_image:0,u_tile_units_to_pixels:kz(a,w),u_units_to_pixels:[1/w.pixelsToGLUnits[0],1/w.pixelsToGLUnits[1]],u_alpha_discard_threshold:0,u_trim_offset:b}},o.cC=(l,a,u,p,g,b,w)=>{const E=l.transform,O=E.calculatePixelsToTileUnitsMatrix(a);return{u_matrix:Nz(l,a,u,p),u_pixels_to_tile_units:O,u_device_pixel_ratio:b,u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:g,u_texsize:Dz(u)&&a.lineAtlasTexture?a.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:kz(a,l.transform),u_alpha_discard_threshold:0,u_trim_offset:w,u_emissive_strength:u.paint.get("line-emissive-strength")}},o.cD=et,o.cE=C1,o.cF=Cz,o.cG=Vn,o.cH=W5,o.cI=jp,o.cJ=450,o.cK=7,o.cL=zye,o.cM=256,o.cN=KI,o.cO=xd,o.cP=f1,o.cQ=function(l,a,u,p,g){return ue((l-a)/(u-a)*(g-p)+p,p,g)},o.cR=Zr,o.cS=CO,o.cT=[1,1,1],o.cU=Ky,o.cV=iv,o.cW=Dc,o.cX=class{constructor(){this._updateTime=0,this._sourceIds=[],this._activeRegions=[],this._prevRegions=[]}clear(){this._activeRegions.length>0&&++this._updateTime,this._activeRegions=[],this._prevRegions=[]}get updateTime(){return this._updateTime}getReplacementRegionsForTile(l){const a=iz(new K(0,0),new K(Tn,Tn),l),u=[];for(const p of this._activeRegions){if(p.hiddenByOverlap||!rz(a,p))continue;const g=bge(p.min,p.max,l);u.push({min:g.min,max:g.max,sourceId:this._sourceIds[p.priority],footprint:p.footprint,footprintTileId:p.tileId})}return u}setSources(l){this._setSources(l.map(a=>({getSourceId:()=>a.cache.id,getFootprints:()=>{const u=[];for(const p of a.cache.getVisibleCoordinates()){const g=a.cache.getTile(p).buckets[a.layer];if(g)for(const b of g.getNodesInfo()){const w=b.node;w.footprint&&u.push({footprint:w.footprint,id:p.toUnwrapped()})}}return u}})))}_addSource(l){const a=l.getFootprints();if(a.length!==0){for(const u of a){if(!u.footprint)continue;const p=iz(u.footprint.min,u.footprint.max,u.id);this._activeRegions.push({min:p.min,max:p.max,hiddenByOverlap:!1,priority:this._sourceIds.length,tileId:u.id,footprint:u.footprint})}this._sourceIds.push(l.getSourceId())}}_computeReplacement(){this._activeRegions.sort((a,u)=>a.priority-u.priority||U5(a.min,u.min)||U5(a.max,u.max));let l=this._activeRegions.length!==this._prevRegions.length;if(!l){let a=0,u=0;for(;!l&&a!==this._activeRegions.length;){const p=this._activeRegions[a],g=this._prevRegions[u];l=p.priority!==g.priority||!nz(p,g),++a,++u}}if(l){++this._updateTime;const a=u=>{const p=this._activeRegions;if(u>=p.length)return u;const g=p[u].priority;for(;u<p.length&&p[u].priority===g;)++u;return u};if(this._sourceIds.length>1){let u=0,p=a(u);for(;u!==p;){let g=u;const b=u;for(;g!==p;){const w=this._activeRegions[g];w.hiddenByOverlap=!1;for(let E=0;E<b;E++){const O=this._activeRegions[E];if(!O.hiddenByOverlap&&rz(w,O)&&(w.hiddenByOverlap=az(w.footprint,w.tileId,O.footprint,O.tileId),w.hiddenByOverlap))break}++g}u=p,p=a(u)}}}}_setSources(l){[this._prevRegions,this._activeRegions]=[this._activeRegions,[]],this._sourceIds=[];for(let a=l.length-1;a>=0;a--)this._addSource(l[a]);this._computeReplacement()}},o.cY=class{constructor(l){this._createGrid(l),this._createPoles(l)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const l of this._poleSegments)l.destroy();for(const l of this._gridSegments)l.withSkirts.destroy(),l.withoutSkirts.destroy()}_fillGridMeshWithLods(l,a){const u=new Ql,p=new fa,g=[],b=l+1+2,w=a[0]+1,E=a[0]+1+(1+a.length),O=(R,$,Z)=>{let V=R===b-1?R-2:R===0?R:R-1;return V+=Z?24575:0,[V,$]};for(let R=0;R<b;++R)u.emplaceBack(...O(R,0,!0));for(let R=0;R<w;++R)for(let $=0;$<b;++$)u.emplaceBack(...O($,R,($===0||$===b-1)&&!0));for(let R=0;R<a.length;++R){const $=a[R];for(let Z=0;Z<b;++Z)u.emplaceBack(...O(Z,$,!0))}for(let R=0;R<a.length;++R){const $=p.length,Z=a[R]+1+2,V=new fa;for(let ne=0;ne<Z-1;ne++){const ce=ne===Z-2,ge=ce?b*(E-a.length+R-ne):b;for(let Te=0;Te<b-1;Te++){const ke=ne*b+Te;ne===0||ce||Te===0||Te===b-2?(V.emplaceBack(ke+1,ke,ke+ge),V.emplaceBack(ke+ge,ke+ge+1,ke+1)):(p.emplaceBack(ke+1,ke,ke+ge),p.emplaceBack(ke+ge,ke+ge+1,ke+1))}}const X=Ao.simpleSegment(0,$,u.length,p.length-$);for(let ne=0;ne<V.uint16.length;ne+=3)p.emplaceBack(V.uint16[ne],V.uint16[ne+1],V.uint16[ne+2]);const Q=Ao.simpleSegment(0,$,u.length,p.length-$);g.push({withoutSkirts:X,withSkirts:Q})}return{vertices:u,indices:p,segments:g}}_createGrid(l){const a=this._fillGridMeshWithLods(He,Ge);this._gridSegments=a.segments,this._gridBuffer=l.createVertexBuffer(a.vertices,Nj.members),this._gridIndexBuffer=l.createIndexBuffer(a.indices,!0)}_createPoles(l){const a=new fa;for(let w=0;w<=He;w++)a.emplaceBack(0,w+1,w+2);this._poleIndexBuffer=l.createIndexBuffer(a,!0);const u=new xd,p=new xd,g=new xd,b=new xd;this._poleSegments=[];for(let w=0,E=0;w<De;w++){const O=360/(1<<w);u.emplaceBack(0,-Pe,0,.5,0),p.emplaceBack(0,-Pe,0,.5,1),g.emplaceBack(0,-Pe,0,.5,.5),b.emplaceBack(0,-Pe,0,.5,.5);for(let R=0;R<=He;R++){let $=R/He,Z=0;const V=ur(0,O,$),[X,Q,ne]=at(Lme,Fme,V,Pe);u.emplaceBack(X,Q,ne,$,Z),p.emplaceBack(X,Q,ne,$,1-Z);const ce=oe(V);$=.5+.5*Math.sin(ce),Z=.5+.5*Math.cos(ce),g.emplaceBack(X,Q,ne,$,Z),b.emplaceBack(X,Q,ne,$,1-Z)}this._poleSegments.push(Ao.simpleSegment(E,0,66,64)),E+=66}this._poleNorthVertexBuffer=l.createVertexBuffer(u,I5,!1),this._poleSouthVertexBuffer=l.createVertexBuffer(p,I5,!1),this._texturedPoleNorthVertexBuffer=l.createVertexBuffer(g,I5,!1),this._texturedPoleSouthVertexBuffer=l.createVertexBuffer(b,I5,!1)}getGridBuffers(l,a){return[this._gridBuffer,this._gridIndexBuffer,a?this._gridSegments[l].withSkirts:this._gridSegments[l].withoutSkirts]}getPoleBuffers(l,a){return[a?this._texturedPoleNorthVertexBuffer:this._poleNorthVertexBuffer,a?this._texturedPoleSouthVertexBuffer:this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[l]]}},o.cZ=function(l){return $o.has(l)},o.c_=ye,o.ca=d,o.cb=class extends fu{constructor(l){super(l),this.current=M}set(l,a,u){if(this.fetchUniformLocation(l,a)){for(let p=0;p<9;p++)if(u[p]!==this.current[p]){this.current=u,this.gl.uniformMatrix3fv(this.location,!1,u);break}}}},o.cc=le,o.cd=function(l,a,u){const p=Lp(u.zoom),g=l.style.map._antialias,b=a.options.extStandardDerivativesForceOff||l.terrain&&l.terrain.exaggeration()>0;return p===0&&!g&&!b},o.ce=function(l){const a=l.pixelsPerMeter,u=a/Tr(1,l.center.lat),p=o.a6.identity(new Float64Array(16));return o.a6.translate(p,p,[l.point.x,l.point.y,0]),o.a6.scale(p,p,[u,u,a]),Float32Array.from(p)},o.cf=k5,o.cg=function(l){const a=yi-5;l=ue(l,-80.051129,a)/a*90;const u=Math.pow(Math.abs(Math.sin(oe(l))),3);return Math.round(u*(Ge.length-1))},o.ch=function(l,a,u,p){const g=a.getNorth(),b=a.getSouth(),w=a.getWest(),E=a.getEast(),O=1<<l.z,R=E-w,$=g-b,Z=R/He,V=-$/Ge[u],X=[0,Z,0,V,0,0,g,w,0];if(l.z>0){const Q=180/p;o.co.multiply(X,X,[Q/R+1,0,0,0,Q/$+1,0,-.5*Q/Z,.5*Q/V,1])}return X[2]=O,X[5]=l.x,X[8]=l.y,X},o.ci=Md,o.cj=function(l,a,u){const p=o.a6.identity(new Float64Array(16)),g=(a/(1<<l)-.5)*Math.PI*2;return o.a6.rotateY(p,u.globeMatrix,g),Float32Array.from(p)},o.ck=class{isDataAvailableAtPoint(l){const a=this._source();if(this.isUsingMockSource()||!a||l.y<0||l.y>1)return!1;const u=a.getSource().maxzoom,p=1<<u,g=Math.floor(l.x),b=Math.floor((l.x-g)*p),w=Math.floor(l.y*p),E=this.findDEMTileFor(new mn(u,g,u,b,w));return!(!E||!E.dem)}getAtPointOrZero(l,a=0){return this.getAtPoint(l,a)||0}getAtPoint(l,a,u=!0){if(this.isUsingMockSource())return null;a==null&&(a=null);const p=this._source();if(!p||l.y<0||l.y>1)return a;const g=p.getSource().maxzoom,b=1<<g,w=Math.floor(l.x),E=l.x-w,O=new mn(g,w,g,Math.floor(E*b),Math.floor(l.y*b)),R=this.findDEMTileFor(O);if(!R||!R.dem)return a;const $=R.dem,Z=1<<R.tileID.canonical.z,V=(E*Z-R.tileID.canonical.x)*$.dim,X=(l.y*Z-R.tileID.canonical.y)*$.dim,Q=Math.floor(V),ne=Math.floor(X);return(u?this.exaggeration():1)*ur(ur($.get(Q,ne),$.get(Q,ne+1),X-ne),ur($.get(Q+1,ne),$.get(Q+1,ne+1),X-ne),V-Q)}getAtTileOffset(l,a,u){const p=1<<l.canonical.z;return this.getAtPointOrZero(new ii(l.wrap+(l.canonical.x+a/Tn)/p,(l.canonical.y+u/Tn)/p))}getAtTileOffsetFunc(l,a,u,p){return g=>{const b=this.getAtTileOffset(l,g.x,g.y),w=p.upVector(l.canonical,g.x,g.y),E=p.upVectorScale(l.canonical,a,u).metersToTile;return o.N.scale(w,w,b*E),w}}getForTilePoints(l,a,u,p){if(this.isUsingMockSource())return!1;const g=Ky.create(this,l,p);return!!g&&(a.forEach(b=>{b[2]=this.exaggeration()*g.getElevationAt(b[0],b[1],u)}),!0)}getMinMaxForTile(l){if(this.isUsingMockSource())return null;const a=this.findDEMTileFor(l);if(!a||!a.dem)return null;const u=a.dem.tree,p=a.tileID,g=1<<l.canonical.z-p.canonical.z;let b=l.canonical.x/g-p.canonical.x,w=l.canonical.y/g-p.canonical.y,E=0;for(let O=0;O<l.canonical.z-p.canonical.z&&!u.leaves[E];O++){b*=2,w*=2;const R=2*Math.floor(w)+Math.floor(b);E=u.childOffsets[E]+R,b%=1,w%=1}return{min:this.exaggeration()*u.minimums[E],max:this.exaggeration()*u.maximums[E]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(l,a,u){throw new Error("Pure virtual method called.")}pointCoordinate(l){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(l){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}getMinMaxForVisibleTiles(){const l=this.visibleDemTiles;if(l.length===0)return null;let a=!1,u=Number.MAX_VALUE,p=Number.MIN_VALUE;for(const g of l){const b=this.getMinMaxForTile(g.tileID);b&&(u=Math.min(u,b.min),p=Math.max(p,b.max),a=!0)}return a?{min:u,max:p}:null}},o.cl=O5,o.cm=Kj,o.cn=function(l,a){return[Math.pow(l[0],2.2)*a,Math.pow(l[1],2.2)*a,Math.pow(l[2],2.2)*a]},o.cp=$j,o.cq=256,o.cr=function(l,a){const u=[0,0,0],p=R5(Md(a.canonical));return o.N.transformMat4(u,u,p),o.N.transformMat4(u,u,l),u},o.cs=l=>({u_camera_to_center_distance:new us(l),u_extrude_scale:new L(l),u_device_pixel_ratio:new us(l),u_matrix:new x(l),u_inv_rot_matrix:new x(l),u_merc_center:new wd(l),u_tile_id:new C5(l),u_zoom_transition:new us(l),u_up_dir:new C5(l),u_emissive_strength:new us(l)}),o.ct=l=>({u_matrix:new x(l),u_pixels_to_tile_units:new L(l),u_device_pixel_ratio:new us(l),u_units_to_pixels:new wd(l),u_dash_image:new Zy(l),u_gradient_image:new Zy(l),u_image_height:new us(l),u_texsize:new wd(l),u_tile_units_to_pixels:new us(l),u_alpha_discard_threshold:new us(l),u_trim_offset:new wd(l),u_emissive_strength:new us(l)}),o.cu=l=>({u_matrix:new x(l),u_texsize:new wd(l),u_pixels_to_tile_units:new L(l),u_device_pixel_ratio:new us(l),u_image:new Zy(l),u_units_to_pixels:new wd(l),u_tile_units_to_pixels:new us(l),u_alpha_discard_threshold:new us(l),u_trim_offset:new wd(l)}),o.cv=$y,o.cw=Kge,o.cx=qge,o.cy=Zj,o.cz=(l,a,u,p,g,b)=>{const w=l.transform,E=w.projection.name==="globe";let O;if(b.paint.get("circle-pitch-alignment")==="map")if(E){const $=$j(w.zoom,a.canonical)*w._pixelsPerMercatorPixel;O=Float32Array.from([$,0,0,$])}else O=w.calculatePixelsToTileUnitsMatrix(u);else O=new Float32Array([w.pixelsToGLUnits[0],0,0,w.pixelsToGLUnits[1]]);const R={u_camera_to_center_distance:l.transform.getCameraToCenterDistance(w.projection),u_matrix:l.translatePosMatrix(a.projMatrix,u,b.paint.get("circle-translate"),b.paint.get("circle-translate-anchor")),u_device_pixel_ratio:st.devicePixelRatio,u_extrude_scale:O,u_inv_rot_matrix:$me,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0],u_emissive_strength:b.paint.get("circle-emissive-strength")};if(E){R.u_inv_rot_matrix=p,R.u_merc_center=g,R.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],R.u_zoom_transition=Lp(w.zoom);const $=g[0]*Tn,Z=g[1]*Tn;R.u_up_dir=w.projection.upVector(new tn(0,0,0),$,Z)}return R},o.d=zt,o.d0=fe,o.d1=oi,o.d2=Nt,o.d3=function([l,a,u]){const p=Math.hypot(l,a,u),g=Math.atan2(l,u),b=.5*Math.PI-Math.acos(-a/p);return new ct(he(g),he(b))},o.d4=It,o.d5=v,o.d6=XI,o.d7=zj,o.d8=function(l){const a=[0,0,0],u=o.a6.identity(new Float64Array(16));return o.a6.multiply(u,l.pixelMatrix,l.globeMatrix),o.N.transformMat4(a,a,u),new K(a[0],a[1])},o.d9=function(l){const a=l.navigator?l.navigator.userAgent:null;return!!function(u){if(je==null){const p=u.navigator?u.navigator.userAgent:null;je=!!u.safari||!(!p||!(/\b(iPad|iPhone|iPod)\b/.test(p)||p.match("Safari")&&!p.match("Chrome")))}return je}(l)&&a&&(a.match("Version/15.4")||a.match("Version/15.5")||a.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},o.dA=bu,o.dB=HB,o.dC=WB,o.dD=Pz,o.dE=qe,o.dF=rB,o.dG=function(l,a,u,p,g,b,w,E,O,R,$){l.createArrays(),l.tilePixelRatio=Tn/(512*l.overscaling),l.compareText={},l.iconsNeedLinear=!1;const Z=l.layers[0].layout,V=l.layers[0]._unevaluatedLayout._values,X={};if(l.textSizeData.kind==="composite"){const{minZoom:ge,maxZoom:Te}=l.textSizeData;X.compositeTextSizes=[V["text-size"].possiblyEvaluate(new co(ge),E),V["text-size"].possiblyEvaluate(new co(Te),E)]}if(l.iconSizeData.kind==="composite"){const{minZoom:ge,maxZoom:Te}=l.iconSizeData;X.compositeIconSizes=[V["icon-size"].possiblyEvaluate(new co(ge),E),V["icon-size"].possiblyEvaluate(new co(Te),E)]}X.layoutTextSize=V["text-size"].possiblyEvaluate(new co(O+1),E),X.layoutIconSize=V["icon-size"].possiblyEvaluate(new co(O+1),E),X.textMaxSize=V["text-size"].possiblyEvaluate(new co(18),E);const Q=Z.get("text-rotation-alignment")==="map"&&Z.get("symbol-placement")!=="point",ne=Z.get("text-size");let ce=!1;for(const ge of l.features)if(ge.icon&&ge.icon.nameSecondary){ce=!0;break}for(const ge of l.features){const Te=Z.get("text-font").evaluate(ge,{},E).join(","),ke=ne.evaluate(ge,{},E),Ie=X.layoutTextSize.evaluate(ge,{},E),Be=(X.layoutIconSize.evaluate(ge,{},E),{horizontal:{},vertical:void 0}),Fe=ge.text;let Ke,tt=[0,0];if(Fe){const mt=Fe.toString(),Ft=Z.get("text-letter-spacing").evaluate(ge,{},E)*Xa,qt=Z.get("text-line-height").evaluate(ge,{},E)*Xa,Ot=_I(mt)?Ft:0,Wt=Z.get("text-anchor").evaluate(ge,{},E),Mt=Z.get("text-variable-anchor");if(!Mt){const On=Z.get("text-radial-offset").evaluate(ge,{},E);tt=On?lB(Wt,[On*Xa,gO]):Z.get("text-offset").evaluate(ge,{},E).map(nn=>nn*Xa)}let Vt=Q?"center":Z.get("text-justify").evaluate(ge,{},E);const wn=Z.get("symbol-placement")==="point",Xt=wn?Z.get("text-max-width").evaluate(ge,{},E)*Xa:1/0,Hn=On=>{l.allowVerticalPlacement&&gd(mt)&&(Be.vertical=hO(Fe,a,u,g,Te,Xt,qt,Wt,On,Ot,tt,rc.vertical,!0,Ie,ke))};if(!Q&&Mt){const On=Vt==="auto"?Mt.map(fr=>yO(fr)):[Vt];let nn=!1;for(let fr=0;fr<On.length;fr++){const Yn=On[fr];if(!Be.horizontal[Yn])if(nn)Be.horizontal[Yn]=Be.horizontal[0];else{const Zn=hO(Fe,a,u,g,Te,Xt,qt,"center",Yn,Ot,tt,rc.horizontal,!1,Ie,ke);Zn&&(Be.horizontal[Yn]=Zn,nn=Zn.positionedLines.length===1)}}Hn("left")}else{if(Vt==="auto"&&(Vt=yO(Wt)),wn||Z.get("text-writing-mode").indexOf("horizontal")>=0||!gd(mt)){const On=hO(Fe,a,u,g,Te,Xt,qt,Wt,Vt,Ot,tt,rc.horizontal,!1,Ie,ke);On&&(Be.horizontal[Vt]=On)}Hn(wn?"left":Vt)}}let ht=!1;if(ge.icon&&ge.icon.namePrimary){const mt=p[ge.icon.namePrimary];mt&&(Ke=mye(g[ge.icon.namePrimary],ge.icon.nameSecondary?g[ge.icon.nameSecondary]:void 0,Z.get("icon-offset").evaluate(ge,{},E),Z.get("icon-anchor").evaluate(ge,{},E)),ht=mt.sdf,l.sdfIcons===void 0?l.sdfIcons=mt.sdf:l.sdfIcons!==mt.sdf&&it("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(mt.pixelRatio!==l.pixelRatio||Z.get("icon-rotate").constantOr(1)!==0)&&(l.iconsNeedLinear=!0))}const wt=uB(Be.horizontal)||Be.vertical;l.iconsInText||(l.iconsInText=!!wt&&wt.iconsInText),(wt||Ke)&&wye(l,ge,Be,Ke,p,X,Ie,0,tt,ht,w,E,R,$,ce)}b&&l.generateCollisionDebugBuffers(O,l.collisionBoxArray)},o.dH=aO,o.dI=Qy,o.dJ=H5,o.dK=F,o.dL=B5,o.dM=z5,o.dN=W,o.dO=jz,o.dP=function(l){let a=0;if(new Uint32Array(l,0,1)[0]!==LB){const u=new Uint32Array(l,0,7),[,,p,g,b,w]=u;a=u.byteLength+g+b+w+b,(p!==l.byteLength||a>=l.byteLength)&&it("Invalid b3dm header information.")}return zB(l,a)},o.dQ=function(l,a){const u=UB(l);for(const p of u){for(const g of p.meshes)mve(g);p.lights&&(p.lightMeshIndex=p.meshes.length,p.meshes.push(gve(p.lights,a)))}return u},o.dR=_C,o.dS=kB,o.dT=ol,o.dU=function(l){Bn(),Et&&Et.then(a=>{a.keys().then(u=>{for(let p=0;p<u.length-l;p++)a.delete(u[p])})})},o.da=class{constructor(l,a,u){this._transformRequestFn=l,this._customAccessToken=a,this._silenceAuthErrors=!!u,this._createSkuToken()}_createSkuToken(){const l=function(){let a="";for(let u=0;u<10;u++)a+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",dt,a].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=l.token,this._skuTokenExpiresAt=l.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(l,a){return this._transformRequestFn&&this._transformRequestFn(l,a)||{url:l}}normalizeStyleURL(l,a){if(!C(l))return l;const u=Cn(l);return u.params.push(`sdk=js-${m}`),u.path=`/styles/v1${u.path}`,this._makeAPIURL(u,this._customAccessToken||a)}normalizeGlyphsURL(l,a){if(!C(l))return l;const u=Cn(l);return u.path=`/fonts/v1${u.path}`,this._makeAPIURL(u,this._customAccessToken||a)}normalizeModelURL(l,a){if(!C(l))return l;const u=Cn(l);return u.path=`/models/v1${u.path}`,this._makeAPIURL(u,this._customAccessToken||a)}normalizeSourceURL(l,a,u,p){if(!C(l))return l;const g=Cn(l);return g.path=`/v4/${g.authority}.json`,g.params.push("secure"),u&&g.params.push(`language=${u}`),p&&g.params.push(`worldview=${p}`),this._makeAPIURL(g,this._customAccessToken||a)}normalizeSpriteURL(l,a,u,p){const g=Cn(l);return C(l)?(g.path=`/styles/v1${g.path}/sprite${a}${u}`,this._makeAPIURL(g,this._customAccessToken||p)):(g.path+=`${a}${u}`,$n(g))}normalizeTileURL(l,a,u){if(this._isSkuTokenExpired()&&this._createSkuToken(),l&&!C(l))return l;const p=Cn(l);p.path=p.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${a||u&&p.authority!=="raster"&&u===512?"@2x":""}${un.supported?".webp":"$1"}`),p.authority==="raster"?p.path=`/${v.RASTER_URL_PREFIX}${p.path}`:p.authority==="rasterarrays"?p.path=`/${v.RASTERARRAYS_URL_PREFIX}${p.path}`:(p.path=p.path.replace(/^.+\/v4\//,"/"),p.path=`/${v.TILE_URL_VERSION}${p.path}`);const g=this._customAccessToken||function(b){for(const w of b){const E=w.match(/^access_token=(.*)$/);if(E)return E[1]}return null}(p.params)||v.ACCESS_TOKEN;return v.REQUIRE_ACCESS_TOKEN&&g&&this._skuToken&&p.params.push(`sku=${this._skuToken}`),this._makeAPIURL(p,g)}canonicalizeTileURL(l,a){const u=Cn(l);if(!u.path.match(/^(\/v4\/|\/(raster|rasterarrays)\/v1\/)/)||!u.path.match(/\.[\w]+$/))return l;let p="mapbox://";u.path.match(/^\/raster\/v1\//)?p+=`raster/${u.path.replace(`/${v.RASTER_URL_PREFIX}/`,"")}`:u.path.match(/^\/rasterarrays\/v1\//)?p+=`rasterarrays/${u.path.replace(`/${v.RASTERARRAYS_URL_PREFIX}/`,"")}`:p+=`tiles/${u.path.replace(`/${v.TILE_URL_VERSION}/`,"")}`;let g=u.params;return a&&(g=g.filter(b=>!b.match(/^access_token=/))),g.length&&(p+=`?${g.join("&")}`),p}canonicalizeTileset(l,a){const u=!!a&&C(a),p=[];for(const g of l.tiles||[])S(g)?p.push(this.canonicalizeTileURL(g,u)):p.push(g);return p}_makeAPIURL(l,a){const u="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",p=Cn(v.API_URL);if(l.protocol=p.protocol,l.authority=p.authority,l.protocol==="http"){const g=l.params.indexOf("secure");g>=0&&l.params.splice(g,1)}if(p.path!=="/"&&(l.path=`${p.path}${l.path}`),!v.REQUIRE_ACCESS_TOKEN)return $n(l);if(a=a||v.ACCESS_TOKEN,!this._silenceAuthErrors){if(!a)throw new Error(`An API access token is required to use Mapbox GL. ${u}`);if(a[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${u}`)}return l.params=l.params.filter(g=>g.indexOf("access_token")===-1),l.params.push(`access_token=${a||""}`),$n(l)}},o.db=function(l,a){a?$o.add(l):$o.delete(l)},o.dc=un,o.dd=Po,o.de=ss,o.df=At,o.dg=qn,o.dh=function(l){$o.delete(l)},o.di=wi,o.dj=pr,o.dk=m,o.dl=function(l,a){nt=l,St=a},o.dm=function(l,a,u=!1){if(Ds===q_||Ds===X_||Ds===Y_)throw new Error("setRTLTextPlugin cannot be called multiple times.");yd=st.resolveURL(l),Ds=q_,J_=a,Q_(),u||t1()},o.dn=vd,o.dp=function(){gC().acquire(PO)},o.dq=function(){const l=U1;l&&(l.isPreloaded()&&l.numActive()===1?(l.release(PO),U1=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},o.dr=Z1,o.ds=function(l){const a=jt();if(!a)return;const u=a.delete(_t);l&&u.catch(l).then(()=>l())},o.dt=B1,o.du=NB,o.dv=function(l){IO=st.resolveURL(l),sv||(sv=new ov(gC(),new xs)),sv.broadcast("setDracoUrl",IO)},o.dw=RB,o.dx=function(l){av=st.resolveURL(l),sv||(sv=new ov(gC(),new xs)),sv.broadcast("setMeshoptUrl",av)},o.dy=Dn,o.dz=Fp,o.e=Me,o.f=st,o.g=function(l,a){return rt(Me(l,{type:"json"}),a)},o.h=nc,o.i=gp,o.j=oa,o.k=Ty,o.l=function(l){return fetch(l).then(a=>a.arrayBuffer()).then(a=>zB(a,0,l))},o.m=YA,o.n=mm,o.o=wm,o.p=nB,o.q=ky,o.r=Oy,o.s=H_,o.t=cm,o.u=xm,o.v=Fa,o.w=it,o.x=xp,o.z=i1}),c(["./shared"],function(o){function m(je){const me=je?je.url.toString():void 0;return me?performance.getEntriesByName(me):[]}function y(je){if(typeof je=="number"||typeof je=="boolean"||typeof je=="string"||je==null)return JSON.stringify(je);if(Array.isArray(je)){let we="[";for(const Ne of je)we+=`${y(Ne)},`;return`${we}]`}let me="{";for(const we of Object.keys(je).sort())me+=`${we}:${y(je[we])},`;return`${me}}`}function v(je){let me="";for(const we of o.b2)me+=`/${y(je[we])}`;return me}class S{constructor(me){this.keyCache={},this._layers={},this._layerConfigs={},me&&this.replace(me)}replace(me,we){this._layerConfigs={},this._layers={},this.update(me,[],we)}update(me,we,Ne){this._options=Ne;for(const ot of me)this._layerConfigs[ot.id]=ot,(this._layers[ot.id]=o.c2(ot,this.scope,this._options)).compileFilter(),this.keyCache[ot.id]&&delete this.keyCache[ot.id];for(const ot of we)delete this.keyCache[ot],delete this._layerConfigs[ot],delete this._layers[ot];this.familiesBySource={};const Xe=function(ot,st){const _t={};for(let St=0;St<ot.length;St++){const Et=st&&st[ot[St].id]||v(ot[St]);st&&(st[ot[St].id]=Et);let ft=_t[Et];ft||(ft=_t[Et]=[]),ft.push(ot[St])}const nt=[];for(const St in _t)nt.push(_t[St]);return nt}(o.a$(this._layerConfigs),this.keyCache);for(const ot of Xe){const st=ot.map(jt=>this._layers[jt.id]),_t=st[0];if(_t.visibility==="none")continue;const nt=_t.source||"";let St=this.familiesBySource[nt];St||(St=this.familiesBySource[nt]={});const Et=_t.sourceLayer||"_geojsonTileLayer";let ft=St[Et];ft||(ft=St[Et]=[]),ft.push(st)}}}const C=1*o.dA;class P{constructor(me){const we={},Ne=[];for(const _t in me){const nt=me[_t],St=we[_t]={};for(const Et in nt.glyphs){const ft=nt.glyphs[+Et];if(!ft||ft.bitmap.width===0||ft.bitmap.height===0)continue;const jt=ft.metrics.localGlyph?C:1,Bn={x:0,y:0,w:ft.bitmap.width+2*jt,h:ft.bitmap.height+2*jt};Ne.push(Bn),St[Et]=Bn}}const{w:Xe,h:ot}=o.p(Ne),st=new o.dz({width:Xe||1,height:ot||1});for(const _t in me){const nt=me[_t];for(const St in nt.glyphs){const Et=nt.glyphs[+St];if(!Et||Et.bitmap.width===0||Et.bitmap.height===0)continue;const ft=we[_t][St],jt=Et.metrics.localGlyph?C:1;o.dz.copy(Et.bitmap,st,{x:0,y:0},{x:ft.x+jt,y:ft.y+jt},Et.bitmap)}}this.image=st,this.positions=we}}o.dy(P,"GlyphAtlas");class I{constructor(me){this.tileID=new o.am(me.tileID.overscaledZ,me.tileID.wrap,me.tileID.canonical.z,me.tileID.canonical.x,me.tileID.canonical.y),this.tileZoom=me.tileZoom,this.uid=me.uid,this.zoom=me.zoom,this.canonical=me.tileID.canonical,this.pixelRatio=me.pixelRatio,this.tileSize=me.tileSize,this.source=me.source,this.scope=me.scope,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=me.showCollisionBoxes,this.collectResourceTiming=!!me.collectResourceTiming,this.promoteId=me.promoteId,this.isSymbolTile=me.isSymbolTile,this.tileTransform=o.as(me.tileID.canonical,me.projection),this.projection=me.projection,this.brightness=me.brightness,this.extraShadowCaster=!!me.extraShadowCaster}parse(me,we,Ne,Xe,ot){this.status="parsing",this.data=me,this.collisionBoxArray=new o.aD;const st=new o.dB(Object.keys(me.layers).sort()),_t=new o.dC(this.tileID,this.promoteId);_t.bucketLayerIDs=[];const nt={},St=new o.dD(256,256),Et={featureIndex:_t,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:St,availableImages:Ne,brightness:this.brightness},ft=we.familiesBySource[this.source];for(const hn in ft){const vn=me.layers[hn];if(!vn)continue;let In=!1,Sn=!1,an=!1;for(const Ht of ft[hn])Ht[0].type==="symbol"?In=!0:Sn=!0,Ht[0].is3D()&&Ht[0].type!=="model"&&(an=!0);if(this.extraShadowCaster&&!an||this.isSymbolTile===!0&&!In||this.isSymbolTile===!1&&!Sn)continue;vn.version===1&&o.w(`Vector tile source "${this.source}" layer "${hn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const kn=st.encode(hn),hr=[];for(let Ht=0;Ht<vn.length;Ht++){const Un=vn.feature(Ht),rt=_t.getId(Un,hn);hr.push({feature:Un,id:rt,index:Ht,sourceLayerIndex:kn})}for(const Ht of ft[hn]){const Un=Ht[0];(!this.extraShadowCaster||Un.is3D()&&Un.type!=="model")&&(this.isSymbolTile!==void 0&&Un.type==="symbol"!==this.isSymbolTile||Un.minzoom&&this.zoom<Math.floor(Un.minzoom)||Un.maxzoom&&this.zoom>=Un.maxzoom||Un.visibility!=="none"&&(N(Ht,this.zoom,Et.brightness,Ne),(nt[Un.id]=Un.createBucket({index:_t.bucketLayerIDs.length,layers:Ht,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:kn,sourceID:this.source,projection:this.projection.spec})).populate(hr,Et,this.tileID.canonical,this.tileTransform),_t.bucketLayerIDs.push(Ht.map(rt=>rt.id))))}}let jt,Bn,rr,dr;St.trim();const ar={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},un=()=>{if(jt)return this.status="done",ot(jt);if(this.extraShadowCaster)this.status="done",ot(null,{buckets:o.a$(nt).filter(hn=>!hn.isEmpty()),featureIndex:_t,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:Et.brightness,glyphMap:null,iconMap:null,glyphPositions:null});else if(Bn&&rr&&dr){const hn=new P(Bn),vn=new o.dF(rr,dr);for(const In in nt){const Sn=nt[In];Sn instanceof o.aE?(N(Sn.layers,this.zoom,Et.brightness,Ne),o.dG(Sn,Bn,hn.positions,rr,vn.iconPositions,this.showCollisionBoxes,Ne,this.tileID.canonical,this.tileZoom,this.projection,this.brightness)):Sn.hasPattern&&(Sn instanceof o.aK||Sn instanceof o.aL||Sn instanceof o.cH)&&(N(Sn.layers,this.zoom,Et.brightness,Ne),Sn.addFeatures(Et,this.tileID.canonical,vn.patternPositions,Ne,this.tileTransform,this.brightness))}this.status="done",ot(null,{buckets:o.a$(nt).filter(In=>!In.isEmpty()),featureIndex:_t,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:hn.image,lineAtlas:St,imageAtlas:vn,brightness:Et.brightness})}};if(!this.extraShadowCaster){const hn=o.dE(Et.glyphDependencies,Sn=>Object.keys(Sn).map(Number));Object.keys(hn).length?Xe.send("getGlyphs",{uid:this.uid,stacks:hn,scope:this.scope},(Sn,an)=>{jt||(jt=Sn,Bn=an,un())},void 0,!1,ar):Bn={};const vn=Object.keys(Et.iconDependencies);vn.length?Xe.send("getImages",{icons:vn,source:this.source,scope:this.scope,tileID:this.tileID,type:"icons"},(Sn,an)=>{jt||(jt=Sn,rr=an,un())},void 0,!1,ar):rr={};const In=Object.keys(Et.patternDependencies);In.length?Xe.send("getImages",{icons:In,source:this.source,scope:this.scope,tileID:this.tileID,type:"patterns"},(Sn,an)=>{jt||(jt=Sn,dr=an,un())},void 0,!1,ar):dr={}}un()}}function N(je,me,we,Ne){const Xe=new o.K(me,{brightness:we});for(const ot of je)ot.recalculate(Xe,Ne)}class D extends o.E{constructor(me,we,Ne,Xe,ot,st){super(),this.actor=me,this.layerIndex=we,this.availableImages=Ne,this.loadVectorData=ot||o.ah,this.loading={},this.loaded={},this.deduped=new o.af(me.scheduler),this.isSpriteLoaded=Xe,this.scheduler=me.scheduler,this.brightness=st}loadTile(me,we){const Ne=me.uid,Xe=me&&me.request,ot=Xe&&Xe.collectResourceTiming,st=this.loading[Ne]=new I(me);st.abort=this.loadVectorData(me,(_t,nt)=>{const St=!this.loading[Ne];if(delete this.loading[Ne],St||_t||!nt)return st.status="done",St||(this.loaded[Ne]=st),we(_t);const Et=nt.rawData,ft={};nt.expires&&(ft.expires=nt.expires),nt.cacheControl&&(ft.cacheControl=nt.cacheControl),st.vectorTile=nt.vectorTile||new o.dH(new o.dI(Et));const jt=()=>{st.parse(st.vectorTile,this.layerIndex,this.availableImages,this.actor,(Bn,rr)=>{if(Bn||!rr)return we(Bn);const dr={};if(ot){const ar=m(Xe);ar.length>0&&(dr.resourceTiming=JSON.parse(JSON.stringify(ar)))}we(null,o.e({rawTileData:Et.slice(0)},rr,ft,dr))})};this.isSpriteLoaded?jt():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(jt,{type:"parseTile",isSymbolTile:me.isSymbolTile,zoom:me.tileZoom}):jt()}),this.loaded=this.loaded||{},this.loaded[Ne]=st})}reloadTile(me,we){const Ne=this.loaded,Xe=me.uid,ot=this;if(Ne&&Ne[Xe]){const st=Ne[Xe];st.showCollisionBoxes=me.showCollisionBoxes,st.projection=me.projection,st.brightness=me.brightness,st.tileTransform=o.as(me.tileID.canonical,me.projection),st.extraShadowCaster=me.extraShadowCaster;const _t=(nt,St)=>{const Et=st.reloadCallback;Et&&(delete st.reloadCallback,st.parse(st.vectorTile,ot.layerIndex,this.availableImages,ot.actor,Et)),we(nt,St)};st.status==="parsing"?st.reloadCallback=_t:st.status==="done"&&(st.vectorTile?st.parse(st.vectorTile,this.layerIndex,this.availableImages,this.actor,_t):_t())}else we(null,void 0)}abortTile(me,we){const Ne=me.uid,Xe=this.loading[Ne];Xe&&(Xe.abort&&Xe.abort(),delete this.loading[Ne]),we()}removeTile(me,we){const Ne=this.loaded,Xe=me.uid;Ne&&Ne[Xe]&&delete Ne[Xe],we()}}class k{loadTile(me,we){const{uid:Ne,encoding:Xe,rawImageData:ot,padding:st}=me,_t=ImageBitmap&&ot instanceof ImageBitmap?this.getImageData(ot,st):ot;we(null,new o.dJ(Ne,_t,Xe,st<1))}getImageData(me,we){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(me.width,me.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=me.width,this.offscreenCanvas.height=me.height,this.offscreenCanvasContext.drawImage(me,0,0,me.width,me.height);const Ne=this.offscreenCanvasContext.getImageData(-we,-we,me.width+2*we,me.height+2*we);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Ne}}class F{decodeRasterArray({task:me,buffer:we},Ne){o.aZ.performDecoding(we,me).then(Xe=>{Ne(null,Xe)},Xe=>{Ne(Xe)})}}function U(je,me){if(je.length!==0){B(je[0],me);for(var we=1;we<je.length;we++)B(je[we],!me)}}function B(je,me){for(var we=0,Ne=0,Xe=0,ot=je.length,st=ot-1;Xe<ot;st=Xe++){var _t=(je[Xe][0]-je[st][0])*(je[st][1]+je[Xe][1]),nt=we+_t;Ne+=Math.abs(we)>=Math.abs(_t)?we-nt+_t:_t-nt+we,we=nt}we+Ne>=0!=!!me&&je.reverse()}var z=o.dK(function je(me,we){var Ne,Xe=me&&me.type;if(Xe==="FeatureCollection")for(Ne=0;Ne<me.features.length;Ne++)je(me.features[Ne],we);else if(Xe==="GeometryCollection")for(Ne=0;Ne<me.geometries.length;Ne++)je(me.geometries[Ne],we);else if(Xe==="Feature")je(me.geometry,we);else if(Xe==="Polygon")U(me.coordinates,we);else if(Xe==="MultiPolygon")for(Ne=0;Ne<me.coordinates.length;Ne++)U(me.coordinates[Ne],we);return me});const W=o.dL.prototype.toGeoJSON;let Y=class{constructor(je){this._feature=je,this.extent=o.V,this.type=je.type,this.properties=je.tags,"id"in je&&!isNaN(je.id)&&(this.id=parseInt(je.id,10))}loadGeometry(){if(this._feature.type===1){const je=[];for(const me of this._feature.geometry)je.push([new o.P(me[0],me[1])]);return je}{const je=[];for(const me of this._feature.geometry){const we=[];for(const Ne of me)we.push(new o.P(Ne[0],Ne[1]));je.push(we)}return je}}toGeoJSON(je,me,we){return W.call(this,je,me,we)}},K=class{constructor(je){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o.V,this.length=je.length,this._features=je}feature(je){return new Y(this._features[je])}};var ee={exports:{}},re=o.dN,oe=o.dM.VectorTileFeature,he=be;function be(je,me){this.options=me||{},this.features=je,this.length=je.length}function le(je,me){this.id=typeof je.id=="number"?je.id:void 0,this.type=je.type,this.rawGeometry=je.type===1?[je.geometry]:je.geometry,this.properties=je.tags,this.extent=me||4096}be.prototype.feature=function(je){return new le(this.features[je],this.options.extent)},le.prototype.loadGeometry=function(){var je=this.rawGeometry;this.geometry=[];for(var me=0;me<je.length;me++){for(var we=je[me],Ne=[],Xe=0;Xe<we.length;Xe++)Ne.push(new re(we[Xe][0],we[Xe][1]));this.geometry.push(Ne)}return this.geometry},le.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var je=this.geometry,me=1/0,we=-1/0,Ne=1/0,Xe=-1/0,ot=0;ot<je.length;ot++)for(var st=je[ot],_t=0;_t<st.length;_t++){var nt=st[_t];me=Math.min(me,nt.x),we=Math.max(we,nt.x),Ne=Math.min(Ne,nt.y),Xe=Math.max(Xe,nt.y)}return[me,Ne,we,Xe]},le.prototype.toGeoJSON=oe.prototype.toGeoJSON;var ye=o.dO,fe=he;function ue(je){var me=new ye;return function(we,Ne){for(var Xe in we.layers)Ne.writeMessage(3,xe,we.layers[Xe])}(je,me),me.finish()}function xe(je,me){var we;me.writeVarintField(15,je.version||1),me.writeStringField(1,je.name||""),me.writeVarintField(5,je.extent||4096);var Ne={keys:[],values:[],keycache:{},valuecache:{}};for(we=0;we<je.length;we++)Ne.feature=je.feature(we),me.writeMessage(2,ae,Ne);var Xe=Ne.keys;for(we=0;we<Xe.length;we++)me.writeStringField(3,Xe[we]);var ot=Ne.values;for(we=0;we<ot.length;we++)me.writeMessage(4,$e,ot[we])}function ae(je,me){var we=je.feature;we.id!==void 0&&me.writeVarintField(1,we.id),me.writeMessage(2,Ee,je),me.writeVarintField(3,we.type),me.writeMessage(4,ze,we)}function Ee(je,me){var we=je.feature,Ne=je.keys,Xe=je.values,ot=je.keycache,st=je.valuecache;for(var _t in we.properties){var nt=we.properties[_t],St=ot[_t];if(nt!==null){St===void 0&&(Ne.push(_t),ot[_t]=St=Ne.length-1),me.writeVarint(St);var Et=typeof nt;Et!=="string"&&Et!=="boolean"&&Et!=="number"&&(nt=JSON.stringify(nt));var ft=Et+":"+nt,jt=st[ft];jt===void 0&&(Xe.push(nt),st[ft]=jt=Xe.length-1),me.writeVarint(jt)}}}function Me(je,me){return(me<<3)+(7&je)}function de(je){return je<<1^je>>31}function ze(je,me){for(var we=je.loadGeometry(),Ne=je.type,Xe=0,ot=0,st=we.length,_t=0;_t<st;_t++){var nt=we[_t],St=1;Ne===1&&(St=nt.length),me.writeVarint(Me(1,St));for(var Et=Ne===3?nt.length-1:nt.length,ft=0;ft<Et;ft++){ft===1&&Ne!==1&&me.writeVarint(Me(2,Et-1));var jt=nt[ft].x-Xe,Bn=nt[ft].y-ot;me.writeVarint(de(jt)),me.writeVarint(de(Bn)),Xe+=jt,ot+=Bn}Ne===3&&me.writeVarint(Me(7,1))}}function $e(je,me){var we=typeof je;we==="string"?me.writeStringField(1,je):we==="boolean"?me.writeBooleanField(7,je):we==="number"&&(je%1!=0?me.writeDoubleField(3,je):je<0?me.writeSVarintField(6,je):me.writeVarintField(5,je))}ee.exports=ue,ee.exports.fromVectorTileJs=ue,ee.exports.fromGeojsonVt=function(je,me){me=me||{};var we={};for(var Ne in je)we[Ne]=new fe(je[Ne].features,me),we[Ne].name=Ne,we[Ne].version=me.version,we[Ne].extent=me.extent;return ue({layers:we})},ee.exports.GeoJSONWrapper=fe;var et=o.dK(ee.exports);const gt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:je=>je},lt=Math.fround||(We=new Float32Array(1),je=>(We[0]=+je,We[0]));var We;const qe=3,Qe=5,Ve=6;class yt{constructor(me){this.options=Object.assign(Object.create(gt),me),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(me){const{log:we,minZoom:Ne,maxZoom:Xe}=this.options;we&&console.time("total time");const ot=`prepare ${me.length} points`;we&&console.time(ot),this.points=me;const st=[];for(let nt=0;nt<me.length;nt++){const St=me[nt];if(!St.geometry)continue;const[Et,ft]=St.geometry.coordinates,jt=lt($t(Et)),Bn=lt(Jt(ft));st.push(jt,Bn,1/0,nt,-1,1),this.options.reduce&&st.push(0)}let _t=this.trees[Xe+1]=this._createTree(st);we&&console.timeEnd(ot);for(let nt=Xe;nt>=Ne;nt--){const St=+Date.now();_t=this.trees[nt]=this._createTree(this._cluster(_t,nt)),we&&console.log("z%d: %d clusters in %dms",nt,_t.numItems,+Date.now()-St)}return we&&console.timeEnd("total time"),this}getClusters(me,we){let Ne=((me[0]+180)%360+360)%360-180;const Xe=Math.max(-90,Math.min(90,me[1]));let ot=me[2]===180?180:((me[2]+180)%360+360)%360-180;const st=Math.max(-90,Math.min(90,me[3]));if(me[2]-me[0]>=360)Ne=-180,ot=180;else if(Ne>ot){const ft=this.getClusters([Ne,Xe,180,st],we),jt=this.getClusters([-180,Xe,ot,st],we);return ft.concat(jt)}const _t=this.trees[this._limitZoom(we)],nt=_t.range($t(Ne),Jt(st),$t(ot),Jt(Xe)),St=_t.data,Et=[];for(const ft of nt){const jt=this.stride*ft;Et.push(St[jt+Qe]>1?it(St,jt,this.clusterProps):this.points[St[jt+qe]])}return Et}getChildren(me){const we=this._getOriginId(me),Ne=this._getOriginZoom(me),Xe="No cluster with the specified id.",ot=this.trees[Ne];if(!ot)throw new Error(Xe);const st=ot.data;if(we*this.stride>=st.length)throw new Error(Xe);const _t=this.options.radius/(this.options.extent*Math.pow(2,Ne-1)),nt=ot.within(st[we*this.stride],st[we*this.stride+1],_t),St=[];for(const Et of nt){const ft=Et*this.stride;st[ft+4]===me&&St.push(st[ft+Qe]>1?it(st,ft,this.clusterProps):this.points[st[ft+qe]])}if(St.length===0)throw new Error(Xe);return St}getLeaves(me,we,Ne){const Xe=[];return this._appendLeaves(Xe,me,we=we||10,Ne=Ne||0,0),Xe}getTile(me,we,Ne){const Xe=this.trees[this._limitZoom(me)],ot=Math.pow(2,me),{extent:st,radius:_t}=this.options,nt=_t/st,St=(Ne-nt)/ot,Et=(Ne+1+nt)/ot,ft={features:[]};return this._addTileFeatures(Xe.range((we-nt)/ot,St,(we+1+nt)/ot,Et),Xe.data,we,Ne,ot,ft),we===0&&this._addTileFeatures(Xe.range(1-nt/ot,St,1,Et),Xe.data,ot,Ne,ot,ft),we===ot-1&&this._addTileFeatures(Xe.range(0,St,nt/ot,Et),Xe.data,-1,Ne,ot,ft),ft.features.length?ft:null}getClusterExpansionZoom(me){let we=this._getOriginZoom(me)-1;for(;we<=this.options.maxZoom;){const Ne=this.getChildren(me);if(we++,Ne.length!==1)break;me=Ne[0].properties.cluster_id}return we}_appendLeaves(me,we,Ne,Xe,ot){const st=this.getChildren(we);for(const _t of st){const nt=_t.properties;if(nt&&nt.cluster?ot+nt.point_count<=Xe?ot+=nt.point_count:ot=this._appendLeaves(me,nt.cluster_id,Ne,Xe,ot):ot<Xe?ot++:me.push(_t),me.length===Ne)break}return ot}_createTree(me){const we=new o.bg(me.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Ne=0;Ne<me.length;Ne+=this.stride)we.add(me[Ne],me[Ne+1]);return we.finish(),we.data=me,we}_addTileFeatures(me,we,Ne,Xe,ot,st){for(const _t of me){const nt=_t*this.stride,St=we[nt+Qe]>1;let Et,ft,jt;if(St)Et=pt(we,nt,this.clusterProps),ft=we[nt],jt=we[nt+1];else{const dr=this.points[we[nt+qe]];Et=dr.properties;const[ar,un]=dr.geometry.coordinates;ft=$t(ar),jt=Jt(un)}const Bn={type:1,geometry:[[Math.round(this.options.extent*(ft*ot-Ne)),Math.round(this.options.extent*(jt*ot-Xe))]],tags:Et};let rr;rr=St||this.options.generateId?we[nt+qe]:this.points[we[nt+qe]].id,rr!==void 0&&(Bn.id=rr),st.features.push(Bn)}}_limitZoom(me){return Math.max(this.options.minZoom,Math.min(Math.floor(+me),this.options.maxZoom+1))}_cluster(me,we){const{radius:Ne,extent:Xe,reduce:ot,minPoints:st}=this.options,_t=Ne/(Xe*Math.pow(2,we)),nt=me.data,St=[],Et=this.stride;for(let ft=0;ft<nt.length;ft+=Et){if(nt[ft+2]<=we)continue;nt[ft+2]=we;const jt=nt[ft],Bn=nt[ft+1],rr=me.within(nt[ft],nt[ft+1],_t),dr=nt[ft+Qe];let ar=dr;for(const un of rr){const hn=un*Et;nt[hn+2]>we&&(ar+=nt[hn+Qe])}if(ar>dr&&ar>=st){let un,hn=jt*dr,vn=Bn*dr,In=-1;const Sn=(ft/Et<<5)+(we+1)+this.points.length;for(const an of rr){const kn=an*Et;if(nt[kn+2]<=we)continue;nt[kn+2]=we;const hr=nt[kn+Qe];hn+=nt[kn]*hr,vn+=nt[kn+1]*hr,nt[kn+4]=Sn,ot&&(un||(un=this._map(nt,ft,!0),In=this.clusterProps.length,this.clusterProps.push(un)),ot(un,this._map(nt,kn)))}nt[ft+4]=Sn,St.push(hn/ar,vn/ar,1/0,Sn,-1,ar),ot&&St.push(In)}else{for(let un=0;un<Et;un++)St.push(nt[ft+un]);if(ar>1)for(const un of rr){const hn=un*Et;if(!(nt[hn+2]<=we)){nt[hn+2]=we;for(let vn=0;vn<Et;vn++)St.push(nt[hn+vn])}}}}return St}_getOriginId(me){return me-this.points.length>>5}_getOriginZoom(me){return(me-this.points.length)%32}_map(me,we,Ne){if(me[we+Qe]>1){const st=this.clusterProps[me[we+Ve]];return Ne?Object.assign({},st):st}const Xe=this.points[me[we+qe]].properties,ot=this.options.map(Xe);return Ne&&ot===Xe?Object.assign({},ot):ot}}function it(je,me,we){return{type:"Feature",id:je[me+qe],properties:pt(je,me,we),geometry:{type:"Point",coordinates:[(Ne=je[me],360*(Ne-.5)),on(je[me+1])]}};var Ne}function pt(je,me,we){const Ne=je[me+Qe],Xe=Ne>=1e4?`${Math.round(Ne/1e3)}k`:Ne>=1e3?Math.round(Ne/100)/10+"k":Ne,ot=je[me+Ve],st=ot===-1?{}:Object.assign({},we[ot]);return Object.assign(st,{cluster:!0,cluster_id:je[me+qe],point_count:Ne,point_count_abbreviated:Xe})}function $t(je){return je/360+.5}function Jt(je){const me=Math.sin(je*Math.PI/180),we=.5-.25*Math.log((1+me)/(1-me))/Math.PI;return we<0?0:we>1?1:we}function on(je){const me=(180-360*je)*Math.PI/180;return 360*Math.atan(Math.exp(me))/Math.PI-90}var ln={exports:{}};ln.exports=function(){function je(rt,ut,Tt,Rt){for(var Gt,Qt=Rt,zt=Tt-ut>>1,dt=Tt-ut,At=rt[ut],kt=rt[ut+1],Cn=rt[Tt],$n=rt[Tt+1],_n=ut+3;_n<Tt;_n+=3){var sr=me(rt[_n],rt[_n+1],At,kt,Cn,$n);if(sr>Qt)Gt=_n,Qt=sr;else if(sr===Qt){var zr=Math.abs(_n-zt);zr<dt&&(Gt=_n,dt=zr)}}Qt>Rt&&(Gt-ut>3&&je(rt,ut,Gt,Rt),rt[Gt+2]=Qt,Tt-Gt>3&&je(rt,Gt,Tt,Rt))}function me(rt,ut,Tt,Rt,Gt,Qt){var zt=Gt-Tt,dt=Qt-Rt;if(zt!==0||dt!==0){var At=((rt-Tt)*zt+(ut-Rt)*dt)/(zt*zt+dt*dt);At>1?(Tt=Gt,Rt=Qt):At>0&&(Tt+=zt*At,Rt+=dt*At)}return(zt=rt-Tt)*zt+(dt=ut-Rt)*dt}function we(rt,ut,Tt,Rt){var Gt={id:rt===void 0?null:rt,type:ut,geometry:Tt,tags:Rt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Qt){var zt=Qt.geometry,dt=Qt.type;if(dt==="Point"||dt==="MultiPoint"||dt==="LineString")Ne(Qt,zt);else if(dt==="Polygon"||dt==="MultiLineString")for(var At=0;At<zt.length;At++)Ne(Qt,zt[At]);else if(dt==="MultiPolygon")for(At=0;At<zt.length;At++)for(var kt=0;kt<zt[At].length;kt++)Ne(Qt,zt[At][kt])}(Gt),Gt}function Ne(rt,ut){for(var Tt=0;Tt<ut.length;Tt+=3)rt.minX=Math.min(rt.minX,ut[Tt]),rt.minY=Math.min(rt.minY,ut[Tt+1]),rt.maxX=Math.max(rt.maxX,ut[Tt]),rt.maxY=Math.max(rt.maxY,ut[Tt+1])}function Xe(rt,ut,Tt,Rt){if(ut.geometry){var Gt=ut.geometry.coordinates,Qt=ut.geometry.type,zt=Math.pow(Tt.tolerance/((1<<Tt.maxZoom)*Tt.extent),2),dt=[],At=ut.id;if(Tt.promoteId?At=ut.properties[Tt.promoteId]:Tt.generateId&&(At=Rt||0),Qt==="Point")ot(Gt,dt);else if(Qt==="MultiPoint")for(var kt=0;kt<Gt.length;kt++)ot(Gt[kt],dt);else if(Qt==="LineString")st(Gt,dt,zt,!1);else if(Qt==="MultiLineString"){if(Tt.lineMetrics){for(kt=0;kt<Gt.length;kt++)st(Gt[kt],dt=[],zt,!1),rt.push(we(At,"LineString",dt,ut.properties));return}_t(Gt,dt,zt,!1)}else if(Qt==="Polygon")_t(Gt,dt,zt,!0);else{if(Qt!=="MultiPolygon"){if(Qt==="GeometryCollection"){for(kt=0;kt<ut.geometry.geometries.length;kt++)Xe(rt,{id:At,geometry:ut.geometry.geometries[kt],properties:ut.properties},Tt,Rt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(kt=0;kt<Gt.length;kt++){var Cn=[];_t(Gt[kt],Cn,zt,!0),dt.push(Cn)}}rt.push(we(At,Qt,dt,ut.properties))}}function ot(rt,ut){ut.push(nt(rt[0])),ut.push(St(rt[1])),ut.push(0)}function st(rt,ut,Tt,Rt){for(var Gt,Qt,zt=0,dt=0;dt<rt.length;dt++){var At=nt(rt[dt][0]),kt=St(rt[dt][1]);ut.push(At),ut.push(kt),ut.push(0),dt>0&&(zt+=Rt?(Gt*kt-At*Qt)/2:Math.sqrt(Math.pow(At-Gt,2)+Math.pow(kt-Qt,2))),Gt=At,Qt=kt}var Cn=ut.length-3;ut[2]=1,je(ut,0,Cn,Tt),ut[Cn+2]=1,ut.size=Math.abs(zt),ut.start=0,ut.end=ut.size}function _t(rt,ut,Tt,Rt){for(var Gt=0;Gt<rt.length;Gt++){var Qt=[];st(rt[Gt],Qt,Tt,Rt),ut.push(Qt)}}function nt(rt){return rt/360+.5}function St(rt){var ut=Math.sin(rt*Math.PI/180),Tt=.5-.25*Math.log((1+ut)/(1-ut))/Math.PI;return Tt<0?0:Tt>1?1:Tt}function Et(rt,ut,Tt,Rt,Gt,Qt,zt,dt){if(Rt/=ut,Qt>=(Tt/=ut)&&zt<Rt)return rt;if(zt<Tt||Qt>=Rt)return null;for(var At=[],kt=0;kt<rt.length;kt++){var Cn=rt[kt],$n=Cn.geometry,_n=Cn.type,sr=Gt===0?Cn.minX:Cn.minY,zr=Gt===0?Cn.maxX:Cn.maxY;if(sr>=Tt&&zr<Rt)At.push(Cn);else if(!(zr<Tt||sr>=Rt)){var cn=[];if(_n==="Point"||_n==="MultiPoint")ft($n,cn,Tt,Rt,Gt);else if(_n==="LineString")jt($n,cn,Tt,Rt,Gt,!1,dt.lineMetrics);else if(_n==="MultiLineString")rr($n,cn,Tt,Rt,Gt,!1);else if(_n==="Polygon")rr($n,cn,Tt,Rt,Gt,!0);else if(_n==="MultiPolygon")for(var Nn=0;Nn<$n.length;Nn++){var pr=[];rr($n[Nn],pr,Tt,Rt,Gt,!0),pr.length&&cn.push(pr)}if(cn.length){if(dt.lineMetrics&&_n==="LineString"){for(Nn=0;Nn<cn.length;Nn++)At.push(we(Cn.id,_n,cn[Nn],Cn.tags));continue}_n!=="LineString"&&_n!=="MultiLineString"||(cn.length===1?(_n="LineString",cn=cn[0]):_n="MultiLineString"),_n!=="Point"&&_n!=="MultiPoint"||(_n=cn.length===3?"Point":"MultiPoint"),At.push(we(Cn.id,_n,cn,Cn.tags))}}}return At.length?At:null}function ft(rt,ut,Tt,Rt,Gt){for(var Qt=0;Qt<rt.length;Qt+=3){var zt=rt[Qt+Gt];zt>=Tt&&zt<=Rt&&(ut.push(rt[Qt]),ut.push(rt[Qt+1]),ut.push(rt[Qt+2]))}}function jt(rt,ut,Tt,Rt,Gt,Qt,zt){for(var dt,At,kt=Bn(rt),Cn=Gt===0?ar:un,$n=rt.start,_n=0;_n<rt.length-3;_n+=3){var sr=rt[_n],zr=rt[_n+1],cn=rt[_n+2],Nn=rt[_n+3],pr=rt[_n+4],qn=Gt===0?sr:zr,li=Gt===0?Nn:pr,Po=!1;zt&&(dt=Math.sqrt(Math.pow(sr-Nn,2)+Math.pow(zr-pr,2))),qn<Tt?li>Tt&&(At=Cn(kt,sr,zr,Nn,pr,Tt),zt&&(kt.start=$n+dt*At)):qn>Rt?li<Rt&&(At=Cn(kt,sr,zr,Nn,pr,Rt),zt&&(kt.start=$n+dt*At)):dr(kt,sr,zr,cn),li<Tt&&qn>=Tt&&(At=Cn(kt,sr,zr,Nn,pr,Tt),Po=!0),li>Rt&&qn<=Rt&&(At=Cn(kt,sr,zr,Nn,pr,Rt),Po=!0),!Qt&&Po&&(zt&&(kt.end=$n+dt*At),ut.push(kt),kt=Bn(rt)),zt&&($n+=dt)}var wi=rt.length-3;sr=rt[wi],zr=rt[wi+1],cn=rt[wi+2],(qn=Gt===0?sr:zr)>=Tt&&qn<=Rt&&dr(kt,sr,zr,cn),wi=kt.length-3,Qt&&wi>=3&&(kt[wi]!==kt[0]||kt[wi+1]!==kt[1])&&dr(kt,kt[0],kt[1],kt[2]),kt.length&&ut.push(kt)}function Bn(rt){var ut=[];return ut.size=rt.size,ut.start=rt.start,ut.end=rt.end,ut}function rr(rt,ut,Tt,Rt,Gt,Qt){for(var zt=0;zt<rt.length;zt++)jt(rt[zt],ut,Tt,Rt,Gt,Qt,!1)}function dr(rt,ut,Tt,Rt){rt.push(ut),rt.push(Tt),rt.push(Rt)}function ar(rt,ut,Tt,Rt,Gt,Qt){var zt=(Qt-ut)/(Rt-ut);return rt.push(Qt),rt.push(Tt+(Gt-Tt)*zt),rt.push(1),zt}function un(rt,ut,Tt,Rt,Gt,Qt){var zt=(Qt-Tt)/(Gt-Tt);return rt.push(ut+(Rt-ut)*zt),rt.push(Qt),rt.push(1),zt}function hn(rt,ut){for(var Tt=[],Rt=0;Rt<rt.length;Rt++){var Gt,Qt=rt[Rt],zt=Qt.type;if(zt==="Point"||zt==="MultiPoint"||zt==="LineString")Gt=vn(Qt.geometry,ut);else if(zt==="MultiLineString"||zt==="Polygon"){Gt=[];for(var dt=0;dt<Qt.geometry.length;dt++)Gt.push(vn(Qt.geometry[dt],ut))}else if(zt==="MultiPolygon")for(Gt=[],dt=0;dt<Qt.geometry.length;dt++){for(var At=[],kt=0;kt<Qt.geometry[dt].length;kt++)At.push(vn(Qt.geometry[dt][kt],ut));Gt.push(At)}Tt.push(we(Qt.id,zt,Gt,Qt.tags))}return Tt}function vn(rt,ut){var Tt=[];Tt.size=rt.size,rt.start!==void 0&&(Tt.start=rt.start,Tt.end=rt.end);for(var Rt=0;Rt<rt.length;Rt+=3)Tt.push(rt[Rt]+ut,rt[Rt+1],rt[Rt+2]);return Tt}function In(rt,ut){if(rt.transformed)return rt;var Tt,Rt,Gt,Qt=1<<rt.z,zt=rt.x,dt=rt.y;for(Tt=0;Tt<rt.features.length;Tt++){var At=rt.features[Tt],kt=At.geometry,Cn=At.type;if(At.geometry=[],Cn===1)for(Rt=0;Rt<kt.length;Rt+=2)At.geometry.push(Sn(kt[Rt],kt[Rt+1],ut,Qt,zt,dt));else for(Rt=0;Rt<kt.length;Rt++){var $n=[];for(Gt=0;Gt<kt[Rt].length;Gt+=2)$n.push(Sn(kt[Rt][Gt],kt[Rt][Gt+1],ut,Qt,zt,dt));At.geometry.push($n)}}return rt.transformed=!0,rt}function Sn(rt,ut,Tt,Rt,Gt,Qt){return[Math.round(Tt*(rt*Rt-Gt)),Math.round(Tt*(ut*Rt-Qt))]}function an(rt,ut,Tt,Rt,Gt){for(var Qt=ut===Gt.maxZoom?0:Gt.tolerance/((1<<ut)*Gt.extent),zt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Tt,y:Rt,z:ut,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},dt=0;dt<rt.length;dt++){zt.numFeatures++,kn(zt,rt[dt],Qt,Gt);var At=rt[dt].minX,kt=rt[dt].minY,Cn=rt[dt].maxX,$n=rt[dt].maxY;At<zt.minX&&(zt.minX=At),kt<zt.minY&&(zt.minY=kt),Cn>zt.maxX&&(zt.maxX=Cn),$n>zt.maxY&&(zt.maxY=$n)}return zt}function kn(rt,ut,Tt,Rt){var Gt=ut.geometry,Qt=ut.type,zt=[];if(Qt==="Point"||Qt==="MultiPoint")for(var dt=0;dt<Gt.length;dt+=3)zt.push(Gt[dt]),zt.push(Gt[dt+1]),rt.numPoints++,rt.numSimplified++;else if(Qt==="LineString")hr(zt,Gt,rt,Tt,!1,!1);else if(Qt==="MultiLineString"||Qt==="Polygon")for(dt=0;dt<Gt.length;dt++)hr(zt,Gt[dt],rt,Tt,Qt==="Polygon",dt===0);else if(Qt==="MultiPolygon")for(var At=0;At<Gt.length;At++){var kt=Gt[At];for(dt=0;dt<kt.length;dt++)hr(zt,kt[dt],rt,Tt,!0,dt===0)}if(zt.length){var Cn=ut.tags||null;if(Qt==="LineString"&&Rt.lineMetrics){for(var $n in Cn={},ut.tags)Cn[$n]=ut.tags[$n];Cn.mapbox_clip_start=Gt.start/Gt.size,Cn.mapbox_clip_end=Gt.end/Gt.size}var _n={geometry:zt,type:Qt==="Polygon"||Qt==="MultiPolygon"?3:Qt==="LineString"||Qt==="MultiLineString"?2:1,tags:Cn};ut.id!==null&&(_n.id=ut.id),rt.features.push(_n)}}function hr(rt,ut,Tt,Rt,Gt,Qt){var zt=Rt*Rt;if(Rt>0&&ut.size<(Gt?zt:Rt))Tt.numPoints+=ut.length/3;else{for(var dt=[],At=0;At<ut.length;At+=3)(Rt===0||ut[At+2]>zt)&&(Tt.numSimplified++,dt.push(ut[At]),dt.push(ut[At+1])),Tt.numPoints++;Gt&&function(kt,Cn){for(var $n=0,_n=0,sr=kt.length,zr=sr-2;_n<sr;zr=_n,_n+=2)$n+=(kt[_n]-kt[zr])*(kt[_n+1]+kt[zr+1]);if($n>0===Cn)for(_n=0,sr=kt.length;_n<sr/2;_n+=2){var cn=kt[_n],Nn=kt[_n+1];kt[_n]=kt[sr-2-_n],kt[_n+1]=kt[sr-1-_n],kt[sr-2-_n]=cn,kt[sr-1-_n]=Nn}}(dt,Qt),rt.push(dt)}}function Ht(rt,ut){var Tt=(ut=this.options=function(Gt,Qt){for(var zt in Qt)Gt[zt]=Qt[zt];return Gt}(Object.create(this.options),ut)).debug;if(Tt&&console.time("preprocess data"),ut.maxZoom<0||ut.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ut.promoteId&&ut.generateId)throw new Error("promoteId and generateId cannot be used together.");var Rt=function(Gt,Qt){var zt=[];if(Gt.type==="FeatureCollection")for(var dt=0;dt<Gt.features.length;dt++)Xe(zt,Gt.features[dt],Qt,dt);else Xe(zt,Gt.type==="Feature"?Gt:{geometry:Gt},Qt);return zt}(rt,ut);this.tiles={},this.tileCoords=[],Tt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ut.indexMaxZoom,ut.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Rt=function(Gt,Qt){var zt=Qt.buffer/Qt.extent,dt=Gt,At=Et(Gt,1,-1-zt,zt,0,-1,2,Qt),kt=Et(Gt,1,1-zt,2+zt,0,-1,2,Qt);return(At||kt)&&(dt=Et(Gt,1,-zt,1+zt,0,-1,2,Qt)||[],At&&(dt=hn(At,1).concat(dt)),kt&&(dt=dt.concat(hn(kt,-1)))),dt}(Rt,ut)).length&&this.splitTile(Rt,0,0,0),Tt&&(Rt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Un(rt,ut,Tt){return 32*((1<<rt)*Tt+ut)+rt}return Ht.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ht.prototype.splitTile=function(rt,ut,Tt,Rt,Gt,Qt,zt){for(var dt=[rt,ut,Tt,Rt],At=this.options,kt=At.debug;dt.length;){Rt=dt.pop(),Tt=dt.pop(),ut=dt.pop(),rt=dt.pop();var Cn=1<<ut,$n=Un(ut,Tt,Rt),_n=this.tiles[$n];if(!_n&&(kt>1&&console.time("creation"),_n=this.tiles[$n]=an(rt,ut,Tt,Rt,At),this.tileCoords.push({z:ut,x:Tt,y:Rt}),kt)){kt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ut,Tt,Rt,_n.numFeatures,_n.numPoints,_n.numSimplified),console.timeEnd("creation"));var sr="z"+ut;this.stats[sr]=(this.stats[sr]||0)+1,this.total++}if(_n.source=rt,Gt){if(ut===At.maxZoom||ut===Gt)continue;var zr=1<<Gt-ut;if(Tt!==Math.floor(Qt/zr)||Rt!==Math.floor(zt/zr))continue}else if(ut===At.indexMaxZoom||_n.numPoints<=At.indexMaxPoints)continue;if(_n.source=null,rt.length!==0){kt>1&&console.time("clipping");var cn,Nn,pr,qn,li,Po,wi=.5*At.buffer/At.extent,ss=.5-wi,$o=.5+wi,xa=1+wi;cn=Nn=pr=qn=null,li=Et(rt,Cn,Tt-wi,Tt+$o,0,_n.minX,_n.maxX,At),Po=Et(rt,Cn,Tt+ss,Tt+xa,0,_n.minX,_n.maxX,At),rt=null,li&&(cn=Et(li,Cn,Rt-wi,Rt+$o,1,_n.minY,_n.maxY,At),Nn=Et(li,Cn,Rt+ss,Rt+xa,1,_n.minY,_n.maxY,At),li=null),Po&&(pr=Et(Po,Cn,Rt-wi,Rt+$o,1,_n.minY,_n.maxY,At),qn=Et(Po,Cn,Rt+ss,Rt+xa,1,_n.minY,_n.maxY,At),Po=null),kt>1&&console.timeEnd("clipping"),dt.push(cn||[],ut+1,2*Tt,2*Rt),dt.push(Nn||[],ut+1,2*Tt,2*Rt+1),dt.push(pr||[],ut+1,2*Tt+1,2*Rt),dt.push(qn||[],ut+1,2*Tt+1,2*Rt+1)}}},Ht.prototype.getTile=function(rt,ut,Tt){var Rt=this.options,Gt=Rt.extent,Qt=Rt.debug;if(rt<0||rt>24)return null;var zt=1<<rt,dt=Un(rt,ut=(ut%zt+zt)%zt,Tt);if(this.tiles[dt])return In(this.tiles[dt],Gt);Qt>1&&console.log("drilling down to z%d-%d-%d",rt,ut,Tt);for(var At,kt=rt,Cn=ut,$n=Tt;!At&&kt>0;)kt--,Cn=Math.floor(Cn/2),$n=Math.floor($n/2),At=this.tiles[Un(kt,Cn,$n)];return At&&At.source?(Qt>1&&console.log("found parent tile z%d-%d-%d",kt,Cn,$n),Qt>1&&console.time("drilling down"),this.splitTile(At.source,kt,Cn,$n,rt,ut,Tt),Qt>1&&console.timeEnd("drilling down"),this.tiles[dt]?In(this.tiles[dt],Gt):null):null},function(rt,ut){return new Ht(rt,ut)}}();var Lt=o.dK(ln.exports);function en(je,me){const we=je.tileID.canonical;if(!this._geoJSONIndex)return me(null,null);const Ne=this._geoJSONIndex.getTile(we.z,we.x,we.y);if(!Ne)return me(null,null);const Xe=new K(Ne.features);let ot=et(Xe);ot.byteOffset===0&&ot.byteLength===ot.buffer.byteLength||(ot=new Uint8Array(ot)),me(null,{vectorTile:Xe,rawData:ot.buffer})}class Kt extends D{constructor(me,we,Ne,Xe,ot,st){super(me,we,Ne,Xe,en,st),ot&&(this.loadGeoJSON=ot)}loadData(me,we){const Ne=me&&me.request,Xe=Ne&&Ne.collectResourceTiming;this.loadGeoJSON(me,(ot,st)=>{if(ot||!st)return we(ot);if(typeof st!="object")return we(new Error(`Input data given to '${me.source}' is not a valid GeoJSON object.`));{z(st,!0);try{if(me.filter){const nt=o.r(me.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(nt.result==="error")throw new Error(nt.value.map(Et=>`${Et.key}: ${Et.message}`).join(", "));st={type:"FeatureCollection",features:st.features.filter(Et=>nt.value.evaluate({zoom:0},Et))}}this._geoJSONIndex=me.cluster?new yt(function({superclusterOptions:nt,clusterProperties:St}){if(!St||!nt)return nt;const Et={},ft={},jt={accumulated:null,zoom:0},Bn={properties:null},rr=Object.keys(St);for(const dr of rr){const[ar,un]=St[dr],hn=o.r(un),vn=o.r(typeof ar=="string"?[ar,["accumulated"],["get",dr]]:ar);Et[dr]=hn.value,ft[dr]=vn.value}return nt.map=dr=>{Bn.properties=dr;const ar={};for(const un of rr)ar[un]=Et[un].evaluate(jt,Bn);return ar},nt.reduce=(dr,ar)=>{Bn.properties=ar;for(const un of rr)jt.accumulated=dr[un],dr[un]=ft[un].evaluate(jt,Bn)},nt}(me)).load(st.features):Lt(st,me.geojsonVtOptions)}catch(nt){return we(nt)}this.loaded={};const _t={};if(Xe){const nt=m(Ne);nt&&(_t.resourceTiming={},_t.resourceTiming[me.source]=JSON.parse(JSON.stringify(nt)))}we(null,_t)}})}reloadTile(me,we){const Ne=this.loaded;return Ne&&Ne[me.uid]?super.reloadTile(me,we):this.loadTile(me,we)}loadGeoJSON(me,we){if(me.request)o.g(me.request,we);else{if(typeof me.data!="string")return we(new Error(`Input data given to '${me.source}' is not a valid GeoJSON object.`));try{return we(null,JSON.parse(me.data))}catch{return we(new Error(`Input data given to '${me.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(me,we){try{we(null,this._geoJSONIndex.getClusterExpansionZoom(me.clusterId))}catch(Ne){we(Ne)}}getClusterChildren(me,we){try{we(null,this._geoJSONIndex.getChildren(me.clusterId))}catch(Ne){we(Ne)}}getClusterLeaves(me,we){try{we(null,this._geoJSONIndex.getLeaves(me.clusterId,me.limit,me.offset))}catch(Ne){we(Ne)}}}class Zt{constructor(me,we){this.tileID=new o.am(me.tileID.overscaledZ,me.tileID.wrap,me.tileID.canonical.z,me.tileID.canonical.x,me.tileID.canonical.y),this.tileZoom=me.tileZoom,this.uid=me.uid,this.zoom=me.zoom,this.canonical=me.tileID.canonical,this.pixelRatio=me.pixelRatio,this.tileSize=me.tileSize,this.source=me.source,this.overscaling=this.tileID.overscaleFactor(),this.projection=me.projection,this.brightness=we}parse(me,we,Ne,Xe){this.status="parsing";const ot=new o.am(Ne.tileID.overscaledZ,Ne.tileID.wrap,Ne.tileID.canonical.z,Ne.tileID.canonical.x,Ne.tileID.canonical.y),st={},_t=we.familiesBySource[Ne.source],nt=new o.dC(ot,Ne.promoteId);return nt.bucketLayerIDs=[],nt.is3DTile=!0,o.dP(me).then(St=>{if(!St)return Xe(new Error("Could not parse tile"));const Et=o.dQ(St,1/o.bR(Ne.tileID.canonical)),ft=St.json.extensionsUsed&&St.json.extensionsUsed.includes("MAPBOX_mesh_features")||St.json.asset.extras&&St.json.asset.extras.MAPBOX_mesh_features,jt=St.json.extensionsUsed&&St.json.extensionsUsed.includes("EXT_meshopt_compression"),Bn=new o.K(this.zoom,{brightness:this.brightness});for(const rr in _t)for(const dr of _t[rr]){const ar=dr[0];nt.bucketLayerIDs.push(dr.map(hn=>hn.id)),ar.recalculate(Bn,[]);const un=new o.dR(Et,ot,ft,jt,this.brightness,nt);ft||(un.needsUpload=!0),st[ar.fqid]=un,un.evaluate(ar)}this.status="done",Xe(null,{buckets:st,featureIndex:nt})}).catch(St=>Xe(new Error(St.message)))}}class En{constructor(me,we,Ne,Xe,ot,st){this.actor=me,this.layerIndex=we,this.brightness=st,this.loading={},this.loaded={}}loadTile(me,we){const Ne=me.uid,Xe=this.loading[Ne]=new Zt(me,this.brightness);o.a_(me.request,(ot,st)=>{const _t=!this.loading[Ne];return delete this.loading[Ne],_t||ot?(Xe.status="done",_t||(this.loaded[Ne]=Xe),we(ot)):st&&st.byteLength!==0?void Xe.parse(st,this.layerIndex,me,(nt,St)=>{Xe.status="done",this.loaded=this.loaded||{},this.loaded[Ne]=Xe,nt||!St?we(nt):we(null,St)}):(Xe.status="done",this.loaded[Ne]=Xe,we())})}reloadTile(me,we){const Ne=this.loaded,Xe=me.uid;if(Ne&&Ne[Xe]){const ot=Ne[Xe];ot.projection=me.projection,ot.brightness=me.brightness;const st=(_t,nt)=>{ot.reloadCallback&&(delete ot.reloadCallback,this.loadTile(me,we)),we(_t,nt)};ot.status==="parsing"?ot.reloadCallback=st:ot.status==="done"&&this.loadTile(me,we)}}abortTile(me,we){const Ne=me.uid;this.loading[Ne]&&delete this.loading[Ne],we()}removeTile(me,we){const Ne=this.loaded,Xe=me.uid;Ne&&Ne[Xe]&&delete Ne[Xe],we()}}class Fn{constructor(me){this.self=me,this.actor=new o.dS(me,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=o.bo({name:"mercator"}),this.workerSourceTypes={vector:D,geojson:Kt,"batched-model":En},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(we,Ne)=>{if(this.workerSourceTypes[we])throw new Error(`Worker source with name "${we}" already registered.`);this.workerSourceTypes[we]=Ne},this.self.registerRTLTextPlugin=we=>{if(o.dT.isParsed())throw new Error("RTL text plugin already registered.");o.dT.applyArabicShaping=we.applyArabicShaping,o.dT.processBidirectionalText=we.processBidirectionalText,o.dT.processStyledBidirectionalText=we.processStyledBidirectionalText}}clearCaches(me,we,Ne){delete this.layerIndexes[me],delete this.availableImages[me],delete this.workerSources[me],delete this.demWorkerSources[me],delete this.rasterArrayWorkerSource,Ne()}checkIfReady(me,we,Ne){Ne()}setReferrer(me,we){this.referrer=we}spriteLoaded(me,{scope:we,isLoaded:Ne}){if(this.isSpriteLoaded[me]||(this.isSpriteLoaded[me]={}),this.isSpriteLoaded[me][we]=Ne,this.workerSources[me]&&this.workerSources[me][we])for(const Xe in this.workerSources[me][we]){const ot=this.workerSources[me][we][Xe];for(const st in ot)ot[st]instanceof D&&(ot[st].isSpriteLoaded=Ne,ot[st].fire(new o.b("isSpriteLoaded")))}}setImages(me,{scope:we,images:Ne},Xe){if(this.availableImages[me]||(this.availableImages[me]={}),this.availableImages[me][we]=Ne,this.workerSources[me]&&this.workerSources[me][we]){for(const ot in this.workerSources[me][we]){const st=this.workerSources[me][we][ot];for(const _t in st)st[_t].availableImages=Ne}Xe()}else Xe()}setProjection(me,we){this.projections[me]=o.bo(we)}setBrightness(me,we,Ne){this.brightness=we,Ne()}setLayers(me,we,Ne){this.getLayerIndex(me,we.scope).replace(we.layers,we.options),Ne()}updateLayers(me,we,Ne){this.getLayerIndex(me,we.scope).update(we.layers,we.removedIds,we.options),Ne()}loadTile(me,we,Ne){we.projection=this.projections[me]||this.defaultProjection,this.getWorkerSource(me,we.type,we.source,we.scope).loadTile(we,Ne)}loadDEMTile(me,we,Ne){this.getDEMWorkerSource(me,we.source,we.scope).loadTile(we,Ne)}decodeRasterArray(me,we,Ne){this.getRasterArrayWorkerSource().decodeRasterArray(we,Ne)}reloadTile(me,we,Ne){we.projection=this.projections[me]||this.defaultProjection,this.getWorkerSource(me,we.type,we.source,we.scope).reloadTile(we,Ne)}abortTile(me,we,Ne){this.getWorkerSource(me,we.type,we.source,we.scope).abortTile(we,Ne)}removeTile(me,we,Ne){this.getWorkerSource(me,we.type,we.source,we.scope).removeTile(we,Ne)}removeSource(me,we,Ne){if(!(this.workerSources[me]&&this.workerSources[me][we.scope]&&this.workerSources[me][we.scope][we.type]&&this.workerSources[me][we.scope][we.type][we.source]))return;const Xe=this.workerSources[me][we.scope][we.type][we.source];delete this.workerSources[me][we.scope][we.type][we.source],Xe.removeSource!==void 0?Xe.removeSource(we,Ne):Ne()}loadWorkerSource(me,we,Ne){try{this.self.importScripts(we.url),Ne()}catch(Xe){Ne(Xe.toString())}}syncRTLPluginState(me,we,Ne){try{o.dT.setState(we);const Xe=o.dT.getPluginURL();if(o.dT.isLoaded()&&!o.dT.isParsed()&&Xe!=null){this.self.importScripts(Xe);const ot=o.dT.isParsed();Ne(ot?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Xe}`),ot)}}catch(Xe){Ne(Xe.toString())}}setDracoUrl(me,we){this.dracoUrl=we}getAvailableImages(me,we){this.availableImages[me]||(this.availableImages[me]={});let Ne=this.availableImages[me][we];return Ne||(Ne=[]),Ne}getLayerIndex(me,we){this.layerIndexes[me]||(this.layerIndexes[me]={});let Ne=this.layerIndexes[me][we];return Ne||(Ne=this.layerIndexes[me][we]=new S,Ne.scope=we),Ne}getWorkerSource(me,we,Ne,Xe){if(this.workerSources[me]||(this.workerSources[me]={}),this.workerSources[me][Xe]||(this.workerSources[me][Xe]={}),this.workerSources[me][Xe][we]||(this.workerSources[me][Xe][we]={}),this.isSpriteLoaded[me]||(this.isSpriteLoaded[me]={}),!this.workerSources[me][Xe][we][Ne]){const ot={send:(st,_t,nt,St,Et,ft)=>{this.actor.send(st,_t,nt,me,Et,ft)},scheduler:this.actor.scheduler};this.workerSources[me][Xe][we][Ne]=new this.workerSourceTypes[we](ot,this.getLayerIndex(me,Xe),this.getAvailableImages(me,Xe),this.isSpriteLoaded[me][Xe],void 0,this.brightness)}return this.workerSources[me][Xe][we][Ne]}getDEMWorkerSource(me,we,Ne){return this.demWorkerSources[me]||(this.demWorkerSources[me]={}),this.demWorkerSources[me][Ne]||(this.demWorkerSources[me][Ne]={}),this.demWorkerSources[me][Ne][we]||(this.demWorkerSources[me][Ne][we]=new k),this.demWorkerSources[me][Ne][we]}getRasterArrayWorkerSource(){return this.rasterArrayWorkerSource||(this.rasterArrayWorkerSource=new F),this.rasterArrayWorkerSource}enforceCacheSizeLimit(me,we){o.dU(we)}getWorkerPerformanceMetrics(me,we,Ne){Ne(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Fn(self)),Fn}),c(["./shared"],function(o){function m(_,d){if(Array.isArray(_)){if(!Array.isArray(d)||_.length!==d.length)return!1;for(let f=0;f<_.length;f++)if(!m(_[f],d[f]))return!1;return!0}if(typeof _=="object"&&_!==null&&d!==null){if(typeof d!="object"||Object.keys(_).length!==Object.keys(d).length)return!1;for(const f in _)if(!m(_[f],d[f]))return!1;return!0}return _===d}var y=v;function v(_){return!function(d){return typeof window>"u"||typeof document>"u"?"not a browser":function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var x,M,T=new Blob([""],{type:"text/javascript"}),L=URL.createObjectURL(T);try{M=new Worker(L),x=!0}catch{x=!1}return M&&M.terminate(),URL.revokeObjectURL(L),x}()?function(){var x=document.createElement("canvas");x.width=x.height=1;var M=x.getContext("2d");if(!M)return!1;var T=M.getImageData(0,0,1,1);return T&&T.width===x.width}()?(S[f=d&&d.failIfMajorPerformanceCaveat]===void 0&&(S[f]=function(x){var M,T=function(L){var j=document.createElement("canvas"),H=Object.create(v.webGLContextAttributes);return H.failIfMajorPerformanceCaveat=L,j.getContext("webgl2",H)}(x);if(!T)return!1;try{M=T.createShader(T.VERTEX_SHADER)}catch{return!1}return!(!M||T.isContextLost())&&(T.shaderSource(M,"void main() {}"),T.compileShader(M),T.getShaderParameter(M,T.COMPILE_STATUS)===!0)}(f)),S[f]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL2 support"):"insufficient Canvas/getImageData support":"insufficient worker support";var f}(_)}var S={};function C(_,d,f){const x=document.createElement(_);return d!=null&&(x.className=d),f&&f.appendChild(x),x}function P(_,d,f){const x=document.createElementNS("http://www.w3.org/2000/svg",_);for(const M of Object.keys(d))x.setAttributeNS(null,M,String(d[M]));return f&&f.appendChild(x),x}v.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const I=typeof document<"u"?document.documentElement&&document.documentElement.style:null,N=I&&I.userSelect!==void 0?"userSelect":"WebkitUserSelect";let D;function k(){I&&N&&(D=I[N],I[N]="none")}function F(){I&&N&&(I[N]=D)}function U(_){_.preventDefault(),_.stopPropagation(),window.removeEventListener("click",U,!0)}function B(){window.addEventListener("click",U,!0),window.setTimeout(()=>{window.removeEventListener("click",U,!0)},0)}function z(_,d){const f=_.getBoundingClientRect();return K(_,f,d)}function W(_,d){const f=_.getBoundingClientRect(),x=[];for(let M=0;M<d.length;M++)x.push(K(_,f,d[M]));return x}function Y(_){return window.InstallTrigger!==void 0&&_.button===2&&_.ctrlKey&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:_.button}function K(_,d,f){const x=_.offsetWidth===d.width?1:_.offsetWidth/d.width;return new o.P((f.clientX-d.left)*x,(f.clientY-d.top)*x)}class ee{constructor(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps=new Set,this._updatedImages=new Set}isDirty(){return this._changed}setDirty(){this._changed=!0}getUpdatedSourceCaches(){return this._updatedSourceCaches}updateSourceCache(d,f){this._updatedSourceCaches[d]=f,this.setDirty()}discardSourceCacheUpdate(d){delete this._updatedSourceCaches[d]}updateLayer(d){const f=d.scope;this._updatedLayers[f]=this._updatedLayers[f]||new Set,this._updatedLayers[f].add(d.id),this.setDirty()}removeLayer(d){const f=d.scope;this._removedLayers[f]=this._removedLayers[f]||{},this._updatedLayers[f]=this._updatedLayers[f]||new Set,this._removedLayers[f][d.id]=d,this._updatedLayers[f].delete(d.id),this._updatedPaintProps.delete(d.fqid),this.setDirty()}getRemovedLayer(d){return this._removedLayers[d.scope]?this._removedLayers[d.scope][d.id]:null}discardLayerRemoval(d){this._removedLayers[d.scope]&&delete this._removedLayers[d.scope][d.id]}getLayerUpdatesByScope(){const d={};for(const f in this._updatedLayers)d[f]=d[f]||{},d[f].updatedIds=Array.from(this._updatedLayers[f].values());for(const f in this._removedLayers)d[f]=d[f]||{},d[f].removedIds=Object.keys(this._removedLayers[f]);return d}getUpdatedPaintProperties(){return this._updatedPaintProps}updatePaintProperties(d){this._updatedPaintProps.add(d.fqid),this.setDirty()}getUpdatedImages(){return Array.from(this._updatedImages.values())}updateImage(d){this._updatedImages.add(d),this.setDirty()}resetUpdatedImages(){this._updatedImages.clear()}reset(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps.clear(),this._updatedImages.clear()}}class re extends o.E{constructor(d){super(),this.requestManager=d,this.models={"":{}},this.numModelsLoading={}}loadModel(d,f){return o.l(this.requestManager.transformRequest(f,o.R.Model).url).then(x=>{if(!x)return;const M=o.c(x),T=new o.M(d,void 0,void 0,M);return T.computeBoundsAndApplyParent(),T}).catch(x=>{this.fire(new o.a(new Error(`Could not load model ${d} from ${f}: ${x.message}`)))})}load(d,f){this.models[f]||(this.models[f]={});const x=Object.keys(d);this.numModelsLoading[f]=(this.numModelsLoading[f]||0)+x.length;const M=[];for(const T of x)M.push(this.loadModel(T,d[T]));Promise.allSettled(M).then(T=>{for(let L=0;L<T.length;L++){const{status:j,value:H}=T[L];j==="fulfilled"&&H&&(this.models[f][x[L]]=H)}this.numModelsLoading[f]-=x.length,this.fire(new o.b("data",{dataType:"style"}))}).catch(T=>{this.fire(new o.a(new Error(`Could not load models: ${T.message}`)))})}isLoaded(){for(const d in this.numModelsLoading)if(this.numModelsLoading[d]>0)return!1;return!0}hasModel(d,f){return!!this.getModel(d,f)}getModel(d,f){return this.models[f]||(this.models[f]={}),this.models[f][d]}addModel(d,f,x){this.models[x]||(this.models[x]={}),this.hasModel(d,x)&&this.removeModel(d,x),this.load({[d]:this.requestManager.normalizeModelURL(f)},x)}addModels(d,f){const x={};for(const M in d)x[M]=this.requestManager.normalizeModelURL(d[M]);this.load(x,f)}removeModel(d,f){this.models[f]||(this.models[f]={});const x=this.models[f][d];delete this.models[f][d],x.destroy()}listModels(d){return this.models[d]||(this.models[d]={}),Object.keys(this.models[d])}upload(d,f){this.models[f]||(this.models[f]={});for(const x in this.models[f])this.models[f][x].upload(d.context)}}class oe{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(d,f,x){const M=String(f);if(this.stateChanges[d]=this.stateChanges[d]||{},this.stateChanges[d][M]=this.stateChanges[d][M]||{},o.e(this.stateChanges[d][M],x),this.deletedStates[d]===null){this.deletedStates[d]={};for(const T in this.state[d])T!==M&&(this.deletedStates[d][T]=null)}else if(this.deletedStates[d]&&this.deletedStates[d][M]===null){this.deletedStates[d][M]={};for(const T in this.state[d][M])x[T]||(this.deletedStates[d][M][T]=null)}else for(const T in x)this.deletedStates[d]&&this.deletedStates[d][M]&&this.deletedStates[d][M][T]===null&&delete this.deletedStates[d][M][T]}removeFeatureState(d,f,x){if(this.deletedStates[d]===null)return;const M=String(f);if(this.deletedStates[d]=this.deletedStates[d]||{},x&&f!==void 0)this.deletedStates[d][M]!==null&&(this.deletedStates[d][M]=this.deletedStates[d][M]||{},this.deletedStates[d][M][x]=null);else if(f!==void 0)if(this.stateChanges[d]&&this.stateChanges[d][M])for(x in this.deletedStates[d][M]={},this.stateChanges[d][M])this.deletedStates[d][M][x]=null;else this.deletedStates[d][M]=null;else this.deletedStates[d]=null}getState(d,f){const x=String(f),M=o.e({},(this.state[d]||{})[x],(this.stateChanges[d]||{})[x]);if(this.deletedStates[d]===null)return{};if(this.deletedStates[d]){const T=this.deletedStates[d][f];if(T===null)return{};for(const L in T)delete M[L]}return M}initializeTileState(d,f){d.setFeatureState(this.state,f)}coalesceChanges(d,f){const x={};for(const M in this.stateChanges){this.state[M]=this.state[M]||{};const T={};for(const L in this.stateChanges[M])this.state[M][L]||(this.state[M][L]={}),o.e(this.state[M][L],this.stateChanges[M][L]),T[L]=this.state[M][L];x[M]=T}for(const M in this.deletedStates){this.state[M]=this.state[M]||{};const T={};if(this.deletedStates[M]===null)for(const L in this.state[M])T[L]={},this.state[M][L]={};else for(const L in this.deletedStates[M]){if(this.deletedStates[M][L]===null)this.state[M][L]={};else if(this.state[M][L])for(const j of Object.keys(this.deletedStates[M][L]))delete this.state[M][L][j];T[L]=this.state[M][L]}x[M]=x[M]||{},o.e(x[M],T)}if(this.stateChanges={},this.deletedStates={},Object.keys(x).length!==0)for(const M in d)d[M].setFeatureState(x,f)}}function he(_){const{userImage:d}=_;return!!(d&&d.render&&d.render())&&(_.data.replace(new Uint8Array(d.data.buffer)),!0)}class be extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded={},this.requestors=[],this.patterns={},this.atlasImage={},this.atlasTexture={},this.dirty=!0}createScope(d){this.images[d]={},this.loaded[d]=!1,this.updatedImages[d]={},this.patterns[d]={},this.callbackDispatchedThisFrame[d]={},this.atlasImage[d]=new o.h({width:1,height:1})}isLoaded(){for(const d in this.loaded)if(!this.loaded[d])return!1;return!0}setLoaded(d,f){if(this.loaded[f]!==d&&(this.loaded[f]=d,d)){for(const{ids:x,callback:M}of this.requestors)this._notify(x,f,M);this.requestors=[]}}hasImage(d,f){return!!this.getImage(d,f)}getImage(d,f){return this.images[f][d]}addImage(d,f,x){this._validate(d,x)&&(this.images[f][d]=x)}_validate(d,f){let x=!0;return this._validateStretch(f.stretchX,f.data&&f.data.width)||(this.fire(new o.a(new Error(`Image "${d}" has invalid "stretchX" value`))),x=!1),this._validateStretch(f.stretchY,f.data&&f.data.height)||(this.fire(new o.a(new Error(`Image "${d}" has invalid "stretchY" value`))),x=!1),this._validateContent(f.content,f)||(this.fire(new o.a(new Error(`Image "${d}" has invalid "content" value`))),x=!1),x}_validateStretch(d,f){if(!d)return!0;let x=0;for(const M of d){if(M[0]<x||M[1]<M[0]||f<M[1])return!1;x=M[1]}return!0}_validateContent(d,f){return!(d&&(d.length!==4||d[0]<0||f.data.width<d[0]||d[1]<0||f.data.height<d[1]||d[2]<0||f.data.width<d[2]||d[3]<0||f.data.height<d[3]||d[2]<d[0]||d[3]<d[1]))}updateImage(d,f,x){x.version=this.images[f][d].version+1,this.images[f][d]=x,this.updatedImages[f][d]=!0}removeImage(d,f){const x=this.images[f][d];delete this.images[f][d],delete this.patterns[f][d],x.userImage&&x.userImage.onRemove&&x.userImage.onRemove()}listImages(d){return Object.keys(this.images[d])}getImages(d,f,x){let M=!0;const T=!!this.loaded[f];if(!T)for(const L of d)this.images[f][L]||(M=!1);T||M?this._notify(d,f,x):this.requestors.push({ids:d,scope:f,callback:x})}getUpdatedImages(d){return this.updatedImages[d]}_notify(d,f,x){const M={};for(const T of d){this.images[f][T]||this.fire(new o.b("styleimagemissing",{id:T}));const L=this.images[f][T];L?M[T]={data:L.data.clone(),pixelRatio:L.pixelRatio,sdf:L.sdf,version:L.version,stretchX:L.stretchX,stretchY:L.stretchY,content:L.content,hasRenderCallback:!!(L.userImage&&L.userImage.render)}:o.w(`Image "${T}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}x(null,M)}getPixelSize(d){const{width:f,height:x}=this.atlasImage[d];return{width:f,height:x}}getPattern(d,f){const x=this.patterns[f][d],M=this.getImage(d,f);if(!M)return null;if(x&&x.position.version===M.version)return x.position;if(x)x.position.version=M.version;else{const T={w:M.data.width+2,h:M.data.height+2,x:0,y:0},L=new o.I(T,M);this.patterns[f][d]={bin:T,position:L}}return this._updatePatternAtlas(f),this.patterns[f][d].position}bind(d,f){const x=d.gl;let M=this.atlasTexture[f];M?this.dirty&&(M.update(this.atlasImage[f]),this.dirty=!1):(M=new o.T(d,this.atlasImage[f],x.RGBA),this.atlasTexture[f]=M),M.bind(x.LINEAR,x.CLAMP_TO_EDGE)}_updatePatternAtlas(d){const f=[];for(const L in this.patterns[d])f.push(this.patterns[d][L].bin);const{w:x,h:M}=o.p(f),T=this.atlasImage[d];T.resize({width:x||1,height:M||1});for(const L in this.patterns[d]){const{bin:j}=this.patterns[d][L],H=j.x+1,G=j.y+1,q=this.images[d][L].data,J=q.width,ie=q.height;o.h.copy(q,T,{x:0,y:0},{x:H,y:G},{width:J,height:ie}),o.h.copy(q,T,{x:0,y:ie-1},{x:H,y:G-1},{width:J,height:1}),o.h.copy(q,T,{x:0,y:0},{x:H,y:G+ie},{width:J,height:1}),o.h.copy(q,T,{x:J-1,y:0},{x:H-1,y:G},{width:1,height:ie}),o.h.copy(q,T,{x:0,y:0},{x:H+J,y:G},{width:1,height:ie})}this.dirty=!0}beginFrame(){for(const d in this.images)this.callbackDispatchedThisFrame[d]={}}dispatchRenderCallbacks(d,f){for(const x of d){if(this.callbackDispatchedThisFrame[f][x])continue;this.callbackDispatchedThisFrame[f][x]=!0;const M=this.images[f][x];he(M)&&this.updateImage(x,f,M)}}}class le{constructor(d,f,x,M){this.message=(d?`${d}: `:"")+x,M&&(this.identifier=M),f!=null&&f.__line__&&(this.line=f.__line__)}}class ye extends le{}function fe(_){const d=_.key,f=_.value,x=_.valueSpec||{},M=_.objectElementValidators||{},T=_.style,L=_.styleSpec;let j=[];const H=o.i(f);if(H!=="object")return[new le(d,f,`object expected, ${H} found`)];for(const G in f){const q=G.split(".")[0];let J;M[q]?J=M[q]:x[q]?J=Lt:M["*"]?J=M["*"]:x["*"]&&(J=Lt),J?j=j.concat(J({key:(d&&`${d}.`)+G,value:f[G],valueSpec:x[q]||x["*"],style:T,styleSpec:L,object:f,objectKey:G},f)):j.push(new ye(d,f[G],`unknown property "${G}"`))}for(const G in x)M[G]||x[G].required&&x[G].default===void 0&&f[G]===void 0&&j.push(new le(d,f,`missing required property "${G}"`));return j}function ue(_){const d=_.value,f=_.valueSpec,x=_.style,M=_.styleSpec,T=_.key,L=_.arrayElementValidator||Lt;if(o.i(d)!=="array")return[new le(T,d,`array expected, ${o.i(d)} found`)];if(f.length&&d.length!==f.length)return[new le(T,d,`array length ${f.length} expected, length ${d.length} found`)];if(f["min-length"]&&d.length<f["min-length"])return[new le(T,d,`array length at least ${f["min-length"]} expected, length ${d.length} found`)];let j={type:f.value,values:f.values,minimum:f.minimum,maximum:f.maximum,function:void 0};M.$version<7&&(j.function=f.function),o.i(f.value)==="object"&&(j=f.value);let H=[];for(let G=0;G<d.length;G++)H=H.concat(L({array:d,arrayIndex:G,value:d[G],valueSpec:j,style:x,styleSpec:M,key:`${T}[${G}]`},!0));return H}function xe(_){const d=_.key,f=_.value,x=_.valueSpec;let M=o.i(f);if(M==="number"&&f!=f&&(M="NaN"),M!=="number")return[new le(d,f,`number expected, ${M} found`)];if("minimum"in x){let T=x.minimum;if(o.i(x.minimum)==="array"&&(T=x.minimum[_.arrayIndex]),f<T)return[new le(d,f,`${f} is less than the minimum value ${T}`)]}if("maximum"in x){let T=x.maximum;if(o.i(x.maximum)==="array"&&(T=x.maximum[_.arrayIndex]),f>T)return[new le(d,f,`${f} is greater than the maximum value ${T}`)]}return[]}function ae(_){const d=_.valueSpec,f=o.u(_.value.type);let x,M,T,L={};const j=f!=="categorical"&&_.value.property===void 0,H=!j,G=o.i(_.value.stops)==="array"&&o.i(_.value.stops[0])==="array"&&o.i(_.value.stops[0][0])==="object",q=fe({key:_.key,value:_.value,valueSpec:_.styleSpec.function,style:_.style,styleSpec:_.styleSpec,objectElementValidators:{stops:function(se){if(f==="identity")return[new le(se.key,se.value,'identity function may not have a "stops" property')];let _e=[];const ve=se.value;return _e=_e.concat(ue({key:se.key,value:ve,valueSpec:se.valueSpec,style:se.style,styleSpec:se.styleSpec,arrayElementValidator:J})),o.i(ve)==="array"&&ve.length===0&&_e.push(new le(se.key,ve,"array must have at least one stop")),_e},default:function(se){return Lt({key:se.key,value:se.value,valueSpec:d,style:se.style,styleSpec:se.styleSpec})}}});return f==="identity"&&j&&q.push(new le(_.key,_.value,'missing required property "property"')),f==="identity"||_.value.stops||q.push(new le(_.key,_.value,'missing required property "stops"')),f==="exponential"&&_.valueSpec.expression&&!o.s(_.valueSpec)&&q.push(new le(_.key,_.value,"exponential functions not supported")),_.styleSpec.$version>=8&&(H&&!o.k(_.valueSpec)?q.push(new le(_.key,_.value,"property functions not supported")):j&&!o.m(_.valueSpec)&&q.push(new le(_.key,_.value,"zoom functions not supported"))),f!=="categorical"&&!G||_.value.property!==void 0||q.push(new le(_.key,_.value,'"property" property is required')),q;function J(se){let _e=[];const ve=se.value,Se=se.key;if(o.i(ve)!=="array")return[new le(Se,ve,`array expected, ${o.i(ve)} found`)];if(ve.length!==2)return[new le(Se,ve,`array length 2 expected, length ${ve.length} found`)];if(G){if(o.i(ve[0])!=="object")return[new le(Se,ve,`object expected, ${o.i(ve[0])} found`)];if(ve[0].zoom===void 0)return[new le(Se,ve,"object stop key must have zoom")];if(ve[0].value===void 0)return[new le(Se,ve,"object stop key must have value")];const pe=o.u(ve[0].zoom);if(typeof pe!="number")return[new le(Se,ve[0].zoom,"stop zoom values must be numbers")];if(T&&T>pe)return[new le(Se,ve[0].zoom,"stop zoom values must appear in ascending order")];pe!==T&&(T=pe,M=void 0,L={}),_e=_e.concat(fe({key:`${Se}[0]`,value:ve[0],valueSpec:{zoom:{}},style:se.style,styleSpec:se.styleSpec,objectElementValidators:{zoom:xe,value:ie}}))}else _e=_e.concat(ie({key:`${Se}[0]`,value:ve[0],style:se.style,styleSpec:se.styleSpec},ve));return o.n(o.o(ve[1]))?_e.concat([new le(`${Se}[1]`,ve[1],"expressions are not allowed in function stops.")]):_e.concat(Lt({key:`${Se}[1]`,value:ve[1],valueSpec:d,style:se.style,styleSpec:se.styleSpec}))}function ie(se,_e){const ve=o.i(se.value),Se=o.u(se.value),pe=se.value!==null?se.value:_e;if(x){if(ve!==x)return[new le(se.key,pe,`${ve} stop domain type must match previous stop domain type ${x}`)]}else x=ve;if(ve!=="number"&&ve!=="string"&&ve!=="boolean"&&typeof Se!="number"&&typeof Se!="string"&&typeof Se!="boolean")return[new le(se.key,pe,"stop domain value must be a number, string, or boolean")];if(ve!=="number"&&f!=="categorical"){let Ce=`number expected, ${ve} found`;return o.k(d)&&f===void 0&&(Ce+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new le(se.key,pe,Ce)]}return f!=="categorical"||ve!=="number"||typeof Se=="number"&&isFinite(Se)&&Math.floor(Se)===Se?f!=="categorical"&&ve==="number"&&typeof Se=="number"&&typeof M=="number"&&M!==void 0&&Se<M?[new le(se.key,pe,"stop domain values must appear in ascending order")]:(M=Se,f==="categorical"&&Se in L?[new le(se.key,pe,"stop domain values must be unique")]:(L[Se]=!0,[])):[new le(se.key,pe,`integer expected, found ${String(Se)}`)]}}function Ee(_){const d=(_.expressionContext==="property"?o.q:o.r)(o.o(_.value),_.valueSpec);if(d.result==="error")return d.value.map(x=>new le(`${_.key}${x.key}`,_.value,x.message));const f=d.value.expression||d.value._styleExpression.expression;if(_.expressionContext==="property"&&_.propertyKey==="text-font"&&!f.outputDefined())return[new le(_.key,_.value,`Invalid data expression for "${_.propertyKey}". Output values must be contained as literals within the expression.`)];if(_.expressionContext==="property"&&_.propertyType==="layout"&&!o.t(f))return[new le(_.key,_.value,'"feature-state" data expressions are not supported with layout properties.')];if(_.expressionContext==="filter")return Me(f,_);if(_.expressionContext&&_.expressionContext.indexOf("cluster")===0){if(!o.v(f,["zoom","feature-state"]))return[new le(_.key,_.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(_.expressionContext==="cluster-initial"&&!o.x(f))return[new le(_.key,_.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Me(_,d){const f=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(d.valueSpec&&d.valueSpec.expression)for(const M of d.valueSpec.expression.parameters)f.delete(M);if(f.size===0)return[];const x=[];return _ instanceof o.C&&f.has(_.name)?[new le(d.key,d.value,`["${_.name}"] expression is not supported in a filter for a ${d.object.type} layer with id: ${d.object.id}`)]:(_.eachChild(M=>{x.push(...Me(M,d))}),x)}function de(_){const d=_.key,f=_.value,x=_.valueSpec,M=[];return Array.isArray(x.values)?x.values.indexOf(o.u(f))===-1&&M.push(new le(d,f,`expected one of [${x.values.join(", ")}], ${JSON.stringify(f)} found`)):Object.keys(x.values).indexOf(o.u(f))===-1&&M.push(new le(d,f,`expected one of [${Object.keys(x.values).join(", ")}], ${JSON.stringify(f)} found`)),M}function ze(_){return o.z(o.o(_.value))?Ee(o.j({},_,{expressionContext:"filter",valueSpec:_.styleSpec[`filter_${_.layerType||"fill"}`]})):$e(_)}function $e(_){const d=_.value,f=_.key;if(o.i(d)!=="array")return[new le(f,d,`array expected, ${o.i(d)} found`)];const x=_.styleSpec;let M,T=[];if(d.length<1)return[new le(f,d,"filter array must have at least 1 element")];switch(T=T.concat(de({key:`${f}[0]`,value:d[0],valueSpec:x.filter_operator,style:_.style,styleSpec:_.styleSpec})),o.u(d[0])){case"<":case"<=":case">":case">=":d.length>=2&&o.u(d[1])==="$type"&&T.push(new le(f,d,`"$type" cannot be use with operator "${d[0]}"`));case"==":case"!=":d.length!==3&&T.push(new le(f,d,`filter array for operator "${d[0]}" must have 3 elements`));case"in":case"!in":d.length>=2&&(M=o.i(d[1]),M!=="string"&&T.push(new le(`${f}[1]`,d[1],`string expected, ${M} found`)));for(let L=2;L<d.length;L++)M=o.i(d[L]),o.u(d[1])==="$type"?T=T.concat(de({key:`${f}[${L}]`,value:d[L],valueSpec:x.geometry_type,style:_.style,styleSpec:_.styleSpec})):M!=="string"&&M!=="number"&&M!=="boolean"&&T.push(new le(`${f}[${L}]`,d[L],`string, number, or boolean expected, ${M} found`));break;case"any":case"all":case"none":for(let L=1;L<d.length;L++)T=T.concat($e({key:`${f}[${L}]`,value:d[L],style:_.style,styleSpec:_.styleSpec}));break;case"has":case"!has":M=o.i(d[1]),d.length!==2?T.push(new le(f,d,`filter array for "${d[0]}" operator must have 2 elements`)):M!=="string"&&T.push(new le(`${f}[1]`,d[1],`string expected, ${M} found`))}return T}function et(_,d){const f=_.key,x=_.style,M=_.layer,T=_.styleSpec,L=_.value,j=_.objectKey,H=T[`${d}_${_.layerType}`];if(!H)return[];const G=j.match(/^(.*)-transition$/);if(d==="paint"&&G&&H[G[1]]&&H[G[1]].transition)return Lt({key:f,value:L,valueSpec:T.transition,style:x,styleSpec:T});const q=_.valueSpec||H[j];if(!q)return[new ye(f,L,`unknown property "${j}"`)];let J;if(o.i(L)==="string"&&o.k(q)&&!q.tokens&&(J=/^{([^}]+)}$/.exec(L))){const se=`\`{ "type": "identity", "property": ${J?JSON.stringify(J[1]):'"_"'} }\``;return[new le(f,L,`"${j}" does not support interpolation syntax
Use an identity property function instead: ${se}.`)]}const ie=[];if(_.layerType==="symbol")j!=="text-field"||!x||x.glyphs||x.imports||ie.push(new le(f,L,'use of "text-field" requires a style "glyphs" property')),j==="text-font"&&o.A(o.o(L))&&o.u(L.type)==="identity"&&ie.push(new le(f,L,'"text-font" does not support identity functions'));else if(_.layerType==="model"&&d==="paint"&&M&&M.layout&&M.layout.hasOwnProperty("model-id")&&o.k(q)&&(o.B(q)||o.m(q))){const se=o.q(o.o(L),q),_e=se.value.expression||se.value._styleExpression.expression;_e&&!o.v(_e,["measure-light"])&&(j==="model-emissive-strength"&&o.x(_e)&&o.t(_e)||ie.push(new le(f,L,`${j} does not support measure-light expressions when the model layer source is vector tile or GeoJSON.`)))}return ie.concat(Lt({key:_.key,value:L,valueSpec:q,style:x,styleSpec:T,expressionContext:"property",propertyType:d,propertyKey:j}))}function gt(_){return et(_,"paint")}function lt(_){return et(_,"layout")}function We(_){let d=[];const f=_.value,x=_.key,M=_.style,T=_.styleSpec;f.type||f.ref||d.push(new le(x,f,'either "type" or "ref" is required'));let L=o.u(f.type);const j=o.u(f.ref);if(f.id){const H=o.u(f.id);for(let G=0;G<_.arrayIndex;G++){const q=M.layers[G];o.u(q.id)===H&&d.push(new le(x,f.id,`duplicate layer id "${f.id}", previously used at line ${q.id.__line__}`))}}if("ref"in f){let H;["type","source","source-layer","filter","layout"].forEach(G=>{G in f&&d.push(new le(x,f[G],`"${G}" is prohibited for ref layers`))}),M.layers.forEach(G=>{o.u(G.id)===j&&(H=G)}),H?H.ref?d.push(new le(x,f.ref,"ref cannot reference another ref layer")):L=o.u(H.type):typeof j=="string"&&d.push(new le(x,f.ref,`ref layer "${j}" not found`))}else if(L!=="background"&&L!=="sky"&&L!=="slot")if(f.source){const H=M.sources&&M.sources[f.source],G=H&&o.u(H.type);H?G==="vector"&&L==="raster"?d.push(new le(x,f.source,`layer "${f.id}" requires a raster source`)):G==="raster"&&L!=="raster"?d.push(new le(x,f.source,`layer "${f.id}" requires a vector source`)):G!=="vector"||f["source-layer"]?G==="raster-dem"&&L!=="hillshade"?d.push(new le(x,f.source,"raster-dem source can only be used with layer type 'hillshade'.")):G!=="raster-array"||["raster","raster-particle"].includes(L)?L!=="line"||!f.paint||!f.paint["line-gradient"]&&!f.paint["line-trim-offset"]||G==="geojson"&&H.lineMetrics?L==="raster-particle"&&G!=="raster-array"&&d.push(new le(x,f.source,`layer "${f.id}" requires a 'raster-array' source.`)):d.push(new le(x,f,`layer "${f.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):d.push(new le(x,f.source,"raster-array source can only be used with layer type 'raster'.")):d.push(new le(x,f,`layer "${f.id}" must specify a "source-layer"`)):d.push(new le(x,f.source,`source "${f.source}" not found`))}else d.push(new le(x,f,'missing required property "source"'));return d=d.concat(fe({key:x,value:f,valueSpec:T.layer,style:_.style,styleSpec:_.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Lt({key:`${x}.type`,value:f.type,valueSpec:T.layer.type,style:_.style,styleSpec:_.styleSpec,object:f,objectKey:"type"}),filter:H=>ze(o.j({layerType:L},H)),layout:H=>fe({layer:f,key:H.key,value:H.value,valueSpec:{},style:H.style,styleSpec:H.styleSpec,objectElementValidators:{"*":G=>lt(o.j({layerType:L},G))}}),paint:H=>fe({layer:f,key:H.key,value:H.value,valueSpec:{},style:H.style,styleSpec:H.styleSpec,objectElementValidators:{"*":G=>gt(o.j({layerType:L,layer:f},G))}})}})),d}function qe(_){const d=_.value,f=_.key,x=o.i(d);return x!=="string"?[new le(f,d,`string expected, ${x} found`)]:[]}const Qe={promoteId:function({key:_,value:d}){if(o.i(d)==="string")return qe({key:_,value:d});{const f=[];for(const x in d)f.push(...qe({key:`${_}.${x}`,value:d[x]}));return f}}};function Ve(_){const d=_.value,f=_.key,x=_.styleSpec,M=_.style;if(!d.type)return[new le(f,d,'"type" is required')];const T=o.u(d.type);let L=[];switch(["vector","raster","raster-dem","raster-array"].includes(T)&&(d.url||d.tiles||L.push(new ye(f,d,'Either "url" or "tiles" is required.'))),T){case"vector":case"raster":case"raster-dem":case"raster-array":return L=L.concat(fe({key:f,value:d,valueSpec:x[`source_${T.replace("-","_")}`],style:_.style,styleSpec:x,objectElementValidators:Qe})),L;case"geojson":if(L=fe({key:f,value:d,valueSpec:x.source_geojson,style:M,styleSpec:x,objectElementValidators:Qe}),d.cluster)for(const j in d.clusterProperties){const[H,G]=d.clusterProperties[j],q=typeof H=="string"?[H,["accumulated"],["get",j]]:H;L.push(...Ee({key:`${f}.${j}.map`,value:G,expressionContext:"cluster-map"})),L.push(...Ee({key:`${f}.${j}.reduce`,value:q,expressionContext:"cluster-reduce"}))}return L;case"video":return fe({key:f,value:d,valueSpec:x.source_video,style:M,styleSpec:x});case"image":return fe({key:f,value:d,valueSpec:x.source_image,style:M,styleSpec:x});case"canvas":return[new le(f,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return de({key:`${f}.type`,value:d.type,valueSpec:{values:yt(x)}})}}function yt(_){return _.source.reduce((d,f)=>{const x=_[f];return x.type.type==="enum"&&(d=d.concat(Object.keys(x.type.values))),d},[])}function it(_){const d=_.value;let f=[];if(!d)return f;const x=o.i(d);return x!=="string"?(f=f.concat([new le(_.key,d,`string expected, "${x}" found`)]),f):(function(M){const T=M.indexOf("://")===-1;try{return new URL(M,T?"http://example.com":void 0),!0}catch{return!1}}(d)||(f=f.concat([new le(_.key,d,`invalid url "${d}"`)])),f)}function pt(_){const d=_.value,f=_.styleSpec,x=f.light,M=_.style;let T=[];const L=o.i(d);if(d===void 0)return T;if(L!=="object")return T=T.concat([new le("light",d,`object expected, ${L} found`)]),T;for(const j in d){const H=j.match(/^(.*)-transition$/);T=T.concat(H&&x[H[1]]&&x[H[1]].transition?Lt({key:j,value:d[j],valueSpec:f.transition,style:M,styleSpec:f}):x[j]?Lt({key:j,value:d[j],valueSpec:x[j],style:M,styleSpec:f}):[new le(j,d[j],`unknown property "${j}"`)])}return T}function $t(_){const d=_.value;let f=[];if(!d)return f;const x=o.i(d);if(x!=="object")return f=f.concat([new le("light-3d",d,`object expected, ${x} found`)]),f;const M=_.styleSpec,T=M["light-3d"],L=_.key,j=_.style,H=_.style.lights;for(const J of["type","id"])if(!(J in d))return f=f.concat([new le("light-3d",d,`missing property ${J} on light`)]),f;if(d.type&&H)for(let J=0;J<_.arrayIndex;J++){const ie=o.u(d.type),se=H[J];o.u(se.type)===ie&&f.push(new le(L,d.id,`duplicate light type "${d.type}", previously defined at line ${se.id.__line__}`))}const G=`properties_light_${d.type}`;if(!(G in M))return f=f.concat([new le("light-3d",d,`Invalid light type ${d.type}`)]),f;const q=M[G];for(const J in d)if(J==="properties"){const ie=d[J],se=o.i(ie);if(se!=="object")return f=f.concat([new le("properties",ie,`object expected, ${se} found`)]),f;for(const _e in ie)f=f.concat(q[_e]?Lt({key:_e,value:ie[_e],valueSpec:q[_e],style:j,styleSpec:M}):[new ye(_.key,ie[_e],`unknown property "${_e}"`)])}else{const ie=J.match(/^(.*)-transition$/);f=f.concat(ie&&T[ie[1]]&&T[ie[1]].transition?Lt({key:J,value:d[J],valueSpec:M.transition,style:j,styleSpec:M}):T[J]?Lt({key:J,value:d[J],valueSpec:T[J],style:j,styleSpec:M}):[new ye(J,d[J],`unknown property "${J}"`)])}return f}function Jt(_){const d=_.value,f=_.key,x=_.style,M=_.styleSpec,T=M.terrain;let L=[];const j=o.i(d);if(d===void 0||j==="null")return L;if(j!=="object")return L=L.concat([new le("terrain",d,`object expected, ${j} found`)]),L;for(const H in d){const G=H.match(/^(.*)-transition$/);L=L.concat(G&&T[G[1]]&&T[G[1]].transition?Lt({key:H,value:d[H],valueSpec:M.transition,style:x,styleSpec:M}):T[H]?Lt({key:H,value:d[H],valueSpec:T[H],style:x,styleSpec:M}):[new ye(H,d[H],`unknown property "${H}"`)])}if(d.source){const H=x.sources&&x.sources[d.source],G=H&&o.u(H.type);H?G!=="raster-dem"&&L.push(new le(f,d.source,`terrain cannot be used with a source of type ${String(G)}, it only be used with a "raster-dem" source type`)):L.push(new le(f,d.source,`source "${d.source}" not found`))}else L.push(new le(f,d,'terrain is missing required property "source"'));return L}function on(_){const d=_.value,f=_.style,x=_.styleSpec,M=x.fog;let T=[];const L=o.i(d);if(d===void 0)return T;if(L!=="object")return T=T.concat([new le("fog",d,`object expected, ${L} found`)]),T;for(const j in d){const H=j.match(/^(.*)-transition$/);T=T.concat(H&&M[H[1]]&&M[H[1]].transition?Lt({key:j,value:d[j],valueSpec:x.transition,style:f,styleSpec:x}):M[j]?Lt({key:j,value:d[j],valueSpec:M[j],style:f,styleSpec:x}):[new ye(j,d[j],`unknown property "${j}"`)])}return T}const ln={"*":()=>[],array:ue,boolean:function(_){const d=_.value,f=_.key,x=o.i(d);return x!=="boolean"?[new le(f,d,`boolean expected, ${x} found`)]:[]},number:xe,color:function(_){const d=_.key,f=_.value,x=o.i(f);return x!=="string"?[new le(d,f,`color expected, ${x} found`)]:o.y(f)===null?[new le(d,f,`color expected, "${f}" found`)]:[]},enum:de,filter:ze,function:ae,layer:We,object:fe,source:Ve,model:it,light:pt,"light-3d":$t,terrain:Jt,fog:on,string:qe,formatted:function(_){return qe(_).length===0?[]:Ee(_)},resolvedImage:function(_){return qe(_).length===0?[]:Ee(_)},projection:function(_){const d=_.value,f=_.styleSpec,x=f.projection,M=_.style;let T=[];const L=o.i(d);if(L==="object")for(const j in d)T=T.concat(Lt({key:j,value:d[j],valueSpec:x[j],style:M,styleSpec:f}));else L!=="string"&&(T=T.concat([new le("projection",d,`object or string expected, ${L} found`)]));return T},import:function(_){const{value:d,styleSpec:f}=_,{data:x,...M}=d;Object.defineProperty(M,"__line__",{value:d.__line__,enumerable:!1});let T=fe(o.j({},_,{value:M,valueSpec:f.import}));return o.u(M.id)===""&&T.push(new le(`${_.key}.id`,M,"import id can't be an empty string")),x&&(T=T.concat(Kt(x,f,{key:`${_.key}.data`}))),T}};function Lt(_,d=!1){const f=_.value,x=_.valueSpec,M=_.styleSpec;if(x.expression&&o.A(o.u(f)))return ae(_);if(x.expression&&o.n(o.o(f)))return Ee(_);if(x.type&&ln[x.type]){const T=ln[x.type](_);return d===!0&&T.length>0&&o.i(_.value)==="array"?Ee(_):T}return fe(o.j({},_,{valueSpec:x.type?M[x.type]:x}))}function en(_){const d=_.value,f=_.key,x=qe(_);return x.length||(d.indexOf("{fontstack}")===-1&&x.push(new le(f,d,'"glyphs" url must include a "{fontstack}" token')),d.indexOf("{range}")===-1&&x.push(new le(f,d,'"glyphs" url must include a "{range}" token'))),x}function Kt(_,d=o.D,f={}){return Lt({key:f.key||"",value:_,valueSpec:d.$root,styleSpec:d,style:_,objectElementValidators:{glyphs:en,"*":()=>[]}})}function Zt(_,d=o.D){return nt(Kt(_,d))}const En=_=>nt(Ve(_)),Fn=_=>nt(pt(_)),je=_=>nt($t(_)),me=_=>nt(Jt(_)),we=_=>nt(on(_)),Ne=_=>nt(We(_)),Xe=_=>nt(ze(_)),ot=_=>nt(gt(_)),st=_=>nt(lt(_)),_t=_=>nt(it(_));function nt(_){return _.slice().sort((d,f)=>d.line&&f.line?d.line-f.line:0)}function St(_,d){let f=!1;if(d&&d.length)for(const x of d)x instanceof ye?o.w(x.message):(_.fire(new o.a(new Error(x.message))),f=!0);return f}const Et=new o.F({anchor:new o.G(o.D.light.anchor),position:new o.H(o.D.light.position),color:new o.G(o.D.light.color),intensity:new o.G(o.D.light.intensity)});class ft extends o.E{constructor(d,f="flat"){super(),this._transitionable=new o.J(Et),this.setLight(d,f),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(d,f,x={}){this._validate(Fn,d,x)||(this._transitionable.setTransitionOrValue(d),this.id=f)}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}_validate(d,f,x){return(!x||x.validate!==!1)&&St(this,d.call(Zt,o.e({value:f,style:{glyphs:!0,sprite:!0},styleSpec:o.D})))}}const jt=new o.F({source:new o.G(o.D.terrain.source),exaggeration:new o.G(o.D.terrain.exaggeration)});let Bn=class extends o.E{constructor(_,d,f,x){super(),this.scope=f,this._transitionable=new o.J(jt,f,x),this._transitionable.setTransitionOrValue(_,x),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=d}get(){return this._transitionable.serialize()}set(_,d){this._transitionable.setTransitionOrValue(_,d)}updateTransitions(_){this._transitioning=this._transitionable.transitioned(_,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(_){this.properties=this._transitioning.possiblyEvaluate(_)}getExaggeration(_){return this._transitioning.possiblyEvaluate(new o.K(_)).get("exaggeration")}isZoomDependent(){const _=this._transitionable._values.exaggeration;return _!=null&&_.value!=null&&_.value.expression!=null&&_.value.expression instanceof o.Z}};const rr=45,dr=65,ar=.05;function un(_,d,f,x){const M=o.O(rr,dr,f),[T,L]=hn(_,x);let j=1-Math.min(1,Math.exp((d-T)/(L-T)*-6));return j*=j*j,j=Math.min(1,1.00747*j),j*M*_.alpha}function hn(_,d){const f=.5/Math.tan(.5*d);return[_.range[0]+f,_.range[1]+f]}function vn(_,d,f,x,M){const T=o.N.transformMat4([],[d,f,x],M.mercatorFogMatrix);return un(_,o.N.length(T),M.pitch,M._fov)}function In(_,d,f,x,M,T,L){const j=[[f,x,0],[M,x,0],[M,T,0],[f,T,0]];let H=Number.MAX_VALUE,G=-Number.MAX_VALUE;for(const q of j){const J=o.N.transformMat4([],q,d),ie=o.N.length(J);H=Math.min(H,ie),G=Math.max(G,ie)}return[un(_,H,L.pitch,L._fov),un(_,G,L.pitch,L._fov)]}const Sn=new o.F({range:new o.G(o.D.fog.range),color:new o.G(o.D.fog.color),"high-color":new o.G(o.D.fog["high-color"]),"space-color":new o.G(o.D.fog["space-color"]),"horizon-blend":new o.G(o.D.fog["horizon-blend"]),"star-intensity":new o.G(o.D.fog["star-intensity"]),"vertical-range":new o.G(o.D.fog["vertical-range"])});class an extends o.E{constructor(d,f,x,M){super(),this._transitionable=new o.J(Sn,x,new Map(M)),this.set(d,M),this._transitioning=this._transitionable.untransitioned(),this._transform=f,this.properties=new o.Q(Sn)}get state(){const d=this._transform,f=d.projection.name==="globe",x=o.S(d.zoom),M=this.properties.get("range"),T=[.5,3];return{range:f?[o.U(T[0],M[0],x),o.U(T[1],M[1],x)]:M,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(d,f,x={}){if(this._validate(we,d,x))return;const M=o.e({},d);for(const T of Object.keys(o.D.fog))M[T]===void 0&&(M[T]=o.D.fog[T].default);this._options=M,this._transitionable.setTransitionOrValue(this._options,f)}getOpacity(d){if(!this._transform.projection.supportsFog)return 0;const f=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:o.O(rr,dr,d))*f.a}getOpacityAtLatLng(d,f){return this._transform.projection.supportsFog?function(x,M,T){const L=o.L.fromLngLat(M),j=T.elevation?T.elevation.getAtPointOrZero(L):0;return vn(x,L.x,L.y,j,T)}(this.state,d,f):0}getOpacityForTile(d){if(!this._transform.projection.supportsFog)return[1,1];const f=this._transform.calculateFogTileMatrix(d.toUnwrapped());return In(this.state,f,0,0,o.V,o.V,this._transform)}getOpacityForBounds(d,f,x,M,T){return this._transform.projection.supportsFog?In(this.state,d,f,x,M,T,this._transform):[1,1]}getFovAdjustedRange(d){return this._transform.projection.supportsFog?hn(this.state,d):[0,1]}isVisibleOnFrustum(d){if(!this._transform.projection.supportsFog)return!1;const f=[4,5,6,7];for(const x of f){const M=d.points[x];let T;if(M[2]>=0)T=M;else{const L=d.points[x-4];T=o.W(L,M,L[2]/(L[2]-M[2]))}if(vn(this.state,T[0],T[1],0,this._transform)>=ar)return!0}return!1}updateConfig(d){this._transitionable.setTransitionOrValue(this._options,new Map(d))}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}_validate(d,f,x){return(!x||x.validate!==!1)&&St(this,d.call(Zt,o.e({value:f,style:{glyphs:!0,sprite:!0},styleSpec:o.D})))}}class kn extends o.E{constructor(d,f,x,M){super(),this.scope=x,this._options=d,this.properties=new o.Q(f),this._transitionable=new o.J(f,x,new Map(M)),this._transitionable.setTransitionOrValue(d.properties),this._transitioning=this._transitionable.untransitioned()}updateConfig(d){this._transitionable.setTransitionOrValue(this._options.properties,new Map(d))}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}get(){return this._options.properties=this._transitionable.serialize(),this._options}set(d,f){this._options=d,this._transitionable.setTransitionOrValue(d.properties,f)}shadowsEnabled(){return!!this.properties&&this.properties.get("cast-shadows")===!0}}const hr=new o.F({color:new o.G(o.D.properties_light_ambient.color),intensity:new o.G(o.D.properties_light_ambient.intensity)}),Ht=new o.F({direction:new o.X(o.D.properties_light_directional.direction),color:new o.G(o.D.properties_light_directional.color),intensity:new o.G(o.D.properties_light_directional.intensity),"cast-shadows":new o.G(o.D.properties_light_directional["cast-shadows"]),"shadow-intensity":new o.G(o.D.properties_light_directional["shadow-intensity"])});class Un{constructor(d,f,x,M){this.screenBounds=d,this.cameraPoint=f,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=x,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,M)}static createFromScreenPoints(d,f){let x,M;if(d instanceof o.P||typeof d[0]=="number"){const T=o.P.convert(d);x=[T],M=f.isPointAboveHorizon(T)}else{const T=o.P.convert(d[0]),L=o.P.convert(d[1]);x=[T,L],M=o.Y(T,L).every(j=>f.isPointAboveHorizon(j))}return new Un(x,f.getCameraPoint(),M,f)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(d){return o.Y(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],d)}bufferedCameraGeometry(d){const f=this.screenBounds[0],x=this.screenBounds.length===1?this.screenBounds[0].add(new o.P(1,1)):this.screenBounds[1],M=o.Y(f,x,0,!1);return this.cameraPoint.y>x.y&&(this.cameraPoint.x>f.x&&this.cameraPoint.x<x.x?M.splice(3,0,this.cameraPoint):this.cameraPoint.x>=x.x?M[2]=this.cameraPoint:this.cameraPoint.x<=f.x&&(M[3]=this.cameraPoint)),o._(M,d)}bufferedCameraGeometryGlobe(d){const f=this.screenBounds[0],x=this.screenBounds.length===1?this.screenBounds[0].add(new o.P(1,1)):this.screenBounds[1],M=o.Y(f,x,d),T=this.cameraPoint.clone();switch(3*((T.y>f.y)+(T.y>x.y))+((T.x>f.x)+(T.x>x.x))){case 0:M[0]=T,M[4]=T.clone();break;case 1:M.splice(1,0,T);break;case 2:M[1]=T;break;case 3:M.splice(4,0,T);break;case 5:M.splice(2,0,T);break;case 6:M[3]=T;break;case 7:M.splice(3,0,T);break;case 8:M[2]=T}return M}containsTile(d,f,x,M=0){const T=d.queryPadding/f._pixelsPerMercatorPixel+1,L=x?this._bufferedCameraMercator(T,f):this._bufferedScreenMercator(T,f);let j=d.tileID.wrap+(L.unwrapped?M:0);const H=L.polygon.map(Se=>o.$(d.tileTransform,Se,j));if(!o.a0(H,0,0,o.V,o.V))return;j=d.tileID.wrap+(this.screenGeometryMercator.unwrapped?M:0);const G=this.screenGeometryMercator.polygon.map(Se=>o.a1(d.tileTransform,Se,j)),q=G.map(Se=>new o.P(Se[0],Se[1])),J=f.getFreeCameraOptions().position||new o.L(0,0,0),ie=o.a1(d.tileTransform,J,j),se=G.map(Se=>{const pe=o.N.sub(Se,Se,ie);return o.N.normalize(pe,pe),new o.a2(ie,pe)}),_e=o.a3(d,1,f.zoom)*f._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:q,tilespaceRays:se,bufferedTilespaceGeometry:H,bufferedTilespaceBounds:(ve=o.a4(H),ve.min.x=o.aa(ve.min.x,0,o.V),ve.min.y=o.aa(ve.min.y,0,o.V),ve.max.x=o.aa(ve.max.x,0,o.V),ve.max.y=o.aa(ve.max.y,0,o.V),ve),tile:d,tileID:d.tileID,pixelToTileUnitsFactor:_e};var ve}_bufferedScreenMercator(d,f){const x=Tt(d);if(this._screenRaycastCache[x])return this._screenRaycastCache[x];{let M;return M=f.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(d),f):{polygon:this.bufferedScreenGeometry(d).map(T=>f.pointCoordinate3D(T)),unwrapped:!0},this._screenRaycastCache[x]=M,M}}_bufferedCameraMercator(d,f){const x=Tt(d);if(this._cameraRaycastCache[x])return this._cameraRaycastCache[x];{let M;return M=f.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(d),f):{polygon:this.bufferedCameraGeometry(d).map(T=>f.pointCoordinate3D(T)),unwrapped:!0},this._cameraRaycastCache[x]=M,M}}_projectAndResample(d,f){const x=function(T,L){const j=o.a6.multiply([],L.pixelMatrix,L.globeMatrix),H=[0,-o.ab,0,1],G=[0,o.ab,0,1],q=[0,0,0,1];o.a7.transformMat4(H,H,j),o.a7.transformMat4(G,G,j),o.a7.transformMat4(q,q,j);const J=new o.P(H[0]/H[3],H[1]/H[3]),ie=new o.P(G[0]/G[3],G[1]/G[3]),se=o.a8(T,J)&&H[3]<q[3],_e=o.a8(T,ie)&&G[3]<q[3];if(!se&&!_e)return null;const ve=function(Le,He,Ge){for(let Je=1;Je<Le.length;Je++){const xt=ut(He.pointCoordinate3D(Le[Je-1]).x),at=ut(He.pointCoordinate3D(Le[Je]).x);if(Ge<0){if(xt<at)return{idx:Je,t:-xt/(at-1-xt)}}else if(at<xt)return{idx:Je,t:(1-xt)/(at+1-xt)}}return null}(T,L,se?-1:1);if(!ve)return null;const{idx:Se,t:pe}=ve;let Ce=Se>1?rt(T.slice(0,Se),L):[],Re=Se<T.length?rt(T.slice(Se),L):[];Ce=Ce.map(Le=>new o.P(ut(Le.x),Le.y)),Re=Re.map(Le=>new o.P(ut(Le.x),Le.y));const Pe=[...Ce];Pe.length===0&&Pe.push(Re[Re.length-1]);const De=o.U(Pe[Pe.length-1].y,(Re.length===0?Ce[0]:Re[0]).y,pe);let Ae;return Ae=se?[new o.P(0,De),new o.P(0,0),new o.P(1,0),new o.P(1,De)]:[new o.P(1,De),new o.P(1,1),new o.P(0,1),new o.P(0,De)],Pe.push(...Ae),Re.length===0?Pe.push(Ce[0]):Pe.push(...Re),{polygon:Pe.map(Le=>new o.L(Le.x,Le.y)),unwrapped:!1}}(d,f);if(x)return x;const M=function(T,L){let j=!1,H=-1/0,G=0;for(let J=0;J<T.length-1;J++)T[J].x>H&&(H=T[J].x,G=J);for(let J=0;J<T.length-1;J++){const ie=(G+J)%(T.length-1),se=T[ie],_e=T[ie+1];Math.abs(se.x-_e.x)>.5&&(se.x<_e.x?(se.x+=1,ie===0&&(T[T.length-1].x+=1)):(_e.x+=1,ie+1===T.length-1&&(T[0].x+=1)),j=!0)}const q=o.a5(L.center.lng);return j&&q<Math.abs(q-1)&&T.forEach(J=>{J.x-=1}),{polygon:T,unwrapped:j}}(rt(d,f).map(T=>new o.P(ut(T.x),T.y)),f);return{polygon:M.polygon.map(T=>new o.L(T.x,T.y)),unwrapped:M.unwrapped}}}function rt(_,d){return o.a9(_,f=>{const x=d.pointCoordinate3D(f);f.x=x.x,f.y=x.y},1/256)}function ut(_){return _<0?1+_%1:_%1}function Tt(_){return 100*_|0}function Rt(_,d,f,x,M){const T=function(L,j){if(L)return M(L);if(j){_.url&&j.tiles&&_.tiles&&delete _.tiles;const H=o.ac(o.e(j,_),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);j.vector_layers&&(H.vectorLayers=j.vector_layers,H.vectorLayerIds=H.vectorLayers.map(G=>G.id)),j.raster_layers&&(H.rasterLayers=j.raster_layers,H.rasterLayerIds=H.rasterLayers.map(G=>G.id)),H.tiles=d.canonicalizeTileset(H,_.url),M(null,H)}};return _.url?o.g(d.transformRequest(d.normalizeSourceURL(_.url,null,f,x),o.R.Source),T):o.f.frame(()=>T(null,_))}class Gt{constructor(d,f,x){this.bounds=o.ad.convert(this.validateBounds(d)),this.minzoom=f||0,this.maxzoom=x||24}validateBounds(d){return Array.isArray(d)&&d.length===4?[Math.max(-180,d[0]),Math.max(-90,d[1]),Math.min(180,d[2]),Math.min(90,d[3])]:[-180,-90,180,90]}contains(d){const f=Math.pow(2,d.z),x=Math.floor(o.a5(this.bounds.getWest())*f),M=Math.floor(o.ae(this.bounds.getNorth())*f),T=Math.ceil(o.a5(this.bounds.getEast())*f),L=Math.ceil(o.ae(this.bounds.getSouth())*f);return d.x>=x&&d.x<T&&d.y>=M&&d.y<L}}class Qt extends o.E{constructor(d,f,x,M){if(super(),this.id=d,this.dispatcher=x,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.ac(f,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},f),this._collectResourceTiming=!!f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(M),this._tileWorkers={},this._deduped=new o.af}load(d){this._loaded=!1,this.fire(new o.b("dataloading",{dataType:"source"}));const f=Array.isArray(this.map._language)?this.map._language.join():this.map._language,x=this.map._worldview;this._tileJSONRequest=Rt(this._options,this.map._requestManager,f,x,(M,T)=>{this._tileJSONRequest=null,this._loaded=!0,M?(f&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${f}`),x&&x.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${x}`),this.fire(new o.a(M))):T&&(o.e(this,T),T.bounds&&(this.tileBounds=new Gt(T.bounds,this.minzoom,this.maxzoom)),o.aj(T.tiles,this.map._requestManager._customAccessToken),this.fire(new o.b("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.b("data",{dataType:"source",sourceDataType:"content"}))),d&&d(M)})}loaded(){return this._loaded}hasTile(d){return!this.tileBounds||this.tileBounds.contains(d.canonical)}onAdd(d){this.map=d,this.load()}reload(){this.cancelTileJSONRequest();const d=o.ag(this.id,this.scope);this.load(()=>this.map.style.clearSource(d))}setTiles(d){return this._options.tiles=d,this.reload(),this}setUrl(d){return this.url=d,this._options.url=d,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return o.e({},this._options)}loadTile(d,f){const x=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme)),M={request:this.map._requestManager.transformRequest(x,o.R.Tile),data:void 0,uid:d.uid,tileID:d.tileID,tileZoom:d.tileZoom,zoom:d.tileID.overscaledZ,tileSize:this.tileSize*d.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,pixelRatio:o.f.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:d.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,extraShadowCaster:d.isExtraShadowCaster};if(M.request.collectResourceTiming=this._collectResourceTiming,d.actor&&d.state!=="expired")d.state==="loading"?d.reloadCallback=f:d.request=d.actor.send("reloadTile",M,T.bind(this));else if(d.actor=this._tileWorkers[x]=this._tileWorkers[x]||this.dispatcher.getActor(),this.dispatcher.ready)d.request=d.actor.send("loadTile",M,T.bind(this),void 0,!0);else{const L=o.ah.call({deduped:this._deduped},M,(j,H)=>{j||!H?T.call(this,j):(M.data={cacheControl:H.cacheControl,expires:H.expires,rawData:H.rawData.slice(0)},d.actor&&d.actor.send("loadTile",M,T.bind(this),void 0,!0))},!0);d.request={cancel:L}}function T(L,j){return delete d.request,d.aborted?f(null):L&&L.status!==404?f(L):(j&&j.resourceTiming&&(d.resourceTiming=j.resourceTiming),this.map._refreshExpiredTiles&&j&&d.setExpiryData(j),d.loadVectorData(j,this.map.painter),o.ai(this.dispatcher),f(null),void(d.reloadCallback&&(this.loadTile(d,d.reloadCallback),d.reloadCallback=null)))}}abortTile(d){d.request&&(d.request.cancel(),delete d.request),d.actor&&d.actor.send("abortTile",{uid:d.uid,type:this.type,source:this.id,scope:this.scope})}unloadTile(d){d.actor&&d.actor.send("removeTile",{uid:d.uid,type:this.type,source:this.id,scope:this.scope}),d.destroy()}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class zt extends o.E{constructor(d,f,x,M){super(),this.id=d,this.dispatcher=x,this.setEventedParent(M),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},f),o.e(this,o.ac(f,["url","scheme","tileSize"]))}load(d){this._loaded=!1,this.fire(new o.b("dataloading",{dataType:"source"})),this._tileJSONRequest=Rt(this._options,this.map._requestManager,null,null,(f,x)=>{this._tileJSONRequest=null,this._loaded=!0,f?this.fire(new o.a(f)):x&&(o.e(this,x),x.bounds&&(this.tileBounds=new Gt(x.bounds,this.minzoom,this.maxzoom)),o.aj(x.tiles),this.fire(new o.b("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.b("data",{dataType:"source",sourceDataType:"content"}))),d&&d(f)})}loaded(){return this._loaded}onAdd(d){this.map=d,this.load()}reload(){this.cancelTileJSONRequest();const d=o.ag(this.id,this.scope);this.load(()=>this.map.style.clearSource(d))}setTiles(d){return this._options.tiles=d,this.reload(),this}setUrl(d){return this.url=d,this._options.url=d,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return o.e({},this._options)}hasTile(d){return!this.tileBounds||this.tileBounds.contains(d.canonical)}loadTile(d,f){const x=o.f.devicePixelRatio>=2,M=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme),x,this.tileSize);d.request=o.d(this.map._requestManager.transformRequest(M,o.R.Tile),(T,L,j,H)=>(delete d.request,d.aborted?(d.state="unloaded",f(null)):T?(d.state="errored",f(T)):L?(this.map._refreshExpiredTiles&&d.setExpiryData({cacheControl:j,expires:H}),d.setTexture(L,this.map.painter),d.state="loaded",o.ai(this.dispatcher),void f(null)):f(null)))}abortTile(d,f){d.request&&(d.request.cancel(),delete d.request),f()}unloadTile(d,f){d.texture&&d.texture instanceof o.T?(d.destroy(!0),d.texture&&d.texture instanceof o.T&&this.map.painter.saveTileTexture(d.texture)):d.destroy(),f()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class dt extends zt{constructor(d,f,x,M){super(d,f,x,M),this.type="raster-array",this.maxzoom=22,this._options=o.e({type:"raster-array"},f)}triggerRepaint(d){const f=this.map.painter._terrain,x=this.map.style.getSourceCache(this.id);f&&f.enabled&&x&&f._clearRenderCacheForTile(x.id,d.tileID),this.map.triggerRepaint()}loadTile(d,f){const x=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize),M=this.map._requestManager.transformRequest(x,o.R.Tile);d.requestParams=M,d.actor||(d.actor=this.dispatcher.getActor()),d.request=d.fetchHeader(void 0,(T,L,j,H)=>{if(delete d.request,d.aborted)return d.state="unloaded",f(null);if(T)return T.code===20?void 0:(d.state="errored",f(T));this.map._refreshExpiredTiles&&d.setExpiryData({cacheControl:j,expires:H}),d.state="empty",f(null)})}unloadTile(d){const f=d.texture;f&&f instanceof o.T?(d.destroy(!0),this.map.painter.saveTileTexture(f)):(d.destroy(),d.flushQueues(),d._isHeaderLoaded=!1,delete d._mrt,delete d.textureDescriptor),d.fbo&&(d.fbo.destroy(),delete d.fbo),delete d.request,delete d.requestParams,delete d.neighboringTiles,d.state="unloaded"}prepareTile(d,f,x){d._isHeaderLoaded&&(d.state!=="empty"&&(d.state="reloading"),d.fetchBand(f,x,(M,T)=>{if(M)return d.state="errored",this.fire(new o.a(M)),void this.triggerRepaint(d);T&&(d.setTexture(T,this.map.painter),d.state="loaded",this.triggerRepaint(d))}))}getInitialBand(d){if(!this.rasterLayers)return 0;const f=this.rasterLayers.find(({id:T})=>T===d),x=f&&f.fields,M=x&&x.bands&&x.bands;return M?M[0]:0}getTextureDescriptor(d,f,x){if(!d)return;const M=f.sourceLayer||this.rasterLayerIds&&this.rasterLayerIds[0];if(!M)return;let T=null;f instanceof o.an?T=f.paint.get("raster-array-band"):f instanceof o.ao&&(T=f.paint.get("raster-particle-array-band"));const L=T||this.getInitialBand(M);if(L!=null)if(d.textureDescriptor){if(!d.updateNeeded(M,L)||x)return Object.assign({},d.textureDescriptor,{texture:d.texture})}else this.prepareTile(d,M,L)}}const At=32,kt=33,Cn=new Uint16Array(8184);for(let _=0;_<2046;_++){let d=_+2,f=0,x=0,M=0,T=0,L=0,j=0;for(1&d?M=T=L=At:f=x=j=At;(d>>=1)>1;){const G=f+M>>1,q=x+T>>1;1&d?(M=f,T=x,f=L,x=j):(f=M,x=T,M=L,T=j),L=G,j=q}const H=4*_;Cn[H+0]=f,Cn[H+1]=x,Cn[H+2]=M,Cn[H+3]=T}const $n=new Uint16Array(2178),_n=new Uint8Array(1089),sr=new Uint16Array(1089);function zr(_){return _===0?-.03125:_===32?.03125:0}class cn{constructor(d,f,x,M){this.id=cn.uniqueIdxCounter,cn.uniqueIdxCounter++,this.context=d;const T=d.gl;this.buffer=T.createBuffer(),this.dynamicDraw=!!x,this.context.unbindVAO(),d.bindElementBuffer.set(this.buffer),T.bufferData(T.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?T.DYNAMIC_DRAW:T.STATIC_DRAW),this.dynamicDraw||M||f.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(d){this.id=cn.uniqueIdxCounter,cn.uniqueIdxCounter++;const f=this.context.gl;this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,d.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}cn.uniqueIdxCounter=0;const Nn={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class pr{constructor(d,f,x,M,T,L){this.length=f.length,this.attributes=x,this.itemSize=f.bytesPerElement,this.dynamicDraw=M,this.instanceCount=L,this.context=d;const j=d.gl;this.buffer=j.createBuffer(),d.bindVertexBuffer.set(this.buffer),j.bufferData(j.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?j.DYNAMIC_DRAW:j.STATIC_DRAW),this.dynamicDraw||T||f.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(d){const f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,d.arrayBuffer)}enableAttributes(d,f){for(let x=0;x<this.attributes.length;x++){const M=f.attributes[this.attributes[x].name];M!==void 0&&d.enableVertexAttribArray(M)}}setVertexAttribPointers(d,f,x){for(let M=0;M<this.attributes.length;M++){const T=this.attributes[M],L=f.attributes[T.name];L!==void 0&&d.vertexAttribPointer(L,T.components,d[Nn[T.type]],!1,this.itemSize,T.offset+this.itemSize*(x||0))}}setVertexAttribDivisor(d,f,x){for(let M=0;M<this.attributes.length;M++){const T=f.attributes[this.attributes[M].name];T!==void 0&&this.instanceCount&&this.instanceCount>0&&d.vertexAttribDivisor(T,x)}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class qn{constructor(d){this.gl=d.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(d){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class li extends qn{getDefault(){return o.ax.transparent}set(d){const f=this.current;(d.r!==f.r||d.g!==f.g||d.b!==f.b||d.a!==f.a||this.dirty)&&(this.gl.clearColor(d.r,d.g,d.b,d.a),this.current=d,this.dirty=!1)}}class Po extends qn{getDefault(){return 1}set(d){(d!==this.current||this.dirty)&&(this.gl.clearDepth(d),this.current=d,this.dirty=!1)}}class wi extends qn{getDefault(){return 0}set(d){(d!==this.current||this.dirty)&&(this.gl.clearStencil(d),this.current=d,this.dirty=!1)}}class ss extends qn{getDefault(){return[!0,!0,!0,!0]}set(d){const f=this.current;(d[0]!==f[0]||d[1]!==f[1]||d[2]!==f[2]||d[3]!==f[3]||this.dirty)&&(this.gl.colorMask(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class $o extends qn{getDefault(){return!0}set(d){(d!==this.current||this.dirty)&&(this.gl.depthMask(d),this.current=d,this.dirty=!1)}}class xa extends qn{getDefault(){return 255}set(d){(d!==this.current||this.dirty)&&(this.gl.stencilMask(d),this.current=d,this.dirty=!1)}}class wa extends qn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(d){const f=this.current;(d.func!==f.func||d.ref!==f.ref||d.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(d.func,d.ref,d.mask),this.current=d,this.dirty=!1)}}class qo extends qn{getDefault(){const d=this.gl;return[d.KEEP,d.KEEP,d.KEEP]}set(d){const f=this.current;(d[0]!==f[0]||d[1]!==f[1]||d[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(d[0],d[1],d[2]),this.current=d,this.dirty=!1)}}class _l extends qn{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const f=this.gl;d?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=d,this.dirty=!1}}class xs extends qn{getDefault(){return[0,1]}set(d){const f=this.current;(d[0]!==f[0]||d[1]!==f[1]||this.dirty)&&(this.gl.depthRange(d[0],d[1]),this.current=d,this.dirty=!1)}}class Ka extends qn{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const f=this.gl;d?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=d,this.dirty=!1}}class pa extends qn{getDefault(){return this.gl.LESS}set(d){(d!==this.current||this.dirty)&&(this.gl.depthFunc(d),this.current=d,this.dirty=!1)}}class Pi extends qn{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const f=this.gl;d?f.enable(f.BLEND):f.disable(f.BLEND),this.current=d,this.dirty=!1}}class ci extends qn{getDefault(){const d=this.gl;return[d.ONE,d.ZERO,d.ONE,d.ZERO]}set(d){const f=this.current;(d[0]!==f[0]||d[1]!==f[1]||d[2]!==f[2]||d[3]!==f[3]||this.dirty)&&(this.gl.blendFuncSeparate(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class lr extends qn{getDefault(){return o.ax.transparent}set(d){const f=this.current;(d.r!==f.r||d.g!==f.g||d.b!==f.b||d.a!==f.a||this.dirty)&&(this.gl.blendColor(d.r,d.g,d.b,d.a),this.current=d,this.dirty=!1)}}class cr extends qn{getDefault(){return this.gl.FUNC_ADD}set(d){(d!==this.current||this.dirty)&&(this.gl.blendEquationSeparate(d,d),this.current=d,this.dirty=!1)}}class kr extends qn{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const f=this.gl;d?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=d,this.dirty=!1}}class ur extends qn{getDefault(){return this.gl.BACK}set(d){(d!==this.current||this.dirty)&&(this.gl.cullFace(d),this.current=d,this.dirty=!1)}}class Ui extends qn{getDefault(){return this.gl.CCW}set(d){(d!==this.current||this.dirty)&&(this.gl.frontFace(d),this.current=d,this.dirty=!1)}}let wo=class extends qn{getDefault(){return null}set(_){(_!==this.current||this.dirty)&&(this.gl.useProgram(_),this.current=_,this.dirty=!1)}};class oa extends qn{getDefault(){return this.gl.TEXTURE0}set(d){(d!==this.current||this.dirty)&&(this.gl.activeTexture(d),this.current=d,this.dirty=!1)}}class qa extends qn{getDefault(){const d=this.gl;return[0,0,d.drawingBufferWidth,d.drawingBufferHeight]}set(d){const f=this.current;(d[0]!==f[0]||d[1]!==f[1]||d[2]!==f[2]||d[3]!==f[3]||this.dirty)&&(this.gl.viewport(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class Ji extends qn{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,d),this.current=d,this.dirty=!1}}class La extends qn{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,d),this.current=d,this.dirty=!1}}class ls extends qn{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const f=this.gl;f.bindTexture(f.TEXTURE_2D,d),this.current=d,this.dirty=!1}}class cs extends qn{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,d),this.current=d,this.dirty=!1}}class Pn extends qn{getDefault(){return null}set(d){const f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,d),this.current=d,this.dirty=!1}}class ni extends qn{getDefault(){return null}set(d){this.gl&&(d!==this.current||this.dirty)&&(this.gl.bindVertexArray(d),this.current=d,this.dirty=!1)}}class Xr extends qn{getDefault(){return 4}set(d){if(d===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,d),this.current=d,this.dirty=!1}}class jo extends qn{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d),this.current=d,this.dirty=!1}}class Rc extends qn{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,d),this.current=d,this.dirty=!1}}class Kr extends qn{constructor(d,f){super(d),this.context=d,this.parent=f}getDefault(){return null}}class ah extends Kr{setDirty(){this.dirty=!0}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,d,0),this.current=d,this.dirty=!1}}class Xo extends Kr{attachment(){return this.gl.DEPTH_ATTACHMENT}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,this.attachment(),f.RENDERBUFFER,d),this.current=d,this.dirty=!1}}class xl extends Kr{attachment(){return this.gl.DEPTH_ATTACHMENT}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,this.attachment(),f.TEXTURE_2D,d,0),this.current=d,this.dirty=!1}}class aa extends Xo{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Hi{constructor(d,f,x,M,T){this.context=d,this.width=f,this.height=x;const L=this.framebuffer=d.gl.createFramebuffer();M&&(this.colorAttachment=new ah(d,L)),T&&(this.depthAttachmentType=T,this.depthAttachment=T==="renderbuffer"?new Xo(d,L):new xl(d,L))}destroy(){const d=this.context.gl;if(this.colorAttachment){const f=this.colorAttachment.get();f&&d.deleteTexture(f)}if(this.depthAttachment&&this.depthAttachmentType)if(this.depthAttachmentType==="renderbuffer"){const f=this.depthAttachment.get();f&&d.deleteRenderbuffer(f)}else{const f=this.depthAttachment.get();f&&d.deleteTexture(f)}d.deleteFramebuffer(this.framebuffer)}}class Qn{constructor(d,f,x){this.func=d,this.mask=f,this.range=x}}Qn.ReadOnly=!1,Qn.ReadWrite=!0,Qn.disabled=new Qn(519,Qn.ReadOnly,[0,1]);const wl=7680;class gr{constructor(d,f,x,M,T,L){this.test=d,this.ref=f,this.mask=x,this.fail=M,this.depthFail=T,this.pass=L}}gr.disabled=new gr({func:519,mask:0},0,0,wl,wl,wl);const Sl=771;class xn{constructor(d,f,x,M){this.blendFunction=d,this.blendColor=f,this.mask=x,this.blendEquation=M}}xn.Replace=[1,0,1,0],xn.disabled=new xn(xn.Replace,o.ax.transparent,[!1,!1,!1,!1]),xn.unblended=new xn(xn.Replace,o.ax.transparent,[!0,!0,!0,!0]),xn.alphaBlended=new xn([1,Sl,1,Sl],o.ax.transparent,[!0,!0,!0,!0]),xn.multiply=new xn([774,0,774,0],o.ax.transparent,[!0,!0,!0,!0]);const jr=1029,pi=2305;class Rn{constructor(d,f,x){this.enable=d,this.mode=f,this.frontFace=x}}Rn.disabled=new Rn(!1,jr,pi),Rn.backCCW=new Rn(!0,jr,pi),Rn.backCW=new Rn(!0,jr,2304),Rn.frontCW=new Rn(!0,1028,2304),Rn.frontCCW=new Rn(!0,1028,pi);class go{constructor(d,f){this.gl=d,this.clearColor=new li(this),this.clearDepth=new Po(this),this.clearStencil=new wi(this),this.colorMask=new ss(this),this.depthMask=new $o(this),this.stencilMask=new xa(this),this.stencilFunc=new wa(this),this.stencilOp=new qo(this),this.stencilTest=new _l(this),this.depthRange=new xs(this),this.depthTest=new Ka(this),this.depthFunc=new pa(this),this.blend=new Pi(this),this.blendFunc=new ci(this),this.blendColor=new lr(this),this.blendEquation=new cr(this),this.cullFace=new kr(this),this.cullFaceSide=new ur(this),this.frontFace=new Ui(this),this.program=new wo(this),this.activeTexture=new oa(this),this.viewport=new qa(this),this.bindFramebuffer=new Ji(this),this.bindRenderbuffer=new La(this),this.bindTexture=new ls(this),this.bindVertexBuffer=new cs(this),this.bindElementBuffer=new Pn(this),this.bindVertexArrayOES=new ni(this),this.pixelStoreUnpack=new Xr(this),this.pixelStoreUnpackPremultiplyAlpha=new jo(this),this.pixelStoreUnpackFlipY=new Rc(this),this.options=f?{...f}:{},this.options.extTextureFilterAnisotropicForceOff||(this.extTextureFilterAnisotropic=d.getExtension("EXT_texture_filter_anisotropic")||d.getExtension("MOZ_EXT_texture_filter_anisotropic")||d.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=d.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),this.extDebugRendererInfo=d.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=d.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=d.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.options.extTextureFloatLinearForceOff||(this.extTextureFloatLinear=d.getExtension("OES_texture_float_linear")),this.extRenderToTextureHalfFloat=d.getExtension("EXT_color_buffer_half_float"),this.extTimerQuery=d.getExtension("EXT_disjoint_timer_query_webgl2"),this.maxTextureSize=d.getParameter(d.MAX_TEXTURE_SIZE),this.maxPointSize=d.getParameter(d.ALIASED_POINT_SIZE_RANGE)[1]}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArrayOES.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(d,f,x){return new cn(this,d,f,x)}createVertexBuffer(d,f,x,M,T){return new pr(this,d,f,x,M,T)}createRenderbuffer(d,f,x){const M=this.gl,T=M.createRenderbuffer();return this.bindRenderbuffer.set(T),M.renderbufferStorage(M.RENDERBUFFER,d,f,x),this.bindRenderbuffer.set(null),T}createFramebuffer(d,f,x,M){return new Hi(this,d,f,x,M)}clear({color:d,depth:f,stencil:x,colorMask:M}){const T=this.gl;let L=0;d&&(L|=T.COLOR_BUFFER_BIT,this.clearColor.set(d),this.colorMask.set(M||[!0,!0,!0,!0])),f!==void 0&&(L|=T.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),x!==void 0&&(L|=T.STENCIL_BUFFER_BIT,this.clearStencil.set(x),this.stencilMask.set(255)),T.clear(L)}setCullFace(d){d.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(d.mode),this.frontFace.set(d.frontFace))}setDepthMode(d){d.func!==this.gl.ALWAYS||d.mask?(this.depthTest.set(!0),this.depthFunc.set(d.func),this.depthMask.set(d.mask),this.depthRange.set(d.range)):this.depthTest.set(!1)}setStencilMode(d){d.test.func!==this.gl.ALWAYS||d.mask?(this.stencilTest.set(!0),this.stencilMask.set(d.mask),this.stencilOp.set([d.fail,d.depthFail,d.pass]),this.stencilFunc.set({func:d.test.func,ref:d.ref,mask:d.test.mask})):this.stencilTest.set(!1)}setColorMode(d){m(d.blendFunction,xn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(d.blendFunction),this.blendColor.set(d.blendColor),d.blendEquation?this.blendEquation.set(d.blendEquation):this.blendEquation.setDefault()),this.colorMask.set(d.mask)}unbindVAO(){this.bindVertexArrayOES.set(null)}}var Al=o.ay([{name:"a_pos",type:"Float32",components:3}]);class So{constructor(d,f,x,M){const T={width:x[0],height:x[1],data:null},L=d.gl;this.targetColorTexture=new o.T(d,T,L.RGBA,{useMipmap:!1}),this.backgroundColorTexture=new o.T(d,T,L.RGBA,{useMipmap:!1}),this.context=d,this.setNumParticles(f,M),this.lastInvalidatedAt=0}setNumParticles(d,f){if(this.numParticles===f)return;(this.particleVertices0||this.particleVertices1||this.particleSegment)&&(this.particleVertices0.destroy(),this.particleVertices1.destroy(),this.particleSegment.destroy());const x=new o.az;x.reserve(Math.round(f));const M=o.aA(d.key);for(let T=0;T<f;T++)x.emplaceBack(M(),M(),M());this.particleVertices0=this.context.createVertexBuffer(x,Al.members,!0),this.particleVertices1=this.context.createVertexBuffer(x,Al.members,!0),this.particleSegment=o.aB.simpleSegment(0,0,this.particleVertices0.length,0),this.numParticles=f}update(d){return!(this.lastInvalidatedAt<d&&(this.lastInvalidatedAt=o.f.now(),1))}destroy(){this.targetColorTexture.destroy(),this.backgroundColorTexture.destroy(),this.particleVertices0.destroy(),this.particleVertices1.destroy(),this.particleSegment.destroy()}}const ws={type:2,extent:o.V,loadGeometry:()=>[[new o.P(0,0),new o.P(o.V+1,0),new o.P(o.V+1,o.V+1),new o.P(0,o.V+1),new o.P(0,0)]]};class rl{constructor(d,f,x,M,T){this.tileID=d,this.uid=o.aC(),this.uses=0,this.tileSize=f,this.tileZoom=x,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=T,M&&M.style&&(this._lastUpdatedBrightness=M.style.getBrightness()),this.expiredRequestCount=0,this.state="loading",M&&M.transform&&(this.projection=M.transform.projection)}registerFadeDuration(d){const f=d+this.timeAdded;f<o.f.now()||this.fadeEndTime&&f<this.fadeEndTime||(this.fadeEndTime=f)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=o.as(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(d,f,x){if(this.unloadVectorData(),this.state="loaded",d){d.featureIndex&&(this.latestFeatureIndex=d.featureIndex,d.rawTileData?(this.latestRawTileData=d.rawTileData,this.latestFeatureIndex.rawTileData=d.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=d.collisionBoxArray,this.buckets=function(M,T){const L={};if(!T)return L;for(const j of M){const H=j.layerIds.map(G=>T.getLayer(G)).filter(Boolean);if(H.length!==0){j.layers=H,j.stateDependentLayerIds&&(j.stateDependentLayers=j.stateDependentLayerIds.map(G=>H.filter(q=>q.id===G)[0]));for(const G of H)L[G.fqid]=j}}return L}(d.buckets,f.style),this.hasSymbolBuckets=!1;for(const M in this.buckets){const T=this.buckets[M];if(T instanceof o.aE){if(this.hasSymbolBuckets=!0,!x)break;T.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const M in this.buckets){const T=this.buckets[M];if(T instanceof o.aE&&T.hasRTLText){this.hasRTLText=!0,o.aF();break}}this.queryPadding=0;for(const M in this.buckets){const T=this.buckets[M],L=f.style.getOwnLayer(M);if(!L)continue;const j=L.queryRadius(T);this.queryPadding=Math.max(this.queryPadding,j)}d.imageAtlas&&(this.imageAtlas=d.imageAtlas),d.glyphAtlasImage&&(this.glyphAtlasImage=d.glyphAtlasImage),d.lineAtlas&&(this.lineAtlas=d.lineAtlas),this._lastUpdatedBrightness=d.brightness}else this.collisionBoxArray=new o.aD}unloadVectorData(){if(this.hasData()){for(const d in this.buckets)this.buckets[d].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(d){return this.buckets[d.fqid]}upload(d){for(const M in this.buckets){const T=this.buckets[M];T.uploadPending()&&T.upload(d)}const f=d.gl,x=this.imageAtlas;if(x&&!x.uploaded){const M=!!Object.keys(x.patternPositions).length;this.imageAtlasTexture=new o.T(d,x.image,f.RGBA,{useMipmap:M}),this.imageAtlas.uploaded=!0}this.glyphAtlasImage&&(this.glyphAtlasTexture=new o.T(d,this.glyphAtlasImage,f.R8),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new o.T(d,this.lineAtlas.image,f.R8),this.lineAtlas.uploaded=!0)}prepare(d,f,x){if(this.imageAtlas&&this.imageAtlasTexture&&this.imageAtlas.patchUpdatedImages(d,this.imageAtlasTexture,x),!f||!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData)return;const M=f.style.getBrightness();(this._lastUpdatedBrightness||M)&&(this._lastUpdatedBrightness&&M&&Math.abs(this._lastUpdatedBrightness-M)<.001||(this._lastUpdatedBrightness=M,this.updateBuckets(void 0,f)))}queryRenderedFeatures(d,f,x,M,T,L,j,H){return this.latestFeatureIndex&&(this.latestFeatureIndex.rawTileData||this.latestFeatureIndex.is3DTile)?this.latestFeatureIndex.query({tileResult:M,pixelPosMatrix:j,transform:L,params:T,tileTransform:this.tileTransform},d,f,x):{}}querySourceFeatures(d,f){const x=this.latestFeatureIndex;if(!x||!x.rawTileData)return;const M=x.loadVTLayers(),T=f?f.sourceLayer:"",L=M._geojsonTileLayer||M[T];if(!L)return;const j=o.aG(f&&f.filter),{z:H,x:G,y:q}=this.tileID.canonical,J={z:H,x:G,y:q};for(let ie=0;ie<L.length;ie++){const se=L.feature(ie);if(j.needGeometry){const Se=o.aH(se,!0);if(!j.filter(new o.K(this.tileID.overscaledZ),Se,this.tileID.canonical))continue}else if(!j.filter(new o.K(this.tileID.overscaledZ),se))continue;const _e=x.getId(se,T),ve=new o.aI(se,H,G,q,_e);ve.tile=J,d.push(ve)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}bucketsLoaded(){for(const d in this.buckets)if(this.buckets[d].uploadPending())return!1;return!0}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(d){const f=this.expirationTime;if(d.cacheControl){const x=o.aJ(d.cacheControl);x["max-age"]&&(this.expirationTime=Date.now()+1e3*x["max-age"])}else d.expires&&(this.expirationTime=new Date(d.expires).getTime());if(this.expirationTime){const x=Date.now();let M=!1;if(this.expirationTime>x)M=!1;else if(f)if(this.expirationTime<f)M=!0;else{const T=this.expirationTime-f;T?this.expirationTime=x+Math.max(T,3e4):M=!0}else M=!0;M?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(d,f){this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(d).length!==0&&f&&this.updateBuckets(d,f)}updateBuckets(d,f){if(!this.latestFeatureIndex)return;const x=this.latestFeatureIndex.loadVTLayers(),M=f.style.listImages(),T=f.style.getBrightness();for(const L in this.buckets){if(!f.style.hasLayer(L))continue;const j=this.buckets[L],H=j.layers[0].sourceLayer||"_geojsonTileLayer",G=x[H];let q={};if(d&&(q=d[H],!G||!q||Object.keys(q).length===0))continue;if(j.update(q,G,M,this.imageAtlas&&this.imageAtlas.patternPositions||{},T),j instanceof o.aK||j instanceof o.aL){const ie=f.style.getOwnSourceCache(j.layers[0].source);f._terrain&&f._terrain.enabled&&ie&&j.programConfigurations.needsUpload&&f._terrain._clearRenderCacheForTile(ie.id,this.tileID)}const J=f&&f.style&&f.style.getOwnLayer(L);J&&(this.queryPadding=Math.max(this.queryPadding,J.queryRadius(j)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<o.f.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(d){this.symbolFadeHoldUntil=o.f.now()+d}setTexture(d,f){const x=f.context,M=x.gl;this.texture=this.texture||f.getTileTexture(d.width),this.texture&&this.texture instanceof o.T?this.texture.update(d,{useMipmap:!0}):(this.texture=new o.T(x,d,M.RGBA,{useMipmap:!0}),this.texture.bind(M.LINEAR,M.CLAMP_TO_EDGE))}setDependencies(d,f){const x={};for(const M of f)x[M]=!0;this.dependencies[d]=x}hasDependency(d,f){for(const x of d){const M=this.dependencies[x];if(M){for(const T of f)if(M[T])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(d,f){if(!f||f.name==="mercator"||this._tileDebugBuffer)return;const x=o.aM(ws,this.tileID.canonical,this.tileTransform)[0],M=new o.aN,T=new o.aO;for(let L=0;L<x.length;L++){const{x:j,y:H}=x[L];M.emplaceBack(j,H),T.emplaceBack(L)}T.emplaceBack(0),this._tileDebugIndexBuffer=d.createIndexBuffer(T),this._tileDebugBuffer=d.createVertexBuffer(M,o.aP.members),this._tileDebugSegments=o.aB.simpleSegment(0,0,M.length,T.length)}_makeTileBoundsBuffers(d,f){if(this._tileBoundsBuffer||!f||f.name==="mercator")return;const x=o.aM(ws,this.tileID.canonical,this.tileTransform)[0];let M,T;if(this.isRaster){const L=function(j,H){const G=o.as(j,H),q=Math.pow(2,j.z);for(let Se=0;Se<kt;Se++)for(let pe=0;pe<kt;pe++){const Ce=o.at((j.x+(pe+zr(pe))/At)/q),Re=o.au((j.y+(Se+zr(Se))/At)/q),Pe=H.project(Ce,Re),De=Se*kt+pe;$n[2*De+0]=Math.round((Pe.x*G.scale-G.x)*o.V),$n[2*De+1]=Math.round((Pe.y*G.scale-G.y)*o.V)}_n.fill(0),sr.fill(0);for(let Se=2045;Se>=0;Se--){const pe=4*Se,Ce=Cn[pe+0],Re=Cn[pe+1],Pe=Cn[pe+2],De=Cn[pe+3],Ae=Ce+Pe>>1,Le=Re+De>>1,He=Ae+Le-Re,Ge=Le+Ce-Ae,Je=Re*kt+Ce,xt=De*kt+Pe,at=Le*kt+Ae,Nt=Math.hypot(($n[2*Je+0]+$n[2*xt+0])/2-$n[2*at+0],($n[2*Je+1]+$n[2*xt+1])/2-$n[2*at+1])>=16;_n[at]=_n[at]||(Nt?1:0),Se<1022&&(_n[at]=_n[at]||_n[(Re+Ge>>1)*kt+(Ce+He>>1)]||_n[(De+Ge>>1)*kt+(Pe+He>>1)])}const J=new o.av,ie=new o.aw;let se=0;function _e(Se,pe){const Ce=pe*kt+Se;return sr[Ce]===0&&(J.emplaceBack($n[2*Ce+0],$n[2*Ce+1],Se*o.V/At,pe*o.V/At),sr[Ce]=++se),sr[Ce]-1}function ve(Se,pe,Ce,Re,Pe,De){const Ae=Se+Ce>>1,Le=pe+Re>>1;if(Math.abs(Se-Pe)+Math.abs(pe-De)>1&&_n[Le*kt+Ae])ve(Pe,De,Se,pe,Ae,Le),ve(Ce,Re,Pe,De,Ae,Le);else{const He=_e(Se,pe),Ge=_e(Ce,Re),Je=_e(Pe,De);ie.emplaceBack(He,Ge,Je)}}return ve(0,0,At,At,At,0),ve(At,At,0,0,0,At),{vertices:J,indices:ie}}(this.tileID.canonical,f);M=L.vertices,T=L.indices}else{M=new o.av,T=new o.aw;for(const{x:j,y:H}of x)M.emplaceBack(j,H,0,0);const L=o.aQ(M.int16,void 0,4);for(let j=0;j<L.length;j+=3)T.emplaceBack(L[j],L[j+1],L[j+2])}this._tileBoundsBuffer=d.createVertexBuffer(M,o.aR.members),this._tileBoundsIndexBuffer=d.createIndexBuffer(T),this._tileBoundsSegments=o.aB.simpleSegment(0,0,M.length,T.length)}_makeGlobeTileDebugBuffers(d,f){const x=f.projection;if(!x||x.name!=="globe"||f.freezeTileCoverage)return;const M=this.tileID.canonical,T=o.aS(M,f),L=o.aT(T),j=o.S(f.zoom);let H;j>0&&(H=o.a6.invert(new Float64Array(16),f.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(d,M,f,L,H,j),this._makeGlobeTileDebugTextBuffer(d,M,f,L,H,j)}_globePoint(d,f,x,M,T,L,j){let H=o.aU(d,f,x);if(L){const G=1<<x.z,q=o.a5(M.center.lng),J=o.ae(M.center.lat),ie=(x.x+.5)/G-q;let se=0;ie>.5?se=-1:ie<-.5&&(se=1);let _e=(d/o.V+x.x)/G+se,ve=(f/o.V+x.y)/G;_e=(_e-q)*M._pixelsPerMercatorPixel+q,ve=(ve-J)*M._pixelsPerMercatorPixel+J;const Se=[_e*M.worldSize,ve*M.worldSize,0];o.N.transformMat4(Se,Se,L),H=o.aV(H,Se,j)}return o.N.transformMat4(H,H,T)}_makeGlobeTileDebugBorderBuffer(d,f,x,M,T,L){const j=new o.aN,H=new o.aO,G=new o.aW,q=(ie,se,_e,ve,Se)=>{const pe=(_e-ie)/(Se-1),Ce=(ve-se)/(Se-1),Re=j.length;for(let Pe=0;Pe<Se;Pe++){const De=ie+Pe*pe,Ae=se+Pe*Ce;j.emplaceBack(De,Ae);const Le=this._globePoint(De,Ae,f,x,M,T,L);G.emplaceBack(Le[0],Le[1],Le[2]),H.emplaceBack(Re+Pe)}},J=o.V;q(0,0,J,0,16),q(J,0,J,J,16),q(J,J,0,J,16),q(0,J,0,0,16),this._tileDebugIndexBuffer=d.createIndexBuffer(H),this._tileDebugBuffer=d.createVertexBuffer(j,o.aP.members),this._globeTileDebugBorderBuffer=d.createVertexBuffer(G,o.aX.members),this._tileDebugSegments=o.aB.simpleSegment(0,0,j.length,H.length)}_makeGlobeTileDebugTextBuffer(d,f,x,M,T,L){const j=o.V/4,H=new o.aN,G=new o.aw,q=new o.aW,J=25;G.reserve(32),H.reserve(J),q.reserve(J);const ie=(se,_e)=>J*se+_e;for(let se=0;se<J;se++){const _e=se*j;for(let ve=0;ve<J;ve++){const Se=ve*j;H.emplaceBack(Se,_e);const pe=this._globePoint(Se,_e,f,x,M,T,L);q.emplaceBack(pe[0],pe[1],pe[2])}}for(let se=0;se<4;se++)for(let _e=0;_e<4;_e++){const ve=ie(se,_e),Se=ie(se,_e+1),pe=ie(se+1,_e),Ce=ie(se+1,_e+1);G.emplaceBack(ve,Se,pe),G.emplaceBack(pe,Se,Ce)}this._tileDebugTextIndexBuffer=d.createIndexBuffer(G),this._tileDebugTextBuffer=d.createVertexBuffer(H,o.aP.members),this._globeTileDebugTextBuffer=d.createVertexBuffer(q,o.aX.members),this._tileDebugTextSegments=o.aB.simpleSegment(0,0,J,32)}destroy(d=!1){for(const f in this.buckets)this.buckets[f].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&(this.imageAtlasTexture.destroy(),delete this.imageAtlasTexture),this.glyphAtlasTexture&&(this.glyphAtlasTexture.destroy(),delete this.glyphAtlasTexture),this.lineAtlasTexture&&(this.lineAtlasTexture.destroy(),delete this.lineAtlasTexture),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),!d&&this.texture&&this.texture instanceof o.T&&(this.texture.destroy(),delete this.texture),this.hillshadeFBO&&(this.hillshadeFBO.destroy(),delete this.hillshadeFBO),this.dem&&delete this.dem,this.neighboringTiles&&delete this.neighboringTiles,this.demTexture&&(this.demTexture.destroy(),delete this.demTexture),this.rasterParticleState&&(this.rasterParticleState.destroy(),delete this.rasterParticleState),this.latestFeatureIndex=null,this.state="unloaded"}}const su={vector:Qt,raster:zt,"raster-dem":class extends zt{constructor(_,d,f,x){super(_,d,f,x),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox"}loadTile(_,d){const f=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function x(M,T){M&&(_.state="errored",d(M)),T&&(_.dem=T,_.dem.onDeserialize(),_.needsHillshadePrepare=!0,_.needsDEMTextureUpload=!0,_.state="loaded",d(null))}_.request=o.d(this.map._requestManager.transformRequest(f,o.R.Tile),(function(M,T,L,j){if(delete _.request,_.aborted)_.state="unloaded",d(null);else if(M)_.state="errored",d(M);else if(T){this.map._refreshExpiredTiles&&_.setExpiryData({cacheControl:L,expires:j});const H=ImageBitmap&&T instanceof ImageBitmap&&o.ak(),G=1-(T.width-o.al(T.width))/2;G<1||_.neighboringTiles||(_.neighboringTiles=this._getNeighboringTiles(_.tileID));const q=H?T:o.f.getImageData(T,G),J={uid:_.uid,coord:_.tileID,source:this.id,scope:this.scope,rawImageData:q,encoding:this.encoding,padding:G};_.actor&&_.state!=="expired"||(_.actor=this.dispatcher.getActor(),_.actor.send("loadDEMTile",J,x.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(_){const d=_.canonical,f=Math.pow(2,d.z),x=(d.x-1+f)%f,M=d.x===0?_.wrap-1:_.wrap,T=(d.x+1+f)%f,L=d.x+1===f?_.wrap+1:_.wrap,j={};return j[new o.am(_.overscaledZ,M,d.z,x,d.y).key]={backfilled:!1},j[new o.am(_.overscaledZ,L,d.z,T,d.y).key]={backfilled:!1},d.y>0&&(j[new o.am(_.overscaledZ,M,d.z,x,d.y-1).key]={backfilled:!1},j[new o.am(_.overscaledZ,_.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},j[new o.am(_.overscaledZ,L,d.z,T,d.y-1).key]={backfilled:!1}),d.y+1<f&&(j[new o.am(_.overscaledZ,M,d.z,x,d.y+1).key]={backfilled:!1},j[new o.am(_.overscaledZ,_.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},j[new o.am(_.overscaledZ,L,d.z,T,d.y+1).key]={backfilled:!1}),j}},"raster-array":dt,geojson:class extends o.E{constructor(_,d,f,x){super(),this.id=_,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=f.getActor(),this.setEventedParent(x),this._data=d.data,this._options=o.e({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const M=o.V/this.tileSize;this.workerOptions=o.e({source:this.id,scope:this.scope,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(d.buffer!==void 0?d.buffer:128)*M,tolerance:(d.tolerance!==void 0?d.tolerance:.375)*M,extent:o.V,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:o.V,radius:(d.clusterRadius!==void 0?d.clusterRadius:50)*M,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions)}onAdd(_){this.map=_,this.setData(this._data)}setData(_){return this._data=_,this._updateWorkerData(),this}getClusterExpansionZoom(_,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:_,source:this.id,scope:this.scope},d),this}getClusterChildren(_,d){return this.actor.send("geojson.getClusterChildren",{clusterId:_,source:this.id,scope:this.scope},d),this}getClusterLeaves(_,d,f,x){return this.actor.send("geojson.getClusterLeaves",{source:this.id,scope:this.scope,clusterId:_,limit:d,offset:f},x),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new o.b("dataloading",{dataType:"source"})),this._loaded=!1;const _=o.e({},this.workerOptions);_.scope=this.scope;const d=this._data;typeof d=="string"?(_.request=this.map._requestManager.transformRequest(o.f.resolveURL(d),o.R.Source),_.request.collectResourceTiming=this._collectResourceTiming):_.data=JSON.stringify(d),this._pendingLoad=this.actor.send(`${this.type}.loadData`,_,(f,x)=>{if(this._loaded=!0,this._pendingLoad=null,f)this.fire(new o.a(f));else{const M={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&x&&x.resourceTiming&&x.resourceTiming[this.id]&&(M.resourceTiming=x.resourceTiming[this.id]),this.fire(new o.b("data",M)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(_,d){const f=_.actor?"reloadTile":"loadTile";_.actor=this.actor;const x={type:this.type,uid:_.uid,tileID:_.tileID,tileZoom:_.tileZoom,zoom:_.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,scope:this.scope,pixelRatio:o.f.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,brightness:this.map.style&&this.map.style.getBrightness()||0};_.request=this.actor.send(f,x,(M,T)=>(delete _.request,_.destroy(),_.aborted?d(null):M?d(M):(_.loadVectorData(T,this.map.painter,f==="reloadTile"),d(null))),void 0,f==="loadTile")}abortTile(_){_.request&&(_.request.cancel(),delete _.request),_.aborted=!0}unloadTile(_){this.actor.send("removeTile",{uid:_.uid,type:this.type,source:this.id,scope:this.scope}),_.destroy()}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return o.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends o.ap{constructor(_,d,f,x){super(_,d,f,x),this.roundZoom=!0,this.type="video",this.options=d}load(){this._loaded=!1;const _=this.options;this.urls=[];for(const d of _.urls)this.urls.push(this.map._requestManager.transformRequest(d,o.R.Source).url);o.aq(this.urls,(d,f)=>{this._loaded=!0,d?this.fire(new o.a(d)):f&&(this.video=f,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(_){if(this.video){const d=this.video.seekable;_<d.start(0)||_>d.end(0)?this.fire(new o.a(new le(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=_}}getVideo(){return this.video}onAdd(_){this.map||(this.map=_,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const _=this.map.painter.context,d=_.gl;this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new o.T(_,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(_)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:o.ap,model:class extends o.E{constructor(_,d,f,x){super(),this.id=_,this.type="model",this.models=[],this._loaded=!1,this._options=d}load(){const _=[];for(const d in this._options.models){const f=this._options.models[d],x=o.l(this.map._requestManager.transformRequest(f.uri,o.R.Model).url).then(M=>{if(!M)return;const T=o.c(M),L=new o.M(d,f.position,f.orientation,T);L.computeBoundsAndApplyParent(),this.models.push(L)}).catch(M=>{this.fire(new o.a(new Error(`Could not load model ${d} from ${f.uri}: ${M.message}`)))});_.push(x)}return Promise.allSettled(_).then(()=>{this._loaded=!0,this.fire(new o.b("data",{dataType:"source",sourceDataType:"metadata"}))}).catch(d=>{this.fire(new o.a(new Error(`Could not load models: ${d.message}`)))})}onAdd(_){this.map=_,this.load()}hasTransition(){return!1}loaded(){return this._loaded}getModels(){return this.models}loadTile(_,d){}serialize(){return{type:"model"}}},"batched-model":class extends o.E{constructor(_,d,f,x){super(),this.type="batched-model",this.id=_,this.tileSize=512,this._options=d,this.tiles=this._options.tiles,this.maxzoom=d.maxzoom||19,this.minzoom=d.minzoom||0,this.roundZoom=!0,this.usedInConflation=!0,this.dispatcher=f,this.reparseOverscaled=!1,this.scheme="xyz",this._loaded=!1,this.setEventedParent(x)}onAdd(_){this.map=_,this.load()}load(_){this._loaded=!1,this.fire(new o.b("dataloading",{dataType:"source"}));const d=Array.isArray(this.map._language)?this.map._language.join():this.map._language,f=this.map._worldview;this._tileJSONRequest=Rt(this._options,this.map._requestManager,d,f,(x,M)=>{this._tileJSONRequest=null,this._loaded=!0,x?(d&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${d}`),f&&f.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${f}`),this.fire(new o.a(x))):M&&(o.e(this,M),M.bounds&&(this.tileBounds=new Gt(M.bounds,this.minzoom,this.maxzoom)),o.aj(M.tiles,this.map._requestManager._customAccessToken),this.fire(new o.b("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.b("data",{dataType:"source",sourceDataType:"content"}))),_&&_(x)})}hasTransition(){return!1}hasTile(_){return!this.tileBounds||this.tileBounds.contains(_.canonical)}loaded(){return this._loaded}loadTile(_,d){const f=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme)),x={request:this.map._requestManager.transformRequest(f,o.R.Tile),data:void 0,uid:_.uid,tileID:_.tileID,tileZoom:_.tileZoom,zoom:_.tileID.overscaledZ,tileSize:this.tileSize*_.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,showCollisionBoxes:this.map.showCollisionBoxes,isSymbolTile:_.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0};if(_.actor&&_.state!=="expired")if(_.state==="loading")_.reloadCallback=d;else{if(_.buckets){const T=Object.values(_.buckets);for(const L of T)L.dirty=!0;return void(_.state="loaded")}_.request=_.actor.send("reloadTile",x,M.bind(this))}else _.actor=this.dispatcher.getActor(),_.request=_.actor.send("loadTile",x,M.bind(this),void 0,!0);function M(T,L){return _.aborted?d(null):T&&T.status!==404?d(T):(L&&(L.resourceTiming&&(_.resourceTiming=L.resourceTiming),this.map._refreshExpiredTiles&&_.setExpiryData(L),_.buckets={..._.buckets,...L.buckets},L.featureIndex&&(_.latestFeatureIndex=L.featureIndex)),_.state="loaded",void d(null))}}serialize(){return o.e({},this._options)}},canvas:class extends o.ap{constructor(_,d,f,x){super(_,d,f,x),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(M=>!Array.isArray(M)||M.length!==2||M.some(T=>typeof T!="number"))||this.fire(new o.a(new le(`sources.${_}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.a(new le(`sources.${_}`,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new o.a(new le(`sources.${_}`,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new o.a(new le(`sources.${_}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.a(new le(`sources.${_}`,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.a(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(_){this.map=_,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let _=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,_=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,_=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const d=this.map.painter.context;this.texture?!_&&!this._playing||this.texture instanceof o.ar||this.texture.update(this.canvas,{premultiply:!0}):this.texture=new o.T(d,this.canvas,d.gl.RGBA,{premultiply:!0}),this._prepareData(d)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const _ of[this.canvas.width,this.canvas.height])if(isNaN(_)||_<=0)return!0;return!1}},custom:class extends o.E{constructor(_,d,f,x){super(),this.id=_,this.type="custom",this._dataType="raster",this._dispatcher=f,this._implementation=d,this.setEventedParent(x),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new o.a(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new o.a(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Gt(this._implementation.bounds,this.minzoom,this.maxzoom)),d.update=this._update.bind(this),d.clearTiles=this._clearTiles.bind(this),d.coveringTiles=this._coveringTiles.bind(this),o.e(this,o.ac(d,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return o.ac(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new o.b("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.b("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(_){this._map=_,this._loaded=!1,this.fire(new o.b("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(_),this.load()}onRemove(_){this._implementation.onRemove&&this._implementation.onRemove(_)}hasTile(_){if(this._implementation.hasTile){const{x:d,y:f,z:x}=_.canonical;return this._implementation.hasTile({x:d,y:f,z:x})}return!this.tileBounds||this.tileBounds.contains(_.canonical)}loadTile(_,d){const{x:f,y:x,z:M}=_.tileID.canonical,T=new AbortController;_.request=Promise.resolve(this._implementation.loadTile({x:f,y:x,z:M},{signal:T.signal})).then((function(L){return delete _.request,_.aborted?(_.state="unloaded",d(null)):L===void 0?(_.state="errored",d(null)):L===null?(this.loadTileData(_,{width:this.tileSize,height:this.tileSize,data:null}),_.state="loaded",d(null)):function(j){return j instanceof ImageData||j instanceof HTMLCanvasElement||j instanceof ImageBitmap||j instanceof HTMLImageElement}(L)?(this.loadTileData(_,L),_.state="loaded",void d(null)):(_.state="errored",d(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(L=>{L.code!==20&&(_.state="errored",d(L))}),_.request.cancel=()=>T.abort()}loadTileData(_,d){_.setTexture(d,this._map.painter)}unloadTile(_,d){if(_.texture&&_.texture instanceof o.T?(_.destroy(!0),_.texture&&_.texture instanceof o.T&&this._map.painter.saveTileTexture(_.texture)):_.destroy(),this._implementation.unloadTile){const{x:f,y:x,z:M}=_.tileID.canonical;this._implementation.unloadTile({x:f,y:x,z:M})}d()}abortTile(_,d){_.request&&_.request.cancel&&(_.request.cancel(),delete _.request),d()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(_=>({x:_.canonical.x,y:_.canonical.y,z:_.canonical.z}))}_clearTiles(){const _=o.ag(this.id,this.scope);this._map.style.clearSource(_)}_update(){this.fire(new o.b("data",{dataType:"source",sourceDataType:"content"}))}}},Yo=function(_,d,f,x){const M=new su[d.type](_,d,f,x);if(M.id!==_)throw new Error(`Expected Source id to be ${_} instead of ${M.id}`);return o.aY(["load","abort","unload","serialize","prepare"],M),M};function t_(_,d){const f=o.a6.identity([]);return o.a6.scale(f,f,[.5*_.width,.5*-_.height,1]),o.a6.translate(f,f,[1,-1,0]),o.a6.multiply(f,f,_.calculateProjMatrix(d.toUnwrapped())),Float32Array.from(f)}function n_(_,d,f,x,M,T,L,j=!1){const H=_.tilesIn(x,L,j);H.sort(mp);const G=[];for(const J of H)G.push({wrappedTileID:J.tile.tileID.wrapped().key,queryResults:J.tile.queryRenderedFeatures(d,f,_._state,J,M,T,t_(_.transform,J.tile.tileID),j)});const q=function(J){const ie={},se={};for(const _e of J){const ve=_e.queryResults,Se=_e.wrappedTileID,pe=se[Se]=se[Se]||{};for(const Ce in ve){const Re=ve[Ce],Pe=pe[Ce]=pe[Ce]||{},De=ie[Ce]=ie[Ce]||[];for(const Ae of Re)Pe[Ae.featureIndex]||(Pe[Ae.featureIndex]=!0,De.push(Ae))}}return ie}(G);for(const J in q)q[J].forEach(ie=>{const se=ie.feature,_e=se.layer;_e&&_e.type!=="background"&&_e.type!=="sky"&&_e.type!=="slot"&&(se.source=_e.source,_e["source-layer"]&&(se.sourceLayer=_e["source-layer"]),se.state=se.id!==void 0?_.getFeatureState(_e["source-layer"],se.id):{})});return q}function lu(_,d){const f=_.getRenderableIds().map(T=>_.getTileByID(T)),x=[],M={};for(let T=0;T<f.length;T++){const L=f[T],j=L.tileID.canonical.key;M[j]||(M[j]=!0,L.querySourceFeatures(x,d))}return x}function mp(_,d){const f=_.tileID,x=d.tileID;return f.overscaledZ-x.overscaledZ||f.canonical.y-x.canonical.y||f.wrap-x.wrap||f.canonical.x-x.canonical.x}class sh extends rl{constructor(d,f,x,M,T){super(d,f,x,M,T),this._workQueue=[],this._fetchQueue=[],this._isHeaderLoaded=!1}setTexture(d,f){const x=f.context,M=x.gl;this.texture=this.texture||f.getTileTexture(d.width),this.texture&&this.texture instanceof o.T?this.texture.update(d,{useMipmap:!1,premultiply:!1}):this.texture=new o.T(x,d,M.RGBA,{useMipmap:!1,premultiply:!1})}flushQueues(){for(;this._workQueue.length;)this._workQueue.pop()();for(;this._fetchQueue.length;)this._fetchQueue.pop()()}fetchHeader(d=16384,f){const x=this._mrt=new o.aZ(30),M=Object.assign({},this.requestParams,{headers:{Range:"bytes=0-"+(d-1)}});return this.entireBuffer=null,this.request=o.a_(M,(T,L,j,H)=>{if(T)f(T);else try{const G=x.getHeaderLength(L);if(G>d)return void(this.request=this.fetchHeader(G,f));x.parseHeader(L),this._isHeaderLoaded=!0;let q=0;for(const J of Object.values(x.layers))q=Math.max(q,J.dataIndex[J.dataIndex.length-1].last_byte);L.byteLength>=q&&(this.entireBuffer=L),f(null,this.entireBuffer||L,j,H)}catch(G){f(G)}}),this.request}fetchBand(d,f,x){const M=this._mrt;if(!this._isHeaderLoaded||!M)return void x(new Error("Tile header is not ready"));const T=this.actor;if(!T)return void x(new Error("Can't fetch tile band without an actor"));let L;const j=(J,ie)=>{L.complete(J,ie),J?x(J):(this.updateTextureDescriptor(d,f),x(null,this.textureDescriptor&&this.textureDescriptor.img))},H=(J,ie)=>{if(J)return x(J);const se=T.send("decodeRasterArray",{buffer:ie,task:L},j,void 0,!0);this._workQueue.push(()=>{se&&se.cancel(),L.cancel()})},G=M.getLayer(d);if(!G)return void x(new Error(`Unknown sourceLayer "${d}"`));if(G.hasDataForBand(f))return this.updateTextureDescriptor(d,f),void x(null,this.textureDescriptor?this.textureDescriptor.img:null);const q=G.getDataRange([f]);if(L=M.createDecodingTask(q),!L||L.tasks.length)if(this.flushQueues(),this.entireBuffer)H(null,this.entireBuffer.slice(q.firstByte,q.lastByte+1));else{const J=Object.assign({},this.requestParams,{headers:{Range:`bytes=${q.firstByte}-${q.lastByte}`}}),ie=o.a_(J,H);this._fetchQueue.push(()=>{ie.cancel(),L.cancel()})}else x(null)}updateNeeded(d,f){return(!this.textureDescriptor||this.textureDescriptor.band!==f||this.textureDescriptor.layer!==d)&&this.state!=="errored"}updateTextureDescriptor(d,f){if(!this._mrt)return;const x=this._mrt.getLayer(d);if(!x||!x.hasBand(f)||!x.hasDataForBand(f))return;const{bytes:M,tileSize:T,buffer:L,offset:j,scale:H}=x.getBandView(f),G=T+2*L,q={data:M,width:G,height:G},J=this.texture;J&&J instanceof o.T&&J.update(q,{useMipmap:!1,premultiply:!1}),this.textureDescriptor={layer:d,band:f,img:q,buffer:L,offset:j,tileSize:T,format:x.pixelFormat,mix:[H,256*H,65536*H,16777216*H]}}}class gp{constructor(d,f){this.max=d,this.onRemove=f,this.reset()}reset(){for(const d in this.data)for(const f of this.data[d])f.timeout&&clearTimeout(f.timeout),this.onRemove(f.value);return this.data={},this.order=[],this}add(d,f,x){const M=d.wrapped().key;this.data[M]===void 0&&(this.data[M]=[]);const T={value:f,timeout:void 0};if(x!==void 0&&(T.timeout=setTimeout(()=>{this.remove(d,T)},x)),this.data[M].push(T),this.order.push(M),this.order.length>this.max){const L=this._getAndRemoveByKey(this.order[0]);L&&this.onRemove(L)}return this}has(d){return d.wrapped().key in this.data}getAndRemove(d){return this.has(d)?this._getAndRemoveByKey(d.wrapped().key):null}_getAndRemoveByKey(d){const f=this.data[d].shift();return f.timeout&&clearTimeout(f.timeout),this.data[d].length===0&&delete this.data[d],this.order.splice(this.order.indexOf(d),1),f.value}getByKey(d){const f=this.data[d];return f?f[0].value:null}get(d){return this.has(d)?this.data[d.wrapped().key][0].value:null}remove(d,f){if(!this.has(d))return this;const x=d.wrapped().key,M=f===void 0?0:this.data[x].indexOf(f),T=this.data[x][M];return this.data[x].splice(M,1),T.timeout&&clearTimeout(T.timeout),this.data[x].length===0&&delete this.data[x],this.onRemove(T.value),this.order.splice(this.order.indexOf(x),1),this}setMaxSize(d){for(this.max=d;this.order.length>this.max;){const f=this._getAndRemoveByKey(this.order[0]);f&&this.onRemove(f)}return this}filter(d){const f=[];for(const x in this.data)for(const M of this.data[x])d(M.value)||f.push(M);for(const x of f)this.remove(x.value.tileID,x)}}class Kl extends o.E{constructor(d,f,x){super(),this.id=d,this._onlySymbols=x,f.on("data",M=>{M.dataType==="source"&&M.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&M.dataType==="source"&&M.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),f.on("error",()=>{this._sourceErrored=!0}),this._source=f,this._tiles={},this._cache=new gp(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=f.minTileCacheSize,this._maxTileCacheSize=f.maxTileCacheSize,this._loadedParentTiles={},this.castsShadows=!1,this.tileCoverLift=0,this._coveredTiles={},this._shadowCasterTiles={},this._state=new oe,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="raster-array"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(d){this.map=d,this._minTileCacheSize=this._minTileCacheSize===void 0&&d?d._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&d?d._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const d in this._tiles){const f=this._tiles[d];if(f.state!=="errored"&&(f.state!=="loaded"||!f.bucketsLoaded()))return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const d=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,d&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(d,f){return d.isSymbolTile=this._onlySymbols,d.isExtraShadowCaster=this._shadowCasterTiles[d.tileID.key],this._source.loadTile(d,f)}_unloadTile(d){if(this._source.unloadTile)return this._source.unloadTile(d,()=>{})}_abortTile(d){if(this._source.abortTile)return this._source.abortTile(d,()=>{})}serialize(){return this._source.serialize()}prepare(d){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const f in this._tiles){const x=this._tiles[f];x.upload(d),x.prepare(this.map.style.imageManager,this.map?this.map.painter:null,this._source.scope)}}getIds(){return o.a$(this._tiles).map(d=>d.tileID).sort(hy).map(d=>d.key)}getRenderableIds(d,f){const x=[];for(const M in this._tiles)this._isIdRenderable(+M,d,f)&&x.push(this._tiles[M]);return d?x.sort((M,T)=>{const L=M.tileID,j=T.tileID,H=new o.P(L.canonical.x,L.canonical.y)._rotate(this.transform.angle),G=new o.P(j.canonical.x,j.canonical.y)._rotate(this.transform.angle);return L.overscaledZ-j.overscaledZ||G.y-H.y||G.x-H.x}).map(M=>M.tileID.key):x.map(M=>M.tileID).sort(hy).map(M=>M.key)}hasRenderableParent(d){const f=this.findLoadedParent(d,0);return!!f&&this._isIdRenderable(f.tileID.key)}_isIdRenderable(d,f,x){return this._tiles[d]&&this._tiles[d].hasData()&&!this._coveredTiles[d]&&(f||!this._tiles[d].holdingForFade())&&(x||!this._shadowCasterTiles[d])}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const d in this._tiles)this._tiles[d].state!=="errored"&&this._reloadTile(+d,"reloading")}}_reloadTile(d,f){const x=this._tiles[d];x&&(x.state!=="loading"&&(x.state=f),this._loadTile(x,this._tileLoaded.bind(this,x,d,f)))}_tileLoaded(d,f,x,M){if(M)if(d.state="errored",M.status!==404)this._source.fire(new o.a(M,{tile:d}));else{if(!(d.tileID.key in this._loadedParentTiles))return void this._source.fire(new o.b("data",{dataType:"source",sourceDataType:"error",sourceId:this._source.id}));if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const T=this.map.painter.terrain;this.update(this.transform,T.getScaledDemTileSize(),!0),T.resetTileLookupCache(this.id)}else this.update(this.transform)}else d.timeAdded=o.f.now(),x==="expired"&&(d.refreshedUponExpiration=!0),this._setTileReloadTimer(f,d),this._source.type==="raster-dem"&&d.dem&&this._backfillDEM(d),this._state.initializeTileState(d,this.map?this.map.painter:null),this._source.fire(new o.b("data",{dataType:"source",tile:d,coord:d.tileID,sourceCacheId:this.id}))}_backfillDEM(d){const f=this.getRenderableIds();for(let M=0;M<f.length;M++){const T=f[M];if(d.neighboringTiles&&d.neighboringTiles[T]){const L=this.getTileByID(T);x(d,L),x(L,d)}}function x(M,T){if(!M.dem||M.dem.borderReady)return;M.needsHillshadePrepare=!0,M.needsDEMTextureUpload=!0;let L=T.tileID.canonical.x-M.tileID.canonical.x;const j=T.tileID.canonical.y-M.tileID.canonical.y,H=Math.pow(2,M.tileID.canonical.z),G=T.tileID.key;L===0&&j===0||Math.abs(j)>1||(Math.abs(L)>1&&(Math.abs(L+H)===1?L+=H:Math.abs(L-H)===1&&(L-=H)),T.dem&&M.dem&&(M.dem.backfillBorder(T.dem,L,j),M.neighboringTiles&&M.neighboringTiles[G]&&(M.neighboringTiles[G].backfilled=!0)))}}getTile(d){return this.getTileByID(d.key)}getTileByID(d){return this._tiles[d]}_retainLoadedChildren(d,f,x,M){for(const T in this._tiles){let L=this._tiles[T];if(M[T]||!L.hasData()||L.tileID.overscaledZ<=f||L.tileID.overscaledZ>x)continue;let j=L.tileID;for(;L&&L.tileID.overscaledZ>f+1;){const G=L.tileID.scaledTo(L.tileID.overscaledZ-1);L=this._tiles[G.key],L&&L.hasData()&&(j=G)}let H=j;for(;H.overscaledZ>f;)if(H=H.scaledTo(H.overscaledZ-1),d[H.key]){M[j.key]=j;break}}}findLoadedParent(d,f){if(d.key in this._loadedParentTiles){const x=this._loadedParentTiles[d.key];return x&&x.tileID.overscaledZ>=f?x:null}for(let x=d.overscaledZ-1;x>=f;x--){const M=d.scaledTo(x),T=this._getLoadedTile(M);if(T)return T}}_getLoadedTile(d){const f=this._tiles[d.key];return f&&f.hasData()?f:this._cache.getByKey(this._source.reparseOverscaled?d.wrapped().key:d.canonical.key)}updateCacheSize(d,f){f=f||this._source.tileSize;const x=Math.ceil(d.width/f)+1,M=Math.ceil(d.height/f)+1,T=Math.floor(x*M*5),L=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,T):T,j=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,L):L;this._cache.setMaxSize(j)}handleWrapJump(d){const f=Math.round((d-(this._prevLng===void 0?d:this._prevLng))/360);if(this._prevLng=d,f){const x={};for(const M in this._tiles){const T=this._tiles[M];T.tileID=T.tileID.unwrapTo(T.tileID.wrap+f),x[T.tileID.key]=T}this._tiles=x;for(const M in this._timers)clearTimeout(this._timers[M]),delete this._timers[M];for(const M in this._tiles)this._setTileReloadTimer(+M,this._tiles[M])}}update(d,f,x,M){if(this.transform=d,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!x)return;let T;if(this.updateCacheSize(d,f),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._shadowCasterTiles={},this._coveredTiles={},this.used||this.usedForTerrain)if(this._source.tileID)T=d.getVisibleUnwrappedCoordinates(this._source.tileID).map(H=>new o.am(H.canonical.z,H.wrap,H.canonical.z,H.canonical.x,H.canonical.y));else if(this.tileCoverLift!==0){const H=d.clone();H.tileCoverLift=this.tileCoverLift,T=H.coveringTiles({tileSize:f||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!x,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.minzoom<=1&&d.projection.name==="globe"&&(T.push(new o.am(1,0,1,0,0)),T.push(new o.am(1,0,1,1,0)),T.push(new o.am(1,0,1,0,1)),T.push(new o.am(1,0,1,1,1)))}else T=d.coveringTiles({tileSize:f||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!x,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(T=T.filter(H=>this._source.hasTile(H)));else T=[];if(T.length>0&&this.castsShadows&&M&&this.transform.projection.name!=="globe"&&!this.usedForTerrain&&!cu(this._source.type)){const H=d.coveringZoomLevel({tileSize:f||this._source.tileSize,roundZoom:this._source.roundZoom&&!x}),G=Math.min(H,this._source.maxzoom),q=d.extendTileCoverForShadows(T,M,G);for(const J of q)this._shadowCasterTiles[J.key]=!0,T.push(J)}const L=this._updateRetainedTiles(T);if(cu(this._source.type)&&T.length!==0){const H={},G={},q=Object.keys(L);for(const ie of q){const se=L[ie],_e=this._tiles[ie];if(!_e||_e.fadeEndTime&&_e.fadeEndTime<=o.f.now())continue;const ve=this.findLoadedParent(se,Math.max(se.overscaledZ-Kl.maxOverzooming,this._source.minzoom));ve&&(this._addTile(ve.tileID),H[ve.tileID.key]=ve.tileID),G[ie]=se}const J=T[T.length-1].overscaledZ;for(const ie in this._tiles){const se=this._tiles[ie];if(L[ie]||!se.hasData())continue;let _e=se.tileID;for(;_e.overscaledZ>J;){_e=_e.scaledTo(_e.overscaledZ-1);const ve=this._tiles[_e.key];if(ve&&ve.hasData()&&G[_e.key]){L[ie]=se.tileID;break}}}for(const ie in H)L[ie]||(this._coveredTiles[ie]=!0,L[ie]=H[ie])}for(const H in L)this._tiles[H].clearFadeHold();const j=o.b0(this._tiles,L);for(const H of j){const G=this._tiles[H];G.hasSymbolBuckets&&!G.holdingForFade()?G.setHoldDuration(this.map._fadeDuration):G.hasSymbolBuckets&&!G.symbolFadeFinished()||this._removeTile(+H)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const d in this._tiles)this._tiles[d].holdingForFade()&&this._removeTile(+d)}_updateRetainedTiles(d){const f={};if(d.length===0)return f;const x={},M=d.reduce((G,q)=>Math.min(G,q.overscaledZ),1/0),T=d[0].overscaledZ,L=Math.max(T-Kl.maxOverzooming,this._source.minzoom),j=Math.max(T+Kl.maxUnderzooming,this._source.minzoom),H={};for(const G of d){const q=this._addTile(G);f[G.key]=G,q.hasData()||M<this._source.maxzoom&&(H[G.key]=G)}this._retainLoadedChildren(H,M,j,f);for(const G of d){let q=this._tiles[G.key];if(q.hasData())continue;if(G.canonical.z>=this._source.maxzoom){const ie=G.children(this._source.maxzoom)[0],se=this.getTile(ie);if(se&&se.hasData()){f[ie.key]=ie;continue}}else{const ie=G.children(this._source.maxzoom);if(f[ie[0].key]&&f[ie[1].key]&&f[ie[2].key]&&f[ie[3].key])continue}let J=q.wasRequested();for(let ie=G.overscaledZ-1;ie>=L;--ie){const se=G.scaledTo(ie);if(x[se.key]||(x[se.key]=!0,q=this.getTile(se),!q&&J&&(q=this._addTile(se)),q&&(f[se.key]=se,J=q.wasRequested(),q.hasData())))break}}return f}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const d in this._tiles){const f=[];let x,M=this._tiles[d].tileID;for(;M.overscaledZ>0;){if(M.key in this._loadedParentTiles){x=this._loadedParentTiles[M.key];break}f.push(M.key);const T=M.scaledTo(M.overscaledZ-1);if(x=this._getLoadedTile(T),x)break;M=T}for(const T of f)this._loadedParentTiles[T]=x}}_addTile(d){let f=this._tiles[d.key];if(f)return f.isExtraShadowCaster!==!0||this._shadowCasterTiles[d.key]||this._reloadTile(d.key,"reloading"),f;f=this._cache.getAndRemove(d),f&&(this._setTileReloadTimer(d.key,f),f.tileID=d,this._state.initializeTileState(f,this.map?this.map.painter:null),this._cacheTimers[d.key]&&(clearTimeout(this._cacheTimers[d.key]),delete this._cacheTimers[d.key],this._setTileReloadTimer(d.key,f)));const x=!!f;if(!x){const M=this.map?this.map.painter:null,T=this._source.tileSize*d.overscaleFactor();f=this._source.type==="raster-array"?new sh(d,T,this.transform.tileZoom,M,this._isRaster):new rl(d,T,this.transform.tileZoom,M,this._isRaster),this._loadTile(f,this._tileLoaded.bind(this,f,d.key,f.state))}return f?(f.uses++,this._tiles[d.key]=f,x||this._source.fire(new o.b("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f):null}_setTileReloadTimer(d,f){d in this._timers&&(clearTimeout(this._timers[d]),delete this._timers[d]);const x=f.getExpiryTimeout();x&&(this._timers[d]=setTimeout(()=>{this._reloadTile(d,"expired"),delete this._timers[d]},x))}_removeTile(d){const f=this._tiles[d];f&&(f.uses--,delete this._tiles[d],this._timers[d]&&(clearTimeout(this._timers[d]),delete this._timers[d]),f.uses>0||(f.hasData()&&f.state!=="reloading"||f.state==="empty"?this._cache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const d in this._tiles)this._removeTile(+d);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(d,f,x){const M=[],T=this.transform;if(!T)return M;const L=T.projection.name==="globe",j=o.a5(T.center.lng);for(const H in this._tiles){const G=this._tiles[H];if(x&&G.clearQueryDebugViz(),G.holdingForFade())continue;let q;if(L){const J=G.tileID.canonical;if(J.z===0){const ie=[Math.abs(o.aa(j,...tm(J,-1))-j),Math.abs(o.aa(j,...tm(J,1))-j)];q=[0,2*ie.indexOf(Math.min(...ie))-1]}else{const ie=[Math.abs(o.aa(j,...tm(J,-1))-j),Math.abs(o.aa(j,...tm(J,0))-j),Math.abs(o.aa(j,...tm(J,1))-j)];q=[ie.indexOf(Math.min(...ie))-1]}}else q=[0];for(const J of q){const ie=d.containsTile(G,T,f,J);ie&&M.push(ie)}}return M}getShadowCasterCoordinates(){return this._getRenderableCoordinates(!1,!0)}getVisibleCoordinates(d){return this._getRenderableCoordinates(d)}_getRenderableCoordinates(d,f){const x=this.getRenderableIds(d,f).map(T=>this._tiles[T].tileID),M=this.transform.projection.name==="globe";for(const T of x)T.projMatrix=this.transform.calculateProjMatrix(T.toUnwrapped()),T.expandedProjMatrix=M?this.transform.calculateProjMatrix(T.toUnwrapped(),!1,!0):T.projMatrix;return x}sortCoordinatesByDistance(d){const f=d.slice(),x=this.transform._camera.position,M=this.transform._camera.forward(),T={};for(const L of f){const j=1/(1<<L.canonical.z);T[L.key]=((L.canonical.x+.5)*j+L.wrap-x[0])*M[0]+((L.canonical.y+.5)*j-x[1])*M[1]-x[2]*M[2]}return f.sort((L,j)=>T[L.key]-T[j.key]),f}hasTransition(){if(this._source.hasTransition())return!0;if(cu(this._source.type))for(const d in this._tiles){const f=this._tiles[d];if(f.fadeEndTime!==void 0&&f.fadeEndTime>=o.f.now())return!0}return!1}setFeatureState(d,f,x){this._state.updateState(d=d||"_geojsonTileLayer",f,x)}removeFeatureState(d,f,x){this._state.removeFeatureState(d=d||"_geojsonTileLayer",f,x)}getFeatureState(d,f){return this._state.getState(d=d||"_geojsonTileLayer",f)}setDependencies(d,f,x){const M=this._tiles[d];M&&M.setDependencies(f,x)}reloadTilesForDependencies(d,f){for(const x in this._tiles)this._tiles[x].hasDependency(d,f)&&this._reloadTile(+x,"reloading");this._cache.filter(x=>!x.hasDependency(d,f))}_preloadTiles(d,f){if(!this._sourceLoaded){const H=()=>{this._sourceLoaded&&(this._source.off("data",H),this._preloadTiles(d,f))};return void this._source.on("data",H)}const x=new Map,M=Array.isArray(d)?d:[d],T=this.map.painter.terrain,L=this.usedForTerrain&&T?T.getScaledDemTileSize():this._source.tileSize;for(const H of M){const G=H.coveringTiles({tileSize:L,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const q of G)x.set(q.key,q);this.usedForTerrain&&H.updateElevation(!1)}const j=Array.from(x.values());o.b1(j,(H,G)=>{const q=new rl(H,this._source.tileSize*H.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(q,J=>{this._source.type==="raster-dem"&&q.dem&&this._backfillDEM(q),G(J,q)})},f)}}function hy(_,d){const f=Math.abs(2*_.wrap)-+(_.wrap<0),x=Math.abs(2*d.wrap)-+(d.wrap<0);return _.overscaledZ-d.overscaledZ||x-f||d.canonical.y-_.canonical.y||d.canonical.x-_.canonical.x}function cu(_){return _==="raster"||_==="image"||_==="video"||_==="custom"}function tm(_,d){const f=1<<_.z;return[_.x/f+d,(_.x+1)/f+d]}Kl.maxOverzooming=10,Kl.maxUnderzooming=3;class kA{constructor(d){this.style=d,this.layersGotHidden=!1,this.layers=[]}processLayersChanged(){this.layers=[];const d=!1,f=!1;for(const x in this.style._mergedLayers){const M=this.style._mergedLayers[x];if(M.type==="fill-extrusion")this.layers.push({layer:M,visible:d,visibilityChanged:f});else if(M.type==="model"){const T=this.style.getLayerSource(M);T&&T.type==="batched-model"&&this.layers.push({layer:M,visible:d,visibilityChanged:f})}}}onNewFrame(d){this.layersGotHidden=!1;for(const f of this.layers){const x=f.layer;let M=!1;x.type==="fill-extrusion"?M=!x.isHidden(d)&&x.paint.get("fill-extrusion-opacity")>0:x.type==="model"&&(M=!x.isHidden(d)&&x.paint.get("model-opacity")>0),this.layersGotHidden=this.layersGotHidden||!M&&f.visible,f.visible=M}}updateZOffset(d,f){this.currentBuildingBuckets=[];for(const M of this.layers){const T=M.layer,L=this.style.getLayerSourceCache(T);let j=1;T.type==="fill-extrusion"&&(j=M.visible?T.paint.get("fill-extrusion-vertical-scale"):0);let H=L?L.getTile(f):null;if(!H&&L&&f.canonical.z>L.getSource().minzoom){let G=f.scaledTo(Math.min(L.getSource().maxzoom,f.overscaledZ-1));for(;G.overscaledZ>=L.getSource().minzoom&&(H=L.getTile(G),!H&&G.overscaledZ!==0);)G=G.scaledTo(G.overscaledZ-1)}this.currentBuildingBuckets.push({bucket:H?H.getBucket(T):null,tileID:H?H.tileID:f,verticalScale:j})}d.hasAnyZOffset=!1;let x=!1;for(let M=0;M<d.symbolInstances.length;M++){const T=d.symbolInstances.get(M),L=T.zOffset,j=this._getHeightAtTileOffset(f,T.tileAnchorX,T.tileAnchorY);T.zOffset=j!==Number.NEGATIVE_INFINITY?j:L,x||L===T.zOffset||(x=!0),d.hasAnyZOffset||T.zOffset===0||(d.hasAnyZOffset=!0)}x&&(d.zOffsetBuffersNeedUpload=!0,d.zOffsetSortDirty=!0)}_mapCoordToOverlappingTile(d,f,x,M){let T=f,L=x;if(d.canonical.z!==M.canonical.z){const j=M.canonical,H=1/(1<<d.canonical.z-j.z);T=(f+d.canonical.x*o.V)*H-j.x*o.V|0,L=(x+d.canonical.y*o.V)*H-j.y*o.V|0}return{tileX:T,tileY:L}}_getHeightAtTileOffset(d,f,x){let M,T;for(let L=0;L<this.layers.length;++L){if(this.layers[L].layer.type!=="fill-extrusion")continue;const{bucket:j,tileID:H,verticalScale:G}=this.currentBuildingBuckets[L];if(!j)continue;const{tileX:q,tileY:J}=this._mapCoordToOverlappingTile(d,f,x,H),ie=j.getHeightAtTileCoord(q,J);ie&&ie.height!==void 0&&(ie.hidden?M=ie.height:T=Math.max(ie.height*G,T||0))}if(T!==void 0)return T;for(let L=0;L<this.layers.length;++L){const j=this.layers[L];if(j.layer.type!=="model"||!j.visible)continue;const{bucket:H,tileID:G}=this.currentBuildingBuckets[L];if(!H)continue;const{tileX:q,tileY:J}=this._mapCoordToOverlappingTile(d,f,x,G),ie=H.getHeightAtTileCoord(q,J);if(ie&&!ie.hidden)return ie.height===void 0&&M!==void 0?Math.min(ie.maxHeight,M)*ie.verticalScale:(ie.height||0)*ie.verticalScale}return this.layersGotHidden?0:Number.NEGATIVE_INFINITY}}function lh(_,d){const f={};for(const x in _)x!=="ref"&&(f[x]=_[x]);return o.b2.forEach(x=>{x in d&&(f[x]=d[x])}),f}function NA(_){_=_.slice();const d=Object.create(null);for(let f=0;f<_.length;f++)d[_[f].id]=_[f];for(let f=0;f<_.length;f++)"ref"in _[f]&&(_[f]=lh(_[f],d[_[f].ref]));return _}const Yr={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setSlot:"setSlot",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setCamera:"setCamera",setLights:"setLights",setProjection:"setProjection",addImport:"addImport",removeImport:"removeImport",updateImport:"updateImport"};function nm(_,d,f){f.push({command:Yr.addSource,args:[_,d[_]]})}function r_(_,d,f){d.push({command:Yr.removeSource,args:[_]}),f[_]=!0}function iI(_,d,f,x){r_(_,f,x),nm(_,d,f)}function oI(_,d,f){let x;for(x in _[f])if(_[f].hasOwnProperty(x)&&x!=="data"&&!m(_[f][x],d[f][x]))return!1;for(x in d[f])if(d[f].hasOwnProperty(x)&&x!=="data"&&!m(_[f][x],d[f][x]))return!1;return!0}function sd(_,d,f,x,M,T){let L;for(L in d=d||{},_=_||{})_.hasOwnProperty(L)&&(m(_[L],d[L])||f.push({command:T,args:[x,L,d[L],M]}));for(L in d)d.hasOwnProperty(L)&&!_.hasOwnProperty(L)&&(m(_[L],d[L])||f.push({command:T,args:[x,L,d[L],M]}))}function ld(_){return _.id}function py(_,d){return _[d.id]=d,_}class yp{constructor(d,f){this.reset(d,f)}reset(d,f){this.points=d||[],this._distances=[0];for(let x=1;x<this.points.length;x++)this._distances[x]=this._distances[x-1]+this.points[x].dist(this.points[x-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(d){if(this.points.length===1)return this.points[0];d=o.aa(d,0,1);let f=1,x=this._distances[f];const M=d*this.paddedLength+this.padding;for(;x<M&&f<this._distances.length;)x=this._distances[++f];const T=f-1,L=this._distances[T],j=x-L,H=j>0?(M-L)/j:0;return this.points[T].mult(1-H).add(this.points[f].mult(H))}}class i_{constructor(d,f,x){const M=this.boxCells=[],T=this.circleCells=[];this.xCellCount=Math.ceil(d/x),this.yCellCount=Math.ceil(f/x);for(let L=0;L<this.xCellCount*this.yCellCount;L++)M.push([]),T.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=d,this.height=f,this.xScale=this.xCellCount/d,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(d,f,x,M,T){this._forEachCell(f,x,M,T,this._insertBoxCell,this.boxUid++),this.boxKeys.push(d),this.bboxes.push(f),this.bboxes.push(x),this.bboxes.push(M),this.bboxes.push(T)}insertCircle(d,f,x,M){this._forEachCell(f-M,x-M,f+M,x+M,this._insertCircleCell,this.circleUid++),this.circleKeys.push(d),this.circles.push(f),this.circles.push(x),this.circles.push(M)}_insertBoxCell(d,f,x,M,T,L){this.boxCells[T].push(L)}_insertCircleCell(d,f,x,M,T,L){this.circleCells[T].push(L)}_query(d,f,x,M,T,L){if(x<0||d>this.width||M<0||f>this.height)return!T&&[];const j=[];if(d<=0&&f<=0&&this.width<=x&&this.height<=M){if(T)return!0;for(let H=0;H<this.boxKeys.length;H++)j.push({key:this.boxKeys[H],x1:this.bboxes[4*H],y1:this.bboxes[4*H+1],x2:this.bboxes[4*H+2],y2:this.bboxes[4*H+3]});for(let H=0;H<this.circleKeys.length;H++){const G=this.circles[3*H],q=this.circles[3*H+1],J=this.circles[3*H+2];j.push({key:this.circleKeys[H],x1:G-J,y1:q-J,x2:G+J,y2:q+J})}return L?j.filter(L):j}return this._forEachCell(d,f,x,M,this._queryCell,j,{hitTest:T,seenUids:{box:{},circle:{}}},L),T?j.length>0:j}_queryCircle(d,f,x,M,T){const L=d-x,j=d+x,H=f-x,G=f+x;if(j<0||L>this.width||G<0||H>this.height)return!M&&[];const q=[];return this._forEachCell(L,H,j,G,this._queryCellCircle,q,{hitTest:M,circle:{x:d,y:f,radius:x},seenUids:{box:{},circle:{}}},T),M?q.length>0:q}query(d,f,x,M,T){return this._query(d,f,x,M,!1,T)}hitTest(d,f,x,M,T){return this._query(d,f,x,M,!0,T)}hitTestCircle(d,f,x,M){return this._queryCircle(d,f,x,!0,M)}_queryCell(d,f,x,M,T,L,j,H){const G=j.seenUids,q=this.boxCells[T];if(q!==null){const ie=this.bboxes;for(const se of q)if(!G.box[se]){G.box[se]=!0;const _e=4*se;if(d<=ie[_e+2]&&f<=ie[_e+3]&&x>=ie[_e+0]&&M>=ie[_e+1]&&(!H||H(this.boxKeys[se]))){if(j.hitTest)return L.push(!0),!0;L.push({key:this.boxKeys[se],x1:ie[_e],y1:ie[_e+1],x2:ie[_e+2],y2:ie[_e+3]})}}}const J=this.circleCells[T];if(J!==null){const ie=this.circles;for(const se of J)if(!G.circle[se]){G.circle[se]=!0;const _e=3*se;if(this._circleAndRectCollide(ie[_e],ie[_e+1],ie[_e+2],d,f,x,M)&&(!H||H(this.circleKeys[se]))){if(j.hitTest)return L.push(!0),!0;{const ve=ie[_e],Se=ie[_e+1],pe=ie[_e+2];L.push({key:this.circleKeys[se],x1:ve-pe,y1:Se-pe,x2:ve+pe,y2:Se+pe})}}}}}_queryCellCircle(d,f,x,M,T,L,j,H){const G=j.circle,q=j.seenUids,J=this.boxCells[T];if(J!==null){const se=this.bboxes;for(const _e of J)if(!q.box[_e]){q.box[_e]=!0;const ve=4*_e;if(this._circleAndRectCollide(G.x,G.y,G.radius,se[ve+0],se[ve+1],se[ve+2],se[ve+3])&&(!H||H(this.boxKeys[_e])))return L.push(!0),!0}}const ie=this.circleCells[T];if(ie!==null){const se=this.circles;for(const _e of ie)if(!q.circle[_e]){q.circle[_e]=!0;const ve=3*_e;if(this._circlesCollide(se[ve],se[ve+1],se[ve+2],G.x,G.y,G.radius)&&(!H||H(this.circleKeys[_e])))return L.push(!0),!0}}}_forEachCell(d,f,x,M,T,L,j,H){const G=this._convertToXCellCoord(d),q=this._convertToYCellCoord(f),J=this._convertToXCellCoord(x),ie=this._convertToYCellCoord(M);for(let se=G;se<=J;se++)for(let _e=q;_e<=ie;_e++)if(T.call(this,d,f,x,M,this.xCellCount*_e+se,L,j,H))return}_convertToXCellCoord(d){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(d*this.xScale)))}_convertToYCellCoord(d){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(d*this.yScale)))}_circlesCollide(d,f,x,M,T,L){const j=M-d,H=T-f,G=x+L;return G*G>j*j+H*H}_circleAndRectCollide(d,f,x,M,T,L,j){const H=(L-M)/2,G=Math.abs(d-(M+H));if(G>H+x)return!1;const q=(j-T)/2,J=Math.abs(f-(T+q));if(J>q+x)return!1;if(G<=H||J<=q)return!0;const ie=G-H,se=J-q;return ie*ie+se*se<=x*x}}const uu={unknown:0,flipRequired:1,flipNotRequired:2},cd=Math.tan(85*Math.PI/180);function rm(_,d,f,x,M,T,L){const j=o.a6.create();if(f)if(T.name==="globe"){const H=o.b3(M,d);o.a6.multiply(j,j,H)}else{const H=o.b4.invert([],L);j[0]=H[0],j[1]=H[1],j[4]=H[2],j[5]=H[3],x||o.a6.rotateZ(j,j,M.angle)}else o.a6.multiply(j,M.labelPlaneMatrix,_);return j}function o_(_,d,f,x,M,T,L){const j=rm(_,d,f,x,M,T,L);return T.name==="globe"&&f||(j[2]=j[6]=j[10]=j[14]=0),j}function a_(_,d,f,x,M,T,L){if(f){if(T.name==="globe"){const j=rm(_,d,f,x,M,T,L);return o.a6.invert(j,j),o.a6.multiply(j,_,j),j}{const j=o.a6.clone(_),H=o.a6.identity([]);return H[0]=L[0],H[1]=L[1],H[4]=L[2],H[5]=L[3],o.a6.multiply(j,j,H),x||o.a6.rotateZ(j,j,-M.angle),j}}return M.glCoordMatrix}function Cl(_,d,f,x){const M=[_,d,f,1];f?o.a7.transformMat4(M,M,x):h_(M,M,x);const T=M[3];return M[0]/=T,M[1]/=T,M[2]/=T,M}function RA(_,d){return Math.min(.5+_/d*.5,1.5)}function s_(_,d){const f=_[0]/_[3],x=_[1]/_[3];return f>=-d[0]&&f<=d[0]&&x>=-d[1]&&x<=d[1]}function l_(_,d,f,x,M,T,L,j,H,G){const q=f.transform,J=x?_.textSizeData:_.iconSizeData,ie=o.b5(J,f.transform.zoom),se=q.projection.name==="globe",_e=[256/f.width*2+1,256/f.height*2+1],ve=x?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;ve.clear();let Se=null;se&&(Se=x?_.text.globeExtVertexArray:_.icon.globeExtVertexArray);const pe=_.lineVertexArray,Ce=x?_.text.placedSymbolArray:_.icon.placedSymbolArray,Re=f.transform.width/f.transform.height;let Pe,De=!1;for(let Ae=0;Ae<Ce.length;Ae++){const Le=Ce.get(Ae),{numGlyphs:He,writingMode:Ge}=Le;if(Ge!==o.b6.vertical||De||Pe===o.b6.horizontal||(De=!0),Pe=Ge,(Le.hidden||Ge===o.b6.vertical)&&!De){ud(He,ve);continue}De=!1;const Je=new o.P(Le.tileAnchorX,Le.tileAnchorY);let{x:xt,y:at,z:Nt}=q.projection.projectTilePoint(Je.x,Je.y,G.canonical);if(H){const[Mn,Vn,nr]=H(Je);xt+=Mn,at+=Vn,Nt+=nr}const It=[xt,at,Nt,1];if(o.a7.transformMat4(It,It,d),!s_(It,_e)){ud(He,ve);continue}const Yt=It[3],ct=RA(f.transform.getCameraToCenterDistance(q.projection),Yt),Ct=o.b7(J,ie,Le),Ye=L?Ct/ct:Ct*ct,vt=Cl(xt,at,Nt,M);if(vt[3]<=0){ud(He,ve);continue}let tn={};const yn=L?null:H,mn=d_(Le,Ye,!1,j,d,M,T,_.glyphOffsetArray,pe,ve,Se,vt,Je,tn,Re,yn,q.projection,G,L);De=mn.useVertical,yn&&mn.needsFlipping&&(tn={}),(mn.notEnoughRoom||De||mn.needsFlipping&&d_(Le,Ye,!0,j,d,M,T,_.glyphOffsetArray,pe,ve,Se,vt,Je,tn,Re,yn,q.projection,G,L).notEnoughRoom)&&ud(He,ve)}x?(_.text.dynamicLayoutVertexBuffer.updateData(ve),Se&&_.text.globeExtVertexBuffer&&_.text.globeExtVertexBuffer.updateData(Se)):(_.icon.dynamicLayoutVertexBuffer.updateData(ve),Se&&_.icon.globeExtVertexBuffer&&_.icon.globeExtVertexBuffer.updateData(Se))}function c_(_,d,f,x,M,T,L,j,H,G,q,J,ie,se,_e,ve){const{lineStartIndex:Se,glyphStartIndex:pe,segment:Ce}=j,Re=pe+j.numGlyphs,Pe=Se+j.lineLength,De=d.getoffsetX(pe),Ae=d.getoffsetX(Re-1),Le=im(_*De,f,x,M,T,L,Ce,Se,Pe,H,G,q,J,ie,!0,se,_e,ve);if(!Le)return null;const He=im(_*Ae,f,x,M,T,L,Ce,Se,Pe,H,G,q,J,ie,!0,se,_e,ve);return He?{first:Le,last:He}:null}function u_(_,d,f,x){return _===o.b6.horizontal&&Math.abs(x)>Math.abs(f)?{useVertical:!0}:_===o.b6.vertical?x>0?{needsFlipping:!0}:null:d!==uu.unknown&&function(M,T){return M===0||Math.abs(T/M)>cd}(f,x)?d===uu.flipRequired?{needsFlipping:!0}:null:f<0?{needsFlipping:!0}:null}function d_(_,d,f,x,M,T,L,j,H,G,q,J,ie,se,_e,ve,Se,pe,Ce){const Re=d/24,Pe=_.lineOffsetX*Re,De=_.lineOffsetY*Re,{lineStartIndex:Ae,glyphStartIndex:Le,numGlyphs:He,segment:Ge,writingMode:Je,flipState:xt}=_,at=Ae+_.lineLength,Nt=It=>{if(q){const[Ye,vt,tn]=It.up,yn=G.length;o.b8(q,yn+0,Ye,vt,tn),o.b8(q,yn+1,Ye,vt,tn),o.b8(q,yn+2,Ye,vt,tn),o.b8(q,yn+3,Ye,vt,tn)}const[Yt,ct,Ct]=It.point;o.b9(G,Yt,ct,Ct,It.angle)};if(He>1){const It=c_(Re,j,Pe,De,f,J,ie,_,H,T,se,ve,!1,Se,pe,Ce);if(!It)return{notEnoughRoom:!0};if(x&&!f){let[Yt,ct,Ct]=It.first.point,[Ye,vt,tn]=It.last.point;[Yt,ct]=Cl(Yt,ct,Ct,L),[Ye,vt]=Cl(Ye,vt,tn,L);const yn=u_(Je,xt,(Ye-Yt)*_e,vt-ct);if(_.flipState=yn&&yn.needsFlipping?uu.flipRequired:uu.flipNotRequired,yn)return yn}Nt(It.first);for(let Yt=Le+1;Yt<Le+He-1;Yt++){const ct=im(Re*j.getoffsetX(Yt),Pe,De,f,J,ie,Ge,Ae,at,H,T,se,ve,!1,!1,Se,pe,Ce);if(!ct)return G.length-=4*(Yt-Le),{notEnoughRoom:!0};Nt(ct)}Nt(It.last)}else{if(x&&!f){const Yt=Cl(ie.x,ie.y,0,M),ct=Ae+Ge+1,Ct=new o.P(H.getx(ct),H.gety(ct)),Ye=Cl(Ct.x,Ct.y,0,M),vt=Ye[3]>0?Ye:fy(ie,Ct,Yt,1,M,void 0,Se,pe.canonical),tn=u_(Je,xt,(vt[0]-Yt[0])*_e,vt[1]-Yt[1]);if(_.flipState=tn&&tn.needsFlipping?uu.flipRequired:uu.flipNotRequired,tn)return tn}const It=im(Re*j.getoffsetX(Le),Pe,De,f,J,ie,Ge,Ae,at,H,T,se,ve,!1,!1,Se,pe,Ce);if(!It)return{notEnoughRoom:!0};Nt(It)}return{}}function vp(_,d,f,x,M){const{x:T,y:L,z:j}=x.projectTilePoint(_.x,_.y,d);if(!M)return Cl(T,L,j,f);const[H,G,q]=M(_);return Cl(T+H,L+G,j+q,f)}function fy(_,d,f,x,M,T,L,j){const H=vp(_.sub(d)._unit()._add(_),j,M,L,T);return o.N.sub(H,f,H),o.N.normalize(H,H),o.N.scaleAndAdd(H,f,H,x)}function im(_,d,f,x,M,T,L,j,H,G,q,J,ie,se,_e,ve,Se,pe){const Ce=x?_-d:_+d;let Re=Ce>0?1:-1,Pe=0;x&&(Re*=-1,Pe=Math.PI),Re<0&&(Pe+=Math.PI);let De=j+L+(Re>0?0:1)|0,Ae=M,Le=M,He=0,Ge=0;const Je=Math.abs(Ce),xt=[],at=[];let Nt=T,It=Nt;const Yt=()=>fy(It,Nt,Le,Je-He+1,q,ie,ve,Se.canonical);for(;He+Ge<=Je;){if(De+=Re,De<j||De>=H)return null;if(Le=Ae,It=Nt,xt.push(Le),se&&at.push(It),Nt=new o.P(G.getx(De),G.gety(De)),Ae=J[De],!Ae){const Vn=vp(Nt,Se.canonical,q,ve,ie);Ae=Vn[3]>0?J[De]=Vn:Yt()}He+=Ge,Ge=o.N.distance(Le,Ae)}_e&&ie&&(J[De]&&(Ae=Yt(),Ge=o.N.distance(Le,Ae)),J[De]=Ae);const ct=(Je-He)/Ge,Ct=Nt.sub(It)._mult(ct)._add(It),Ye=o.N.sub([],Ae,Le),vt=o.N.scaleAndAdd([],Le,Ye,ct);let tn=[0,0,1],yn=Ye[0],mn=Ye[1];if(pe&&(tn=ve.upVector(Se.canonical,Ct.x,Ct.y),tn[0]!==0||tn[1]!==0||tn[2]!==1)){const Vn=[tn[2],0,-tn[0]],nr=o.N.cross([],tn,Vn);o.N.normalize(Vn,Vn),o.N.normalize(nr,nr),yn=o.N.dot(Ye,Vn),mn=o.N.dot(Ye,nr)}if(f){const Vn=o.N.cross([],tn,Ye);o.N.normalize(Vn,Vn),o.N.scaleAndAdd(vt,vt,Vn,f*Re)}const Mn=Pe+Math.atan2(mn,yn);return xt.push(vt),se&&at.push(Ct),{point:vt,angle:Mn,path:xt,tilePath:at,up:tn}}function ud(_,d){const f=d.length,x=f+4*_;d.resize(x),d.float32.fill(-1/0,4*f,4*x)}function h_(_,d,f){const x=d[0],M=d[1];return _[0]=f[0]*x+f[4]*M+f[12],_[1]=f[1]*x+f[5]*M+f[13],_[3]=f[3]*x+f[7]*M+f[15],_}const Ml=100;class Tn{constructor(d,f,x=new i_(d.width+200,d.height+200,25),M=new i_(d.width+200,d.height+200,25)){this.transform=d,this.grid=x,this.ignoredGrid=M,this.pitchfactor=Math.cos(d._pitch)*d.cameraToCenterDistance,this.screenRightBoundary=d.width+Ml,this.screenBottomBoundary=d.height+Ml,this.gridRightBoundary=d.width+200,this.gridBottomBoundary=d.height+200,this.fogState=f}placeCollisionBox(d,f,x,M,T,L,j,H){let G=x.projectedAnchorX,q=x.projectedAnchorY,J=x.projectedAnchorZ;const ie=x.elevation,se=x.tileID,_e=d.getProjection();if(ie&&se){const[Ae,Le,He]=_e.upVector(se.canonical,x.tileAnchorX,x.tileAnchorY),Ge=_e.upVectorScale(se.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;G+=Ae*ie*Ge,q+=Le*ie*Ge,J+=He*ie*Ge}const ve=this.projectAndGetPerspectiveRatio(j,G,q,J,x.tileID,_e.name==="globe"||!!ie||this.transform.pitch>0,_e),Se=L*ve.perspectiveRatio,pe=(x.x1*f+M.x-x.padding)*Se+ve.point.x,Ce=(x.y1*f+M.y-x.padding)*Se+ve.point.y,Re=(x.x2*f+M.x+x.padding)*Se+ve.point.x,Pe=(x.y2*f+M.y+x.padding)*Se+ve.point.y,De=ve.perspectiveRatio<=.55||ve.occluded;return!this.isInsideGrid(pe,Ce,Re,Pe)||!T&&this.grid.hitTest(pe,Ce,Re,Pe,H)||De?{box:[],offscreen:!1,occluded:ve.occluded}:{box:[pe,Ce,Re,Pe],offscreen:this.isOffscreen(pe,Ce,Re,Pe),occluded:!1}}placeCollisionCircles(d,f,x,M,T,L,j,H,G,q,J,ie,se,_e,ve){const Se=[],pe=this.transform.elevation,Ce=d.getProjection(),Re=pe?pe.getAtTileOffsetFunc(ve,this.transform.center.lat,this.transform.worldSize,Ce):null,Pe=new o.P(x.tileAnchorX,x.tileAnchorY);let{x:De,y:Ae,z:Le}=Ce.projectTilePoint(Pe.x,Pe.y,ve.canonical);if(Re){const[Ct,Ye,vt]=Re(Pe);De+=Ct,Ae+=Ye,Le+=vt}const He=Ce.name==="globe",Ge=this.projectAndGetPerspectiveRatio(j,De,Ae,Le,ve,He||!!pe||this.transform.pitch>0,Ce),{perspectiveRatio:Je}=Ge,xt=(J?L/Je:L*Je)/o.bc,at=Cl(De,Ae,Le,H),Nt=Ge.signedDistanceFromCamera>0?c_(xt,T,x.lineOffsetX*xt,x.lineOffsetY*xt,!1,at,Pe,x,M,H,{},pe&&!J?Re:null,J&&!!pe,Ce,ve,J):null;let It=!1,Yt=!1,ct=!0;if(Nt&&!Ge.occluded){const Ct=.5*se*Je+_e,Ye=new o.P(-100,-100),vt=new o.P(this.screenRightBoundary,this.screenBottomBoundary),tn=new yp,{first:yn,last:mn}=Nt,Mn=yn.path.length;let Vn=[];for(let Jn=Mn-1;Jn>=1;Jn--)Vn.push(yn.path[Jn]);for(let Jn=1;Jn<mn.path.length;Jn++)Vn.push(mn.path[Jn]);const nr=2.5*Ct;G&&(Vn=Vn.map(([Jn,Nr,br],Tr)=>(Re&&!He&&(br=Re(Tr<Mn-1?yn.tilePath[Mn-1-Tr]:mn.tilePath[Tr-Mn+2])[2]),Cl(Jn,Nr,br,G))),Vn.some(Jn=>Jn[3]<=0)&&(Vn=[]));let Xn=[];if(Vn.length>0){let Jn=1/0,Nr=-1/0,br=1/0,Tr=-1/0;for(const Cr of Vn)Jn=Math.min(Jn,Cr[0]),br=Math.min(br,Cr[1]),Nr=Math.max(Nr,Cr[0]),Tr=Math.max(Tr,Cr[1]);Nr>=Ye.x&&Jn<=vt.x&&Tr>=Ye.y&&br<=vt.y&&(Xn=[Vn.map(Cr=>new o.P(Cr[0],Cr[1]))],(Jn<Ye.x||Nr>vt.x||br<Ye.y||Tr>vt.y)&&(Xn=o.ba(Xn,Ye.x,Ye.y,vt.x,vt.y)))}for(const Jn of Xn){tn.reset(Jn,.25*Ct);let Nr=0;Nr=tn.length<=.5*Ct?1:Math.ceil(tn.paddedLength/nr)+1;for(let br=0;br<Nr;br++){const Tr=br/Math.max(Nr-1,1),Cr=tn.lerp(Tr),Jr=Cr.x+Ml,Fi=Cr.y+Ml;Se.push(Jr,Fi,Ct,0);const yi=Jr-Ct,ho=Fi-Ct,Zr=Jr+Ct,oi=Fi+Ct;if(ct=ct&&this.isOffscreen(yi,ho,Zr,oi),Yt=Yt||this.isInsideGrid(yi,ho,Zr,oi),!f&&this.grid.hitTestCircle(Jr,Fi,Ct,ie)&&(It=!0,!q))return{circles:[],offscreen:!1,collisionDetected:It,occluded:!1}}}}return{circles:!q&&It||!Yt?[]:Se,offscreen:ct,collisionDetected:It,occluded:Ge.occluded}}queryRenderedSymbols(d){if(d.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const f=[];let x=1/0,M=1/0,T=-1/0,L=-1/0;for(const q of d){const J=new o.P(q.x+Ml,q.y+Ml);x=Math.min(x,J.x),M=Math.min(M,J.y),T=Math.max(T,J.x),L=Math.max(L,J.y),f.push(J)}const j=this.grid.query(x,M,T,L).concat(this.ignoredGrid.query(x,M,T,L)),H={},G={};for(const q of j){const J=q.key;if(H[J.bucketInstanceId]===void 0&&(H[J.bucketInstanceId]={}),H[J.bucketInstanceId][J.featureIndex])continue;const ie=[new o.P(q.x1,q.y1),new o.P(q.x2,q.y1),new o.P(q.x2,q.y2),new o.P(q.x1,q.y2)];o.bb(f,ie)&&(H[J.bucketInstanceId][J.featureIndex]=!0,G[J.bucketInstanceId]===void 0&&(G[J.bucketInstanceId]=[]),G[J.bucketInstanceId].push(J.featureIndex))}return G}insertCollisionBox(d,f,x,M,T){(f?this.ignoredGrid:this.grid).insert({bucketInstanceId:x,featureIndex:M,collisionGroupID:T},d[0],d[1],d[2],d[3])}insertCollisionCircles(d,f,x,M,T){const L=f?this.ignoredGrid:this.grid,j={bucketInstanceId:x,featureIndex:M,collisionGroupID:T};for(let H=0;H<d.length;H+=4)L.insertCircle(j,d[H],d[H+1],d[H+2])}projectAndGetPerspectiveRatio(d,f,x,M,T,L,j){const H=[f,x,M,1];let G=!1;M||this.transform.pitch>0?(o.a7.transformMat4(H,H,d),this.fogState&&T&&j.name!=="globe"&&(G=function(ie,se,_e,ve,Se,pe){const Ce=pe.calculateFogTileMatrix(Se),Re=[se,_e,ve];return o.N.transformMat4(Re,Re,Ce),un(ie,o.N.length(Re),pe.pitch,pe._fov)}(this.fogState,f,x,M,T.toUnwrapped(),this.transform)>.9)):h_(H,H,d);const q=H[3];return{point:new o.P((H[0]/q+1)/2*this.transform.width+Ml,(-H[1]/q+1)/2*this.transform.height+Ml),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(j)/q*.5,1.5),signedDistanceFromCamera:q,occluded:L&&H[2]>q||G}}isOffscreen(d,f,x,M){return x<Ml||d>=this.screenRightBoundary||M<Ml||f>this.screenBottomBoundary}isInsideGrid(d,f,x,M){return x>=0&&d<this.gridRightBoundary&&M>=0&&f<this.gridBottomBoundary}getViewportMatrix(){const d=o.a6.identity([]);return o.a6.translate(d,d,[-100,-100,0]),d}}function my(_,d,f){const x=d.createTileMatrix(_,_.worldSize,f.toUnwrapped());return o.a6.multiply(new Float32Array(16),_.projMatrix,x)}function p_(_,d,f){if(d.projection.name===f.projection.name)return _.projMatrix;const x=f.clone();return x.setProjection(d.projection),my(x,d.getProjection(),_)}function om(_,d,f){return d.name===f.projection.name?_.projMatrix:my(f,d,_)}class f_{constructor(d,f,x,M){this.opacity=d?Math.max(0,Math.min(1,d.opacity+(d.placed?f:-f))):M&&x?1:0,this.placed=x}isHidden(){return this.opacity===0&&!this.placed}}class dd{constructor(d,f,x,M,T,L=!1){this.text=new f_(d?d.text:null,f,x,T),this.icon=new f_(d?d.icon:null,f,M,T),this.clipped=L}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class ql{constructor(d,f,x,M=!1){this.text=d,this.icon=f,this.skipFade=x,this.clipped=M}}class m_{constructor(){this.invProjMatrix=o.a6.create(),this.viewportMatrix=o.a6.create(),this.circles=[]}}class ch{constructor(d,f,x,M,T){this.bucketInstanceId=d,this.featureIndex=f,this.sourceLayerIndex=x,this.bucketIndex=M,this.tileID=T}}class gy{constructor(d){this.crossSourceCollisions=d,this.maxGroupID=0,this.collisionGroups={}}get(d){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[d]){const f=++this.maxGroupID;this.collisionGroups[d]={ID:f,predicate:x=>x.collisionGroupID===f}}return this.collisionGroups[d]}}function uh(_,d,f,x,M){const{horizontalAlign:T,verticalAlign:L}=o.bf(_),j=-(T-.5)*d,H=-(L-.5)*f,G=o.bd(_,x);return new o.P(j+G[0]*M,H+G[1]*M)}function g_(_,d,f,x,M){const T=new o.P(_,d);return f&&T._rotate(x?M:-M),T}class aI{constructor(d,f,x,M,T,L){this.transform=d.clone(),this.projection=d.projection.name,this.collisionIndex=new Tn(this.transform,T),this.buildingIndex=L,this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=f,this.retainedQueryData={},this.collisionGroups=new gy(x),this.collisionCircleArrays={},this.prevPlacement=M,M&&(M.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(d,f,x,M){const T=x.getBucket(f),L=x.latestFeatureIndex;if(!T||!L||f.fqid!==T.layerIds[0])return;const j=T.layers[0].layout,H=x.collisionBoxArray,G=Math.pow(2,this.transform.zoom-x.tileID.overscaledZ),q=x.tileSize/o.V,J=x.tileID.toUnwrapped();this.transform.setProjection(T.projection);const ie=(se=x.tileID,_e=T.getProjection(),ve=this.transform,_e.name===this.projection?ve.calculateProjMatrix(se.toUnwrapped()):my(ve,_e,se));var se,_e,ve;const Se=j.get("text-pitch-alignment")==="map",pe=j.get("text-rotation-alignment")==="map";f.compileFilter();const Ce=f.dynamicFilter(),Re=f.dynamicFilterNeedsFeature(),Pe=this.transform.calculatePixelsToTileUnitsMatrix(x),De=o_(ie,x.tileID.canonical,Se,pe,this.transform,T.getProjection(),Pe);let Ae=null;if(Se){const Ge=a_(ie,x.tileID.canonical,Se,pe,this.transform,T.getProjection(),Pe);Ae=o.a6.multiply([],this.transform.labelPlaneMatrix,Ge)}let Le=null;Ce&&x.latestFeatureIndex&&(Le={unwrappedTileID:J,dynamicFilter:Ce,dynamicFilterNeedsFeature:Re,featureIndex:x.latestFeatureIndex}),this.retainedQueryData[T.bucketInstanceId]=new ch(T.bucketInstanceId,L,T.sourceLayerIndex,T.index,x.tileID);const He={bucket:T,layout:j,posMatrix:ie,textLabelPlaneMatrix:De,labelToScreenMatrix:Ae,clippingData:Le,scale:G,textPixelRatio:q,holdingForFade:x.holdingForFade(),collisionBoxArray:H,partiallyEvaluatedTextSize:o.b5(T.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:o.b5(T.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(T.sourceID)};if(M)for(const Ge of T.sortKeyRanges){const{sortKey:Je,symbolInstanceStart:xt,symbolInstanceEnd:at}=Ge;d.push({sortKey:Je,symbolInstanceStart:xt,symbolInstanceEnd:at,parameters:He})}else d.push({symbolInstanceStart:0,symbolInstanceEnd:T.symbolInstances.length,parameters:He})}attemptAnchorPlacement(d,f,x,M,T,L,j,H,G,q,J,ie,se,_e,ve,Se,pe,Ce){const{textOffset0:Re,textOffset1:Pe,crossTileID:De}=ie,Ae=[Re,Pe],Le=uh(d,x,M,Ae,T),He=this.collisionIndex.placeCollisionBox(_e,T,f,g_(Le.x,Le.y,L,j,this.transform.angle),J,H,G,q.predicate);if(Se){const Ge=_e.getSymbolInstanceIconSize(Ce,this.transform.zoom,ie.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(_e,Ge,Se,g_(Le.x,Le.y,L,j,this.transform.angle),J,H,G,q.predicate).box.length===0)return}if(He.box.length>0){let Ge;return this.prevPlacement&&this.prevPlacement.variableOffsets[De]&&this.prevPlacement.placements[De]&&this.prevPlacement.placements[De].text&&(Ge=this.prevPlacement.variableOffsets[De].anchor),this.variableOffsets[De]={textOffset:Ae,width:x,height:M,anchor:d,textScale:T,prevAnchor:Ge},this.markUsedJustification(_e,d,ie,ve),_e.allowVerticalPlacement&&(this.markUsedOrientation(_e,ve,ie),this.placedOrientations[De]=ve),{shift:Le,placedGlyphBoxes:He}}}placeLayerBucketPart(d,f,x,M){const{bucket:T,layout:L,posMatrix:j,textLabelPlaneMatrix:H,labelToScreenMatrix:G,clippingData:q,textPixelRatio:J,holdingForFade:ie,collisionBoxArray:se,partiallyEvaluatedTextSize:_e,partiallyEvaluatedIconSize:ve,collisionGroup:Se}=d.parameters,pe=L.get("text-optional"),Ce=L.get("icon-optional"),Re=L.get("text-allow-overlap"),Pe=L.get("icon-allow-overlap"),De=L.get("text-rotation-alignment")==="map",Ae=L.get("text-pitch-alignment")==="map",Le=L.get("symbol-z-order")==="viewport-y",He=L.get("symbol-z-elevate");this.transform.setProjection(T.projection);let Ge=Re&&(Pe||!T.hasIconData()||Ce),Je=Pe&&(Re||!T.hasTextData()||pe);!T.collisionArrays&&se&&T.deserializeCollisionBoxes(se),x&&M&&T.updateCollisionDebugBuffers(this.transform.zoom,se);const xt=(at,Nt,It)=>{const{crossTileID:Yt,numVerticalGlyphVertices:ct}=at;if(q){const Zr={zoom:this.transform.zoom,pitch:this.transform.pitch};let oi=null;if(q.dynamicFilterNeedsFeature){const Ur=this.retainedQueryData[T.bucketInstanceId];oi=q.featureIndex.loadFeature({featureIndex:at.featureIndex,bucketIndex:Ur.bucketIndex,sourceLayerIndex:Ur.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,q.dynamicFilter)(Zr,oi,this.retainedQueryData[T.bucketInstanceId].tileID.canonical,new o.P(at.tileAnchorX,at.tileAnchorY),this.transform.calculateDistanceTileData(q.unwrappedTileID)))return this.placements[Yt]=new ql(!1,!1,!1,!0),void f.add(Yt)}if(f.has(Yt))return;if(ie)return void(this.placements[Yt]=new ql(!1,!1,!1));let Ct=!1,Ye=!1,vt=!0,tn=!1,yn=!1,mn=null,Mn={box:null,offscreen:null,occluded:null},Vn={box:null},nr=null,Xn=null,Jn=null,Nr=0,br=0,Tr=0;It.textFeatureIndex?Nr=It.textFeatureIndex:at.useRuntimeCollisionCircles&&(Nr=at.featureIndex),It.verticalTextFeatureIndex&&(br=It.verticalTextFeatureIndex);const Cr=Zr=>{Zr.tileID=this.retainedQueryData[T.bucketInstanceId].tileID;const oi=this.transform.elevation;Zr.elevation=at.zOffset+(oi?oi.getAtTileOffset(Zr.tileID,Zr.tileAnchorX,Zr.tileAnchorY):0)},Jr=It.textBox;if(Jr){Cr(Jr);const Zr=Ur=>{let ii=o.b6.horizontal;if(T.allowVerticalPlacement&&!Ur&&this.prevPlacement){const Vi=this.prevPlacement.placedOrientations[Yt];Vi&&(this.placedOrientations[Yt]=Vi,ii=Vi,this.markUsedOrientation(T,ii,at))}return ii},oi=(Ur,ii)=>{if(T.allowVerticalPlacement&&ct>0&&It.verticalTextBox){for(const Vi of T.writingModes)if(Vi===o.b6.vertical?(Mn=ii(),Vn=Mn):Mn=Ur(),Mn&&Mn.box&&Mn.box.length)break}else Mn=Ur()};if(L.get("text-variable-anchor")){let Ur=L.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Yt]){const fi=this.prevPlacement.variableOffsets[Yt];Ur.indexOf(fi.anchor)>0&&(Ur=Ur.filter(ma=>ma!==fi.anchor),Ur.unshift(fi.anchor))}const ii=(fi,ma,$a)=>{const Fs=T.getSymbolInstanceTextSize(_e,at,this.transform.zoom,Nt),Lc=(fi.x2-fi.x1)*Fs+2*fi.padding,$s=(fi.y2-fi.y1)*Fs+2*fi.padding,ga=at.hasIconTextFit&&!Pe?ma:null;ga&&Cr(ga);let Jo={box:[],offscreen:!1,occluded:!1};const ds=Re?2*Ur.length:Ur.length;for(let Cs=0;Cs<ds;++Cs){const js=this.attemptAnchorPlacement(Ur[Cs%Ur.length],fi,Lc,$s,Fs,De,Ae,J,j,Se,Cs>=Ur.length,at,Nt,T,$a,ga,_e,ve);if(js&&(Jo=js.placedGlyphBoxes,Jo&&Jo.box&&Jo.box.length)){Ct=!0,mn=js.shift;break}}return Jo};oi(()=>ii(Jr,It.iconBox,o.b6.horizontal),()=>{const fi=It.verticalTextBox;return fi&&Cr(fi),T.allowVerticalPlacement&&!(Mn&&Mn.box&&Mn.box.length)&&ct>0&&fi?ii(fi,It.verticalIconBox,o.b6.vertical):{box:null,offscreen:null,occluded:null}}),Mn&&(Ct=Mn.box,vt=Mn.offscreen,tn=Mn.occluded);const Vi=Zr(!(!Mn||!Mn.box));if(!Ct&&this.prevPlacement){const fi=this.prevPlacement.variableOffsets[Yt];fi&&(this.variableOffsets[Yt]=fi,this.markUsedJustification(T,fi.anchor,at,Vi))}}else{const Ur=(ii,Vi)=>{const fi=T.getSymbolInstanceTextSize(_e,at,this.transform.zoom,Nt),ma=this.collisionIndex.placeCollisionBox(T,fi,ii,new o.P(0,0),Re,J,j,Se.predicate);return ma&&ma.box&&ma.box.length&&(this.markUsedOrientation(T,Vi,at),this.placedOrientations[Yt]=Vi),ma};oi(()=>Ur(Jr,o.b6.horizontal),()=>{const ii=It.verticalTextBox;return T.allowVerticalPlacement&&ct>0&&ii?(Cr(ii),Ur(ii,o.b6.vertical)):{box:null,offscreen:null,occluded:null}}),Zr(!!(Mn&&Mn.box&&Mn.box.length))}}if(nr=Mn,Ct=nr&&nr.box&&nr.box.length>0,vt=nr&&nr.offscreen,tn=nr&&nr.occluded,at.useRuntimeCollisionCircles){const Zr=T.text.placedSymbolArray.get(at.centerJustifiedTextSymbolIndex>=0?at.centerJustifiedTextSymbolIndex:at.verticalPlacedTextSymbolIndex),oi=o.b7(T.textSizeData,_e,Zr),Ur=L.get("text-padding");Xn=this.collisionIndex.placeCollisionCircles(T,Re,Zr,T.lineVertexArray,T.glyphOffsetArray,oi,j,H,G,x,Ae,Se.predicate,at.collisionCircleDiameter*oi/o.bc,Ur,this.retainedQueryData[T.bucketInstanceId].tileID),Ct=Re||Xn.circles.length>0&&!Xn.collisionDetected,vt=vt&&Xn.offscreen,tn=Xn.occluded}if(It.iconFeatureIndex&&(Tr=It.iconFeatureIndex),It.iconBox){const Zr=oi=>{Cr(oi);const Ur=at.hasIconTextFit&&mn?g_(mn.x,mn.y,De,Ae,this.transform.angle):new o.P(0,0),ii=T.getSymbolInstanceIconSize(ve,this.transform.zoom,at.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(T,ii,oi,Ur,Pe,J,j,Se.predicate)};Vn&&Vn.box&&Vn.box.length&&It.verticalIconBox?(Jn=Zr(It.verticalIconBox),Ye=Jn.box.length>0):(Jn=Zr(It.iconBox),Ye=Jn.box.length>0),vt=vt&&Jn.offscreen,yn=Jn.occluded}const Fi=pe||at.numHorizontalGlyphVertices===0&&ct===0,yi=Ce||at.numIconVertices===0;if(Fi||yi?yi?Fi||(Ye=Ye&&Ct):Ct=Ye&&Ct:Ye=Ct=Ye&&Ct,Ct&&nr&&nr.box&&this.collisionIndex.insertCollisionBox(nr.box,L.get("text-ignore-placement"),T.bucketInstanceId,Vn&&Vn.box&&br?br:Nr,Se.ID),Ye&&Jn&&this.collisionIndex.insertCollisionBox(Jn.box,L.get("icon-ignore-placement"),T.bucketInstanceId,Tr,Se.ID),Xn&&(Ct&&this.collisionIndex.insertCollisionCircles(Xn.circles,L.get("text-ignore-placement"),T.bucketInstanceId,Nr,Se.ID),x)){const Zr=T.bucketInstanceId;let oi=this.collisionCircleArrays[Zr];oi===void 0&&(oi=this.collisionCircleArrays[Zr]=new m_);for(let Ur=0;Ur<Xn.circles.length;Ur+=4)oi.circles.push(Xn.circles[Ur+0]),oi.circles.push(Xn.circles[Ur+1]),oi.circles.push(Xn.circles[Ur+2]),oi.circles.push(Xn.collisionDetected?1:0)}const ho=T.projection.name!=="globe";Ge=Ge&&(ho||!tn),Je=Je&&(ho||!yn),this.placements[Yt]=new ql(Ct||Ge,Ye||Je,vt||T.justReloaded),f.add(Yt)};if(He&&this.buildingIndex&&(this.buildingIndex.updateZOffset(T,this.retainedQueryData[T.bucketInstanceId].tileID),T.updateZOffset()),Le){const at=T.getSortedSymbolIndexes(this.transform.angle);for(let Nt=at.length-1;Nt>=0;--Nt){const It=at[Nt];xt(T.symbolInstances.get(It),It,T.collisionArrays[It])}T.hasAnyZOffset&&o.w(`${T.layerIds[0]} layer symbol-z-elevate: symbols are not sorted by elevation if symbol-z-order is evaluated to viewport-y`)}else if(T.hasAnyZOffset){const at=T.getSortedIndexesByZOffset();for(let Nt=0;Nt<at.length;++Nt){const It=at[Nt];xt(T.symbolInstances.get(It),It,T.collisionArrays[It])}}else for(let at=d.symbolInstanceStart;at<d.symbolInstanceEnd;at++)xt(T.symbolInstances.get(at),at,T.collisionArrays[at]);if(x&&T.bucketInstanceId in this.collisionCircleArrays){const at=this.collisionCircleArrays[T.bucketInstanceId];o.a6.invert(at.invProjMatrix,j),at.viewportMatrix=this.collisionIndex.getViewportMatrix()}T.justReloaded=!1}markUsedJustification(d,f,x,M){const{leftJustifiedTextSymbolIndex:T,centerJustifiedTextSymbolIndex:L,rightJustifiedTextSymbolIndex:j,verticalPlacedTextSymbolIndex:H,crossTileID:G}=x,q=o.be(f),J=M===o.b6.vertical?H:q==="left"?T:q==="center"?L:q==="right"?j:-1;T>=0&&(d.text.placedSymbolArray.get(T).crossTileID=J>=0&&T!==J?0:G),L>=0&&(d.text.placedSymbolArray.get(L).crossTileID=J>=0&&L!==J?0:G),j>=0&&(d.text.placedSymbolArray.get(j).crossTileID=J>=0&&j!==J?0:G),H>=0&&(d.text.placedSymbolArray.get(H).crossTileID=J>=0&&H!==J?0:G)}markUsedOrientation(d,f,x){const M=f===o.b6.horizontal||f===o.b6.horizontalOnly?f:0,T=f===o.b6.vertical?f:0,{leftJustifiedTextSymbolIndex:L,centerJustifiedTextSymbolIndex:j,rightJustifiedTextSymbolIndex:H,verticalPlacedTextSymbolIndex:G}=x,q=d.text.placedSymbolArray;L>=0&&(q.get(L).placedOrientation=M),j>=0&&(q.get(j).placedOrientation=M),H>=0&&(q.get(H).placedOrientation=M),G>=0&&(q.get(G).placedOrientation=T)}commit(d){this.commitTime=d,this.zoomAtLastRecencyCheck=this.transform.zoom;const f=this.prevPlacement;let x=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;const M=f?f.symbolFadeChange(d):1,T=f?f.opacities:{},L=f?f.variableOffsets:{},j=f?f.placedOrientations:{};for(const H in this.placements){const G=this.placements[H],q=T[H];q?(this.opacities[H]=new dd(q,M,G.text,G.icon,null,G.clipped),x=x||G.text!==q.text.placed||G.icon!==q.icon.placed):(this.opacities[H]=new dd(null,M,G.text,G.icon,G.skipFade,G.clipped),x=x||G.text||G.icon)}for(const H in T){const G=T[H];if(!this.opacities[H]){const q=new dd(G,M,!1,!1);q.isHidden()||(this.opacities[H]=q,x=x||G.text.placed||G.icon.placed)}}for(const H in L)this.variableOffsets[H]||!this.opacities[H]||this.opacities[H].isHidden()||(this.variableOffsets[H]=L[H]);for(const H in j)this.placedOrientations[H]||!this.opacities[H]||this.opacities[H].isHidden()||(this.placedOrientations[H]=j[H]);x?this.lastPlacementChangeTime=d:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:d)}updateLayerOpacities(d,f){const x=new Set;for(const M of f){const T=M.getBucket(d);T&&M.latestFeatureIndex&&d.fqid===T.layerIds[0]&&(this.updateBucketOpacities(T,x,M.collisionBoxArray),T.layers[0].layout.get("symbol-z-elevate")&&this.buildingIndex&&(this.buildingIndex.updateZOffset(T,M.tileID),T.updateZOffset()))}}updateBucketOpacities(d,f,x){d.hasTextData()&&d.text.opacityVertexArray.clear(),d.hasIconData()&&d.icon.opacityVertexArray.clear(),d.hasIconCollisionBoxData()&&d.iconCollisionBox.collisionVertexArray.clear(),d.hasTextCollisionBoxData()&&d.textCollisionBox.collisionVertexArray.clear();const M=d.layers[0].layout,T=!!d.layers[0].dynamicFilter(),L=new dd(null,0,!1,!1,!0),j=M.get("text-allow-overlap"),H=M.get("icon-allow-overlap"),G=M.get("text-variable-anchor"),q=M.get("text-rotation-alignment")==="map",J=M.get("text-pitch-alignment")==="map",ie=new dd(null,0,j&&(H||!d.hasIconData()||M.get("icon-optional")),H&&(j||!d.hasTextData()||M.get("text-optional")),!0);!d.collisionArrays&&x&&(d.hasIconCollisionBoxData()||d.hasTextCollisionBoxData())&&d.deserializeCollisionBoxes(x);const se=(ve,Se,pe)=>{for(let Ce=0;Ce<Se/4;Ce++)ve.opacityVertexArray.emplaceBack(pe)};let _e=0;for(let ve=0;ve<d.symbolInstances.length;ve++){const Se=d.symbolInstances.get(ve),{numHorizontalGlyphVertices:pe,numVerticalGlyphVertices:Ce,crossTileID:Re,numIconVertices:Pe}=Se,De=f.has(Re);let Ae=this.opacities[Re];De?Ae=L:Ae||(Ae=ie,this.opacities[Re]=Ae),f.add(Re);const Le=pe>0||Ce>0,He=Pe>0,Ge=this.placedOrientations[Re],Je=Ge===o.b6.vertical,xt=Ge===o.b6.horizontal||Ge===o.b6.horizontalOnly;if(!Le&&!He||Ae.isHidden()||_e++,Le){const at=FA(Ae.text);se(d.text,pe,Je?am:at),se(d.text,Ce,xt?am:at);const Nt=Ae.text.isHidden(),{leftJustifiedTextSymbolIndex:It,centerJustifiedTextSymbolIndex:Yt,rightJustifiedTextSymbolIndex:ct,verticalPlacedTextSymbolIndex:Ct}=Se,Ye=d.text.placedSymbolArray,vt=Nt||Je?1:0;It>=0&&(Ye.get(It).hidden=vt),Yt>=0&&(Ye.get(Yt).hidden=vt),ct>=0&&(Ye.get(ct).hidden=vt),Ct>=0&&(Ye.get(Ct).hidden=Nt||xt?1:0);const tn=this.variableOffsets[Re];tn&&this.markUsedJustification(d,tn.anchor,Se,Ge);const yn=this.placedOrientations[Re];yn&&(this.markUsedJustification(d,"left",Se,yn),this.markUsedOrientation(d,yn,Se))}if(He){const at=FA(Ae.icon),{placedIconSymbolIndex:Nt,verticalPlacedIconSymbolIndex:It}=Se,Yt=d.icon.placedSymbolArray,ct=Ae.icon.isHidden()?1:0;Nt>=0&&(se(d.icon,Pe,Je?am:at),Yt.get(Nt).hidden=ct),It>=0&&(se(d.icon,Se.numVerticalIconVertices,xt?am:at),Yt.get(It).hidden=ct)}if(d.hasIconCollisionBoxData()||d.hasTextCollisionBoxData()){const at=d.collisionArrays[ve];if(at){let Nt=new o.P(0,0),It=!0;if(at.textBox||at.verticalTextBox){if(G){const ct=this.variableOffsets[Re];ct?(Nt=uh(ct.anchor,ct.width,ct.height,ct.textOffset,ct.textScale),q&&Nt._rotate(J?this.transform.angle:-this.transform.angle)):It=!1}T&&(It=!Ae.clipped),at.textBox&&bp(d.textCollisionBox.collisionVertexArray,Ae.text.placed,!It||Je,Nt.x,Nt.y),at.verticalTextBox&&bp(d.textCollisionBox.collisionVertexArray,Ae.text.placed,!It||xt,Nt.x,Nt.y)}const Yt=It&&!!(!xt&&at.verticalIconBox);at.iconBox&&bp(d.iconCollisionBox.collisionVertexArray,Ae.icon.placed,Yt,Se.hasIconTextFit?Nt.x:0,Se.hasIconTextFit?Nt.y:0),at.verticalIconBox&&bp(d.iconCollisionBox.collisionVertexArray,Ae.icon.placed,!Yt,Se.hasIconTextFit?Nt.x:0,Se.hasIconTextFit?Nt.y:0)}}}if(d.fullyClipped=_e===0,d.sortFeatures(this.transform.angle),this.retainedQueryData[d.bucketInstanceId]&&(this.retainedQueryData[d.bucketInstanceId].featureSortOrder=d.featureSortOrder),d.hasTextData()&&d.text.opacityVertexBuffer&&d.text.opacityVertexBuffer.updateData(d.text.opacityVertexArray),d.hasIconData()&&d.icon.opacityVertexBuffer&&d.icon.opacityVertexBuffer.updateData(d.icon.opacityVertexArray),d.hasIconCollisionBoxData()&&d.iconCollisionBox.collisionVertexBuffer&&d.iconCollisionBox.collisionVertexBuffer.updateData(d.iconCollisionBox.collisionVertexArray),d.hasTextCollisionBoxData()&&d.textCollisionBox.collisionVertexBuffer&&d.textCollisionBox.collisionVertexBuffer.updateData(d.textCollisionBox.collisionVertexArray),d.bucketInstanceId in this.collisionCircleArrays){const ve=this.collisionCircleArrays[d.bucketInstanceId];d.placementInvProjMatrix=ve.invProjMatrix,d.placementViewportMatrix=ve.viewportMatrix,d.collisionCircleArray=ve.circles,delete this.collisionCircleArrays[d.bucketInstanceId]}}symbolFadeChange(d){return this.fadeDuration===0?1:(d-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(d){return Math.max(0,(this.transform.zoom-d)/1.5)}hasTransitions(d){return this.stale||d-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(d,f){const x=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*x>d}setStale(){this.stale=!0}}function bp(_,d,f,x,M){_.emplaceBack(d?1:0,f?1:0,x||0,M||0),_.emplaceBack(d?1:0,f?1:0,x||0,M||0),_.emplaceBack(d?1:0,f?1:0,x||0,M||0),_.emplaceBack(d?1:0,f?1:0,x||0,M||0)}const sI=Math.pow(2,25),DA=Math.pow(2,24),LA=Math.pow(2,17),y_=Math.pow(2,16),lI=Math.pow(2,9),cI=Math.pow(2,8),uI=Math.pow(2,1);function FA(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const d=_.placed?1:0,f=Math.floor(127*_.opacity);return f*sI+d*DA+f*LA+d*y_+f*lI+d*cI+f*uI+d}const am=0;class dI{constructor(d){this._sortAcrossTiles=d.layout.get("symbol-z-order")!=="viewport-y"&&d.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(d,f,x,M,T){const L=this._bucketParts;for(;this._currentTileIndex<d.length;)if(f.getBucketParts(L,M,d[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,T())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,L.sort((j,H)=>j.sortKey-H.sortKey));this._currentPartIndex<L.length;){const j=L[this._currentPartIndex];if(f.placeLayerBucketPart(j,this._seenCrossTileIDs,x,j.symbolInstanceStart===0),this._currentPartIndex++,T())return!0}return!1}}class yy{constructor(d,f,x,M,T,L,j,H,G){this.placement=new aI(d,T,L,j,H,G),this._currentPlacementIndex=f.length-1,this._forceFullPlacement=x,this._showCollisionBoxes=M,this._done=!1}isDone(){return this._done}continuePlacement(d,f,x,M){const T=o.f.now(),L=()=>{const j=o.f.now()-T;return!this._forceFullPlacement&&j>2};for(;this._currentPlacementIndex>=0;){const j=f[d[this._currentPlacementIndex]],H=this.placement.collisionIndex.transform.zoom;if(j.type==="symbol"&&(!j.minzoom||j.minzoom<=H)&&(!j.maxzoom||j.maxzoom>H)){const G=j,q=G.layout.get("symbol-z-elevate"),J=this._inProgressLayer=this._inProgressLayer||new dI(G),ie=o.ag(j.source,j.scope);if(J.continuePlacement(q?M[ie]:x[ie],this.placement,this._showCollisionBoxes,j,L))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(d){return this.placement.commit(d),this.placement}}const v_=512/o.V/2;class $A{constructor(d,f,x){this.tileID=d,this.bucketInstanceId=x,this.index=new o.bg(f.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const M=d.canonical.x*o.V,T=d.canonical.y*o.V;for(let L=0;L<f.length;L++){const{key:j,crossTileID:H,tileAnchorX:G,tileAnchorY:q}=f.get(L),J=Math.floor((M+G)*v_),ie=Math.floor((T+q)*v_);this.index.add(J,ie),this.keys.push(j),this.crossTileIDs.push(H)}this.index.finish()}findMatches(d,f,x){const M=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z),T=v_/Math.pow(2,f.canonical.z-this.tileID.canonical.z),L=f.canonical.x*o.V,j=f.canonical.y*o.V;for(let H=0;H<d.length;H++){const G=d.get(H);if(G.crossTileID)continue;const{key:q,tileAnchorX:J,tileAnchorY:ie}=G,se=Math.floor((L+J)*T),_e=Math.floor((j+ie)*T),ve=this.index.range(se-M,_e-M,se+M,_e+M);for(const Se of ve){const pe=this.crossTileIDs[Se];if(this.keys[Se]===q&&!x.has(pe)){x.add(pe),G.crossTileID=pe;break}}}}}class b_{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class vy{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(d){const f=Math.round((d-this.lng)/360);if(f!==0)for(const x in this.indexes){const M=this.indexes[x],T={};for(const L in M){const j=M[L];j.tileID=j.tileID.unwrapTo(j.tileID.wrap+f),T[j.tileID.key]=j}this.indexes[x]=T}this.lng=d}addBucket(d,f,x){if(this.indexes[d.overscaledZ]&&this.indexes[d.overscaledZ][d.key]){if(this.indexes[d.overscaledZ][d.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(d.overscaledZ,this.indexes[d.overscaledZ][d.key])}for(let T=0;T<f.symbolInstances.length;T++)f.symbolInstances.get(T).crossTileID=0;this.usedCrossTileIDs[d.overscaledZ]||(this.usedCrossTileIDs[d.overscaledZ]=new Set);const M=this.usedCrossTileIDs[d.overscaledZ];for(const T in this.indexes){const L=this.indexes[T];if(Number(T)>d.overscaledZ)for(const j in L){const H=L[j];H.tileID.isChildOf(d)&&H.findMatches(f.symbolInstances,d,M)}else{const j=L[d.scaledTo(Number(T)).key];j&&j.findMatches(f.symbolInstances,d,M)}}for(let T=0;T<f.symbolInstances.length;T++){const L=f.symbolInstances.get(T);L.crossTileID||(L.crossTileID=x.generate(),M.add(L.crossTileID))}return this.indexes[d.overscaledZ]===void 0&&(this.indexes[d.overscaledZ]={}),this.indexes[d.overscaledZ][d.key]=new $A(d,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(d,f){for(const x of f.crossTileIDs)this.usedCrossTileIDs[d].delete(x)}removeStaleBuckets(d){let f=!1;for(const x in this.indexes){const M=this.indexes[x];for(const T in M)d[M[T].bucketInstanceId]||(this.removeBucketCrossTileIDs(x,M[T]),delete M[T],f=!0)}return f}}class __{constructor(){this.layerIndexes={},this.crossTileIDs=new b_,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(d,f,x,M){let T=this.layerIndexes[d.fqid];T===void 0&&(T=this.layerIndexes[d.fqid]=new vy);let L=!1;const j={};M.name!=="globe"&&T.handleWrapJump(x);for(const H of f){const G=H.getBucket(d);G&&d.fqid===G.layerIds[0]&&(G.bucketInstanceId||(G.bucketInstanceId=++this.maxBucketInstanceId),T.addBucket(H.tileID,G,this.crossTileIDs)&&(L=!0),j[G.bucketInstanceId]=!0)}return T.removeStaleBuckets(j)&&(L=!0),L}pruneUnusedLayers(d){const f={};d.forEach(x=>{f[x]=!0});for(const x in this.layerIndexes)f[x]||delete this.layerIndexes[x]}}class dh{constructor(d=0,f=0,x=0,M=0){if(isNaN(d)||d<0||isNaN(f)||f<0||isNaN(x)||x<0||isNaN(M)||M<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=d,this.bottom=f,this.left=x,this.right=M}interpolate(d,f,x){return f.top!=null&&d.top!=null&&(this.top=o.U(d.top,f.top,x)),f.bottom!=null&&d.bottom!=null&&(this.bottom=o.U(d.bottom,f.bottom,x)),f.left!=null&&d.left!=null&&(this.left=o.U(d.left,f.left,x)),f.right!=null&&d.right!=null&&(this.right=o.U(d.right,f.right,x)),this}getCenter(d,f){const x=o.aa((this.left+d-this.right)/2,0,d),M=o.aa((this.top+f-this.bottom)/2,0,f);return new o.P(x,M)}equals(d){return this.top===d.top&&this.bottom===d.bottom&&this.left===d.left&&this.right===d.right}clone(){return new dh(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function by(_,d){const f=o.bk(_,3);o.a6.fromQuat(_,d),o.bm(_,3,f)}function sm(_,d){const f=o.bi.identity([]);return o.bi.rotateZ(f,f,-d),o.bi.rotateX(f,f,-_),f}function x_(_,d){const f=[_[0],_[1],0],x=[d[0],d[1],0];if(o.N.length(f)>=1e-15){const L=o.N.normalize([],f);o.N.scale(x,L,o.N.dot(x,L)),d[0]=x[0],d[1]=x[1]}const M=o.N.cross([],d,_);if(o.N.len(M)<1e-15)return null;const T=Math.atan2(-M[1],M[0]);return sm(Math.atan2(Math.sqrt(_[0]*_[0]+_[1]*_[1]),-_[2]),T)}class lm{constructor(d,f){this.position=d,this.orientation=f}get position(){return this._position}set position(d){if(d){const f=d instanceof o.L?d:new o.L(d[0],d[1],d[2]);this._renderWorldCopies&&(f.x=o.bh(f.x,0,1)),this._position=f}else this._position=null}lookAtPoint(d,f){if(this.orientation=null,!this.position)return;const x=this.position,M=this._elevation?this._elevation.getAtPointOrZero(o.L.fromLngLat(d)):0,T=o.L.fromLngLat(d,M),L=[T.x-x.x,T.y-x.y,T.z-x.z];f||(f=[0,0,1]),f[2]=Math.abs(f[2]),this.orientation=x_(L,f)}setPitchBearing(d,f){this.orientation=sm(o.bj(d),o.bj(-f))}}class _p{constructor(d,f){this._transform=o.a6.identity([]),this.orientation=f,this.position=d}get mercatorPosition(){const d=this.position;return new o.L(d[0],d[1],d[2])}get position(){const d=o.bk(this._transform,3);return[d[0],d[1],d[2]]}set position(d){var f;d&&o.bm(this._transform,3,[(f=d)[0],f[1],f[2],1])}get orientation(){return this._orientation}set orientation(d){this._orientation=d||o.bi.identity([]),d&&by(this._transform,this._orientation)}getPitchBearing(){const d=this.forward(),f=this.right();return{bearing:Math.atan2(-f[1],f[0]),pitch:Math.atan2(Math.sqrt(d[0]*d[0]+d[1]*d[1]),-d[2])}}setPitchBearing(d,f){this._orientation=sm(d,f),by(this._transform,this._orientation)}forward(){const d=o.bk(this._transform,2);return[-d[0],-d[1],-d[2]]}up(){const d=o.bk(this._transform,1);return[-d[0],-d[1],-d[2]]}right(){const d=o.bk(this._transform,0);return[d[0],d[1],d[2]]}getCameraToWorld(d,f){const x=new Float64Array(16);return o.a6.invert(x,this.getWorldToCamera(d,f)),x}getCameraToWorldMercator(){return this._transform}getWorldToCameraPosition(d,f,x){const M=this.position;o.N.scale(M,M,-d);const T=new Float64Array(16);return o.a6.fromScaling(T,[x,x,x]),o.a6.translate(T,T,M),T[10]*=f,T}getWorldToCamera(d,f){const x=new Float64Array(16),M=new Float64Array(4),T=this.position;return o.bi.conjugate(M,this._orientation),o.N.scale(T,T,-d),o.a6.fromQuat(x,M),o.a6.translate(x,x,T),x[1]*=-1,x[5]*=-1,x[9]*=-1,x[13]*=-1,x[8]*=f,x[9]*=f,x[10]*=f,x[11]*=f,x}getCameraToClipPerspective(d,f,x,M){const T=new Float64Array(16);return o.a6.perspective(T,d,f,x,M),T}getCameraToClipOrthographic(d,f,x,M,T,L){const j=new Float64Array(16);return o.a6.ortho(j,d,f,x,M,T,L),j}getDistanceToElevation(d,f=!1){const x=d===0?0:o.bl(d,f?o.au(this.position[1]):this.position[1]),M=this.forward();return(x-this.position[2])/M[2]}clone(){return new _p([...this.position],[...this.orientation])}}const xp=(_,d,f)=>(1-f)*_+f*d,cm=_=>_*_*_*_*_;class um{constructor(d,f,x,M,T,L,j){this.tileSize=512,this._renderWorldCopies=T===void 0||T,this._minZoom=d||0,this._maxZoom=f||22,this._minPitch=x??0,this._maxPitch=M??60,this.setProjection(L),this.setMaxBounds(j),this.width=0,this.height=0,this._center=new o.bn(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new dh,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._expandedProjMatrixCache={},this._distanceTileDataCache={},this._camera=new _p,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._tileCoverLift=0,this._horizonShift=.1,this._orthographicProjectionAtLowPitch=!1}clone(){const d=new um(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return d._elevation=this._elevation,d._centerAltitude=this._centerAltitude,d._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,d.tileSize=this.tileSize,d.mercatorFromTransition=this.mercatorFromTransition,d.width=this.width,d.height=this.height,d.cameraElevationReference=this.cameraElevationReference,d._center=this._center,d._setZoom(this.zoom),d._seaLevelZoom=this._seaLevelZoom,d.angle=this.angle,d._fov=this._fov,d._pitch=this._pitch,d._nearZ=this._nearZ,d._farZ=this._farZ,d._averageElevation=this._averageElevation,d._orthographicProjectionAtLowPitch=this._orthographicProjectionAtLowPitch,d._unmodified=this._unmodified,d._edgeInsets=this._edgeInsets.clone(),d._camera=this._camera.clone(),d._calcMatrices(),d.freezeTileCoverage=this.freezeTileCoverage,d.frustumCorners=this.frustumCorners,d}get isOrthographic(){return this.projection.name!=="globe"&&this._orthographicProjectionAtLowPitch&&this.pitch<15}get elevation(){return this._elevation}set elevation(d){this._elevation!==d&&(this._elevation=d,this._updateCameraOnTerrain(),this._calcMatrices())}get depthOcclusionForSymbolsAndCircles(){return this.projection.name!=="globe"&&!this.isOrthographic}updateElevation(d,f=!1){const x=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||x)&&this._updateCameraOnTerrain(),(d||x)&&this._constrainCamera(f),this._calcMatrices()}getProjection(){return o.ac(this.projection,["name","center","parallels"])}setProjection(d){this.projectionOptions=d||{name:"mercator"};const f=this.projection?this.getProjection():void 0;this.projection=o.bo(this.projectionOptions);const x=!m(f,this.getProjection());return x&&this._calcMatrices(),this.mercatorFromTransition=!1,x}setOrthographicProjectionAtLowPitch(d){return this._orthographicProjectionAtLowPitch!==d&&(this._orthographicProjectionAtLowPitch=d,this._calcMatrices(),!0)}setMercatorFromTransition(){const d=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=o.bo({name:"mercator"});const f=d!==this.projection.name;return f&&this._calcMatrices(),f}get minZoom(){return this._minZoom}set minZoom(d){this._minZoom!==d&&(this._minZoom=d,this.zoom=Math.max(this.zoom,d))}get maxZoom(){return this._maxZoom}set maxZoom(d){this._maxZoom!==d&&(this._maxZoom=d,this.zoom=Math.min(this.zoom,d))}get minPitch(){return this._minPitch}set minPitch(d){this._minPitch!==d&&(this._minPitch=d,this.pitch=Math.max(this.pitch,d))}get maxPitch(){return this._maxPitch}set maxPitch(d){this._maxPitch!==d&&(this._maxPitch=d,this.pitch=Math.min(this.pitch,d))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(d){d===void 0?d=!0:d===null&&(d=!1),this._renderWorldCopies=d}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const d=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(d))}get cameraWorldSize(){const d=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(d))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return o.bl(1,this.center.lat)*this.cameraWorldSizeForFog}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this.width,this.height)}get bearing(){return o.bh(this.rotation,-180,180)}set bearing(d){this.rotation=d}get rotation(){return-this.angle/Math.PI*180}set rotation(d){const f=-d*Math.PI/180;this.angle!==f&&(this._unmodified=!1,this.angle=f,this._calcMatrices(),this.rotationMatrix=o.b4.create(),o.b4.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(d){const f=o.aa(d,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==f&&(this._unmodified=!1,this._pitch=f,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const d=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/d)}set fov(d){d=Math.max(.01,Math.min(60,d)),this._fov!==d&&(this._unmodified=!1,this._fov=o.bj(d),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(d){this._averageElevation=d,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(d){const f=Math.min(Math.max(d,this.minZoom),this.maxZoom);this._zoom!==f&&(this._unmodified=!1,this._setZoom(f),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(d){this._zoom=d,this.scale=this.zoomScale(d),this.tileZoom=Math.floor(d),this.zoomFraction=d-this.tileZoom}get tileCoverLift(){return this._tileCoverLift}set tileCoverLift(d){this._tileCoverLift!==d&&(this._tileCoverLift=d)}_updateCameraOnTerrain(){const d=this.elevation?this.elevation.getAtPoint(this.locationCoordinate(this.center),Number.NEGATIVE_INFINITY):Number.NEGATIVE_INFINITY,f=this.elevation&&d===Number.NEGATIVE_INFINITY&&this.elevation.visibleDemTiles.length>0&&this.elevation.exaggeration()>0&&this._centerAltitudeValidForExaggeration;if(!this._elevation||d===Number.NEGATIVE_INFINITY&&(!f||!this._centerAltitude))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const x=this._elevation;f||this._centerAltitude&&this._centerAltitudeValidForExaggeration&&x.exaggeration()&&this._centerAltitudeValidForExaggeration!==x.exaggeration()?(this._centerAltitude=this._centerAltitude/this._centerAltitudeValidForExaggeration*x.exaggeration(),this._centerAltitudeValidForExaggeration=x.exaggeration()):(this._centerAltitude=d||0,this._centerAltitudeValidForExaggeration=x.exaggeration()),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const d=this._elevation,f=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],x=this.horizonLineFromTop();let M=0,T=0;for(let L=0;L<f.length;L++){const j=new o.P(f[L][0]*this.width,x+f[L][1]*(this.height-x)),H=d.pointCoordinate(j);if(!H)continue;const G=1/Math.hypot(H[0]-this._camera.position[0],H[1]-this._camera.position[1]);M+=H[3]*G,T+=G}return T===0?NaN:M/T}get center(){return this._center}set center(d){d.lat===this._center.lat&&d.lng===this._center.lng||(this._unmodified=!1,this._center=d,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const d=this._seaLevelZoom,f=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),x=this.pixelsPerMeter/this.worldSize*f,M=this._mercatorZfromZoom(d),T=this._mercatorZfromZoom(this._maxZoom),L=Math.max(M-x,T);this._setZoom(this._zoomFromMercatorZ(L))}get padding(){return this._edgeInsets.toJSON()}set padding(d){this._edgeInsets.equals(d)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,d,1),this._calcMatrices())}computeZoomRelativeTo(d){const f=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,d.toAltitude()));let x;x=d.z<this._camera.position[2]?[f.x,f.y,f.z]:[d.x,d.y,d.z];const M=o.N.length(o.N.sub([],this._camera.position,x));return o.aa(this._zoomFromMercatorZ(M),this._minZoom,this._maxZoom)}setFreeCameraOptions(d){if(!this.height||!d.position&&!d.orientation)return;this._updateCameraState();let f=!1;if(d.orientation&&!o.bi.exactEquals(d.orientation,this._camera.orientation)&&(f=this._setCameraOrientation(d.orientation)),d.position){const x=[d.position.x,d.position.y,d.position.z];o.N.exactEquals(x,this._camera.position)||(this._setCameraPosition(x),f=!0)}f&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const d=this._camera.position,f=new lm;return f.position=new o.L(d[0],d[1],d[2]),f.orientation=this._camera.orientation,f._elevation=this.elevation,f._renderWorldCopies=this.renderWorldCopies,f}_setCameraOrientation(d){if(!o.bi.length(d))return!1;o.bi.normalize(d,d);const f=o.N.transformQuat([],[0,0,-1],d),x=o.N.transformQuat([],[0,-1,0],d);if(x[2]<0)return!1;const M=x_(f,x);return!!M&&(this._camera.orientation=M,!0)}_setCameraPosition(d){const f=this.zoomScale(this.minZoom)*this.tileSize,x=this.zoomScale(this.maxZoom)*this.tileSize,M=this.cameraToCenterDistance;d[2]=o.aa(d[2],M/x,M/f),this._camera.position=d}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(d){return this._edgeInsets.equals(d)}interpolatePadding(d,f,x){this._unmodified=!1,this._edgeInsets.interpolate(d,f,x),this._constrain(),this._calcMatrices()}coveringZoomLevel(d){const f=(d.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/d.tileSize));return Math.max(0,f)}getVisibleUnwrappedCoordinates(d){const f=[new o.bp(0,d)];if(this.renderWorldCopies){const x=this.pointCoordinate(new o.P(0,0)),M=this.pointCoordinate(new o.P(this.width,0)),T=this.pointCoordinate(new o.P(this.width,this.height)),L=this.pointCoordinate(new o.P(0,this.height)),j=Math.floor(Math.min(x.x,M.x,T.x,L.x)),H=Math.floor(Math.max(x.x,M.x,T.x,L.x)),G=1;for(let q=j-G;q<=H+G;q++)q!==0&&f.push(new o.bp(q,d))}return f}isLODDisabled(d){return(!d||this.pitch<=60)&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace}extendTileCoverForShadows(d,f,x){let M=[];if(f[0]===0&&f[1]===0)return M;for(const L of d){const j=L.canonical,H=L.overscaledZ,G=L.wrap,q=1<<j.z,J=j.x+1<q,ie=j.x>0,se=j.y+1<q,_e=j.y>0,ve=L.wrap-(ie?0:1),Se=L.wrap+(J?0:1),pe=ie?j.x-1:q-1,Ce=J?j.x+1:0;f[0]<0?(M.push(new o.am(H,Se,j.z,Ce,j.y)),f[1]<0&&se&&(M.push(new o.am(H,G,j.z,j.x,j.y+1)),M.push(new o.am(H,Se,j.z,Ce,j.y+1))),f[1]>0&&_e&&(M.push(new o.am(H,G,j.z,j.x,j.y-1)),M.push(new o.am(H,Se,j.z,Ce,j.y-1)))):f[0]>0?(M.push(new o.am(H,ve,j.z,pe,j.y)),f[1]<0&&se&&(M.push(new o.am(H,G,j.z,j.x,j.y+1)),M.push(new o.am(H,ve,j.z,pe,j.y+1))),f[1]>0&&_e&&(M.push(new o.am(H,G,j.z,j.x,j.y-1)),M.push(new o.am(H,ve,j.z,pe,j.y-1)))):f[1]<0&&se?M.push(new o.am(H,G,j.z,j.x,j.y+1)):_e&&M.push(new o.am(H,G,j.z,j.x,j.y-1))}if(M.length>1){M.sort((H,G)=>H.overscaledZ-G.overscaledZ||H.wrap-G.wrap||H.canonical.z-G.canonical.z||H.canonical.x-G.canonical.x||H.canonical.y-G.canonical.y);let L=0,j=0;for(;j<M.length;)M[j].equals(M[L])?++j:M[++L]=M[j++];M.length=L+1}const T=[];for(const L of M)M.some(j=>L.isChildOf(j))||T.push(L);return M=T.filter(L=>!d.some(j=>!!(L.overscaledZ<x&&j.isChildOf(L))||L.equals(j)||L.isChildOf(j))),M}coveringTiles(d){let f=this.coveringZoomLevel(d);const x=f,M=this.elevation&&this.elevation.exaggeration(),T=M&&!d.isTerrainDEM,L=this.projection.name==="mercator";if(d.minzoom!==void 0&&f<d.minzoom)return[];d.maxzoom!==void 0&&f>d.maxzoom&&(f=d.maxzoom);const j=this.locationCoordinate(this.center),H=this.center.lat,G=1<<f,q=[G*j.x,G*j.y,0],J=this.projection.name==="globe",ie=!J,se=o.bq.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,f,ie),_e=J?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),ve=G*o.bl(1,this.center.lat),Se=this._camera.position[2]/o.bl(1,this.center.lat),pe=[G*_e.x,G*_e.y,Se*(ie?1:ve)],Ce=J||M,Re=this.cameraToCenterDistance/d.tileSize*(d.roundZoom?1:.502),Pe=this.isLODDisabled(!0)?f:0;let De;if(this._elevation&&d.isTerrainDEM)De=1e4*this._elevation.exaggeration();else if(this._elevation){const Ye=this._elevation.getMinMaxForVisibleTiles();De=Ye?Ye.max:this._centerAltitude}else De=this._centerAltitude;const Ae=d.isTerrainDEM?-De:this._elevation?this._elevation.getMinElevationBelowMSL():0,Le=this.projection.isReprojectedInTileSpace?o.br(this):1,He=Ye=>{const tn=new o.L(Ye.x+25e-6,Ye.y,Ye.z),yn=new o.L(Ye.x,Ye.y+25e-6,Ye.z),mn=Ye.toLngLat(),Mn=tn.toLngLat(),Vn=yn.toLngLat(),nr=this.locationCoordinate(mn),Xn=this.locationCoordinate(Mn),Jn=this.locationCoordinate(Vn),Nr=Math.hypot(Xn.x-nr.x,Xn.y-nr.y),br=Math.hypot(Jn.x-nr.x,Jn.y-nr.y);return Math.sqrt(Nr*br)*Le/25e-6},Ge=Ye=>{const vt=De,tn=Ae;return{aabb:o.bu(this,G,0,0,0,Ye,tn,vt,this.projection),zoom:0,x:0,y:0,minZ:tn,maxZ:vt,wrap:Ye,fullyVisible:!1}},Je=[];let xt=[];const at=f,Nt=d.reparseOverscaled?x:f,It=Ye=>Ye*Ye,Yt=It((Se-this._centerAltitude)*ve),ct=Ye=>{if(!this._elevation||!Ye.tileID||!L)return;const vt=this._elevation.getMinMaxForTile(Ye.tileID),tn=Ye.aabb;vt?(tn.min[2]=vt.min,tn.max[2]=vt.max,tn.center[2]=(tn.min[2]+tn.max[2])/2):(Ye.shouldSplit=Ct(Ye),Ye.shouldSplit||(tn.min[2]=tn.max[2]=tn.center[2]=this._centerAltitude))},Ct=Ye=>{if(Ye.zoom<Pe)return!0;if(Ye.zoom===at)return!1;if(Ye.shouldSplit!=null)return Ye.shouldSplit;const vt=Ye.aabb.distanceX(pe),tn=Ye.aabb.distanceY(pe);let yn=Yt,mn=1;if(J){yn=It(Ye.aabb.distanceZ(pe));const nr=Math.pow(2,Ye.zoom),Xn=o.au((Ye.y+1)/nr),Jn=o.au(Ye.y/nr),Nr=Math.min(Math.max(H,Xn),Jn),br=o.bJ(Nr)/o.bJ(H);if(mn=Nr===H?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,br/this._mercatorScaleRatio),this.zoom<=o.bG&&Ye.zoom===at-1&&br>=.9)return!0}else if(T&&(yn=It(Ye.aabb.distanceZ(pe)*ve)),this.projection.isReprojectedInTileSpace&&x<=5){const nr=Math.pow(2,Ye.zoom),Xn=He(new o.L((Ye.x+.5)/nr,(Ye.y+.5)/nr));mn=Xn>.85?1:Xn}const Mn=vt*vt+tn*tn+yn,Vn=It((1<<at-Ye.zoom)*Re*mn*((nr,Xn)=>{if(Xn*It(.707)<nr)return 1;const Jn=Math.sqrt(Xn/nr);return Jn/(1.4144271570014144+(Math.pow(1.1,Jn-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(yn,Yt),Mn));return Mn<Vn};if(this.renderWorldCopies)for(let Ye=1;Ye<=3;Ye++)Je.push(Ge(-Ye)),Je.push(Ge(Ye));for(Je.push(Ge(0));Je.length>0;){const Ye=Je.pop(),vt=Ye.x,tn=Ye.y;let yn=Ye.fullyVisible;const mn=()=>this.projection.name==="globe"&&(Ye.y===0||Ye.y===(1<<Ye.zoom)-1);if(!yn){let Mn=Ce?Ye.aabb.intersects(se):Ye.aabb.intersectsFlat(se);if(Mn===0&&mn()){const Vn=new o.bs(Ye.zoom,vt,tn);Mn=o.bt(this,G,Vn,!0).intersects(se)}if(Mn===0)continue;yn=Mn===2}if(Ye.zoom!==at&&Ct(Ye))for(let Mn=0;Mn<4;Mn++){const Vn=(vt<<1)+Mn%2,nr=(tn<<1)+(Mn>>1),Xn={aabb:L?Ye.aabb.quadrant(Mn):o.bu(this,G,Ye.zoom+1,Vn,nr,Ye.wrap,Ye.minZ,Ye.maxZ,this.projection),zoom:Ye.zoom+1,x:Vn,y:nr,wrap:Ye.wrap,fullyVisible:yn,tileID:void 0,shouldSplit:void 0,minZ:Ye.minZ,maxZ:Ye.maxZ};T&&!J&&(Xn.tileID=new o.am(Ye.zoom+1===at?Nt:Ye.zoom+1,Ye.wrap,Ye.zoom+1,Vn,nr),ct(Xn)),Je.push(Xn)}else{const Mn=Ye.zoom===at?Nt:Ye.zoom;if(d.minzoom&&d.minzoom>Mn)continue;if(!yn){let Jn=Ce?Ye.aabb.intersectsPrecise(se):Ye.aabb.intersectsPreciseFlat(se);if(Jn===0&&mn()){const Nr=new o.bs(Ye.zoom,vt,tn);Jn=o.bt(this,G,Nr,!0).intersectsPrecise(se)}if(Jn===0)continue}const Vn=q[0]-(.5+vt+(Ye.wrap<<Ye.zoom))*(1<<f-Ye.zoom),nr=q[1]-.5-tn,Xn=Ye.tileID?Ye.tileID:new o.am(Mn,Ye.wrap,Ye.zoom,vt,tn);xt.push({tileID:Xn,distanceSq:Vn*Vn+nr*nr})}}if(this.fogCullDistSq){const Ye=this.fogCullDistSq,vt=this.horizonLineFromTop();xt=xt.filter(tn=>{const yn=[0,0,0,1],mn=[o.V,o.V,0,1],Mn=this.calculateFogTileMatrix(tn.tileID.toUnwrapped());o.a7.transformMat4(yn,yn,Mn),o.a7.transformMat4(mn,mn,Mn);const Vn=o.a7.min([],yn,mn),nr=o.a7.max([],yn,mn),Xn=o.bv(Vn,nr);if(Xn===0)return!0;let Jn=!1;const Nr=this._elevation;if(Nr&&Xn>Ye&&vt!==0){const br=this.calculateProjMatrix(tn.tileID.toUnwrapped());let Tr;d.isTerrainDEM||(Tr=Nr.getMinMaxForTile(tn.tileID)),Tr||(Tr={min:Ae,max:De});const Cr=o.bH(this.rotation),Jr=[Cr[0]*o.V,Cr[1]*o.V,Tr.max];o.N.transformMat4(Jr,Jr,br),Jn=(1-Jr[1])*this.height*.5<vt}return Xn<Ye||Jn})}return xt.sort((Ye,vt)=>Ye.distanceSq-vt.distanceSq).map(Ye=>Ye.tileID)}resize(d,f){this.width=d,this.height=f,this.pixelsToGLUnits=[2/d,-2/f],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(d){return Math.pow(2,d)}scaleZoom(d){return Math.log(d)/Math.LN2}project(d){const f=o.aa(d.lat,-o.bw,o.bw),x=this.projection.project(d.lng,f);return new o.P(x.x*this.worldSize,x.y*this.worldSize)}unproject(d){return this.projection.unproject(d.x/this.worldSize,d.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/o.bl(1,this.center.lat)/this.worldSize}setLocationAtPoint(d,f){let x,M;const T=this.centerPoint;if(this.projection.name==="globe"){const j=this.worldSize;x=(f.x-T.x)/j,M=(f.y-T.y)/j}else{const j=this.pointCoordinate(f),H=this.pointCoordinate(T);x=j.x-H.x,M=j.y-H.y}const L=this.locationCoordinate(d);this.setLocation(new o.L(L.x-x,L.y-M))}setLocation(d){this.center=this.coordinateLocation(d),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(d){return this.projection.locationPoint(this,d)}locationPoint3D(d){return this.projection.locationPoint(this,d,!0)}pointLocation(d){return this.coordinateLocation(this.pointCoordinate(d))}pointLocation3D(d){return this.coordinateLocation(this.pointCoordinate3D(d))}locationCoordinate(d,f){const x=f?o.bl(f,d.lat):void 0,M=this.projection.project(d.lng,d.lat);return new o.L(M.x,M.y,x)}coordinateLocation(d){return this.projection.unproject(d.x,d.y)}pointRayIntersection(d,f){const x=f??this._centerAltitude,M=[d.x,d.y,0,1],T=[d.x,d.y,1,1];o.a7.transformMat4(M,M,this.pixelMatrixInverse),o.a7.transformMat4(T,T,this.pixelMatrixInverse);const L=T[3];o.a7.scale(M,M,1/M[3]),o.a7.scale(T,T,1/L);const j=M[2],H=T[2];return{p0:M,p1:T,t:j===H?0:(x-j)/(H-j)}}screenPointToMercatorRay(d){const f=[d.x,d.y,0,1],x=[d.x,d.y,1,1];return o.a7.transformMat4(f,f,this.pixelMatrixInverse),o.a7.transformMat4(x,x,this.pixelMatrixInverse),o.a7.scale(f,f,1/f[3]),o.a7.scale(x,x,1/x[3]),f[2]=o.bl(f[2],this._center.lat)*this.worldSize,x[2]=o.bl(x[2],this._center.lat)*this.worldSize,o.a7.scale(f,f,1/this.worldSize),o.a7.scale(x,x,1/this.worldSize),new o.a2([f[0],f[1],f[2]],o.N.normalize([],o.N.sub([],x,f)))}rayIntersectionCoordinate(d){const{p0:f,p1:x,t:M}=d,T=o.bl(f[2],this._center.lat),L=o.bl(x[2],this._center.lat);return new o.L(o.U(f[0],x[0],M)/this.worldSize,o.U(f[1],x[1],M)/this.worldSize,o.U(T,L,M))}pointCoordinate(d,f=this._centerAltitude){return this.projection.pointCoordinate(this,d.x,d.y,f)}pointCoordinate3D(d){if(!this.elevation)return this.pointCoordinate(d);let f=this.projection.pointCoordinate3D(this,d.x,d.y);if(f)return new o.L(f[0],f[1],f[2]);let x=0,M=this.horizonLineFromTop();if(d.y>M)return this.pointCoordinate(d);const T=.02*M,L=d.clone();for(let j=0;j<10&&M-x>T;j++){L.y=o.U(x,M,.66);const H=this.projection.pointCoordinate3D(this,L.x,L.y);H?(M=L.y,f=H):x=L.y}return f?new o.L(f[0],f[1],f[2]):this.pointCoordinate(d)}isPointAboveHorizon(d){return this.projection.isPointAboveHorizon(this,d)}isPointOnSurface(d){if(d.y<0||d.y>this.height||d.x<0||d.x>this.width)return!1;if(this.elevation||this.zoom>=o.bx)return!this.isPointAboveHorizon(d);const f=this.pointCoordinate(d);return f.y>=0&&f.y<=1}_coordinatePoint(d,f){const x=f&&this.elevation?this.elevation.getAtPointOrZero(d,this._centerAltitude):this._centerAltitude,M=[d.x*this.worldSize,d.y*this.worldSize,x+d.toAltitude(),1];return o.a7.transformMat4(M,M,this.pixelMatrix),M[3]>0?new o.P(M[0]/M[3],M[1]/M[3]):new o.P(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:d,left:f}=this._edgeInsets,x=this.height-this._edgeInsets.bottom,M=this.width-this._edgeInsets.right,T=this.pointLocation3D(new o.P(f,d)),L=this.pointLocation3D(new o.P(M,d)),j=this.pointLocation3D(new o.P(M,x)),H=this.pointLocation3D(new o.P(f,x));let G=Math.min(T.lng,L.lng,j.lng,H.lng),q=Math.max(T.lng,L.lng,j.lng,H.lng),J=Math.min(T.lat,L.lat,j.lat,H.lat),ie=Math.max(T.lat,L.lat,j.lat,H.lat);const se=Math.pow(2,-this.zoom)/16*270,_e=this.projection.name==="globe"?1:4,ve=(Se,pe,Ce,Re,Pe)=>{const De=(Se+Ce)/2,Ae=(pe+Re)/2,Le=new o.P(De,Ae),{lng:He,lat:Ge}=this.pointLocation3D(Le),Je=Math.max(0,G-He,J-Ge,He-q,Ge-ie);G=Math.min(G,He),q=Math.max(q,He),J=Math.min(J,Ge),ie=Math.max(ie,Ge),(Pe<_e||Je>se)&&(ve(Se,pe,De,Ae,Pe+1),ve(De,Ae,Ce,Re,Pe+1))};if(ve(f,d,M,d,1),ve(M,d,M,x,1),ve(M,x,f,x,1),ve(f,x,f,d,1),this.projection.name==="globe"){const[Se,pe]=o.by(this);Se?(ie=90,q=180,G=-180):pe&&(J=-90,q=180,G=-180)}return new o.ad(new o.bn(G,J),new o.bn(q,ie))}_getBoundsRectangular(d,f){const{top:x,left:M}=this._edgeInsets,T=this.height-this._edgeInsets.bottom,L=this.width-this._edgeInsets.right,j=new o.P(M,x),H=new o.P(L,x),G=new o.P(L,T),q=new o.P(M,T);let J=this.pointCoordinate(j,d),ie=this.pointCoordinate(H,d);const se=this.pointCoordinate(G,f),_e=this.pointCoordinate(q,f),ve=(Se,pe)=>(pe.y-Se.y)/(pe.x-Se.x);return J.y>1&&ie.y>=0?J=new o.L((1-_e.y)/ve(_e,J)+_e.x,1):J.y<0&&ie.y<=1&&(J=new o.L(-_e.y/ve(_e,J)+_e.x,0)),ie.y>1&&J.y>=0?ie=new o.L((1-se.y)/ve(se,ie)+se.x,1):ie.y<0&&J.y<=1&&(ie=new o.L(-se.y/ve(se,ie)+se.x,0)),new o.ad().extend(this.coordinateLocation(J)).extend(this.coordinateLocation(ie)).extend(this.coordinateLocation(_e)).extend(this.coordinateLocation(se))}_getBoundsRectangularTerrain(){const d=this.elevation;if(!d.visibleDemTiles.length||d.isUsingMockSource())return this._getBoundsRectangular(0,0);const f=d.visibleDemTiles.reduce((x,M)=>{if(M.dem){const T=M.dem.tree;x.min=Math.min(x.min,T.minimums[0]),x.max=Math.max(x.max,T.maximums[0])}return x},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(f.min*d.exaggeration(),f.max*d.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(d=!0){const f=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))-this.centerOffset.y,x=this.height/2-f*(1-this._horizonShift);return d?Math.max(0,x):x}getMaxBounds(){return this.maxBounds}setMaxBounds(d){this.maxBounds=d,this.minLat=-o.bw,this.maxLat=o.bw,this.minLng=-180,this.maxLng=180,d&&(this.minLat=d.getSouth(),this.maxLat=d.getNorth(),this.minLng=d.getWest(),this.maxLng=d.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=o.a5(this.minLng)*this.tileSize,this.worldMaxX=o.a5(this.maxLng)*this.tileSize,this.worldMinY=o.ae(this.maxLat)*this.tileSize,this.worldMaxY=o.ae(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(d,f){return this.projection.createTileMatrix(this,f,d)}calculateDistanceTileData(d){const f=d.key,x=this._distanceTileDataCache;if(x[f])return x[f];const M=d.canonical,T=1/this.height,L=this.cameraWorldSize,j=L/this.zoomScale(M.z),H=(M.x+Math.pow(2,M.z)*d.wrap)*j,G=M.y*j,q=this.point;q.x*=L/this.worldSize,q.y*=L/this.worldSize;const J=this.angle,ie=Math.sin(-J),se=-Math.cos(-J);return x[f]={bearing:[ie,se],center:[(q.x-H)*T,(q.y-G)*T],scale:j/o.V*T},x[f]}calculateFogTileMatrix(d){const f=d.key,x=this._fogTileMatrixCache;if(x[f])return x[f];const M=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,d);return o.a6.multiply(M,this.worldToFogMatrix,M),x[f]=new Float32Array(M),x[f]}calculateProjMatrix(d,f=!1,x=!1){const M=d.key;let T;if(T=x?this._expandedProjMatrixCache:f?this._alignedProjMatrixCache:this._projMatrixCache,T[M])return T[M];const L=this.calculatePosMatrix(d,this.worldSize);let j;return j=this.projection.isReprojectedInTileSpace?this.mercatorMatrix:x?this.expandedFarZProjMatrix:f?this.alignedProjMatrix:this.projMatrix,o.a6.multiply(L,j,L),T[M]=new Float32Array(L),T[M]}calculatePixelsToTileUnitsMatrix(d){const f=d.tileID.key,x=this._pixelsToTileUnitsCache;if(x[f])return x[f];const M=o.bz(d,this);return x[f]=M,x[f]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const d=1/this.worldSize,f=o.a6.fromScaling([],[d,d,d]);return o.a6.multiply(f,f,this.globeMatrix),f}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const d=this._elevation;this._updateCameraState();const f=o.bl(1,this._center.lat)*this.worldSize,x=this._computeCameraPosition(f),M=this._camera.forward(),T=o.bl(1,this._center.lat);x[2]/=T,M[2]/=T,o.N.normalize(M,M);const L=d.raycast(x,M,d.exaggeration());if(L){const j=o.N.scaleAndAdd([],x,M,L),H=new o.L(j[0],j[1],o.bl(j[2],o.au(j[1]))),G=(H.z+o.N.length([H.x-x[0],H.y-x[1],H.z-x[2]*T]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(G),this._centerAltitude=H.toAltitude(),this._center=this.coordinateLocation(H),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(d=!1){if(!this._elevation)return;const f=this._elevation,x=o.bl(1,this._center.lat)*this.worldSize,M=this._computeCameraPosition(x),T=f.getAtPointOrZero(new o.L(...M)),L=this.pixelsPerMeter/this.worldSize*T,j=this._minimumHeightOverTerrain(),H=M[2]-L;if(H<=j)if(H<0||d){const G=this.locationCoordinate(this._center,this._centerAltitude),q=[M[0],M[1],G.z-M[2]],J=o.N.length(q);q[2]-=(j-H)/this._pixelsPerMercatorPixel;const ie=o.N.length(q);if(ie===0)return;o.N.scale(q,q,J/ie*this._pixelsPerMercatorPixel),this._camera.position=[M[0],M[1],G.z*this._pixelsPerMercatorPixel-q[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const d=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||d){const ie=this.center;return ie.lat=o.aa(ie.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!d)&&(ie.lng=o.aa(ie.lng,this.minLng,this.maxLng)),this.center=ie,void(this._constraining=!1)}const f=this._unmodified,{x,y:M}=this.point;let T=0,L=x,j=M;const H=this.width/2,G=this.height/2,q=this.worldMinY*this.scale,J=this.worldMaxY*this.scale;if(M-G<q&&(j=q+G),M+G>J&&(j=J-G),J-q<this.height&&(T=Math.max(T,this.height/(J-q)),j=(J+q)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const ie=this.worldMinX*this.scale,se=this.worldMaxX*this.scale,_e=this.worldSize/2-(ie+se)/2;L=(x+_e+this.worldSize)%this.worldSize-_e,L-H<ie&&(L=ie+H),L+H>se&&(L=se-H),se-ie<this.width&&(T=Math.max(T,this.width/(se-ie)),L=(se+ie)/2)}L===x&&j===M||(this.center=this.unproject(new o.P(L,j))),T&&(this.zoom+=this.scaleZoom(T)),this._constrainCamera(),this._unmodified=f,this._constraining=!1}_minZoomForBounds(){let d=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(d=Math.max(d,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),d}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const d=this.centerOffset,f=this.projection.name==="globe",x=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=o.bl(1,this.center.lat)/o.bl(1,o.bI));const M=o.bA(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,M),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const T=this.projection.zAxisUnit==="meters"?x:1,L=this._camera.getWorldToCamera(this.worldSize,T);let j;const H=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);if(H[8]=2*-d.x/this.width,H[9]=2*d.y/this.height,this.isOrthographic){let Ge=.5*this.height/Math.tan(this._fov/2)*1*Math.tan(.5*this._fov),Je=Ge*this.aspect,xt=-Je,at=-Ge;Je-=d.x,xt-=d.x,Ge+=d.y,at+=d.y,j=this._camera.getCameraToClipOrthographic(xt,Je,at,Ge,this._nearZ,this._farZ),((Nt,It,Yt,ct)=>{for(let Ct=0;Ct<16;Ct++)Nt[Ct]=xp(It[Ct],Yt[Ct],ct)})(j,j,H,cm(this.pitch>=15?1:this.pitch/15))}else j=H;const G=o.a6.mul([],H,L);let q=o.a6.mul([],j,L);if(this.projection.isReprojectedInTileSpace){const Ge=this.locationCoordinate(this.center),Je=o.a6.identity([]);o.a6.translate(Je,Je,[Ge.x*this.worldSize,Ge.y*this.worldSize,0]),o.a6.multiply(Je,Je,o.bB(this)),o.a6.translate(Je,Je,[-Ge.x*this.worldSize,-Ge.y*this.worldSize,0]),o.a6.multiply(q,q,Je),o.a6.multiply(G,G,Je),this.inverseAdjustmentMatrix=o.bC(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];if(this.mercatorMatrix=o.a6.scale([],q,[this.worldSize,this.worldSize,this.worldSize/T,1]),this.projMatrix=q,this.invProjMatrix=o.a6.invert(new Float64Array(16),this.projMatrix),f){const Ge=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,1/0);Ge[8]=2*-d.x/this.width,Ge[9]=2*d.y/this.height,this.expandedFarZProjMatrix=o.a6.mul([],Ge,L)}else this.expandedFarZProjMatrix=this.projMatrix;const J=o.a6.invert([],j);this.frustumCorners=o.bD.fromInvProjectionMatrix(J,this.horizonLineFromTop(),this.height),this.cameraFrustum=o.bq.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,0,!f);const ie=new Float32Array(16);o.a6.identity(ie),o.a6.scale(ie,ie,[1,-1,1]),o.a6.rotateX(ie,ie,this._pitch),o.a6.rotateZ(ie,ie,this.angle);const se=o.a6.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ);this.starsProjMatrix=o.a6.clone(se);const _e=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;se[8]=2*-d.x/this.width,se[9]=2*(d.y+_e)/this.height,this.skyboxMatrix=o.a6.multiply(ie,se,ie);const ve=this.point,Se=ve.x,pe=ve.y,Ce=this.width%2/2,Re=this.height%2/2,Pe=Math.cos(this.angle),De=Math.sin(this.angle),Ae=Se-Math.round(Se)+Pe*Ce+De*Re,Le=pe-Math.round(pe)+Pe*Re+De*Ce,He=new Float64Array(q);if(o.a6.translate(He,He,[Ae>.5?Ae-1:Ae,Le>.5?Le-1:Le,0]),this.alignedProjMatrix=He,q=o.a6.create(),o.a6.scale(q,q,[this.width/2,-this.height/2,1]),o.a6.translate(q,q,[1,-1,0]),this.labelPlaneMatrix=q,q=o.a6.create(),o.a6.scale(q,q,[1,-1,1]),o.a6.translate(q,q,[-1,-1,0]),o.a6.scale(q,q,[2/this.width,2/this.height,1]),this.glCoordMatrix=q,this.pixelMatrix=o.a6.multiply(new Float64Array(16),this.labelPlaneMatrix,G),this._calcFogMatrices(),this._distanceTileDataCache={},q=o.a6.invert(new Float64Array(16),this.pixelMatrix),!q)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=q,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=o.bE(this);const Ge=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=o.N.transformMat4(Ge,Ge,L),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=q;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={},this._expandedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const d=this.cameraWorldSizeForFog,f=this.cameraPixelsPerMeter,x=this._camera.position,M=1/this.height/this._pixelsPerMercatorPixel,T=[d,d,f];o.N.scale(T,T,M),o.N.scale(x,x,-1),o.N.multiply(x,x,T);const L=o.a6.create();o.a6.translate(L,L,x),o.a6.scale(L,L,T),this.mercatorFogMatrix=L,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(d,f,M)}_computeCameraPosition(d){const f=(d=d||this.pixelsPerMeter)/this.pixelsPerMeter,x=this._camera.forward(),M=this.point,T=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*f-d/this.worldSize*this._centerAltitude;return[M.x/this.worldSize-x[0]*T,M.y/this.worldSize-x[1]*T,d/this.worldSize*this._centerAltitude-x[2]*T]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(d){const f=this._maxCameraBoundsDistance()*Math.cos(this._pitch),x=this._camera.position[2],M=d[2];let T=1;this.projection.wrap&&(this.center=this.center.wrap()),M>0&&(T=Math.min((f-x)/M,1)),this._camera.position=o.N.scaleAndAdd([],this._camera.position,d,T),this._updateStateFromCamera()}_updateStateFromCamera(){const d=this._camera.position,f=this._camera.forward(),{pitch:x,bearing:M}=this._camera.getPitchBearing(),T=o.bl(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,L=this._mercatorZfromZoom(this._maxZoom)*Math.cos(o.bj(this._maxPitch)),j=Math.max((d[2]-T)/Math.cos(x),L),H=this._zoomFromMercatorZ(j);o.N.scaleAndAdd(d,d,f,j),this._pitch=o.aa(x,o.bj(this.minPitch),o.bj(this.maxPitch)),this.angle=o.bh(M,-Math.PI,Math.PI),this._setZoom(o.aa(H,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new o.L(d[0],d[1],d[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(d){return Math.pow(2,d)*this.tileSize}_mercatorZfromZoom(d){return this.cameraToCenterDistance/this._worldSizeFromZoom(d)}_minimumHeightOverTerrain(){const d=Math.min(this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom,this._maxZoom)+4;return this._mercatorZfromZoom(d)}_zoomFromMercatorZ(d){return this.scaleZoom(this.cameraToCenterDistance/(d*this.tileSize))}zoomFromMercatorZAdjusted(d){let f=0,x=o.bx,M=0,T=1/0;for(;x-f>1e-6&&x>f;){const L=f+.5*(x-f),j=this.tileSize*Math.pow(2,L),H=this.getCameraToCenterDistance(this.projection,L,j),G=this.scaleZoom(H/(d*this.tileSize)),q=Math.abs(L-G);q<T&&(T=q,M=L),L<G?f=L:x=L}return M}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(o.w("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(d,f){const x=Math.min(d.x,f.x),M=Math.max(d.x,f.x),T=Math.min(d.y,f.y),L=Math.max(d.y,f.y);if(T<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const j=[new o.P(x,T),new o.P(M,L),new o.P(x,L),new o.P(M,T)],H=this.renderWorldCopies?-3:0,G=this.renderWorldCopies?4:1;for(const q of j){const J=this.pointRayIntersection(q);if(J.t<0)return!0;const ie=this.rayIntersectionCoordinate(J);if(ie.x<H||ie.y<0||ie.x>G||ie.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+o.bF(this.fovAboveCenter)>88||this.anyCornerOffEdge(new o.P(0,0),new o.P(this.width,this.height))}zoomDeltaToMovement(d,f){const x=o.N.length(o.N.sub([],this._camera.position,d)),M=this._zoomFromMercatorZ(x)+f;return x-this._mercatorZfromZoom(M)}getCameraPoint(){if(this.projection.name==="globe"){const d=function([f,x,M],T){const L=[f,x,M,1];o.a7.transformMat4(L,L,T);const j=L[3]=Math.max(L[3],1e-6);return L[0]/=j,L[1]/=j,L[2]/=j,L}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new o.P(d[0],d[1])}{const d=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(0,d))}}getCameraToCenterDistance(d,f=this.zoom,x=this.worldSize){const M=o.bA(d,f,this.width,this.height,1024),T=d.pixelSpaceConversion(this.center.lat,x,M);let L=.5/Math.tan(.5*this._fov)*this.height*T;return this.isOrthographic&&(L=xp(1,L,cm(this.pitch>=15?1:this.pitch/15))),L}getWorldToCameraMatrix(){const d=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&o.a6.multiply(d,d,this.globeMatrix),d}getFrustum(d){return o.bq.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,d,this.projection.zAxisUnit==="meters")}}const Fa={BaseColor:5,MetallicRoughness:6,Normal:7,Occlusion:8,Emission:9,ShadowMap0:10},hd=(_,d)=>{if(d>0&&_.terrain&&o.w("Cutoff is currently disabled on terrain"),d<=0||_.terrain)return{shouldRenderCutoff:!1,uniformValues:{u_cutoff_params:[0,0,0,1]}};const f=_.transform,x=Math.max(Math.abs(f._zoom-(_.minCutoffZoom-1)),1),M=f.isLODDisabled(!1)?o.O(60,45,f.pitch):o.O(30,15,f.pitch),T=f._farZ-f._nearZ,L=d*f.height,j=((1-(H=M))*f.cameraToCenterDistance+H*(f._farZ+L))*x;var H;return{shouldRenderCutoff:M<1,uniformValues:{u_cutoff_params:[f._nearZ,f._farZ,(j-f._nearZ)/T,(j-L-f._nearZ)/T]}}},Ss={cascadeCount:2,shadowMapResolution:2048};class w_{constructor(d,f){this.aabb=d,this.lastCascade=f}}class jA{add(d,f){const x=this.receivers[d.key];x!==void 0?(x.aabb.min[0]=Math.min(x.aabb.min[0],f.min[0]),x.aabb.min[1]=Math.min(x.aabb.min[1],f.min[1]),x.aabb.min[2]=Math.min(x.aabb.min[2],f.min[2]),x.aabb.max[0]=Math.max(x.aabb.max[0],f.max[0]),x.aabb.max[1]=Math.max(x.aabb.max[1],f.max[1]),x.aabb.max[2]=Math.max(x.aabb.max[2],f.max[2])):this.receivers[d.key]=new w_(f,null)}clear(){this.receivers={}}get(d){return this.receivers[d.key]}computeRequiredCascades(d,f,x){const M=o.bS.fromPoints(d.points);let T=0;for(const L in this.receivers){const j=this.receivers[L];if(!j||!M.intersectsAabb(j.aabb))continue;j.aabb.min=M.closestPoint(j.aabb.min),j.aabb.max=M.closestPoint(j.aabb.max);const H=j.aabb.getCorners();for(let G=0;G<x.length;G++){let q=!0;for(const J of H){const ie=[J[0]*f,J[1]*f,J[2]];if(o.N.transformMat4(ie,ie,x[G].matrix),ie[0]<-1||ie[0]>1||ie[1]<-1||ie[1]>1){q=!1;break}}if(j.lastCascade=G,T=Math.max(T,G),q)break}}return T+1}}class S_{constructor(d){this.painter=d,this._enabled=!1,this._shadowLayerCount=0,this._numCascadesToRender=0,this._cascades=[],this._groundShadowTiles=[],this._receivers=new jA,this._depthMode=new Qn(d.context.gl.LEQUAL,Qn.ReadWrite,[0,1]),this._uniformValues={u_light_matrix_0:new Float32Array(16),u_light_matrix_1:new Float32Array(16),u_shadow_intensity:0,u_fade_range:[0,0],u_shadow_normal_offset:[1,1,1],u_shadow_texel_size:1,u_shadow_map_resolution:1,u_shadow_direction:[0,0,1],u_shadow_bias:[36e-5,.0012,.012],u_shadowmap_0:0,u_shadowmap_1:0},this.useNormalOffset=!1,d.tp.registerParameter(Ss,["Shadows"],"cascadeCount",{min:1,max:2,step:1}),d.tp.registerParameter(Ss,["Shadows"],"shadowMapResolution",{min:32,max:2048,step:32})}destroy(){for(const d of this._cascades)d.texture.destroy(),d.framebuffer.destroy();this._cascades=[]}updateShadowParameters(d,f){const x=this.painter;if(this._enabled=!1,this._shadowLayerCount=0,this._receivers.clear(),!f||!f.properties)return;const M=f.properties.get("shadow-intensity");if(!f.shadowsEnabled()||M<=0||(this._shadowLayerCount=x.style.order.reduce((_e,ve)=>{const Se=x.style._mergedLayers[ve];return _e+(Se.hasShadowPass()&&!Se.isHidden(d.zoom)?1:0)},0),this._enabled=this._shadowLayerCount>0,!this._enabled))return;const T=x.context,L=Ss.shadowMapResolution,j=Ss.shadowMapResolution;if(this._cascades.length===0||Ss.shadowMapResolution!==this._cascades[0].texture.size[0]){this._cascades=[];for(let _e=0;_e<Ss.cascadeCount;++_e){const ve=x._shadowMapDebug,Se=T.gl,pe=T.createFramebuffer(L,j,ve,"texture"),Ce=new o.T(T,{width:L,height:j,data:null},Se.DEPTH_COMPONENT);if(pe.depthAttachment.set(Ce.texture),ve){const Re=new o.T(T,{width:L,height:j,data:null},Se.RGBA);pe.colorAttachment.set(Re.texture)}this._cascades.push({framebuffer:pe,texture:Ce,matrix:[],far:0,boundingSphereRadius:0,frustum:new o.bq,scale:0})}}this.shadowDirection=_y(f);let H=0;if(d.elevation){const _e=d.elevation,ve=[1e4,-1e4];_e.visibleDemTiles.filter(Se=>Se.dem).forEach(Se=>{const pe=Se.dem.tree;ve[0]=Math.min(ve[0],pe.minimums[0]),ve[1]=Math.max(ve[1],pe.maximums[0])}),ve[0]!==1e4&&(H=(ve[1]-ve[0])*_e.exaggeration())}const G=1.5*d.cameraToCenterDistance,q=3*G,J=new Float64Array(16);for(let _e=0;_e<this._cascades.length;++_e){const ve=this._cascades[_e];let Se=d.height/50,pe=1;Ss.cascadeCount===1?pe=q:_e===0?pe=G:(Se=G,pe=q);const[Ce,Re]=zA(d,this.shadowDirection,Se,pe,Ss.shadowMapResolution,H);ve.scale=d.scale,ve.matrix=Ce,ve.boundingSphereRadius=Re,o.a6.invert(J,ve.matrix),ve.frustum=o.bq.fromInvProjectionMatrix(J,1,0,!0),ve.far=pe}const ie=this._cascades.length-1;this._uniformValues.u_fade_range=[.75*this._cascades[ie].far,this._cascades[ie].far],this._uniformValues.u_shadow_intensity=M,this._uniformValues.u_shadow_direction=[this.shadowDirection[0],this.shadowDirection[1],this.shadowDirection[2]],this._uniformValues.u_shadow_texel_size=1/Ss.shadowMapResolution,this._uniformValues.u_shadow_map_resolution=Ss.shadowMapResolution,this._uniformValues.u_shadowmap_0=Fa.ShadowMap0,this._uniformValues.u_shadowmap_1=Fa.ShadowMap0+1,this._groundShadowTiles=x.transform.coveringTiles({tileSize:512,renderWorldCopies:!0});const se=x.transform.elevation;for(const _e of this._groundShadowTiles){let ve={min:0,max:0};if(se){const Se=se.getMinMaxForTile(_e);Se&&(ve=Se)}this.addShadowReceiver(_e.toUnwrapped(),ve.min,ve.max)}}get enabled(){return this._enabled}set enabled(d){this._enabled=d}drawShadowPass(d,f){if(!this._enabled)return;const x=this.painter,M=x.context;this._numCascadesToRender=this._receivers.computeRequiredCascades(x.transform.getFrustum(0),x.transform.worldSize,this._cascades),M.viewport.set([0,0,Ss.shadowMapResolution,Ss.shadowMapResolution]);for(let T=0;T<this._numCascadesToRender;++T){x.currentShadowCascade=T,M.bindFramebuffer.set(this._cascades[T].framebuffer.framebuffer),M.clear({color:o.ax.white,depth:1});for(const L of d.order){const j=d._mergedLayers[L];if(!j.hasShadowPass()||j.isHidden(x.transform.zoom))continue;const H=d.getLayerSourceCache(j),G=H?f[H.id]:void 0;(j.type==="model"||G&&G.length)&&x.renderLayer(x,H,j,G)}}x.currentShadowCascade=0}drawGroundShadows(){if(!this._enabled)return;const d=this.painter,f=d.style,x=d.context,M=f.directionalLight,T=f.ambientLight;if(!M||!T)return;const L=[],j=hd(d,d.longestCutoffRange);j.shouldRenderCutoff&&L.push("RENDER_CUTOFF");const H=dm(M,T),G=new Qn(x.gl.LEQUAL,Qn.ReadOnly,d.depthRangeFor3D);for(const q of this._groundShadowTiles){const J=q.toUnwrapped(),ie=d.isTileAffectedByFog(q),se=d.getOrCreateProgram("groundShadow",{defines:L,overrideFog:ie});this.setupShadows(J,se),d.uploadCommonUniforms(x,se,J,null,j);const _e={u_matrix:d.transform.calculateProjMatrix(J),u_ground_shadow_factor:H};se.draw(d,x.gl.TRIANGLES,G,gr.disabled,xn.multiply,Rn.disabled,_e,"ground_shadow",d.tileExtentBuffer,d.quadTriangleIndexBuffer,d.tileExtentSegments,{},d.transform.zoom,null,null)}}getShadowPassColorMode(){return this.painter._shadowMapDebug?xn.unblended:xn.disabled}getShadowPassDepthMode(){return this._depthMode}getShadowCastingLayerCount(){return this._shadowLayerCount}calculateShadowPassMatrixFromTile(d){const f=this.painter.transform,x=f.calculatePosMatrix(d,f.worldSize);return o.a6.multiply(x,this._cascades[this.painter.currentShadowCascade].matrix,x),Float32Array.from(x)}calculateShadowPassMatrixFromMatrix(d){return o.a6.multiply(d,this._cascades[this.painter.currentShadowCascade].matrix,d),Float32Array.from(d)}setupShadows(d,f,x,M=0){if(!this._enabled)return;const T=this.painter.transform,L=this.painter.context,j=L.gl,H=this._uniformValues,G=new Float64Array(16),q=T.calculatePosMatrix(d,T.worldSize);for(let J=0;J<this._cascades.length;J++)o.a6.multiply(G,this._cascades[J].matrix,q),H[J===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(G),L.activeTexture.set(j.TEXTURE0+Fa.ShadowMap0+J),this._cascades[J].texture.bind(j.NEAREST,j.CLAMP_TO_EDGE);if(this.useNormalOffset=!!x,this.useNormalOffset){const J=o.bR(d.canonical),ie=2/T.tileSize*o.V/Ss.shadowMapResolution,se=ie*this._cascades[0].boundingSphereRadius,_e=ie*this._cascades[this._cascades.length-1].boundingSphereRadius,ve=(x==="vector-tile"?1:3)/Math.pow(2,M-d.canonical.z-(1-T.zoom+Math.floor(T.zoom)));H.u_shadow_normal_offset=[J,se*ve,_e*ve],H.u_shadow_bias=[6e-5,.0012,.012]}else H.u_shadow_bias=[36e-5,.0012,.012];f.setShadowUniformValues(L,H)}setupShadowsFromMatrix(d,f,x=!1){if(!this._enabled)return;const M=this.painter.context,T=M.gl,L=this._uniformValues,j=new Float64Array(16);for(let H=0;H<Ss.cascadeCount;H++)o.a6.multiply(j,this._cascades[H].matrix,d),L[H===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(j),M.activeTexture.set(T.TEXTURE0+Fa.ShadowMap0+H),this._cascades[H].texture.bind(T.NEAREST,T.CLAMP_TO_EDGE);this.useNormalOffset=x,x?(L.u_shadow_normal_offset=[1,5,5],L.u_shadow_bias=[6e-5,.0012,.012]):L.u_shadow_bias=[36e-5,.0012,.012],f.setShadowUniformValues(M,L)}getShadowUniformValues(){return this._uniformValues}getCurrentCascadeFrustum(){return this._cascades[this.painter.currentShadowCascade].frustum}computeSimplifiedTileShadowVolume(d,f,x,M){if(M[2]>=0)return{};const T=function(H,G,q){const J=q/(1<<H.canonical.z);return new o.bS([H.canonical.x*J+H.wrap*q,H.canonical.y*J+H.wrap*q,0],[(H.canonical.x+1)*J+H.wrap*q,(H.canonical.y+1)*J+H.wrap*q,G])}(d,f,x).getCorners(),L=f/-M[2];M[0]<0?(o.N.add(T[0],T[0],[M[0]*L,0,0]),o.N.add(T[3],T[3],[M[0]*L,0,0])):M[0]>0&&(o.N.add(T[1],T[1],[M[0]*L,0,0]),o.N.add(T[2],T[2],[M[0]*L,0,0])),M[1]<0?(o.N.add(T[0],T[0],[0,M[1]*L,0]),o.N.add(T[1],T[1],[0,M[1]*L,0])):M[1]>0&&(o.N.add(T[2],T[2],[0,M[1]*L,0]),o.N.add(T[3],T[3],[0,M[1]*L,0]));const j={};return j.vertices=T,j.planes=[hh(T[1],T[0],T[4]),hh(T[2],T[1],T[5]),hh(T[3],T[2],T[6]),hh(T[0],T[3],T[7])],j}addShadowReceiver(d,f,x){this._receivers.add(d,o.bS.fromTileIdAndHeight(d,f,x))}getMaxCascadeForTile(d){const f=this._receivers.get(d);return f&&f.lastCascade?f.lastCascade:0}}function hh(_,d,f){const x=o.N.sub([],f,d),M=o.N.sub([],_,d),T=o.N.cross([],x,M),L=o.N.length(T);return L===0?[0,0,1,0]:(o.N.scale(T,T,1/L),[T[0],T[1],T[2],-o.N.dot(T,d)])}function _y(_){const d=_.properties.get("direction"),f=o.bQ(d.x,d.y,d.z);f[2]=o.aa(f[2],0,75);const x=o.bT([f[0],f[1],f[2]]);return o.N.fromValues(x.x,x.y,x.z)}function dm(_,d){const f=_.properties.get("color"),x=_.properties.get("intensity"),M=_.properties.get("direction"),T=[M.x,M.y,M.z],L=d.properties.get("color"),j=d.properties.get("intensity"),H=Math.max(o.N.dot([0,0,1],T),0),G=[0,0,0];o.N.scale(G,L.toArray01Linear().slice(0,3),j);const q=[0,0,0];return o.N.scale(q,f.toArray01Linear().slice(0,3),H*x),o.bU([G[0]>0?G[0]/(G[0]+q[0]):0,G[1]>0?G[1]/(G[1]+q[1]):0,G[2]>0?G[2]/(G[2]+q[2]):0])}function zA(_,d,f,x,M,T){const L=_.zoom,j=_.scale,H=_.worldSize,G=1/H,q=_.aspect,J=Math.sqrt(1+q*q)*Math.tan(.5*_.fovX),ie=J*J,se=x-f,_e=x+f;let ve,Se;ie>se/_e?(ve=x,Se=x*J):(ve=.5*_e*(1+ie),Se=.5*Math.sqrt(se*se+2*(x*x+f*f)*ie+_e*_e*ie*ie));const pe=_.projection.pixelsPerMeter(_.center.lat,H),Ce=_._camera.getCameraToWorldMercator(),Re=[0,0,-ve*G];o.N.transformMat4(Re,Re,Ce);let Pe=Se*G;const De=_._edgeInsets;if(!(De.left===0&&De.top===0&&De.right===0&&De.bottom===0||De.left===De.right&&De.top===De.bottom)){const yn=_._camera.getWorldToCamera(_.worldSize,_.projection.zAxisUnit==="meters"?pe:1),mn=_._camera.getCameraToClipPerspective(_._fov,_.width/_.height,f,x);mn[8]=2*-_.centerOffset.x/_.width,mn[9]=2*_.centerOffset.y/_.height;const Mn=new Float64Array(16);o.a6.mul(Mn,mn,yn);const Vn=new Float64Array(16);o.a6.invert(Vn,Mn);const nr=o.bq.fromInvProjectionMatrix(Vn,H,L,!0);for(const Xn of nr.points){const Jn=((Ae=Xn)[0]/=j,Ae[1]/=j,Ae[2]=o.bl(Ae[2],_._center.lat),Ae);Pe=Math.max(Pe,o.N.len(o.N.subtract([],Re,Jn)))}}var Ae;Pe*=M/(M-1);const Le=Math.acos(d[2]),He=Math.atan2(-d[0],-d[1]),Ge=new _p;Ge.position=Re,Ge.setPitchBearing(Le,He);const Je=Ge.getWorldToCamera(H,pe),xt=Pe*H,at=Math.min(_._mercatorZfromZoom(17)*H*-2,-2*xt),Nt=Ge.getCameraToClipOrthographic(-xt,xt,-xt,xt,at,(xt+T*pe)/d[2]),It=new Float64Array(16);o.a6.multiply(It,Nt,Je);const Yt=o.N.fromValues(Math.floor(1e6*Re[0])/1e6*H,Math.floor(1e6*Re[1])/1e6*H,0),ct=.5*M,Ct=[0,0,0];o.N.transformMat4(Ct,Yt,It),o.N.scale(Ct,Ct,ct);const Ye=[Math.floor(Ct[0]),Math.floor(Ct[1]),Math.floor(Ct[2])],vt=[0,0,0];o.N.sub(vt,Ct,Ye),o.N.scale(vt,vt,-1/ct);const tn=new Float64Array(16);return o.a6.identity(tn),o.a6.translate(tn,tn,vt),o.a6.multiply(It,tn,It),[It,xt]}const pd=(_,d)=>St(_,d&&d.filter(f=>f.identifier!=="source.canvas")),BA=o.ac(Yr,["addLayer","removeLayer","setLights","setPaintProperty","setLayoutProperty","setSlot","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection","setCamera","addImport","removeImport","updateImport"]),wp=o.ac(Yr,["setCenter","setZoom","setBearing","setPitch"]),A_={version:8,layers:[],sources:{}},ZA={duration:300,delay:0},hI=new Set(["fill","line","background","hillshade","raster"]);class Xl extends o.E{constructor(d,f={}){super(),this.map=d,this.scope=f.scope||"",this.fragments=[],this.importDepth=f.importDepth||0,this.importsCache=f.importsCache||new Map,this.resolvedImports=f.resolvedImports||new Set,this.transition=o.e({},ZA),this._buildingIndex=new kA(this),this.crossTileSymbolIndex=new __,this._mergedOrder=[],this._drapedFirstOrder=[],this._mergedLayers={},this._mergedSourceCaches={},this._mergedOtherSourceCaches={},this._mergedSymbolSourceCaches={},this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this._changes=f.styleChanges||new ee,this.dispatcher=f.dispatcher?f.dispatcher:new o.bW(o.bX(),this),f.imageManager?this.imageManager=f.imageManager:(this.imageManager=new be,this.imageManager.setEventedParent(this)),this.imageManager.createScope(this.scope),this.glyphManager=f.glyphManager?f.glyphManager:new o.bY(d._requestManager,f.localFontFamily?o.bZ.all:f.localIdeographFontFamily?o.bZ.ideographs:o.bZ.none,f.localFontFamily||f.localIdeographFontFamily),f.modelManager?this.modelManager=f.modelManager:(this.modelManager=new re(d._requestManager),this.modelManager.setEventedParent(this)),this._layers={},this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._precompileDone=!1,this._shouldPrecompile=!1,this._availableImages=[],this._order=[],this._markersNeedUpdate=!1,this.options=f.configOptions?f.configOptions:new Map,this._configDependentLayers=f.configDependentLayers?f.configDependentLayers:new Set,this._config=f.config,this.dispatcher.broadcast("setReferrer",o.b_());const x=this;this._rtlTextPluginCallback=Xl.registerForPluginStateChange(M=>{x.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:M.pluginStatus,pluginURL:M.pluginURL},(T,L)=>{if(o.b$(T),L&&L.every(j=>j))for(const j in x._sourceCaches){const H=x._sourceCaches[j],G=H.getSource().type;G!=="vector"&&G!=="geojson"||H.reload()}})}),this.on("data",M=>{if(M.dataType!=="source"||M.sourceDataType!=="metadata")return;const T=this.getOwnSource(M.sourceId);if(T&&T.vectorLayerIds)for(const L in this._layers){const j=this._layers[L];j.source===T.id&&this._validateLayer(j)}})}loadURL(d,f={}){this.fire(new o.b("dataloading",{dataType:"style"}));const x=typeof f.validate=="boolean"?f.validate:!o.c0(d);d=this.map._requestManager.normalizeStyleURL(d,f.accessToken),this.resolvedImports.add(d);const M=this.importsCache.get(d);if(M)return this._load(M,x);const T=this.map._requestManager.transformRequest(d,o.R.Style);this._request=o.g(T,(L,j)=>{if(this._request=null,L)this.fire(new o.a(L));else if(j)return this.importsCache.set(d,j),this._load(j,x)})}loadJSON(d,f={}){this.fire(new o.b("dataloading",{dataType:"style"})),this._request=o.f.frame(()=>{this._request=null,this._load(d,f.validate!==!1)})}loadEmpty(){this.fire(new o.b("dataloading",{dataType:"style"})),this._load(A_,!1)}_loadImports(d,f,x){if(this.importDepth>=4)return o.w("Style doesn't support nesting deeper than 5"),Promise.resolve();const M=[];for(const T of d){const L=this._createFragmentStyle(T),j=new Promise(q=>{L.once("style.import.load",q),L.once("error",q)}).then(()=>this.mergeAll());if(M.push(j),this.resolvedImports.has(T.url)){L.loadEmpty();continue}const H=T.data||this.importsCache.get(T.url);H?L.loadJSON(H,{validate:f}):T.url?L.loadURL(T.url,{validate:f}):L.loadEmpty();const G={style:L,id:T.id,config:T.config};if(x){const q=this.fragments.findIndex(({id:J})=>J===x);this.fragments=this.fragments.slice(0,q).concat(G).concat(this.fragments.slice(q))}else this.fragments.push(G)}return Promise.allSettled(M)}_createFragmentStyle(d){const f=this.scope?o.ag(d.id,this.scope):d.id,x=new Xl(this.map,{scope:f,styleChanges:this._changes,importDepth:this.importDepth+1,importsCache:this.importsCache,resolvedImports:new Set(this.resolvedImports),dispatcher:this.dispatcher,imageManager:this.imageManager,glyphManager:this.glyphManager,modelManager:this.modelManager,config:d.config,configOptions:this.options,configDependentLayers:this._configDependentLayers});return x.setEventedParent(this.map,{style:x}),x}_reloadImports(){this.mergeAll(),this._updateMapProjection(),this.updateConfigDependencies(),this.map._triggerCameraUpdate(this.camera),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options});const d=this.isRootStyle();this._shouldPrecompile=d,this.fire(new o.b(d?"style.load":"style.import.load"))}_load(d,f){const x=d.schema;if(this.isRootStyle()&&(d.fragment||x&&d.fragment!==!1)){const L=o.e({},A_,{imports:[{id:"basemap",data:d,url:""}]});return void this._load(L,f)}if(this.setConfig(this._config,x),f&&pd(this,Zt(d)))return;this._loaded=!0,this.stylesheet=o.c1(d);for(const L in d.sources)this.addSource(L,d.sources[L],{validate:!1,isInitialLoad:!0});d.sprite?this._loadSprite(d.sprite):(this.imageManager.setLoaded(!0,this.scope),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0})),this.glyphManager.setURL(d.glyphs,this.scope);const M=NA(this.stylesheet.layers);if(this._order=M.map(L=>L.id),this.stylesheet.light&&o.w("The `light` root property is deprecated, prefer using `lights` with `flat` light type instead."),this.stylesheet.lights)if(this.stylesheet.lights.length===1&&this.stylesheet.lights[0].type==="flat"){const L=this.stylesheet.lights[0];this.light=new ft(L.properties,L.id)}else this.setLights(this.stylesheet.lights);this.light||(this.light=new ft(this.stylesheet.light)),this._layers={},this._serializedLayers={};for(const L of M){const j=o.c2(L,this.scope,this.options);j.isConfigDependent&&this._configDependentLayers.add(j.fqid),j.setEventedParent(this,{layer:{id:j.id}}),this._layers[j.id]=j,this._serializedLayers[j.id]=j.serialize();const H=this.getOwnLayerSourceCache(j),G=!!this.directionalLight&&this.directionalLight.shadowsEnabled();H&&j.canCastShadows()&&G&&(H.castsShadows=!0)}this.stylesheet.models&&this.modelManager.addModels(this.stylesheet.models,this.scope);const T=this.stylesheet.terrain;T&&(this.disableElevatedTerrain===void 0&&(this.disableElevatedTerrain=o.f.hasCanvasFingerprintNoise()),this.disableElevatedTerrain?o.w("Terrain and hillshade are disabled because of Canvas2D limitations when fingerprinting protection is enabled (e.g. in private browsing mode)."):this.terrainSetForDrapingOnly()||this._createTerrain(T,1)),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this.stylesheet.transition&&this.setTransition(this.stylesheet.transition),this.fire(new o.b("data",{dataType:"style"})),d.imports?this._loadImports(d.imports,f).then(()=>this._reloadImports()):this._reloadImports()}isRootStyle(){return this.importDepth===0}mergeAll(){let d,f,x,M,T,L,j,H;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(G=>{if(G.stylesheet){if(G.light!=null&&(d=G.light),G.stylesheet.lights)for(const q of G.stylesheet.lights)q.type==="ambient"&&G.ambientLight!=null&&(f=G.ambientLight),q.type==="directional"&&G.directionalLight!=null&&(x=G.directionalLight);M=this._prioritizeTerrain(M,G.terrain,G.stylesheet.terrain),G.stylesheet.fog&&G.fog!=null&&(T=G.fog),G.stylesheet.camera!=null&&(H=G.stylesheet.camera),G.stylesheet.projection!=null&&(L=G.stylesheet.projection),G.stylesheet.transition!=null&&(j=G.stylesheet.transition)}}),this.light=d,this.ambientLight=f,this.directionalLight=x,this.fog=T,M===null?delete this.terrain:this.terrain=M,this.camera=H||{"camera-projection":"perspective"},this.projection=L||{name:"mercator"},this.transition=o.e({},ZA,j),this.mergeSources(),this.mergeLayers()}forEachFragmentStyle(d){const f=x=>{for(const M of x.fragments)f(M.style);d(x)};f(this)}_prioritizeTerrain(d,f,x){const M=d&&d.drapeRenderMode===0;return x===null?f&&f.drapeRenderMode===0?f:M?d:null:f!=null&&(!d||M||f&&f.drapeRenderMode===1)?f:d}mergeTerrain(){let d;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(f=>{d=this._prioritizeTerrain(d,f.terrain,f.stylesheet.terrain)}),d===null?delete this.terrain:this.terrain=d}mergeProjection(){let d;this.forEachFragmentStyle(f=>{f.stylesheet.projection!=null&&(d=f.stylesheet.projection)}),this.projection=d||{name:"mercator"}}mergeSources(){const d={},f={},x={};this.forEachFragmentStyle(M=>{for(const T in M._sourceCaches){const L=o.ag(T,M.scope);d[L]=M._sourceCaches[T]}for(const T in M._otherSourceCaches){const L=o.ag(T,M.scope);f[L]=M._otherSourceCaches[T]}for(const T in M._symbolSourceCaches){const L=o.ag(T,M.scope);x[L]=M._symbolSourceCaches[T]}}),this._mergedSourceCaches=d,this._mergedOtherSourceCaches=f,this._mergedSymbolSourceCaches=x}mergeLayers(){const d={},f=[],x={};this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this.forEachFragmentStyle(T=>{for(const L of T._order){const j=T._layers[L];if(j.type==="slot"){const H=o.c3(L);if(d[H])continue;d[H]=[]}j.slot&&d[j.slot]?d[j.slot].push(j):f.push(j)}}),this._mergedOrder=[];const M=(T=[])=>{for(const L of T)if(L.type==="slot"){const j=o.c3(L.id);d[j]&&M(d[j])}else{const j=o.ag(L.id,L.scope);this._mergedOrder.push(j),x[j]=L,L.is3D()&&(this._has3DLayers=!0),L.type==="circle"&&(this._hasCircleLayers=!0),L.type==="symbol"&&(this._hasSymbolLayers=!0)}};M(f),this._mergedLayers=x,this.updateDrapeFirstLayers(),this._buildingIndex.processLayersChanged()}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}getCamera(){return this.stylesheet.camera}setCamera(d){return this.stylesheet.camera=o.e({},this.stylesheet.camera,d),this.camera=this.stylesheet.camera,this}setProjection(d){d?this.stylesheet.projection=d:delete this.stylesheet.projection,this.mergeProjection(),this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?(this.getTerrain()||this.stylesheet.terrain)&&!this.disableElevatedTerrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null,0))}_updateMapProjection(){this.isRootStyle()&&(this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.projection))}_loadSprite(d){this._spriteRequest=function(f,x,M){let T,L,j;const H=o.f.devicePixelRatio>1?"@2x":"";let G=o.g(x.transformRequest(x.normalizeSpriteURL(f,H,".json"),o.R.SpriteJSON),(ie,se)=>{G=null,j||(j=ie,T=se,J())}),q=o.d(x.transformRequest(x.normalizeSpriteURL(f,H,".png"),o.R.SpriteImage),(ie,se)=>{q=null,j||(j=ie,L=se,J())});function J(){if(j)M(j);else if(T&&L){const ie=o.f.getImageData(L),se={};for(const _e in T){const{width:ve,height:Se,x:pe,y:Ce,sdf:Re,pixelRatio:Pe,stretchX:De,stretchY:Ae,content:Le}=T[_e],He=new o.h({width:ve,height:Se});o.h.copy(ie,He,{x:pe,y:Ce},{x:0,y:0},{width:ve,height:Se}),se[_e]={data:He,pixelRatio:Pe,sdf:Re,stretchX:De,stretchY:Ae,content:Le}}M(null,se)}}return{cancel(){G&&(G.cancel(),G=null),q&&(q.cancel(),q=null)}}}(d,this.map._requestManager,(f,x)=>{if(this._spriteRequest=null,f)this.fire(new o.a(f));else if(x)for(const M in x)this.imageManager.addImage(M,this.scope,x[M]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new o.b("data",{dataType:"style"}))})}_validateLayer(d){const f=this.getOwnSource(d.source);if(!f)return;const x=d.sourceLayer;x&&(f.type==="geojson"||f.vectorLayerIds&&f.vectorLayerIds.indexOf(x)===-1)&&this.fire(new o.a(new Error(`Source layer "${x}" does not exist on source "${f.id}" as specified by style layer "${d.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._changes.getUpdatedSourceCaches()).length)return!1;for(const d in this._sourceCaches)if(!this._sourceCaches[d].loaded())return!1;if(!this.imageManager.isLoaded()||!this.modelManager.isLoaded())return!1;for(const{style:d}of this.fragments)if(!d.loaded())return!1;return!0}_serializeImports(){if(this.stylesheet.imports)return this.stylesheet.imports.map((d,f)=>{const x=this.fragments[f];return x&&x.style&&(d.data=x.style.serialize()),d})}_serializeSources(){const d={};for(const f in this._sourceCaches){const x=this._sourceCaches[f].getSource();d[x.id]||(d[x.id]=x.serialize())}return d}_serializeLayers(d){const f=[];for(const x of d){const M=this._layers[x];M&&M.type!=="custom"&&f.push(M.serialize())}return f}hasLightTransitions(){return!(!this.light||!this.light.hasTransition())||!(!this.ambientLight||!this.ambientLight.hasTransition())||!(!this.directionalLight||!this.directionalLight.hasTransition())}hasFogTransition(){return!!this.fog&&this.fog.hasTransition()}hasTransitions(){if(this.hasLightTransitions()||this.hasFogTransition())return!0;for(const d in this._sourceCaches)if(this._sourceCaches[d].hasTransition())return!0;for(const d in this._layers)if(this._layers[d].hasTransition())return!0;return!1}get order(){return this.terrain?this._drapedFirstOrder:this._mergedOrder}isLayerDraped(d){return!!this.terrain&&(typeof d.isLayerDraped=="function"?d.isLayerDraped(this.getLayerSourceCache(d)):hI.has(d.type))}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}_checkLayer(d){const f=this.getOwnLayer(d);if(f)return f;this.fire(new o.a(new Error(`The layer '${d}' does not exist in the map's style.`)))}_checkSource(d){const f=this.getOwnSource(d);if(f)return f;this.fire(new o.a(new Error(`The source '${d}' does not exist in the map's style.`)))}update(d){if(!this._loaded)return;this.ambientLight&&this.ambientLight.recalculate(d),this.directionalLight&&this.directionalLight.recalculate(d);const f=this.calculateLightsBrightness();d.brightness=f||0,f!==this._brightness&&(this._brightness=f,this.dispatcher.broadcast("setBrightness",f));const x=this._changes.isDirty();if(this._changes.isDirty()){const T=this._changes.getLayerUpdatesByScope();for(const L in T){const{updatedIds:j,removedIds:H}=T[L];(j||H)&&this._updateWorkerLayers(L,j,H)}this.updateSourceCaches(),this._updateTilesForChangedImages(),this.updateLayers(d),this.light&&this.light.updateTransitions(d),this.ambientLight&&this.ambientLight.updateTransitions(d),this.directionalLight&&this.directionalLight.updateTransitions(d),this.fog&&this.fog.updateTransitions(d),this._changes.reset()}const M={};for(const T in this._mergedSourceCaches){const L=this._mergedSourceCaches[T];M[T]=L.used,L.used=!1,L.tileCoverLift=0}for(const T of this._mergedOrder){const L=this._mergedLayers[T];if(L.recalculate(d,this._availableImages),!L.isHidden(d.zoom)){const j=this.getLayerSourceCache(L);j&&(j.used=!0,j.tileCoverLift=Math.max(j.tileCoverLift,L.tileCoverLift()))}if(!this._precompileDone&&this._shouldPrecompile)for(let j=L.minzoom||0;j<(L.maxzoom||25.5);j++){const H=this.map.painter;if(H){const G=L.getProgramIds();if(!G)continue;for(const q of G){const J=L.getDefaultProgramParams(q,d.zoom);J&&(H.style=this,this.fog&&(H._fogVisible=!0,J.overrideFog=!0,H.getOrCreateProgram(q,J)),H._fogVisible=!1,J.overrideFog=!1,H.getOrCreateProgram(q,J),(this.stylesheet.terrain||this.stylesheet.projection&&this.stylesheet.projection.name==="globe")&&(J.overrideRtt=!0,H.getOrCreateProgram(q,J)))}}}}this._shouldPrecompile&&(this._precompileDone=!0);for(const T in M){const L=this._mergedSourceCaches[T];M[T]!==L.used&&L.getSource().fire(new o.b("data",{sourceDataType:"visibility",dataType:"source",sourceId:L.getSource().id}))}this.light&&this.light.recalculate(d),this.terrain&&this.terrain.recalculate(d),this.fog&&this.fog.recalculate(d),this.z=d.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),x&&this.fire(new o.b("data",{dataType:"style"}))}_updateTilesForChangedImages(){const d=this._changes.getUpdatedImages();if(d.length){for(const f in this._sourceCaches)this._sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],d);this._changes.resetUpdatedImages()}}_updateWorkerLayers(d,f,x){const M=this.getFragmentStyle(d);M&&this.dispatcher.broadcast("updateLayers",{layers:f?M._serializeLayers(f):[],scope:d,removedIds:x||[],options:M.options})}setState(d){if(this._checkLoaded(),pd(this,Zt(d)))return!1;(d=o.c1(d)).layers=NA(d.layers);const f=function(M,T){if(!M)return[{command:Yr.setStyle,args:[T]}];let L=[];try{if(!m(M.version,T.version))return[{command:Yr.setStyle,args:[T]}];m(M.center,T.center)||L.push({command:Yr.setCenter,args:[T.center]}),m(M.zoom,T.zoom)||L.push({command:Yr.setZoom,args:[T.zoom]}),m(M.bearing,T.bearing)||L.push({command:Yr.setBearing,args:[T.bearing]}),m(M.pitch,T.pitch)||L.push({command:Yr.setPitch,args:[T.pitch]}),m(M.sprite,T.sprite)||L.push({command:Yr.setSprite,args:[T.sprite]}),m(M.glyphs,T.glyphs)||L.push({command:Yr.setGlyphs,args:[T.glyphs]}),m(M.imports,T.imports)||function(J=[],ie=[],se){ie=ie||[];const _e=(J=J||[]).map(ld),ve=ie.map(ld),Se=J.reduce(py,{}),pe=ie.reduce(py,{}),Ce=_e.slice();let Re,Pe,De,Ae;for(Re=0,Pe=0;Re<_e.length;Re++)De=_e[Re],pe.hasOwnProperty(De)?Pe++:(se.push({command:Yr.removeImport,args:[De]}),Ce.splice(Ce.indexOf(De,Pe),1));for(Re=0,Pe=0;Re<ve.length;Re++)De=ve[ve.length-1-Re],Ce[Ce.length-1-Re]!==De&&(Se.hasOwnProperty(De)?(se.push({command:Yr.removeImport,args:[De]}),Ce.splice(Ce.lastIndexOf(De,Ce.length-Pe),1)):Pe++,Ae=Ce[Ce.length-Re],se.push({command:Yr.addImport,args:[pe[De],Ae]}),Ce.splice(Ce.length-Re,0,De));for(const Le of ie){const He=Se[Le.id];He&&!m(He,Le)&&se.push({command:Yr.updateImport,args:[Le.id,Le]})}}(M.imports,T.imports,L),m(M.transition,T.transition)||L.push({command:Yr.setTransition,args:[T.transition]}),m(M.light,T.light)||L.push({command:Yr.setLight,args:[T.light]}),m(M.fog,T.fog)||L.push({command:Yr.setFog,args:[T.fog]}),m(M.projection,T.projection)||L.push({command:Yr.setProjection,args:[T.projection]}),m(M.lights,T.lights)||L.push({command:Yr.setLights,args:[T.lights]}),m(M.camera,T.camera)||L.push({command:Yr.setCamera,args:[T.camera]});const j={},H=[];(function(J,ie,se,_e){let ve;for(ve in ie=ie||{},J=J||{})J.hasOwnProperty(ve)&&(ie.hasOwnProperty(ve)||r_(ve,se,_e));for(ve in ie){if(!ie.hasOwnProperty(ve))continue;const Se=ie[ve];J.hasOwnProperty(ve)?m(J[ve],Se)||(J[ve].type==="geojson"&&Se.type==="geojson"&&oI(J,ie,ve)?se.push({command:Yr.setGeoJSONSourceData,args:[ve,Se.data]}):iI(ve,ie,se,_e)):nm(ve,ie,se)}})(M.sources,T.sources,H,j);const G=[];M.layers&&M.layers.forEach(J=>{J.source&&j[J.source]?L.push({command:Yr.removeLayer,args:[J.id]}):G.push(J)});let q=M.terrain;q&&j[q.source]&&(L.push({command:Yr.setTerrain,args:[void 0]}),q=void 0),L=L.concat(H),m(q,T.terrain)||L.push({command:Yr.setTerrain,args:[T.terrain]}),function(J,ie,se){ie=ie||[];const _e=(J=J||[]).map(ld),ve=ie.map(ld),Se=J.reduce(py,{}),pe=ie.reduce(py,{}),Ce=_e.slice(),Re=Object.create(null);let Pe,De,Ae,Le,He,Ge,Je;for(Pe=0,De=0;Pe<_e.length;Pe++)Ae=_e[Pe],pe.hasOwnProperty(Ae)?De++:(se.push({command:Yr.removeLayer,args:[Ae]}),Ce.splice(Ce.indexOf(Ae,De),1));for(Pe=0,De=0;Pe<ve.length;Pe++)Ae=ve[ve.length-1-Pe],Ce[Ce.length-1-Pe]!==Ae&&(Se.hasOwnProperty(Ae)?(se.push({command:Yr.removeLayer,args:[Ae]}),Ce.splice(Ce.lastIndexOf(Ae,Ce.length-De),1)):De++,Ge=Ce[Ce.length-Pe],se.push({command:Yr.addLayer,args:[pe[Ae],Ge]}),Ce.splice(Ce.length-Pe,0,Ae),Re[Ae]=!0);for(Pe=0;Pe<ve.length;Pe++)if(Ae=ve[Pe],Le=Se[Ae],He=pe[Ae],!Re[Ae]&&!m(Le,He))if(m(Le.source,He.source)&&m(Le["source-layer"],He["source-layer"])&&m(Le.type,He.type)){for(Je in sd(Le.layout,He.layout,se,Ae,null,Yr.setLayoutProperty),sd(Le.paint,He.paint,se,Ae,null,Yr.setPaintProperty),m(Le.slot,He.slot)||se.push({command:Yr.setSlot,args:[Ae,He.slot]}),m(Le.filter,He.filter)||se.push({command:Yr.setFilter,args:[Ae,He.filter]}),m(Le.minzoom,He.minzoom)&&m(Le.maxzoom,He.maxzoom)||se.push({command:Yr.setLayerZoomRange,args:[Ae,He.minzoom,He.maxzoom]}),Le)Le.hasOwnProperty(Je)&&Je!=="layout"&&Je!=="paint"&&Je!=="filter"&&Je!=="metadata"&&Je!=="minzoom"&&Je!=="maxzoom"&&Je!=="slot"&&(Je.indexOf("paint.")===0?sd(Le[Je],He[Je],se,Ae,Je.slice(6),Yr.setPaintProperty):m(Le[Je],He[Je])||se.push({command:Yr.setLayerProperty,args:[Ae,Je,He[Je]]}));for(Je in He)He.hasOwnProperty(Je)&&!Le.hasOwnProperty(Je)&&Je!=="layout"&&Je!=="paint"&&Je!=="filter"&&Je!=="metadata"&&Je!=="minzoom"&&Je!=="maxzoom"&&Je!=="slot"&&(Je.indexOf("paint.")===0?sd(Le[Je],He[Je],se,Ae,Je.slice(6),Yr.setPaintProperty):m(Le[Je],He[Je])||se.push({command:Yr.setLayerProperty,args:[Ae,Je,He[Je]]}))}else se.push({command:Yr.removeLayer,args:[Ae]}),Ge=Ce[Ce.lastIndexOf(Ae)+1],se.push({command:Yr.addLayer,args:[He,Ge]})}(G,T.layers,L)}catch(j){console.warn("Unable to compute style diff:",j),L=[{command:Yr.setStyle,args:[T]}]}return L}(this.serialize(),d).filter(M=>!(M.command in wp));if(f.length===0)return!1;const x=f.filter(M=>!(M.command in BA));if(x.length>0)throw new Error(`Unimplemented: ${x.map(M=>M.command).join(", ")}.`);return f.forEach(M=>{this[M.command].apply(this,M.args)}),this.stylesheet=d,this.mergeAll(),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),!0}addImage(d,f){return this.getImage(d)?this.fire(new o.a(new Error("An image with this name already exists."))):(this.imageManager.addImage(d,this.scope,f),this._afterImageUpdated(d),this)}updateImage(d,f){this.imageManager.updateImage(d,this.scope,f)}getImage(d){return this.imageManager.getImage(d,this.scope)}removeImage(d){return this.getImage(d)?(this.imageManager.removeImage(d,this.scope),this._afterImageUpdated(d),this):this.fire(new o.a(new Error("No image with this name exists.")))}_afterImageUpdated(d){this._availableImages=this.imageManager.listImages(this.scope),this._changes.updateImage(d),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.fire(new o.b("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addModel(d,f,x={}){return this._checkLoaded(),this._validate(_t,`models.${d}`,f,null,x)||(this.modelManager.addModel(d,f,this.scope),this._changes.setDirty()),this}hasModel(d){return this.modelManager.hasModel(d,this.scope)}removeModel(d){return this.hasModel(d)?(this.modelManager.removeModel(d,this.scope),this):this.fire(new o.a(new Error("No model with this ID exists.")))}listModels(){return this._checkLoaded(),this.modelManager.listModels(this.scope)}addSource(d,f,x={}){if(this._checkLoaded(),this.getOwnSource(d)!==void 0)throw new Error(`There is already a source with ID "${d}".`);if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(En,`sources.${d}`,f,null,x))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);const M=Yo(d,f,this.dispatcher,this);M.scope=this.scope,M.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(M.id),source:M.serialize(),sourceId:M.id}));const T=L=>{const j=(L?"symbol:":"other:")+M.id,H=o.ag(j,this.scope),G=this._sourceCaches[j]=new Kl(H,M,L);(L?this._symbolSourceCaches:this._otherSourceCaches)[M.id]=G,G.onAdd(this.map)};T(!1),f.type!=="vector"&&f.type!=="geojson"||T(!0),M.onAdd&&M.onAdd(this.map),x.isInitialLoad||(this.mergeSources(),this._changes.setDirty())}removeSource(d){this._checkLoaded();const f=this.getOwnSource(d);if(!f)throw new Error("There is no source with this ID");for(const M in this._layers)if(this._layers[M].source===d)return this.fire(new o.a(new Error(`Source "${d}" cannot be removed while layer "${M}" is using it.`)));if(this.terrain&&this.terrain.scope===this.scope&&this.terrain.get().source===d)return this.fire(new o.a(new Error(`Source "${d}" cannot be removed while terrain is using it.`)));const x=this.getOwnSourceCaches(d);for(const M of x){const T=o.c3(M.id);delete this._sourceCaches[T],this._changes.discardSourceCacheUpdate(M.id),M.fire(new o.b("data",{sourceDataType:"metadata",dataType:"source",sourceId:M.getSource().id})),M.setEventedParent(null),M.clearTiles()}return delete this._otherSourceCaches[d],delete this._symbolSourceCaches[d],this.mergeSources(),f.setEventedParent(null),f.onRemove&&f.onRemove(this.map),this._changes.setDirty(),this}setGeoJSONSourceData(d,f){this._checkLoaded(),this.getOwnSource(d).setData(f),this._changes.setDirty()}getOwnSource(d){const f=this.getOwnSourceCache(d);return f&&f.getSource()}getOwnSources(){const d=[];for(const f in this._otherSourceCaches){const x=this.getOwnSourceCache(f);x&&d.push(x.getSource())}return d}areTilesLoaded(){const d=this._mergedSourceCaches;for(const f in d){const x=d[f]._tiles;for(const M in x){const T=x[M];if(T.state!=="loaded"&&T.state!=="errored")return!1}}return!0}setLights(d){if(this._checkLoaded(),!d)return delete this.ambientLight,void delete this.directionalLight;const f=this._getTransitionParameters();for(const M of d){if(this._validate(je,"lights",M))return;switch(M.type){case"ambient":if(this.ambientLight){const T=this.ambientLight;T.set(M),T.updateTransitions(f)}else this.ambientLight=new kn(M,hr,this.scope,this.options);break;case"directional":if(this.directionalLight){const T=this.directionalLight;T.set(M),T.updateTransitions(f)}else this.directionalLight=new kn(M,Ht,this.scope,this.options)}}const x=new o.K(this.z||0,f);this.ambientLight&&this.ambientLight.recalculate(x),this.directionalLight&&this.directionalLight.recalculate(x),this._brightness=this.calculateLightsBrightness(),this.dispatcher.broadcast("setBrightness",this._brightness)}calculateLightsBrightness(){const d=this.directionalLight,f=this.ambientLight;if(!d||!f)return;const x=J=>.2126*(J[0]<=.03928?J[0]/12.92:Math.pow((J[0]+.055)/1.055,2.4))+.7152*(J[1]<=.03928?J[1]/12.92:Math.pow((J[1]+.055)/1.055,2.4))+.0722*(J[2]<=.03928?J[2]/12.92:Math.pow((J[2]+.055)/1.055,2.4)),M=d.properties.get("color").toArray01(),T=d.properties.get("intensity"),L=d.properties.get("direction"),j=1-o.bQ(L.x,L.y,L.z)[2]/90,H=x(M)*T*j,G=f.properties.get("color").toArray01(),q=f.properties.get("intensity");return(H+x(G)*q)/2}getBrightness(){return this._brightness}getLights(){if(!this.enable3dLights())return null;const d=[];return this.directionalLight&&d.push(this.directionalLight.get()),this.ambientLight&&d.push(this.ambientLight.get()),d}enable3dLights(){return!!this.ambientLight&&!!this.directionalLight}getFragmentStyle(d){if(!d)return this;if(o.c4(d)){const f=o.c5(d),x=this.fragments.find(({id:T})=>T===f);if(!x)throw new Error(`Style import not found: ${d}`);const M=o.c3(d);return x.style.getFragmentStyle(M)}{const f=this.fragments.find(({id:x})=>x===d);if(!f)throw new Error(`Style import not found: ${d}`);return f.style}}getConfigProperty(d,f){const x=this.getFragmentStyle(d);if(!x)return null;const M=o.ag(f,x.scope),T=x.options.get(M),L=T?T.value||T.default:null;return L?L.serialize():null}setConfigProperty(d,f,x){const M=o.r(x);if(M.result!=="success")return void pd(this,M.value);const T=M.value.expression,L=this.getFragmentStyle(d);if(!L)return;const j=o.ag(f,L.scope),H=L.options.get(j);H&&(this.options.set(j,{...H,value:T}),this.updateConfigDependencies())}setConfig(d,f){if(this._config=d,d||f)if(f)for(const x in f){let M,T;const L=o.r(f[x].default);if(L.result==="success"&&(M=L.value.expression),d&&d[x]!==void 0){const ie=o.r(d[x]);ie.result==="success"&&(T=ie.value.expression)}const{minValue:j,maxValue:H,stepValue:G,type:q,values:J}=f[x];if(M){const ie=o.ag(x,this.scope);this.options.set(ie,{default:M,value:T,minValue:j,maxValue:H,stepValue:G,type:q,values:J})}else this.fire(new o.a(new Error(`No schema defined for config option "${x}".`)))}else this.fire(new o.a(new Error("Attempting to set config for a style without schema.")))}updateConfigDependencies(){for(const d of this._configDependentLayers){const f=this.getLayer(d);f&&(f.possiblyEvaluateVisibility(),this._updateLayer(f))}this.ambientLight&&this.ambientLight.updateConfig(this.options),this.directionalLight&&this.directionalLight.updateConfig(this.options),this.fog&&this.fog.updateConfig(this.options),this._changes.setDirty()}addLayer(d,f,x={}){this._checkLoaded();const M=d.id;if(this._layers[M])return void this.fire(new o.a(new Error(`Layer with id "${M}" already exists on this map`)));let T;if(d.type==="custom"){if(pd(this,o.c6(d)))return;T=o.c2(d,this.scope,this.options)}else{if(typeof d.source=="object"&&(this.addSource(M,d.source),d=o.c1(d),d=o.e(d,{source:M})),this._validate(Ne,`layers.${M}`,d,{arrayIndex:-1},x))return;T=o.c2(d,this.scope,this.options),this._validateLayer(T),T.setEventedParent(this,{layer:{id:M}}),this._serializedLayers[T.id]=T.serialize()}T.isConfigDependent&&this._configDependentLayers.add(T.fqid);let L=this._order.length;if(f){const q=this._order.indexOf(f);if(q===-1)return void this.fire(new o.a(new Error(`Layer with id "${f}" does not exist on this map.`)));T.slot===this._layers[f].slot?L=q:o.w(`Layer with id "${f}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(L,0,M),this._layerOrderChanged=!0,this._layers[M]=T;const j=this.getOwnLayerSourceCache(T),H=!!this.directionalLight&&this.directionalLight.shadowsEnabled();j&&T.canCastShadows()&&H&&(j.castsShadows=!0);const G=this._changes.getRemovedLayer(T);if(G&&T.source&&j&&T.type!=="custom"){this._changes.discardLayerRemoval(T);const q=o.ag(T.source,T.scope);G.type!==T.type?this._changes.updateSourceCache(q,"clear"):(this._changes.updateSourceCache(q,"reload"),j.pause())}this._updateLayer(T),T.onAdd&&T.onAdd(this.map),T.scope=this.scope,this.mergeLayers()}moveLayer(d,f){this._checkLoaded();const x=this._checkLayer(d);if(!x||d===f)return;const M=this._order.indexOf(d);this._order.splice(M,1);let T=this._order.length;if(f){const L=this._order.indexOf(f);if(L===-1)return void this.fire(new o.a(new Error(`Layer with id "${f}" does not exist on this map.`)));x.slot===this._layers[f].slot?T=L:o.w(`Layer with id "${f}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(T,0,d),this._changes.setDirty(),this._layerOrderChanged=!0,this.mergeLayers()}removeLayer(d){this._checkLoaded();const f=this._checkLayer(d);if(!f)return;f.setEventedParent(null);const x=this._order.indexOf(d);this._order.splice(x,1),delete this._layers[d],delete this._serializedLayers[d],this._changes.setDirty(),this._layerOrderChanged=!0,this._configDependentLayers.delete(f.fqid),this._changes.removeLayer(f);const M=this.getOwnLayerSourceCache(f);if(M&&M.castsShadows){let T=!1;for(const L in this._layers)if(this._layers[L].source===f.source&&this._layers[L].canCastShadows()){T=!0;break}M.castsShadows=T}f.onRemove&&f.onRemove(this.map),this.mergeLayers()}getOwnLayer(d){return this._layers[d]}hasLayer(d){return d in this._mergedLayers}hasLayerType(d){for(const f in this._layers)if(this._layers[f].type===d)return!0;return!1}setLayerZoomRange(d,f,x){this._checkLoaded();const M=this._checkLayer(d);M&&(M.minzoom===f&&M.maxzoom===x||(f!=null&&(M.minzoom=f),x!=null&&(M.maxzoom=x),this._updateLayer(M)))}setSlot(d,f){this._checkLoaded();const x=this._checkLayer(d);x&&x.slot!==f&&(x.slot=f,this._updateLayer(x))}setFilter(d,f,x={}){this._checkLoaded();const M=this._checkLayer(d);if(M&&!m(M.filter,f))return f==null?(M.filter=void 0,void this._updateLayer(M)):void(this._validate(Xe,`layers.${M.id}.filter`,f,{layerType:M.type},x)||(M.filter=o.c1(f),this._updateLayer(M)))}getFilter(d){const f=this._checkLayer(d);if(f)return o.c1(f.filter)}setLayoutProperty(d,f,x,M={}){this._checkLoaded();const T=this._checkLayer(d);if(T&&!m(T.getLayoutProperty(f),x)){if(x!=null&&(!M||M.validate!==!1)&&pd(T,st.call(Zt,{key:`layers.${d}.layout.${f}`,layerType:T.type,objectKey:f,value:x,styleSpec:o.D,style:{glyphs:!0,sprite:!0}})))return;T.setLayoutProperty(f,x),T.isConfigDependent&&this._configDependentLayers.add(T.fqid),this._updateLayer(T)}}getLayoutProperty(d,f){const x=this._checkLayer(d);if(x)return x.getLayoutProperty(f)}setPaintProperty(d,f,x,M={}){this._checkLoaded();const T=this._checkLayer(d);if(!T||m(T.getPaintProperty(f),x)||x!=null&&(!M||M.validate!==!1)&&pd(T,ot.call(Zt,{key:`layers.${d}.paint.${f}`,layerType:T.type,objectKey:f,value:x,styleSpec:o.D})))return;const L=T.setPaintProperty(f,x);T.isConfigDependent&&this._configDependentLayers.add(T.fqid),L&&this._updateLayer(T),this._changes.updatePaintProperties(T)}getPaintProperty(d,f){const x=this._checkLayer(d);if(x)return x.getPaintProperty(f)}setFeatureState(d,f){this._checkLoaded();const x=d.source,M=d.sourceLayer,T=this._checkSource(x);if(!T)return;const L=T.type;if(L==="geojson"&&M)return void this.fire(new o.a(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(L==="vector"&&!M)return void this.fire(new o.a(new Error("The sourceLayer parameter must be provided for vector source types.")));d.id===void 0&&this.fire(new o.a(new Error("The feature id parameter must be provided.")));const j=this.getOwnSourceCaches(x);for(const H of j)H.setFeatureState(M,d.id,f)}removeFeatureState(d,f){this._checkLoaded();const x=d.source,M=this._checkSource(x);if(!M)return;const T=M.type,L=T==="vector"?d.sourceLayer:void 0;if(T==="vector"&&!L)return void this.fire(new o.a(new Error("The sourceLayer parameter must be provided for vector source types.")));if(f&&typeof d.id!="string"&&typeof d.id!="number")return void this.fire(new o.a(new Error("A feature id is required to remove its specific state property.")));const j=this.getOwnSourceCaches(x);for(const H of j)H.removeFeatureState(L,d.id,f)}getFeatureState(d){this._checkLoaded();const f=d.source,x=d.sourceLayer,M=this._checkSource(f);if(M){if(M.type!=="vector"||x)return d.id===void 0&&this.fire(new o.a(new Error("The feature id parameter must be provided."))),this.getOwnSourceCaches(f)[0].getFeatureState(x,d.id);this.fire(new o.a(new Error("The sourceLayer parameter must be provided for vector source types.")))}}setTransition(d){return this.stylesheet.transition=o.e({},this.stylesheet.transition,d),this.transition=this.stylesheet.transition,this}getTransition(){return o.e({},this.stylesheet.transition)}serialize(){this._checkLoaded();const d=this.getTerrain(),f=d&&this.terrain&&this.terrain.scope===this.scope?d:this.stylesheet.terrain;return o.c7({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,imports:this._serializeImports(),schema:this.stylesheet.schema,camera:this.stylesheet.camera,light:this.stylesheet.light,lights:this.stylesheet.lights,terrain:f,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:this._serializeSources(),layers:this._serializeLayers(this._order)},x=>x!==void 0)}_updateLayer(d){this._changes.updateLayer(d);const f=this.getLayerSourceCache(d),x=o.ag(d.source,d.scope),M=this._changes.getUpdatedSourceCaches();d.source&&!M[x]&&f&&f.getSource().type!=="raster"&&(this._changes.updateSourceCache(x,"reload"),f.pause()),d.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(d){const f=j=>this._mergedLayers[j].type==="fill-extrusion"||this._mergedLayers[j].type==="model",x=this.order,M={},T=[];for(let j=x.length-1;j>=0;j--){const H=x[j];if(f(H)){M[H]=j;for(const G of d){const q=G[H];if(q)for(const J of q)T.push(J)}}}T.sort((j,H)=>H.intersectionZ-j.intersectionZ);const L=[];for(let j=x.length-1;j>=0;j--){const H=x[j];if(f(H))for(let G=T.length-1;G>=0;G--){const q=T[G].feature;if(M[q.layer.id]<j)break;L.push(q),T.pop()}else for(const G of d){const q=G[H];if(q)for(const J of q)L.push(J.feature)}}return L}queryRenderedFeatures(d,f,x){f&&f.filter&&this._validate(Xe,"queryRenderedFeatures.filter",f.filter,null,f),f.scope=this.scope,f.availableImages=this._availableImages,f.serializedLayers=this._serializedLayers;const M={};if(f&&f.layers){if(!Array.isArray(f.layers))return this.fire(new o.a(new Error("parameters.layers must be an Array."))),[];for(const G of f.layers){const q=this._mergedLayers[G];if(!q)return this.fire(new o.a(new Error(`The layer '${G}' does not exist in the map's style and cannot be queried for features.`))),[];M[q.source]=!0}}const T=[],L=f.serializedLayers||{},j=f&&f.layers?f.layers.some(G=>{const q=this.getLayer(G);return q&&q.is3D()}):this.has3DLayers(),H=Un.createFromScreenPoints(d,x);for(const G in this._mergedSourceCaches){const q=this._mergedSourceCaches[G].getSource();if(!q||q.scope!==f.scope)continue;const J=this._mergedSourceCaches[G].getSource().id;f.layers&&!M[J]||T.push(n_(this._mergedSourceCaches[G],this._mergedLayers,L,H,f,x,j,!!this.map._showQueryGeometry))}return this.placement&&T.push(function(G,q,J,ie,se,_e,ve){const Se={},pe=_e.queryRenderedSymbols(ie),Ce=[];for(const Re of Object.keys(pe).map(Number))Ce.push(ve[Re]);Ce.sort(mp);for(const Re of Ce){const Pe=Re.featureIndex.lookupSymbolFeatures(pe[Re.bucketInstanceId],q,Re.bucketIndex,Re.sourceLayerIndex,se.filter,se.layers,se.availableImages,G);for(const De in Pe){const Ae=Se[De]=Se[De]||[],Le=Pe[De];Le.sort((He,Ge)=>{const Je=Re.featureSortOrder;if(Je){const xt=Je.indexOf(He.featureIndex);return Je.indexOf(Ge.featureIndex)-xt}return Ge.featureIndex-He.featureIndex});for(const He of Le)Ae.push(He)}}for(const Re in Se)Se[Re].forEach(Pe=>{const De=Pe.feature,Ae=J(G[Re]);if(!Ae)return;const Le=Ae.getFeatureState(De.layer["source-layer"],De.id);De.source=De.layer.source,De.layer["source-layer"]&&(De.sourceLayer=De.layer["source-layer"]),De.state=Le});return Se}(this._mergedLayers,L,this.getLayerSourceCache.bind(this),H.screenGeometry,f,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(T)}querySourceFeatures(d,f){f&&f.filter&&this._validate(Xe,"querySourceFeatures.filter",f.filter,null,f);const x=this.getOwnSourceCaches(d);let M=[];for(const T of x)M=M.concat(lu(T,f));return M}addSourceType(d,f,x){return Xl.getSourceType(d)?x(new Error(`A source type called "${d}" already exists.`)):(Xl.setSourceType(d,f),f.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:d,url:f.workerSourceURL},x):x(null,null))}getFlatLight(){return this.light.getLight()}setFlatLight(d,f,x={}){this._checkLoaded();const M=this.light.getLight();let T=!1;for(const j in d)if(!m(d[j],M[j])){T=!0;break}if(!T)return;const L=this._getTransitionParameters();this.light.setLight(d,f,x),this.light.updateTransitions(L)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(d,f=1){if(this._checkLoaded(),!d)return this.terrainSetForDrapingOnly()&&f!==0||delete this.terrain,d===null?this.stylesheet.terrain=null:delete this.stylesheet.terrain,this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let x=d;const M=d.source==null;if(f===1){if(typeof x.source=="object"){const j="terrain-dem-src";this.addSource(j,x.source),x=o.c1(x),x=o.e(x,{source:j})}const T=o.e({},x),L={};if(this.terrain&&M){T.source=this.terrain.get().source;const j=this.terrain?this.getFragmentStyle(this.terrain.scope):null;j&&(L.style=j.serialize())}if(this._validate(me,"terrain",T,L))return}if(!this.terrain||this.terrain.scope!==this.scope&&!M||this.terrain&&f!==this.terrain.drapeRenderMode){if(!x)return;this._createTerrain(x,f),this.fire(new o.b("data",{dataType:"style"}))}else{const T=this.terrain,L=T.get();for(const j of Object.keys(o.D.terrain))!x.hasOwnProperty(j)&&o.D.terrain[j].default&&(x[j]=o.D.terrain[j].default);for(const j in d)if(!m(d[j],L[j])){T.set(d,this.options),this.stylesheet.terrain=d;const H=this._getTransitionParameters({duration:0});T.updateTransitions(H),this.fire(new o.b("data",{dataType:"style"}));break}}this.mergeTerrain(),this.updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(d){const f=this.fog=new an(d,this.map.transform,this.scope,this.options);this.stylesheet.fog=f.get();const x=this._getTransitionParameters({duration:0});f.updateTransitions(x)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const d of this.map._markers)d._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(d){if(this._checkLoaded(),!d)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const f=this.fog;if(!m(f.get(),d)){f.set(d,this.options),this.stylesheet.fog=f.get();const x=this._getTransitionParameters({duration:0});f.updateTransitions(x)}}else this._createFog(d);this._markersNeedUpdate=!0}_getTransitionParameters(d){return{now:o.f.now(),transition:o.e(this.transition,d)}}updateDrapeFirstLayers(){if(!this.terrain)return;const d=[],f=[];for(const x in this._mergedLayers)this.isLayerDraped(this._mergedLayers[x])?d.push(x):f.push(x);this._drapedFirstOrder=[],this._drapedFirstOrder.push(...d),this._drapedFirstOrder.push(...f)}_createTerrain(d,f){const x=this.terrain=new Bn(d,f,this.scope,this.options);f===1&&(this.stylesheet.terrain=d),this.mergeTerrain(),this.updateDrapeFirstLayers(),this._force3DLayerUpdate();const M=this._getTransitionParameters({duration:0});x.updateTransitions(M)}_force3DLayerUpdate(){for(const d in this._layers){const f=this._layers[d];f.type==="fill-extrusion"&&this._updateLayer(f)}}_forceSymbolLayerUpdate(){for(const d in this._layers){const f=this._layers[d];f.type==="symbol"&&this._updateLayer(f)}}_validate(d,f,x,M,T={}){if(T&&T.validate===!1)return!1;const L=o.e({},this.serialize());return pd(this,d.call(Zt,o.e({key:f,style:L,value:x,styleSpec:o.D},M)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),o.c8.off("pluginStateChange",this._rtlTextPluginCallback);for(const d in this._mergedLayers)this._mergedLayers[d].setEventedParent(null);for(const d in this._mergedSourceCaches)this._mergedSourceCaches[d].clearTiles(),this._mergedSourceCaches[d].setEventedParent(null);this.setEventedParent(null),delete this.fog,delete this.terrain,delete this.ambientLight,delete this.directionalLight,this.isRootStyle()&&(this.imageManager.setEventedParent(null),this.modelManager.setEventedParent(null),this.dispatcher.remove())}clearSource(d){const f=this.getSourceCaches(d);for(const x of f)x.clearTiles()}clearSources(){for(const d in this._mergedSourceCaches)this._mergedSourceCaches[d].clearTiles()}reloadSource(d){const f=this.getSourceCaches(d);for(const x of f)x.resume(),x.reload()}reloadSources(){for(const d of this.getSources())d.reload&&d.reload()}updateSources(d){let f;this.directionalLight&&(f=_y(this.directionalLight));for(const x in this._mergedSourceCaches)this._mergedSourceCaches[x].update(d,void 0,void 0,f)}_generateCollisionBoxes(){for(const d in this._sourceCaches){const f=this._sourceCaches[d];f.resume(),f.reload()}}_updatePlacement(d,f,x,M,T=!1){let L=!1,j=!1;const H={},G={};for(const q of this._mergedOrder){const J=this._mergedLayers[q];if(J.type!=="symbol")continue;const ie=o.ag(J.source,J.scope);let se=H[ie];if(!se){const ve=this.getLayerSourceCache(J);if(!ve)continue;const Se=ve.getRenderableIds(!0).map(pe=>ve.getTileByID(pe));G[ie]=Se.slice(),se=H[ie]=Se.sort((pe,Ce)=>Ce.tileID.overscaledZ-pe.tileID.overscaledZ||(pe.tileID.isLessThan(Ce.tileID)?-1:1))}const _e=this.crossTileSymbolIndex.addLayer(J,se,d.center.lng,d.projection);L=L||_e}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._mergedOrder),T=T||this._layerOrderChanged||x===0,this._layerOrderChanged&&this.fire(new o.b("neworder")),(T||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.f.now(),d.zoom))&&(this.pauseablePlacement=new yy(d,this._mergedOrder,T,f,x,M,this.placement,this.fog&&d.projection.supportsFog?this.fog.state:null,this._buildingIndex),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._mergedOrder,this._mergedLayers,H,G),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.f.now()),j=!0),L&&this.pauseablePlacement.placement.setStale()),j||L){this._buildingIndex.onNewFrame(d.zoom);for(const q of this._mergedOrder){const J=this._mergedLayers[q];J.type==="symbol"&&this.placement.updateLayerOpacities(J,H[o.ag(J.source,J.scope)])}}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.f.now())}_releaseSymbolFadeTiles(){for(const d in this._sourceCaches)this._sourceCaches[d].releaseSymbolFadeTiles()}addImport(d,f){this._checkLoaded();const x=this.stylesheet.imports=this.stylesheet.imports||[];if(x.findIndex(({id:T})=>T===d.id)!==-1)return this.fire(new o.a(new Error(`Import with id '${d.id}' already exists in the map's style.`)));if(!f)return x.push(d),this._loadImports([d],!0),this;const M=x.findIndex(({id:T})=>T===f);return M===-1?this.fire(new o.a(new Error(`Import with id "${f}" does not exist on this map.`))):(this.stylesheet.imports=x.slice(0,M).concat(d).concat(x.slice(M)),this._loadImports([d],!0,f),this)}updateImport(d,f){this._checkLoaded();const x=this.stylesheet.imports||[],M=this.getImportIndex(d);return M===-1?this:typeof f=="string"?(this.setImportUrl(d,f),this):(f.url&&f.url!==x[M].url&&this.setImportUrl(d,f.url),m(f.config,x[M].config)||this.setImportConfig(d,f.config),m(f.data,x[M].data)||this.setImportData(d,f.data),this)}moveImport(d,f){this._checkLoaded();let x=this.stylesheet.imports||[];const M=this.getImportIndex(d);if(M===-1)return this;const T=this.getImportIndex(f);if(T===-1)return this;const L=x[M],j=this.fragments[M];return x=x.filter(({id:H})=>H!==d),this.fragments=this.fragments.filter(({id:H})=>H!==d),this.stylesheet.imports=x.slice(0,T).concat(L).concat(x.slice(T)),this.fragments=this.fragments.slice(0,T).concat(j).concat(this.fragments.slice(T)),this.mergeLayers(),this}setImportUrl(d,f){this._checkLoaded();const x=this.stylesheet.imports||[],M=this.getImportIndex(d);if(M===-1)return this;x[M].url=f;const T=this.fragments[M];return T.style=this._createFragmentStyle(x[M]),T.style.on("style.import.load",()=>this.mergeAll()),T.style.loadURL(f),this}setImportData(d,f){this._checkLoaded();const x=this.getImportIndex(d),M=this.stylesheet.imports||[];return x===-1?this:f?(this.fragments[x].style.setState(f),this._reloadImports(),this):(delete M[x].data,this.setImportUrl(d,M[x].url))}setImportConfig(d,f){this._checkLoaded();const x=this.getImportIndex(d),M=this.stylesheet.imports||[];if(x===-1)return this;f?M[x].config=f:delete M[x].config;const T=this.fragments[x],L=T.style.stylesheet&&T.style.stylesheet.schema;return T.config=f,T.style.setConfig(f,L),this.updateConfigDependencies(),this}removeImport(d){this._checkLoaded();const f=this.stylesheet.imports||[],x=this.getImportIndex(d);return x===-1||(f.splice(x,1),this.fragments[x].style._remove(),this.fragments.splice(x,1),this._reloadImports()),this}getImportIndex(d){const f=(this.stylesheet.imports||[]).findIndex(x=>x.id===d);return f===-1&&this.fire(new o.a(new Error(`Import '${d}' does not exist in the map's style and cannot be updated.`))),f}getLayer(d){return this._mergedLayers[d]}getSources(){const d=[];for(const f in this._mergedOtherSourceCaches){const x=this._mergedOtherSourceCaches[f];x&&d.push(x.getSource())}return d}getSource(d,f){const x=this.getSourceCache(d,f);return x&&x.getSource()}getLayerSource(d){const f=this.getLayerSourceCache(d);return f&&f.getSource()}getSourceCache(d,f){const x=o.ag(d,f);return this._mergedOtherSourceCaches[x]}getLayerSourceCache(d){const f=o.ag(d.source,d.scope);return d.type==="symbol"?this._mergedSymbolSourceCaches[f]:this._mergedOtherSourceCaches[f]}getSourceCaches(d){const f=[];return this._mergedOtherSourceCaches[d]&&f.push(this._mergedOtherSourceCaches[d]),this._mergedSymbolSourceCaches[d]&&f.push(this._mergedSymbolSourceCaches[d]),f}updateSourceCaches(){const d=this._changes.getUpdatedSourceCaches();for(const f in d){const x=d[f];x==="reload"?this.reloadSource(f):x==="clear"&&this.clearSource(f)}}updateLayers(d){const f=this._changes.getUpdatedPaintProperties();for(const x of f){const M=this.getLayer(x);M&&M.updateTransitions(d)}}getImages(d,f,x){this.imageManager.getImages(f.icons,f.scope,x),this._updateTilesForChangedImages();const M=T=>{T&&T.setDependencies(f.tileID.key,f.type,f.icons)};M(this._otherSourceCaches[f.source]),M(this._symbolSourceCaches[f.source])}getGlyphs(d,f,x){this.glyphManager.getGlyphs(f.stacks,f.scope,x)}getResource(d,f,x){return o.c9(f,x)}getOwnSourceCache(d){return this._otherSourceCaches[d]}getOwnLayerSourceCache(d){return d.type==="symbol"?this._symbolSourceCaches[d.source]:this._otherSourceCaches[d.source]}getOwnSourceCaches(d){const f=[];return this._otherSourceCaches[d]&&f.push(this._otherSourceCaches[d]),this._symbolSourceCaches[d]&&f.push(this._symbolSourceCaches[d]),f}_isSourceCacheLoaded(d){const f=this.getOwnSourceCaches(d);return f.length===0?(this.fire(new o.a(new Error(`There is no source with ID '${d}'`))),!1):f.every(x=>x.loaded())}has3DLayers(){return this._has3DLayers}hasSymbolLayers(){return this._hasSymbolLayers}hasCircleLayers(){return this._hasCircleLayers}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.fragments.forEach(d=>{d.style._remove()}),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Xl.getSourceType=function(_){return su[_]},Xl.setSourceType=function(_,d){su[_]=d},Xl.registerForPluginStateChange=o.bV;var xy=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#ifdef RENDER_CUTOFF
float cutoff_opacity(vec4 cutoff_params,float depth) {float near=cutoff_params.x;float far=cutoff_params.y;float cutoffStart=cutoff_params.z;float cutoffEnd=cutoff_params.w;float linearDepth=(depth-near)/(far-near);return clamp((linearDepth-cutoffStart)/(cutoffEnd-cutoffStart),0.0,1.0);}
#endif`,wy=`
out vec4 glFragColor;highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}
#ifdef INDICATOR_CUTOUT
uniform vec2 u_indicator_cutout_centers;uniform vec4 u_indicator_cutout_params;
#endif
vec4 applyCutout(vec4 color) {
#ifdef INDICATOR_CUTOUT
float holeMinOpacity=u_indicator_cutout_params.x;float holeRadius=max(u_indicator_cutout_params.y,0.0);float holeAspectRatio=u_indicator_cutout_params.z;float fadeStart=u_indicator_cutout_params.w;float distA=distance(vec2(gl_FragCoord.x,gl_FragCoord.y*holeAspectRatio),vec2(u_indicator_cutout_centers[0],u_indicator_cutout_centers[1]*holeAspectRatio));return color*min(smoothstep(fadeStart,holeRadius,distA)+holeMinOpacity,1.0);
#else
return color;
#endif
}
#ifdef DEBUG_WIREFRAME
#define HANDLE_WIREFRAME_DEBUG \\
glFragColor=vec4(0.7,0.0,0.0,0.7); \\
gl_FragDepth=gl_FragCoord.z-0.0001;
#else
#define HANDLE_WIREFRAME_DEBUG
#endif
#ifdef RENDER_CUTOFF
uniform highp vec4 u_cutoff_params;in float v_cutoff_opacity;
#endif
vec4 textureLodCustom(sampler2D image,vec2 pos,vec2 lod_coord) {vec2 size=vec2(textureSize(image,0));vec2 dx=dFdx(lod_coord.xy*size);vec2 dy=dFdy(lod_coord.xy*size);float delta_max_sqr=max(dot(dx,dx),dot(dy,dy));float lod=0.5*log2(delta_max_sqr);return textureLod(image,pos,lod);}`,Sy=`
#define EXTENT 8192.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(PI/4.0+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}
#ifdef RENDER_CUTOFF
uniform vec4 u_cutoff_params;out float v_cutoff_opacity;
#endif
const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}`,Ay="in highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;out highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",C_=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(dd,0)).r;float bl=texture(u_dem,pos+vec2(0,dd)).r;float br=texture(u_dem,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem_prev,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem_prev,pos).r;float tr=texture(u_dem_prev,pos+vec2(dd,0)).r;float bl=texture(u_dem_prev,pos+vec2(0,dd)).r;float br=texture(u_dem_prev,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture(u_depth,uv-df.xz)),unpack_depth(texture(u_depth,uv+df.xz)),unpack_depth(texture(u_depth,uv-df.zy)),unpack_depth(texture(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(off.x,0.0)).r;float bl=texture(u_dem,pos+vec2(0.0,off.y)).r;float br=texture(u_dem,pos+off).r;return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,M_=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;out vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,UA=`highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}
#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump vec2 u_fog_vertical_limit;uniform mediump float u_fog_temporal_offset;in vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos,float opacity_limit) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,min(opacity,opacity_limit));}vec3 fog_apply(vec3 color,vec3 pos) {return fog_apply(color,pos,1.0);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec4 fog_apply_premultiplied(vec4 color,vec3 pos,float heightMeters) {float verticalProgress=(u_fog_vertical_limit.x > 0.0 || u_fog_vertical_limit.y > 0.0) ? smoothstep(u_fog_vertical_limit.x,u_fog_vertical_limit.y,heightMeters) : 0.0;float opacityLimit=1.0-smoothstep(0.9,1.0,fog_opacity(pos));return mix(fog_apply_premultiplied(color,pos),color,min(verticalProgress,opacityLimit));}vec3 fog_dither(vec3 color) {
#ifdef FOG_DITHERING
vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);
#else
return color;
#endif
}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`,Sp=`#ifdef RASTER_ARRAY
uniform sampler2D u_image0;uniform sampler2D u_image1;const vec4 NODATA=vec4(1);ivec4 _raTexLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}vec2 _raTexLinearMix(highp vec2 fxy,highp vec4 colorMix,highp float colorOffset,highp vec4 t00,highp vec4 t10,highp vec4 t01,highp vec4 t11) {vec2 c00=t00==NODATA ? vec2(0) : vec2(colorOffset+dot(t00,colorMix),1);vec2 c10=t10==NODATA ? vec2(0) : vec2(colorOffset+dot(t10,colorMix),1);vec2 c01=t01==NODATA ? vec2(0) : vec2(colorOffset+dot(t01,colorMix),1);vec2 c11=t11==NODATA ? vec2(0) : vec2(colorOffset+dot(t11,colorMix),1);return mix(mix(c01,c11,fxy.x),mix(c00,c10,fxy.x),fxy.y);}vec2 raTexture2D_image0_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image0,c.yz,0),texelFetch(u_image0,c.xz,0),texelFetch(u_image0,c.yw,0),texelFetch(u_image0,c.xw,0)
);}vec2 raTexture2D_image1_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image1,c.yz,0),texelFetch(u_image1,c.xz,0),texelFetch(u_image1,c.yw,0),texelFetch(u_image1,c.xw,0)
);}vec2 raTexture2D_image0_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image0,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}vec2 raTexture2D_image1_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image1,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}
#endif`,Ap=`#ifdef RASTER_ARRAY
uniform sampler2D u_velocity;uniform vec2 u_velocity_res;uniform float u_max_speed;const vec2 INVALID_VELOCITY=vec2(-1);uniform vec2 u_texture_offset;uniform float u_data_offset;uniform vec4 u_data_scale;vec2 lookup_velocity(vec2 uv) {uv=u_texture_offset.x+u_texture_offset.y*uv;vec2 fxy;ivec4 c=_raTexLinearCoord(uv,u_velocity_res,fxy);vec4 tl=texelFetch(u_velocity,c.yz,0);vec4 tr=texelFetch(u_velocity,c.xz,0);vec4 bl=texelFetch(u_velocity,c.yw,0);vec4 br=texelFetch(u_velocity,c.xw,0);if (tl==NODATA) {return INVALID_VELOCITY;}if (tr==NODATA) {return INVALID_VELOCITY;}if (bl==NODATA) {return INVALID_VELOCITY;}if (br==NODATA) {return INVALID_VELOCITY;}vec4 t=mix(mix(bl,br,fxy.x),mix(tl,tr,fxy.x),fxy.y);
#ifdef DATA_FORMAT_UINT32
vec2 velocity=vec2(u_data_offset+dot(t,u_data_scale),0);return velocity;
#else
vec2 velocity=vec2(u_data_offset+dot(t.rg,u_data_scale.yx),-(u_data_offset+dot(t.ba,u_data_scale.yx)));
#endif
return velocity/max(u_max_speed,length(velocity));}
#endif`,E_=`#ifdef RENDER_SHADOWS
uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_normal_offset;vec3 shadow_normal_offset(vec3 normal) {float tileInMeters=u_shadow_normal_offset[0];vec3 n=vec3(-normal.xy,tileInMeters*normal.z);float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return n*dotScale;}vec3 shadow_normal_offset_model(vec3 normal) {float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return normal*dotScale;}float shadow_normal_offset_multiplier0() {return u_shadow_normal_offset[1];}float shadow_normal_offset_multiplier1() {return u_shadow_normal_offset[2];}
#endif//RENDER_SHADOWS`,hm=`#ifdef RENDER_SHADOWS
#ifdef DEPTH_TEXTURE
uniform highp sampler2D u_shadowmap_0;uniform highp sampler2D u_shadowmap_1;
#else
uniform sampler2D u_shadowmap_0;uniform sampler2D u_shadowmap_1;
#endif
uniform float u_shadow_intensity;uniform float u_shadow_map_resolution;uniform float u_shadow_texel_size;uniform highp vec3 u_shadow_normal_offset;uniform vec2 u_fade_range;uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_bias;highp float shadow_sample_1(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_1,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_1,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}highp float shadow_sample_0(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_0,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_0,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}float shadow_occlusion_1(highp vec4 pos,highp float bias) {highp vec2 uv=pos.xy;return shadow_sample_1(uv,pos.z-bias);}float shadow_occlusion_0(highp vec4 pos,highp float bias) {highp float compare0=pos.z-bias;
#ifdef NATIVE
highp vec2 uv=pos.xy;highp vec4 samples=textureGather(u_shadowmap_0,uv,0);lowp vec4 stepSamples=step(samples,vec4(compare0));
#else
highp vec2 uv00=pos.xy-vec2(0.5*u_shadow_texel_size);highp vec2 uv10=uv00+vec2(u_shadow_texel_size,0.0);highp vec2 uv01=uv00+vec2(0.0,u_shadow_texel_size);highp vec2 uv11=uv01+vec2(u_shadow_texel_size,0.0);lowp vec4 stepSamples=vec4(
shadow_sample_0(uv01,compare0),shadow_sample_0(uv11,compare0),shadow_sample_0(uv10,compare0),shadow_sample_0(uv00,compare0)
);
#endif
vec2 f=fract(pos.xy*u_shadow_map_resolution-vec2(0.5));lowp vec2 lerpx=mix(stepSamples.wx,stepSamples.zy,f.xx);return mix(lerpx.x,lerpx.y,f.y);}float shadow_occlusion(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,highp float bias) {
#ifdef SHADOWS_SINGLE_CASCADE
light_view_pos0.xyz=light_view_pos0.xyz/light_view_pos0.w*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);
#else
light_view_pos0.xyz/=light_view_pos0.w;light_view_pos1.xyz/=light_view_pos1.w;vec4 uv=vec4(light_view_pos0.xy,light_view_pos1.xy);vec4 abs_bounds=abs(uv);if (abs_bounds.x < 1.0 && abs_bounds.y < 1.0) {light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);}if (abs_bounds.z >=1.0 || abs_bounds.w >=1.0) {return 0.0;}light_view_pos1.xyz=light_view_pos1.xyz*0.5+0.5;float occlusion1=shadow_occlusion_1(light_view_pos1,bias);return mix(occlusion1,0.0,smoothstep(u_fade_range.x,u_fade_range.y,view_depth));
#endif
}highp float calculate_shadow_bias(float NDotL) {
#ifdef NORMAL_OFFSET
return 0.5*u_shadow_bias.x;
#else
return 0.5*(u_shadow_bias.x+clamp(u_shadow_bias.y*tan(acos(NDotL)),0.0,u_shadow_bias.z));
#endif
}float shadowed_light_factor_normal(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_unbiased(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadow_occlusion(float ndotl,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=calculate_shadow_bias(ndotl);return shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);}
#endif`;const Cp=[];fd(xy,Cp),fd(Sy,Cp),fd(wy,Cp);const il={"_prelude_fog.vertex.glsl":M_,"_prelude_terrain.vertex.glsl":C_,"_prelude_shadow.vertex.glsl":E_,"_prelude_fog.fragment.glsl":UA,"_prelude_shadow.fragment.glsl":hm,"_prelude_lighting.glsl":`
#ifdef LIGHTING_3D_MODE
uniform mediump vec3 u_lighting_ambient_color;uniform mediump vec3 u_lighting_directional_dir;uniform mediump vec3 u_lighting_directional_color;uniform mediump vec3 u_ground_radiance;float calculate_ambient_directional_factor(vec3 normal) {float NdotL=dot(normal,u_lighting_directional_dir);const float factor_reduction_max=0.3;float dir_luminance=dot(u_lighting_directional_color,vec3(0.2126,0.7152,0.0722));float directional_factor_min=1.0-factor_reduction_max*min(dir_luminance,1.0);float ambient_directional_factor=mix(directional_factor_min,1.0,min((NdotL+1.0),1.0));const float vertical_factor_min=0.92;float vertical_factor=mix(vertical_factor_min,1.0,normal.z*0.5+0.5);return vertical_factor*ambient_directional_factor;}vec3 linearProduct(vec3 srgbIn,vec3 k) {return srgbIn*pow(k,vec3(1./2.2));}vec3 apply_lighting(vec3 color,vec3 normal,float dir_factor) {float ambient_directional_factor=calculate_ambient_directional_factor(normal);vec3 ambient_contrib=ambient_directional_factor*u_lighting_ambient_color;vec3 directional_contrib=u_lighting_directional_color*dir_factor;return linearProduct(color,ambient_contrib+directional_contrib);}vec4 apply_lighting(vec4 color,vec3 normal,float dir_factor) {return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting(vec3 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return apply_lighting(color.rgb,normal,dir_factor);}vec4 apply_lighting(vec4 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting_ground(vec3 color) {return color*u_ground_radiance;}vec4 apply_lighting_ground(vec4 color) {return vec4(apply_lighting_ground(color.rgb),color.a);}float calculate_NdotL(vec3 normal) {const float ext=0.70710678118;return (clamp(dot(normal,u_lighting_directional_dir),-ext,1.0)+ext)/(1.0+ext);}vec4 apply_lighting_with_emission_ground(vec4 color,float emissive_strength) {return mix(apply_lighting_ground(color),color,emissive_strength);}vec3 compute_flood_lighting(vec3 flood_light_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=flood_light_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);float occlusion_ramp=smoothstep(0.0,0.2,1.0-occlusion);return mix(fully_occluded_color,flood_light_color,occlusion_ramp);}vec3 compute_emissive_draped(vec3 unlit_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=unlit_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);return mix(fully_occluded_color,unlit_color,1.0-occlusion);}
#endif//LIGHTING_3D_MODE`,"_prelude_raster_array.glsl":Sp,"_prelude_raster_particle.glsl":Ap},Mp={};ri("",C_),ri(UA,M_),ri(hm,E_),ri(Sp,""),ri(Ap,"");const T_=ri(wy,Sy),Cy=xy;var P_={background:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
in vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_lighting.glsl"
in vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform mediump vec4 u_color;out vec4 v_color;uniform float u_emissive_strength;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting_with_emission_ground(u_color,u_emissive_strength);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform float u_emissive_strength;uniform sampler2D u_image;in vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=textureLodCustom(u_image,pos,v_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
glFragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:ri("void main() {glFragColor=vec4(1.0);}","in vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:ri(`#include "_prelude_fog.fragment.glsl"
uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);glFragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {glFragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:ri(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));glFragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(0.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,"in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:ri("in float v_placed;in float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);glFragColor =mix(red,blue,step(0.5,v_placed))*0.5;glFragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`#include "_prelude_terrain.vertex.glsl"
in vec3 a_pos;in vec2 a_anchor_pos;in vec2 a_extrude;in vec2 a_placed;in vec2 a_shift;in float a_size_scale;in vec2 a_padding;in float a_z_offset;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;out float v_placed;out float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*(a_z_offset+elevation(a_anchor_pos)),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:ri("in float v_radius;in vec2 v_extrude;in float v_perspective_ratio;in float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);glFragColor=color*alpha*opacity_t;}",`in vec2 a_pos_2f;in float a_radius;in vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;out float v_radius;out vec2 v_extrude;out float v_perspective_ratio;out float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:ri("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);glFragColor=mix(u_color,overlay_color,overlay_color.a);}",`#include "_prelude_terrain.vertex.glsl"
in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;
#endif
out vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
in vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in highp vec2 v_pos;uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
in vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;out highp vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_emissive_strength;in highp vec2 v_pos;in highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out highp vec2 v_pos;out highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;in vec2 v_pos;uniform float u_emissive_strength;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec4 v_color;in vec4 v_flat;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;
#endif
uniform lowp float u_opacity;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec2 v_ao;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
in vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
in highp vec3 v_normal;
#endif
uniform vec3 u_flood_light_color;uniform highp float u_vertical_scale;uniform float u_flood_light_intensity;uniform vec3 u_ground_shadow_factor;
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
in float v_flood_radius;in float v_has_floodlight;
#endif
uniform float u_emissive_strength;in float v_height;void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
vec3 normal=normalize(v_normal);
#endif
float z;vec4 color=v_color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);
#ifdef LIGHTING_3D_MODE
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#else
color=mix(v_color,v_roof_color,z);
#endif
#endif
float h=max(0.0,v_height);float ao_shade=1.0;
#ifdef FAUX_AO
float intensity=u_ao[0];float h_floors=h/(u_ao[1]*u_vertical_scale);float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);ao_shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);ao_shade*=mix(1.0,x_shade*x_shade*x_shade,concave);
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
color.rgb*=mix(ao_shade,1.0,v_has_floodlight);
#else
color.rgb*=ao_shade;
#endif
#else
color.rgb*=ao_shade;
#endif
#endif
#ifdef LIGHTING_3D_MODE
float flood_radiance=0.0;
#ifdef FLOOD_LIGHT
flood_radiance=(1.0-min(h/v_flood_radius,1.0))*u_flood_light_intensity*v_has_floodlight;
#endif
#ifdef RENDER_SHADOWS
#ifdef FLOOD_LIGHT
float ndotl_unclamped=dot(normal,u_shadow_direction);float ndotl=max(0.0,ndotl_unclamped);float occlusion=ndotl_unclamped < 0.0 ? 1.0 : shadow_occlusion(ndotl,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 litColor=apply_lighting(color.rgb,normal,(1.0-u_shadow_intensity*occlusion)*ndotl);vec3 floodLitColor=compute_flood_lighting(u_flood_light_color*u_opacity,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=mix(litColor,floodLitColor,flood_radiance);
#else
float shadowed_lighting_factor=shadowed_light_factor_normal(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color.rgb=apply_lighting(color.rgb,normal,shadowed_lighting_factor);
#endif
#else
color.rgb=apply_lighting(color.rgb,normal);
#ifdef FLOOD_LIGHT
color.rgb=mix(color.rgb,u_flood_light_color*u_opacity,flood_radiance);
#endif
#endif
color.rgb=mix(color.rgb,v_flat.rgb,u_emissive_strength);color*=u_opacity;
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos,h));
#endif
#ifdef INDICATOR_CUTOUT
color=applyCutout(color);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
uniform highp float u_vertical_scale;out vec4 v_color;out vec4 v_flat;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out float v_depth;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
out vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
out highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec2 v_ao;
#endif
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
out float v_flood_radius;out float v_has_floodlight;
#endif
out float v_height;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define highp float flood_light_wall_radius
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize highp float flood_light_wall_radius
base*=u_vertical_scale;height*=u_vertical_scale;vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
v_normal=normal;
#endif
base=max(0.0,base);float attr_height=height;height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele=0.0;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float cutoff=1.0;vec3 scaled_pos=pos;
#ifdef RENDER_CUTOFF
vec3 centroid_random=vec3(centroid_pos.xy,centroid_pos.x+centroid_pos.y+1.0);vec3 ground_pos=centroid_pos.x==0.0 ? pos.xyz : (centroid_random/8.0);vec4 ground=u_matrix*vec4(ground_pos.xy,ele,1.0);cutoff=max(0.01,cutoff_opacity(u_cutoff_params,ground.z));if (centroid_pos.y !=0.0 && centroid_pos.x !=0.0) {vec3 g=floor(ground_pos);vec3 mod_=centroid_random-g*8.0;float seed=min(1.0,0.1*(min(3.5,max(mod_.x+mod_.y,0.2*attr_height))*0.35+mod_.z));if (cutoff < 0.8-seed) {cutoff=0.0;}}float cutoff_scale=cutoff;scaled_pos.z=mix(c_ele,h,cutoff_scale);
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (cutoff < 0.01 && centroid_pos.x !=0.0));gl_Position=mix(u_matrix*vec4(scaled_pos,1),AWAY,hidden);h=h-ele;v_height=h;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=pos;vec3 shd_pos1=pos;
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(normal);shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifndef LIGHTING_3D_MODE
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);if (normal.y !=0.0) {float r=0.84;r=mix(0.7,0.98,1.0-u_lightintensity);NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#endif
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec2(mix(concave,-concave,start),y_ground);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
float is_wall=1.0-float(t > 0.0 && top_up_ny.y > 0.0);v_has_floodlight=float(flood_light_wall_radius > 0.0 && is_wall > 0.0);v_flood_radius=flood_light_wall_radius*u_vertical_scale;
#endif
v_color=vec4(color.rgb,1.0);v_flat=vec4(linearProduct(color.rgb,vec3(calculate_NdotL(normal))),1.0);
#else
v_color=vec4(0.0,0.0,0.0,1.0);v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color=vec4(0.0,0.0,0.0,1.0);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionDepth:ri(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_edge_radius;uniform float u_vertical_scale;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
out highp float v_depth;void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
base*=u_vertical_scale;height*=u_vertical_scale;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base);pos=vec3(pos_nx.xy,h);
#else
pos=vec3(pos_nx.xy,t > 0.0 ? height : base);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);v_depth=gl_Position.z/gl_Position.w;}`),fillExtrusionPattern:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
in vec3 v_normal;
#endif
in vec2 v_pos;in vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,normalize(v_normal))*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
out vec2 v_pos;out vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
out vec3 v_normal;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_normal=normal;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),groundShadow:ri(`#include "_prelude_shadow.fragment.glsl"
precision highp float;uniform vec3 u_ground_shadow_factor;in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#ifdef FOG
in float v_fog_opacity;
#endif
void main() {float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 shadow=mix(u_ground_shadow_factor,vec3(1.0),light);
#ifdef RENDER_CUTOFF
shadow=mix(vec3(1.0),shadow,cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w));
#endif
#ifdef FOG
shadow=mix(shadow,vec3(1.0),v_fog_opacity);
#endif
#ifdef INDICATOR_CUTOUT
shadow=mix(shadow,vec3(1.0),1.0-applyCutout(vec4(1.0)).r);
#endif
glFragColor=vec4(shadow,1.0);}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;in vec2 a_pos;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;
#ifdef FOG
out float v_fog_opacity;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0.0,1.0);v_pos_light_view_0=u_light_matrix_0*vec4(a_pos,0.0,1.0);v_pos_light_view_1=u_light_matrix_1*vec4(a_pos,0.0,1.0);
#ifdef FOG
v_fog_pos=fog_position(a_pos);v_fog_opacity=fog(v_fog_pos);
#endif
}`),fillExtrusionGroundEffect:ri(`uniform highp float u_ao_pass;uniform highp float u_opacity;uniform highp float u_flood_light_intensity;uniform highp vec3 u_flood_light_color;uniform highp float u_attenuation;uniform sampler2D u_fb;uniform float u_fb_size;
#ifdef SDF_SUBPASS
in highp vec2 v_pos;in highp vec4 v_line_segment;in highp float v_flood_light_radius_tile;in highp vec2 v_ao;float line_df(highp vec2 a,highp vec2 b,highp vec2 p) {highp vec2 ba=b-a;highp vec2 pa=p-a;highp float r=clamp(dot(pa,ba)/dot(ba,ba),0.0,1.0);return length(pa-r*ba);}
#ifdef FOG
in highp float v_fog;
#endif
#endif
void main() {
#ifdef CLEAR_SUBPASS
vec4 color=vec4(1.0);
#ifdef CLEAR_FROM_TEXTURE
color=texture(u_fb,gl_FragCoord.xy/vec2(u_fb_size));
#endif
glFragColor=color;
#else
#ifdef SDF_SUBPASS
highp float d=line_df(v_line_segment.xy,v_line_segment.zw,v_pos);highp float effect_radius=mix(v_flood_light_radius_tile,v_ao.y,u_ao_pass);d/=effect_radius;d=min(d,1.0);d=1.0-pow(1.0-d,u_attenuation);highp float effect_intensity=mix(u_flood_light_intensity,v_ao.x,u_ao_pass);highp float fog=1.0;
#ifdef FOG
fog=v_fog;
#endif
#ifdef RENDER_CUTOFF
fog*=v_cutoff_opacity;
#endif
glFragColor=vec4(vec3(0.0),mix(1.0,d,effect_intensity*u_opacity*fog));
#else
vec4 color=mix(vec4(u_flood_light_color,1.0),vec4(vec3(0.0),1.0),u_ao_pass);
#ifdef OVERDRAW_INSPECTOR
color=vec4(1.0);
#endif
glFragColor=color;
#endif
HANDLE_WIREFRAME_DEBUG;
#endif
}`,`#include "_prelude_fog.vertex.glsl"
in highp vec4 a_pos_end;in highp float a_angular_offset_factor;in highp float a_hidden_by_landmark;
#ifdef SDF_SUBPASS
out highp vec2 v_pos;out highp vec4 v_line_segment;out highp float v_flood_light_radius_tile;out highp vec2 v_ao;
#ifdef FOG
out highp float v_fog;
#endif
#endif
uniform highp float u_flood_light_intensity;uniform highp mat4 u_matrix;uniform highp float u_ao_pass;uniform highp float u_meter_to_tile;uniform highp float u_edge_radius;uniform highp vec2 u_ao;
#pragma mapbox: define highp float flood_light_ground_radius
const float TANGENT_CUTOFF=4.0;const float NORM=32767.0;void main() {
#pragma mapbox: initialize highp float flood_light_ground_radius
vec2 p=a_pos_end.xy;vec2 q=floor(a_pos_end.zw*0.5);vec2 start_bottom=a_pos_end.zw-q*2.0;float fl_ground_radius=flood_light_ground_radius;fl_ground_radius=abs(flood_light_ground_radius);float direction=flood_light_ground_radius < 0.0 ?-1.0 : 1.0;float flood_radius_tile=fl_ground_radius*u_meter_to_tile;vec2 v=normalize(q-p);float ao_radius=u_ao.y/3.5;float effect_radius=mix(flood_radius_tile,ao_radius,u_ao_pass)+u_edge_radius;float angular_offset_factor=a_angular_offset_factor/NORM*TANGENT_CUTOFF;float angular_offset=direction*angular_offset_factor*effect_radius;float top=1.0-start_bottom.y;float side=(0.5-start_bottom.x)*2.0;vec2 extrusion_parallel=v*side*mix(1.0,angular_offset,top);vec2 perp=vec2(v.y,-v.x);vec2 extrusion_perp=direction*perp*effect_radius*top;vec3 pos=vec3(mix(q,p,start_bottom.x),0.0);pos.xy+=extrusion_parallel+extrusion_perp;
#ifdef SDF_SUBPASS
v_pos=pos.xy;v_line_segment=vec4(p,q)+perp.xyxy*u_edge_radius;v_flood_light_radius_tile=flood_radius_tile;v_ao=vec2(u_ao.x,ao_radius);
#ifdef FOG
v_fog_pos=fog_position(pos);v_fog=1.0-fog(v_fog_pos);
#endif
#endif
float hidden_by_landmark=0.0;
#ifdef HAS_CENTROID
hidden_by_landmark=a_hidden_by_landmark;
#endif
float isFloodlit=float(fl_ground_radius > 0.0 && u_flood_light_intensity > 0.0);float hidden=mix(1.0-isFloodlit,isFloodlit,u_ao_pass);hidden+=hidden_by_landmark;gl_Position=mix(u_matrix*vec4(pos,1.0),AWAY,float(hidden > 0.0));
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
}`),hillshadePrepare:ri(`precision highp float;uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;float getElevation(vec2 coord) {return texture(u_image,coord).r/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));glFragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;uniform float u_emissive_strength;void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);glFragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
glFragColor=apply_lighting_with_emission_ground(glFragColor,u_emissive_strength);
#endif
#ifdef FOG
glFragColor=fog_dither(fog_apply_premultiplied(glFragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;in vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture(u_dash_image,v_tex).r;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trimmed=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}
#endif
if (u_alpha_discard_threshold !=0.0) {if (alpha < u_alpha_discard_threshold) {discard;}}
#ifdef RENDER_LINE_BORDER
float edgeBlur=(border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);if (border_color.a==0.0) {    
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}} else {out_color.rgb=mix(border_color.rgb*border_color.a*trimmed,out_color.rgb,smoothAlpha);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=(alpha*opacity);
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#define EXTRUDE_SCALE 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
in highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
in float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;out vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform highp vec2 u_trim_offset;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec4 v_uv;
#endif
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float pattern_x=v_linesofar/pattern_size.x*aspect;float x=mod(pattern_x,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec2 lod_pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(pattern_x,y));vec4 color=textureLodCustom(u_image,pos,lod_pos);
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {color=vec4(0,0,0,0);}}
#endif
#ifdef LIGHTING_3D_MODE
color=apply_lighting_ground(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=(alpha*opacity);
#ifdef INDICATOR_CUTOUT
color=applyCutout(color);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec4 a_packed;
#endif
in float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
out highp vec4 v_uv;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
float a_uv_x=a_packed[0];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_raster_array.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;uniform highp float u_zoom_transition;in vec2 v_pos0;in vec2 v_pos1;in float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
in float v_split_fade;
#endif
uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;uniform float u_emissive_strength;
#ifndef RASTER_ARRAY
uniform sampler2D u_image0;uniform sampler2D u_image1;
#endif
#ifdef RASTER_COLOR
uniform sampler2D u_color_ramp;uniform highp vec4 u_colorization_mix;uniform highp float u_colorization_offset;uniform vec2 u_texture_res;
#endif
void main() {vec4 color0,color1,color;vec2 value;
#ifdef RASTER_COLOR
#ifdef RASTER_ARRAY
#ifdef RASTER_ARRAY_LINEAR
value=mix(
raTexture2D_image0_linear(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_linear(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#else
value=mix(
raTexture2D_image0_nearest(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_nearest(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#endif
if (value.y > 0.0) value.x/=value.y;
#else
color=mix(texture(u_image0,v_pos0),texture(u_image1,v_pos1),u_fade_t);value=vec2(u_colorization_offset+dot(color.rgb,u_colorization_mix.rgb),color.a);
#endif
color=texture(u_color_ramp,vec2(value.x,0.5));if (color.a > 0.0) color.rgb/=color.a;color.a*=value.y;
#else
color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);
#endif
color.a*=u_opacity;
#ifdef GLOBE_POLES
color.a*=1.0-smoothstep(0.0,0.05,u_zoom_transition);
#endif
vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),u_emissive_strength).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef PROJECTION_GLOBE_VIEW
glFragColor*=mix(1.0,1.0-smoothstep(0.0,0.05,u_zoom_transition),smoothstep(0.8,0.9,v_split_fade));
#endif
#ifdef RENDER_CUTOFF
glFragColor=glFragColor*cutoff_opacity(u_cutoff_params,v_depth);
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;uniform vec2 u_texture_offset;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;in vec2 a_texture_pos;
#endif
out vec2 v_pos0;out vec2 v_pos1;out float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
out float v_split_fade;
#endif
void main() {vec2 uv;
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;gl_Position=u_matrix*u_globe_matrix*vec4(globe_pos   ,1.0);uv=a_uv;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(a_globe_pos,1.0)).xyz);
#endif
#else
float w=1.0+dot(a_texture_pos,u_perspective_transform);uv=a_texture_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);    
v_split_fade=0.0;if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;float opposite_merc_center=mod(u_merc_center.x+0.5,1.0);float dist_from_poles=(abs(mercatorY-0.5)*2.0);float range=0.1;v_split_fade=abs(opposite_merc_center-mercatorX);v_split_fade=clamp(1.0-v_split_fade,0.0,1.0);v_split_fade=max(smoothstep(1.0-range,1.0,dist_from_poles),max(smoothstep(1.0-range,1.0,v_split_fade),smoothstep(1.0-range,1.0,1.0-v_split_fade)));}float tiles=u_grid_matrix[0][2];if (tiles > 0.0) {float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvY=mercatorY*tiles-idy;float uvX=mercatorX*tiles-idx;uv=vec2(uvX,uvY);}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;v_pos0=u_texture_offset.x+u_texture_offset.y*v_pos0;v_pos1=u_texture_offset.x+u_texture_offset.y*v_pos1;
#ifdef RENDER_CUTOFF
v_depth=gl_Position.z;
#endif
}`),rasterParticle:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;in vec2 v_pos0;in vec2 v_pos1;uniform sampler2D u_image0;uniform sampler2D u_image1;void main() {vec4 color0,color1,color;color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 out_color=color.rgb;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),0.0).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {float w=1.0;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvX=mercatorX*tiles-idx;float uvY=mercatorY*tiles-idy;vec2 uv=vec2(uvX,uvY);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
vec2 uv=a_texture_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),rasterParticleDraw:ri("precision highp float;uniform sampler2D u_color_ramp;in float v_particle_speed;void main() {glFragColor=texture(u_color_ramp,vec2(v_particle_speed,0.5));}",`precision highp float;
#include "_prelude_raster_array.glsl"
#include "_prelude_raster_particle.glsl"
in vec3 a_pos;uniform vec2 u_tile_offset;out float v_particle_speed;void main() {vec2 pos=a_pos.xy+u_tile_offset;vec2 tex_coords=fract(pos);gl_PointSize=1.0;vec2 velocity=lookup_velocity(tex_coords);if (velocity==INVALID_VELOCITY) {v_particle_speed=0.0;gl_Position=vec4(2.0,2.0,2.0,1.0);} else {v_particle_speed=length(velocity);gl_Position=vec4(2.0*pos-vec2(1.0),0.0,1.0);}}`),rasterParticleTexture:ri("uniform sampler2D u_texture;uniform float u_opacity;in vec2 v_tex_pos;void main() {vec4 color=texture(u_texture,v_tex_pos);glFragColor=vec4(floor(255.0*color*u_opacity)/255.0);}","in vec2 a_pos;out vec2 v_tex_pos;void main() {v_tex_pos=0.5*a_pos+vec2(0.5);gl_Position=vec4(a_pos,0.0,1.0);}"),rasterParticleUpdate:ri("void main() {}",`#include "_prelude_raster_array.glsl"
#include "_prelude_raster_particle.glsl"
in vec3 a_pos;uniform float u_speed_factor;uniform float u_lifetime_delta;uniform float u_rand_seed;out vec3 v_new_particle;const vec3 rand_constants=vec3(12.9898,78.233,4375.85453);float rand(const vec2 co) {float t=dot(rand_constants.xy,co);return fract(sin(t)*(rand_constants.z+t));}void main() {float lifetime=a_pos.z;vec2 pos=a_pos.xy;vec2 uv=clamp(pos,vec2(0.0),vec2(1.0));vec2 velocity=lookup_velocity(uv);float next_lifetime=lifetime-u_lifetime_delta;float t=step(0.0,next_lifetime);
#ifdef DATA_FORMAT_UINT32
vec2 dp=vec2(0);
#else
vec2 dp=velocity==INVALID_VELOCITY ? vec2(0) : velocity*u_speed_factor;
#endif
vec2 seed=pos*u_rand_seed;vec2 next_pos=pos+dp;vec2 random_pos=vec2(rand(seed+1.3),rand(seed+2.1));v_new_particle=vec3(
vec2(mix(random_pos,next_pos,t)),mix(1.0,next_lifetime,t)
);}`),symbolIcon:ri(`#include "_prelude_lighting.glsl"
uniform sampler2D u_texture;
#ifdef ICON_TRANSITION
uniform float u_icon_transition;
#endif
in float v_fade_opacity;in vec2 v_tex_a;
#ifdef ICON_TRANSITION
in vec2 v_tex_b;
#endif
uniform mediump float u_icon_saturation;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float emissive_strength
lowp float alpha=opacity*v_fade_opacity;vec4 out_color;
#ifdef ICON_TRANSITION
vec4 a=texture(u_texture,v_tex_a)*(1.0-u_icon_transition);vec4 b=texture(u_texture,v_tex_b)*u_icon_transition;out_color=(a+b)*alpha;
#else
out_color=texture(u_texture,v_tex_a)*alpha;
#endif
#ifdef SATURATION
vec3 luma=vec3(dot(out_color.rgb,vec3(0.2126,0.7152,0.0722)));out_color.rgb=mix(luma,out_color.rgb,u_icon_saturation);
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
#ifdef ICON_TRANSITION
in vec2 a_texb;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out vec2 v_tex_a;
#ifdef ICON_TRANSITION
out vec2 v_tex_b;
#endif
out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float emissive_strength
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float out_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
v_tex_a=a_tex/u_texsize;
#ifdef ICON_TRANSITION
v_tex_b=a_texb/u_texsize;
#endif
v_fade_opacity=out_fade_opacity;}`),symbolSDF:ri(`#include "_prelude_lighting.glsl"
#define SDF_PX 8.0
uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;uniform bool u_is_halo;in float v_draw_halo;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);vec4 out_color=color*(alpha*opacity*fade_opacity);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform bool u_is_halo;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out float v_draw_halo;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
float gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,out_fade_opacity);}`),symbolTextAndIcon:ri(`#include "_prelude_lighting.glsl"
#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_halo;in float v_draw_halo;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;glFragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);vec4 out_color=color*(alpha*opacity*fade_opacity);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;uniform bool u_is_halo;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out float v_draw_halo;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
float out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
float gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,out_fade_opacity,is_sdf);}`),terrainRaster:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;in vec2 v_pos0;
#ifdef FOG
in float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#endif
uniform vec3 u_ground_shadow_factor;void main() {vec4 image_color=texture(u_image0,v_pos0);vec4 color;
#ifdef LIGHTING_3D_MODE
const vec3 normal=vec3(0.0,0.0,1.0);
#ifdef RENDER_SHADOWS
float cutoffOpacity=1.0;
#ifdef RENDER_CUTOFF
cutoffOpacity=cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w);
#endif
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
vec3 unlit_base=image_color.rgb*(1.0-image_color.a);vec3 emissive_base=image_color.rgb*image_color.a;float ndotl=u_shadow_direction.z;float occlusion=ndotl < 0.0 ? 1.0 : shadow_occlusion(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,0.0);ndotl=max(0.0,ndotl);vec3 lit=apply_lighting(unlit_base,normal,mix(1.0,(1.0-(u_shadow_intensity*occlusion))*ndotl,cutoffOpacity));vec3 emissive=compute_emissive_draped(emissive_base,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=lit+emissive;color.a=1.0;
#else
float lighting_factor=shadowed_light_factor_normal_unbiased(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color=apply_lighting(image_color,normal,mix(1.0,lighting_factor,cutoffOpacity));
#endif
#else
float lighting_factor=u_lighting_directional_dir.z;color=apply_lighting(image_color,normal,lighting_factor);
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color.rgb=mix(color.rgb,image_color.rgb,image_color.a);color.a=1.0;
#endif
#endif
#else
color=image_color;
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_skirt_height;in vec2 a_pos;out vec2 v_pos0;
#ifdef FOG
out float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth;
#endif
void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);
#endif
}`),terrainDepth:ri("precision highp float;in float v_depth;void main() {glFragColor=pack_depth(v_depth);}",`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;out float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}`),skybox:ri(`#include "_prelude_fog.fragment.glsl"
in lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=texture(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);glFragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,Ay),skyboxGradient:ri(`#include "_prelude_fog.fragment.glsl"
in highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,Ay),skyboxCapture:ri(`
in highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;precision highp float;
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;glFragColor=vec4(color,1.0);}`,"in highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;out highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;uniform float u_far_z_cutoff;in vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
raster=apply_lighting_with_emission_ground(raster,raster.a);color=vec4(raster.rgb*antialias,antialias);
#else
raster=apply_lighting_ground(raster);color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color=apply_lighting_with_emission_ground(color,color.a);color.a=1.0;
#else
color=apply_lighting_ground(color);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=1.0-step(u_far_z_cutoff,1.0/gl_FragCoord.w);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;
#endif
out vec2 v_pos0;void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:ri(`#include "_prelude_fog.fragment.glsl"
uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec4 u_color;uniform vec4 u_high_color;uniform vec4 u_space_color;uniform float u_horizon_angle;in highp vec3 v_ray_dir;in highp vec3 v_horizon_dir;void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {
#ifdef ALPHA_PASS
glFragColor=vec4(0,0,0,0);return;
#else
#ifdef NATIVE
glFragColor=vec4(1,1,1,1);
#else
glFragColor=vec4(0,0,0,1);
#endif
return;
#endif
}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(clamp(dot(dir,horizon_dir),-1.0,1.0)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;highp float closest_point_to_center=length(closest_point-u_globe_pos);highp float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;
#ifdef ALPHA_PASS
float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);glFragColor=vec4(1.0,1.0,1.0,a);
#else
vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c=c2;
#ifndef NATIVE
c=dither(c,gl_FragCoord.xy+u_temporal_offset);
#endif
glFragColor=vec4(c*t,t);
#endif
}`,`in vec3 a_pos;in vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;out highp vec3 v_ray_dir;out highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`),model:ri(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_opacity;uniform vec3 u_lightcolor;uniform vec3 u_lightpos;uniform float u_lightintensity;uniform vec4 u_baseColorFactor;uniform vec4 u_emissiveFactor;uniform float u_metallicFactor;uniform float u_roughnessFactor;uniform float u_emissive_strength;in highp vec4 v_position_height;in lowp vec4 v_color_mix;
#ifdef RENDER_SHADOWS
in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;in float v_depth_shadows;
#endif
#ifdef OCCLUSION_TEXTURE_TRANSFORM
uniform vec4 u_occlusionTextureTransform;
#endif
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#ifdef HAS_ATTRIBUTE_a_pbr
in lowp vec4 v_roughness_metallic_emissive_alpha;in mediump vec4 v_height_based_emission_params;
#endif
#ifdef HAS_TEXTURE_u_baseColorTexture
uniform sampler2D u_baseColorTexture;uniform bool u_baseTextureIsAlpha;uniform bool u_alphaMask;uniform float u_alphaCutoff;
#endif
#ifdef HAS_TEXTURE_u_metallicRoughnessTexture
uniform sampler2D u_metallicRoughnessTexture;
#endif
#ifdef HAS_TEXTURE_u_occlusionTexture
uniform sampler2D u_occlusionTexture;uniform float u_aoIntensity;
#endif
#ifdef HAS_TEXTURE_u_normalTexture
uniform sampler2D u_normalTexture;
#endif
#ifdef HAS_TEXTURE_u_emissionTexture
uniform sampler2D u_emissionTexture;
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
in highp float v_depth;uniform sampler2D u_depthTexture;uniform vec2 u_inv_depth_size;bool isOccluded() {vec2 coord=gl_FragCoord.xy*u_inv_depth_size;highp float depth=unpack_depth(texture(u_depthTexture,coord));return v_depth > depth+0.0005;}
#endif
#define saturate(_x) clamp(_x,0.,1.)
vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}float calculate_NdotL(vec3 normal,vec3 lightDir) {const float ext=0.70710678118;return (clamp(dot(normal,lightDir),-ext,1.0)+ext)/(1.0+ext);}vec3 getDiffuseShadedColor(vec3 albedo,vec3 normal,vec3 lightDir,vec3 lightColor)
{
#ifdef LIGHTING_3D_MODE
vec3 transformed_normal=vec3(-normal.xy,normal.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=saturate(dot(transformed_normal,u_lighting_directional_dir));
#endif
return apply_lighting(albedo,transformed_normal,lighting_factor);
#else
vec3 n=normal;float colorvalue=((albedo.x*0.2126)+(albedo.y*0.7152))+(albedo.z*0.0722);vec3 c=vec3(0.03,0.03,0.03);float directional=clamp(dot(n,vec3(lightDir)),0.0,1.0);directional=mix(1.0-u_lightintensity,max((1.0-colorvalue)+u_lightintensity,1.0),directional);vec3 c3=c+clamp((albedo*directional)*lightColor,mix(vec3(0.0),vec3(0.3),vec3(1.0)-lightColor),vec3(1.0));return c3;
#endif
}vec4 getBaseColor() {vec4 albedo=u_baseColorFactor;
#ifdef HAS_ATTRIBUTE_a_color_3f
albedo*=vec4(color_3f,1.0);
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#else
#ifdef HAS_ATTRIBUTE_a_color_4f
albedo*=color_4f;
#endif
#endif
#if defined (HAS_TEXTURE_u_baseColorTexture) && defined (HAS_ATTRIBUTE_a_uv_2f)
vec4 texColor=texture(u_baseColorTexture,uv_2f);if(u_alphaMask) {if (texColor.w < u_alphaCutoff) {discard;}}
#ifdef UNPREMULT_TEXTURE_IN_SHADER
if(texColor.w > 0.0) {texColor.rgb/=texColor.w;}texColor.w=1.0;
#endif
if(u_baseTextureIsAlpha) {if (texColor.r < 0.5) {discard;}} else {texColor.rgb=sRGBToLinear(texColor.rgb);albedo*=texColor;}
#endif
return vec4(mix(albedo.rgb,v_color_mix.rgb,v_color_mix.a),albedo.a);}highp mat3 cotangentFrame(highp vec3 N,highp vec3 p,highp vec2 uv ) {
#ifdef HAS_TEXTURE_u_normalTexture
highp vec3 dp1=vec3(dFdx(p.x),dFdx(p.y),dFdx(p.z));highp vec3 dp2=vec3(dFdy(p.x),dFdy(p.y),dFdy(p.z));highp vec2 duv1=vec2(dFdx(uv.x),dFdx(uv.y));highp vec2 duv2=vec2(dFdy(uv.x),dFdy(uv.y));highp vec3 dp2perp=cross( dp2,N );highp vec3 dp1perp=cross( N,dp1 );highp vec3 T=dp2perp*duv1.x+dp1perp*duv2.x;highp vec3 B=dp2perp*duv1.y+dp1perp*duv2.y;highp float lengthT=dot(T,T);highp float lengthB=dot(B,B);highp float maxLength=max(lengthT,lengthB);highp float invmax=inversesqrt( maxLength );highp mat3 res=mat3( T*invmax,B*invmax,N );return res;
#else
return mat3(1.0);
#endif
}highp vec3 getNormal(){highp vec3 n;
#ifdef HAS_ATTRIBUTE_a_normal_3f
n=normalize(normal_3f);
#else
highp vec3 fdx=vec3(dFdx(v_position_height.x),dFdx(v_position_height.y),dFdx(v_position_height.z));highp vec3 fdy=vec3(dFdy(v_position_height.x),dFdy(v_position_height.y),dFdy(v_position_height.z));n=normalize(cross(fdx,fdy))*-1.0;
#endif
#if defined(HAS_TEXTURE_u_normalTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
vec3 nMap=texture( u_normalTexture,uv_2f).xyz;nMap=normalize(2.0*nMap-vec3(1.0));highp vec3 v=normalize(-v_position_height.xyz);highp mat3 TBN=cotangentFrame(n,v,uv_2f);n=normalize(TBN*nMap);
#endif
return n;}struct Material {float perceptualRoughness;float alphaRoughness;float metallic;vec3 f90;vec4 baseColor;vec3 diffuseColor;vec3 specularColor;highp vec3 normal;};Material getPBRMaterial() {Material mat;mat.baseColor=getBaseColor();mat.perceptualRoughness=u_roughnessFactor;mat.metallic=u_metallicFactor;
#ifdef HAS_ATTRIBUTE_a_pbr
mat.perceptualRoughness=v_roughness_metallic_emissive_alpha.x;mat.metallic=v_roughness_metallic_emissive_alpha.y;mat.baseColor.w*=v_roughness_metallic_emissive_alpha.w;
#endif
#if defined(HAS_TEXTURE_u_metallicRoughnessTexture) && defined(HAS_ATTRIBUTE_a_uv_2f) 
vec4 mrSample=texture(u_metallicRoughnessTexture,uv_2f);mat.perceptualRoughness*=mrSample.g;mat.metallic*=mrSample.b;
#endif
const float c_minRoughness=0.04;mat.perceptualRoughness=clamp(mat.perceptualRoughness,c_minRoughness,1.0);mat.metallic=saturate(mat.metallic);mat.alphaRoughness=mat.perceptualRoughness*mat.perceptualRoughness;const vec3 f0=vec3(0.04);mat.diffuseColor=mat.baseColor.rgb*(vec3(1.0)-f0);mat.diffuseColor*=1.0-mat.metallic;mat.specularColor=mix(f0,mat.baseColor.rgb,mat.metallic);highp float reflectance=max(max(mat.specularColor.r,mat.specularColor.g),mat.specularColor.b);highp float reflectance90=saturate(reflectance*25.0);mat.f90=vec3(reflectance90);mat.normal=getNormal();return mat;}float V_GGX(float NdotL,float NdotV,float roughness)
{float a2=roughness*roughness;float GGXV=NdotL*sqrt(NdotV*NdotV*(1.0-a2)+a2);float GGXL=NdotV*sqrt(NdotL*NdotL*(1.0-a2)+a2);return 0.5/(GGXV+GGXL);}float V_GGXFast(float NdotL,float NdotV,float roughness) {float a=roughness;float GGXV=NdotL*(NdotV*(1.0-a)+a);float GGXL=NdotV*(NdotL*(1.0-a)+a);return 0.5/(GGXV+GGXL);}vec3 F_Schlick(vec3 specularColor,vec3 f90,float VdotH)
{return specularColor+(f90-specularColor)*pow(clamp(1.0-VdotH,0.0,1.0),5.0);}vec3 F_SchlickFast(vec3 specularColor,float VdotH)
{float x=1.0-VdotH;float x4=x*x*x*x;return specularColor+(1.0-specularColor)*x4*x;}float D_GGX(highp float NdotH,float alphaRoughness)
{highp float a4=alphaRoughness*alphaRoughness;highp float f=(NdotH*a4-NdotH)*NdotH+1.0;return a4/(PI*f*f);}vec3 diffuseBurley(Material mat,float LdotH,float NdotL,float NdotV)
{float f90=2.0*LdotH*LdotH*mat.alphaRoughness-0.5;return (mat.diffuseColor/PI)*(1.0+f90*pow((1.0-NdotL),5.0))*(1.0+f90*pow((1.0-NdotV),5.0));}vec3 diffuseLambertian(Material mat)
{
#ifdef LIGHTING_3D_MODE
return mat.diffuseColor;
#else
return mat.diffuseColor/PI;
#endif
}vec3 EnvBRDFApprox(vec3 specularColor,float roughness,highp float NdotV)
{vec4 c0=vec4(-1,-0.0275,-0.572,0.022);vec4 c1=vec4(1,0.0425,1.04,-0.04);highp vec4 r=roughness*c0+c1;highp float a004=min(r.x*r.x,exp2(-9.28*NdotV))*r.x+r.y;vec2 AB=vec2(-1.04,1.04)*a004+r.zw;return specularColor*AB.x+AB.y;}vec3 computeIndirectLightContribution(Material mat,float NdotV,vec3 normal)
{vec3 env_light=vec3(0.65,0.65,0.65);
#ifdef LIGHTING_3D_MODE
float ambient_factor=calculate_ambient_directional_factor(normal);env_light=u_lighting_ambient_color*ambient_factor;
#endif
vec3 envBRDF=EnvBRDFApprox(mat.specularColor,mat.perceptualRoughness,NdotV);vec3 indirectSpecular= envBRDF*env_light;vec3 indirectDiffuse=mat.diffuseColor*env_light;return indirectSpecular+indirectDiffuse;}vec3 computeLightContribution(Material mat,vec3 lightPosition,vec3 lightColor)
{highp vec3 n=mat.normal;highp vec3 v=normalize(-v_position_height.xyz);highp vec3 l=normalize(lightPosition);highp vec3 h=normalize(v+l);float NdotV=clamp(abs(dot(n,v)),0.001,1.0);float NdotL=saturate(dot(n,l));highp float NdotH=saturate(dot(n,h));float VdotH=saturate(dot(v,h));vec3 f=F_SchlickFast(mat.specularColor,VdotH);float g=V_GGXFast(NdotL,NdotV,mat.alphaRoughness);float d=D_GGX(NdotH,mat.alphaRoughness);vec3 diffuseTerm=(1.0-f)*diffuseLambertian(mat);vec3 specularTerm=f*g*d;vec3 transformed_normal=vec3(-n.xy,n.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=NdotL;
#endif
vec3 directLightColor=(specularTerm+diffuseTerm)*lighting_factor*lightColor;vec3 indirectLightColor=computeIndirectLightContribution(mat,NdotV,transformed_normal);vec3 color=(saturate(directLightColor)+indirectLightColor);float intensityFactor=1.0;
#if !defined(LIGHTING_3D_MODE)
const vec3 luminosityFactor=vec3(0.2126,0.7152,0.0722);float luminance=dot(diffuseTerm,luminosityFactor);intensityFactor=mix((1.0-u_lightintensity),max((1.0-luminance+u_lightintensity),1.0),NdotL);
#endif
color*=intensityFactor;return color;}void main() {
#ifdef TERRAIN_FRAGMENT_OCCLUSION
if (isOccluded()) {discard;}
#endif
vec3 lightDir=u_lightpos;vec3 lightColor=u_lightcolor;
#ifdef LIGHTING_3D_MODE
lightDir=u_lighting_directional_dir;lightDir.xy=-lightDir.xy;lightColor=u_lighting_directional_color;
#endif
vec4 finalColor;
#ifdef DIFFUSE_SHADED
vec3 N=getNormal();vec3 baseColor=getBaseColor().rgb;vec3 diffuse=getDiffuseShadedColor(baseColor,N,lightDir,lightColor);
#ifdef HAS_TEXTURE_u_occlusionTexture
float ao=(texture(u_occlusionTexture,uv_2f).r-1.0)*u_aoIntensity+1.0;diffuse*=ao;
#endif
finalColor=vec4(mix(diffuse,baseColor,u_emissive_strength),1.0)*u_opacity;
#else
Material mat=getPBRMaterial();vec3 color=computeLightContribution(mat,lightDir,lightColor);float ao=1.0;
#if defined (HAS_TEXTURE_u_occlusionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
#ifdef OCCLUSION_TEXTURE_TRANSFORM
vec2 uv=uv_2f.xy*u_occlusionTextureTransform.zw+u_occlusionTextureTransform.xy;
#else
vec2 uv=uv_2f;
#endif
ao=(texture(u_occlusionTexture,uv).x-1.0)*u_aoIntensity+1.0;color*=ao;
#endif
vec4 emissive=u_emissiveFactor;
#if defined(HAS_TEXTURE_u_emissionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
emissive.rgb*=sRGBToLinear(texture(u_emissionTexture,uv_2f).rgb);
#endif
color+=emissive.rgb;float opacity=mat.baseColor.w*u_opacity;
#ifdef HAS_ATTRIBUTE_a_pbr
float resEmission=v_roughness_metallic_emissive_alpha.z;resEmission*=v_height_based_emission_params.z+v_height_based_emission_params.w*pow(clamp(v_height_based_emission_params.x,0.0,1.0),v_height_based_emission_params.y);color=mix(color,v_color_mix.rgb,min(1.0,resEmission));
#ifdef HAS_ATTRIBUTE_a_color_4f
float distance=length(vec2(1.3*max(0.0,abs(color_4f.x)-color_4f.z),color_4f.y));distance+= mix(0.5,0.0,clamp(resEmission-1.0,0.0,1.0));opacity*=v_roughness_metallic_emissive_alpha.w*saturate(1.0-distance*distance);
#endif
#endif
vec3 unlitColor=mat.baseColor.rgb*ao+emissive.rgb;color=mix(color,unlitColor,u_emissive_strength);color=linearTosRGB(color);color*=opacity;finalColor=vec4(color,opacity);
#endif
#ifdef FOG
finalColor=fog_dither(fog_apply_premultiplied(finalColor,v_fog_pos,v_position_height.w));
#endif
#ifdef RENDER_CUTOFF
finalColor*=v_cutoff_opacity;
#endif
#ifdef INDICATOR_CUTOUT
finalColor=applyCutout(finalColor);
#endif
glFragColor=finalColor;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec3 a_pos_3f;
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute-vertex-shader-only highp vec4 pbr
#pragma mapbox: define-attribute-vertex-shader-only highp vec3 heightBasedEmissiveStrength
uniform mat4 u_matrix;uniform mat4 u_lighting_matrix;uniform vec3 u_camera_pos;uniform vec4 u_color_mix;
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_normal_matrix;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth_shadows;
#endif
out vec4 v_position_height;out lowp vec4 v_color_mix;
#ifdef TERRAIN_FRAGMENT_OCCLUSION
out highp float v_depth;
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
out lowp vec4 v_roughness_metallic_emissive_alpha;out mediump vec4 v_height_based_emission_params;
#endif
vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}void main() {
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute-custom highp vec4 pbr
#pragma mapbox: initialize-attribute-custom highp vec3 heightBasedEmissiveStrength
highp mat4 normal_matrix;
#ifdef INSTANCED_ARRAYS
normal_matrix=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
normal_matrix=u_normal_matrix;
#endif
vec3 local_pos;mat3 rs;
#ifdef MODEL_POSITION_ON_GPU
vec3 pos_color=normal_matrix[0].xyz;vec4 translate=normal_matrix[1];vec3 pos_a=floor(pos_color);vec3 rgb=1.05*(pos_color-pos_a);float color_mix=pos_a.z/100.0;v_color_mix=vec4(sRGBToLinear(rgb),color_mix);float meter_to_tile=normal_matrix[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);rs[0].x=normal_matrix[1].w;rs[0].yz=normal_matrix[2].xy;rs[1].xy=normal_matrix[2].zw;rs[1].z=normal_matrix[3].x;rs[2].xyz=normal_matrix[3].yzw;vec4 pos_node=u_lighting_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;local_pos=pos.xyz;gl_Position=u_matrix*pos;pos.z*=meter_to_tile;v_position_height.xyz=pos.xyz-u_camera_pos;
#else
local_pos=a_pos_3f;gl_Position=u_matrix*vec4(a_pos_3f,1);v_position_height.xyz=vec3(u_lighting_matrix*vec4(a_pos_3f,1));v_color_mix=vec4(sRGBToLinear(u_color_mix.rgb),u_color_mix.a);
#endif
v_position_height.w=a_pos_3f.z;
#ifdef HAS_ATTRIBUTE_a_pbr
vec4 albedo_c=decode_color(pbr.xy);vec2 e_r_m=unpack_float(pbr.z);vec2 r_m= unpack_float(e_r_m.y*16.0);r_m.r=r_m.r*16.0;v_color_mix=vec4(albedo_c.rgb,1.0);v_roughness_metallic_emissive_alpha=vec4(vec3(r_m,e_r_m.x)/255.0,albedo_c.a);v_roughness_metallic_emissive_alpha.z*=2.0;float heightBasedRelativeIntepolation=a_pos_3f.z*heightBasedEmissiveStrength.x+heightBasedEmissiveStrength.y;v_height_based_emission_params.x=heightBasedRelativeIntepolation;v_height_based_emission_params.y=heightBasedEmissiveStrength.z;vec2 emissionMultiplierValues=unpack_float(pbr.w)/256.0;v_height_based_emission_params.z=emissionMultiplierValues.x;v_height_based_emission_params.w=emissionMultiplierValues.y-emissionMultiplierValues.x;
#endif
#ifdef FOG
v_fog_pos=fog_position(local_pos);
#endif
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
float x_squared_scale=dot(rs[0],rs[0]);float y_squared_scale=dot(rs[1],rs[1]);float z_squared_scale=dot(rs[2],rs[2]);vec3 squared_scale=vec3(x_squared_scale,y_squared_scale,z_squared_scale);normal_3f=rs*((u_lighting_matrix*vec4(normal_3f,0.0)).xyz/squared_scale);normal_3f=normalize(normal_3f);
#else
normal_3f=vec3(normal_matrix*vec4(normal_3f,0));
#endif
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#ifdef HAS_ATTRIBUTE_a_color_4f
v_roughness_metallic_emissive_alpha.w=clamp(color_4f.a*v_roughness_metallic_emissive_alpha.w*(v_roughness_metallic_emissive_alpha.z-1.0),0.0,1.0);
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 shadow_pos=local_pos;
#ifdef NORMAL_OFFSET
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
vec3 offset=shadow_normal_offset(vec3(-normal_3f.xy,normal_3f.z));shadow_pos+=offset*shadow_normal_offset_multiplier0();
#else
vec3 offset=shadow_normal_offset_model(normalize(normal_3f));shadow_pos+=offset*shadow_normal_offset_multiplier0();
#endif
#endif
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shadow_pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(shadow_pos,1);v_depth_shadows=gl_Position.w;
#endif
}`),modelDepth:ri(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`in vec3 a_pos_3f;uniform mat4 u_matrix;out highp float v_depth;
#ifdef MODEL_POSITION_ON_GPU
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_instance;
#endif
uniform highp mat4 u_node_matrix;
#endif
void main() {
#ifdef MODEL_POSITION_ON_GPU
highp mat4 instance;
#ifdef INSTANCED_ARRAYS
instance=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
instance=u_instance;
#endif
vec3 pos_color=instance[0].xyz;vec4 translate=instance[1];vec3 pos_a=floor(pos_color);float meter_to_tile=instance[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);mat3 rs;rs[0].x=instance[1].w;rs[0].yz=instance[2].xy;rs[1].xy=instance[2].zw;rs[1].z=instance[3].x;rs[2].xyz=instance[3].yzw;vec4 pos_node=u_node_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;gl_Position=u_matrix*pos;
#else
gl_Position=u_matrix*vec4(a_pos_3f,1);
#endif
v_depth=gl_Position.z/gl_Position.w;}`),stars:ri(`in highp vec2 v_uv;in mediump float v_intensity;float shapeCircle(in vec2 uv)
{float beginFade=0.6;float lengthFromCenter=length(v_uv);return 1.0-clamp((lengthFromCenter-beginFade)/(1.0-beginFade),0.0,1.0);}void main() {float alpha=shapeCircle(v_uv);vec3 color=vec3(1.0,1.0,1.0);alpha*=v_intensity;glFragColor=vec4(color*alpha,alpha);HANDLE_WIREFRAME_DEBUG;}`,`
in vec3 a_pos_3f;in vec2 a_uv;in float a_size_scale;in float a_fade_opacity;uniform mat4 u_matrix;uniform vec3 u_up;uniform vec3 u_right;uniform float u_intensity_multiplier;out highp vec2 v_uv;out mediump float v_intensity;void main() {v_uv=a_uv;v_intensity=a_fade_opacity*u_intensity_multiplier;vec3 pos=a_pos_3f;pos+=a_uv.x*u_right*a_size_scale;pos+=a_uv.y*u_up*a_size_scale;gl_Position=u_matrix*vec4(pos,1.0);}`)};function fd(_,d){const f=_.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let x of f)if(x=x.trim(),x[0]==="#"&&x.includes("if")&&!x.includes("endif")){x=x.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const M=x.split(" ");for(const T of M)d.includes(T)||d.push(T)}}function ri(_,d){const f=/#include\s+"([^"]+)"/g,x=/#pragma mapbox: ([\w\-]+) ([\w]+) ([\w]+) ([\w]+)/g;let M=d.match(/(attribute(\S*)|(^\s*|;)in) (highp |mediump |lowp )?([\w]+) ([\w]+)/gm);M&&(M=M.map(G=>{const q=G.split(" ");return q[q.length-1]}),M=[...new Set(M)]);const T={},L=[],j=[];if(_=_.replace(f,(G,q)=>(j.push(q),"")),(d=d.replace(f,(G,q)=>(L.push(q),""))).includes("flat out"))return void console.error('The usage of "flat" qualifier is disallowed, see: https://bugs.webkit.org/show_bug.cgi?id=268071');let H=[...Cp];fd(_,H),fd(d,H);for(const G of[...L,...j])il[G]||console.error(`Undefined include: ${G}`),Mp[G]||(Mp[G]=[],fd(il[G],Mp[G])),H=[...H,...Mp[G]];return{fragmentSource:_=_.replace(x,(G,q,J,ie,se)=>(T[se]=!0,q==="define"?`
#ifndef HAS_UNIFORM_u_${se}
in ${J} ${ie} ${se};
#else
uniform ${J} ${ie} u_${se};
#endif
`:q==="initialize"?`
#ifdef HAS_UNIFORM_u_${se}
    ${J} ${ie} ${se} = u_${se};
#endif
`:q==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${se}
    in ${J} ${ie} ${se};
#endif
`:q==="initialize-attribute"?"":void 0)),vertexSource:d=d.replace(x,(G,q,J,ie,se)=>{const _e=ie==="float"?"vec2":ie,ve=se.match(/color/)?"color":_e;return q==="define-attribute-vertex-shader-only"?`
#ifdef HAS_ATTRIBUTE_a_${se}
in ${J} ${ie} a_${se};
#endif
`:T[se]?q==="define"?`
#ifndef HAS_UNIFORM_u_${se}
uniform lowp float u_${se}_t;
in ${J} ${_e} a_${se};
out ${J} ${ie} ${se};
#else
uniform ${J} ${ie} u_${se};
#endif
`:q==="initialize"?ve==="vec4"?`
#ifndef HAS_UNIFORM_u_${se}
    ${se} = a_${se};
#else
    ${J} ${ie} ${se} = u_${se};
#endif
`:`
#ifndef HAS_UNIFORM_u_${se}
    ${se} = unpack_mix_${ve}(a_${se}, u_${se}_t);
#else
    ${J} ${ie} ${se} = u_${se};
#endif
`:q==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${se}
    in ${J} ${ie} a_${se};
    out ${J} ${ie} ${se};
#endif
`:q==="initialize-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${se}
    ${se} = a_${se};
#endif
`:void 0:q==="define"?`
#ifndef HAS_UNIFORM_u_${se}
uniform lowp float u_${se}_t;
in ${J} ${_e} a_${se};
#else
uniform ${J} ${ie} u_${se};
#endif
`:q==="define-instanced"?ve==="mat4"?`
#ifdef INSTANCED_ARRAYS
in vec4 a_${se}0;
in vec4 a_${se}1;
in vec4 a_${se}2;
in vec4 a_${se}3;
#else
uniform ${J} ${ie} u_${se};
#endif
`:`
#ifdef INSTANCED_ARRAYS
in ${J} ${_e} a_${se};
#else
uniform ${J} ${ie} u_${se};
#endif
`:q==="initialize-attribute-custom"?`
#ifdef HAS_ATTRIBUTE_a_${se}
    ${J} ${ie} ${se} = a_${se};
#endif
`:ve==="vec4"?`
#ifndef HAS_UNIFORM_u_${se}
    ${J} ${ie} ${se} = a_${se};
#else
    ${J} ${ie} ${se} = u_${se};
#endif
`:`
#ifndef HAS_UNIFORM_u_${se}
    ${J} ${ie} ${se} = unpack_mix_${ve}(a_${se}, u_${se}_t);
#else
    ${J} ${ie} ${se} = u_${se};
#endif
`}),staticAttributes:M,usedDefines:H,vertexIncludes:L,fragmentIncludes:j}}class I_{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(d,f,x,M,T,L,j,H){this.context=d;let G=this.boundPaintVertexBuffers.length!==M.length;for(let J=0;!G&&J<M.length;J++)this.boundPaintVertexBuffers[J]!==M[J]&&(G=!0);let q=this.boundDynamicVertexBuffers.length!==j.length;for(let J=0;!q&&J<j.length;J++)this.boundDynamicVertexBuffers[J]!==j[J]&&(q=!0);if(!this.vao||this.boundProgram!==f||this.boundLayoutVertexBuffer!==x||G||q||this.boundIndexBuffer!==T||this.boundVertexOffset!==L)this.freshBind(f,x,M,T,L,j,H);else{d.bindVertexArrayOES.set(this.vao);for(const J of j)J&&(J.bind(),H&&J.instanceCount&&J.setVertexAttribDivisor(d.gl,f,H));T&&T.dynamicDraw&&T.bind()}}freshBind(d,f,x,M,T,L,j){const H=d.numAttributes,G=this.context,q=G.gl;this.vao&&this.destroy(),this.vao=G.gl.createVertexArray(),G.bindVertexArrayOES.set(this.vao),this.boundProgram=d,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=x,this.boundIndexBuffer=M,this.boundVertexOffset=T,this.boundDynamicVertexBuffers=L,f.enableAttributes(q,d),f.bind(),f.setVertexAttribPointers(q,d,T);for(const J of x)J.enableAttributes(q,d),J.bind(),J.setVertexAttribPointers(q,d,T);for(const J of L)J&&(J.enableAttributes(q,d),J.bind(),J.setVertexAttribPointers(q,d,T),j&&J.instanceCount&&J.setVertexAttribDivisor(q,d,j));M&&M.bind(),G.currentNumAttributes=H}destroy(){this.vao&&(this.context.gl.deleteVertexArray(this.vao),this.vao=null)}}function pI(_,d){const f=Math.pow(2,d.canonical.z),x=d.canonical.y;return[new o.L(0,x/f).toLngLat().lat,new o.L(0,(x+1)/f).toLngLat().lat]}function My(_,d,f,x,M,T,L){const j=_.context,H=j.gl,G=f.hillshadeFBO;if(!G)return;_.prepareDrawTile();const q=_.isTileAffectedByFog(d),J=_.getOrCreateProgram("hillshade",{overrideFog:q});j.activeTexture.set(H.TEXTURE0),H.bindTexture(H.TEXTURE_2D,G.colorAttachment.get());const ie=((Se,pe,Ce,Re)=>{const Pe=Ce.paint.get("hillshade-shadow-color"),De=Ce.paint.get("hillshade-highlight-color"),Ae=Ce.paint.get("hillshade-accent-color"),Le=Ce.paint.get("hillshade-emissive-strength");let He=o.bj(Ce.paint.get("hillshade-illumination-direction"));if(Ce.paint.get("hillshade-illumination-anchor")==="viewport")He-=Se.transform.angle;else if(Se.style&&Se.style.enable3dLights()&&Se.style.directionalLight){const Je=Se.style.directionalLight.properties.get("direction"),xt=o.bQ(Je.x,Je.y,Je.z);He=o.bj(xt[1])}const Ge=!Se.options.moving;return{u_matrix:Re||Se.transform.calculateProjMatrix(pe.tileID.toUnwrapped(),Ge),u_image:0,u_latrange:pI(0,pe.tileID),u_light:[Ce.paint.get("hillshade-exaggeration"),He],u_shadow:Pe,u_highlight:De,u_emissive_strength:Le,u_accent:Ae}})(_,f,x,_.terrain?d.projMatrix:null);_.uploadCommonUniforms(j,J,d.toUnwrapped());const{tileBoundsBuffer:se,tileBoundsIndexBuffer:_e,tileBoundsSegments:ve}=_.getTileBoundsBuffers(f);J.draw(_,H.TRIANGLES,M,T,L,Rn.disabled,ie,x.id,se,_e,ve)}function HA(_,d,f){if(!d.needsDEMTextureUpload)return;const x=_.context,M=x.gl;x.pixelStoreUnpackPremultiplyAlpha.set(!1),d.demTexture=d.demTexture||_.getTileTexture(f.stride);const T=f.getPixels();d.demTexture?d.demTexture.update(T,{premultiply:!1}):d.demTexture=new o.T(x,T,M.R32F,{premultiply:!1}),d.needsDEMTextureUpload=!1}function O_(_,d,f){const x=_.context,M=x.gl;if(!d.dem)return;const T=d.dem;if(x.activeTexture.set(M.TEXTURE1),HA(_,d,T),!d.demTexture)return;d.demTexture.bind(M.NEAREST,M.CLAMP_TO_EDGE);const L=T.dim;x.activeTexture.set(M.TEXTURE0);let j=d.hillshadeFBO;if(!j){const ie=new o.T(x,{width:L,height:L,data:null},M.RGBA);ie.bind(M.LINEAR,M.CLAMP_TO_EDGE),j=d.hillshadeFBO=x.createFramebuffer(L,L,!0,"renderbuffer"),j.colorAttachment.set(ie.texture)}x.bindFramebuffer.set(j.framebuffer),x.viewport.set([0,0,L,L]);const{tileBoundsBuffer:H,tileBoundsIndexBuffer:G,tileBoundsSegments:q}=_.getMercatorTileBoundsBuffers(),J=[];_.linearFloatFilteringSupported()&&J.push("TERRAIN_DEM_FLOAT_FORMAT"),_.getOrCreateProgram("hillshadePrepare",{defines:J}).draw(_,M.TRIANGLES,Qn.disabled,gr.disabled,xn.unblended,Rn.disabled,((ie,se)=>{const _e=se.stride,ve=o.a6.create();return o.a6.ortho(ve,0,o.V,-o.V,0,0,1),o.a6.translate(ve,ve,[0,-o.V,0]),{u_matrix:ve,u_image:1,u_dimension:[_e,_e],u_zoom:ie.overscaledZ}})(d.tileID,T),f.id,H,G,q),d.needsHillshadePrepare=!1}const VA=_=>({u_matrix:new o.bK(_),u_image0:new o.bO(_),u_skirt_height:new o.bN(_),u_ground_shadow_factor:new o.bM(_)}),Ey=(_,d,f)=>({u_matrix:_,u_image0:0,u_skirt_height:d,u_ground_shadow_factor:f}),WA=(_,d,f,x,M,T,L,j,H,G,q,J,ie,se,_e,ve)=>({u_proj_matrix:Float32Array.from(_),u_globe_matrix:d,u_normalize_matrix:Float32Array.from(x),u_merc_matrix:f,u_zoom_transition:M,u_merc_center:T,u_image0:0,u_frustum_tl:L,u_frustum_tr:j,u_frustum_br:H,u_frustum_bl:G,u_globe_pos:q,u_globe_radius:J,u_viewport:ie,u_grid_matrix:ve?Float32Array.from(ve):new Float32Array(9),u_skirt_height:se,u_far_z_cutoff:_e});function pm(_,d){return _!=null&&d!=null&&!(!_.hasData()||!d.hasData())&&_.demTexture!=null&&d.demTexture!=null&&_.tileID.key!==d.tileID.key}const Ep=new class{constructor(){this.operations={}}newMorphing(_,d,f,x,M){if(_ in this.operations){const T=this.operations[_];T.to.tileID.key!==f.tileID.key&&(T.queued=f)}else this.operations[_]={startTime:x,phase:0,duration:M,from:d,to:f,queued:null}}getMorphValuesForProxy(_){if(!(_ in this.operations))return null;const d=this.operations[_];return{from:d.from,to:d.to,phase:d.phase}}update(_){for(const d in this.operations){const f=this.operations[d];for(f.phase=(_-f.startTime)/f.duration;f.phase>=1||!this._validOp(f);)if(!this._nextOp(f,_)){delete this.operations[d];break}}}_nextOp(_,d){return!!_.queued&&(_.from=_.to,_.to=_.queued,_.queued=null,_.phase=0,_.startTime=d,!0)}_validOp(_){return _.from.hasData()&&_.to.hasData()}},k_={0:null,1:"TERRAIN_VERTEX_MORPHING"};function N_(_,d,f){if(d===0)return 0;const x=d<1&&f===514?.25/d:1;return 6*Math.pow(1.5,22-_)*Math.max(d,1)*x}function Tp(_,d){const f=1<<_.z;return!d&&(_.x===0||_.x===f-1)||_.y===0||_.y===f-1}const R_=_=>({u_matrix:_});function D_(_,d,f,x,M){if(M>0){const T=o.f.now(),L=(T-_.timeAdded)/M,j=d?(T-d.timeAdded)/M:-1,H=f.getSource(),G=x.coveringZoomLevel({tileSize:H.tileSize,roundZoom:H.roundZoom}),q=!d||Math.abs(d.tileID.overscaledZ-G)>Math.abs(_.tileID.overscaledZ-G),J=q&&_.refreshedUponExpiration?1:o.aa(q?L:1-j,0,1);return _.refreshedUponExpiration&&L>=1&&(_.refreshedUponExpiration=!1),d?{opacity:1,mix:1-J}:{opacity:J,mix:0}}return{opacity:1,mix:0}}class fI extends Kl{constructor(d){const f={type:"raster-dem",maxzoom:d.transform.maxZoom},x=new o.bW(o.bX(),null),M=Yo("mock-dem",f,x,d.style);super("mock-dem",M,!1),M.setEventedParent(this),this._sourceLoaded=!0}_loadTile(d,f){d.state="loaded",f(null)}}class mI extends Kl{constructor(d){const f=Yo("proxy",{type:"geojson",maxzoom:d.transform.maxZoom},new o.bW(o.bX(),null),d.style);super("proxy",f,!1),f.setEventedParent(this),this.map=this.getSource().map=d,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(d,f,x){if(d.freezeTileCoverage)return;this.transform=d;const M=d.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((T,L)=>{if(T[L.key]="",!this._tiles[L.key]){const j=new rl(L,this._source.tileSize*L.overscaleFactor(),d.tileZoom);j.state="loaded",this._tiles[L.key]=j}return T},{});for(const T in this._tiles)T in M||(this.freeFBO(T),this._tiles[T].unloadVectorData(),delete this._tiles[T])}freeFBO(d){const f=this.proxyCachedFBO[d];if(f!==void 0){const x=Object.values(f);this.renderCachePool.push(...x),delete this.proxyCachedFBO[d]}}deallocRenderCache(){this.renderCache.forEach(d=>d.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class GA extends o.am{constructor(d,f,x){super(d.overscaledZ,d.wrap,d.canonical.z,d.canonical.x,d.canonical.y),this.proxyTileKey=f,this.projMatrix=x}}class gI extends o.ck{constructor(d,f){super(),this._debugParams={sortTilesHiZFirst:!0,disableRenderCache:!1},d.tp.registerParameter(this._debugParams,["Terrain"],"sortTilesHiZFirst",{},()=>{this._style.map.triggerRepaint()}),d.tp.registerParameter(this._debugParams,["Terrain"],"disableRenderCache",{},()=>{this._style.map.triggerRepaint()}),d.tp.registerButton(["Terrain"],"Invalidate Render Cache",()=>{this.invalidateRenderCache=!0,this._style.map.triggerRepaint()}),this.painter=d,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[x,M,T]=function(H){const G=new o.aN,q=new o.aw,J=131;G.reserve(17161),q.reserve(33800);const ie=o.V/128,se=o.V+ie/2,_e=se+ie;for(let Se=-ie;Se<_e;Se+=ie)for(let pe=-ie;pe<_e;pe+=ie){const Ce=pe<0||pe>se||Se<0||Se>se?24575:0,Re=o.aa(Math.round(pe),0,o.V),Pe=o.aa(Math.round(Se),0,o.V);G.emplaceBack(Re+Ce,Pe)}const ve=(Se,pe)=>{const Ce=pe*J+Se;q.emplaceBack(Ce+1,Ce,Ce+J),q.emplaceBack(Ce+J,Ce+J+1,Ce+1)};for(let Se=1;Se<129;Se++)for(let pe=1;pe<129;pe++)ve(pe,Se);return[0,129].forEach(Se=>{for(let pe=0;pe<130;pe++)ve(pe,Se),ve(Se,pe)}),[G,q,32768]}(),L=d.context;this.gridBuffer=L.createVertexBuffer(x,o.aP.members),this.gridIndexBuffer=L.createIndexBuffer(M),this.gridSegments=o.aB.simpleSegment(0,0,x.length,M.length),this.gridNoSkirtSegments=o.aB.simpleSegment(0,0,x.length,T),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new mI(f.map),this.orthoMatrix=o.a6.create(),o.a6.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,o.V,0,o.V,0,1);const j=L.gl;this._overlapStencilMode=new gr({func:j.GEQUAL,mask:255},0,255,j.KEEP,j.KEEP,j.REPLACE),this._previousZoom=d.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=f,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new fI(f.map),this._pendingGroundEffectLayers=[]}set style(d){d.on("data",this._onStyleDataEvent.bind(this)),this._style=d,this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(d,f,x){if(d&&d.terrain){this._style!==d&&(this.style=d,this._evaluationZoom=void 0);const M=d.terrain.properties,T=d.terrain.drapeRenderMode===0,L=d.terrain.isZoomDependent();this._previousUpdateTimestamp=this.enabled?this._updateTimestamp:void 0,this._updateTimestamp=o.f.now();const j=d.terrain&&d.terrain.scope,H=M.get("source"),G=T?this._mockSourceCache:d.getSourceCache(H,j);if(!G)return void o.w(`Couldn't find terrain source "${H}".`);if(this.sourceCache=G,this._exaggeration=L?this.calculateExaggeration(f):M.get("exaggeration"),!f.projection.requiresDraping&&L&&this._exaggeration===0)return void this._disable();this.enabled=!0;const q=()=>{this.sourceCache.used&&o.w(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const J=this.getScaledDemTileSize();this.sourceCache.update(f,J,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,q(),this._initializing=!0),q(),f.updateElevation(!0,x),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(f),this._emptyDEMTextureDirty=!0,this._previousZoom=f.zoom}else this._disable()}calculateExaggeration(d){const f=this._previousCameraAltitude,x=d.getFreeCameraOptions().position.z/d.pixelsPerMeter*d.worldSize;this._previousCameraAltitude=x;const M=f!=null?x-f:Number.MAX_VALUE;if(Math.abs(M)<2)return this._exaggeration;const T=d.zoom,L=this._style.terrain;if(!this._previousUpdateTimestamp)return L.getExaggeration(T);let j=T-this._previousZoom;const H=this._previousUpdateTimestamp;let G=T;this._evaluationZoom!=null&&(G=this._evaluationZoom,Math.abs(T-G)>.5&&(j=.5*(T-G+j)),j*M<0&&(G+=j)),this._evaluationZoom=G;const q=L.getExaggeration(G),J=q===L.getExaggeration(Math.max(0,G-.1));if(J&&Math.abs(q-this._exaggeration)<.01)return q;let ie=Math.min(.1,.00375*(this._updateTimestamp-H));return(J||q<.1||Math.abs(j)<1e-4)&&(ie=Math.min(.2,4*ie)),o.U(this._exaggeration,q,ie)}resetTileLookupCache(d){this._findCoveringTileCache[d]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_onStyleDataEvent(d){d.coord&&d.dataType==="source"?this._clearRenderCacheForTile(d.sourceCacheId,d.coord):d.dataType==="style"&&(this.invalidateRenderCache=!0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this._previousCameraAltitude=void 0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const d in this._style._mergedSourceCaches)this._style._mergedSourceCaches[d].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(d=>d.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),this.framebufferCopyTexture&&this.framebufferCopyTexture.destroy()}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const d=2*this.proxySourceCache.getSource().tileSize;return[d,d]}set useVertexMorphing(d){this._useVertexMorphing=d}updateTileBinding(d){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const f=this.proxySourceCache,x=this.painter.transform;this._initializing&&(this._initializing=x._centerAltitude===0&&this.getAtPointOrZero(o.L.fromLngLat(x.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const M=this.proxyCoords=f.getIds().map(H=>{const G=f.getTileByID(H).tileID;return G.projMatrix=x.calculateProjMatrix(G.toUnwrapped()),G});(function(H,G){const q=G.transform.pointCoordinate(G.transform.getCameraPoint()),J=new o.P(q.x,q.y);H.sort((ie,se)=>{if(se.overscaledZ-ie.overscaledZ)return se.overscaledZ-ie.overscaledZ;const _e=new o.P(ie.canonical.x+(1<<ie.canonical.z)*ie.wrap,ie.canonical.y),ve=new o.P(se.canonical.x+(1<<se.canonical.z)*se.wrap,se.canonical.y),Se=J.mult(1<<ie.canonical.z);return Se.x-=.5,Se.y-=.5,Se.distSqr(_e)-Se.distSqr(ve)})})(M,this.painter);const T=this.proxyToSource||{};this.proxyToSource={},M.forEach(H=>{this.proxyToSource[H.key]={}}),this.terrainTileForTile={};const L=this._style._mergedSourceCaches;for(const H in L){const G=L[H];if(!G.used||(G!==this.sourceCache&&this.resetTileLookupCache(G.id),this._setupProxiedCoordsForOrtho(G,d[H],T),G.usedForTerrain))continue;const q=d[H];G.getSource().reparseOverscaled&&this._assignTerrainTiles(q)}this.proxiedCoords[f.id]=M.map(H=>new GA(H,H.key,this.orthoMatrix)),this._assignTerrainTiles(M),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(T),this.renderingToTexture=!1;const j={};this._visibleDemTiles=[];for(const H of this.proxyCoords){const G=this.terrainTileForTile[H.key];if(!G)continue;const q=G.tileID.key;q in j||(this._visibleDemTiles.push(G),j[q]=q)}}_assignTerrainTiles(d){this._initializing||d.forEach(f=>{if(this.terrainTileForTile[f.key])return;const x=this._findTileCoveringTileID(f,this.sourceCache);x&&(this.terrainTileForTile[f.key]=x)})}_prepareDEMTextures(){const d=this.painter.context,f=d.gl;for(const x in this.terrainTileForTile){const M=this.terrainTileForTile[x],T=M.dem;!T||M.demTexture&&!M.needsDEMTextureUpload||(d.activeTexture.set(f.TEXTURE1),HA(this.painter,M,T))}}_prepareDemTileUniforms(d,f,x,M){if(!f||f.demTexture==null)return!1;const T=d.tileID.canonical,L=Math.pow(2,f.tileID.canonical.z-T.z),j=M||"";return x[`u_dem_tl${j}`]=[T.x*L%1,T.y*L%1],x[`u_dem_scale${j}`]=L,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const d=this.painter.context,f=d.gl;if(!this._emptyDepthBufferTexture){const x=new o.h({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new o.T(d,x,f.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let d=0;const f=this._visibleDemTiles.reduce((x,M)=>{if(!M.dem)return x;const T=M.dem.tree.minimums[0];return T>0&&d++,x+T},0);return d?f/d:0}_updateEmptyDEMTexture(){const d=this.painter.context,f=d.gl;d.activeTexture.set(f.TEXTURE2);const x=this._getLoadedAreaMinimum(),[M,T]=(()=>{const j=new o.cm({width:1,height:1},new Float32Array([x]));return[f.R32F,j]})();this._emptyDEMTextureDirty=!1;let L=this._emptyDEMTexture;return L?L.update(T,{premultiply:!1}):L=this._emptyDEMTexture=new o.T(d,T,M,{premultiply:!1}),L}setupElevationDraw(d,f,x){const M=this.painter.context,T=M.gl,L={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0};L.u_exaggeration=this.exaggeration();let j=null,H=null,G=1;if(x&&x.morphing&&this._useVertexMorphing){const ie=x.morphing.srcDemTile,se=x.morphing.dstDemTile;G=x.morphing.phase,ie&&se&&(this._prepareDemTileUniforms(d,ie,L,"_prev")&&(H=ie),this._prepareDemTileUniforms(d,se,L)&&(j=se))}const q=ie=>ie&&ie.demTexture&&this.painter.linearFloatFilteringSupported()?T.LINEAR:T.NEAREST,J=ie=>{L.u_dem_size=ie.size[0]===1?1:ie.size[0]-2};if(H&&j)M.activeTexture.set(T.TEXTURE2),j.demTexture.bind(q(j),T.CLAMP_TO_EDGE),M.activeTexture.set(T.TEXTURE4),H.demTexture.bind(q(H),T.CLAMP_TO_EDGE),j.demTexture&&J(j.demTexture),L.u_dem_lerp=G;else{j=this.terrainTileForTile[d.tileID.key],M.activeTexture.set(T.TEXTURE2);const ie=this._prepareDemTileUniforms(d,j,L)?j.demTexture:this.emptyDEMTexture;ie.bind(q(j),T.CLAMP_TO_EDGE),J(ie)}if(M.activeTexture.set(T.TEXTURE3),x&&x.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(T.NEAREST,T.CLAMP_TO_EDGE),this._depthFBO&&(L.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(T.NEAREST,T.CLAMP_TO_EDGE),L.u_depth_size_inv=[1,1]),x&&x.useMeterToDem&&j){const ie=(1<<j.tileID.canonical.z)*o.bl(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;L.u_meter_to_dem=ie}if(x&&x.labelPlaneMatrixInv&&(L.u_label_plane_matrix_inv=x.labelPlaneMatrixInv),f.setTerrainUniformValues(M,L),this.painter.transform.projection.name==="globe"){const ie=this.globeUniformValues(this.painter.transform,d.tileID.canonical,x&&x.useDenormalizedUpVectorScale);f.setGlobeUniformValues(M,ie)}}globeUniformValues(d,f,x){const M=d.projection;return{u_tile_tl_up:M.upVector(f,0,0),u_tile_tr_up:M.upVector(f,o.V,0),u_tile_br_up:M.upVector(f,o.V,o.V),u_tile_bl_up:M.upVector(f,0,o.V),u_tile_up_scale:x?o.cl(1):M.upVectorScale(f,d.center.lat,d.worldSize).metersToTile}}renderToBackBuffer(d){const f=this.painter,x=this.painter.context;d.length!==0&&(x.bindFramebuffer.set(null),x.viewport.set([0,0,f.width,f.height]),f.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(M,T,L,j,H){if(M.transform.projection.name==="globe")(function(G,q,J,ie,se){const _e=G.context,ve=_e.gl;let Se,pe;const Ce=G.transform,Re=o.cd(G,_e,Ce),Pe=(Nt,It)=>{if(pe===It)return;const Yt=[k_[It],"PROJECTION_GLOBE_VIEW"];Re&&Yt.push("CUSTOM_ANTIALIASING");const ct=G.isTileAffectedByFog(Nt);Se=G.getOrCreateProgram("globeRaster",{defines:Yt,overrideFog:ct}),pe=It},De=G.colorModeForRenderPass(),Ae=new Qn(ve.LEQUAL,Qn.ReadWrite,G.depthRangeFor3D);Ep.update(se);const Le=o.ce(Ce),He=[o.a5(Ce.center.lng),o.ae(Ce.center.lat)],Ge=G.globeSharedBuffers,Je=[Ce.width*o.f.devicePixelRatio,Ce.height*o.f.devicePixelRatio],xt=Float32Array.from(Ce.globeMatrix),at={useDenormalizedUpVectorScale:!0};{const Nt=G.transform,It=N_(Nt.zoom,q.exaggeration(),q.sourceCache._source.tileSize);pe=-1;const Yt=ve.TRIANGLES;for(const ct of ie){const Ct=J.getTile(ct),Ye=gr.disabled,vt=q.prevTerrainTileForTile[ct.key],tn=q.terrainTileForTile[ct.key];pm(vt,tn)&&Ep.newMorphing(ct.key,vt,tn,se,250),_e.activeTexture.set(ve.TEXTURE0),Ct.texture&&Ct.texture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE);const yn=Ep.getMorphValuesForProxy(ct.key),mn=yn?1:0;yn&&o.j(at,{morphing:{srcDemTile:yn.from,dstDemTile:yn.to,phase:o.cc(yn.phase)}});const Mn=o.cf(ct.canonical),Vn=o.cg(Mn.getCenter().lat),nr=o.ch(ct.canonical,Mn,Vn,Nt.worldSize/Nt._pixelsPerMercatorPixel),Xn=o.aT(o.ci(ct.canonical)),Jn=WA(Nt.expandedFarZProjMatrix,xt,Le,Xn,o.S(Nt.zoom),He,Nt.frustumCorners.TL,Nt.frustumCorners.TR,Nt.frustumCorners.BR,Nt.frustumCorners.BL,Nt.globeCenterInViewSpace,Nt.globeRadius,Je,It,Nt._farZ,nr);if(Pe(ct,mn),Se&&(q.setupElevationDraw(Ct,Se,at),G.uploadCommonUniforms(_e,Se,ct.toUnwrapped()),Ge)){const[Nr,br,Tr]=Ge.getGridBuffers(Vn,It!==0);Se.draw(G,Yt,Ae,Ye,De,Rn.backCCW,Jn,"globe_raster",Nr,br,Tr)}}}if(Ge&&(G.renderDefaultNorthPole||G.renderDefaultSouthPole)){const Nt=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Re&&Nt.push("CUSTOM_ANTIALIASING"),Se=G.getOrCreateProgram("globeRaster",{defines:Nt});for(const It of ie){const{x:Yt,y:ct,z:Ct}=It.canonical,Ye=ct===0,vt=ct===(1<<Ct)-1,[tn,yn,mn,Mn]=Ge.getPoleBuffers(Ct,!1);if(Mn&&(Ye||vt)){const Vn=J.getTile(It);_e.activeTexture.set(ve.TEXTURE0),Vn.texture&&Vn.texture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE);let nr=o.cj(Ct,Yt,Ce);const Xn=o.aT(o.ci(It.canonical)),Jn=(Nr,br)=>Nr.draw(G,ve.TRIANGLES,Ae,gr.disabled,De,Rn.disabled,WA(Ce.expandedFarZProjMatrix,nr,nr,Xn,0,He,Ce.frustumCorners.TL,Ce.frustumCorners.TR,Ce.frustumCorners.BR,Ce.frustumCorners.BL,Ce.globeCenterInViewSpace,Ce.globeRadius,Je,0,Ce._farZ),"globe_pole_raster",br,mn,Mn);q.setupElevationDraw(Vn,Se,at),G.uploadCommonUniforms(_e,Se,It.toUnwrapped()),Ye&&G.renderDefaultNorthPole&&Jn(Se,tn),vt&&G.renderDefaultSouthPole&&(nr=o.a6.scale(o.a6.create(),nr,[1,-1,1]),Jn(Se,yn))}}}})(M,T,L,j,H);else{const G=M.context,q=G.gl;let J,ie;const se=M.shadowRenderer,_e=hd(M,M.longestCutoffRange),ve=De=>{if(ie===De)return;const Ae=[];Ae.push(k_[De]),_e.shouldRenderCutoff&&Ae.push("RENDER_CUTOFF"),J=M.getOrCreateProgram("terrainRaster",{defines:Ae}),ie=De},Se=M.colorModeForRenderPass(),pe=new Qn(q.LEQUAL,Qn.ReadWrite,M.depthRangeFor3D);Ep.update(H);const Ce=M.transform,Re=N_(Ce.zoom,T.exaggeration(),T.sourceCache._source.tileSize);let Pe=[0,0,0];if(se){const De=M.style.directionalLight,Ae=M.style.ambientLight;De&&Ae&&(Pe=dm(De,Ae))}{ie=-1;const De=q.TRIANGLES,[Ae,Le]=[T.gridIndexBuffer,T.gridSegments];for(const He of j){const Ge=L.getTile(He),Je=gr.disabled,xt=T.prevTerrainTileForTile[He.key],at=T.terrainTileForTile[He.key];pm(xt,at)&&Ep.newMorphing(He.key,xt,at,H,250),G.activeTexture.set(q.TEXTURE0),Ge.texture&&Ge.texture.bind(q.LINEAR,q.CLAMP_TO_EDGE);const Nt=Ep.getMorphValuesForProxy(He.key),It=Nt?1:0;let Yt;Nt&&(Yt={morphing:{srcDemTile:Nt.from,dstDemTile:Nt.to,phase:o.cc(Nt.phase)}});const ct=Ey(He.projMatrix,Tp(He.canonical,Ce.renderWorldCopies)?Re/10:Re,Pe);if(ve(It),!J)continue;T.setupElevationDraw(Ge,J,Yt);const Ct=He.toUnwrapped();se&&se.setupShadows(Ct,J),M.uploadCommonUniforms(G,J,Ct,null,_e),J.draw(M,De,pe,Je,Se,Rn.backCCW,ct,"terrain_raster",T.gridBuffer,Ae,Le)}}}}(f,this,this.proxySourceCache,d,this._updateTimestamp),this.renderingToTexture=!0,f.gpuTimingDeferredRenderEnd(),d.splice(0,d.length))}renderBatch(d){if(this._drapedRenderBatches.length===0)return d+1;this.renderingToTexture=!0;const f=this.painter,x=this.painter.context,M=this.proxySourceCache,T=this.proxiedCoords[M.id],L=this._drapedRenderBatches.shift(),j=f.style.order,H=[];let G=0;for(const q of T){const J=M.getTileByID(q.proxyTileKey),ie=M.proxyCachedFBO[q.key]?M.proxyCachedFBO[q.key][d]:void 0,se=ie!==void 0?M.renderCache[ie]:this.pool[G++],_e=ie!==void 0;if(J.texture=se.tex,_e&&!se.dirty){H.push(J.tileID);continue}let ve;x.bindFramebuffer.set(se.fb.framebuffer),this.renderedToTile=!1,se.dirty&&(x.clear({color:o.ax.transparent,stencil:0}),se.dirty=!1);for(let Se=L.start;Se<=L.end;++Se){const pe=f.style._mergedLayers[j[Se]];if(pe.isHidden(f.transform.zoom))continue;const Ce=f.style.getLayerSourceCache(pe),Re=Ce?this.proxyToSource[q.key][Ce.id]:[q];if(!Re)continue;const Pe=Re;x.viewport.set([0,0,se.fb.width,se.fb.height]),ve!==(Ce?Ce.id:null)&&(this._setupStencil(se,Re,pe,Ce),ve=Ce?Ce.id:null),f.renderLayer(f,Ce,pe,Pe)}if(this._drapedRenderBatches.length===0)for(const Se of this._pendingGroundEffectLayers){const pe=f.style._mergedLayers[j[Se]];if(pe.isHidden(f.transform.zoom))continue;const Ce=f.style.getLayerSourceCache(pe),Re=Ce?this.proxyToSource[q.key][Ce.id]:[q];if(!Re)continue;const Pe=Re;x.viewport.set([0,0,se.fb.width,se.fb.height]),ve!==(Ce?Ce.id:null)&&(this._setupStencil(se,Re,pe,Ce),ve=Ce?Ce.id:null),f.renderLayer(f,Ce,pe,Pe)}this.renderedToTile?(se.dirty=!0,H.push(J.tileID)):_e||--G,G===5&&(G=0,this.renderToBackBuffer(H))}return this.renderToBackBuffer(H),this.renderingToTexture=!1,x.bindFramebuffer.set(null),x.viewport.set([0,0,f.width,f.height]),L.end+1}postRender(){}isLayerOrderingCorrect(d){const f=d.order.length;let x=-1,M=f;for(let T=0;T<f;++T)this._style.isLayerDraped(d._mergedLayers[d.order[T]])?x=Math.max(x,T):M=Math.min(M,T);return M>x}getMinElevationBelowMSL(){let d=0;return this._visibleDemTiles.filter(f=>f.dem).forEach(f=>{d=Math.min(d,f.dem.tree.minimums[0])}),d===0?d:(d-30)*this._exaggeration}raycast(d,f,x){if(!this._visibleDemTiles)return null;const M=this._visibleDemTiles.filter(T=>T.dem).map(T=>{const L=T.tileID,j=1<<L.overscaledZ,{x:H,y:G}=L.canonical,q=H/j,J=(H+1)/j,ie=G/j,se=(G+1)/j;return{minx:q,miny:ie,maxx:J,maxy:se,t:T.dem.tree.raycastRoot(q,ie,J,se,d,f,x),tile:T}});M.sort((T,L)=>(T.t!==null?T.t:Number.MAX_VALUE)-(L.t!==null?L.t:Number.MAX_VALUE));for(const T of M){if(T.t==null)return null;const L=T.tile.dem.tree.raycast(T.minx,T.miny,T.maxx,T.maxy,d,f,x);if(L!=null)return L}return null}_createFBO(){const d=this.painter.context,f=d.gl,x=this.drapeBufferSize;d.activeTexture.set(f.TEXTURE0);const M=new o.T(d,{width:x[0],height:x[1],data:null},f.RGBA);M.bind(f.LINEAR,f.CLAMP_TO_EDGE);const T=d.createFramebuffer(x[0],x[1],!0,null);return T.colorAttachment.set(M.texture),T.depthAttachment=new aa(d,T.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=d.createRenderbuffer(d.gl.DEPTH_STENCIL,x[0],x[1]),this._stencilRef=0,T.depthAttachment.set(this._sharedDepthStencil),d.clear({stencil:0})):T.depthAttachment.set(this._sharedDepthStencil),d.extTextureFilterAnisotropic&&f.texParameterf(f.TEXTURE_2D,d.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,d.extTextureFilterAnisotropicMax),{fb:T,tex:M,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._debugParams.disableRenderCache||this._style.hasLightTransitions())return!0;for(const d in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[d].hasTransition())return!0;return this._style.order.some(d=>{const f=this._style._mergedLayers[d],x=f.isHidden(this.painter.transform.zoom);return f.type==="custom"?!x&&f.shouldRedrape():!x&&f.hasTransition()})}_clearLineLayersFromRenderCache(){let d=!1;for(const x of this._style.getSources())if(x instanceof Qt){d=!0;break}if(!d)return;const f={};for(let x=0;x<this._style.order.length;++x){const M=this._style._mergedLayers[this._style.order[x]],T=this._style.getLayerSourceCache(M);if(T&&!f[T.id]&&!M.isHidden(this.painter.transform.zoom)&&M.type==="line"&&M.widthExpression()instanceof o.Z){f[T.id]=!0;for(const L of this.proxyCoords){const j=this.proxyToSource[L.key][T.id];if(j)for(const H of j)this._clearRenderCacheForTile(T.id,H)}}}}_clearRasterLayersFromRenderCache(){let d=!1;for(const x in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[x]._source instanceof zt){d=!0;break}if(!d)return;const f={};for(let x=0;x<this._style.order.length;++x){const M=this._style._mergedLayers[this._style.order[x]],T=this._style.getLayerSourceCache(M);if(!T||f[T.id]||M.isHidden(this.painter.transform.zoom)||M.type!=="raster")continue;const L=M.paint.get("raster-fade-duration");for(const j of this.proxyCoords){const H=this.proxyToSource[j.key][T.id];if(H)for(const G of H){const q=D_(T.getTile(G),T.findLoadedParent(G,0),T,this.painter.transform,L);(q.opacity!==1||q.mix!==0)&&this._clearRenderCacheForTile(T.id,G)}}}}_setupDrapedRenderBatches(){const d=this._style.order,f=d.length;if(f===0)return;const x=[];this._pendingGroundEffectLayers=[];let M,T=0,L=this._style._mergedLayers[d[T]];for(;!this._style.isLayerDraped(L)&&L.isHidden(this.painter.transform.zoom)&&++T<f;)L=this._style._mergedLayers[d[T]];for(;T<f;++T){const j=this._style._mergedLayers[d[T]];j.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(j)?M===void 0&&(M=T):(j.type==="fill-extrusion"&&this._pendingGroundEffectLayers.push(T),M!==void 0&&(x.push({start:M,end:T-1}),M=void 0)))}if(M!==void 0&&x.push({start:M,end:T-1}),x.length!==0){const j=x[x.length-1];this._pendingGroundEffectLayers.every(H=>H>j.end)||o.w("fill-extrusion with flood lighting and/or ground ambient occlusion should be moved to be on top of all draped layers.")}this._drapedRenderBatches=x}_setupRenderCache(d){const f=this.proxySourceCache;if(this._shouldDisableRenderCache()||this.invalidateRenderCache){if(this.invalidateRenderCache=!1,f.renderCache.length>f.renderCachePool.length){const L=Object.values(f.proxyCachedFBO);f.proxyCachedFBO={};for(let j=0;j<L.length;++j){const H=Object.values(L[j]);f.renderCachePool.push(...H)}}return}this._clearRasterLayersFromRenderCache();const x=this.proxyCoords,M=this._tilesDirty;for(let L=x.length-1;L>=0;L--){const j=x[L];if(f.getTileByID(j.key),f.proxyCachedFBO[j.key]!==void 0){const H=d[j.key],G=this.proxyToSource[j.key];let q=0;for(const J in G){const ie=G[J],se=H[J];if(!se||se.length!==ie.length||ie.some((_e,ve)=>_e!==se[ve]||M[J]&&M[J].hasOwnProperty(_e.key))){q=-1;break}++q}for(const J in f.proxyCachedFBO[j.key])f.renderCache[f.proxyCachedFBO[j.key][J]].dirty=q<0||q!==Object.values(H).length}}const T=[...this._drapedRenderBatches];T.sort((L,j)=>j.end-j.start-(L.end-L.start));for(const L of T)for(const j of x){if(f.proxyCachedFBO[j.key])continue;let H=f.renderCachePool.pop();H===void 0&&f.renderCache.length<50&&(H=f.renderCache.length,f.renderCache.push(this._createFBO())),H!==void 0&&(f.proxyCachedFBO[j.key]={},f.proxyCachedFBO[j.key][L.start]=H,f.renderCache[H].dirty=!0)}this._tilesDirty={}}_setupStencil(d,f,x,M){if(!M||!this._sourceTilesOverlap[M.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const T=this.painter.context,L=T.gl;if(f.length<=1)return void(this._overlapStencilType=!1);let j;if(x.isTileClipped())j=f.length,this._overlapStencilMode.test={func:L.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(f[0].overscaledZ>f[f.length-1].overscaledZ))return void(this._overlapStencilType=!1);j=1,this._overlapStencilMode.test={func:L.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+j>255&&(T.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=j,this._overlapStencilMode.ref=this._stencilRef,x.isTileClipped()&&this._renderTileClippingMasks(f,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(d){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[d.key]),this._overlapStencilMode):gr.disabled}_renderTileClippingMasks(d,f){const x=this.painter,M=this.painter.context,T=M.gl;x._tileClippingMaskIDs={},M.setColorMode(xn.disabled),M.setDepthMode(Qn.disabled);const L=x.getOrCreateProgram("clippingMask");for(const j of d){const H=x._tileClippingMaskIDs[j.key]=--f;L.draw(x,T.TRIANGLES,Qn.disabled,new gr({func:T.ALWAYS,mask:0},H,255,T.KEEP,T.KEEP,T.REPLACE),xn.disabled,Rn.disabled,R_(j.projMatrix),"$clipping",x.tileExtentBuffer,x.quadTriangleIndexBuffer,x.tileExtentSegments)}}pointCoordinate(d){const f=this.painter.transform;if(d.x<0||d.x>f.width||d.y<0||d.y>f.height)return null;const x=[d.x,d.y,1,1];o.a7.transformMat4(x,x,f.pixelMatrixInverse),o.a7.scale(x,x,1/x[3]),x[0]/=f.worldSize,x[1]/=f.worldSize;const M=f._camera.position,T=o.bl(1,f.center.lat),L=[M[0],M[1],M[2]/T,0],j=o.N.subtract([],x.slice(0,3),L);o.N.normalize(j,j);const H=this.raycast(L,j,this._exaggeration);return H!==null&&H?(o.N.scaleAndAdd(L,L,j,H),L[3]=L[2],L[2]*=T,L):null}drawDepth(){const d=this.painter,f=d.context,x=this.proxySourceCache,M=Math.ceil(d.width),T=Math.ceil(d.height);if(!this._depthFBO||this._depthFBO.width===M&&this._depthFBO.height===T||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const L=f.gl,j=f.createFramebuffer(M,T,!0,"renderbuffer");f.activeTexture.set(L.TEXTURE0);const H=new o.T(f,{width:M,height:T,data:null},L.RGBA);H.bind(L.NEAREST,L.CLAMP_TO_EDGE),j.colorAttachment.set(H.texture);const G=f.createRenderbuffer(f.gl.DEPTH_COMPONENT16,M,T);j.depthAttachment.set(G),this._depthFBO=j,this._depthTexture=H}f.bindFramebuffer.set(this._depthFBO.framebuffer),f.viewport.set([0,0,M,T]),function(L,j,H,G){if(L.transform.projection.name==="globe")return;const q=L.context,J=q.gl;q.clear({depth:1});const ie=L.getOrCreateProgram("terrainDepth"),se=new Qn(J.LESS,Qn.ReadWrite,L.depthRangeFor3D);for(const _e of G){const ve=H.getTile(_e),Se=Ey(_e.projMatrix,0,[0,0,0]);j.setupElevationDraw(ve,ie),ie.draw(L,J.TRIANGLES,se,gr.disabled,xn.unblended,Rn.backCCW,Se,"terrain_depth",j.gridBuffer,j.gridIndexBuffer,j.gridNoSkirtSegments)}}(d,this,x,this.proxyCoords)}_setupProxiedCoordsForOrtho(d,f,x){if(d.getSource()instanceof o.ap)return this._setupProxiedCoordsForImageSource(d,f,x);this._findCoveringTileCache[d.id]=this._findCoveringTileCache[d.id]||{};const M=this.proxiedCoords[d.id]=[],T=this.proxyCoords;for(let H=0;H<T.length;H++){const G=T[H],q=this._findTileCoveringTileID(G,d);if(q){const J=this._createProxiedId(G,q,x[G.key]&&x[G.key][d.id]);M.push(J),this.proxyToSource[G.key][d.id]=[J]}}let L=!1;const j=new Set;for(let H=0;H<f.length;H++){const G=d.getTile(f[H]);if(!G||!G.hasData())continue;const q=this._findTileCoveringTileID(G.tileID,this.proxySourceCache);if(q&&q.tileID.canonical.z!==G.tileID.canonical.z){const J=this.proxyToSource[q.tileID.key][d.id],ie=this._createProxiedId(q.tileID,G,x[q.tileID.key]&&x[q.tileID.key][d.id]);J?J.splice(J.length-1,0,ie):this.proxyToSource[q.tileID.key][d.id]=[ie];const se=this.proxyToSource[q.tileID.key][d.id];j.has(se)||j.add(se),M.push(ie),L=!0}}if(this._sourceTilesOverlap[d.id]=L,L&&this._debugParams.sortTilesHiZFirst)for(const H of j)H.sort((G,q)=>q.overscaledZ-G.overscaledZ)}_setupProxiedCoordsForImageSource(d,f,x){if(!d.getSource().loaded())return;const M=this.proxiedCoords[d.id]=[],T=this.proxyCoords,L=d.getSource(),j=L.tileID;if(!j)return;const H=new o.P(j.x,j.y)._div(1<<j.z),G=L.coordinates.map(o.L.fromLngLat).reduce((J,ie)=>(J.min.x=Math.min(J.min.x,ie.x-H.x),J.min.y=Math.min(J.min.y,ie.y-H.y),J.max.x=Math.max(J.max.x,ie.x-H.x),J.max.y=Math.max(J.max.y,ie.y-H.y),J),{min:new o.P(Number.MAX_VALUE,Number.MAX_VALUE),max:new o.P(-Number.MAX_VALUE,-Number.MAX_VALUE)}),q=(J,ie)=>{const se=J.wrap+J.canonical.x/(1<<J.canonical.z),_e=J.canonical.y/(1<<J.canonical.z),ve=o.V/(1<<J.canonical.z),Se=ie.wrap+ie.canonical.x/(1<<ie.canonical.z),pe=ie.canonical.y/(1<<ie.canonical.z);return se+ve<Se+G.min.x||se>Se+G.max.x||_e+ve<pe+G.min.y||_e>pe+G.max.y};for(let J=0;J<T.length;J++){const ie=T[J];for(let se=0;se<f.length;se++){const _e=d.getTile(f[se]);if(!_e||!_e.hasData()||q(ie,_e.tileID))continue;const ve=this._createProxiedId(ie,_e,x[ie.key]&&x[ie.key][d.id]),Se=this.proxyToSource[ie.key][d.id];Se?Se.push(ve):this.proxyToSource[ie.key][d.id]=[ve],M.push(ve)}}}_createProxiedId(d,f,x){let M=this.orthoMatrix;if(x){const T=x.find(L=>L.key===f.tileID.key);if(T)return T}if(f.tileID.key!==d.key){const T=d.canonical.z-f.tileID.canonical.z;let L,j,H;M=o.a6.create();const G=f.tileID.wrap-d.wrap<<d.overscaledZ;T>0?(L=o.V>>T,j=L*((f.tileID.canonical.x<<T)-d.canonical.x+G),H=L*((f.tileID.canonical.y<<T)-d.canonical.y)):(L=o.V<<-T,j=o.V*(f.tileID.canonical.x-(d.canonical.x+G<<-T)),H=o.V*(f.tileID.canonical.y-(d.canonical.y<<-T))),o.a6.ortho(M,0,L,0,L,0,1),o.a6.translate(M,M,[j,H,0])}return new GA(f.tileID,d.key,M)}_findTileCoveringTileID(d,f){let x=f.getTile(d);if(x&&x.hasData())return x;const M=this._findCoveringTileCache[f.id],T=M[d.key];if(x=T?f.getTileByID(T):null,x&&x.hasData()||T===null)return x;let L=x?x.tileID:d,j=L.overscaledZ;const H=f.getSource().minzoom,G=[];if(!T){const J=f.getSource().maxzoom;if(d.canonical.z>=J){const ie=d.canonical.z-J;f.getSource().reparseOverscaled?(j=Math.max(d.canonical.z+2,f.transform.tileZoom),L=new o.am(j,d.wrap,J,d.canonical.x>>ie,d.canonical.y>>ie)):ie!==0&&(j=J,L=new o.am(j,d.wrap,J,d.canonical.x>>ie,d.canonical.y>>ie))}L.key!==d.key&&(G.push(L.key),x=f.getTile(L))}const q=J=>{G.forEach(ie=>{M[ie]=J}),G.length=0};for(j-=1;j>=H&&(!x||!x.hasData());j--){x&&q(x.tileID.key);const J=L.calculateScaledKey(j);if(x=f.getTileByID(J),x&&x.hasData())break;const ie=M[J];if(ie===null)break;ie===void 0?G.push(J):x=f.getTileByID(ie)}return q(x?x.tileID.key:null),x&&x.hasData()?x:null}findDEMTileFor(d){return this.enabled?this._findTileCoveringTileID(d,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(d,f){let x=this._tilesDirty[d];x||(x=this._tilesDirty[d]={}),x[f.key]=!0}}function L_(_,d,f){const x=function(j,H,G){const q=o.N.dot(H,j),J=o.N.dot(G,[.2126,.7152,.0722]),ie=(_e,ve,Se)=>(1-Se)*_e+Se*ve,se=ie(1-.3*Math.min(J,1),1,Math.min(q+1,1));return ie(.92,1,Math.asin(o.aa(H[2],-1,1))/Math.PI+.5)*se}(_,[0,0,1],d),M=[0,0,0];o.N.scale(M,f.slice(0,3),x);const T=[0,0,0];o.N.scale(T,d.slice(0,3),_[2]);const L=[0,0,0];return o.N.add(L,M,T),o.bU(L)}const F_=["fill","fillOutline","fillPattern","line","linePattern","background","backgroundPattern","hillshade","raster"],KA=["stars","fillExtrusion","fillExtrusionGroundEffect","model","symbolSDF","symbolIcon","symbolTextAndIcon"];class $_{static cacheKey(d,f,x,M){let T=`${f}${M?M.cacheKey:""}`;for(const L of x)d.usedDefines.includes(L)&&(T+=`/${L}`);return T}constructor(d,f,x,M,T,L,j){const H=d.gl;this.program=H.createProgram(),this.configuration=M,this.name=f,this.fixedDefines=[...L];const G=M?M.getBinderAttributes():[],q=(x.staticAttributes||[]).concat(G);let J=M?M.defines():[];J=J.concat(L.map(pe=>`#define ${pe}`));const ie=`#version 300 es
`;let se=ie+J.concat("precision mediump float;",Cy,T_.fragmentSource).join(`
`);for(const pe of x.fragmentIncludes)se+=`
${il[pe]}`;se+=`
${x.fragmentSource}`;let _e=ie+J.concat("precision highp float;",Cy,T_.vertexSource).join(`
`);for(const pe of x.vertexIncludes)_e+=`
${il[pe]}`;_e+=`
${x.vertexSource}`;const ve=H.createShader(H.FRAGMENT_SHADER);if(H.isContextLost())return void(this.failedToCreate=!0);H.shaderSource(ve,se),H.compileShader(ve),H.attachShader(this.program,ve);const Se=H.createShader(H.VERTEX_SHADER);if(H.isContextLost())this.failedToCreate=!0;else{H.shaderSource(Se,_e),H.compileShader(Se),H.attachShader(this.program,Se),this.attributes={},this.numAttributes=q.length;for(let pe=0;pe<this.numAttributes;pe++)if(q[pe]){const Ce=q[pe].startsWith("a_")?q[pe]:`a_${q[pe]}`;H.bindAttribLocation(this.program,pe,Ce),this.attributes[Ce]=pe}j&&j.shaderVaryings.length>0&&H.transformFeedbackVaryings(this.program,j.shaderVaryings,j.bufferMode),H.linkProgram(this.program),H.deleteShader(Se),H.deleteShader(ve),this.fixedUniforms=T(d),this.binderUniforms=M?M.getUniforms(d):[],L.includes("TERRAIN")&&(this.terrainUniforms=(pe=>({u_dem:new o.bO(pe),u_dem_prev:new o.bO(pe),u_dem_tl:new o.bL(pe),u_dem_scale:new o.bN(pe),u_dem_tl_prev:new o.bL(pe),u_dem_scale_prev:new o.bN(pe),u_dem_size:new o.bN(pe),u_dem_lerp:new o.bN(pe),u_exaggeration:new o.bN(pe),u_depth:new o.bO(pe),u_depth_size_inv:new o.bL(pe),u_meter_to_dem:new o.bN(pe),u_label_plane_matrix_inv:new o.bK(pe)}))(d)),L.includes("GLOBE")&&(this.globeUniforms=(pe=>({u_tile_tl_up:new o.bM(pe),u_tile_tr_up:new o.bM(pe),u_tile_br_up:new o.bM(pe),u_tile_bl_up:new o.bM(pe),u_tile_up_scale:new o.bN(pe)}))(d)),L.includes("FOG")&&(this.fogUniforms=(pe=>({u_fog_matrix:new o.bK(pe),u_fog_range:new o.bL(pe),u_fog_color:new o.bP(pe),u_fog_horizon_blend:new o.bN(pe),u_fog_vertical_limit:new o.bL(pe),u_fog_temporal_offset:new o.bN(pe),u_frustum_tl:new o.bM(pe),u_frustum_tr:new o.bM(pe),u_frustum_br:new o.bM(pe),u_frustum_bl:new o.bM(pe),u_globe_pos:new o.bM(pe),u_globe_radius:new o.bN(pe),u_globe_transition:new o.bN(pe),u_is_globe:new o.bO(pe),u_viewport:new o.bL(pe)}))(d)),L.includes("RENDER_CUTOFF")&&(this.cutoffUniforms=(pe=>({u_cutoff_params:new o.bP(pe)}))(d)),L.includes("LIGHTING_3D_MODE")&&(this.lightsUniforms=(pe=>({u_lighting_ambient_color:new o.bM(pe),u_lighting_directional_dir:new o.bM(pe),u_lighting_directional_color:new o.bM(pe),u_ground_radiance:new o.bM(pe)}))(d)),L.includes("RENDER_SHADOWS")&&(this.shadowUniforms=(pe=>({u_light_matrix_0:new o.bK(pe),u_light_matrix_1:new o.bK(pe),u_fade_range:new o.bL(pe),u_shadow_normal_offset:new o.bM(pe),u_shadow_intensity:new o.bN(pe),u_shadow_texel_size:new o.bN(pe),u_shadow_map_resolution:new o.bN(pe),u_shadow_direction:new o.bM(pe),u_shadow_bias:new o.bM(pe),u_shadowmap_0:new o.bO(pe),u_shadowmap_1:new o.bO(pe)}))(d))}}setTerrainUniformValues(d,f){if(!this.terrainUniforms)return;const x=this.terrainUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const M in f)x[M]&&x[M].set(this.program,M,f[M])}}setGlobeUniformValues(d,f){if(!this.globeUniforms)return;const x=this.globeUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const M in f)x[M]&&x[M].set(this.program,M,f[M])}}setFogUniformValues(d,f){if(!this.fogUniforms)return;const x=this.fogUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const M in f)x[M].set(this.program,M,f[M])}}setCutoffUniformValues(d,f){if(!this.cutoffUniforms)return;const x=this.cutoffUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const M in f)x[M].set(this.program,M,f[M])}}setLightsUniformValues(d,f){if(!this.lightsUniforms)return;const x=this.lightsUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const M in f)x[M].set(this.program,M,f[M])}}setShadowUniformValues(d,f){if(this.failedToCreate||!this.shadowUniforms)return;const x=this.shadowUniforms;d.program.set(this.program);for(const M in f)x[M].set(this.program,M,f[M])}_drawDebugWireframe(d,f,x,M,T,L,j,H,G,q){const J=d.options.wireframe;if(J.terrain===!1&&J.layers2D===!1&&J.layers3D===!1)return;const ie=d.context;if(!(!(!J.terrain||this.name!=="terrainRaster"&&this.name!=="globeRaster")||!(!J.layers2D||d._terrain&&d._terrain.renderingToTexture||!F_.includes(this.name))||!(!J.layers3D||!KA.includes(this.name))))return;const se=ie.gl,_e=d.wireframeDebugCache.getLinesFromTrianglesBuffer(d.frameCounter,T,ie);if(!_e)return;const ve=[...this.fixedDefines];ve.push("DEBUG_WIREFRAME");const Se=d.getOrCreateProgram(this.name,{config:this.configuration,defines:ve});ie.program.set(Se.program);const pe=(Pe,De,Ae)=>{if(De[Pe]&&Ae[Pe])for(const Le in De[Pe])Ae[Pe][Le]&&Ae[Pe][Le].set(Ae.program,Le,De[Pe][Le].current)};G&&G.setUniforms(Se.program,ie,Se.binderUniforms,j,{zoom:H}),pe("fixedUniforms",this,Se),pe("terrainUniforms",this,Se),pe("globeUniforms",this,Se),pe("fogUniforms",this,Se),pe("lightsUniforms",this,Se),pe("shadowUniforms",this,Se),_e.bind(),ie.setColorMode(new xn([se.ONE,se.ONE_MINUS_SRC_ALPHA,se.ZERO,se.ONE],o.ax.transparent,[!0,!0,!0,!1])),ie.setDepthMode(new Qn(f.func===se.LESS?se.LEQUAL:f.func,Qn.ReadOnly,f.range)),ie.setStencilMode(gr.disabled);const Ce=3*L.primitiveLength*2,Re=3*L.primitiveOffset*2*2;q&&q>1?se.drawElementsInstanced(se.LINES,Ce,se.UNSIGNED_SHORT,Re,q):se.drawElements(se.LINES,Ce,se.UNSIGNED_SHORT,Re),T.bind(),ie.program.set(this.program),ie.setDepthMode(f),ie.setStencilMode(x),ie.setColorMode(M)}draw(d,f,x,M,T,L,j,H,G,q,J,ie,se,_e,ve,Se,pe){const Ce=d.context,Re=Ce.gl;if(this.failedToCreate)return;Ce.program.set(this.program),Ce.setDepthMode(x),Ce.setStencilMode(M),Ce.setColorMode(T),Ce.setCullFace(L);for(const Le of Object.keys(this.fixedUniforms))this.fixedUniforms[Le].set(this.program,Le,j[Le]);_e&&_e.setUniforms(this.program,Ce,this.binderUniforms,ie,{zoom:se});const Pe={[Re.POINTS]:1,[Re.LINES]:2,[Re.TRIANGLES]:3,[Re.LINE_STRIP]:1}[f],De=pe&&pe.length>0;if(De){for(const Le of pe)Re.bindBufferBase(Re.TRANSFORM_FEEDBACK_BUFFER,Le.targetIndex,Le.buffer.buffer);Re.beginTransformFeedback(f)}const Ae=Se&&Se>0?1:void 0;for(const Le of J.get()){const He=Le.vaos||(Le.vaos={});(He[H]||(He[H]=new I_)).bind(Ce,this,G,_e?_e.getPaintVertexBuffers():[],q,Le.vertexOffset,ve||[],Ae),Se&&Se>1?Re.drawElementsInstanced(f,Le.primitiveLength*Pe,Re.UNSIGNED_SHORT,Le.primitiveOffset*Pe*2,Se):q?Re.drawElements(f,Le.primitiveLength*Pe,Re.UNSIGNED_SHORT,Le.primitiveOffset*Pe*2):Re.drawArrays(f,Le.vertexOffset,Le.vertexLength),f===Re.TRIANGLES&&q&&this._drawDebugWireframe(d,x,M,T,q,Le,ie,se,_e,Se)}De&&Re.endTransformFeedback()}}function j_(_,d){const f=Math.pow(2,d.tileID.overscaledZ),x=d.tileSize*Math.pow(2,_.transform.tileZoom)/f,M=x*(d.tileID.canonical.x+d.tileID.wrap*f),T=x*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture?d.imageAtlasTexture.size:[0,0],u_tile_units_to_pixels:1/o.a3(d,1,_.transform.tileZoom),u_pixel_coord_upper:[M>>16,T>>16],u_pixel_coord_lower:[65535&M,65535&T]}}const qA=o.a6.create(),z_=(_,d,f,x,M,T,L,j,H,G,q,J,ie,se,_e,ve)=>{const Se=d.style.light,pe=Se.properties.get("position"),Ce=[pe.x,pe.y,pe.z],Re=o.co.create();Se.properties.get("anchor")==="viewport"&&(o.co.fromRotation(Re,-d.transform.angle),o.N.transformMat3(Ce,Ce,Re));const Pe=Se.properties.get("color"),De=d.transform,Ae={u_matrix:_,u_lightpos:Ce,u_lightintensity:Se.properties.get("intensity"),u_lightcolor:[Pe.r,Pe.g,Pe.b],u_vertical_gradient:+f,u_opacity:x,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:qA,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:M,u_edge_radius:T,u_flood_light_color:J,u_vertical_scale:ie,u_flood_light_intensity:se,u_ground_shadow_factor:_e,u_emissive_strength:ve};return De.projection.name==="globe"&&(Ae.u_tile_id=[L.canonical.x,L.canonical.y,1<<L.canonical.z],Ae.u_zoom_transition=H,Ae.u_inv_rot_matrix=q,Ae.u_merc_center=G,Ae.u_up_dir=De.projection.upVector(new o.bs(0,0,0),G[0]*o.V,G[1]*o.V),Ae.u_height_lift=j),Ae},B_=(_,d,f)=>({u_matrix:_,u_edge_radius:d,u_vertical_scale:f}),ph=(_,d,f,x,M,T,L,j,H,G,q,J,ie,se)=>{const _e=z_(_,d,f,x,M,T,L,H,G,q,J,ie,se,1,[0,0,0],0),ve={u_height_factor:-Math.pow(2,L.overscaledZ)/j.tileSize/8};return o.e(_e,j_(d,j),ve)},Pp=(_,d)=>({u_matrix:_,u_emissive_strength:d}),Z_=(_,d,f,x)=>o.e(Pp(_,d),j_(f,x)),fh=(_,d,f)=>({u_matrix:_,u_world:f,u_emissive_strength:d}),XA=(_,d,f,x,M)=>o.e(Z_(_,d,f,x),{u_world:M}),Ty=(_,d,f,x)=>{const M=o.V/f.tileSize;return{u_matrix:_,u_camera_to_center_distance:d.getCameraToCenterDistance(x),u_extrude_scale:[d.pixelsToGLUnits[0]/M,d.pixelsToGLUnits[1]/M]}},U_=(_,d,f=1)=>({u_matrix:_,u_color:d,u_overlay:0,u_overlay_scale:f}),YA=o.a6.create(),H_=(_,d,f,x,M,T,L)=>{const j=_.transform,H=j.projection.name==="globe",G=H?o.cp(j.zoom,d.canonical)*j._pixelsPerMercatorPixel:o.a3(f,1,T),q={u_matrix:d.projMatrix,u_extrude_scale:G,u_intensity:L,u_inv_rot_matrix:YA,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(H){q.u_inv_rot_matrix=x,q.u_merc_center=M,q.u_tile_id=[d.canonical.x,d.canonical.y,1<<d.canonical.z],q.u_zoom_transition=o.S(j.zoom);const J=M[0]*o.V,ie=M[1]*o.V;q.u_up_dir=j.projection.upVector(new o.bs(0,0,0),J,ie)}return q};function Py(_,[d,f,x,M],[T,L]){if(T===L)return[0,0,0,0];const j=255*(_-1)/(_*(L-T));return[d*j,f*j,x*j,M*j]}function JA(_,d,[f,x]){return f===x?0:.5/_+(d-f)*(_-1)/(_*(x-f))}const V_=(_,d,f,x,M,T,L,j,H,G,q,J,ie,se,_e,ve,Se,pe,Ce,Re,Pe)=>{return{u_matrix:_,u_normalize_matrix:d,u_globe_matrix:f,u_merc_matrix:x,u_grid_matrix:M,u_tl_parent:T,u_scale_parent:G,u_fade_t:q.mix,u_opacity:q.opacity*J.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:J.paint.get("raster-brightness-min"),u_brightness_high:J.paint.get("raster-brightness-max"),u_saturation_factor:(Ae=J.paint.get("raster-saturation"),Ae>0?1-1/(1.001-Ae):-Ae),u_contrast_factor:(De=J.paint.get("raster-contrast"),De>0?1/(1-De):1+De),u_spin_weights:fm(J.paint.get("raster-hue-rotate")),u_perspective_transform:ie,u_raster_elevation:se,u_zoom_transition:L,u_merc_center:j,u_cutoff_params:H,u_colorization_mix:Py(o.cq,ve,pe),u_colorization_offset:JA(o.cq,Se,pe),u_color_ramp:_e,u_texture_offset:[Re/(Ce+2*Re),Ce/(Ce+2*Re)],u_texture_res:[Ce+2*Re,Ce+2*Re],u_emissive_strength:Pe};var De,Ae};function fm(_){_*=Math.PI/180;const d=Math.sin(_),f=Math.cos(_);return[(2*f+1)/3,(-Math.sqrt(3)*d-f+1)/3,(Math.sqrt(3)*d-f+1)/3]}const yI=(_,d,f,x,M,T,L,j,H,G,q,J)=>({u_matrix:_,u_normalize_matrix:d,u_globe_matrix:f,u_merc_matrix:x,u_grid_matrix:M,u_tl_parent:T,u_scale_parent:G,u_fade_t:q.mix,u_opacity:q.opacity,u_image0:0,u_image1:1,u_raster_elevation:J,u_zoom_transition:L,u_merc_center:j,u_cutoff_params:H}),vI=(_,d,f,x,M,T,L,j)=>({u_tile_offset:_,u_velocity:d,u_color_ramp:x,u_velocity_res:f,u_max_speed:M,u_texture_offset:T,u_data_scale:L,u_data_offset:j}),QA=(_,d,f,x,M,T,L,j)=>({u_velocity:_,u_velocity_res:d,u_max_speed:f,u_speed_factor:x,u_lifetime_delta:M,u_rand_seed:Math.random(),u_texture_offset:T,u_data_scale:L,u_data_offset:j}),e5=o.a6.create(),Iy=(_,d,f,x,M,T,L,j,H,G,q,J,ie,se,_e,ve,Se,pe)=>{const Ce=M.transform,Re={u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:d?d.uSizeT:0,u_size:d?d.uSize:0,u_camera_to_center_distance:Ce.getCameraToCenterDistance(ve),u_rotate_symbol:+f,u_aspect_ratio:Ce.width/Ce.height,u_fade_change:M.options.fadeDuration?M.symbolFadeChange:1,u_matrix:T,u_label_plane_matrix:L,u_coord_matrix:j,u_is_text:+H,u_pitch_with_map:+x,u_texsize:G,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:e5,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:e5,u_up_vector:[0,-1,0],u_icon_transition:pe||0,u_icon_saturation:Se};return ve.name==="globe"&&(Re.u_tile_id=[q.canonical.x,q.canonical.y,1<<q.canonical.z],Re.u_zoom_transition=J,Re.u_inv_rot_matrix=se,Re.u_merc_center=ie,Re.u_camera_forward=Ce._camera.forward(),Re.u_ecef_origin=o.cr(Ce.globeMatrix,q.toUnwrapped()),Re.u_tile_matrix=Float32Array.from(Ce.globeMatrix),Re.u_up_vector=_e),Re},mm=(_,d,f,x,M,T,L,j,H,G,q,J,ie,se,_e,ve,Se)=>o.e(Iy(_,d,f,x,M,T,L,j,H,G,J,ie,se,_e,ve,Se,1),{u_gamma_scale:x?M.transform.getCameraToCenterDistance(Se)*Math.cos(M.terrain?0:M.transform._pitch):1,u_device_pixel_ratio:o.f.devicePixelRatio,u_is_halo:1,undefined:void 0}),Oy=(_,d,f,x,M,T,L,j,H,G,q,J,ie,se,_e,ve)=>o.e(mm(_,d,f,x,M,T,L,j,!0,H,!0,q,J,ie,se,_e,ve),{u_texsize_icon:G,u_texture_icon:1}),W_=(_,d,f,x)=>({u_matrix:_,u_emissive_strength:d,u_opacity:f,u_color:x}),gm=(_,d,f,x,M,T,L)=>o.e(function(j,H,G,q){const J=G.imageManager.getPattern(j.toString(),H),{width:ie,height:se}=G.imageManager.getPixelSize(H),_e=Math.pow(2,q.tileID.overscaledZ),ve=q.tileSize*Math.pow(2,G.transform.tileZoom)/_e,Se=ve*(q.tileID.canonical.x+q.tileID.wrap*_e),pe=ve*q.tileID.canonical.y;return{u_image:0,u_pattern_tl:J.tl,u_pattern_br:J.br,u_texsize:[ie,se],u_pattern_size:J.displaySize,u_tile_units_to_pixels:1/o.a3(q,1,G.transform.tileZoom),u_pixel_coord_upper:[Se>>16,pe>>16],u_pixel_coord_lower:[65535&Se,65535&pe]}}(M,T,x,L),{u_matrix:_,u_emissive_strength:d,u_opacity:f}),ky=(_,d,f,x,M,T,L,j,H,G,q,J,ie=[0,0,0],se)=>{const _e=x.style.light,ve=_e.properties.get("position"),Se=[-ve.x,-ve.y,ve.z],pe=o.co.create();_e.properties.get("anchor")==="viewport"&&(o.co.fromRotation(pe,-x.transform.angle),o.N.transformMat3(Se,Se,pe));const Ce=G.alphaMode==="MASK",Re=_e.properties.get("color"),Pe=J.paint.get("model-ambient-occlusion-intensity"),De=J.paint.get("model-color").constantOr(o.ax.white),Ae=J.paint.get("model-color-mix-intensity").constantOr(0);return{u_matrix:_,u_lighting_matrix:d,u_normal_matrix:f,u_lightpos:Se,u_lightintensity:_e.properties.get("intensity"),u_lightcolor:[Re.r,Re.g,Re.b],u_camera_pos:ie,u_opacity:M,u_baseTextureIsAlpha:0,u_alphaMask:+Ce,u_alphaCutoff:G.alphaCutoff,u_baseColorFactor:[T.r,T.g,T.b,T.a],u_emissiveFactor:[L[0],L[1],L[2],1],u_metallicFactor:j,u_roughnessFactor:H,u_baseColorTexture:Fa.BaseColor,u_metallicRoughnessTexture:Fa.MetallicRoughness,u_normalTexture:Fa.Normal,u_occlusionTexture:Fa.Occlusion,u_emissionTexture:Fa.Emission,u_color_mix:[De.r,De.g,De.b,Ae],u_aoIntensity:Pe,u_emissive_strength:q,u_occlusionTextureTransform:se||[0,0,0,0]}},ym=new Float32Array(16),vm=(_,d=ym,f=ym)=>({u_matrix:_,u_instance:d,u_node_matrix:f}),bI={fillExtrusion:_=>({u_matrix:new o.bK(_),u_lightpos:new o.bM(_),u_lightintensity:new o.bN(_),u_lightcolor:new o.bM(_),u_vertical_gradient:new o.bN(_),u_opacity:new o.bN(_),u_edge_radius:new o.bN(_),u_ao:new o.bL(_),u_tile_id:new o.bM(_),u_zoom_transition:new o.bN(_),u_inv_rot_matrix:new o.bK(_),u_merc_center:new o.bL(_),u_up_dir:new o.bM(_),u_height_lift:new o.bN(_),u_flood_light_color:new o.bM(_),u_vertical_scale:new o.bN(_),u_flood_light_intensity:new o.bN(_),u_ground_shadow_factor:new o.bM(_),u_emissive_strength:new o.bN(_)}),fillExtrusionDepth:_=>({u_matrix:new o.bK(_),u_edge_radius:new o.bN(_),u_vertical_scale:new o.bN(_)}),fillExtrusionPattern:_=>({u_matrix:new o.bK(_),u_lightpos:new o.bM(_),u_lightintensity:new o.bN(_),u_lightcolor:new o.bM(_),u_vertical_gradient:new o.bN(_),u_height_factor:new o.bN(_),u_edge_radius:new o.bN(_),u_ao:new o.bL(_),u_tile_id:new o.bM(_),u_zoom_transition:new o.bN(_),u_inv_rot_matrix:new o.bK(_),u_merc_center:new o.bL(_),u_up_dir:new o.bM(_),u_height_lift:new o.bN(_),u_image:new o.bO(_),u_texsize:new o.bL(_),u_pixel_coord_upper:new o.bL(_),u_pixel_coord_lower:new o.bL(_),u_tile_units_to_pixels:new o.bN(_),u_opacity:new o.bN(_)}),fillExtrusionGroundEffect:_=>({u_matrix:new o.bK(_),u_opacity:new o.bN(_),u_ao_pass:new o.bN(_),u_meter_to_tile:new o.bN(_),u_ao:new o.bL(_),u_flood_light_intensity:new o.bN(_),u_flood_light_color:new o.bM(_),u_attenuation:new o.bN(_),u_edge_radius:new o.bN(_),u_fb:new o.bO(_),u_fb_size:new o.bN(_)}),fill:_=>({u_matrix:new o.bK(_),u_emissive_strength:new o.bN(_)}),fillPattern:_=>({u_matrix:new o.bK(_),u_emissive_strength:new o.bN(_),u_image:new o.bO(_),u_texsize:new o.bL(_),u_pixel_coord_upper:new o.bL(_),u_pixel_coord_lower:new o.bL(_),u_tile_units_to_pixels:new o.bN(_)}),fillOutline:_=>({u_matrix:new o.bK(_),u_emissive_strength:new o.bN(_),u_world:new o.bL(_)}),fillOutlinePattern:_=>({u_matrix:new o.bK(_),u_emissive_strength:new o.bN(_),u_world:new o.bL(_),u_image:new o.bO(_),u_texsize:new o.bL(_),u_pixel_coord_upper:new o.bL(_),u_pixel_coord_lower:new o.bL(_),u_tile_units_to_pixels:new o.bN(_)}),circle:o.cs,collisionBox:_=>({u_matrix:new o.bK(_),u_camera_to_center_distance:new o.bN(_),u_extrude_scale:new o.bL(_)}),collisionCircle:_=>({u_matrix:new o.bK(_),u_inv_matrix:new o.bK(_),u_camera_to_center_distance:new o.bN(_),u_viewport_size:new o.bL(_)}),debug:_=>({u_color:new o.ca(_),u_matrix:new o.bK(_),u_overlay:new o.bO(_),u_overlay_scale:new o.bN(_)}),clippingMask:_=>({u_matrix:new o.bK(_)}),heatmap:_=>({u_extrude_scale:new o.bN(_),u_intensity:new o.bN(_),u_matrix:new o.bK(_),u_inv_rot_matrix:new o.bK(_),u_merc_center:new o.bL(_),u_tile_id:new o.bM(_),u_zoom_transition:new o.bN(_),u_up_dir:new o.bM(_)}),heatmapTexture:_=>({u_image:new o.bO(_),u_color_ramp:new o.bO(_),u_opacity:new o.bN(_)}),hillshade:_=>({u_matrix:new o.bK(_),u_image:new o.bO(_),u_latrange:new o.bL(_),u_light:new o.bL(_),u_shadow:new o.ca(_),u_highlight:new o.ca(_),u_emissive_strength:new o.bN(_),u_accent:new o.ca(_)}),hillshadePrepare:_=>({u_matrix:new o.bK(_),u_image:new o.bO(_),u_dimension:new o.bL(_),u_zoom:new o.bN(_)}),line:o.ct,linePattern:o.cu,raster:_=>({u_matrix:new o.bK(_),u_normalize_matrix:new o.bK(_),u_globe_matrix:new o.bK(_),u_merc_matrix:new o.bK(_),u_grid_matrix:new o.cb(_),u_tl_parent:new o.bL(_),u_scale_parent:new o.bN(_),u_fade_t:new o.bN(_),u_opacity:new o.bN(_),u_image0:new o.bO(_),u_image1:new o.bO(_),u_brightness_low:new o.bN(_),u_brightness_high:new o.bN(_),u_saturation_factor:new o.bN(_),u_contrast_factor:new o.bN(_),u_spin_weights:new o.bM(_),u_perspective_transform:new o.bL(_),u_raster_elevation:new o.bN(_),u_zoom_transition:new o.bN(_),u_merc_center:new o.bL(_),u_cutoff_params:new o.bP(_),u_colorization_mix:new o.bP(_),u_colorization_offset:new o.bN(_),u_color_ramp:new o.bO(_),u_texture_offset:new o.bL(_),u_texture_res:new o.bL(_),u_emissive_strength:new o.bN(_)}),rasterParticle:_=>({u_matrix:new o.bK(_),u_normalize_matrix:new o.bK(_),u_globe_matrix:new o.bK(_),u_merc_matrix:new o.bK(_),u_grid_matrix:new o.cb(_),u_tl_parent:new o.bL(_),u_scale_parent:new o.bN(_),u_fade_t:new o.bN(_),u_opacity:new o.bN(_),u_image0:new o.bO(_),u_image1:new o.bO(_),u_raster_elevation:new o.bN(_),u_zoom_transition:new o.bN(_),u_merc_center:new o.bL(_),u_cutoff_params:new o.bP(_)}),rasterParticleTexture:_=>({u_texture:new o.bO(_),u_opacity:new o.bN(_)}),rasterParticleDraw:_=>({u_tile_offset:new o.bL(_),u_velocity:new o.bO(_),u_color_ramp:new o.bO(_),u_velocity_res:new o.bL(_),u_max_speed:new o.bN(_),u_texture_offset:new o.bL(_),u_data_scale:new o.bP(_),u_data_offset:new o.bN(_)}),rasterParticleUpdate:_=>({u_velocity:new o.bO(_),u_velocity_res:new o.bL(_),u_max_speed:new o.bN(_),u_speed_factor:new o.bN(_),u_lifetime_delta:new o.bN(_),u_rand_seed:new o.bN(_),u_texture_offset:new o.bL(_),u_data_scale:new o.bP(_),u_data_offset:new o.bN(_)}),symbolIcon:_=>({u_is_size_zoom_constant:new o.bO(_),u_is_size_feature_constant:new o.bO(_),u_size_t:new o.bN(_),u_size:new o.bN(_),u_camera_to_center_distance:new o.bN(_),u_rotate_symbol:new o.bO(_),u_aspect_ratio:new o.bN(_),u_fade_change:new o.bN(_),u_matrix:new o.bK(_),u_label_plane_matrix:new o.bK(_),u_coord_matrix:new o.bK(_),u_is_text:new o.bO(_),u_pitch_with_map:new o.bO(_),u_texsize:new o.bL(_),u_tile_id:new o.bM(_),u_zoom_transition:new o.bN(_),u_inv_rot_matrix:new o.bK(_),u_merc_center:new o.bL(_),u_camera_forward:new o.bM(_),u_tile_matrix:new o.bK(_),u_up_vector:new o.bM(_),u_ecef_origin:new o.bM(_),u_texture:new o.bO(_),u_icon_transition:new o.bN(_),u_icon_saturation:new o.bN(_)}),symbolSDF:_=>({u_is_size_zoom_constant:new o.bO(_),u_is_size_feature_constant:new o.bO(_),u_size_t:new o.bN(_),u_size:new o.bN(_),u_camera_to_center_distance:new o.bN(_),u_rotate_symbol:new o.bO(_),u_aspect_ratio:new o.bN(_),u_fade_change:new o.bN(_),u_matrix:new o.bK(_),u_label_plane_matrix:new o.bK(_),u_coord_matrix:new o.bK(_),u_is_text:new o.bO(_),u_pitch_with_map:new o.bO(_),u_texsize:new o.bL(_),u_texture:new o.bO(_),u_gamma_scale:new o.bN(_),u_device_pixel_ratio:new o.bN(_),u_tile_id:new o.bM(_),u_zoom_transition:new o.bN(_),u_inv_rot_matrix:new o.bK(_),u_merc_center:new o.bL(_),u_camera_forward:new o.bM(_),u_tile_matrix:new o.bK(_),u_up_vector:new o.bM(_),u_ecef_origin:new o.bM(_),u_is_halo:new o.bO(_)}),symbolTextAndIcon:_=>({u_is_size_zoom_constant:new o.bO(_),u_is_size_feature_constant:new o.bO(_),u_size_t:new o.bN(_),u_size:new o.bN(_),u_camera_to_center_distance:new o.bN(_),u_rotate_symbol:new o.bO(_),u_aspect_ratio:new o.bN(_),u_fade_change:new o.bN(_),u_matrix:new o.bK(_),u_label_plane_matrix:new o.bK(_),u_coord_matrix:new o.bK(_),u_is_text:new o.bO(_),u_pitch_with_map:new o.bO(_),u_texsize:new o.bL(_),u_texsize_icon:new o.bL(_),u_texture:new o.bO(_),u_texture_icon:new o.bO(_),u_gamma_scale:new o.bN(_),u_device_pixel_ratio:new o.bN(_),u_is_halo:new o.bO(_)}),background:_=>({u_matrix:new o.bK(_),u_emissive_strength:new o.bN(_),u_opacity:new o.bN(_),u_color:new o.ca(_)}),backgroundPattern:_=>({u_matrix:new o.bK(_),u_emissive_strength:new o.bN(_),u_opacity:new o.bN(_),u_image:new o.bO(_),u_pattern_tl:new o.bL(_),u_pattern_br:new o.bL(_),u_texsize:new o.bL(_),u_pattern_size:new o.bL(_),u_pixel_coord_upper:new o.bL(_),u_pixel_coord_lower:new o.bL(_),u_tile_units_to_pixels:new o.bN(_)}),terrainRaster:VA,terrainDepth:VA,skybox:_=>({u_matrix:new o.bK(_),u_sun_direction:new o.bM(_),u_cubemap:new o.bO(_),u_opacity:new o.bN(_),u_temporal_offset:new o.bN(_)}),skyboxGradient:_=>({u_matrix:new o.bK(_),u_color_ramp:new o.bO(_),u_center_direction:new o.bM(_),u_radius:new o.bN(_),u_opacity:new o.bN(_),u_temporal_offset:new o.bN(_)}),skyboxCapture:_=>({u_matrix_3f:new o.cb(_),u_sun_direction:new o.bM(_),u_sun_intensity:new o.bN(_),u_color_tint_r:new o.bP(_),u_color_tint_m:new o.bP(_),u_luminance:new o.bN(_)}),globeRaster:_=>({u_proj_matrix:new o.bK(_),u_globe_matrix:new o.bK(_),u_normalize_matrix:new o.bK(_),u_merc_matrix:new o.bK(_),u_zoom_transition:new o.bN(_),u_merc_center:new o.bL(_),u_image0:new o.bO(_),u_grid_matrix:new o.cb(_),u_skirt_height:new o.bN(_),u_far_z_cutoff:new o.bN(_),u_frustum_tl:new o.bM(_),u_frustum_tr:new o.bM(_),u_frustum_br:new o.bM(_),u_frustum_bl:new o.bM(_),u_globe_pos:new o.bM(_),u_globe_radius:new o.bN(_),u_viewport:new o.bL(_)}),globeAtmosphere:_=>({u_frustum_tl:new o.bM(_),u_frustum_tr:new o.bM(_),u_frustum_br:new o.bM(_),u_frustum_bl:new o.bM(_),u_horizon:new o.bN(_),u_transition:new o.bN(_),u_fadeout_range:new o.bN(_),u_color:new o.bP(_),u_high_color:new o.bP(_),u_space_color:new o.bP(_),u_temporal_offset:new o.bN(_),u_horizon_angle:new o.bN(_)}),model:_=>({u_matrix:new o.bK(_),u_lighting_matrix:new o.bK(_),u_normal_matrix:new o.bK(_),u_lightpos:new o.bM(_),u_lightintensity:new o.bN(_),u_lightcolor:new o.bM(_),u_camera_pos:new o.bM(_),u_opacity:new o.bN(_),u_baseColorFactor:new o.bP(_),u_emissiveFactor:new o.bP(_),u_metallicFactor:new o.bN(_),u_roughnessFactor:new o.bN(_),u_baseTextureIsAlpha:new o.bO(_),u_alphaMask:new o.bO(_),u_alphaCutoff:new o.bN(_),u_baseColorTexture:new o.bO(_),u_metallicRoughnessTexture:new o.bO(_),u_normalTexture:new o.bO(_),u_occlusionTexture:new o.bO(_),u_emissionTexture:new o.bO(_),u_color_mix:new o.bP(_),u_aoIntensity:new o.bN(_),u_emissive_strength:new o.bN(_),u_occlusionTextureTransform:new o.bP(_)}),modelDepth:_=>({u_matrix:new o.bK(_),u_instance:new o.bK(_),u_node_matrix:new o.bK(_)}),groundShadow:_=>({u_matrix:new o.bK(_),u_ground_shadow_factor:new o.bM(_)}),stars:_=>({u_matrix:new o.bK(_),u_up:new o.bM(_),u_right:new o.bM(_),u_intensity_multiplier:new o.bN(_)})};let Yl;function Jl(_,d,f,x,M,T,L){const j=_.context,H=j.gl,G=_.transform,q=_.getOrCreateProgram("collisionBox"),J=[];let ie=0,se=0;for(let Pe=0;Pe<x.length;Pe++){const De=x[Pe],Ae=d.getTile(De),Le=Ae.getBucket(f);if(!Le)continue;const He=p_(De,Le,G);let Ge=He;M[0]===0&&M[1]===0||(Ge=_.translatePosMatrix(He,Ae,M,T));const Je=L?Le.textCollisionBox:Le.iconCollisionBox,xt=Le.collisionCircleArray;if(xt.length>0){const at=o.a6.create(),Nt=Ge;o.a6.mul(at,Le.placementInvProjMatrix,G.glCoordMatrix),o.a6.mul(at,at,Le.placementViewportMatrix),J.push({circleArray:xt,circleOffset:se,transform:Nt,invTransform:at,projection:Le.getProjection()}),ie+=xt.length/4,se=ie}Je&&(_.terrain&&_.terrain.setupElevationDraw(Ae,q),q.draw(_,H.LINES,Qn.disabled,gr.disabled,_.colorModeForRenderPass(),Rn.disabled,Ty(Ge,G,Ae,Le.getProjection()),f.id,Je.layoutVertexBuffer,Je.indexBuffer,Je.segments,null,G.zoom,null,[Je.collisionVertexBuffer,Je.collisionVertexBufferExt]))}if(!L||!J.length)return;const _e=_.getOrCreateProgram("collisionCircle"),ve=new o.cv;ve.resize(4*ie),ve._trim();let Se=0;for(const Pe of J)for(let De=0;De<Pe.circleArray.length/4;De++){const Ae=4*De,Le=Pe.circleArray[Ae+0],He=Pe.circleArray[Ae+1],Ge=Pe.circleArray[Ae+2],Je=Pe.circleArray[Ae+3];ve.emplace(Se++,Le,He,Ge,Je,0),ve.emplace(Se++,Le,He,Ge,Je,1),ve.emplace(Se++,Le,He,Ge,Je,2),ve.emplace(Se++,Le,He,Ge,Je,3)}(!Yl||Yl.length<2*ie)&&(Yl=function(Pe){const De=2*Pe,Ae=new o.aw;Ae.resize(De),Ae._trim();for(let Le=0;Le<De;Le++){const He=6*Le;Ae.uint16[He+0]=4*Le+0,Ae.uint16[He+1]=4*Le+1,Ae.uint16[He+2]=4*Le+2,Ae.uint16[He+3]=4*Le+2,Ae.uint16[He+4]=4*Le+3,Ae.uint16[He+5]=4*Le+0}return Ae}(ie));const pe=j.createIndexBuffer(Yl,!0),Ce=j.createVertexBuffer(ve,o.cw.members,!0);for(const Pe of J){const De={u_matrix:Pe.transform,u_inv_matrix:Pe.invTransform,u_camera_to_center_distance:(Re=G).getCameraToCenterDistance(Pe.projection),u_viewport_size:[Re.width,Re.height]};_e.draw(_,H.TRIANGLES,Qn.disabled,gr.disabled,_.colorModeForRenderPass(),Rn.disabled,De,f.id,Ce,pe,o.aB.simpleSegment(0,2*Pe.circleOffset,Pe.circleArray.length,Pe.circleArray.length/2),null,G.zoom)}var Re;Ce.destroy(),pe.destroy()}const du=o.a6.create();function bm(_){const d=_._camera.getWorldToCamera(_.worldSize,1),f=o.a6.multiply([],d,_.globeMatrix);o.a6.invert(f,f);const x=[0,0,0],M=[0,1,0,0];return o.a7.transformMat4(M,M,f),x[0]=M[0],x[1]=M[1],x[2]=M[2],o.N.normalize(x,x),x}function Dn({width:_,height:d,anchor:f,textOffset:x,textScale:M},T){const{horizontalAlign:L,verticalAlign:j}=o.bf(f),H=-(L-.5)*_,G=-(j-.5)*d,q=o.bd(f,x);return new o.P((H/M+q[0])*T,(G/M+q[1])*T)}function t5(_,d,f,x,M,T,L,j,H,G,q){const J=_.text.placedSymbolArray,ie=_.text.dynamicLayoutVertexArray,se=_.icon.dynamicLayoutVertexArray,_e={},ve=_.getProjection(),Se=om(j,ve,T),pe=T.elevation,Ce=ve.upVectorScale(j.canonical,T.center.lat,T.worldSize).metersToTile;ie.clear();for(let Re=0;Re<J.length;Re++){const Pe=J.get(Re),{tileAnchorX:De,tileAnchorY:Ae,numGlyphs:Le}=Pe,He=Pe.hidden||!Pe.crossTileID||_.allowVerticalPlacement&&!Pe.placedOrientation?null:x[Pe.crossTileID];if(He){let Ge=0,Je=0,xt=0;if(pe){const tn=pe?pe.getAtTileOffset(j,De,Ae):0,[yn,mn,Mn]=ve.upVector(j.canonical,De,Ae);Ge=tn*yn*Ce,Je=tn*mn*Ce,xt=tn*Mn*Ce}let[at,Nt,It,Yt]=Cl(Pe.projectedAnchorX+Ge,Pe.projectedAnchorY+Je,Pe.projectedAnchorZ+xt,f?Se:L);const ct=RA(T.getCameraToCenterDistance(ve),Yt);let Ct=M.evaluateSizeForFeature(_.textSizeData,G,Pe)*ct/o.bc;f&&(Ct*=_.tilePixelRatio/H);const Ye=Dn(He,Ct);f?({x:at,y:Nt,z:It}=ve.projectTilePoint(De+Ye.x,Ae+Ye.y,j.canonical),[at,Nt,It]=Cl(at+Ge,Nt+Je,It+xt,L)):(d&&Ye._rotate(-T.angle),at+=Ye.x,Nt+=Ye.y,It=0);const vt=_.allowVerticalPlacement&&Pe.placedOrientation===o.b6.vertical?Math.PI/2:0;for(let tn=0;tn<Le;tn++)o.b9(ie,at,Nt,It,vt);q&&Pe.associatedIconIndex>=0&&(_e[Pe.associatedIconIndex]={x:at,y:Nt,z:It,angle:vt})}else ud(Le,ie)}if(q){se.clear();const Re=_.icon.placedSymbolArray;for(let Pe=0;Pe<Re.length;Pe++){const De=Re.get(Pe),{numGlyphs:Ae}=De,Le=_e[Pe];if(De.hidden||!Le)ud(Ae,se);else{const{x:He,y:Ge,z:Je,angle:xt}=Le;for(let at=0;at<Ae;at++)o.b9(se,He,Ge,Je,xt)}}_.icon.dynamicLayoutVertexBuffer.updateData(se)}_.text.dynamicLayoutVertexBuffer.updateData(ie)}function Ny(_,d,f,x,M,T,L={}){const j=f.paint.get("icon-translate"),H=f.paint.get("text-translate"),G=f.paint.get("icon-translate-anchor"),q=f.paint.get("text-translate-anchor"),J=f.layout.get("icon-rotation-alignment"),ie=f.layout.get("text-rotation-alignment"),se=f.layout.get("icon-pitch-alignment"),_e=f.layout.get("text-pitch-alignment"),ve=f.layout.get("icon-keep-upright"),Se=f.layout.get("text-keep-upright"),pe=f.paint.get("icon-color-saturation"),Ce=_.context,Re=Ce.gl,Pe=_.transform,De=J==="map",Ae=ie==="map",Le=se==="map",He=_e==="map",Ge=f.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Je=!1;const xt=_.depthModeForSublayer(0,Qn.ReadOnly),at=[o.a5(Pe.center.lng),o.ae(Pe.center.lat)],Nt=f.layout.get("text-variable-anchor"),It=Pe.projection.name==="globe",Yt=[],ct=[0,-1,0];for(const Ct of x){const Ye=d.getTile(Ct),vt=Ye.getBucket(f);if(!vt||vt.projection.name==="mercator"&&It||vt.fullyClipped)continue;const tn=vt.projection.name==="globe",yn=tn?o.S(Pe.zoom):0,mn=om(Ct,vt.getProjection(),Pe),Mn=Pe.calculatePixelsToTileUnitsMatrix(Ye),Vn=Nt&&vt.hasTextData(),nr=vt.hasIconTextFit()&&Vn&&vt.hasIconData(),Xn=vt.getProjection().createInversionMatrix(Pe,Ct.canonical),Jn=()=>{const ho=De&&f.layout.get("symbol-placement")!=="point",Zr=[],oi=ho||nr,Ur=f.paint.get("icon-image-cross-fade").constantOr(0);_.terrainRenderModeElevated()&&Le&&Zr.push("PITCH_WITH_MAP_TERRAIN"),tn&&(Zr.push("PROJECTION_GLOBE_VIEW"),oi&&Zr.push("PROJECTED_POS_ON_VIEWPORT")),Ur>0&&Zr.push("ICON_TRANSITION"),vt.icon.zOffsetVertexBuffer&&Zr.push("Z_OFFSET"),pe<1&&Zr.push("SATURATION");const ii=vt.icon.programConfigurations.get(f.id),Vi=_.getOrCreateProgram(vt.sdfIcons?"symbolSDF":"symbolIcon",{config:ii,defines:Zr});let fi;const ma=Ye.imageAtlasTexture?Ye.imageAtlasTexture.size:[0,0],$a=vt.iconSizeData,Fs=o.b5($a,Pe.zoom),Lc=Le||Pe.pitch!==0,$s=rm(mn,Ye.tileID.canonical,Le,De,Pe,vt.getProjection(),Mn),ga=a_(mn,Ye.tileID.canonical,Le,De,Pe,vt.getProjection(),Mn),Jo=_.translatePosMatrix(ga,Ye,j,G,!0),ds=_.translatePosMatrix(mn,Ye,j,G),Cs=oi?du:$s,js=De&&!Le&&!ho;let Fc=ct;!It&&!Pe.mercatorFromTransition||De||(Fc=bm(Pe));const Sd=tn?Fc:ct;fi=vt.sdfIcons&&!vt.iconsInText?mm($a.kind,Fs,js,Le,_,ds,Cs,Jo,!1,ma,!0,Ct,yn,at,Xn,Sd,vt.getProjection()):Iy($a.kind,Fs,js,Le,_,ds,Cs,Jo,!1,ma,Ct,yn,at,Xn,Sd,vt.getProjection(),pe,Ur);const bh=Ye.imageAtlasTexture?Ye.imageAtlasTexture:null,$m=f.layout.get("icon-size").constantOr(0)!==1||vt.iconsNeedLinear,jm=vt.sdfIcons||_.options.rotating||_.options.zooming||$m||Lc?Re.LINEAR:Re.NEAREST,w1=vt.sdfIcons&&f.paint.get("icon-halo-width").constantOr(1)!==0,zm=_.terrain&&Le&&ho?o.a6.invert(o.a6.create(),$s):du;if(ho&&vt.icon){const Rp=Pe.elevation,Uy=Rp?Rp.getAtTileOffsetFunc(Ct,Pe.center.lat,Pe.worldSize,vt.getProjection()):null,mu=o_(mn,Ye.tileID.canonical,Le,De,Pe,vt.getProjection(),Mn);l_(vt,mn,_,!1,mu,ga,Le,ve,Uy,Ct)}return{program:Vi,buffers:vt.icon,uniformValues:fi,atlasTexture:bh,atlasTextureIcon:null,atlasInterpolation:jm,atlasInterpolationIcon:null,isSDF:vt.sdfIcons,hasHalo:w1,tile:Ye,labelPlaneMatrixInv:zm}},Nr=()=>{const ho=Ae&&f.layout.get("symbol-placement")!=="point",Zr=[],oi=ho||Nt||nr;_.terrainRenderModeElevated()&&He&&Zr.push("PITCH_WITH_MAP_TERRAIN"),tn&&(Zr.push("PROJECTION_GLOBE_VIEW"),oi&&Zr.push("PROJECTED_POS_ON_VIEWPORT")),vt.text.zOffsetVertexBuffer&&Zr.push("Z_OFFSET");const Ur=vt.text.programConfigurations.get(f.id),ii=_.getOrCreateProgram(vt.iconsInText?"symbolTextAndIcon":"symbolSDF",{config:Ur,defines:Zr});let Vi,fi=[0,0],ma=null;const $a=vt.textSizeData;vt.iconsInText&&(fi=Ye.imageAtlasTexture?Ye.imageAtlasTexture.size:[0,0],ma=Ye.imageAtlasTexture?Ye.imageAtlasTexture:null,Vi=He||Pe.pitch!==0||_.options.rotating||_.options.zooming||$a.kind==="composite"||$a.kind==="camera"?Re.LINEAR:Re.NEAREST);const Fs=Ye.glyphAtlasTexture?Ye.glyphAtlasTexture.size:[0,0],Lc=o.b5($a,Pe.zoom),$s=rm(mn,Ye.tileID.canonical,He,Ae,Pe,vt.getProjection(),Mn),ga=a_(mn,Ye.tileID.canonical,He,Ae,Pe,vt.getProjection(),Mn),Jo=_.translatePosMatrix(ga,Ye,H,q,!0),ds=_.translatePosMatrix(mn,Ye,H,q),Cs=oi?du:$s,js=Ae&&!He&&!ho;let Fc=ct;!It&&!Pe.mercatorFromTransition||Ae||(Fc=bm(Pe));const Sd=tn?Fc:ct;let bh;bh=vt.iconsInText?Oy($a.kind,Lc,js,He,_,ds,Cs,Jo,Fs,fi,Ct,yn,at,Xn,Sd,vt.getProjection()):mm($a.kind,Lc,js,He,_,ds,Cs,Jo,!0,Fs,!0,Ct,yn,at,Xn,Sd,vt.getProjection());const $m=Ye.glyphAtlasTexture?Ye.glyphAtlasTexture:null,jm=Re.LINEAR,w1=f.paint.get("text-halo-width").constantOr(1)!==0,zm=_.terrain&&He&&ho?o.a6.invert(o.a6.create(),$s):du;if(ho&&vt.text){const Rp=Pe.elevation,Uy=Rp?Rp.getAtTileOffsetFunc(Ct,Pe.center.lat,Pe.worldSize,vt.getProjection()):null,mu=o_(mn,Ye.tileID.canonical,He,Ae,Pe,vt.getProjection(),Mn);l_(vt,mn,_,!0,mu,ga,He,Se,Uy,Ct)}return{program:ii,buffers:vt.text,uniformValues:bh,atlasTexture:$m,atlasTextureIcon:ma,atlasInterpolation:jm,atlasInterpolationIcon:Vi,isSDF:!0,hasHalo:w1,tile:Ye,labelPlaneMatrixInv:zm}},br=vt.icon.segments.get().length,Tr=vt.text.segments.get().length,Cr=br&&!L.onlyText?Jn():null,Jr=Tr&&!L.onlyIcons?Nr():null,Fi=f.paint.get("icon-opacity").constantOr(1),yi=f.paint.get("text-opacity").constantOr(1);if(Ge&&vt.canOverlap){Je=!0;const ho=Fi&&!L.onlyText?vt.icon.segments.get():[],Zr=yi&&!L.onlyIcons?vt.text.segments.get():[];for(const oi of ho)Yt.push({segments:new o.aB([oi]),sortKey:oi.sortKey,state:Cr});for(const oi of Zr)Yt.push({segments:new o.aB([oi]),sortKey:oi.sortKey,state:Jr})}else L.onlyText||Yt.push({segments:Fi?vt.icon.segments:new o.aB([]),sortKey:0,state:Cr}),L.onlyIcons||Yt.push({segments:yi?vt.text.segments:new o.aB([]),sortKey:0,state:Jr})}Je&&Yt.sort((Ct,Ye)=>Ct.sortKey-Ye.sortKey);for(const Ct of Yt){const Ye=Ct.state;if(Ye)if(_.terrain&&_.terrain.setupElevationDraw(Ye.tile,Ye.program,{useDepthForOcclusion:Pe.depthOcclusionForSymbolsAndCircles,labelPlaneMatrixInv:Ye.labelPlaneMatrixInv}),Ce.activeTexture.set(Re.TEXTURE0),Ye.atlasTexture&&Ye.atlasTexture.bind(Ye.atlasInterpolation,Re.CLAMP_TO_EDGE,!0),Ye.atlasTextureIcon&&(Ce.activeTexture.set(Re.TEXTURE1),Ye.atlasTextureIcon&&Ye.atlasTextureIcon.bind(Ye.atlasInterpolationIcon,Re.CLAMP_TO_EDGE,!0)),_.uploadCommonLightUniforms(_.context,Ye.program),Ye.hasHalo){const vt=Ye.uniformValues;vt.u_is_halo=1,md(Ye.buffers,Ct.segments,f,_,Ye.program,xt,M,T,vt,2),vt.u_is_halo=0}else{if(Ye.isSDF){const vt=Ye.uniformValues;Ye.hasHalo&&(vt.u_is_halo=1,md(Ye.buffers,Ct.segments,f,_,Ye.program,xt,M,T,vt,1)),vt.u_is_halo=0}md(Ye.buffers,Ct.segments,f,_,Ye.program,xt,M,T,Ye.uniformValues,1)}}}function md(_,d,f,x,M,T,L,j,H,G){const q=[_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer,_.iconTransitioningVertexBuffer,_.globeExtVertexBuffer,_.zOffsetVertexBuffer];M.draw(x,x.context.gl.TRIANGLES,T,L,j,Rn.disabled,H,f.id,_.layoutVertexBuffer,_.indexBuffer,d,f.paint,x.transform.zoom,_.programConfigurations.get(f.id),q,G)}function mh(_,d,f,x,M,T,L){const j=_.context.gl,H=f.paint.get("fill-pattern"),G=H&&H.constantOr(1);let q,J,ie,se,_e;L?(J=G&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",q=j.LINES):(J=G?"fillPattern":"fill",q=j.TRIANGLES);for(const ve of x){const Se=d.getTile(ve);if(G&&!Se.patternsLoaded())continue;const pe=Se.getBucket(f);if(!pe)continue;_.prepareDrawTile();const Ce=pe.programConfigurations.get(f.id),Re=_.isTileAffectedByFog(ve),Pe=_.getOrCreateProgram(J,{config:Ce,overrideFog:Re});G&&(_.context.activeTexture.set(j.TEXTURE0),Se.imageAtlasTexture&&Se.imageAtlasTexture.bind(j.LINEAR,j.CLAMP_TO_EDGE),Ce.updatePaintBuffers());const De=H.constantOr(null);if(De&&Se.imageAtlas){const He=Se.imageAtlas.patternPositions[De.toString()];He&&Ce.setConstantPatternPositions(He)}const Ae=_.translatePosMatrix(ve.projMatrix,Se,f.paint.get("fill-translate"),f.paint.get("fill-translate-anchor")),Le=f.paint.get("fill-emissive-strength");if(L){se=pe.indexBuffer2,_e=pe.segments2;const He=_.terrain&&_.terrain.renderingToTexture?_.terrain.drapeBufferSize:[j.drawingBufferWidth,j.drawingBufferHeight];ie=J==="fillOutlinePattern"&&G?XA(Ae,Le,_,Se,He):fh(Ae,Le,He)}else se=pe.indexBuffer,_e=pe.segments,ie=G?Z_(Ae,Le,_,Se):Pp(Ae,Le);_.uploadCommonUniforms(_.context,Pe,ve.toUnwrapped()),Pe.draw(_,q,M,_.stencilModeForClipping(ve),T,Rn.disabled,ie,f.id,pe.layoutVertexBuffer,se,_e,f.paint,_.transform.zoom,Ce,void 0)}}function Gn(_,d,f,x,M,T,L,j){f.resetLayerRenderingStats(_);const H=_.context,G=H.gl,q=_.transform,J=f.paint.get("fill-extrusion-pattern"),ie=J.constantOr(1),se=f.paint.get("fill-extrusion-opacity"),_e=_.style.enable3dLights(),ve=f.paint.get(_e&&!ie?"fill-extrusion-ambient-occlusion-wall-radius":"fill-extrusion-ambient-occlusion-radius"),Se=[f.paint.get("fill-extrusion-ambient-occlusion-intensity"),ve],pe=f.layout.get("fill-extrusion-edge-radius"),Ce=pe>0&&!f.paint.get("fill-extrusion-rounded-roof"),Re=Ce?0:pe,Pe=q.projection.name==="globe"?o.cF():0,De=q.projection.name==="globe",Ae=De?o.S(q.zoom):0,Le=[o.a5(q.center.lng),o.ae(q.center.lat)],He=f.paint.get("fill-extrusion-flood-light-color").toArray01().slice(0,3),Ge=f.paint.get("fill-extrusion-flood-light-intensity"),Je=f.paint.get("fill-extrusion-vertical-scale"),xt=hd(_,f.paint.get("fill-extrusion-cutoff-fade-range")),at=f.paint.get("fill-extrusion-emissive-strength"),Nt=[];let It;De&&Nt.push("PROJECTION_GLOBE_VIEW"),Se[0]>0&&Nt.push("FAUX_AO"),Ce&&Nt.push("ZERO_ROOF_RADIUS"),j&&Nt.push("HAS_CENTROID"),Ge>0&&Nt.push("FLOOD_LIGHT"),xt.shouldRenderCutoff&&Nt.push("RENDER_CUTOFF");const Yt=_.renderPass==="shadow",ct=_.shadowRenderer,Ct=Yt&&!!ct;_.shadowRenderer&&(_.shadowRenderer.useNormalOffset=!0);let Ye=[0,0,0];if(ct){const yn=_.style.directionalLight,mn=_.style.ambientLight;yn&&mn&&(Ye=dm(yn,mn)),It=Nt.concat(["SHADOWS_SINGLE_CASCADE"])}const vt=Ct?"fillExtrusionDepth":ie?"fillExtrusionPattern":"fillExtrusion",tn=f.getLayerRenderingStats();for(const yn of x){const mn=d.getTile(yn),Mn=mn.getBucket(f);if(!Mn||Mn.projection.name!==q.projection.name)continue;let Vn=!1;ct&&(Vn=ct.getMaxCascadeForTile(yn.toUnwrapped())===0);const nr=_.isTileAffectedByFog(yn),Xn=Mn.programConfigurations.get(f.id),Jn=_.getOrCreateProgram(vt,{config:Xn,defines:Vn?It:Nt,overrideFog:nr});if(_.terrain&&_.terrain.setupElevationDraw(mn,Jn,{useMeterToDem:!0}),!Mn.centroidVertexBuffer){const Fi=Jn.attributes.a_centroid_pos;Fi!==void 0&&G.vertexAttrib2f(Fi,0,0)}!Yt&&ct&&ct.setupShadows(mn.tileID.toUnwrapped(),Jn,"vector-tile",mn.tileID.overscaledZ),ie&&(_.context.activeTexture.set(G.TEXTURE0),mn.imageAtlasTexture&&mn.imageAtlasTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),Xn.updatePaintBuffers());const Nr=J.constantOr(null);if(Nr&&mn.imageAtlas){const Fi=mn.imageAtlas.patternPositions[Nr.toString()];Fi&&Xn.setConstantPatternPositions(Fi)}const br=f.paint.get("fill-extrusion-vertical-gradient");let Tr;if(Yt&&ct){if(r5(mn.tileID,Mn,_))continue;const Fi=ct.calculateShadowPassMatrixFromTile(mn.tileID.toUnwrapped());Tr=B_(Fi,Re,Je)}else{const Fi=_.translatePosMatrix(yn.expandedProjMatrix,mn,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),yi=q.projection.createInversionMatrix(q,yn.canonical);Tr=ie?ph(Fi,_,br,se,Se,Re,yn,mn,Pe,Ae,Le,yi,He,Je):z_(Fi,_,br,se,Se,Re,yn,Pe,Ae,Le,yi,He,Je,Ge,Ye,at)}_.uploadCommonUniforms(H,Jn,yn.toUnwrapped(),null,xt);let Cr=Mn.segments;if(q.projection.name==="mercator"&&!Yt&&(Cr=Mn.getVisibleSegments(mn.tileID,_.terrain,_.transform.getFrustum(0)),!Cr.get().length))continue;if(tn)if(Yt)for(const Fi of Cr.get())tn.numRenderedVerticesInShadowPass+=Fi.primitiveLength;else for(const Fi of Cr.get())tn.numRenderedVerticesInTransparentPass+=Fi.primitiveLength;const Jr=[];(_.terrain||j)&&Jr.push(Mn.centroidVertexBuffer),De&&Jr.push(Mn.layoutVertexExtBuffer),Jn.draw(_,H.gl.TRIANGLES,M,T,L,Rn.backCCW,Tr,f.id,Mn.layoutVertexBuffer,Mn.indexBuffer,Cr,f.paint,_.transform.zoom,Xn,Jr)}_.shadowRenderer&&(_.shadowRenderer.useNormalOffset=!1)}function gd(_,d,f,x,M,T,L,j,H,G,q,J,ie,se,_e,ve,Se,pe,Ce){const Re=_.context,Pe=Re.gl,De=_.transform,Ae=_.transform.zoom,Le=[],He=hd(_,f.paint.get("fill-extrusion-cutoff-fade-range"));G==="clear"?(Le.push("CLEAR_SUBPASS"),Ce&&(Le.push("CLEAR_FROM_TEXTURE"),Re.activeTexture.set(Pe.TEXTURE0),Ce.bind(Pe.LINEAR,Pe.CLAMP_TO_EDGE))):G==="sdf"&&Le.push("SDF_SUBPASS"),Se&&Le.push("HAS_CENTROID"),He.shouldRenderCutoff&&Le.push("RENDER_CUTOFF");const Ge=f.layout.get("fill-extrusion-edge-radius"),Je=(xt,at,Nt,It,Yt)=>{const ct=at.programConfigurations.get(f.id),Ct=_.isTileAffectedByFog(xt),Ye=_.getOrCreateProgram("fillExtrusionGroundEffect",{config:ct,defines:Le,overrideFog:Ct}),vt=((yn,mn,Mn,Vn,nr,Xn,Jn,Nr,br,Tr,Cr)=>({u_matrix:mn,u_opacity:Mn,u_ao_pass:Vn?1:0,u_meter_to_tile:nr,u_ao:Xn,u_flood_light_intensity:Jn,u_flood_light_color:Nr,u_attenuation:br,u_edge_radius:Tr,u_fb:0,u_fb_size:Cr}))(0,It,q,H,Yt,[J,ie*Yt],se,_e,ve,Ae>=17?0:Ge*Yt,Ce?Ce.size[0]:0),tn=[];Se&&tn.push(at.hiddenByLandmarkVertexBuffer),_.uploadCommonUniforms(Re,Ye,xt.toUnwrapped(),null,He),Ye.draw(_,Re.gl.TRIANGLES,M,T,L,j,vt,f.id,at.vertexBuffer,at.indexBuffer,Nt,f.paint,Ae,ct,tn)};for(const xt of x){const at=d.getTile(xt),Nt=at.getBucket(f);if(!Nt||Nt.projection.name!==De.projection.name||!Nt.groundEffect||Nt.groundEffect&&!Nt.groundEffect.hasData())continue;const It=Nt.groundEffect,Yt=1/Nt.tileToMeter;{const ct=_.translatePosMatrix(xt.projMatrix,at,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),Ct=It.getDefaultSegment();Je(xt,It,Ct,ct,Yt)}if(pe)for(let ct=0;ct<4;ct++){const Ct=o.cG[ct](xt),Ye=d.getTile(Ct);if(!Ye)continue;const vt=Ye.getBucket(f);if(!vt||vt.projection.name!==De.projection.name||!vt.groundEffect||vt.groundEffect&&!vt.groundEffect.hasData())continue;const tn=vt.groundEffect;let yn,mn;ct===0?(yn=[-o.V,0,0],mn=1):ct===1?(yn=[o.V,0,0],mn=0):ct===2?(yn=[0,-o.V,0],mn=3):(yn=[0,o.V,0],mn=2);const Mn=tn.regionSegments[mn];if(!Mn)continue;const Vn=new Float32Array(16);o.a6.translate(Vn,xt.projMatrix,yn),Je(xt,tn,Mn,_.translatePosMatrix(Vn,at,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),Yt)}}}function _I(_,d,f,x,M,T,L){x.centroidVertexArray.length===0&&x.createCentroidsBuffer();const j=T?T.findDEMTileFor(f):null;if(!(j&&j.dem||L))return;const H=pe=>new o.P(Math.ceil((pe+o.cJ)*o.cK),0),G=pe=>{const Ce=d.getSource().minzoom,Re=De=>{const Ae=d.getTileByID(De);if(Ae&&Ae.hasData())return Ae.getBucket(M)},Pe=[0,-1,1];for(const De of Pe){if(pe.overscaledZ+De<Ce)continue;const Ae=Re(pe.calculateScaledKey(pe.overscaledZ+De));if(Ae)return Ae}},q=[0,0,0],J=(pe,Ce)=>(q[0]=Math.min(pe.min.y,Ce.min.y),q[1]=Math.max(pe.max.y,Ce.max.y),q[2]=o.V-Ce.min.x>pe.max.x?Ce.min.x-o.V:pe.max.x,q),ie=(pe,Ce)=>(q[0]=Math.min(pe.min.x,Ce.min.x),q[1]=Math.max(pe.max.x,Ce.max.x),q[2]=o.V-Ce.min.y>pe.max.y?Ce.min.y-o.V:pe.max.y,q),se=[(pe,Ce)=>J(pe,Ce),(pe,Ce)=>J(Ce,pe),(pe,Ce)=>ie(pe,Ce),(pe,Ce)=>ie(Ce,pe)],_e=(pe,Ce,Re,Pe,De,Ae,Le)=>{if(!T)return 0;const He=[[Ae?Re:pe,Ae?pe:Re,0],[Ae?Re:Ce,Ae?Ce:Re,0]],Ge=Le<0?o.V+Le:Le,Je=[Ae?Ge:(pe+Ce)/2,Ae?(pe+Ce)/2:Ge,0];return Re===0&&Le<0||Re!==0&&Le>0?T.getForTilePoints(De,[Je],!0,Pe):He.push(Je),T.getForTilePoints(f,He,!0,j),Math.max(He[0][2],He[1][2],Je[2])/T.exaggeration()};for(let pe=0;pe<4;pe++){const Ce=x.borderFeatureIndices[pe];if(Ce.length===0)continue;const Re=o.cG[pe](f),Pe=G(Re);if(!(Pe&&Pe instanceof o.cH)||x.borderDoneWithNeighborZ[pe]===Pe.canonical.z)continue;Pe.centroidVertexArray.length===0&&Pe.createCentroidsBuffer();const De=T?T.findDEMTileFor(Re):null;if(!(De&&De.dem||L))continue;const Ae=(pe<2?1:5)-pe,Le=Pe.borderDoneWithNeighborZ[Ae]!==x.canonical.z,He=Pe.borderFeatureIndices[Ae];let Ge=0;if(x.canonical.z!==Pe.canonical.z){for(const Je of Ce)x.showCentroid(x.featuresOnBorder[Je]);if(Le)for(const Je of He)Pe.showCentroid(Pe.featuresOnBorder[Je]);x.borderDoneWithNeighborZ[pe]=Pe.canonical.z,Pe.borderDoneWithNeighborZ[Ae]=x.canonical.z}for(const Je of Ce){const xt=x.featuresOnBorder[Je],at=x.centroidData[xt.centroidDataIndex],Nt=xt.borders[pe];let It;for(;Ge<He.length;){It=Pe.featuresOnBorder[He[Ge]];const Yt=It.borders[Ae];if(Yt[1]>Nt[0]+3||Yt[0]>Nt[0]-3)break;Pe.showCentroid(It),Ge++}if(It&&Ge<He.length){const Yt=Ge;let ct=0;for(;!(It.borders[Ae][0]>Nt[1]-3)&&(ct++,++Ge!==He.length);)It=Pe.featuresOnBorder[He[Ge]];if(It=Pe.featuresOnBorder[He[Yt]],ct>1){const vt=It.borders[Ae];Math.abs(Nt[0]-vt[0])<3&&Math.abs(Nt[1]-vt[1])<3&&(ct=1,Ge=Yt+1)}else if(ct===0){x.showCentroid(xt);continue}const Ct=Pe.centroidData[It.centroidDataIndex];L&&ct===1&&(((ve=at).flags|(Se=Ct).flags)&o.cI?(ve.flags|=o.cI,Se.flags|=o.cI):(ve.flags&=~o.cI,Se.flags&=~o.cI));const Ye=xt.intersectsCount()>1||It.intersectsCount()>1;if(ct>1)Ge=Yt,at.centroidXY=Ct.centroidXY=new o.P(0,0);else if(De&&De.dem&&!Ye){const vt=se[pe](at,Ct),tn=pe%2?o.V-1:0,yn=_e(vt[0],Math.min(o.V-1,vt[1]),tn,De,Re,pe<2,vt[2]);at.centroidXY=Ct.centroidXY=H(yn)}else Ye?at.centroidXY=Ct.centroidXY=new o.P(0,0):(at.centroidXY=x.encodeBorderCentroid(xt),Ct.centroidXY=Pe.encodeBorderCentroid(It));x.writeCentroidToBuffer(at),Pe.writeCentroidToBuffer(Ct)}else x.showCentroid(xt)}x.borderDoneWithNeighborZ[pe]=Pe.canonical.z,Pe.borderDoneWithNeighborZ[Ae]=x.canonical.z}var ve,Se;(x.needsCentroidUpdate||!x.centroidVertexBuffer&&x.centroidVertexArray.length!==0)&&x.uploadCentroid(_)}const xI=[1,0,0],G_=[0,1,0],n5=[0,0,1];function r5(_,d,f){const x=f.transform,M=f.shadowRenderer;if(!M)return!0;const T=_.toUnwrapped(),L=x.tileSize*M._cascades[f.currentShadowCascade].scale;let j=d.maxHeight;if(x.elevation){const ve=x.elevation.getMinMaxForTile(_);ve&&(j+=ve.max)}const H=[...M.shadowDirection];H[2]=-H[2];const G=M.computeSimplifiedTileShadowVolume(T,j,L,H);if(!G)return!1;const q=[xI,G_,n5,H,[H[0],0,H[2]],[0,H[1],H[2]]],J=x.projection.name==="globe",ie=x.scaleZoom(L),se=o.bq.fromInvProjectionMatrix(x.invProjMatrix,x.worldSize,ie,!J),_e=M.getCurrentCascadeFrustum();return se.intersectsPrecise(G.vertices,G.planes,q)===0||_e.intersectsPrecise(G.vertices,G.planes,q)===0}function i5(_){return[_[0]*o.cL,_[1]*o.cL,_[2]*o.cL,0]}function K_(_,d,f,x,M,T,L,j,H){const G=x.getSource(),q=f.globeSharedBuffers;if(!q)return;let J,ie,se;if(d&&(J=x.getTile(d)),G instanceof o.ap?(ie=G.texture,se=o.cj(0,0,f.transform)):J&&d&&(ie=J.texture,se=o.cj(d.canonical.z,d.canonical.x,f.transform)),!ie||!se)return;_||(se=o.a6.scale(o.a6.create(),se,[1,-1,1]));const _e=f.context,ve=_e.gl,Se=M.paint.get("raster-resampling")==="nearest"?ve.NEAREST:ve.LINEAR,pe=f.colorModeForDrapableLayerRenderPass(T),Ce=L.defines;Ce.push("GLOBE_POLES");const Re=new Qn(ve.LEQUAL,Qn.ReadWrite,f.depthRangeFor3D),Pe=Float32Array.from(f.transform.expandedFarZProjMatrix),De=Float32Array.from(o.aT(o.ci(new o.bs(0,0,0))));f.terrain&&f.terrain.prepareDrawTile(),_e.activeTexture.set(ve.TEXTURE0),ie.bind(Se,ve.CLAMP_TO_EDGE),_e.activeTexture.set(ve.TEXTURE1),ie.bind(Se,ve.CLAMP_TO_EDGE),ie.useMipmap&&_e.extTextureFilterAnisotropic&&f.transform.pitch>20&&ve.texParameterf(ve.TEXTURE_2D,_e.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,_e.extTextureFilterAnisotropicMax);const[Ae,Le,He,Ge]=d?q.getPoleBuffers(d.canonical.z,!1):q.getPoleBuffers(0,!0),Je=M.paint.get("raster-elevation");let xt;_?(xt=Ae,f.renderDefaultNorthPole=Je!==0):(xt=Le,f.renderDefaultSouthPole=Je!==0);const at=i5(L.mix),Nt=((Yt,ct,Ct,Ye,vt,tn,yn,mn,Mn,Vn,nr,Xn,Jn)=>V_(Yt,ct,Ct,new Float32Array(16),new Float32Array(9),[0,0],Ye,[0,0],[0,0,0,0],1,{opacity:1,mix:0},tn,[0,0],mn,2,Vn,nr,Xn,1,0,Jn))(Pe,De,se,o.S(f.transform.zoom),0,M,0,Je,0,at,L.offset,L.range,T),It=f.getOrCreateProgram("raster",{defines:Ce});f.uploadCommonUniforms(_e,It,null),It.draw(f,ve.TRIANGLES,Re,H,pe,j,Nt,M.id,xt,He,Ge)}function q_(_){const d=_._nearZ,f=_.projection.farthestPixelDistance(_),x=f-d,M=.2*_.height,T=d+M;return[d,f,(T-M-d)/x,(T-d)/x]}function X_(_,d,f,x){if(_)return d instanceof dt&&_ instanceof sh?d.getTextureDescriptor(_,f,!0):{texture:_.texture,mix:i5(x.mix),offset:x.offset,buffer:0,tileSize:1}}function Y_(_,d,f){if(!_)return null;const x=d.getTextureDescriptor(_,f,!0);if(!x)return null;let{texture:M,mix:T,offset:L,tileSize:j,buffer:H,format:G}=x;if(!M||!G)return null;let q=!1;return G==="uint32"&&(q=!0,T[3]=0,T=Py(o.cM,T,[0,f.paint.get("raster-particle-max-speed")]),L=JA(o.cM,L,[0,f.paint.get("raster-particle-max-speed")])),{texture:M,textureOffset:[H/(j+2*H),j/(j+2*H)],tileSize:j,scalarData:q,scale:T,offset:L,defines:["RASTER_ARRAY",{uint8:"DATA_FORMAT_UINT8",uint16:"DATA_FORMAT_UINT16",uint32:"DATA_FORMAT_UINT32"}[G]]}}function J_(_){const d=_._nearZ,f=_.projection.farthestPixelDistance(_),x=f-d,M=.2*_.height,T=d+M;return[d,f,(T-M-d)/x,(T-d)/x]}const Ds=new o.ax(1,0,0,1),yd=new o.ax(0,1,0,1),o5=new o.ax(0,0,1,1),Q_=new o.ax(1,0,1,1),e1=new o.ax(0,1,1,1);function vd(_,d,f,x,M,T,L){const j=_.context,H=_.transform,G=j.gl,q=H.projection.name==="globe",J=q?["PROJECTION_GLOBE_VIEW"]:[];let ie=o.a6.clone(f.projMatrix);if(q&&o.S(H.zoom)>0){const at=o.aS(f.canonical,H),Nt=o.cN(at);ie=o.a6.multiply(new Float32Array(16),H.globeMatrix,Nt),o.a6.multiply(ie,H.projMatrix,ie)}const se=o.a6.create();se[12]+=2*M/(o.f.devicePixelRatio*H.width),se[13]+=2*T/(o.f.devicePixelRatio*H.height),o.a6.multiply(ie,se,ie);const _e=_.getOrCreateProgram("debug",{defines:J}),ve=d.getTileByID(f.key);_.terrain&&_.terrain.setupElevationDraw(ve,_e);const Se=Qn.disabled,pe=gr.disabled,Ce=_.colorModeForRenderPass(),Re="$debug";j.activeTexture.set(G.TEXTURE0),_.emptyTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),q?ve._makeGlobeTileDebugBuffers(_.context,H):ve._makeDebugTileBoundsBuffers(_.context,H.projection);const Pe=ve._tileDebugBuffer||_.debugBuffer,De=ve._tileDebugIndexBuffer||_.debugIndexBuffer,Ae=ve._tileDebugSegments||_.debugSegments;if(_e.draw(_,G.LINE_STRIP,Se,pe,Ce,Rn.disabled,U_(ie,x),Re,Pe,De,Ae,null,null,null,[ve._globeTileDebugBorderBuffer]),L){const at=ve.latestRawTileData,Nt=Math.floor((at&&at.byteLength||0)/1024);let It=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(It+=` => ${f.overscaledZ}`),It+=` ${ve.state}`,It+=` ${Nt}kb`,function(Yt,ct){Yt.initDebugOverlayCanvas();const Ct=Yt.debugOverlayCanvas,Ye=Yt.context.gl,vt=Yt.debugOverlayCanvas.getContext("2d");vt.clearRect(0,0,Ct.width,Ct.height),vt.shadowColor="white",vt.shadowBlur=2,vt.lineWidth=1.5,vt.strokeStyle="white",vt.textBaseline="top",vt.font="bold 36px Open Sans, sans-serif",vt.fillText(ct,5,5),vt.strokeText(ct,5,5),Yt.debugOverlayTexture.update(Ct),Yt.debugOverlayTexture.bind(Ye.LINEAR,Ye.CLAMP_TO_EDGE)}(_,It)}const Le=d.getTile(f).tileSize,He=512/Math.min(Le,512)*(f.overscaledZ/H.zoom)*.5,Ge=ve._tileDebugTextBuffer||_.debugBuffer,Je=ve._tileDebugTextIndexBuffer||_.quadTriangleIndexBuffer,xt=ve._tileDebugTextSegments||_.debugSegments;_e.draw(_,G.TRIANGLES,Se,pe,xn.alphaBlended,Rn.disabled,U_(ie,o.ax.transparent,He),Re,Ge,Je,xt,null,null,null,[ve._globeTileDebugTextBuffer])}function t1(_,d,f,x){co(_,0,d+f/2,_.transform.width,f,x)}function ol(_,d,f,x){co(_,d-f/2,0,f,_.transform.height,x)}function co(_,d,f,x,M,T){const L=_.context,j=L.gl;j.enable(j.SCISSOR_TEST),j.scissor(d*o.f.devicePixelRatio,f*o.f.devicePixelRatio,x*o.f.devicePixelRatio,M*o.f.devicePixelRatio),L.clear({color:T}),j.disable(j.SCISSOR_TEST)}const Ry=o.ay([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:n1}=Ry;function hu(_,d,f,x){_.emplaceBack(d,f,x)}class r1{constructor(d){this.vertexArray=new o.az,this.indices=new o.aw,hu(this.vertexArray,-1,-1,1),hu(this.vertexArray,1,-1,1),hu(this.vertexArray,-1,1,1),hu(this.vertexArray,1,1,1),hu(this.vertexArray,-1,-1,-1),hu(this.vertexArray,1,-1,-1),hu(this.vertexArray,-1,1,-1),hu(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=d.createVertexBuffer(this.vertexArray,n1),this.indexBuffer=d.createIndexBuffer(this.indices),this.segment=o.aB.simpleSegment(0,0,36,12)}}function gh(_,d,f,x,M,T){const L=_.context.gl,j=d.paint.get("sky-atmosphere-color"),H=d.paint.get("sky-atmosphere-halo-color"),G=d.paint.get("sky-atmosphere-sun-intensity"),q=((J,ie,se,_e,ve)=>({u_matrix_3f:J,u_sun_direction:ie,u_sun_intensity:se,u_color_tint_r:[_e.r,_e.g,_e.b,_e.a],u_color_tint_m:[ve.r,ve.g,ve.b,ve.a],u_luminance:5e-5}))(o.co.fromMat4(o.co.create(),x),M,G,j,H);L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_CUBE_MAP_POSITIVE_X+T,d.skyboxTexture,0),f.draw(_,L.TRIANGLES,Qn.disabled,gr.disabled,xn.unblended,Rn.frontCW,q,"skyboxCapture",d.skyboxGeometry.vertexBuffer,d.skyboxGeometry.indexBuffer,d.skyboxGeometry.segment)}const wI=o.ay([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Ip{constructor(d){const f=new o.cO;f.emplaceBack(-1,1,1,0,0),f.emplaceBack(1,1,1,1,0),f.emplaceBack(1,-1,1,1,1),f.emplaceBack(-1,-1,1,0,1);const x=new o.aw;x.emplaceBack(0,1,2),x.emplaceBack(2,3,0),this.vertexBuffer=d.createVertexBuffer(f,wI.members),this.indexBuffer=d.createIndexBuffer(x),this.segments=o.aB.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const _m=o.ay([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_size_scale",components:1},{type:"Float32",name:"a_fade_opacity",components:1}]);class bn{constructor(){this.starsCount=16e3,this.sizeMultiplier=.15,this.sizeRange=100,this.intensityRange=200}}class ir{constructor(d){this.colorModeAlphaBlendedWriteRGB=new xn([1,Sl,1,Sl],o.ax.transparent,[!0,!0,!0,!1]),this.colorModeWriteAlpha=new xn([1,0,1,0],o.ax.transparent,[!1,!1,!1,!0]),this.params=new bn,this.updateNeeded=!0,d.tp.registerParameter(this.params,["Stars"],"starsCount",{min:100,max:16e3,step:1},()=>{this.updateNeeded=!0}),d.tp.registerParameter(this.params,["Stars"],"sizeMultiplier",{min:.01,max:2,step:.01}),d.tp.registerParameter(this.params,["Stars"],"sizeRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0}),d.tp.registerParameter(this.params,["Stars"],"intensityRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0})}update(d){const f=d.context;if(!this.atmosphereBuffer||this.updateNeeded){this.updateNeeded=!1,this.atmosphereBuffer=new Ip(f);const x=this.params.sizeRange,M=this.params.intensityRange,T=function(q){const J=o.aA(30),ie=[];for(let se=0;se<q;++se){const _e=2*Math.PI*J(),ve=Math.acos(1-2*J())-.5*Math.PI;ie.push(o.N.fromValues(Math.cos(ve)*Math.cos(_e),Math.cos(ve)*Math.sin(_e),Math.sin(ve)))}return ie}(this.params.starsCount),L=o.aA(300),j=new o.cP,H=new o.aw;let G=0;for(let q=0;q<T.length;++q){const J=o.N.scale([],T[q],200),ie=Math.max(0,1+.01*x*(1*L()-.5)),se=Math.max(0,1+.01*M*(1*L()-.5));j.emplaceBack(J[0],J[1],J[2],-1,-1,ie,se),j.emplaceBack(J[0],J[1],J[2],1,-1,ie,se),j.emplaceBack(J[0],J[1],J[2],1,1,ie,se),j.emplaceBack(J[0],J[1],J[2],-1,1,ie,se),H.emplaceBack(G+0,G+1,G+2),H.emplaceBack(G+0,G+2,G+3),G+=4}this.starsVx=f.createVertexBuffer(j,_m.members),this.starsIdx=f.createIndexBuffer(H),this.starsSegments=o.aB.simpleSegment(0,0,j.length,H.length)}}destroy(){this.atmosphereBuffer&&this.atmosphereBuffer.destroy(),this.starsVx&&this.starsVx.destroy(),this.starsIdx&&this.starsIdx.destroy()}drawAtmosphereGlow(d,f){const x=d.context,M=x.gl,T=d.transform,L=new Qn(M.LEQUAL,Qn.ReadOnly,[0,1]),j=o.S(T.zoom),H=f.properties.get("color").toArray01(),G=f.properties.get("high-color").toArray01(),q=f.properties.get("space-color").toArray01PremultipliedAlpha(),J=5e-4,ie=o.cQ(f.properties.get("horizon-blend"),0,1,J,.25),se=o.cd(d,x,T)&&ie===J?T.worldSize/(2*Math.PI*1.025)-1:T.globeRadius,_e=d.frameCounter/1e3%1,ve=o.N.length(T.globeCenterInViewSpace),Se=Math.sqrt(Math.pow(ve,2)-Math.pow(se,2)),pe=Math.acos(Se/ve),Ce=Re=>{const Pe=T.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"];Re&&Pe.push("ALPHA_PASS");const De=d.getOrCreateProgram("globeAtmosphere",{defines:Pe}),Ae=((He,Ge,Je,xt,at,Nt,It,Yt,ct,Ct,Ye,vt)=>({u_frustum_tl:He,u_frustum_tr:Ge,u_frustum_br:Je,u_frustum_bl:xt,u_horizon:at,u_transition:Nt,u_fadeout_range:It,u_color:Yt,u_high_color:ct,u_space_color:Ct,u_temporal_offset:Ye,u_horizon_angle:vt}))(T.frustumCorners.TL,T.frustumCorners.TR,T.frustumCorners.BR,T.frustumCorners.BL,T.frustumCorners.horizon,j,ie,H,G,q,_e,pe);d.uploadCommonUniforms(x,De);const Le=this.atmosphereBuffer;Le&&De.draw(d,M.TRIANGLES,L,gr.disabled,Re?this.colorModeWriteAlpha:this.colorModeAlphaBlendedWriteRGB,Rn.backCW,Ae,Re?"atmosphere_glow_alpha":"atmosphere_glow",Le.vertexBuffer,Le.indexBuffer,Le.segments)};Ce(!1),Ce(!0)}drawStars(d,f){const x=o.aa(f.properties.get("star-intensity"),0,1);if(x===0)return;const M=d.context,T=M.gl,L=d.transform,j=d.getOrCreateProgram("stars"),H=o.bi.identity([]);o.bi.rotateX(H,H,-L._pitch),o.bi.rotateZ(H,H,-L.angle),o.bi.rotateX(H,H,o.bj(L._center.lat)),o.bi.rotateY(H,H,-o.bj(L._center.lng));const G=o.a6.fromQuat(new Float32Array(16),H),q=o.a6.multiply([],L.starsProjMatrix,G),J=o.co.fromMat4([],G),ie=o.co.invert([],J),se=[0,1,0];o.N.transformMat3(se,se,ie),o.N.scale(se,se,this.params.sizeMultiplier);const _e=[1,0,0];o.N.transformMat3(_e,_e,ie),o.N.scale(_e,_e,this.params.sizeMultiplier);const ve=(Se=se,pe=_e,Ce=x,{u_matrix:Float32Array.from(q),u_up:Se,u_right:pe,u_intensity_multiplier:Ce});var Se,pe,Ce;d.uploadCommonUniforms(M,j),this.starsVx&&this.starsIdx&&j.draw(d,T.TRIANGLES,Qn.disabled,gr.disabled,this.colorModeAlphaBlendedWriteRGB,Rn.disabled,ve,"atmosphere_stars",this.starsVx,this.starsIdx,this.starsSegments)}}function yh(_,d){const f=[..._],x=d.cameraWorldSizeForFog/d.worldSize,M=o.a6.identity([]);return o.a6.scale(M,M,[x,x,1]),o.a6.multiply(f,M,f),o.a6.multiply(f,d.worldToFogMatrix,f),f}function uo(_,d,f,x){const M=f.material,T=x.context,{baseColorTexture:L,metallicRoughnessTexture:j}=M.pbrMetallicRoughness,{normalTexture:H,occlusionTexture:G,emissionTexture:q}=M;function J(ie,se,_e){if(ie&&(_.push(se),T.activeTexture.set(T.gl.TEXTURE0+_e),ie.gfxTexture)){const{minFilter:ve,magFilter:Se,wrapS:pe,wrapT:Ce}=ie.sampler;ie.gfxTexture.bindExtraParam(ve,Se,pe,Ce)}}J(L,"HAS_TEXTURE_u_baseColorTexture",Fa.BaseColor),J(j,"HAS_TEXTURE_u_metallicRoughnessTexture",Fa.MetallicRoughness),J(H,"HAS_TEXTURE_u_normalTexture",Fa.Normal),J(G,"HAS_TEXTURE_u_occlusionTexture",Fa.Occlusion),J(q,"HAS_TEXTURE_u_emissionTexture",Fa.Emission),f.texcoordBuffer&&(_.push("HAS_ATTRIBUTE_a_uv_2f"),d.push(f.texcoordBuffer)),f.colorBuffer&&(_.push(f.colorBuffer.itemSize===12?"HAS_ATTRIBUTE_a_color_3f":"HAS_ATTRIBUTE_a_color_4f"),d.push(f.colorBuffer)),f.normalBuffer&&(_.push("HAS_ATTRIBUTE_a_normal_3f"),d.push(f.normalBuffer)),f.pbrBuffer&&(_.push("HAS_ATTRIBUTE_a_pbr"),_.push("HAS_ATTRIBUTE_a_heightBasedEmissiveStrength"),d.push(f.pbrBuffer)),M.alphaMode!=="OPAQUE"&&M.alphaMode!=="MASK"||_.push("UNPREMULT_TEXTURE_IN_SHADER"),M.defined||_.push("DIFFUSE_SHADED"),_.push("USE_STANDARD_DERIVATIVES")}function xm(_,d,f,x,M,T){const L=f.paint.get("model-opacity"),j=d.context,H=new Qn(d.context.gl.LEQUAL,Qn.ReadWrite,d.depthRangeFor3D),G=d.transform,q=_.mesh,J=q.material,ie=J.pbrMetallicRoughness,se=d.style.fog;let _e;_e=d.transform.projection.zAxisUnit==="pixels"?[..._.nodeModelMatrix]:o.a6.multiply([],x.zScaleMatrix,_.nodeModelMatrix),o.a6.multiply(_e,x.negCameraPosMatrix,_e);const ve=o.a6.invert([],_e);o.a6.transpose(ve,ve);const Se=f.paint.get("model-emissive-strength").constantOr(0),pe=ky(new Float32Array(_.worldViewProjection),new Float32Array(_e),new Float32Array(ve),d,L,ie.baseColorFactor,J.emissiveFactor,ie.metallicFactor,ie.roughnessFactor,J,Se,f),Ce={defines:[]},Re=[];uo(Ce.defines,Re,q,d);const Pe=d.shadowRenderer;Pe&&(Pe.useNormalOffset=!1);let De=null;if(se){const He=yh(_.nodeModelMatrix,d.transform);if(De=new Float32Array(He),G.projection.name!=="globe"){const Ge=q.aabb.min,Je=q.aabb.max,[xt,at]=se.getOpacityForBounds(He,Ge[0],Ge[1],Je[0],Je[1]);Ce.overrideFog=xt>=ar||at>=ar}}const Ae=hd(d,f.paint.get("model-cutoff-fade-range"));Ae.shouldRenderCutoff&&Ce.defines.push("RENDER_CUTOFF");const Le=d.getOrCreateProgram("model",Ce);d.uploadCommonUniforms(j,Le,null,De,Ae),d.renderPass!=="shadow"&&Pe&&Pe.setupShadowsFromMatrix(_.nodeModelMatrix,Le),Le.draw(d,j.gl.TRIANGLES,H,M,T,q.material.doubleSided?Rn.disabled:Rn.backCCW,pe,f.id,q.vertexBuffer,q.indexBuffer,q.segments,f.paint,d.transform.zoom,void 0,Re)}function wm(_,d,f,x,M,T,L){let j;j=_.projection.name==="globe"?o.cS(f,_):[...f],o.a6.multiply(j,j,d.matrix);const H=o.a6.multiply([],x,j);if(d.meshes)for(const G of d.meshes){if(G.material.alphaMode!=="BLEND"){L.push({mesh:G,depth:0,modelIndex:M,worldViewProjection:H,nodeModelMatrix:j});continue}const q=o.N.transformMat4([],G.centroid,H);q[2]>0&&T.push({mesh:G,depth:q[2],modelIndex:M,worldViewProjection:H,nodeModelMatrix:j})}if(d.children)for(const G of d.children)wm(_,G,f,x,M,T,L)}function bt(_,d,f,x){const M=f.shadowRenderer;if(!M)return;const T=M.getShadowPassDepthMode(),L=M.getShadowPassColorMode(),j=M.calculateShadowPassMatrixFromMatrix(d),H=vm(j);f.getOrCreateProgram("modelDepth",{defines:f._shadowMapDebug?[]:["DEPTH_TEXTURE"]}).draw(f,f.context.gl.TRIANGLES,T,gr.disabled,L,Rn.backCCW,H,x.id,_.vertexBuffer,_.indexBuffer,_.segments,x.paint,f.transform.zoom,void 0,void 0)}function i1(_,d,f){const x=d.updateZoomBasedPaintProperties(),M=function(T,L,j){let H,G,q,J=T.terrain?T.terrain.exaggeration():0;if(T.terrain&&J>0){const ie=T.terrain,se=ie.findDEMTileFor(j);se&&se.dem?H=o.cU.create(ie,j,se):J=0}if(J===0&&(L.terrainElevationMin=0,L.terrainElevationMax=0),J===L.validForExaggeration&&(J===0||H&&H._demTile&&H._demTile.tileID===L.validForDEMTile.id&&H._dem._timestamp===L.validForDEMTile.timestamp))return!1;for(const ie in L.instancesPerModel){const se=L.instancesPerModel[ie];for(let _e=0;_e<se.instancedDataArray.length;++_e){const ve=(H?J*H.getElevationAt(0|se.instancedDataArray.float32[16*_e],0|se.instancedDataArray.float32[16*_e+1],!0,!0):0)+se.instancesEvaluatedElevation[_e];se.instancedDataArray.float32[16*_e+6]=ve,G=G?Math.min(L.terrainElevationMin,ve):ve,q=q?Math.max(L.terrainElevationMax,ve):ve}}return L.terrainElevationMin=G||0,L.terrainElevationMax=q||0,L.validForExaggeration=J,L.validForDEMTile=H&&H._demTile?{id:H._demTile.tileID,timestamp:H._dem._timestamp}:{id:void 0,timestamp:0},!0}(_,d,f);(x||M)&&(d.uploaded=!1,d.upload(_.context))}const al={shadowUniformsInitialized:!1,useSingleShadowCascade:!1,tileMatrix:new Float64Array(16),shadowTileMatrix:new Float32Array(16),aabb:new o.bS([0,0,0],[o.V,o.V,0])};function a5(_,d){const f=1<<_.canonical.z,x=d.getFreeCameraOptions().position,M=d.elevation,T=_.canonical.x/f,L=(_.canonical.x+1)/f,j=_.canonical.y/f,H=(_.canonical.y+1)/f;let G=d._centerAltitude;if(M){const se=M.getMinMaxForTile(_);se&&se.max>G&&(G=se.max)}const q=o.aa(x.x,T,L)-x.x,J=o.aa(x.y,j,H)-x.y,ie=o.bl(G,d.center.lat)-x.z;return d._zoomFromMercatorZ(Math.sqrt(q*q+J*J+ie*ie))}function o1(_,d,f,x,M,T,L){const j=_.context,H=_.renderPass==="shadow",G=_.shadowRenderer,q=H&&G?G.getShadowPassDepthMode():new Qn(j.gl.LEQUAL,Qn.ReadWrite,_.depthRangeFor3D),J=_.isTileAffectedByFog(T);if(f.meshes)for(const ie of f.meshes){const se=["MODEL_POSITION_ON_GPU"],_e=[];let ve,Se,pe;x.instancedDataArray.length>20&&se.push("INSTANCED_ARRAYS");const Ce=hd(_,d.paint.get("model-cutoff-fade-range"));if(Ce.shouldRenderCutoff&&se.push("RENDER_CUTOFF"),H&&G)ve=_.getOrCreateProgram("modelDepth",{defines:se}),Se=vm(L.shadowTileMatrix,L.shadowTileMatrix,Float32Array.from(f.matrix)),pe=G.getShadowPassColorMode();else{uo(se,_e,ie,_),ve=_.getOrCreateProgram("model",{defines:se,overrideFog:J});const Pe=ie.material,De=Pe.pbrMetallicRoughness,Ae=d.paint.get("model-opacity"),Le=d.paint.get("model-emissive-strength").constantOr(0);Se=ky(T.expandedProjMatrix,Float32Array.from(f.matrix),new Float32Array(16),_,Ae,De.baseColorFactor,Pe.emissiveFactor,De.metallicFactor,De.roughnessFactor,Pe,Le,d,M),G&&(L.shadowUniformsInitialized?ve.setShadowUniformValues(j,G.getShadowUniformValues()):(G.setupShadows(T.toUnwrapped(),ve,"model-tile",T.overscaledZ),L.shadowUniformsInitialized=!0)),pe=Ce.shouldRenderCutoff||Ae<1||Pe.alphaMode!=="OPAQUE"?xn.alphaBlended:xn.unblended}_.uploadCommonUniforms(j,ve,T.toUnwrapped(),null,Ce);const Re=ie.material.doubleSided?Rn.disabled:Rn.backCCW;if(x.instancedDataArray.length>20)_e.push(x.instancedDataBuffer),ve.draw(_,j.gl.TRIANGLES,q,gr.disabled,pe,Re,Se,d.id,ie.vertexBuffer,ie.indexBuffer,ie.segments,d.paint,_.transform.zoom,void 0,_e,x.instancedDataArray.length);else{const Pe=H?"u_instance":"u_normal_matrix";for(let De=0;De<x.instancedDataArray.length;++De)Se[Pe]=new Float32Array(x.instancedDataArray.arrayBuffer,64*De,16),ve.draw(_,j.gl.TRIANGLES,q,gr.disabled,pe,Re,Se,d.id,ie.vertexBuffer,ie.indexBuffer,ie.segments,d.paint,_.transform.zoom,void 0,_e)}}if(f.children)for(const ie of f.children)o1(_,d,ie,x,M,T,L)}const Op=[1,-1,1];function SI(_,d,f,x){if(!f.modelManager)return!0;const M=f.modelManager;if(!f.shadowRenderer)return!0;const T=f.shadowRenderer,L=d.aabb;let j=!0,H=_.maxHeight;if(H===0){let q=0;for(const J in _.instancesPerModel){const ie=M.getModel(J,x);ie?q=Math.max(q,Math.max(Math.max(ie.aabb.max[0],ie.aabb.max[1]),ie.aabb.max[2])):j=!1}H=_.maxScale*q*1.41+_.maxVerticalOffset,j&&(_.maxHeight=H)}L.max[2]=H,L.min[2]+=_.terrainElevationMin,L.max[2]+=_.terrainElevationMax,o.N.transformMat4(L.min,L.min,d.tileMatrix),o.N.transformMat4(L.max,L.max,d.tileMatrix);const G=L.intersects(T.getCurrentCascadeFrustum());return f.currentShadowCascade===0&&(_.isInsideFirstShadowMapFrustum=G===2),G===0}class AI{}class s5{constructor(){this._storage=new Map}getLinesFromTrianglesBuffer(d,f,x){{const J=this._storage.get(f.id);if(J)return J.lastUsedFrameIdx=d,J.buf}const M=x.gl,T=M.getBufferParameter(M.ELEMENT_ARRAY_BUFFER,M.BUFFER_SIZE),L=new ArrayBuffer(T),j=new Int16Array(L);M.getBufferSubData(M.ELEMENT_ARRAY_BUFFER,0,new Int16Array(L));const H=new o.cW;for(let J=0;J<T/2;J+=3){const ie=j[J],se=j[J+1],_e=j[J+2];H.emplaceBack(ie,se),H.emplaceBack(se,_e),H.emplaceBack(_e,ie)}const G=x.bindVertexArrayOES.current,q=new AI;return q.buf=new cn(x,H),q.lastUsedFrameIdx=d,this._storage.set(f.id,q),x.bindVertexArrayOES.set(G),q.buf}update(d){for(const[f,x]of this._storage)d-x.lastUsedFrameIdx>30&&(x.buf.destroy(),this._storage.delete(f))}destroy(){for(const[d,f]of this._storage)f.buf.destroy(),this._storage.delete(d)}}class Sm{registerParameter(d,f,x,M,T){}registerButton(d,f,x){}}const Am={symbol:function(_,d,f,x,M){if(_.renderPass!=="translucent")return;const T=gr.disabled,L=_.colorModeForRenderPass();f.layout.get("text-variable-anchor")&&function(G,q,J,ie,se,_e,ve){const Se=q.transform,pe=se==="map",Ce=_e==="map";for(const Re of G){const Pe=ie.getTile(Re),De=Pe.getBucket(J);if(!De||!De.text||!De.text.segments.get().length)continue;const Ae=o.b5(De.textSizeData,Se.zoom),Le=om(Re,De.getProjection(),Se),He=Se.calculatePixelsToTileUnitsMatrix(Pe),Ge=rm(Le,Pe.tileID.canonical,Ce,pe,Se,De.getProjection(),He),Je=De.hasIconTextFit()&&De.hasIconData();if(Ae){const xt=Math.pow(2,Se.zoom-Pe.tileID.overscaledZ);t5(De,pe,Ce,ve,o.cx,Se,Ge,Re,xt,Ae,Je)}}}(x,_,f,d,f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),M);const j=f.paint.get("icon-opacity").constantOr(1)!==0,H=f.paint.get("text-opacity").constantOr(1)!==0;f.layout.get("symbol-sort-key").constantOr(1)!==void 0&&(j||H)?Ny(_,d,f,x,T,L):(j&&Ny(_,d,f,x,T,L,{onlyIcons:!0}),H&&Ny(_,d,f,x,T,L,{onlyText:!0})),d.map.showCollisionBoxes&&(Jl(_,d,f,x,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),!0),Jl(_,d,f,x,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),!1))},circle:function(_,d,f,x){if(_.renderPass!=="translucent")return;const M=f.paint.get("circle-opacity"),T=f.paint.get("circle-stroke-width"),L=f.paint.get("circle-stroke-opacity"),j=f.layout.get("circle-sort-key").constantOr(1)!==void 0,H=f.paint.get("circle-emissive-strength");if(M.constantOr(1)===0&&(T.constantOr(1)===0||L.constantOr(1)===0))return;const G=_.context,q=G.gl,J=_.transform,ie=_.depthModeForSublayer(0,Qn.ReadOnly),se=gr.disabled,_e=_.colorModeForDrapableLayerRenderPass(H),ve=J.projection.name==="globe",Se=[o.a5(J.center.lng),o.ae(J.center.lat)],pe=[];for(let Re=0;Re<x.length;Re++){const Pe=x[Re],De=d.getTile(Pe),Ae=De.getBucket(f);if(!Ae||Ae.projection.name!==J.projection.name)continue;const Le=Ae.programConfigurations.get(f.id),He=o.cy(f),Ge=_.isTileAffectedByFog(Pe);ve&&He.push("PROJECTION_GLOBE_VIEW");const Je=_.getOrCreateProgram("circle",{config:Le,defines:He,overrideFog:Ge}),xt=Ae.layoutVertexBuffer,at=Ae.globeExtVertexBuffer,Nt=Ae.indexBuffer,It=J.projection.createInversionMatrix(J,Pe.canonical),Yt={programConfiguration:Le,program:Je,layoutVertexBuffer:xt,globeExtVertexBuffer:at,indexBuffer:Nt,uniformValues:o.cz(_,Pe,De,It,Se,f),tile:De};if(j){const ct=Ae.segments.get();for(const Ct of ct)pe.push({segments:new o.aB([Ct]),sortKey:Ct.sortKey,state:Yt})}else pe.push({segments:Ae.segments,sortKey:0,state:Yt})}j&&pe.sort((Re,Pe)=>Re.sortKey-Pe.sortKey);const Ce={useDepthForOcclusion:J.depthOcclusionForSymbolsAndCircles};for(const Re of pe){const{programConfiguration:Pe,program:De,layoutVertexBuffer:Ae,globeExtVertexBuffer:Le,indexBuffer:He,uniformValues:Ge,tile:Je}=Re.state,xt=Re.segments;_.terrain&&_.terrain.setupElevationDraw(Je,De,Ce),_.uploadCommonUniforms(G,De,Je.tileID.toUnwrapped()),De.draw(_,q.TRIANGLES,ie,se,_e,Rn.disabled,Ge,f.id,Ae,He,xt,f.paint,J.zoom,Pe,[Le])}},heatmap:function(_,d,f,x){if(f.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){const M=_.context,T=M.gl,L=gr.disabled,j=new xn([T.ONE,T.ONE,T.ONE,T.ONE],o.ax.transparent,[!0,!0,!0,!0]);(function(se,_e,ve,Se){const pe=se.gl,Ce=_e.width*Se,Re=_e.height*Se;se.activeTexture.set(pe.TEXTURE1),se.viewport.set([0,0,Ce,Re]);let Pe=ve.heatmapFbo;if(!Pe||Pe&&(Pe.width!==Ce||Pe.height!==Re)){Pe&&Pe.destroy();const De=pe.createTexture();pe.bindTexture(pe.TEXTURE_2D,De),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_WRAP_S,pe.CLAMP_TO_EDGE),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_WRAP_T,pe.CLAMP_TO_EDGE),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_MIN_FILTER,pe.LINEAR),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_MAG_FILTER,pe.LINEAR),Pe=ve.heatmapFbo=se.createFramebuffer(Ce,Re,!0,null),function(Ae,Le,He,Ge,Je,xt){const at=Ae.gl;at.texImage2D(at.TEXTURE_2D,0,Ae.extRenderToTextureHalfFloat?at.RGBA16F:at.RGBA,Je,xt,0,at.RGBA,Ae.extRenderToTextureHalfFloat?at.HALF_FLOAT:at.UNSIGNED_BYTE,null),Ge.colorAttachment.set(He)}(se,0,De,Pe,Ce,Re)}else pe.bindTexture(pe.TEXTURE_2D,Pe.colorAttachment.get()),se.bindFramebuffer.set(Pe.framebuffer)})(M,_,f,_.transform.projection.name==="globe"?.5:.25),M.clear({color:o.ax.transparent});const H=_.transform,G=H.projection.name==="globe",q=G?["PROJECTION_GLOBE_VIEW"]:[],J=G?Rn.frontCCW:Rn.disabled,ie=[o.a5(H.center.lng),o.ae(H.center.lat)];for(let se=0;se<x.length;se++){const _e=x[se];if(d.hasRenderableParent(_e))continue;const ve=d.getTile(_e),Se=ve.getBucket(f);if(!Se||Se.projection.name!==H.projection.name)continue;const pe=_.isTileAffectedByFog(_e),Ce=Se.programConfigurations.get(f.id),Re=_.getOrCreateProgram("heatmap",{config:Ce,defines:q,overrideFog:pe}),{zoom:Pe}=_.transform;_.terrain&&_.terrain.setupElevationDraw(ve,Re),_.uploadCommonUniforms(M,Re,_e.toUnwrapped());const De=H.projection.createInversionMatrix(H,_e.canonical);Re.draw(_,T.TRIANGLES,Qn.disabled,L,j,J,H_(_,_e,ve,De,ie,Pe,f.paint.get("heatmap-intensity")),f.id,Se.layoutVertexBuffer,Se.indexBuffer,Se.segments,f.paint,_.transform.zoom,Ce,G?[Se.globeExtVertexBuffer]:null)}M.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function(M,T){const L=M.context,j=L.gl,H=T.heatmapFbo;if(!H)return;L.activeTexture.set(j.TEXTURE0),j.bindTexture(j.TEXTURE_2D,H.colorAttachment.get()),L.activeTexture.set(j.TEXTURE1);let G=T.colorRampTexture;G||(G=T.colorRampTexture=new o.T(L,T.colorRamp,j.RGBA)),G.bind(j.LINEAR,j.CLAMP_TO_EDGE),M.getOrCreateProgram("heatmapTexture").draw(M,j.TRIANGLES,Qn.disabled,gr.disabled,M.colorModeForRenderPass(),Rn.disabled,((q,J,ie,se)=>({u_image:0,u_color_ramp:1,u_opacity:J.paint.get("heatmap-opacity")}))(0,T),T.id,M.viewportBuffer,M.quadTriangleIndexBuffer,M.viewportSegments,T.paint,M.transform.zoom)}(_,f))},line:function(_,d,f,x){if(_.renderPass!=="translucent")return;const M=f.paint.get("line-opacity"),T=f.paint.get("line-width");if(M.constantOr(1)===0||T.constantOr(1)===0)return;const L=f.paint.get("line-emissive-strength"),j=_.depthModeForSublayer(0,Qn.ReadOnly),H=_.colorModeForDrapableLayerRenderPass(L),G=_.terrain&&_.terrain.renderingToTexture?1:o.f.devicePixelRatio,q=f.paint.get("line-dasharray"),J=q.constantOr(1),ie=f.layout.get("line-cap"),se=f.paint.get("line-pattern"),_e=se.constantOr(1),ve=f.paint.get("line-pattern").constantOr(1),Se=f.paint.get("line-opacity").constantOr(1)!==1;let pe=!ve&&Se;const Ce=f.paint.get("line-gradient"),Re=_e?"linePattern":"line",Pe=_.context,De=Pe.gl,Ae=o.cA(f);_.terrain&&_.terrain.clipOrMaskOverlapStencilType()&&(pe=!1);for(const Le of x){const He=d.getTile(Le);if(_e&&!He.patternsLoaded())continue;const Ge=He.getBucket(f);if(!Ge)continue;_.prepareDrawTile();const Je=Ge.programConfigurations.get(f.id),xt=_.isTileAffectedByFog(Le),at=_.getOrCreateProgram(Re,{config:Je,defines:Ae,overrideFog:xt}),Nt=se.constantOr(null);if(Nt&&He.imageAtlas){const yn=He.imageAtlas.patternPositions[Nt.toString()];yn&&Je.setConstantPatternPositions(yn)}const It=q.constantOr(null),Yt=ie.constantOr(null);if(!_e&&It&&Yt&&He.lineAtlas){const yn=He.lineAtlas.getDash(It,Yt);yn&&Je.setConstantPatternPositions(yn)}let[ct,Ct]=f.paint.get("line-trim-offset");(Yt==="round"||Yt==="square")&&ct!==Ct&&(ct===0&&(ct-=1),Ct===1&&(Ct+=1));const Ye=_.terrain?Le.projMatrix:null,vt=_e?o.cB(_,He,f,Ye,G,[ct,Ct]):o.cC(_,He,f,Ye,Ge.lineClipsArray.length,G,[ct,Ct]);if(Ce){const yn=Ge.gradients[f.id];let mn=yn.texture;if(f.gradientVersion!==yn.version){let Mn=256;if(f.stepInterpolant){const Vn=d.getSource().maxzoom,nr=Le.canonical.z===Vn?Math.ceil(1<<_.transform.maxZoom-Le.canonical.z):1;Mn=o.aa(o.cD(Ge.maxLineLength/o.V*1024*nr),256,Pe.maxTextureSize)}yn.gradient=o.cE({expression:f.gradientExpression(),evaluationKey:"lineProgress",resolution:Mn,image:yn.gradient||void 0,clips:Ge.lineClipsArray}),yn.texture?yn.texture.update(yn.gradient):yn.texture=new o.T(Pe,yn.gradient,De.RGBA),yn.version=f.gradientVersion,mn=yn.texture}Pe.activeTexture.set(De.TEXTURE1),mn.bind(f.stepInterpolant?De.NEAREST:De.LINEAR,De.CLAMP_TO_EDGE)}J&&(Pe.activeTexture.set(De.TEXTURE0),He.lineAtlasTexture&&He.lineAtlasTexture.bind(De.LINEAR,De.REPEAT),Je.updatePaintBuffers()),_e&&(Pe.activeTexture.set(De.TEXTURE0),He.imageAtlasTexture&&He.imageAtlasTexture.bind(De.LINEAR,De.CLAMP_TO_EDGE),Je.updatePaintBuffers()),_.uploadCommonUniforms(Pe,at,Le.toUnwrapped());const tn=yn=>{at.draw(_,De.TRIANGLES,j,yn,H,Rn.disabled,vt,f.id,Ge.layoutVertexBuffer,Ge.indexBuffer,Ge.segments,f.paint,_.transform.zoom,Je,[Ge.layoutVertexBuffer2])};if(pe){const yn=_.stencilModeForClipping(Le).ref;yn===0&&_.terrain&&Pe.clear({stencil:0});const mn={func:De.EQUAL,mask:255};vt.u_alpha_discard_threshold=.8,tn(new gr(mn,yn,255,De.KEEP,De.KEEP,De.INVERT)),vt.u_alpha_discard_threshold=0,tn(new gr(mn,yn,255,De.KEEP,De.KEEP,De.KEEP))}else tn(_.stencilModeForClipping(Le))}pe&&(_.resetStencilClippingMasks(),_.terrain&&Pe.clear({stencil:0}))},fill:function(_,d,f,x){const M=f.paint.get("fill-color"),T=f.paint.get("fill-opacity");if(T.constantOr(1)===0)return;const L=f.paint.get("fill-emissive-strength"),j=_.colorModeForDrapableLayerRenderPass(L),H=f.paint.get("fill-pattern"),G=_.opaquePassEnabledForLayer()&&!H.constantOr(1)&&M.constantOr(o.ax.transparent).a===1&&T.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===G){const q=_.depthModeForSublayer(1,_.renderPass==="opaque"?Qn.ReadWrite:Qn.ReadOnly);mh(_,d,f,x,q,j,!1)}if(_.renderPass==="translucent"&&f.paint.get("fill-antialias")){const q=_.depthModeForSublayer(f.getPaintProperty("fill-outline-color")?2:0,Qn.ReadOnly);mh(_,d,f,x,q,j,!0)}},"fill-extrusion":function(_,d,f,x){const M=f.paint.get("fill-extrusion-opacity"),T=_.context,L=T.gl,j=_.terrain,H=j&&j.renderingToTexture;if(M===0)return;const G=_.conflationActive&&_.layerUsedInConflation(f,d.getSource());if(G&&function(q,J,ie,se){for(const _e of se){const ve=J.getTile(_e).getBucket(ie);ve&&(ve.updateReplacement(_e,q.replacementSource),ve.uploadCentroid(q.context))}}(_,d,f,x),j||G)for(const q of x){const J=d.getTile(q).getBucket(f);J&&_I(_.context,d,q,J,f,j,G)}if(_.renderPass==="shadow"&&_.shadowRenderer){const q=_.shadowRenderer;if(j&&M<.65&&f._transitionablePaint._values["fill-extrusion-opacity"].value.expression instanceof o.Z)return;const J=q.getShadowPassDepthMode(),ie=q.getShadowPassColorMode();Gn(_,d,f,x,J,gr.disabled,ie,G)}else if(_.renderPass==="translucent"){const q=!f.paint.get("fill-extrusion-pattern").constantOr(1),J=f.paint.get("fill-extrusion-color").constantOr(o.ax.white);if(!H&&J.a!==0){const ie=new Qn(_.context.gl.LEQUAL,Qn.ReadWrite,_.depthRangeFor3D);M===1&&q?Gn(_,d,f,x,ie,gr.disabled,xn.unblended,G):(Gn(_,d,f,x,ie,gr.disabled,xn.disabled,G),Gn(_,d,f,x,ie,_.stencilModeFor3D(),_.colorModeForRenderPass(),G),_.resetStencilClippingMasks())}if(_.style.enable3dLights()&&q&&(!j&&_.transform.projection.name!=="globe"||H)){const ie=f.paint.get("fill-extrusion-opacity"),se=f.paint.get("fill-extrusion-ambient-occlusion-intensity"),_e=f.paint.get("fill-extrusion-ambient-occlusion-ground-radius"),ve=f.paint.get("fill-extrusion-flood-light-intensity"),Se=f.paint.get("fill-extrusion-flood-light-color").toArray01().slice(0,3),pe=se>0&&_e>0,Ce=ve>0,Re=(De,Ae,Le)=>(1-Le)*De+Le*Ae,Pe=De=>{const Ae=_.depthModeForSublayer(1,Qn.ReadOnly,L.LEQUAL,!0),Le=f.paint.get(De?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),He=Re(.1,3,Le),Ge=_._showOverdrawInspector;if(!Ge){const Je=new gr({func:L.ALWAYS,mask:255},255,255,L.KEEP,L.KEEP,L.REPLACE),xt=new xn([L.ONE,L.ONE,L.ONE,L.ONE],o.ax.transparent,[!1,!1,!1,!0],L.MIN);gd(_,d,f,x,Ae,Je,xt,Rn.disabled,De,"sdf",ie,se,_e,ve,Se,He,G,!1)}{const Je=Ge?gr.disabled:new gr({func:L.EQUAL,mask:255},255,255,L.KEEP,L.DECR,L.DECR),xt=Ge?_.colorModeForRenderPass():new xn([L.ONE_MINUS_DST_ALPHA,L.DST_ALPHA,L.ONE,L.ONE],o.ax.transparent,[!0,!0,!0,!0]);gd(_,d,f,x,Ae,Je,xt,Rn.disabled,De,"color",ie,se,_e,ve,Se,He,G,!1)}};if(H){const De=(Ae,Le,He)=>{const Ge=_.depthModeForSublayer(1,Qn.ReadOnly,L.LEQUAL,!1),Je=f.paint.get(Ae?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),xt=Re(.1,3,Je);{const at=new xn([L.ONE,L.ONE,L.ONE,L.ONE],o.ax.transparent,[!1,!1,!1,!0]);gd(_,d,f,x,Ge,gr.disabled,at,Rn.disabled,Ae,"clear",ie,se,_e,ve,Se,xt,G,Le)}{const at=new gr({func:L.ALWAYS,mask:255},255,255,L.KEEP,L.KEEP,L.REPLACE),Nt=new xn([L.ONE,L.ONE,L.ONE,L.ONE],o.ax.transparent,[!1,!1,!1,!0],L.MIN);gd(_,d,f,x,Ge,at,Nt,Rn.disabled,Ae,"sdf",ie,se,_e,ve,Se,xt,G,Le)}{const at=Ae?L.ZERO:L.ONE_MINUS_DST_ALPHA,Nt=new gr({func:L.EQUAL,mask:255},255,255,L.KEEP,L.DECR,L.DECR),It=new xn([at,L.DST_ALPHA,L.ONE_MINUS_DST_ALPHA,L.ZERO],o.ax.transparent,[!0,!0,!0,!0]);gd(_,d,f,x,Ge,Nt,It,Rn.disabled,Ae,"color",ie,se,_e,ve,Se,xt,G,Le)}{const at=new xn([L.ONE,L.ONE,L.ONE,Ae?L.ZERO:L.ONE],o.ax.transparent,[!1,!1,!1,!0],Ae?L.FUNC_ADD:L.MAX);gd(_,d,f,x,Ge,gr.disabled,at,Rn.disabled,Ae,"clear",ie,se,_e,ve,Se,xt,G,Le,He)}};if(pe||Ce){let Ae;if(_.prepareDrawTile(),j){const Le=j.drapeBufferSize[0],He=j.drapeBufferSize[1];Ae=j.framebufferCopyTexture,Ae&&(!Ae||Ae.size[0]===Le&&Ae.size[1]===He)||(Ae&&Ae.destroy(),Ae=j.framebufferCopyTexture=new o.T(T,new o.h({width:Le,height:He}),L.RGBA)),Ae.bind(L.LINEAR,L.CLAMP_TO_EDGE),L.copyTexImage2D(L.TEXTURE_2D,0,L.RGBA,0,0,Le,He,0)}pe&&De(!0,!1,Ae),Ce&&De(!1,!0,Ae)}}else pe&&Pe(!0),Ce&&Pe(!1)}}},hillshade:function(_,d,f,x){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent"||_.style.disableElevatedTerrain)return;const M=_.context,T=_.terrain&&_.terrain.renderingToTexture,[L,j]=_.renderPass!=="translucent"||T?[{},x]:_.stencilConfigForOverlap(x);for(const H of j){const G=d.getTile(H);if(G.needsHillshadePrepare&&_.renderPass==="offscreen")O_(_,G,f);else if(_.renderPass==="translucent"){const q=_.depthModeForSublayer(0,Qn.ReadOnly),J=f.paint.get("hillshade-emissive-strength"),ie=_.colorModeForDrapableLayerRenderPass(J),se=T&&_.terrain?_.terrain.stencilModeForRTTOverlap(H):L[H.overscaledZ];My(_,H,G,f,q,se,ie)}}M.viewport.set([0,0,_.width,_.height]),_.resetStencilClippingMasks()},raster:function(_,d,f,x,M,T){if(_.renderPass!=="translucent"||f.paint.get("raster-opacity")===0)return;const L=_.transform.projection.name==="globe",j=f.paint.get("raster-elevation")!==0,H=j&&L;if(_.renderElevatedRasterBackface&&!H)return;const G=_.context,q=G.gl,J=d.getSource(),ie=function(Ae,Le,He,Ge){const Je=Le.paint.get("raster-color"),xt=Ae.type==="raster-array",at=[],Nt=Le.paint.get("raster-resampling"),It=Le.paint.get("raster-color-mix");let Yt=Le.paint.get("raster-color-range");const ct=[It[0],It[1],It[2],0],Ct=It[3];let Ye=Nt==="nearest"?Ge.NEAREST:Ge.LINEAR;if(xt&&(at.push("RASTER_ARRAY"),Je||at.push("RASTER_COLOR"),Nt==="linear"&&at.push("RASTER_ARRAY_LINEAR"),Ye=Ge.NEAREST,!Yt&&Ae.rasterLayers)){const vt=Ae.rasterLayers.find(({id:tn})=>tn===Le.sourceLayer);vt&&vt.fields&&vt.fields.range&&(Yt=vt.fields.range)}if(Yt=Yt||[0,1],Je){at.push("RASTER_COLOR"),He.activeTexture.set(Ge.TEXTURE2),Le.updateColorRamp(Yt);let vt=Le.colorRampTexture;vt||(vt=Le.colorRampTexture=new o.T(He,Le.colorRamp,Ge.RGBA)),vt.bind(Ge.LINEAR,Ge.CLAMP_TO_EDGE)}return{mix:ct,range:Yt,offset:Ct,defines:at,resampling:Ye}}(J,f,G,q);if(J instanceof o.ap&&!x.length&&!L)return;const se=f.paint.get("raster-emissive-strength"),_e=_.colorModeForDrapableLayerRenderPass(se),ve=_.terrain&&_.terrain.renderingToTexture,Se=!_.options.moving,pe=f.paint.get("raster-resampling")==="nearest"?q.NEAREST:q.LINEAR;if(J instanceof o.ap&&!x.length&&(J.onNorthPole||J.onSouthPole)){const Ae=j?_.stencilModeFor3D():gr.disabled;return void K_(!!J.onNorthPole,null,_,d,f,se,ie,Rn.disabled,Ae)}if(!x.length)return;const[Ce,Re]=J instanceof o.ap||ve?[{},x]:_.stencilConfigForOverlap(x),Pe=Re[Re.length-1].overscaledZ;H&&ie.defines.push("PROJECTION_GLOBE_VIEW"),j&&ie.defines.push("RENDER_CUTOFF");const De=(Ae,Le,He)=>{for(const Ge of Ae){const Je=Ge.toUnwrapped(),xt=d.getTile(Ge);if(ve&&(!xt||!xt.hasData()))continue;G.activeTexture.set(q.TEXTURE0);const at=X_(xt,J,f,ie);if(!at||!at.texture)continue;const{texture:Nt,mix:It,offset:Yt,tileSize:ct,buffer:Ct}=at;let Ye,vt;ve?(Ye=Qn.disabled,vt=Ge.projMatrix):j?(Ye=new Qn(q.LEQUAL,Qn.ReadWrite,_.depthRangeFor3D),vt=L?Float32Array.from(_.transform.expandedFarZProjMatrix):_.transform.calculateProjMatrix(Je,Se)):(Ye=_.depthModeForSublayer(Ge.overscaledZ-Pe,f.paint.get("raster-opacity")===1?Qn.ReadWrite:Qn.ReadOnly,q.LESS),vt=_.transform.calculateProjMatrix(Je,Se));const tn=_.terrain&&ve?_.terrain.stencilModeForRTTOverlap(Ge):Ce[Ge.overscaledZ],yn=T?0:f.paint.get("raster-fade-duration");xt.registerFadeDuration(yn);const mn=d.findLoadedParent(Ge,0),Mn=D_(xt,mn,d,_.transform,yn);let Vn,nr;_.terrain&&_.terrain.prepareDrawTile(),G.activeTexture.set(q.TEXTURE0),Nt.bind(pe,q.CLAMP_TO_EDGE),G.activeTexture.set(q.TEXTURE1),mn?(mn.texture&&mn.texture.bind(pe,q.CLAMP_TO_EDGE),Vn=Math.pow(2,mn.tileID.overscaledZ-xt.tileID.overscaledZ),nr=[xt.tileID.canonical.x*Vn%1,xt.tileID.canonical.y*Vn%1]):Nt.bind(pe,q.CLAMP_TO_EDGE),Nt.useMipmap&&G.extTextureFilterAnisotropic&&_.transform.pitch>20&&q.texParameterf(q.TEXTURE_2D,G.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,G.extTextureFilterAnisotropicMax);const Xn=_.transform;let Jn;const Nr=j?q_(Xn):[0,0,0,0];let br,Tr,Cr,Jr,Fi,yi=0;if(H&&J instanceof o.ap&&J.coordinates.length>3)br=Float32Array.from(o.aT(o.ci(new o.bs(0,0,0)))),Tr=Float32Array.from(Xn.globeMatrix),Cr=Float32Array.from(o.ce(Xn)),Jr=[o.a5(Xn.center.lng),o.ae(Xn.center.lat)],Jn=J.elevatedGlobePerspectiveTransform,Fi=J.elevatedGlobeGridMatrix||new Float32Array(9);else if(H){const Ur=o.cf(Ge.canonical);yi=o.cg(Ur.getCenter().lat),br=Float32Array.from(o.aT(o.ci(Ge.canonical))),Tr=Float32Array.from(Xn.globeMatrix),Cr=Float32Array.from(o.ce(Xn)),Jr=[o.a5(Xn.center.lng),o.ae(Xn.center.lat)],Jn=[0,0],Fi=Float32Array.from(o.ch(Ge.canonical,Ur,yi,Xn.worldSize/Xn._pixelsPerMercatorPixel))}else Jn=J instanceof o.ap?J.perspectiveTransform:[0,0],br=new Float32Array(16),Tr=new Float32Array(9),Cr=new Float32Array(16),Jr=[0,0],Fi=new Float32Array(9);const ho=V_(vt,br,Tr,Cr,Fi,nr||[0,0],o.S(_.transform.zoom),Jr,Nr,Vn||1,Mn,f,Jn,j?f.paint.get("raster-elevation"):0,2,It,Yt,ie.range,ct,Ct,se),Zr=_.isTileAffectedByFog(Ge),oi=_.getOrCreateProgram("raster",{defines:ie.defines,overrideFog:Zr});if(_.uploadCommonUniforms(G,oi,Je),J instanceof o.ap){const Ur=J.elevatedGlobeVertexBuffer,ii=J.elevatedGlobeIndexBuffer;if(ve||!L)J.boundsBuffer&&J.boundsSegments&&oi.draw(_,q.TRIANGLES,Ye,gr.disabled,_e,Rn.disabled,ho,f.id,J.boundsBuffer,_.quadTriangleIndexBuffer,J.boundsSegments);else if(Ur&&ii){const Vi=Xn.zoom<=o.bG?J.elevatedGlobeSegments:J.getSegmentsForLongitude(Xn.center.lng);Vi&&oi.draw(_,q.TRIANGLES,Ye,gr.disabled,_e,Le,ho,f.id,Ur,ii,Vi)}}else if(H){Ye=new Qn(q.LEQUAL,Qn.ReadOnly,_.depthRangeFor3D);const Ur=_.globeSharedBuffers;if(Ur){const[ii,Vi,fi]=Ur.getGridBuffers(yi,!1);oi.draw(_,q.TRIANGLES,Ye,He||tn,_.colorModeForRenderPass(),Le,ho,f.id,ii,Vi,fi)}}else{const{tileBoundsBuffer:Ur,tileBoundsIndexBuffer:ii,tileBoundsSegments:Vi}=_.getTileBoundsBuffers(xt);oi.draw(_,q.TRIANGLES,Ye,tn,_e,Rn.disabled,ho,f.id,Ur,ii,Vi)}}if(!(J instanceof o.ap)&&H)for(const Ge of Ae){const Je=Ge.canonical.y===(1<<Ge.canonical.z)-1;Ge.canonical.y===0&&K_(!0,Ge,_,d,f,se,ie,Le,He||gr.disabled),Je&&K_(!1,Ge,_,d,f,se,ie,Le===Rn.frontCW?Rn.backCW:Rn.frontCW,He||gr.disabled)}};H?De(Re,_.renderElevatedRasterBackface?Rn.backCW:Rn.frontCW,_.stencilModeFor3D()):De(Re,Rn.disabled,void 0),_.resetStencilClippingMasks()},"raster-particle":function(_,d,f,x,M,T){_.renderPass==="offscreen"&&function(L,j,H,G){if(!G.length)return;const q=L.context,J=q.gl,ie=j.getSource();if(!(ie instanceof dt))return;const se=[];for(const Se of G){const pe=j.getTile(Se);if(!(pe instanceof sh))continue;const Ce=Y_(pe,ie,H);if(!Ce)continue;const Re=[Ce.tileSize,Ce.tileSize];let Pe=H.tileFramebuffer;Pe||(Pe=H.tileFramebuffer=q.createFramebuffer(Re[0],Re[1],!0,null));let De=pe.rasterParticleState;const Ae=H.paint.get("raster-particle-count");De||(De=pe.rasterParticleState=new So(q,Se,Re,Ae));const Le=De.update(H.lastInvalidatedAt);De.numParticles!==Ae&&De.setNumParticles(Se,Ae);const He=De.targetColorTexture;De.targetColorTexture=De.backgroundColorTexture,De.backgroundColorTexture=He;const Ge=De.particleVertices0;De.particleVertices0=De.particleVertices1,De.particleVertices1=Ge,se.push([Se,Ce,De,Le])}if(se.length===0)return;const _e=o.f.now(),ve=H.previousDrawTimestamp?.001*(_e-H.previousDrawTimestamp):.0167;if(H.previousDrawTimestamp=_e,H.hasColorMap()){q.activeTexture.set(J.TEXTURE0+2);let Se=H.colorRampTexture;Se||(Se=H.colorRampTexture=new o.T(q,H.colorRamp,J.RGBA)),Se.bind(J.LINEAR,J.CLAMP_TO_EDGE)}q.bindFramebuffer.set(H.tileFramebuffer.framebuffer),q.activeTexture.set(J.TEXTURE0),function(Se,pe,Ce){const Re=Se.context,Pe=Re.gl,De=pe.tileFramebuffer;Re.activeTexture.set(Pe.TEXTURE0);const Ae={u_texture:0,u_opacity:1.05*(He=pe.paint.get("raster-particle-fade-opacity-factor"))/(He+.05)},Le=Se.getOrCreateProgram("rasterParticleTexture",{defines:[],overrideFog:!1});var He;for(const Ge of Ce){const[,,Je,xt]=Ge;De.colorAttachment.set(Je.targetColorTexture.texture),Re.viewport.set([0,0,De.width,De.height]),Re.clear({color:o.ax.transparent}),xt&&(Je.backgroundColorTexture.bind(Pe.NEAREST,Pe.CLAMP_TO_EDGE),Le.draw(Se,Pe.TRIANGLES,Qn.disabled,gr.disabled,xn.alphaBlended,Rn.disabled,Ae,pe.id,Se.viewportBuffer,Se.quadTriangleIndexBuffer,Se.viewportSegments))}}(L,H,se),function(Se,pe,Ce,Re){const Pe=Se.context.gl,De=Ce.tileFramebuffer,Ae=Se.transform.projection.name==="globe",Le=Ce.paint.get("raster-particle-max-speed");for(const He of Re){const[Ge,Je,xt]=He;Je.texture.bind(Pe.LINEAR,Pe.CLAMP_TO_EDGE),De.colorAttachment.set(xt.targetColorTexture.texture);const at=Se.getOrCreateProgram("rasterParticleDraw",{defines:Je.defines,overrideFog:!1}),Nt=Je.scalarData?[]:[0,1,2,3].map(ct=>o.cG[ct](Ge));Nt.push(Ge);const It=Ge.canonical.x,Yt=Ge.canonical.y;for(const ct of Nt){const Ct=pe.getTile(Ae?ct.wrapped():ct);if(!Ct)continue;const Ye=Ct.rasterParticleState;if(!Ye)continue;const vt=vI([ct.canonical.x+(1<<ct.canonical.z)*(ct.wrap-Ge.wrap)-It,ct.canonical.y-Yt],0,Je.texture.size,2,Le,Je.textureOffset,Je.scale,Je.offset);at.draw(Se,Pe.POINTS,Qn.disabled,gr.disabled,xn.alphaBlended,Rn.disabled,vt,Ce.id,Ye.particleVertices0,void 0,Ye.particleSegment)}}}(L,j,H,se),function(Se,pe,Ce,Re){const Pe=Se.context.gl;let De=pe.transformFeedbackObject;De||(De=pe.transformFeedbackObject=Pe.createTransformFeedback()),Pe.bindTransformFeedback(Pe.TRANSFORM_FEEDBACK,pe.transformFeedbackObject);const Ae=pe.paint.get("raster-particle-max-speed"),Le=Re*pe.paint.get("raster-particle-speed-factor")*.3,He=(Ge=pe.paint.get("raster-particle-reset-rate-factor"),Math.pow(Ge,6));var Ge;for(const Je of Ce){const[,xt,at]=Je;xt.texture.bind(Pe.LINEAR,Pe.CLAMP_TO_EDGE);const Nt=QA(0,xt.texture.size,Ae,Le,He,xt.textureOffset,xt.scale,xt.offset);Se.getOrCreateProgram("rasterParticleUpdate",{defines:xt.defines,transformFeedback:{bufferMode:Pe.SEPARATE_ATTRIBS,shaderVaryings:["v_new_particle"]}}).draw(Se,Pe.POINTS,Qn.disabled,gr.disabled,xn.disabled,Rn.disabled,Nt,pe.id,at.particleVertices0,void 0,at.particleSegment,{},void 0,void 0,void 0,void 0,[{buffer:at.particleVertices1,targetIndex:0}])}Pe.bindTransformFeedback(Pe.TRANSFORM_FEEDBACK,null)}(L,H,se,ve)}(_,d,f,x),_.renderPass==="translucent"&&(function(L,j,H,G,q){const J=L.context,ie=J.gl,se=!L.options.moving,_e=L.transform.projection.name==="globe";if(!G.length)return;const[ve,Se]=L.stencilConfigForOverlap(G),pe=[];_e&&pe.push("PROJECTION_GLOBE_VIEW");for(const Ce of Se){const Re=Ce.toUnwrapped(),Pe=j.getTile(Ce);if(!Pe.rasterParticleState)continue;const De=Pe.rasterParticleState,Ae=100;Pe.registerFadeDuration(Ae);const Le=j.findLoadedParent(Ce,0),He=D_(Pe,Le,j,L.transform,Ae);let Ge,Je;L.terrain&&L.terrain.prepareDrawTile(),J.activeTexture.set(ie.TEXTURE0),De.targetColorTexture.bind(ie.LINEAR,ie.CLAMP_TO_EDGE),J.activeTexture.set(ie.TEXTURE1),Le&&Le.rasterParticleState?(Le.rasterParticleState.targetColorTexture.bind(ie.LINEAR,ie.CLAMP_TO_EDGE),Ge=Math.pow(2,Le.tileID.overscaledZ-Pe.tileID.overscaledZ),Je=[Pe.tileID.canonical.x*Ge%1,Pe.tileID.canonical.y*Ge%1]):De.targetColorTexture.bind(ie.LINEAR,ie.CLAMP_TO_EDGE);const xt=_e?Float32Array.from(L.transform.expandedFarZProjMatrix):L.transform.calculateProjMatrix(Re,se),at=L.transform,Nt=J_(at),It=o.cf(Ce.canonical),Yt=o.cg(It.getCenter().lat);let ct,Ct,Ye,vt,tn;_e?(ct=Float32Array.from(o.aT(o.ci(Ce.canonical))),Ct=Float32Array.from(at.globeMatrix),Ye=Float32Array.from(o.ce(at)),vt=[o.a5(at.center.lng),o.ae(at.center.lat)],tn=Float32Array.from(o.ch(Ce.canonical,It,Yt,at.worldSize/at._pixelsPerMercatorPixel))):(ct=new Float32Array(16),Ct=new Float32Array(9),Ye=new Float32Array(16),vt=[0,0],tn=new Float32Array(9));const yn=yI(xt,ct,Ct,Ye,tn,Je||[0,0],o.S(L.transform.zoom),vt,Nt,Ge||1,He,250),mn=L.isTileAffectedByFog(Ce),Mn=L.getOrCreateProgram("rasterParticle",{defines:pe,overrideFog:mn});if(L.uploadCommonUniforms(J,Mn,Re),_e){const Vn=new Qn(ie.LEQUAL,Qn.ReadWrite,L.depthRangeFor3D),nr=0,Xn=L.globeSharedBuffers;if(Xn){const[Jn,Nr,br]=Xn.getGridBuffers(Yt,nr!==0);Mn.draw(L,ie.TRIANGLES,Vn,gr.disabled,xn.alphaBlended,Rn.backCCW,yn,H.id,Jn,Nr,br)}}else{const Vn=L.depthModeForSublayer(0,Qn.ReadOnly),nr=ve[Ce.overscaledZ],{tileBoundsBuffer:Xn,tileBoundsIndexBuffer:Jn,tileBoundsSegments:Nr}=L.getTileBoundsBuffers(Pe);Mn.draw(L,ie.TRIANGLES,Vn,nr,xn.alphaBlended,Rn.disabled,yn,H.id,Xn,Jn,Nr)}}L.resetStencilClippingMasks()}(_,d,f,x),_.style.map.triggerRepaint())},background:function(_,d,f,x){const M=f.paint.get("background-color"),T=f.paint.get("background-opacity"),L=f.paint.get("background-emissive-strength");if(T===0)return;const j=_.context,H=j.gl,G=_.transform,q=G.tileSize,J=f.paint.get("background-pattern");if(_.isPatternMissing(J,f.scope))return;const ie=!J&&M.a===1&&T===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==ie)return;const se=gr.disabled,_e=_.depthModeForSublayer(0,ie==="opaque"?Qn.ReadWrite:Qn.ReadOnly),ve=_.colorModeForDrapableLayerRenderPass(L),Se=J?"backgroundPattern":"background";let pe,Ce=x;Ce||(pe=_.getBackgroundTiles(),Ce=Object.values(pe).map(Re=>Re.tileID)),J&&(j.activeTexture.set(H.TEXTURE0),_.imageManager.bind(_.context,f.scope));for(const Re of Ce){const Pe=_.isTileAffectedByFog(Re),De=_.getOrCreateProgram(Se,{overrideFog:Pe}),Ae=Re.toUnwrapped(),Le=x?Re.projMatrix:_.transform.calculateProjMatrix(Ae);_.prepareDrawTile();const He=d?d.getTile(Re):pe?pe[Re.key]:new rl(Re,q,G.zoom,_),Ge=J?gm(Le,L,T,_,J,f.scope,{tileID:Re,tileSize:q}):W_(Le,L,T,M);_.uploadCommonUniforms(j,De,Ae);const{tileBoundsBuffer:Je,tileBoundsIndexBuffer:xt,tileBoundsSegments:at}=_.getTileBoundsBuffers(He);De.draw(_,H.TRIANGLES,_e,se,ve,Rn.disabled,Ge,f.id,Je,xt,at)}},sky:function(_,d,f){const x=_._atmosphere?o.S(_.transform.zoom):1,M=f.paint.get("sky-opacity")*x;if(M===0)return;const T=_.context,L=f.paint.get("sky-type"),j=new Qn(T.gl.LEQUAL,Qn.ReadOnly,[0,1]),H=_.frameCounter/1e3%1;L==="atmosphere"?_.renderPass==="offscreen"?f.needsSkyboxCapture(_)&&(function(G,q,J,ie){const se=G.context,_e=se.gl;let ve=q.skyboxFbo;if(!ve){ve=q.skyboxFbo=se.createFramebuffer(32,32,!0,null),q.skyboxGeometry=new r1(se),q.skyboxTexture=se.gl.createTexture(),_e.bindTexture(_e.TEXTURE_CUBE_MAP,q.skyboxTexture),_e.texParameteri(_e.TEXTURE_CUBE_MAP,_e.TEXTURE_WRAP_S,_e.CLAMP_TO_EDGE),_e.texParameteri(_e.TEXTURE_CUBE_MAP,_e.TEXTURE_WRAP_T,_e.CLAMP_TO_EDGE),_e.texParameteri(_e.TEXTURE_CUBE_MAP,_e.TEXTURE_MIN_FILTER,_e.LINEAR),_e.texParameteri(_e.TEXTURE_CUBE_MAP,_e.TEXTURE_MAG_FILTER,_e.LINEAR);for(let Re=0;Re<6;++Re)_e.texImage2D(_e.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,_e.RGBA,32,32,0,_e.RGBA,_e.UNSIGNED_BYTE,null)}se.bindFramebuffer.set(ve.framebuffer),se.viewport.set([0,0,32,32]);const Se=q.getCenter(G,!0),pe=G.getOrCreateProgram("skyboxCapture"),Ce=new Float64Array(16);o.a6.identity(Ce),o.a6.rotateY(Ce,Ce,.5*-Math.PI),gh(G,q,pe,Ce,Se,0),o.a6.identity(Ce),o.a6.rotateY(Ce,Ce,.5*Math.PI),gh(G,q,pe,Ce,Se,1),o.a6.identity(Ce),o.a6.rotateX(Ce,Ce,.5*-Math.PI),gh(G,q,pe,Ce,Se,2),o.a6.identity(Ce),o.a6.rotateX(Ce,Ce,.5*Math.PI),gh(G,q,pe,Ce,Se,3),o.a6.identity(Ce),gh(G,q,pe,Ce,Se,4),o.a6.identity(Ce),o.a6.rotateY(Ce,Ce,Math.PI),gh(G,q,pe,Ce,Se,5),se.viewport.set([0,0,G.width,G.height])}(_,f),f.markSkyboxValid(_)):_.renderPass==="sky"&&function(G,q,J,ie,se){const _e=G.context,ve=_e.gl,Se=G.transform,pe=G.getOrCreateProgram("skybox");_e.activeTexture.set(ve.TEXTURE0),ve.bindTexture(ve.TEXTURE_CUBE_MAP,q.skyboxTexture);const Ce=((Re,Pe,De,Ae,Le)=>({u_matrix:Re,u_sun_direction:Pe,u_cubemap:0,u_opacity:Ae,u_temporal_offset:Le}))(Se.skyboxMatrix,q.getCenter(G,!1),0,ie,se);G.uploadCommonUniforms(_e,pe),pe.draw(G,ve.TRIANGLES,J,gr.disabled,G.colorModeForRenderPass(),Rn.backCW,Ce,"skybox",q.skyboxGeometry.vertexBuffer,q.skyboxGeometry.indexBuffer,q.skyboxGeometry.segment)}(_,f,j,M,H):L==="gradient"&&_.renderPass==="sky"&&function(G,q,J,ie,se){const _e=G.context,ve=_e.gl,Se=G.transform,pe=G.getOrCreateProgram("skyboxGradient");q.skyboxGeometry||(q.skyboxGeometry=new r1(_e)),_e.activeTexture.set(ve.TEXTURE0);let Ce=q.colorRampTexture;Ce||(Ce=q.colorRampTexture=new o.T(_e,q.colorRamp,ve.RGBA)),Ce.bind(ve.LINEAR,ve.CLAMP_TO_EDGE);const Re=((Pe,De,Ae,Le,He)=>({u_matrix:Pe,u_color_ramp:0,u_center_direction:De,u_radius:o.bj(Ae),u_opacity:Le,u_temporal_offset:He}))(Se.skyboxMatrix,q.getCenter(G,!1),q.paint.get("sky-gradient-radius"),ie,se);G.uploadCommonUniforms(_e,pe),pe.draw(G,ve.TRIANGLES,J,gr.disabled,G.colorModeForRenderPass(),Rn.backCW,Re,"skyboxGradient",q.skyboxGeometry.vertexBuffer,q.skyboxGeometry.indexBuffer,q.skyboxGeometry.segment)}(_,f,j,M,H)},debug:function(_,d,f,x,M,T){for(let L=0;L<f.length;L++)if(M){const G=new o.ax(x.r*.8,x.g*.8,x.b*.8,1);vd(_,d,f[L],x,-1,-1,T),vd(_,d,f[L],x,-1,1,T),vd(_,d,f[L],x,1,1,T),vd(_,d,f[L],x,1,-1,T),vd(_,d,f[L],G,0,0,T)}else vd(_,d,f[L],x,0,0,T)},custom:function(_,d,f,x){const M=_.context,T=f.implementation;if(!_.transform.projection.unsupportedLayers||!_.transform.projection.unsupportedLayers.includes("custom")||_.terrain&&(_.terrain.renderingToTexture||_.renderPass==="offscreen")&&f.isLayerDraped(d)){if(_.renderPass==="offscreen"){const L=T.prerender;if(L){if(_.setCustomLayerDefaults(),M.setColorMode(_.colorModeForRenderPass()),_.transform.projection.name==="globe"){const j=_.transform.pointMerc;L.call(T,M.gl,_.transform.customLayerMatrix(),_.transform.getProjection(),_.transform.globeToMercatorMatrix(),o.S(_.transform.zoom),[j.x,j.y],_.transform.pixelsPerMeterRatio)}else L.call(T,M.gl,_.transform.customLayerMatrix());M.setDirty(),_.setBaseState()}}else if(_.renderPass==="translucent"){if(_.terrain&&_.terrain.renderingToTexture){const j=T.renderToTile;if(j){const H=x[0].canonical,G=new o.L(H.x+x[0].wrap*(1<<H.z),H.y,H.z);M.setDepthMode(Qn.disabled),M.setStencilMode(gr.disabled),M.setColorMode(_.colorModeForRenderPass()),_.setCustomLayerDefaults(),j.call(T,M.gl,G),M.setDirty(),_.setBaseState()}return}_.setCustomLayerDefaults(),M.setColorMode(_.colorModeForRenderPass()),M.setStencilMode(gr.disabled);const L=T.renderingMode==="3d"?new Qn(_.context.gl.LEQUAL,Qn.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,Qn.ReadOnly);if(M.setDepthMode(L),_.transform.projection.name==="globe"){const j=_.transform.pointMerc;T.render(M.gl,_.transform.customLayerMatrix(),_.transform.getProjection(),_.transform.globeToMercatorMatrix(),o.S(_.transform.zoom),[j.x,j.y],_.transform.pixelsPerMeterRatio)}else T.render(M.gl,_.transform.customLayerMatrix());M.setDirty(),_.setBaseState(),M.bindFramebuffer.set(null)}}else o.w("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")},model:function(_,d,f,x){if(_.renderPass==="opaque")return;const M=f.paint.get("model-opacity");if(M===0)return;const T=f.paint.get("model-cast-shadows");if(_.renderPass==="shadow"&&(!T||_.terrain&&M<.65&&f._transitionablePaint._values["model-opacity"].value.expression instanceof o.Z))return;const L=_.shadowRenderer,j=f.paint.get("model-receive-shadows");L&&(L.useNormalOffset=!0,j||(L.enabled=!1));const H=()=>{L&&(L.useNormalOffset=!0,j||(L.enabled=!0))},G=d.getSource();if(_.renderPass==="light-beam"&&G.type!=="batched-model")return;if(G.type==="vector"||G.type==="geojson")return function(pe,Ce,Re,Pe){const De=pe.transform;if(De.projection.name!=="mercator")return void o.w(`Drawing 3D models for ${De.projection.name} projection is not yet implemented`);const Ae=De.getFreeCameraOptions().position;if(!pe.modelManager)return;const Le=pe.modelManager;Re.modelManager=Le;const He=pe.shadowRenderer;if(!Re._unevaluatedLayout._values.hasOwnProperty("model-id"))return;const Ge=Re._unevaluatedLayout._values["model-id"],Je={...Re.layout.get("model-id").parameters};for(const xt of Pe){const at=Ce.getTile(xt).getBucket(Re);if(!at||at.projection.name!==De.projection.name)continue;const Nt=a5(xt,De);Je.zoom=Nt;const It=Ge.possiblyEvaluate(Je);if(i1(pe,at,xt),al.shadowUniformsInitialized=!1,al.useSingleShadowCascade=!!He&&He.getMaxCascadeForTile(xt.toUnwrapped())===0,pe.renderPass==="shadow"&&He){if(pe.currentShadowCascade===1&&at.isInsideFirstShadowMapFrustum)continue;const Ct=De.calculatePosMatrix(xt.toUnwrapped(),De.worldSize);if(al.tileMatrix.set(Ct),al.shadowTileMatrix=Float32Array.from(He.calculateShadowPassMatrixFromMatrix(Ct)),al.aabb.min.fill(0),al.aabb.max[0]=al.aabb.max[1]=o.V,al.aabb.max[2]=0,SI(at,al,pe,Re.scope))continue}const Yt=1<<xt.canonical.z,ct=[((Ae.x-xt.wrap)*Yt-xt.canonical.x)*o.V,(Ae.y*Yt-xt.canonical.y)*o.V,Ae.z*Yt*o.V];for(let Ct in at.instancesPerModel){const Ye=at.instancesPerModel[Ct];Ye.features.length>0&&(Ct=It.evaluate(Ye.features[0].feature,{}));const vt=Le.getModel(Ct,Re.scope);if(vt&&vt.uploaded)for(const tn of vt.nodes)o1(pe,Re,tn,Ye,ct,xt,al)}}}(_,d,f,x),void H();if(!G.loaded())return;if(G.type==="batched-model")return function(pe,Ce,Re,Pe){Re.resetLayerRenderingStats(pe);const De=pe.context,Ae=pe.transform,Le=pe.style.fog,He=pe.shadowRenderer;if(Ae.projection.name!=="mercator")return void o.w(`Drawing 3D landmark models for ${Ae.projection.name} projection is not yet implemented`);const Ge=pe.transform.getFreeCameraOptions().position,Je=o.N.scale([],[Ge.x,Ge.y,Ge.z],pe.transform.worldSize);o.N.negate(Je,Je);const xt=o.a6.identity([]),at=o.cR(Ae.center.lat,Ae.zoom),Nt=o.a6.fromScaling([],[1,1,1/at]);o.a6.translate(xt,xt,Je);const It=Re.paint.get("model-opacity"),Yt=new Qn(De.gl.LEQUAL,Qn.ReadWrite,pe.depthRangeFor3D),ct=new Qn(De.gl.LEQUAL,Qn.ReadOnly,pe.depthRangeFor3D),Ct=new o.bS([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),Ye=pe.renderPass==="shadow",vt=Ye&&He?He.getCurrentCascadeFrustum():Ae.getFrustum(Ae.scaleZoom(Ae.worldSize)),tn=Re.getLayerRenderingStats(),yn=function(mn,Mn){for(const Vn of Pe){const nr=Ce.getTile(Vn).getBucket(Re);if(!nr||!nr.uploaded)continue;let Xn=!1;He&&(Xn=He.getMaxCascadeForTile(Vn.toUnwrapped())===0);const Jn=Ae.calculatePosMatrix(Vn.toUnwrapped(),Ae.worldSize),Nr=nr.modelTraits;for(const br of nr.getNodesInfo()){if(br.hiddenByReplacement||!br.node.meshes)continue;const Tr=br.evaluatedScale,Cr=br.node;let Jr=0;if(pe.terrain&&Cr.elevation&&(Jr=Cr.elevation*pe.terrain.exaggeration()),Tr[0]<=1&&Tr[1]<=1&&Tr[2]<=1&&(()=>{const Vi=br.getLocalBounds();return Ct.min=[...Vi.min],Ct.max=[...Vi.max],Ct.min[2]+=Jr,Ct.max[2]+=Jr,o.N.transformMat4(Ct.min,Ct.min,Jn),o.N.transformMat4(Ct.max,Ct.max,Jn),Ct})().intersects(vt)===0)continue;const Fi=pe.renderPass==="light-beam",yi=[...Jn];o.a6.translate(yi,yi,[(Cr.anchor?Cr.anchor[0]:0)*(Tr[0]-1),(Cr.anchor?Cr.anchor[1]:0)*(Tr[1]-1),Jr]),o.N.exactEquals(Tr,o.cT)||o.a6.scale(yi,yi,Tr),o.a6.multiply(yi,yi,Cr.matrix);const ho=o.a6.multiply([],Nt,yi);o.a6.multiply(ho,xt,ho);const Zr=o.a6.invert([],ho);o.a6.transpose(Zr,Zr),o.a6.scale(Zr,Zr,Op);const oi=o.a6.multiply([],Ae.expandedFarZProjMatrix,yi),Ur=Nr&o.cV.HasMapboxMeshFeatures,ii=Ur?0:br.evaluatedRMEA[0][2];for(let Vi=0;Vi<Cr.meshes.length;++Vi){const fi=Cr.meshes[Vi],ma=Vi===Cr.lightMeshIndex;if(ma){if(!Fi&&!pe.terrain&&pe.shadowRenderer){pe.currentLayer<pe.firstLightBeamLayer&&(pe.firstLightBeamLayer=pe.currentLayer);continue}}else if(Fi)continue;const $a={defines:[]},Fs=[];if(uo($a.defines,Fs,fi,pe),Ur||$a.defines.push("DIFFUSE_SHADED"),Xn&&$a.defines.push("SHADOWS_SINGLE_CASCADE"),tn&&(Ye?tn.numRenderedVerticesInShadowPass+=fi.vertexArray.length:tn.numRenderedVerticesInTransparentPass+=fi.vertexArray.length),Ye){bt(fi,yi,pe,Re);continue}let Lc=null;if(Le){const js=yh(yi,pe.transform);if(Lc=new Float32Array(js),Ae.projection.name!=="globe"){const Fc=fi.aabb.min,Sd=fi.aabb.max,[bh,$m]=Le.getOpacityForBounds(js,Fc[0],Fc[1],Sd[0],Sd[1]);$a.overrideFog=bh>=ar||$m>=ar}}const $s=fi.material;let ga;$s.occlusionTexture&&$s.occlusionTexture.offsetScale&&(ga=$s.occlusionTexture.offsetScale,$a.defines.push("OCCLUSION_TEXTURE_TRANSFORM")),!Ye&&He&&(He.useNormalOffset=!!fi.normalBuffer);const Jo=pe.getOrCreateProgram("model",$a);!Ye&&He&&He.setupShadowsFromMatrix(yi,Jo,He.useNormalOffset),pe.uploadCommonUniforms(De,Jo,Vn.toUnwrapped(),Lc);const ds=$s.pbrMetallicRoughness;ds.metallicFactor=.9,ds.roughnessFactor=.5;const Cs=ky(new Float32Array(oi),new Float32Array(ho),new Float32Array(Zr),pe,It,ds.baseColorFactor,$s.emissiveFactor,ds.metallicFactor,ds.roughnessFactor,$s,ii,Re,[0,0,0],ga);Jo.draw(pe,De.gl.TRIANGLES,Mn&&!ma?Yt:ct,gr.disabled,mn?ma||It<1||br.hasTranslucentParts?xn.alphaBlended:xn.unblended:xn.disabled,Rn.backCCW,Cs,Re.id,fi.vertexBuffer,fi.indexBuffer,fi.segments,Re.paint,pe.transform.zoom,void 0,Fs)}}}};(function(mn,Mn,Vn,nr){const Xn=mn.terrain?mn.terrain.exaggeration():0,Jn=mn.transform.zoom;for(const Nr of nr){const br=Mn.getTile(Nr).getBucket(Vn);br&&(mn.conflationActive&&br.updateReplacement(Nr,mn.replacementSource),br.evaluateScale(mn,Vn),mn.terrain&&Xn>0&&br.elevationUpdate(mn.terrain,Xn,Nr,Vn.source),br.needsReEvaluation(mn,Jn,Vn)&&br.evaluate(Vn))}})(pe,Ce,Re,Pe),It===1?yn(!0,!0):(yn(!1,!0),yn(!0,!1))}(_,d,f,x),void H();const q=G.getModels(),J=[],ie=_.transform.getFreeCameraOptions().position,se=o.N.scale([],[ie.x,ie.y,ie.z],_.transform.worldSize);o.N.negate(se,se);const _e=[],ve=[];let Se=0;for(const pe of q){const Ce=f.paint.get("model-rotation").constantOr(null),Re=f.paint.get("model-scale").constantOr(null),Pe=f.paint.get("model-translation").constantOr(null);pe.computeModelMatrix(_,Ce,Re,Pe,!0,!0,!1);const De=o.a6.identity([]),Ae=o.cR(pe.position.lat,_.transform.zoom),Le=o.a6.fromScaling([],[1,1,1/Ae]);o.a6.translate(De,De,se),J.push({zScaleMatrix:Le,negCameraPosMatrix:De});for(const He of pe.nodes)wm(_.transform,He,pe.matrix,_.transform.expandedFarZProjMatrix,Se,_e,ve);Se++}if(_e.sort((pe,Ce)=>Ce.depth-pe.depth),_.renderPass!=="shadow"){if(M===1)for(const pe of ve)xm(pe,_,f,J[pe.modelIndex],gr.disabled,_.colorModeForRenderPass());else{for(const pe of ve)xm(pe,_,f,J[pe.modelIndex],gr.disabled,xn.disabled);for(const pe of ve)xm(pe,_,f,J[pe.modelIndex],_.stencilModeFor3D(),_.colorModeForRenderPass());_.resetStencilClippingMasks()}for(const pe of _e)xm(pe,_,f,J[pe.modelIndex],gr.disabled,_.colorModeForRenderPass());H()}else{for(const pe of ve)bt(pe.mesh,pe.nodeModelMatrix,_,f);for(const pe of _e)bt(pe.mesh,pe.nodeModelMatrix,_,f);H()}}},a1={model:function(_,d,f){const x=_.scope,M=d.getSource();if(!M.loaded())return;if(M.type==="vector"||M.type==="geojson")return void(f.modelManager&&f.modelManager.upload(f,x));if(M.type==="batched-model")return;const T=M.getModels();for(const L of T)L.upload(f.context)},raster:function(_,d,f){const x=d.getSource();if(!(x instanceof dt&&x.loaded()))return;const M=_.sourceLayer||x.rasterLayerIds&&x.rasterLayerIds[0];if(!M)return;const T=_.paint.get("raster-array-band")||x.getInitialBand(M);if(T==null)return;const L=d.getIds().map(j=>d.getTileByID(j));for(const j of L)j.updateNeeded(M,T)&&x.prepareTile(j,M,T)},"raster-particle":function(_,d,f){const x=d.getSource();if(!(x instanceof dt&&x.loaded()))return;const M=_.sourceLayer||x.rasterLayerIds&&x.rasterLayerIds[0];if(!M)return;const T=_.paint.get("raster-particle-array-band")||x.getInitialBand(M);if(T==null)return;const L=d.getIds().map(j=>d.getTileByID(j));for(const j of L)j.updateNeeded(M,T)&&x.prepareTile(j,M,T)}};class l5{constructor(d,f,x,M){this.context=new go(d,f),this.transform=x,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.tp=M,this._debugParams={showTerrainProxyTiles:!1},M.registerParameter(this._debugParams,["Terrain"],"showTerrainProxyTiles",{},()=>{this.style.map.triggerRepaint()}),this.setup(),this.numSublayers=Kl.maxUnderzooming+Kl.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this.conflationActive=!1,this.replacementSource=new o.cX,this.longestCutoffRange=0,this.minCutoffZoom=0,this._fogVisible=!1,this._cachedTileFogOpacities={},this._shadowRenderer=new S_(this),this._wireframeDebugCache=new s5,this.renderDefaultNorthPole=!0,this.renderDefaultSouthPole=!0}updateTerrain(d,f){const x=!!d&&!!d.terrain&&this.transform.projection.supportsTerrain;if(!(x||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new gI(this,d));const M=this._terrain;this.transform.elevation=x?M:null,M.update(d,this.transform,f),this.transform.elevation&&!M.enabled&&(this.transform.elevation=null)}_updateFog(d){const f=d.fog;if(!f||this.transform.projection.name==="globe"||f.getOpacity(this.transform.pitch)<1||f.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[x,M]=f.getFovAdjustedRange(this.transform._fov);if(x>M)return void(this.transform.fogCullDistSq=null);const T=x+.78*(M-x);this.transform.fogCullDistSq=T*T}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}get shadowRenderer(){return this._shadowRenderer&&this._shadowRenderer.enabled?this._shadowRenderer:null}get wireframeDebugCache(){return this._wireframeDebugCache}resize(d,f){if(this.width=d*o.f.devicePixelRatio,this.height=f*o.f.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const x of this.style.order)this.style._mergedLayers[x].resize()}setup(){const d=this.context,f=new o.aN;f.emplaceBack(0,0),f.emplaceBack(o.V,0),f.emplaceBack(0,o.V),f.emplaceBack(o.V,o.V),this.tileExtentBuffer=d.createVertexBuffer(f,o.aP.members),this.tileExtentSegments=o.aB.simpleSegment(0,0,4,2);const x=new o.aN;x.emplaceBack(0,0),x.emplaceBack(o.V,0),x.emplaceBack(0,o.V),x.emplaceBack(o.V,o.V),this.debugBuffer=d.createVertexBuffer(x,o.aP.members),this.debugSegments=o.aB.simpleSegment(0,0,4,5);const M=new o.aN;M.emplaceBack(-1,-1),M.emplaceBack(1,-1),M.emplaceBack(-1,1),M.emplaceBack(1,1),this.viewportBuffer=d.createVertexBuffer(M,o.aP.members),this.viewportSegments=o.aB.simpleSegment(0,0,4,2);const T=new o.av;T.emplaceBack(0,0,0,0),T.emplaceBack(o.V,0,o.V,0),T.emplaceBack(0,o.V,0,o.V),T.emplaceBack(o.V,o.V,o.V,o.V),this.mercatorBoundsBuffer=d.createVertexBuffer(T,o.aR.members),this.mercatorBoundsSegments=o.aB.simpleSegment(0,0,4,2);const L=new o.aw;L.emplaceBack(0,1,2),L.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=d.createIndexBuffer(L);const j=new o.aO;for(const G of[0,1,3,2,0])j.emplaceBack(G);this.debugIndexBuffer=d.createIndexBuffer(j),this.emptyTexture=new o.T(d,new o.h({width:1,height:1},Uint8Array.of(0,0,0,0)),d.gl.RGBA),this.identityMat=o.a6.create();const H=this.context.gl;this.stencilClearMode=new gr({func:H.ALWAYS,mask:0},0,255,H.ZERO,H.ZERO,H.ZERO),this.loadTimeStamps.push(performance.now())}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(d){return d._makeTileBoundsBuffers(this.context,this.transform.projection),d._tileBoundsBuffer?{tileBoundsBuffer:d._tileBoundsBuffer,tileBoundsIndexBuffer:d._tileBoundsIndexBuffer,tileBoundsSegments:d._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const d=this.context.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.getOrCreateProgram("clippingMask").draw(this,d.TRIANGLES,Qn.disabled,this.stencilClearMode,xn.disabled,Rn.disabled,R_(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(d,f,x){if(!f||this.currentStencilSource===f.id||!d.isTileClipped()||!x||x.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let j=!1;for(const H of x)if(this._tileClippingMaskIDs[H.key]===void 0){j=!0;break}if(!j)return}this.currentStencilSource=f.id;const M=this.context,T=M.gl;this.nextStencilID+x.length>256&&this.clearStencil(),M.setColorMode(xn.disabled),M.setDepthMode(Qn.disabled);const L=this.getOrCreateProgram("clippingMask");this._tileClippingMaskIDs={};for(const j of x){const H=f.getTile(j),G=this._tileClippingMaskIDs[j.key]=this.nextStencilID++,{tileBoundsBuffer:q,tileBoundsIndexBuffer:J,tileBoundsSegments:ie}=this.getTileBoundsBuffers(H);L.draw(this,T.TRIANGLES,Qn.disabled,new gr({func:T.ALWAYS,mask:0},G,255,T.KEEP,T.KEEP,T.REPLACE),xn.disabled,Rn.disabled,R_(j.projMatrix),"$clipping",q,J,ie)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const d=this.nextStencilID++,f=this.context.gl;return new gr({func:f.NOTEQUAL,mask:255},d,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(d){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(d);const f=this.context.gl;return new gr({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[d.key],0,f.KEEP,f.KEEP,f.REPLACE)}stencilConfigForOverlap(d){const f=this.context.gl,x=d.sort((L,j)=>j.overscaledZ-L.overscaledZ),M=x[x.length-1].overscaledZ,T=x[0].overscaledZ-M+1;if(T>1){this.currentStencilSource=void 0,this.nextStencilID+T>256&&this.clearStencil();const L={};for(let j=0;j<T;j++)L[j+M]=new gr({func:f.GEQUAL,mask:255},j+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=T,[L,x]}return[{[M]:gr.disabled},x]}colorModeForRenderPass(){const d=this.context.gl;return this._showOverdrawInspector?new xn([d.CONSTANT_COLOR,d.ONE,d.CONSTANT_COLOR,d.ONE],new o.ax(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?xn.unblended:xn.alphaBlended}colorModeForDrapableLayerRenderPass(d){const f=this.context.gl;return this.style&&this.style.enable3dLights()&&this.terrain&&this.terrain.renderingToTexture&&this.renderPass==="translucent"?new xn([f.ONE,f.ONE_MINUS_SRC_ALPHA,f.CONSTANT_ALPHA,f.ONE_MINUS_SRC_ALPHA],new o.ax(0,0,0,d===void 0?0:d),[!0,!0,!0,!0]):this.colorModeForRenderPass()}depthModeForSublayer(d,f,x,M=!1){if(!this.opaquePassEnabledForLayer()&&!M)return Qn.disabled;const T=1-((1+this.currentLayer)*this.numSublayers+d)*this.depthEpsilon;return new Qn(x||this.context.gl.LEQUAL,f,[T,T])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(d,f){this._wireframeDebugCache.update(this.frameCounter),this.style=d,this.options=f;const x=this.style._mergedLayers,M=this.style.order,T=M.map(Ae=>x[Ae]),L=this.style._mergedSourceCaches;this.imageManager=d.imageManager,this.modelManager=d.modelManager,this.symbolFadeChange=d.placement.symbolFadeChange(o.f.now()),this.imageManager.beginFrame();let j=0,H=!1;for(const Ae in L){const Le=L[Ae];Le.used&&(Le.prepare(this.context),Le.getSource().usedInConflation&&++j)}for(const Ae of T)Ae.isHidden(this.transform.zoom)||this.prepareLayer(Ae);const G={},q={},J={},ie={},se={};for(const Ae in L){const Le=L[Ae];G[Ae]=Le.getVisibleCoordinates(),q[Ae]=G[Ae].slice().reverse(),J[Ae]=Le.getVisibleCoordinates(!0).reverse(),ie[Ae]=Le.getShadowCasterCoordinates(),se[Ae]=Le.sortCoordinatesByDistance(G[Ae])}const _e=Ae=>{const Le=this.style.getLayerSourceCache(Ae);return Le&&Le.used?Le.getSource():null};if(j){const Ae=[];for(const Le of T)this.layerUsedInConflation(Le,_e(Le))&&Ae.push(Le);if(Ae&&Ae.length>1){const Le=[];for(const He of Ae){const Ge=this.style.getLayerSourceCache(He);Ge&&Ge.used&&Ge.getSource().usedInConflation&&Le.push({layer:He.fqid,cache:Ge})}this.replacementSource.setSources(Le),H=!0}}H||this.replacementSource.clear(),this.conflationActive=H,this.minCutoffZoom=0,this.longestCutoffRange=0;for(const Ae of T){const Le=Ae.cutoffRange();if(this.longestCutoffRange=Math.max(Le,this.longestCutoffRange),Le>0){const He=_e(Ae);He&&(this.minCutoffZoom=Math.max(He.minzoom,this.minCutoffZoom)),Ae.minzoom&&(this.minCutoffZoom=Math.max(Ae.minzoom,this.minCutoffZoom))}}this.opaquePassCutoff=1/0;for(let Ae=0;Ae<T.length;Ae++)if(T[Ae].is3D()){this.opaquePassCutoff=Ae;break}const ve=this.style&&this.style.fog;ve?(this._fogVisible=ve.getOpacity(this.transform.pitch)!==0,this._fogVisible&&this.transform.projection.name!=="globe"&&(this._fogVisible=ve.isVisibleOnFrustum(this.transform.cameraFrustum))):this._fogVisible=!1,this._cachedTileFogOpacities={},this.terrain&&(this.terrain.updateTileBinding(J),this.opaquePassCutoff=0);const Se=this._shadowRenderer;if(Se){Se.updateShadowParameters(this.transform,this.style.directionalLight);for(const Ae in L)for(const Le of G[Ae]){let He={min:0,max:0};this.terrain&&(He=this.terrain.getMinMaxForTile(Le)||He),Se.addShadowReceiver(Le.toUnwrapped(),He.min,He.max)}}if(this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new o.cY(this.context)),this.style.fog&&this.transform.projection.supportsFog?(this._atmosphere||(this._atmosphere=new ir(this)),this._atmosphere.update(this)):this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),!o.cZ(this.context.gl))return;this.renderPass="offscreen";for(const Ae of T){const Le=d.getLayerSourceCache(Ae);if(!Ae.hasOffscreenPass()||Ae.isHidden(this.transform.zoom))continue;const He=Le?q[Le.id]:void 0;(Ae.type==="custom"||Ae.type==="raster"||Ae.type==="raster-particle"||Ae.isSky()||He&&He.length)&&this.renderLayer(this,Le,Ae,He)}this.depthRangeFor3D=[0,1-(T.length+2)*this.numSublayers*this.depthEpsilon];const pe=this.terrain;pe&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&!this.transform.isOrthographic&&pe.drawDepth(),this._shadowRenderer&&(this.renderPass="shadow",this._shadowRenderer.drawShadowPass(this.style,ie)),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);const Ce=this.transform.projection.name==="globe"||this.transform.isHorizonVisible(),Re=(()=>{if(f.showOverdrawInspector)return o.ax.black;if(this.style.fog&&this.transform.projection.supportsFog&&!Ce){const Ae=this.style.fog.properties.get("color").toArray01();return new o.ax(...Ae)}if(this.style.fog&&this.transform.projection.supportsFog&&Ce){const Ae=this.style.fog.properties.get("space-color").toArray01();return new o.ax(...Ae)}return o.ax.transparent})();if(this.context.clear({color:Re,depth:1}),this.clearStencil(),this._showOverdrawInspector=f.showOverdrawInspector,this.renderPass="opaque",this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&Ce&&this._atmosphere.drawStars(this,this.style.fog),!this.terrain)for(this.currentLayer=M.length-1;this.currentLayer>=0;this.currentLayer--){const Ae=T[this.currentLayer],Le=d.getLayerSourceCache(Ae);if(Ae.isSky())continue;const He=Le?(Ae.is3D()?se:q)[Le.id]:void 0;this._renderTileClippingMasks(Ae,Le,He),this.renderLayer(this,Le,Ae,He)}if(this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&Ce&&this._atmosphere.drawAtmosphereGlow(this,this.style.fog),this.renderPass="sky",(!this._atmosphere||o.S(this.transform.zoom)>0)&&(this.transform.projection.name==="globe"||this.transform.isHorizonVisible()))for(this.currentLayer=0;this.currentLayer<M.length;this.currentLayer++){const Ae=T[this.currentLayer],Le=d.getLayerSourceCache(Ae);Ae.isSky()&&this.renderLayer(this,Le,Ae,Le?q[Le.id]:void 0)}function Pe(Ae,Le){let He;return Le&&(He=(Ae.type==="symbol"?J:Ae.is3D()?se:q)[Le.id]),He}if(this.renderPass="translucent",this.transform.projection.name==="globe"){for(this.renderElevatedRasterBackface=!0,this.currentLayer=0;this.currentLayer<M.length;){const Ae=T[this.currentLayer];if(Ae.type==="raster"){const Le=d.getLayerSourceCache(Ae);this.renderLayer(this,Le,Ae,Pe(Ae,Le))}++this.currentLayer}this.renderElevatedRasterBackface=!1}this.currentLayer=0,this.firstLightBeamLayer=Number.MAX_SAFE_INTEGER;let De=0;for(Se&&(De=Se.getShadowCastingLayerCount());this.currentLayer<M.length;){const Ae=T[this.currentLayer],Le=d.getLayerSourceCache(Ae);if(Ae.isSky())++this.currentLayer;else if(pe&&this.style.isLayerDraped(Ae)){if(Ae.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=pe.renderBatch(this.currentLayer)}else{if(this._renderTileClippingMasks(Ae,Le,Le?G[Le.id]:void 0),this.renderLayer(this,Le,Ae,Pe(Ae,Le)),!pe&&Se&&De>0&&Ae.hasShadowPass()&&--De==0&&(Se.drawGroundShadows(),this.firstLightBeamLayer<=this.currentLayer)){const He=this.currentLayer;for(this.renderPass="light-beam",this.currentLayer=this.firstLightBeamLayer;this.currentLayer<=He;this.currentLayer++){const Ge=T[this.currentLayer];if(!Ge.hasLightBeamPass())continue;const Je=d.getLayerSourceCache(Ge);this.renderLayer(this,Je,Ge,Je?q[Je.id]:void 0)}this.currentLayer=He,this.renderPass="translucent"}++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let Ae=null;T.forEach(Le=>{const He=d.getLayerSourceCache(Le);He&&!Le.isHidden(this.transform.zoom)&&He.getVisibleCoordinates().length&&(!Ae||Ae.getSource().maxzoom<He.getSource().maxzoom)&&(Ae=He)}),Ae&&this.options.showTileBoundaries&&Am.debug(this,Ae,Ae.getVisibleCoordinates(),o.ax.red,!1,this.options.showParseStatus)}this.terrain&&this._debugParams.showTerrainProxyTiles&&Am.debug(this,this.terrain.proxySourceCache,this.terrain.proxyCoords,new o.ax(1,.8,.1,1),!0,this.options.showParseStatus),this.options.showPadding&&function(Ae){const Le=Ae.transform.padding;t1(Ae,Ae.transform.height-(Le.top||0),3,Ds),t1(Ae,Le.bottom||0,3,yd),ol(Ae,Le.left||0,3,o5),ol(Ae,Ae.transform.width-(Le.right||0),3,Q_);const He=Ae.transform.centerPoint;(function(Ge,Je,xt,at){co(Ge,Je-1,xt-10,2,20,at),co(Ge,Je-10,xt-1,20,2,at)})(Ae,He.x,Ae.transform.height-He.y,e1)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(performance.now()),this.saveCanvasCopy()),H||(this.conflationActive=!1)}prepareLayer(d){this.gpuTimingStart(d);const{unsupportedLayers:f}=this.transform.projection,x=!f||!f.includes(d.type);if(a1[d.type]&&(x||this.terrain&&d.type==="custom")){const M=this.style.getLayerSourceCache(d);a1[d.type](d,M,this)}this.gpuTimingEnd()}renderLayer(d,f,x,M){x.isHidden(this.transform.zoom)||(x.type==="background"||x.type==="sky"||x.type==="custom"||x.type==="model"||x.type==="raster"||x.type==="raster-particle"||M&&M.length)&&(this.id=x.id,this.gpuTimingStart(x),(!d.transform.projection.unsupportedLayers||!d.transform.projection.unsupportedLayers.includes(x.type)||d.terrain&&x.type==="custom")&&Am[x.type](d,f,x,M,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(d){if(!this.options.gpuTiming)return;const f=this.context.extTimerQuery,x=this.context.gl;let M=this.gpuTimers[d.id];M||(M=this.gpuTimers[d.id]={calls:0,cpuTime:0,query:x.createQuery()}),M.calls++,x.beginQuery(f.TIME_ELAPSED_EXT,M.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const d=this.context.extTimerQuery,f=this.context.gl,x=f.createQuery();this.deferredRenderGpuTimeQueries.push(x),f.beginQuery(d.TIME_ELAPSED_EXT,x)}}gpuTimingDeferredRenderEnd(){this.options.gpuTimingDeferredRender&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}gpuTimingEnd(){this.options.gpuTiming&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}collectGpuTimers(){const d=this.gpuTimers;return this.gpuTimers={},d}collectDeferredRenderGpuQueries(){const d=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],d}queryGpuTimers(d){const f={};for(const x in d){const M=d[x],T=this.context.extTimerQuery,L=T.getQueryParameter(M.query,this.context.gl.QUERY_RESULT)/1e6;T.deleteQueryEXT(M.query),f[x]=L}return f}queryGpuTimeDeferredRender(d){if(!this.options.gpuTimingDeferredRender)return 0;const f=this.context.extTimerQuery,x=this.context.gl;let M=0;for(const T of d)M+=f.getQueryParameter(T,x.QUERY_RESULT)/1e6,f.deleteQueryEXT(T);return M}translatePosMatrix(d,f,x,M,T){if(!x[0]&&!x[1])return d;const L=T?M==="map"?this.transform.angle:0:M==="viewport"?-this.transform.angle:0;if(L){const G=Math.sin(L),q=Math.cos(L);x=[x[0]*q-x[1]*G,x[0]*G+x[1]*q]}const j=[T?x[0]:o.a3(f,x[0],this.transform.zoom),T?x[1]:o.a3(f,x[1],this.transform.zoom),0],H=new Float32Array(16);return o.a6.translate(H,d,j),H}saveTileTexture(d){const f=d.size[0],x=this._tileTextures[f];x?x.push(d):this._tileTextures[f]=[d]}getTileTexture(d){const f=this._tileTextures[d];return f&&f.length>0?f.pop():null}isPatternMissing(d,f){return d===null||d!==void 0&&!this.imageManager.getPattern(d.toString(),f)}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}linearFloatFilteringSupported(){return this.context.extTextureFloatLinear!=null}currentGlobalDefines(d,f,x){const M=x===void 0?this.terrain&&this.terrain.renderingToTexture:x,T=this.terrain&&this.terrain.exaggeration()===0,L=[];return this.style&&this.style.enable3dLights()&&(d==="globeRaster"||d==="terrainRaster"?(L.push("LIGHTING_3D_MODE"),L.push("LIGHTING_3D_ALPHA_EMISSIVENESS")):M||L.push("LIGHTING_3D_MODE")),this.renderPass==="shadow"?this._shadowMapDebug||L.push("DEPTH_TEXTURE"):this.shadowRenderer&&(this.shadowRenderer.useNormalOffset?L.push("RENDER_SHADOWS","DEPTH_TEXTURE","NORMAL_OFFSET"):L.push("RENDER_SHADOWS","DEPTH_TEXTURE")),this.terrainRenderModeElevated()&&(L.push("TERRAIN"),this.linearFloatFilteringSupported()&&L.push("TERRAIN_DEM_FLOAT_FORMAT"),T&&L.push("ZERO_EXAGGERATION")),this.transform.projection.name==="globe"&&L.push("GLOBE"),!this._fogVisible||M||f!==void 0&&!f||L.push("FOG","FOG_DITHERING"),M&&L.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&L.push("OVERDRAW_INSPECTOR"),L}getOrCreateProgram(d,f){this.cache=this.cache||{};const x=f&&f.defines||[],M=f&&f.config,T=f&&f.transformFeedback,L=this.currentGlobalDefines(d,f&&f.overrideFog,f&&f.overrideRtt).concat(x),j=$_.cacheKey(P_[d],d,L,M);return this.cache[j]||(this.cache[j]=new $_(this.context,d,P_[d],M,bI[d],L,T)),this.cache[j]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const d=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(d.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new o.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this._wireframeDebugCache.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}uploadCommonLightUniforms(d,f){if(this.style.enable3dLights()){const x=this.style.directionalLight,M=this.style.ambientLight;if(x&&M){const T=((L,j)=>{const H=L.properties.get("direction"),G=L.properties.get("color").toArray01(),q=L.properties.get("intensity"),J=j.properties.get("color").toArray01(),ie=j.properties.get("intensity"),se=[H.x,H.y,H.z],_e=o.cn(J,ie),ve=o.cn(G,q);return{u_lighting_ambient_color:_e,u_lighting_directional_dir:se,u_lighting_directional_color:ve,u_ground_radiance:L_(se,ve,_e)}})(x,M);f.setLightsUniformValues(d,T)}}}uploadCommonUniforms(d,f,x,M,T){if(this.uploadCommonLightUniforms(d,f),this.terrain&&this.terrain.renderingToTexture)return;const L=this.style.fog;if(L){const j=L.getOpacity(this.transform.pitch),H=((G,q,J,ie,se,_e,ve,Se,pe,Ce,Re,Pe)=>{const De=G.transform,Ae=q.properties.get("color").toArray01();Ae[3]=ie;const Le=G.frameCounter/1e3%1,[He,Ge]=q.properties.get("vertical-range");return{u_fog_matrix:J?De.calculateFogTileMatrix(J):Pe||G.identityMat,u_fog_range:q.getFovAdjustedRange(De._fov),u_fog_color:Ae,u_fog_horizon_blend:q.properties.get("horizon-blend"),u_fog_vertical_limit:[Math.min(He,Ge),Ge],u_fog_temporal_offset:Le,u_frustum_tl:se,u_frustum_tr:_e,u_frustum_br:ve,u_frustum_bl:Se,u_globe_pos:pe,u_globe_radius:Ce,u_viewport:Re,u_globe_transition:o.S(De.zoom),u_is_globe:+(De.projection.name==="globe")}})(this,L,x,j,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*o.f.devicePixelRatio,this.transform.height*o.f.devicePixelRatio],M);f.setFogUniformValues(d,H)}T&&f.setCutoffUniformValues(d,T.uniformValues)}setTileLoadedFlag(d){this.tileLoaded=d}saveCanvasCopy(){const d=this.canvasCopy();d&&(this.frameCopies.push(d),this.tileLoaded=!1)}canvasCopy(){const d=this.context.gl,f=d.createTexture();return d.bindTexture(d.TEXTURE_2D,f),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGBA,0,0,d.drawingBufferWidth,d.drawingBufferHeight,0),f}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const d=this.style&&this.style.fog;return!!d&&d.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const d=this._backgroundTiles,f=this._backgroundTiles={},x=this.transform.coveringTiles({tileSize:512});for(const M of x)f[M.key]=d[M.key]||new rl(M,512,this.transform.tileZoom,this);return f}clearBackgroundTiles(){this._backgroundTiles={}}layerUsedInConflation(d,f){return!(!d.is3D()||d.minzoom&&d.minzoom>this.transform.zoom||d.sourceLayer!=="building"&&(!f||f.type!=="batched-model"))}isTileAffectedByFog(d){if(!this.style||!this.style.fog)return!1;if(this.transform.projection.name==="globe")return!0;let f=this._cachedTileFogOpacities[d.key];return f||(this._cachedTileFogOpacities[d.key]=f=this.style.fog.getOpacityForTile(d)),f[0]>=ar||f[1]>=ar}}function Cm(_,d){let f=!1,x=null;const M=()=>{x=null,f&&(_(),x=setTimeout(M,d),f=!1)};return()=>(f=!0,x||M(),x)}class Dy{constructor(d){this._hashName=d&&encodeURIComponent(d),o.aY(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Cm(this._updateHashUnthrottled.bind(this),300)}addTo(d){return this._map=d,window.addEventListener("hashchange",this._onHashChange,!1),d.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const d=this._map;if(!d)return"";const f=s1(d);if(this._hashName){const x=this._hashName;let M=!1;const T=location.hash.slice(1).split("&").map(L=>{const j=L.split("=")[0];return j===x?(M=!0,`${j}=${f}`):L}).filter(L=>L);return M||T.push(`${x}=${f}`),`#${T.join("&")}`}return`#${f}`}_getCurrentHash(){const d=location.hash.replace("#","");if(this._hashName){let f;return d.split("&").map(x=>x.split("=")).forEach(x=>{x[0]===this._hashName&&(f=x)}),(f&&f[1]||"").split("/")}return d.split("/")}_onHashChange(){const d=this._map;if(!d)return!1;const f=this._getCurrentHash();if(f.length>=3&&!f.some(x=>isNaN(x))){const x=d.dragRotate.isEnabled()&&d.touchZoomRotate.isEnabled()?+(f[3]||0):d.getBearing();return d.jumpTo({center:[+f[2],+f[1]],zoom:+f[0],bearing:x,pitch:+(f[4]||0)}),!0}return!1}_updateHashUnthrottled(){history.replaceState(history.state,"",location.href.replace(/(#.+)?$/,this.getHashString()))}}function s1(_,d){const f=_.getCenter(),x=Math.round(100*_.getZoom())/100,M=Math.ceil((x*Math.LN2+Math.log(512/360/.5))/Math.LN10),T=Math.pow(10,M),L=Math.round(f.lng*T)/T,j=Math.round(f.lat*T)/T,H=_.getBearing(),G=_.getPitch();let q=d?`/${L}/${j}/${x}`:`${x}/${j}/${L}`;return(H||G)&&(q+="/"+Math.round(10*H)/10),G&&(q+=`/${Math.round(G)}`),q}const Mm={linearity:.3,easing:o.c_(0,0,.3,1)},Ls=o.e({deceleration:2500,maxSpeed:1400},Mm),CI=o.e({deceleration:20,maxSpeed:1400},Mm),Ly=o.e({deceleration:1e3,maxSpeed:360},Mm),Qi=o.e({deceleration:1e3,maxSpeed:90},Mm);class bi{constructor(d){this._map=d,this.clear()}clear(){this._inertiaBuffer=[]}record(d){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.f.now(),settings:d})}_drainInertiaBuffer(){const d=this._inertiaBuffer,f=o.f.now();for(;d.length>0&&f-d[0].time>160;)d.shift()}_onMoveEnd(d){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const f={zoom:0,bearing:0,pitch:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:T}of this._inertiaBuffer)f.zoom+=T.zoomDelta||0,f.bearing+=T.bearingDelta||0,f.pitch+=T.pitchDelta||0,T.panDelta&&f.pan._add(T.panDelta),T.around&&(f.around=T.around),T.pinchAround&&(f.pinchAround=T.pinchAround);const x=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,M={};if(f.pan.mag()){const T=Ql(f.pan.mag(),x,o.e({},Ls,d||{}));M.offset=f.pan.mult(T.amount/f.pan.mag()),M.center=this._map.transform.center,Em(M,T)}if(f.zoom){const T=Ql(f.zoom,x,CI);M.zoom=this._map.transform.zoom+T.amount,Em(M,T)}if(f.bearing){const T=Ql(f.bearing,x,Ly);M.bearing=this._map.transform.bearing+o.aa(T.amount,-179,179),Em(M,T)}if(f.pitch){const T=Ql(f.pitch,x,Qi);M.pitch=this._map.transform.pitch+T.amount,Em(M,T)}if(M.zoom||M.bearing){const T=f.pinchAround===void 0?f.around:f.pinchAround;M.around=T?this._map.unproject(T):this._map.getCenter()}return this.clear(),M.noMoveStart=!0,M}}function Em(_,d){(!_.duration||_.duration<d.duration)&&(_.duration=d.duration,_.easing=d.easing)}function Ql(_,d,f){const{maxSpeed:x,linearity:M,deceleration:T}=f,L=o.aa(_*M/(d/1e3),-x,x),j=Math.abs(L)/(T*M);return{easing:f.easing,duration:1e3*j,amount:L*(j/2)}}class As extends o.b{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,f,x,M={}){const T=z(f.getCanvasContainer(),x),L=f.unproject(T);super(d,o.e({point:T,lngLat:L,originalEvent:x},M)),this._defaultPrevented=!1,this.target=f}}class pu extends o.b{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,f,x){const M=d==="touchend"?x.changedTouches:x.touches,T=W(f.getCanvasContainer(),M),L=T.map(H=>f.unproject(H)),j=T.reduce((H,G,q,J)=>H.add(G.div(J.length)),new o.P(0,0));super(d,{points:T,point:j,lngLats:L,lngLat:f.unproject(j),originalEvent:x}),this._defaultPrevented=!1}}class l1 extends o.b{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,f,x){super(d,{originalEvent:x}),this._defaultPrevented=!1}}class c1{constructor(d,f){this._map=d,this._clickTolerance=f.clickTolerance}reset(){this._mousedownPos=void 0}wheel(d){return this._firePreventable(new l1(d.type,this._map,d))}mousedown(d,f){return this._mousedownPos=f,this._firePreventable(new As(d.type,this._map,d))}mouseup(d){this._map.fire(new As(d.type,this._map,d))}preclick(d){const f=o.e({},d);f.type="preclick",this._map.fire(new As(f.type,this._map,f))}click(d,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||(this.preclick(d),this._map.fire(new As(d.type,this._map,d)))}dblclick(d){return this._firePreventable(new As(d.type,this._map,d))}mouseover(d){this._map.fire(new As(d.type,this._map,d))}mouseout(d){this._map.fire(new As(d.type,this._map,d))}touchstart(d){return this._firePreventable(new pu(d.type,this._map,d))}touchmove(d){this._map.fire(new pu(d.type,this._map,d))}touchend(d){this._map.fire(new pu(d.type,this._map,d))}touchcancel(d){this._map.fire(new pu(d.type,this._map,d))}_firePreventable(d){if(this._map.fire(d),d.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class bd{constructor(d){this._map=d}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(d){this._map.fire(new As(d.type,this._map,d))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new As("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(d){this._delayContextMenu?this._contextMenuEvent=d:this._map.fire(new As(d.type,this._map,d)),this._map.listens("contextmenu")&&d.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class _d{constructor(d,f){this._map=d,this._el=d.getCanvasContainer(),this._container=d.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(d,f){this.isEnabled()&&d.shiftKey&&d.button===0&&(k(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(d,f){if(!this._active)return;const x=f,M=this._startPos,T=this._lastPos;if(!M||!T||T.equals(x)||!this._box&&x.dist(M)<this._clickTolerance)return;this._lastPos=x,this._box||(this._box=C("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",d));const L=Math.min(M.x,x.x),j=Math.max(M.x,x.x),H=Math.min(M.y,x.y),G=Math.max(M.y,x.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${L}px,${H}px)`,this._box.style.width=j-L+"px",this._box.style.height=G-H+"px")})}mouseupWindow(d,f){if(!this._active)return;const x=this._startPos,M=f;if(x&&d.button===0){if(this.reset(),B(),x.x!==M.x||x.y!==M.y)return this._map.fire(new o.b("boxzoomend",{originalEvent:d})),{cameraAnimation:T=>T.fitScreenCoordinates(x,M,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",d)}}keydown(d){this._active&&d.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",d))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),F(),delete this._startPos,delete this._lastPos}_fireEvent(d,f){return this._map.fire(new o.b(d,{originalEvent:f}))}}function kp(_,d){const f={};for(let x=0;x<_.length;x++)f[_[x].identifier]=d[x];return f}class Fy{constructor(d){this.reset(),this.numTouches=d.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(d,f,x){(this.centroid||x.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=d.timeStamp),x.length===this.numTouches&&(this.centroid=function(M){const T=new o.P(0,0);for(const L of M)T._add(L);return T.div(M.length)}(f),this.touches=kp(x,f)))}touchmove(d,f,x){if(this.aborted||!this.centroid)return;const M=kp(x,f);for(const T in this.touches){const L=M[T];(!L||L.dist(this.touches[T])>30)&&(this.aborted=!0)}}touchend(d,f,x){if((!this.centroid||d.timeStamp-this.startTime>500)&&(this.aborted=!0),x.length===0){const M=!this.aborted&&this.centroid;if(this.reset(),M)return M}}}class Tm{constructor(d){this.singleTap=new Fy(d),this.numTaps=d.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(d,f,x){this.singleTap.touchstart(d,f,x)}touchmove(d,f,x){this.singleTap.touchmove(d,f,x)}touchend(d,f,x){const M=this.singleTap.touchend(d,f,x);if(M){const T=d.timeStamp-this.lastTime<500,L=!this.lastTap||this.lastTap.dist(M)<30;if(T&&L||this.reset(),this.count++,this.lastTime=d.timeStamp,this.lastTap=M,this.count===this.numTaps)return this.reset(),M}}}class u1{constructor(){this._zoomIn=new Tm({numTouches:1,numTaps:2}),this._zoomOut=new Tm({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(d,f,x){this._zoomIn.touchstart(d,f,x),this._zoomOut.touchstart(d,f,x)}touchmove(d,f,x){this._zoomIn.touchmove(d,f,x),this._zoomOut.touchmove(d,f,x)}touchend(d,f,x){const M=this._zoomIn.touchend(d,f,x),T=this._zoomOut.touchend(d,f,x);return M?(this._active=!0,d.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:L=>L.easeTo({duration:300,zoom:L.getZoom()+1,around:L.unproject(M)},{originalEvent:d})}):T?(this._active=!0,d.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:L=>L.easeTo({duration:300,zoom:L.getZoom()-1,around:L.unproject(T)},{originalEvent:d})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const d1={0:1,2:2};class Dc{constructor(d){this.reset(),this._clickTolerance=d.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(d,f){return!1}_move(d,f){return{}}mousedown(d,f){if(this._lastPoint)return;const x=Y(d);this._correctButton(d,x)&&(this._lastPoint=f,this._eventButton=x)}mousemoveWindow(d,f){const x=this._lastPoint;if(x){if(d.preventDefault(),this._eventButton!=null&&function(M,T){const L=d1[T];return M.buttons===void 0||(M.buttons&L)!==L}(d,this._eventButton))this.reset();else if(this._moved||!(f.dist(x)<this._clickTolerance))return this._moved=!0,this._lastPoint=f,this._move(x,f)}}mouseupWindow(d){this._lastPoint&&Y(d)===this._eventButton&&(this._moved&&B(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class h1 extends Dc{mousedown(d,f){super.mousedown(d,f),this._lastPoint&&(this._active=!0)}_correctButton(d,f){return f===0&&!d.ctrlKey}_move(d,f){return{around:f,panDelta:f.sub(d)}}}class Pm extends Dc{_correctButton(d,f){return f===0&&d.ctrlKey||f===2}_move(d,f){const x=.8*(f.x-d.x);if(x)return this._active=!0,{bearingDelta:x}}contextmenu(d){d.preventDefault()}}class $y extends Dc{_correctButton(d,f){return f===0&&d.ctrlKey||f===2}_move(d,f){const x=-.5*(f.y-d.y);if(x)return this._active=!0,{pitchDelta:x}}contextmenu(d){d.preventDefault()}}class p1{constructor(d,f){this._map=d,this._el=d.getCanvasContainer(),this._minTouches=1,this._clickTolerance=f.clickTolerance||1,this.reset(),o.aY(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0)}touchstart(d,f,x){return this._calculateTransform(d,f,x)}touchmove(d,f,x){if(this._active&&!(x.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(x.length===1&&!o.c$())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return d.cancelable&&d.preventDefault(),this._calculateTransform(d,f,x)}}touchend(d,f,x){this._calculateTransform(d,f,x),this._active&&x.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(d,f,x){x.length>0&&(this._active=!0);const M=kp(x,f),T=new o.P(0,0),L=new o.P(0,0);let j=0;for(const G in M){const q=M[G],J=this._touches[G];J&&(T._add(q),L._add(q.sub(J)),j++,M[G]=q)}if(this._touches=M,j<this._minTouches||!L.mag())return;const H=L.div(j);return this._sum._add(H),this._sum.mag()<this._clickTolerance?void 0:{around:T.div(j),panDelta:H}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=C("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.removeAttribute("role")},500)}}class fa{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(d){}_move(d,f,x){return{}}touchstart(d,f,x){this._firstTwoTouches||x.length<2||(this._firstTwoTouches=[x[0].identifier,x[1].identifier],this._start([f[0],f[1]]))}touchmove(d,f,x){const M=this._firstTwoTouches;if(!M)return;d.preventDefault();const[T,L]=M,j=Np(x,f,T),H=Np(x,f,L);if(!j||!H)return;const G=this._aroundCenter?null:j.add(H).div(2);return this._move([j,H],G,d)}touchend(d,f,x){if(!this._firstTwoTouches)return;const[M,T]=this._firstTwoTouches,L=Np(x,f,M),j=Np(x,f,T);L&&j||(this._active&&B(),this.reset())}touchcancel(){this.reset()}enable(d){this._enabled=!0,this._aroundCenter=!!d&&d.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Np(_,d,f){for(let x=0;x<_.length;x++)if(_[x].identifier===f)return d[x]}function jy(_,d){return Math.log(_/d)/Math.LN2}class Im extends fa{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(d){this._startDistance=this._distance=d[0].dist(d[1])}_move(d,f){const x=this._distance;if(this._distance=d[0].dist(d[1]),this._active||!(Math.abs(jy(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:jy(this._distance,x),pinchAround:f}}}function xd(_,d){return 180*_.angleWith(d)/Math.PI}class f1 extends fa{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(d){this._startVector=this._vector=d[0].sub(d[1]),this._minDiameter=d[0].dist(d[1])}_move(d,f){const x=this._vector;if(this._vector=d[0].sub(d[1]),x&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:xd(this._vector,x),pinchAround:f}}_isBelowThreshold(d){this._minDiameter=Math.min(this._minDiameter,d.mag());const f=25/(Math.PI*this._minDiameter)*360,x=this._startVector;if(!x)return!1;const M=xd(d,x);return Math.abs(M)<f}}function Om(_){return Math.abs(_.y)>Math.abs(_.x)}class m1 extends fa{constructor(d){super(),this._map=d}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(d){this._lastPoints=d,Om(d[0].sub(d[1]))&&(this._valid=!1)}_move(d,f,x){const M=this._lastPoints;if(!M)return;const T=d[0].sub(M[0]),L=d[1].sub(M[1]);return this._map._cooperativeGestures&&!o.c$()&&x.touches.length<3||(this._valid=this.gestureBeginsVertically(T,L,x.timeStamp),!this._valid)?void 0:(this._lastPoints=d,this._active=!0,{pitchDelta:(T.y+L.y)/2*-.5})}gestureBeginsVertically(d,f,x){if(this._valid!==void 0)return this._valid;const M=d.mag()>=2,T=f.mag()>=2;if(!M&&!T)return;if(!M||!T)return this._firstMove==null&&(this._firstMove=x),x-this._firstMove<100&&void 0;const L=d.y>0==f.y>0;return Om(d)&&Om(f)&&L}}const vh={panStep:100,bearingStep:15,pitchStep:10};class km{constructor(){const d=vh;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(d){if(d.altKey||d.ctrlKey||d.metaKey)return;let f=0,x=0,M=0,T=0,L=0;switch(d.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:d.shiftKey?x=-1:(d.preventDefault(),T=-1);break;case 39:d.shiftKey?x=1:(d.preventDefault(),T=1);break;case 38:d.shiftKey?M=1:(d.preventDefault(),L=-1);break;case 40:d.shiftKey?M=-1:(d.preventDefault(),L=1);break;default:return}return this._rotationDisabled&&(x=0,M=0),{cameraAnimation:j=>{const H=j.getZoom();j.easeTo({duration:300,easeId:"keyboardHandler",easing:g1,zoom:f?Math.round(H)+f*(d.shiftKey?2:1):H,bearing:j.getBearing()+x*this._bearingStep,pitch:j.getPitch()+M*this._pitchStep,offset:[-T*this._panStep,-L*this._panStep],center:j.getCenter()},{originalEvent:d})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function g1(_){return _*(2-_)}const Nm=4.000244140625,y1=1/450;class c5{constructor(d,f){this._map=d,this._el=d.getCanvasContainer(),this._handler=f,this._delta=0,this._lastDelta=0,this._defaultZoomRate=.01,this._wheelZoomRate=y1,o.aY(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(d){this._defaultZoomRate=d}setWheelZoomRate(d){this._wheelZoomRate=d}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(d){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!d&&d.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(d){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(d.ctrlKey||d.metaKey||this.isZooming()||o.c$()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let f=d.deltaMode===WheelEvent.DOM_DELTA_LINE?40*d.deltaY:d.deltaY;const x=o.f.now(),M=x-(this._lastWheelEventTime||0);this._lastWheelEventTime=x,f!==0&&f%Nm==0?this._type="wheel":f!==0&&Math.abs(f)<4?this._type="trackpad":M>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,d)):this._type||(this._type=Math.abs(M*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),d.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=d,this._delta-=f,this._active||this._start(d)),d.preventDefault()}_onTimeout(d){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(d)}_start(d){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const f=z(this._el,d);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:f,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const d=this._map.transform;this._type==="wheel"&&d.projection.wrap&&(d._center.lng>=180||d._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const f=()=>d._terrainEnabled()&&this._aroundCoord?d.computeZoomRelativeTo(this._aroundCoord):d.zoom;if(this._delta!==0){const G=this._type==="wheel"&&Math.abs(this._delta)>Nm?this._wheelZoomRate:this._defaultZoomRate;let q=2/(1+Math.exp(-Math.abs(this._delta*G)));this._delta<0&&q!==0&&(q=1/q);const J=f(),ie=Math.pow(2,J),se=typeof this._targetZoom=="number"?d.zoomScale(this._targetZoom):ie;this._targetZoom=Math.min(d.maxZoom,Math.max(d.minZoom,d.scaleZoom(se*q))),this._type==="wheel"&&(this._startZoom=J,this._easing=this._smoothOutEasing(200)),this._lastDelta=this._delta,this._delta=0}const x=typeof this._targetZoom=="number"?this._targetZoom:f(),M=this._startZoom,T=this._easing;let L,j=!1;if(this._type==="wheel"&&M&&T){const G=Math.min((o.f.now()-this._lastWheelEventTime)/200,1),q=T(G);L=o.U(M,x,q),G<1?this._frameId||(this._frameId=!0):j=!0}else L=x,j=!0;this._active=!0,j&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200));let H=L-f();return H*this._lastDelta<0&&(H=0),{noInertia:!0,needsRenderFrame:!j,zoomDelta:H,around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(d){let f=o.d0;if(this._prevEase){const x=this._prevEase,M=(o.f.now()-x.start)/x.duration,T=x.easing(M+.01)-x.easing(M),L=.27/Math.sqrt(T*T+1e-4)*.01,j=Math.sqrt(.0729-L*L);f=o.c_(L,j,.25,1)}return this._prevEase={start:o.f.now(),duration:d,easing:f},f}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=C("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.removeAttribute("role")},200)}}class u5{constructor(d,f){this._clickZoom=d,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class d5{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(d,f){return d.preventDefault(),{cameraAnimation:x=>{x.easeTo({duration:300,zoom:x.getZoom()+(d.shiftKey?-1:1),around:x.unproject(f)},{originalEvent:d})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class h5{constructor(){this._tap=new Tm({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(d,f,x){this._swipePoint||(this._tapTime&&d.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?x.length>0&&(this._swipePoint=f[0],this._swipeTouch=x[0].identifier):this._tap.touchstart(d,f,x))}touchmove(d,f,x){if(this._tapTime){if(this._swipePoint){if(x[0].identifier!==this._swipeTouch)return;const M=f[0],T=M.y-this._swipePoint.y;return this._swipePoint=M,d.preventDefault(),this._active=!0,{zoomDelta:T/128}}}else this._tap.touchmove(d,f,x)}touchend(d,f,x){this._tapTime?this._swipePoint&&x.length===0&&this.reset():this._tap.touchend(d,f,x)&&(this._tapTime=d.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class p5{constructor(d,f,x){this._el=d,this._mousePan=f,this._touchPan=x}enable(d){this._inertiaOptions=d||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class f5{constructor(d,f,x){this._pitchWithRotate=d.pitchWithRotate,this._mouseRotate=f,this._mousePitch=x}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class m5{constructor(d,f,x,M){this._el=d,this._touchZoom=f,this._touchRotate=x,this._tapDragZoom=M,this._rotationDisabled=!1,this._enabled=!0}enable(d){this._touchZoom.enable(d),this._rotationDisabled||this._touchRotate.enable(d),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Rm=_=>_.zoom||_.drag||_.pitch||_.rotate;class g5 extends o.b{}class y5{constructor(){this.constants=[1,1,.01],this.radius=0}setup(d,f){const x=o.N.sub([],f,d);this.radius=o.N.length(x[2]<0?o.N.div([],x,this.constants):[x[0],x[1],0])}projectRay(d){o.N.div(d,d,this.constants),o.N.normalize(d,d),o.N.mul(d,d,this.constants);const f=o.N.scale([],d,this.radius);if(f[2]>0){const x=o.N.scale([],[0,0,1],o.N.dot(f,[0,0,1])),M=o.N.scale([],o.N.normalize([],[f[0],f[1],0]),this.radius),T=o.N.add([],f,o.N.scale([],o.N.sub([],o.N.add([],M,x),f),2));f[0]=T[0],f[1]=T[1]}return f}}function Dm(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class MI{constructor(d,f){this._map=d,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new bi(d),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new y5,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(f),o.aY(["handleEvent","handleWindowEvent"],this);const x=this._el;this._listeners=[[x,"touchstart",{passive:!0}],[x,"touchmove",{passive:!1}],[x,"touchend",void 0],[x,"touchcancel",void 0],[x,"mousedown",void 0],[x,"mousemove",void 0],[x,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[x,"mouseover",void 0],[x,"mouseout",void 0],[x,"dblclick",void 0],[x,"click",void 0],[x,"keydown",{capture:!1}],[x,"keyup",void 0],[x,"wheel",{passive:!1}],[x,"contextmenu",void 0],[window,"blur",void 0]];for(const[M,T,L]of this._listeners){const j=M===document?this.handleWindowEvent:this.handleEvent;M.addEventListener(T,j,L)}}destroy(){for(const[d,f,x]of this._listeners){const M=d===document?this.handleWindowEvent:this.handleEvent;d.removeEventListener(f,M,x)}}_addDefaultHandlers(d){const f=this._map,x=f.getCanvasContainer();this._add("mapEvent",new c1(f,d));const M=f.boxZoom=new _d(f,d);this._add("boxZoom",M);const T=new u1,L=new d5;f.doubleClickZoom=new u5(L,T),this._add("tapZoom",T),this._add("clickZoom",L);const j=new h5;this._add("tapDragZoom",j);const H=f.touchPitch=new m1(f);this._add("touchPitch",H);const G=new Pm(d),q=new $y(d);f.dragRotate=new f5(d,G,q),this._add("mouseRotate",G,["mousePitch"]),this._add("mousePitch",q,["mouseRotate"]);const J=new h1(d),ie=new p1(f,d);f.dragPan=new p5(x,J,ie),this._add("mousePan",J),this._add("touchPan",ie,["touchZoom","touchRotate"]);const se=new f1,_e=new Im;f.touchZoomRotate=new m5(x,_e,se,j),this._add("touchRotate",se,["touchPan","touchZoom"]),this._add("touchZoom",_e,["touchPan","touchRotate"]),this._add("blockableMapEvent",new bd(f));const ve=f.scrollZoom=new c5(f,this);this._add("scrollZoom",ve,["mousePan"]);const Se=f.keyboard=new km;this._add("keyboard",Se);for(const pe of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])d.interactive&&d[pe]&&f[pe].enable(d[pe])}_add(d,f,x){this._handlers.push({handlerName:d,handler:f,allowed:x}),this._handlersById[d]=f}stop(d){if(!this._updatingCamera){for(const{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},d),this._changes=[],this._originalZoom=void 0}}isActive(){for(const{handler:d}of this._handlers)if(d.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Rm(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(d,f,x){for(const M in d)if(M!==x&&(!f||f.indexOf(M)<0))return!0;return!1}handleWindowEvent(d){this.handleEvent(d,`${d.type}Window`)}_getMapTouches(d){const f=[];for(const x of d)this._el.contains(x.target)&&f.push(x);return f}handleEvent(d,f){this._updatingCamera=!0;const x=d.type==="renderFrame",M=x?void 0:d,T={needsRenderFrame:!1},L={},j={},H=d.touches?this._getMapTouches(d.touches):void 0,G=H?W(this._el,H):x?void 0:z(this._el,d);for(const{handlerName:ie,handler:se,allowed:_e}of this._handlers){if(!se.isEnabled())continue;let ve;this._blockedByActive(j,_e,ie)?se.reset():se[f||d.type]&&(ve=se[f||d.type](d,G,H),this.mergeHandlerResult(T,L,ve,ie,M),ve&&ve.needsRenderFrame&&this._triggerRenderFrame()),(ve||se.isActive())&&(j[ie]=se)}const q={};for(const ie in this._previousActiveHandlers)j[ie]||(q[ie]=M);this._previousActiveHandlers=j,(Object.keys(q).length||Dm(T))&&(this._changes.push([T,L,q]),this._triggerRenderFrame()),(Object.keys(j).length||Dm(T))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:J}=T;J&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],J(this._map))}mergeHandlerResult(d,f,x,M,T){if(!x)return;o.e(d,x);const L={handlerName:M,originalEvent:x.originalEvent||T};x.zoomDelta!==void 0&&(f.zoom=L),x.panDelta!==void 0&&(f.drag=L),x.pitchDelta!==void 0&&(f.pitch=L),x.bearingDelta!==void 0&&(f.rotate=L)}_applyChanges(){const d={},f={},x={};for(const[M,T,L]of this._changes)M.panDelta&&(d.panDelta=(d.panDelta||new o.P(0,0))._add(M.panDelta)),M.zoomDelta&&(d.zoomDelta=(d.zoomDelta||0)+M.zoomDelta),M.bearingDelta&&(d.bearingDelta=(d.bearingDelta||0)+M.bearingDelta),M.pitchDelta&&(d.pitchDelta=(d.pitchDelta||0)+M.pitchDelta),M.around!==void 0&&(d.around=M.around),M.aroundCoord!==void 0&&(d.aroundCoord=M.aroundCoord),M.pinchAround!==void 0&&(d.pinchAround=M.pinchAround),M.noInertia&&(d.noInertia=M.noInertia),o.e(f,T),o.e(x,L);this._updateMapTransform(d,f,x),this._changes=[]}_updateMapTransform(d,f,x){const M=this._map,T=M.transform,L=Ce=>[Ce.x,Ce.y,Ce.z];if((Ce=>{const Re=this._eventsInProgress.drag;return Re&&!this._handlersById[Re.handlerName].isActive()})()&&!Dm(d)){const Ce=T.zoom;T.cameraElevationReference="sea",this._originalZoom!=null&&T._orthographicProjectionAtLowPitch&&T.projection.name!=="globe"&&T.pitch===0?(T.cameraElevationReference="ground",T.zoom=this._originalZoom):(T.recenterOnTerrain(),T.cameraElevationReference="ground"),Ce!==T.zoom&&this._map._update(!0)}if(T._isCameraConstrained&&M._stop(!0),!Dm(d))return void this._fireEvents(f,x,!0);let{panDelta:j,zoomDelta:H,bearingDelta:G,pitchDelta:q,around:J,aroundCoord:ie,pinchAround:se}=d;T._isCameraConstrained&&(H>0&&(H=0),T._isCameraConstrained=!1),se!==void 0&&(J=se),(H||(Ce=>f[Ce]&&!this._eventsInProgress[Ce])("drag"))&&J&&(this._dragOrigin=L(T.pointCoordinate3D(J)),this._originalZoom=T.zoom,this._trackingEllipsoid.setup(T._camera.position,this._dragOrigin)),T.cameraElevationReference="sea",M._stop(!0),J=J||M.transform.centerPoint,G&&(T.bearing+=G),q&&(T.pitch+=q),T._updateCameraState();const _e=[0,0,0];if(j)if(T.projection.name==="mercator"){const Ce=this._trackingEllipsoid.projectRay(T.screenPointToMercatorRay(J).dir),Re=this._trackingEllipsoid.projectRay(T.screenPointToMercatorRay(J.sub(j)).dir);_e[0]=Re[0]-Ce[0],_e[1]=Re[1]-Ce[1]}else{const Ce=T.pointCoordinate(J);if(T.projection.name==="globe"){j=j.rotate(-T.angle);const Re=T._pixelsPerMercatorPixel/T.worldSize;_e[0]=-j.x*o.d1(o.au(Ce.y))*Re,_e[1]=-j.y*o.d1(T.center.lat)*Re}else{const Re=T.pointCoordinate(J.sub(j));Ce&&Re&&(_e[0]=Re.x-Ce.x,_e[1]=Re.y-Ce.y)}}const ve=T.zoom,Se=[0,0,0];if(H){const Ce=L(ie||T.pointCoordinate3D(J)),Re={dir:o.N.normalize([],o.N.sub([],Ce,T._camera.position))};if(Re.dir[2]<0){const Pe=T.zoomDeltaToMovement(Ce,H);o.N.scale(Se,Re.dir,Pe)}}const pe=o.N.add(_e,_e,Se);T._translateCameraConstrained(pe),H&&Math.abs(T.zoom-ve)>1e-4&&T.recenterOnTerrain(),T.cameraElevationReference="ground",this._map._update(),d.noInertia||this._inertia.record(d),this._fireEvents(f,x,!0)}_fireEvents(d,f,x){const M=Rm(this._eventsInProgress),T=Rm(d),L={};for(const q in d){const{originalEvent:J}=d[q];this._eventsInProgress[q]||(L[`${q}start`]=J),this._eventsInProgress[q]=d[q]}!M&&T&&this._fireEvent("movestart",T.originalEvent);for(const q in L)this._fireEvent(q,L[q]);T&&this._fireEvent("move",T.originalEvent);for(const q in d){const{originalEvent:J}=d[q];this._fireEvent(q,J)}const j={};let H;for(const q in this._eventsInProgress){const{handlerName:J,originalEvent:ie}=this._eventsInProgress[q];this._handlersById[J].isActive()||(delete this._eventsInProgress[q],H=f[J]||ie,j[`${q}end`]=H)}for(const q in j)this._fireEvent(q,j[q]);const G=Rm(this._eventsInProgress);if(x&&(M||T)&&!G){this._updatingCamera=!0;const q=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),J=ie=>ie!==0&&-this._bearingSnap<ie&&ie<this._bearingSnap;q?(J(q.bearing||this._map.getBearing())&&(q.bearing=0),this._map.easeTo(q,{originalEvent:H})):(this._map.fire(new o.b("moveend",{originalEvent:H})),J(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(d,f){this._map.fire(new o.b(d,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(d=>{this._frameId=void 0,this.handleEvent(new g5("renderFrame",{timeStamp:d})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const v5="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Ao extends o.E{constructor(d,f){super(),this._moving=!1,this._zooming=!1,this.transform=d,this._bearingSnap=f.bearingSnap,this._respectPrefersReducedMotion=f.respectPrefersReducedMotion!==!1,o.aY(["_renderFrameCallback"],this)}getCenter(){return new o.bn(this.transform.center.lng,this.transform.center.lat)}setCenter(d,f){return this.jumpTo({center:d},f)}panBy(d,f,x){return d=o.P.convert(d).mult(-1),this.panTo(this.transform.center,o.e({offset:d},f),x)}panTo(d,f,x){return this.easeTo(o.e({center:d},f),x)}getZoom(){return this.transform.zoom}setZoom(d,f){return this.jumpTo({zoom:d},f),this}zoomTo(d,f,x){return this.easeTo(o.e({zoom:d},f),x)}zoomIn(d,f){return this.zoomTo(this.getZoom()+1,d,f),this}zoomOut(d,f){return this.zoomTo(this.getZoom()-1,d,f),this}getBearing(){return this.transform.bearing}setBearing(d,f){return this.jumpTo({bearing:d},f),this}getPadding(){return this.transform.padding}setPadding(d,f){return this.jumpTo({padding:d},f),this}rotateTo(d,f,x){return this.easeTo(o.e({bearing:d},f),x)}resetNorth(d,f){return this.rotateTo(0,o.e({duration:1e3},d),f),this}resetNorthPitch(d,f){return this.easeTo(o.e({bearing:0,pitch:0,duration:1e3},d),f),this}snapToNorth(d,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(d,f):this}getPitch(){return this.transform.pitch}setPitch(d,f){return this.jumpTo({pitch:d},f),this}cameraForBounds(d,f){d=o.ad.convert(d);const x=f&&f.bearing||0,M=f&&f.pitch||0,T=d.getNorthWest(),L=d.getSouthEast();return this._cameraForBounds(this.transform,T,L,x,M,f)}_extendCameraOptions(d){const f={top:0,bottom:0,right:0,left:0};if(typeof(d=o.e({padding:f,offset:[0,0],maxZoom:this.transform.maxZoom},d)).padding=="number"){const x=d.padding;d.padding={top:x,bottom:x,right:x,left:x}}return d.padding=o.e(f,d.padding),d}_minimumAABBFrustumDistance(d,f){const x=f.max[0]-f.min[0],M=f.max[1]-f.min[1];return x/M>d.aspect?x/(2*Math.tan(.5*d.fovX)*d.aspect):M/(2*Math.tan(.5*d.fovY)*d.aspect)}_cameraForBoundsOnGlobe(d,f,x,M,T,L){const j=d.clone(),H=this._extendCameraOptions(L);j.bearing=M,j.pitch=T;const G=o.bn.convert(f),q=o.bn.convert(x),J=.5*(G.lat+q.lat),ie=.5*(G.lng+q.lng),se=o.d2(J,ie),_e=o.N.normalize([],se),ve=o.N.normalize([],o.N.cross([],_e,[0,1,0])),Se=o.N.cross([],ve,_e),pe=[ve[0],ve[1],ve[2],0,Se[0],Se[1],Se[2],0,_e[0],_e[1],_e[2],0,0,0,0,1],Ce=[se,o.d2(G.lat,G.lng),o.d2(q.lat,G.lng),o.d2(q.lat,q.lng),o.d2(G.lat,q.lng),o.d2(J,G.lng),o.d2(J,q.lng),o.d2(G.lat,ie),o.d2(q.lat,ie)];let Re=o.bS.fromPoints(Ce.map(vt=>[o.N.dot(ve,vt),o.N.dot(Se,vt),o.N.dot(_e,vt)]));const Pe=o.N.transformMat4([],Re.center,pe);o.N.squaredLength(Pe)===0&&o.N.set(Pe,0,0,1),o.N.normalize(Pe,Pe),o.N.scale(Pe,Pe,o.ab),j.center=o.d3(Pe);const De=j.getWorldToCameraMatrix(),Ae=o.a6.invert(new Float64Array(16),De);Re=o.bS.applyTransform(Re,o.a6.multiply([],De,pe)),o.N.transformMat4(Pe,Pe,De);const Le=.5*(Re.max[2]-Re.min[2]),He=this._minimumAABBFrustumDistance(j,Re),Ge=o.N.scale([],[0,0,1],Le),Je=o.N.add(Ge,Pe,Ge),xt=He+(j.pitch===0?0:o.N.distance(Pe,Je)),at=j.globeCenterInViewSpace,Nt=o.N.sub([],Pe,[at[0],at[1],at[2]]);o.N.normalize(Nt,Nt),o.N.scale(Nt,Nt,xt);const It=o.N.add([],Pe,Nt);o.N.transformMat4(It,It,Ae);const Yt=o.d4/o.ab,ct=o.N.length(It),Ct=o.bl(Math.max(ct*Yt-o.d4,Number.EPSILON),0),Ye=Math.min(j.zoomFromMercatorZAdjusted(Ct),H.maxZoom);return Ye>.5*(o.bG+o.bx)?(j.setProjection({name:"mercator"}),j.zoom=Ye,this._cameraForBounds(j,f,x,M,T,L)):{center:j.center,zoom:Ye,bearing:M,pitch:T}}queryTerrainElevation(d,f){const x=this.transform.elevation;return x?(f=o.e({},{exaggerated:!0},f),x.getAtPoint(o.L.fromLngLat(d),null,f.exaggerated)):null}_cameraForBounds(d,f,x,M,T,L){if(d.projection.name==="globe")return this._cameraForBoundsOnGlobe(d,f,x,M,T,L);const j=d.clone(),H=this._extendCameraOptions(L),G=j.padding;j.bearing=M,j.pitch=T;const q=o.bn.convert(f),J=o.bn.convert(x),ie=new o.bn(q.lng,J.lat),se=new o.bn(J.lng,q.lat),_e=j.project(q),ve=j.project(J),Se=this.queryTerrainElevation(q),pe=this.queryTerrainElevation(J),Ce=this.queryTerrainElevation(ie),Re=this.queryTerrainElevation(se),Pe=[[_e.x,_e.y,Math.min(Se||0,pe||0,Ce||0,Re||0)],[ve.x,ve.y,Math.max(Se||0,pe||0,Ce||0,Re||0)]];let De=o.bS.fromPoints(Pe);const Ae=j.getWorldToCameraMatrix(),Le=o.a6.invert(new Float64Array(16),Ae);De=o.bS.applyTransform(De,Ae);const He=o.N.sub([],De.max,De.min),Ge=G.left||0,Je=G.right||0,xt=G.bottom||0,at=G.top||0,{left:Nt,right:It,top:Yt,bottom:ct}=H.padding,Ct=.5*(Ge+Je),Ye=.5*(at+xt),vt=Math.min(j.scaleZoom(j.scale*Math.min((j.width-(Ge+Je+Nt+It))/He[0],(j.height-(xt+at+ct+Yt))/He[1])),H.maxZoom),tn=j.scale/j.zoomScale(vt);De=new o.bS([De.min[0]-(Nt+Ct)*tn,De.min[1]-(ct+Ye)*tn,De.min[2]],[De.max[0]+(It+Ct)*tn,De.max[1]+(Yt+Ye)*tn,De.max[2]]);const yn=.5*He[2],mn=this._minimumAABBFrustumDistance(j,De),Mn=[0,0,1,0];o.a7.transformMat4(Mn,Mn,Ae),o.a7.normalize(Mn,Mn);const Vn=o.N.scale([],Mn,mn+yn),nr=o.N.add([],De.center,Vn),Xn=(typeof H.offset.x=="number"&&typeof H.offset.y=="number"?new o.P(H.offset.x,H.offset.y):o.P.convert(H.offset)).rotate(-o.bj(M));De.center[0]-=Xn.x*tn,De.center[1]+=Xn.y*tn,o.N.transformMat4(De.center,De.center,Le),o.N.transformMat4(nr,nr,Le);const Jn=[De.center[0],De.center[1],nr[2]*j.pixelsPerMeter];o.N.scale(Jn,Jn,1/j.worldSize);const Nr=o.at(Jn[0]),br=o.au(Jn[1]),Tr=Math.min(j._zoomFromMercatorZ(Jn[2]),H.maxZoom),Cr=new o.bn(Nr,br);return j.mercatorFromTransition&&Tr<.5*(o.bG+o.bx)?(j.setProjection({name:"globe"}),j.zoom=Tr,this._cameraForBounds(j,f,x,M,T,L)):{center:Cr,zoom:Tr,bearing:M,pitch:T}}fitBounds(d,f,x){const M=this.cameraForBounds(d,f);return this._fitInternal(M,f,x)}fitScreenCoordinates(d,f,x,M,T){const L=o.P.convert(d),j=o.P.convert(f),H=new o.P(Math.min(L.x,j.x),Math.min(L.y,j.y)),G=new o.P(Math.max(L.x,j.x),Math.max(L.y,j.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(L,j))return this;const q=this.transform.pointLocation3D(H),J=this.transform.pointLocation3D(G),ie=this.transform.pointLocation3D(new o.P(H.x,G.y)),se=this.transform.pointLocation3D(new o.P(G.x,H.y)),_e=[Math.min(q.lng,J.lng,ie.lng,se.lng),Math.min(q.lat,J.lat,ie.lat,se.lat)],ve=[Math.max(q.lng,J.lng,ie.lng,se.lng),Math.max(q.lat,J.lat,ie.lat,se.lat)],Se=M&&M.pitch?M.pitch:this.getPitch(),pe=this._cameraForBounds(this.transform,_e,ve,x,Se,M);return this._fitInternal(pe,M,T)}_fitInternal(d,f,x){return d?(delete(f=o.e(d,f)).padding,f.linear?this.easeTo(f,x):this.flyTo(f,x)):this}jumpTo(d,f){this.stop();const x=d.preloadOnly?this.transform.clone():this.transform;let M=!1,T=!1,L=!1;return"zoom"in d&&x.zoom!==+d.zoom&&(M=!0,x.zoom=+d.zoom),d.center!==void 0&&(x.center=o.bn.convert(d.center)),"bearing"in d&&x.bearing!==+d.bearing&&(T=!0,x.bearing=+d.bearing),"pitch"in d&&x.pitch!==+d.pitch&&(L=!0,x.pitch=+d.pitch),d.padding==null||x.isPaddingEqual(d.padding)||(x.padding=d.padding),d.preloadOnly?(this._preloadTiles(x),this):(this.fire(new o.b("movestart",f)).fire(new o.b("move",f)),M&&this.fire(new o.b("zoomstart",f)).fire(new o.b("zoom",f)).fire(new o.b("zoomend",f)),T&&this.fire(new o.b("rotatestart",f)).fire(new o.b("rotate",f)).fire(new o.b("rotateend",f)),L&&this.fire(new o.b("pitchstart",f)).fire(new o.b("pitch",f)).fire(new o.b("pitchend",f)),this.fire(new o.b("moveend",f)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||o.w(v5),this.transform.getFreeCameraOptions()}setFreeCameraOptions(d,f){const x=this.transform;if(!x.projection.supportsFreeCamera)return o.w(v5),this;this.stop();const M=x.zoom,T=x.pitch,L=x.bearing;x.setFreeCameraOptions(d);const j=M!==x.zoom,H=T!==x.pitch,G=L!==x.bearing;return this.fire(new o.b("movestart",f)).fire(new o.b("move",f)),j&&this.fire(new o.b("zoomstart",f)).fire(new o.b("zoom",f)).fire(new o.b("zoomend",f)),G&&this.fire(new o.b("rotatestart",f)).fire(new o.b("rotate",f)).fire(new o.b("rotateend",f)),H&&this.fire(new o.b("pitchstart",f)).fire(new o.b("pitch",f)).fire(new o.b("pitchend",f)),this.fire(new o.b("moveend",f)),this}easeTo(d,f){this._stop(!1,d.easeId),((d=o.e({offset:[0,0],duration:500,easing:o.d0},d)).animate===!1||this._prefersReducedMotion(d))&&(d.duration=0);const x=this.transform,M=this.getZoom(),T=this.getBearing(),L=this.getPitch(),j=this.getPadding(),H="zoom"in d?+d.zoom:M,G="bearing"in d?this._normalizeBearing(d.bearing,T):T,q="pitch"in d?+d.pitch:L,J="padding"in d?d.padding:x.padding,ie=o.P.convert(d.offset);let se,_e,ve;if(x.projection.name==="globe"){const Ge=o.L.fromLngLat(x.center),Je=ie.rotate(-x.angle);Ge.x+=Je.x/x.worldSize,Ge.y+=Je.y/x.worldSize;const xt=Ge.toLngLat(),at=o.bn.convert(d.center||xt);this._normalizeCenter(at),se=x.centerPoint.add(Je),_e=new o.P(Ge.x,Ge.y).mult(x.worldSize),ve=new o.P(o.a5(at.lng),o.ae(at.lat)).mult(x.worldSize).sub(_e)}else{se=x.centerPoint.add(ie);const Ge=x.pointLocation(se),Je=o.bn.convert(d.center||Ge);this._normalizeCenter(Je),_e=x.project(Ge),ve=x.project(Je).sub(_e)}const Se=x.zoomScale(H-M);let pe,Ce;d.around&&(pe=o.bn.convert(d.around),Ce=x.locationPoint(pe));const Re=this._zooming||H!==M,Pe=this._rotating||T!==G,De=this._pitching||q!==L,Ae=!x.isPaddingEqual(J),Le=Ge=>Je=>{if(Re&&(Ge.zoom=o.U(M,H,Je)),Pe&&(Ge.bearing=o.U(T,G,Je)),De&&(Ge.pitch=o.U(L,q,Je)),Ae&&(Ge.interpolatePadding(j,J,Je),se=Ge.centerPoint.add(ie)),pe)Ge.setLocationAtPoint(pe,Ce);else{const xt=Ge.zoomScale(Ge.zoom-M),at=H>M?Math.min(2,Se):Math.max(.5,Se),Nt=Math.pow(at,1-Je),It=Ge.unproject(_e.add(ve.mult(Je*Nt)).mult(xt));Ge.setLocationAtPoint(Ge.renderWorldCopies?It.wrap():It,se)}return d.preloadOnly||this._fireMoveEvents(f),Ge};if(d.preloadOnly){const Ge=this._emulate(Le,d.duration,x);return this._preloadTiles(Ge),this}const He={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=Re,this._rotating=Pe,this._pitching=De,this._easeId=d.easeId,this._prepareEase(f,d.noMoveStart,He),this._ease(Le(x),Ge=>{x.cameraElevationReference==="sea"&&x.recenterOnTerrain(),this._afterEase(f,Ge)},d),this}_prepareEase(d,f,x={}){this._moving=!0,this.transform.cameraElevationReference="sea",this.transform._orthographicProjectionAtLowPitch&&this.transform.pitch===0&&this.transform.projection.name!=="globe"&&(this.transform.cameraElevationReference="ground"),f||x.moving||this.fire(new o.b("movestart",d)),this._zooming&&!x.zooming&&this.fire(new o.b("zoomstart",d)),this._rotating&&!x.rotating&&this.fire(new o.b("rotatestart",d)),this._pitching&&!x.pitching&&this.fire(new o.b("pitchstart",d))}_fireMoveEvents(d){this.fire(new o.b("move",d)),this._zooming&&this.fire(new o.b("zoom",d)),this._rotating&&this.fire(new o.b("rotate",d)),this._pitching&&this.fire(new o.b("pitch",d))}_afterEase(d,f){if(this._easeId&&f&&this._easeId===f)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const x=this._zooming,M=this._rotating,T=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,x&&this.fire(new o.b("zoomend",d)),M&&this.fire(new o.b("rotateend",d)),T&&this.fire(new o.b("pitchend",d)),this.fire(new o.b("moveend",d))}flyTo(d,f){if(this._prefersReducedMotion(d)){const ct=o.ac(d,["center","zoom","bearing","pitch","around"]);return this.jumpTo(ct,f)}this.stop(),d=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.d0},d);const x=this.transform,M=this.getZoom(),T=this.getBearing(),L=this.getPitch(),j="zoom"in d?o.aa(+d.zoom,x.minZoom,x.maxZoom):M,H="bearing"in d?this._normalizeBearing(d.bearing,T):T,G="pitch"in d?+d.pitch:L,q=x.zoomScale(j-M),J=o.P.convert(d.offset),ie=x.centerPoint.add(J),se=x.pointLocation(ie);let _e=d.center;if(_e&&d.padding){const ct=this._cameraForBounds(this.transform,_e,_e,H,G,d);ct&&(_e=ct.center)}_e=o.bn.convert(_e||se),this._normalizeCenter(_e);const ve=x.project(se),Se=x.project(_e).sub(ve);let pe=d.curve;const Ce=Math.max(x.width,x.height),Re=Ce/q,Pe=Se.mag();if("minZoom"in d){const ct=o.aa(Math.min(d.minZoom,M,j),x.minZoom,x.maxZoom),Ct=Ce/x.zoomScale(ct-M);pe=Math.sqrt(Ct/Pe*2)}const De=pe*pe;function Ae(ct){const Ct=(Re*Re-Ce*Ce+(ct?-1:1)*De*De*Pe*Pe)/(2*(ct?Re:Ce)*De*Pe);return Math.log(Math.sqrt(Ct*Ct+1)-Ct)}function Le(ct){return(Math.exp(ct)-Math.exp(-ct))/2}function He(ct){return(Math.exp(ct)+Math.exp(-ct))/2}const Ge=Ae(0);let Je=function(ct){return He(Ge)/He(Ge+pe*ct)},xt=function(ct){return Ce*((He(Ge)*(Le(Ct=Ge+pe*ct)/He(Ct))-Le(Ge))/De)/Pe;var Ct},at=(Ae(1)-Ge)/pe;if(Math.abs(Pe)<1e-6||!isFinite(at)){if(Math.abs(Ce-Re)<1e-6)return this.easeTo(d,f);const ct=Re<Ce?-1:1;at=Math.abs(Math.log(Re/Ce))/pe,xt=function(){return 0},Je=function(Ct){return Math.exp(ct*pe*Ct)}}d.duration="duration"in d?+d.duration:1e3*at/("screenSpeed"in d?+d.screenSpeed/pe:+d.speed),d.maxDuration&&d.duration>d.maxDuration&&(d.duration=0);const Nt=T!==H,It=G!==L,Yt=ct=>Ct=>{const Ye=Ct*at,vt=1/Je(Ye);ct.zoom=Ct===1?j:M+ct.scaleZoom(vt),Nt&&(ct.bearing=o.U(T,H,Ct)),It&&(ct.pitch=o.U(L,G,Ct));const tn=Ct===1?_e:ct.unproject(ve.add(Se.mult(xt(Ye))).mult(vt));return ct.setLocationAtPoint(ct.renderWorldCopies?tn.wrap():tn,ie),ct._updateCameraOnTerrain(),d.preloadOnly||this._fireMoveEvents(f),ct};if(d.preloadOnly){const ct=this._emulate(Yt,d.duration,x);return this._preloadTiles(ct),this}return this._zooming=!0,this._rotating=Nt,this._pitching=It,this._prepareEase(f,!1),this._ease(Yt(x),()=>this._afterEase(f),d),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(d,f){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const x=this._onEaseEnd;this._onEaseEnd=void 0,x.call(this,f)}if(!d){const x=this.handlers;x&&x.stop(!1)}return this}_ease(d,f,x){x.animate===!1||x.duration===0?(d(1),f()):(this._easeStart=o.f.now(),this._easeOptions=x,this._onEaseFrame=d,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const d=Math.min((o.f.now()-this._easeStart)/this._easeOptions.duration,1),f=this._onEaseFrame;f&&f(this._easeOptions.easing(d)),d<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(d,f){d=o.bh(d,-180,180);const x=Math.abs(d-f);return Math.abs(d-360-f)<x&&(d-=360),Math.abs(d+360-f)<x&&(d+=360),d}_normalizeCenter(d){const f=this.transform;if(f.maxBounds||f.projection.name!=="globe"&&!f.renderWorldCopies)return;const x=d.lng-f.center.lng;d.lng+=x>180?-360:x<-180?360:0}_prefersReducedMotion(d){return this._respectPrefersReducedMotion&&o.f.prefersReducedMotion&&!(d&&d.essential)}_emulate(d,f,x){const M=Math.ceil(15*f/1e3),T=[],L=d(x.clone());for(let j=0;j<=M;j++){const H=L(j/M);T.push(H.clone())}return T}}class v1{constructor(d={}){this.options=d,o.aY(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(d){const f=this.options&&this.options.compact;return this._map=d,this._container=C("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=C("button","mapboxgl-ctrl-attrib-button",this._container),C("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=C("div","mapboxgl-ctrl-attrib-inner",this._container),f&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),f===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(d,f){const x=this._map._getUIString(`AttributionControl.${f}`);d.removeAttribute("title"),d.firstElementChild&&d.firstElementChild.setAttribute("title",x)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let d=this._editLink;d||(d=this._editLink=this._container.querySelector(".mapbox-improve-map"));const f=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||o.d5.ACCESS_TOKEN}];if(d){const x=f.reduce((M,T,L)=>(T.value&&(M+=`${T.key}=${T.value}${L<f.length-1?"&":""}`),M),"?");d.href=`${o.d5.FEEDBACK_URL}/${x}#${s1(this._map,!0)}`,d.rel="noopener nofollow",this._setElementTitle(d,"MapFeedback")}}_updateData(d){!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let d=[];if(this._map.style.stylesheet){const M=this._map.style.stylesheet;this.styleOwner=M.owner,this.styleId=M.id}const f=this._map.style._mergedSourceCaches;for(const M in f){const T=f[M];if(T.used){const L=T.getSource();L.attribution&&d.indexOf(L.attribution)<0&&d.push(L.attribution)}}d.sort((M,T)=>M.length-T.length),d=d.filter((M,T)=>{for(let L=T+1;L<d.length;L++)if(d[L].indexOf(M)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?d=[...this.options.customAttribution,...d]:d.unshift(this.options.customAttribution));const x=d.join(" | ");x!==this._attribHTML&&(this._attribHTML=x,d.length?(this._innerContainer.innerHTML=x,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class b5{constructor(){o.aY(["_updateLogo","_updateCompact"],this)}onAdd(d){this._map=d,this._container=C("div","mapboxgl-ctrl");const f=C("a","mapboxgl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://www.mapbox.com/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(d){d&&d.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const d=this._map.style._sourceCaches;if(Object.entries(d).length===0)return!0;for(const f in d){const x=d[f].getSource();if(x.hasOwnProperty("mapbox_logo")&&!x.mapbox_logo)return!1}return!0}_updateCompact(){const d=this._container.children;if(d.length){const f=d[0];this._map.getCanvasContainer().offsetWidth<250?f.classList.add("mapboxgl-compact"):f.classList.remove("mapboxgl-compact")}}}class _5{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(d){const f=++this._id;return this._queue.push({callback:d,id:f,cancelled:!1}),f}remove(d){const f=this._currentlyRunning,x=f?this._queue.concat(f):this._queue;for(const M of x)if(M.id===d)return void(M.cancelled=!0)}run(d=0){const f=this._currentlyRunning=this._queue;this._queue=[];for(const x of f)if(!x.cancelled&&(x.callback(d),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Lm(_,d,f){if(_=new o.bn(_.lng,_.lat),d){const x=new o.bn(_.lng-360,_.lat),M=new o.bn(_.lng+360,_.lat),T=360*Math.ceil(Math.abs(_.lng-f.center.lng)/360),L=f.locationPoint(_).distSqr(d),j=d.x<0||d.y<0||d.x>f.width||d.y>f.height;f.locationPoint(x).distSqr(d)<L&&(j||Math.abs(x.lng-f.center.lng)<T)?_=x:f.locationPoint(M).distSqr(d)<L&&(j||Math.abs(M.lng-f.center.lng)<T)&&(_=M)}for(;Math.abs(_.lng-f.center.lng)>180;){const x=f.locationPoint(_);if(x.x>=0&&x.y>=0&&x.x<=f.width&&x.y<=f.height)break;_.lng>f.center.lng?_.lng-=360:_.lng+=360}return _}const zy={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class b1 extends o.E{constructor(d,f){if(super(),(d instanceof HTMLElement||f)&&(d=o.e({element:d},f)),o.aY(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=d&&d.anchor||"center",this._color=d&&d.color||"#3FB1CE",this._scale=d&&d.scale||1,this._draggable=d&&d.draggable||!1,this._clickTolerance=d&&d.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=d&&d.rotation||0,this._rotationAlignment=d&&d.rotationAlignment||"auto",this._pitchAlignment=d&&d.pitchAlignment&&d.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=d&&d.occludedOpacity||.2,d&&d.element)this._element=d.element,this._offset=o.P.convert(d&&d.offset||[0,0]);else{this._defaultMarker=!0,this._element=C("div");const T=41,L=27,j=P("svg",{display:"block",height:T*this._scale+"px",width:L*this._scale+"px",viewBox:`0 0 ${L} ${T}`},this._element),H=P("radialGradient",{id:"shadowGradient"},P("defs",{},j));P("stop",{offset:"10%","stop-opacity":.4},H),P("stop",{offset:"100%","stop-opacity":.05},H),P("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},j),P("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},j),P("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},j),P("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},j),this._offset=o.P.convert(d&&d.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.hasAttribute("role")||this._element.setAttribute("role","img"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",T=>{T.preventDefault()}),this._element.addEventListener("mousedown",T=>{T.preventDefault()});const x=this._element.classList;for(const T in zy)x.remove(`mapboxgl-marker-anchor-${T}`);x.add(`mapboxgl-marker-anchor-${this._anchor}`);const M=d&&d.className?d.className.trim().split(/\s+/):[];x.add(...M),this._popup=null}addTo(d){return d===this._map||(this.remove(),this._map=d,d.getCanvasContainer().appendChild(this._element),d.on("move",this._updateMoving),d.on("moveend",this._update),d.on("remove",this._clearFadeTimer),d._addMarker(this),this.setDraggable(this._draggable),this._update(),d.on("click",this._onMapClick)),this}remove(){const d=this._map;return d&&(d.off("click",this._onMapClick),d.off("move",this._updateMoving),d.off("moveend",this._update),d.off("mousedown",this._addDragHandler),d.off("touchstart",this._addDragHandler),d.off("mouseup",this._onUp),d.off("touchend",this._onUp),d.off("mousemove",this._onMove),d.off("touchmove",this._onMove),d.off("remove",this._clearFadeTimer),d._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(d){return this._lngLat=o.bn.convert(d),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(d){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),d){if(!("offset"in d.options)){const M=Math.sqrt(Math.pow(13.5,2)/2);d.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[M,-1*(38.1-13.5+M)],"bottom-right":[-M,-1*(38.1-13.5+M)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=d,d._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(d){const f=d.code,x=d.charCode||d.keyCode;f!=="Space"&&f!=="Enter"&&x!==32&&x!==13||this.togglePopup()}_onMapClick(d){const f=d.originalEvent.target,x=this._element;this._popup&&(f===x||x.contains(f))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const d=this._popup;return d?(d.isOpen()?(d.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(d.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const d=this._map,f=this._pos;if(!d||!f)return!1;const x=d.unproject(f),M=d.getFreeCameraOptions();if(!M.position)return!1;const T=M.position.toLngLat();return T.distanceTo(x)<.9*T.distanceTo(this._lngLat)}_evaluateOpacity(){const d=this._map;if(!d)return;const f=this._pos;if(!f||f.x<0||f.x>d.transform.width||f.y<0||f.y>d.transform.height)return void this._clearFadeTimer();const x=d.unproject(f);let M;d._showingGlobe()&&o.d6(d.transform,this._lngLat)?M=0:(M=1-d._queryFogOpacity(x),d.transform._terrainEnabled()&&d.getTerrain()&&this._behindTerrain()&&(M*=this._occludedOpacity)),this._element.style.opacity=`${M}`,this._element.style.pointerEvents=M>0?"auto":"none",this._popup&&this._popup._setOpacity(M),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const d=this._pos;if(!d||!this._map)return;const f=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${d.x}px,${d.y}px)
            ${zy[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${f.x}px,${f.y}px)
        `}_calculateXYTransform(){const d=this._pos,f=this._map,x=this.getPitchAlignment();if(!f||!d||x!=="map")return"";if(!f._showingGlobe()){const H=f.getPitch();return H?`rotateX(${H}deg)`:""}const M=o.bF(o.d7(f.transform,this._lngLat)),T=d.sub(o.d8(f.transform)),L=Math.abs(T.x)+Math.abs(T.y);if(L===0)return"";const j=M/L;return`rotateX(${-T.y*j}deg) rotateY(${T.x*j}deg)`}_calculateZTransform(){const d=this._pos,f=this._map;if(!f||!d)return"";let x=0;const M=this.getRotationAlignment();if(M==="map")if(f._showingGlobe()){const T=f.project(new o.bn(this._lngLat.lng,this._lngLat.lat+.001)),L=f.project(new o.bn(this._lngLat.lng,this._lngLat.lat-.001)).sub(T);x=o.bF(Math.atan2(L.y,L.x))-90}else x=-f.getBearing();else if(M==="horizon"){const T=o.O(4,6,f.getZoom()),L=o.d8(f.transform);L.y+=T*f.transform.height;const j=d.sub(L),H=o.bF(Math.atan2(j.y,j.x));x=(H>90?H-270:H+90)*(1-T)}return x+=this._rotation,x?`rotateZ(${x}deg)`:""}_update(d){cancelAnimationFrame(this._updateFrameId);const f=this._map;f&&(f.transform.renderWorldCopies&&(this._lngLat=Lm(this._lngLat,this._pos,f.transform)),this._pos=f.project(this._lngLat),d===!0?this._updateFrameId=requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),f._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(f._showingGlobe()||f.getTerrain()||f.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(d){return this._offset=o.P.convert(d),this._update(),this}addClassName(d){return this._element.classList.add(d),this}removeClassName(d){return this._element.classList.remove(d),this}toggleClassName(d){return this._element.classList.toggle(d)}_onMove(d){const f=this._map;if(!f)return;const x=this._pointerdownPos,M=this._positionDelta;if(x&&M){if(!this._isDragging){const T=this._clickTolerance||f._clickTolerance;if(d.point.dist(x)<T)return;this._isDragging=!0}this._pos=d.point.sub(M),this._lngLat=f.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.b("dragstart"))),this.fire(new o.b("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const d=this._map;d&&(d.off("mousemove",this._onMove),d.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new o.b("dragend")),this._state="inactive"}_addDragHandler(d){const f=this._map,x=this._pos;f&&x&&this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(x),this._pointerdownPos=d.point,this._state="pending",f.on("mousemove",this._onMove),f.on("touchmove",this._onMove),f.once("mouseup",this._onUp),f.once("touchend",this._onUp))}setDraggable(d){this._draggable=!!d;const f=this._map;return f&&(d?(f.on("mousedown",this._addDragHandler),f.on("touchstart",this._addDragHandler)):(f.off("mousedown",this._addDragHandler),f.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(d){return this._rotation=d||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(d){return this._rotationAlignment=d||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(d){return this._pitchAlignment=d||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(d){return this._occludedOpacity=d||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const x5={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},w5=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function S5(_=new o.P(0,0),d="bottom"){if(typeof _=="number"){const f=Math.round(Math.sqrt(.5*Math.pow(_,2)));switch(d){case"top":return new o.P(0,_);case"top-left":return new o.P(f,f);case"top-right":return new o.P(-f,f);case"bottom":return new o.P(0,-_);case"bottom-left":return new o.P(f,-f);case"bottom-right":return new o.P(-f,-f);case"left":return new o.P(_,0);case"right":return new o.P(-_,0)}return new o.P(0,0)}return _ instanceof o.P||Array.isArray(_)?o.P.convert(_):o.P.convert(_[d]||[0,0])}class _1{constructor(d){this.jumpTo(d)}getValue(d){if(d<=this._startTime)return this._start;if(d>=this._endTime)return this._end;const f=o.cc((d-this._startTime)/(this._endTime-this._startTime));return this._start*(1-f)+this._end*f}isEasing(d){return d>=this._startTime&&d<=this._endTime}jumpTo(d){this._startTime=-1/0,this._endTime=-1/0,this._start=d,this._end=d}easeTo(d,f,x){this._start=this.getValue(f),this._end=d,this._startTime=f,this._endTime=f+x}}const Fm={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},A5={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,antialias:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0,collectResourceTiming:!1,testMode:!1};class x1{constructor(){this.showOverdrawInspector=!1,this.showTileBoundaries=!1,this.showParseStatus=!1,this.continuousRedraw=!1,this.showTileAABBs=!1,this.showPadding=!1,this.showTerrainWireframe=!1,this.showLayers2DWireframe=!1,this.showLayers3DWireframe=!1}}const By={showCompass:!0,showZoom:!0,visualizePitch:!1};class fu{constructor(d,f,x=!1){this._clickTolerance=10,this.element=f,this.mouseRotate=new Pm({clickTolerance:d.dragRotate._mouseRotate._clickTolerance}),this.map=d,x&&(this.mousePitch=new $y({clickTolerance:d.dragRotate._mousePitch._clickTolerance})),o.aY(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),f.addEventListener("mousedown",this.mousedown),f.addEventListener("touchstart",this.touchstart,{passive:!1}),f.addEventListener("touchmove",this.touchmove),f.addEventListener("touchend",this.touchend),f.addEventListener("touchcancel",this.reset)}down(d,f){this.mouseRotate.mousedown(d,f),this.mousePitch&&this.mousePitch.mousedown(d,f),k()}move(d,f){const x=this.map,M=this.mouseRotate.mousemoveWindow(d,f),T=M&&M.bearingDelta;if(T&&x.setBearing(x.getBearing()+T),this.mousePitch){const L=this.mousePitch.mousemoveWindow(d,f),j=L&&L.pitchDelta;j&&x.setPitch(x.getPitch()+j)}}off(){const d=this.element;d.removeEventListener("mousedown",this.mousedown),d.removeEventListener("touchstart",this.touchstart,{passive:!1}),d.removeEventListener("touchmove",this.touchmove),d.removeEventListener("touchend",this.touchend),d.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){F(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.mouseup)}mousedown(d){this.down(o.e({},d,{ctrlKey:!0,preventDefault:()=>d.preventDefault()}),z(this.element,d)),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.mouseup)}mousemove(d){this.move(d,z(this.element,d))}mouseup(d){this.mouseRotate.mouseupWindow(d),this.mousePitch&&this.mousePitch.mouseupWindow(d),this.offTemp()}touchstart(d){d.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=W(this.element,d.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>d.preventDefault()},this._startPos))}touchmove(d){d.targetTouches.length!==1?this.reset():(this._lastPos=W(this.element,d.targetTouches)[0],this.move({preventDefault:()=>d.preventDefault()},this._lastPos))}touchend(d){d.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Zy={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},us={maxWidth:100,unit:"metric"},wd={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"};return{version:o.dk,supported:y,setRTLTextPlugin:o.dm,getRTLTextPluginStatus:o.dn,Map:class extends Ao{constructor(_){const d=_;if((_=o.e({},A5,_)).minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(_.antialias&&o.d9(window)&&(_.antialias=!1,o.w("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new um(_.minZoom,_.maxZoom,_.minPitch,_.maxPitch,_.renderWorldCopies),_),this._repaint=!1,this._interactive=_.interactive,this._minTileCacheSize=_.minTileCacheSize,this._maxTileCacheSize=_.maxTileCacheSize,this._failIfMajorPerformanceCaveat=_.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=_.preserveDrawingBuffer,this._antialias=_.antialias,this._trackResize=_.trackResize,this._bearingSnap=_.bearingSnap,this._refreshExpiredTiles=_.refreshExpiredTiles,this._fadeDuration=_.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=_.crossSourceCollisions,this._collectResourceTiming=_.collectResourceTiming,this._language=this._parseLanguage(_.language),this._worldview=_.worldview,this._renderTaskQueue=new _5,this._domRenderTaskQueue=new _5,this._controls=[],this._markers=[],this._popups=[],this._mapId=o.aC(),this._locale=o.e({},Fm,_.locale),this._clickTolerance=_.clickTolerance,this._cooperativeGestures=_.cooperativeGestures,this._performanceMetricsCollection=_.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._showParseStatus=!0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new _1(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new o.da(_.transformRequest,_.accessToken,_.testMode),this._silenceAuthErrors=!!_.testMode,this._contextCreateOptions=_.contextCreateOptions?{..._.contextCreateOptions}:{},typeof _.container=="string"){const f=document.getElementById(_.container);if(!f)throw new Error(`Container '${_.container.toString()}' not found.`);this._container=f}else{if(!(_.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(this._container.childNodes.length>0&&o.w("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),_.maxBounds&&this.setMaxBounds(_.maxBounds),o.aY(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._debugParams=new x1,this._tp=_.devtools?new Sm(this):new Sm,this._tp.registerParameter(this._debugParams,["Debug"],"showOverdrawInspector",void 0,()=>{this._update()}),this._tp.registerParameter(this._debugParams,["Debug"],"showTileBoundaries",void 0,()=>{this._update()}),this._tp.registerParameter(this._debugParams,["Debug"],"showParseStatus",void 0,()=>{this._update()}),this._tp.registerParameter(this._debugParams,["Debug"],"continuousRedraw",void 0,f=>{this.repaint=f}),this._tp.registerParameter(this._debugParams,["Debug"],"showTileAABBs",void 0,f=>{this.showTileAABBs=f}),this._tp.registerParameter(this._debugParams,["Debug"],"showPadding",void 0,f=>{this.showPadding=f}),this._tp.registerParameter(this._debugParams,["Debug","Wireframe"],"showTerrainWireframe",void 0,()=>{this._update()}),this._tp.registerParameter(this._debugParams,["Debug","Wireframe"],"showLayers2DWireframe",void 0,()=>{this._update()}),this._tp.registerParameter(this._debugParams,["Debug","Wireframe"],"showLayers3DWireframe",void 0,()=>{this._update()}),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");if(this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this._fullscreenchangeEvent="onfullscreenchange"in document?"fullscreenchange":"webkitfullscreenchange",window.addEventListener("online",this._onWindowOnline,!1),window.addEventListener("resize",this._onWindowResize,!1),window.addEventListener("orientationchange",this._onWindowResize,!1),window.addEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.addEventListener("visibilitychange",this._onVisibilityChange,!1),this.handlers=new MI(this,_),this._localFontFamily=_.localFontFamily,this._localIdeographFontFamily=_.localIdeographFontFamily,(_.style||!_.testMode)&&this.setStyle(_.style||o.d5.DEFAULT_STYLE,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),_.projection&&this.setProjection(_.projection),_.hash&&(this._hash=new Dy(typeof _.hash=="string"&&_.hash||void 0).addTo(this)),!this._hash||!this._hash._onHashChange()){d.center==null&&d.zoom==null||(this.transform._unmodified=!1),this.jumpTo({center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch});const f=_.bounds;f&&(this.resize(),this.fitBounds(f,o.e({},_.fitBoundsOptions,{duration:0})))}this.resize(),_.attributionControl&&this.addControl(new v1({customAttribution:_.customAttribution})),this._logoControl=new b5,this.addControl(this._logoControl,_.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",f=>{this._update(f.dataType==="style"),this.fire(new o.b(`${f.dataType}data`,f))}),this.on("dataloading",f=>{this.fire(new o.b(`${f.dataType}dataloading`,f))})}_getMapId(){return this._mapId}addControl(_,d){if(d===void 0&&(d=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new o.a(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const f=_.onAdd(this);this._controls.push(_);const x=this._controlPositions[d];return d.indexOf("bottom")!==-1?x.insertBefore(f,x.firstChild):x.appendChild(f),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new o.a(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const d=this._controls.indexOf(_);return d>-1&&this._controls.splice(d,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(_){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const d=!this._moving;return d&&this.fire(new o.b("movestart",_)).fire(new o.b("move",_)),this.fire(new o.b("resize",_)),d&&this.fire(new o.b("moveend",_)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(_){return this.transform.setMaxBounds(o.ad.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_?this.setZoom(_):this.fire(new o.b("zoomstart")).fire(new o.b("zoom")).fire(new o.b("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_?this.setZoom(_):this.fire(new o.b("zoomstart")).fire(new o.b("zoom")).fire(new o.b("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_?this.setPitch(_):this.fire(new o.b("pitchstart")).fire(new o.b("pitch")).fire(new o.b("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_?this.setPitch(_):this.fire(new o.b("pitchstart")).fire(new o.b("pitch")).fire(new o.b("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(_){return _==="auto"?navigator.language:Array.isArray(_)?_.length===0?void 0:_.map(d=>d==="auto"?navigator.language:d):_}setLanguage(_){const d=this._parseLanguage(_);if(!this.style||d===this._language)return this;this._language=d,this.style.reloadSources();for(const f of this._controls)f._setLanguage&&f._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(_){return this.style&&_!==this._worldview?(this._worldview=_,this.style.reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(_){return this._lazyInitEmptyStyle(),_?typeof _=="string"&&(_={name:_}):_=null,this._useExplicitProjection=!!_,this._prioritizeAndUpdateProjection(_,this.style.projection)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const _=this.transform,d=_.projection.name;let f;d==="globe"&&_.zoom>=o.bx?(_.setMercatorFromTransition(),f=!0):d==="mercator"&&_.zoom<o.bx&&(_.setProjection({name:"globe"}),f=!0),f&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(_,d){return this._updateProjection(_||d||{name:"mercator"})}_updateProjection(_){let d;return d=_.name==="globe"&&this.transform.zoom>=o.bx?this.transform.setMercatorFromTransition():this.transform.setProjection(_),this.style.applyProjectionUpdate(),d&&(this.painter.clearBackgroundTiles(),this.style.clearSources(),this._update(!0),this._forceMarkerAndPopupUpdate(!0)),this}project(_){return this.transform.locationPoint3D(o.bn.convert(_))}unproject(_){return this.transform.pointLocation3D(o.P.convert(_))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(_,d,f){if(_==="mouseenter"||_==="mouseover"){let x=!1;const M=L=>{const j=d.filter(G=>this.getLayer(G)),H=j.length?this.queryRenderedFeatures(L.point,{layers:j}):[];H.length?x||(x=!0,f.call(this,new As(_,this,L.originalEvent,{features:H}))):x=!1},T=()=>{x=!1};return{layers:new Set(d),listener:f,delegates:{mousemove:M,mouseout:T}}}if(_==="mouseleave"||_==="mouseout"){let x=!1;const M=L=>{const j=d.filter(H=>this.getLayer(H));(j.length?this.queryRenderedFeatures(L.point,{layers:j}):[]).length?x=!0:x&&(x=!1,f.call(this,new As(_,this,L.originalEvent)))},T=L=>{x&&(x=!1,f.call(this,new As(_,this,L.originalEvent)))};return{layers:new Set(d),listener:f,delegates:{mousemove:M,mouseout:T}}}{const x=M=>{const T=d.filter(j=>this.getLayer(j)),L=T.length?this.queryRenderedFeatures(M.point,{layers:T}):[];L.length&&(M.features=L,f.call(this,M),delete M.features)};return{layers:new Set(d),listener:f,delegates:{[_]:x}}}}on(_,d,f){if(f===void 0)return super.on(_,d);if(Array.isArray(d)||(d=[d]),d){for(const M of d)if(!this._isValidId(M))return this}const x=this._createDelegatedListener(_,d,f);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(x);for(const M in x.delegates)this.on(M,x.delegates[M]);return this}once(_,d,f){if(f===void 0)return super.once(_,d);if(Array.isArray(d)||(d=[d]),d){for(const M of d)if(!this._isValidId(M))return this}const x=this._createDelegatedListener(_,d,f);for(const M in x.delegates)this.once(M,x.delegates[M]);return this}off(_,d,f){if(f===void 0)return super.off(_,d);d=new Set(Array.isArray(d)?d:[d]);for(const T of d)if(!this._isValidId(T))return this;const x=(T,L)=>{if(T.size!==L.size)return!1;for(const j of T)if(!L.has(j))return!1;return!0},M=this._delegatedListeners?this._delegatedListeners[_]:void 0;return M&&(T=>{for(let L=0;L<T.length;L++){const j=T[L];if(j.listener===f&&x(j.layers,d)){for(const H in j.delegates)this.off(H,j.delegates[H]);return T.splice(L,1),this}}})(M),this}queryRenderedFeatures(_,d){if(!this.style)return[];if(d!==void 0||_===void 0||_ instanceof o.P||Array.isArray(_)||(d=_,_=void 0),_=_||[[0,0],[this.transform.width,this.transform.height]],(d=d||{}).layers&&Array.isArray(d.layers)){for(const f of d.layers)if(!this._isValidId(f))return[]}return this.style.queryRenderedFeatures(_,d,this.transform)}querySourceFeatures(_,d){return this._isValidId(_)?this.style.querySourceFeatures(_,d):[]}isPointOnSurface(_){const{name:d}=this.transform.projection;return d!=="globe"&&d!=="mercator"&&o.w(`${d} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(o.P.convert(_))}setStyle(_,d){return(d=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},d)).diff!==!1&&d.localIdeographFontFamily===this._localIdeographFontFamily&&d.localFontFamily===this._localFontFamily&&this.style&&_?(this._diffStyle(_,d),this):(this._localIdeographFontFamily=d.localIdeographFontFamily,this._localFontFamily=d.localFontFamily,this._updateStyle(_,d))}_getUIString(_){const d=this._locale[_];if(d==null)throw new Error(`Missing UI string '${_}'`);return d}_updateStyle(_,d){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),_&&(this.style=new Xl(this,d||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_):this.style.loadJSON(_)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Xl(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,d){if(typeof _=="string"){const f=this._requestManager.normalizeStyleURL(_),x=this._requestManager.transformRequest(f,o.R.Style);o.g(x,(M,T)=>{M?this.fire(new o.a(M)):T&&this._updateDiff(T,d)})}else typeof _=="object"&&this._updateDiff(_,d)}_updateDiff(_,d){try{this.style.setState(_)&&this._update(!0)}catch(f){o.w(`Unable to perform style diff: ${f.message||f.error||f}.  Rebuilding the style from scratch.`),this._updateStyle(_,d)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(o.w("There is no style added to the map."),!1)}_isValidId(_){return _==null?(this.fire(new o.a(new Error("IDs can't be empty."))),!1):!o.c4(_)||(this.fire(new o.a(new Error(`IDs can't contain special symbols: "${_}".`))),!1)}addSource(_,d){return this._isValidId(_)?(this._lazyInitEmptyStyle(),this.style.addSource(_,d),this._update(!0)):this}isSourceLoaded(_){return!!this._isValidId(_)&&!!this.style&&this.style._isSourceCacheLoaded(_)}areTilesLoaded(){return this.style.areTilesLoaded()}addSourceType(_,d,f){this._lazyInitEmptyStyle(),this.style.addSourceType(_,d,f)}removeSource(_){return this._isValidId(_)?(this.style.removeSource(_),this._updateTerrain(),this._update(!0)):this}getSource(_){return this._isValidId(_)?this.style.getOwnSource(_):null}addImage(_,d,{pixelRatio:f=1,sdf:x=!1,stretchX:M,stretchY:T,content:L}={}){if(this._lazyInitEmptyStyle(),d instanceof HTMLImageElement||ImageBitmap&&d instanceof ImageBitmap){const{width:j,height:H,data:G}=o.f.getImageData(d);this.style.addImage(_,{data:new o.h({width:j,height:H},G),pixelRatio:f,stretchX:M,stretchY:T,content:L,sdf:x,version:0})}else if(d.width===void 0||d.height===void 0)this.fire(new o.a(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:j,height:H}=d,G=d;this.style.addImage(_,{data:new o.h({width:j,height:H},new Uint8Array(G.data)),pixelRatio:f,stretchX:M,stretchY:T,content:L,sdf:x,version:0,userImage:G}),G.onAdd&&G.onAdd(this,_)}}updateImage(_,d){this._lazyInitEmptyStyle();const f=this.style.getImage(_);if(!f)return void this.fire(new o.a(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const x=d instanceof HTMLImageElement||ImageBitmap&&d instanceof ImageBitmap?o.f.getImageData(d):d,{width:M,height:T}=x,L=x.data;if(M===void 0||T===void 0)return void this.fire(new o.a(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(M!==f.data.width||T!==f.data.height)return void this.fire(new o.a(new Error(`The width and height of the updated image (${M}, ${T})
                must be that same as the previous version of the image
                (${f.data.width}, ${f.data.height})`)));const j=!(d instanceof HTMLImageElement||ImageBitmap&&d instanceof ImageBitmap);f.data.replace(L,j),this.style.updateImage(_,f)}hasImage(_){return _?!!this.style&&!!this.style.getImage(_):(this.fire(new o.a(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_,d){o.d(this._requestManager.transformRequest(_,o.R.Image),(f,x)=>{d(f,x instanceof HTMLImageElement?o.f.getImageData(x):x)})}listImages(){return this.style.listImages()}addModel(_,d){this._lazyInitEmptyStyle(),this.style.addModel(_,d)}hasModel(_){return _?this.style.hasModel(_):(this.fire(new o.a(new Error("Missing required model id"))),!1)}removeModel(_){this.style.removeModel(_)}listModels(){return this.style.listModels()}addLayer(_,d){return this._isValidId(_.id)?(this._lazyInitEmptyStyle(),this.style.addLayer(_,d),this._update(!0)):this}getSlot(_){const d=this.getLayer(_);return d&&d.slot||null}setSlot(_,d){return this.style.setSlot(_,d),this.style.mergeLayers(),this._update(!0)}addImport(_,d){return this.style.addImport(_,d),this}updateImport(_,d){return typeof d!="string"&&d.id!==_?(this.removeImport(_),this.addImport(d)):(this.style.updateImport(_,d),this._update(!0))}removeImport(_){return this.style.removeImport(_),this}moveImport(_,d){return this.style.moveImport(_,d),this._update(!0)}moveLayer(_,d){return this._isValidId(_)?(this.style.moveLayer(_,d),this._update(!0)):this}removeLayer(_){return this._isValidId(_)?(this.style.removeLayer(_),this._update(!0)):this}getLayer(_){return this._isValidId(_)?this.style.getOwnLayer(_):null}setLayerZoomRange(_,d,f){return this._isValidId(_)?(this.style.setLayerZoomRange(_,d,f),this._update(!0)):this}setFilter(_,d,f={}){return this._isValidId(_)?(this.style.setFilter(_,d,f),this._update(!0)):this}getFilter(_){return this._isValidId(_)?this.style.getFilter(_):null}setPaintProperty(_,d,f,x={}){return this._isValidId(_)?(this.style.setPaintProperty(_,d,f,x),this._update(!0)):this}getPaintProperty(_,d){return this._isValidId(_)?this.style.getPaintProperty(_,d):null}setLayoutProperty(_,d,f,x={}){return this._isValidId(_)?(this.style.setLayoutProperty(_,d,f,x),this._update(!0)):this}getLayoutProperty(_,d){return this._isValidId(_)?this.style.getLayoutProperty(_,d):null}getConfigProperty(_,d){return this.style.getConfigProperty(_,d)}setConfigProperty(_,d,f){return this.style.setConfigProperty(_,d,f),this._update(!0)}setLights(_){if(this._lazyInitEmptyStyle(),_&&_.length===1&&_[0].type==="flat"){const d=_[0];d.properties?this.style.setFlatLight(d.properties,d.id,{}):this.style.setFlatLight({},"flat")}else this.style.setLights(_),this.painter.terrain&&(this.painter.terrain.invalidateRenderCache=!0);return this._update(!0)}getLights(){const _=this.style.getLights()||[];return _.length===0&&_.push({id:this.style.light.id,type:"flat",properties:this.style.getFlatLight()}),_}setLight(_,d={}){return console.log("The `map.setLight` function is deprecated, prefer using `map.setLights` with `flat` light type instead."),this.setLights([{id:"flat",type:"flat",properties:_}])}getLight(){return console.log("The `map.getLight` function is deprecated, prefer using `map.getLights` instead."),this.style.getFlatLight()}setTerrain(_){return this._lazyInitEmptyStyle(),!_&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(_),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(_){return this._lazyInitEmptyStyle(),this.style.setFog(_),this._update(!0)}getFog(){return this.style?this.style.getFog():null}setCamera(_){return this.style.setCamera(_),this._triggerCameraUpdate(_)}_triggerCameraUpdate(_){return this._update(this.transform.setOrthographicProjectionAtLowPitch(_["camera-projection"]==="orthographic"))}getCamera(){return this.style.camera}_queryFogOpacity(_){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(o.bn.convert(_),this.transform):0}setFeatureState(_,d){return this._isValidId(_.source)?(this.style.setFeatureState(_,d),this._update()):this}removeFeatureState(_,d){return this._isValidId(_.source)?(this.style.removeFeatureState(_,d),this._update()):this}getFeatureState(_){return this._isValidId(_.source)?this.style.getFeatureState(_):null}_updateContainerDimensions(){if(!this._container)return;const _=this._container.getBoundingClientRect().width||400,d=this._container.getBoundingClientRect().height||300;let f,x,M,T=this._container;for(;T&&(!x||!M);){const L=window.getComputedStyle(T).transform;L&&L!=="none"&&(f=L.match(/matrix.*\((.+)\)/)[1].split(", "),f[0]&&f[0]!=="0"&&f[0]!=="1"&&(x=f[0]),f[3]&&f[3]!=="0"&&f[3]!=="1"&&(M=f[3])),T=T.parentElement}this._containerWidth=x?Math.abs(_/x):_,this._containerHeight=M?Math.abs(d/M):d}_detectMissingCSS(){window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&o.w("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const _=this._container;_.classList.add("mapboxgl-map"),(this._missingCSSCanary=C("div","mapboxgl-canary",_)).style.visibility="hidden",this._detectMissingCSS();const d=this._canvasContainer=C("div","mapboxgl-canvas-container",_);this._canvas=C("canvas","mapboxgl-canvas",d),this._interactive&&(d.classList.add("mapboxgl-interactive"),this._canvas.setAttribute("tabindex","0")),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const f=this._controlContainer=C("div","mapboxgl-control-container",_),x=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(M=>{x[M]=C("div",`mapboxgl-ctrl-${M}`,f)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(_,d){const f=o.f.devicePixelRatio||1;this._canvas.width=f*Math.ceil(_),this._canvas.height=f*Math.ceil(d),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${d}px`}_addMarker(_){this._markers.push(_)}_removeMarker(_){const d=this._markers.indexOf(_);d!==-1&&this._markers.splice(d,1)}_addPopup(_){this._popups.push(_)}_removePopup(_){const d=this._popups.indexOf(_);d!==-1&&this._popups.splice(d,1)}_setupPainter(){const _=o.e({},y.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),d=this._canvas.getContext("webgl2",_);d?(o.db(d,!0),this.painter=new l5(d,this._contextCreateOptions,this.transform,this._tp),this.on("data",f=>{f.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),o.dc.testSupport(d)):this.fire(new o.a(new Error("Failed to initialize WebGL")))}_contextLost(_){_.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new o.b("webglcontextlost",{originalEvent:_}))}_contextRestored(_){this._setupPainter(),this.resize(),this._update(),this.fire(new o.b("webglcontextrestored",{originalEvent:_}))}_onMapScroll(_){if(_.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_requestDomTask(_){!this.loaded()||this.loaded()&&!this.isMoving()?_():this._domRenderTaskQueue.add(_)}_render(_){let d;this.fire(new o.b("renderstart"));const f=this.painter.context.extTimerQuery,x=o.f.now(),M=this.painter.context.gl;if(this.listens("gpu-timing-frame")&&(d=M.createQuery(),M.beginQuery(f.TIME_ELAPSED_EXT,d)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],performance.now())),this._renderTaskQueue.run(_),this._domRenderTaskQueue.run(_),this._removed)return;this._updateProjectionTransition();const T=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const H=this.transform.zoom,G=this.transform.pitch,q=o.f.now(),J=new o.K(H,{now:q,fadeDuration:T,pitch:G,transition:this.style.transition});this.style.update(J)}this.style&&this.style.hasFogTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let L=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),L=this._updateAverageElevation(x),this.style.updateSources(this.transform),this._forceMarkerAndPopupUpdate()):L=this._updateAverageElevation(x),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,T,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries||this._debugParams.showTileBoundaries,showParseStatus:this.showParseStatus||this._debugParams.showParseStatus,wireframe:{terrain:this.showTerrainWireframe||this._debugParams.showTerrainWireframe,layers2D:this.showLayers2DWireframe||this._debugParams.showLayers2DWireframe,layers3D:this.showLayers3DWireframe||this._debugParams.showLayers3DWireframe},showOverdrawInspector:this._showOverdrawInspector||this._debugParams.showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs||this._debugParams.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:T,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding||this._debugParams.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new o.b("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new o.b("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),d){const H=o.f.now()-x;M.endQuery(f.TIME_ELAPSED_EXT),setTimeout(()=>{const G=M.getQueryParameter(d,M.QUERY_RESULT)/1e6;M.deleteQuery(d),this.fire(new o.b("gpu-timing-frame",{cpuTime:H,gpuTime:G}))},50)}if(this.listens("gpu-timing-layer")){const H=this.painter.collectGpuTimers();setTimeout(()=>{const G=this.painter.queryGpuTimers(H);this.fire(new o.b("gpu-timing-layer",{layerTimes:G}))},50)}if(this.listens("gpu-timing-deferred-render")){const H=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const G=this.painter.queryGpuTimeDeferredRender(H);this.fire(new o.b("gpu-timing-deferred-render",{gpuTime:G}))},50)}const j=this._sourcesDirty||this._styleDirty||this._placementDirty||L;if(j||this._repaint)this.triggerRepaint();else{const H=!this.isMoving()&&this.loaded();if(H&&(L=this._updateAverageElevation(x,!0)),L)this.triggerRepaint();else if(this._triggerFrame(!1),H&&(this.fire(new o.b("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const G=this._calculateSpeedIndex();this.fire(new o.b("speedindexcompleted",{speedIndex:G})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||j||(this._fullyLoaded=!0,this._performanceMetricsCollection&&o.dd(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(_){for(const d of this._markers)_&&!this.getRenderWorldCopies()&&(d._lngLat=d._lngLat.wrap()),d._update();for(const d of this._popups)!_||this.getRenderWorldCopies()||d._trackPointer||(d._lngLat=d._lngLat.wrap()),d._update()}_updateAverageElevation(_,d=!1){const f=M=>(this.transform.averageElevation=M,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&f(0);const x=this.transform.elevation&&this.transform.elevation.exaggeration()!==this._averageElevationExaggeration;if(x||(d||_-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(_)){const M=this.transform.averageElevation;let T=this.transform.sampleAverageElevation();this.transform.elevation&&(this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(T)?T=0:this._averageElevationLastSampledAt=_;const L=Math.abs(M-T);if(L>1){if(this._isInitialLoad||x)return this._averageElevation.jumpTo(T),f(T);this._averageElevation.easeTo(T,_,300)}else if(L>1e-4)return this._averageElevation.jumpTo(T),f(T)}return!!this._averageElevation.isEasing(_)&&f(this._averageElevation.getValue(_))}_authenticate(){o.de(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,_=>{if(_&&(_.message===o.df||_.status===401)){const d=this.painter.context.gl;o.db(d,!1),this._logoControl instanceof b5&&this._logoControl._updateLogo(),d&&d.clear(d.DEPTH_BUFFER_BIT|d.COLOR_BUFFER_BIT|d.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new o.a(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),o.dg(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const _=this._isDragging();this.painter.updateTerrain(this.style,_)}_calculateSpeedIndex(){const _=this.painter.canvasCopy(),d=this.painter.getCanvasCopiesAndTimestamps();d.timeStamps.push(performance.now());const f=this.painter.context.gl,x=f.createFramebuffer();function M(T){f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,T,0);const L=new Uint8Array(f.drawingBufferWidth*f.drawingBufferHeight*4);return f.readPixels(0,0,f.drawingBufferWidth,f.drawingBufferHeight,f.RGBA,f.UNSIGNED_BYTE,L),L}return f.bindFramebuffer(f.FRAMEBUFFER,x),this._canvasPixelComparison(M(_),d.canvasCopies.map(M),d.timeStamps)}_canvasPixelComparison(_,d,f){let x=f[1]-f[0];const M=_.length/4;for(let T=0;T<d.length;T++){const L=d[T];let j=0;for(let H=0;H<L.length;H+=4)L[H]===_[H]&&L[H+1]===_[H+1]&&L[H+2]===_[H+2]&&L[H+3]===_[H+3]&&(j+=1);x+=(f[T+2]-f[T+1])*(1-j/M)}return x}remove(){this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),window.removeEventListener("resize",this._onWindowResize,!1),window.removeEventListener("orientationchange",this._onWindowResize,!1),window.removeEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.removeEventListener("online",this._onWindowOnline,!1),window.removeEventListener("visibilitychange",this._onVisibilityChange,!1);const _=this.painter.context.gl.getExtension("WEBGL_lose_context");_&&_.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),o.dh(this.painter.context.gl),o.di.remove(),o.dj.remove(),this._removed=!0,this.fire(new o.b("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(_){this._renderNextFrame=this._renderNextFrame||_,this.style&&!this._frame&&(this._frame=o.f.frame(d=>{const f=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,f&&this._render(d)}))}_preloadTiles(_){const d=this.style?Object.values(this.style._sourceCaches):[];return o.b1(d,(f,x)=>f._preloadTiles(_,x),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(_){this._trackResize&&this.resize({originalEvent:_})._update()}_onVisibilityChange(){document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showParseStatus(){return!!this._showParseStatus}set showParseStatus(_){this._showParseStatus!==_&&(this._showParseStatus=_,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(_){this._showTerrainWireframe!==_&&(this._showTerrainWireframe=_,this._update())}get showLayers2DWireframe(){return!!this._showLayers2DWireframe}set showLayers2DWireframe(_){this._showLayers2DWireframe!==_&&(this._showLayers2DWireframe=_,this._update())}get showLayers3DWireframe(){return!!this._showLayers3DWireframe}set showLayers3DWireframe(_){this._showLayers3DWireframe!==_&&(this._showLayers3DWireframe=_,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(_){this._speedIndexTiming!==_&&(this._speedIndexTiming=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(_){this._showTileAABBs!==_&&(this._showTileAABBs=_,_&&this._update())}_setCacheLimits(_,d){o.dl(_,d)}get version(){return o.dk}},NavigationControl:class{constructor(_){this.options=o.e({},By,_),this._container=C("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",d=>d.preventDefault()),this.options.showZoom&&(o.aY(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",d=>{this._map&&this._map.zoomIn({},{originalEvent:d})}),C("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",d=>{this._map&&this._map.zoomOut({},{originalEvent:d})}),C("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(o.aY(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",d=>{const f=this._map;f&&(this.options.visualizePitch?f.resetNorthPitch({},{originalEvent:d}):f.resetNorth({},{originalEvent:d}))}),this._compassIcon=C("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const _=this._map;if(!_)return;const d=_.getZoom(),f=d===_.getMaxZoom(),x=d===_.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=x,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",x.toString())}_rotateCompassArrow(){const _=this._map;if(!_)return;const d=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(_.transform.pitch*(Math.PI/180)),.5)}) rotateX(${_.transform.pitch}deg) rotateZ(${_.transform.angle*(180/Math.PI)}deg)`:`rotate(${_.transform.angle*(180/Math.PI)}deg)`;_._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=d)})}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),_.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&_.on("pitch",this._rotateCompassArrow),_.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new fu(_,this._compass,this.options.visualizePitch)),this._container}onRemove(){const _=this._map;_&&(this._container.remove(),this.options.showZoom&&_.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&_.off("pitch",this._rotateCompassArrow),_.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(_,d){const f=C("button",_,this._container);return f.type="button",f.addEventListener("click",d),f}_setButtonTitle(_,d){if(!this._map)return;const f=this._map._getUIString(`NavigationControl.${d}`);_.setAttribute("aria-label",f),_.firstElementChild&&_.firstElementChild.setAttribute("title",f)}},GeolocateControl:class extends o.E{constructor(_){super();const d=navigator.geolocation;this.options=o.e({geolocation:d},Zy,_),o.aY(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Cm(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(_){return this._map=_,this._container=C("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(_){const d=(f=!!this.options.geolocation)=>{this._supportsGeolocation=f,_(f)};this._supportsGeolocation!==void 0?_(this._supportsGeolocation):navigator.permissions!==void 0?navigator.permissions.query({name:"geolocation"}).then(f=>d(f.state!=="denied")).catch(()=>d()):d()}_isOutOfMapMaxBounds(_){const d=this._map.getMaxBounds(),f=_.coords;return!!d&&(f.longitude<d.getWest()||f.longitude>d.getEast()||f.latitude<d.getSouth()||f.latitude>d.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(_){if(this._map){if(this._isOutOfMapMaxBounds(_))return this._setErrorState(),this.fire(new o.b("outofmaxbounds",_)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=_,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(_),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(_),this.options.showUserLocation&&this._userLocationDotMarker.removeClassName("mapboxgl-user-location-dot-stale"),this.fire(new o.b("geolocate",_)),this._finish()}}_updateCamera(_){const d=new o.bn(_.coords.longitude,_.coords.latitude),f=_.coords.accuracy,x=this._map.getBearing(),M=o.e({bearing:x},this.options.fitBoundsOptions);this._map.fitBounds(d.toBounds(f),M,{geolocateSource:!0})}_updateMarker(_){if(_){const d=new o.bn(_.coords.longitude,_.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=_.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const _=this._map.transform,d=o.bl(1,_._center.lat)*_.worldSize,f=Math.ceil(2*this._accuracy*d);this._circleElement.style.width=`${f}px`,this._circleElement.style.height=`${f}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._userLocationDotMarker.addClassName("mapboxgl-user-location-show-heading")):(this._userLocationDotMarker.removeClassName("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(_){if(this._map){if(this.options.trackUserLocation)if(_.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(_.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._userLocationDotMarker.addClassName("mapboxgl-user-location-dot-stale"),this.fire(new o.b("error",_)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(_){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",d=>d.preventDefault()),this._geolocateButton=C("button","mapboxgl-ctrl-geolocate",this._container),C("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",_===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=C("div","mapboxgl-user-location"),this._dotElement.appendChild(C("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(C("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new b1({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=C("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new b1({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new o.b("trackuserlocationend")))})}}_onDeviceOrientation(_){this._userLocationDotMarker&&(_.webkitCompassHeading?this._heading=_.webkitCompassHeading:_.absolute===!0&&(this._heading=-1*_.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.b("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new o.b("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.b("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(_={maximumAge:6e5,timeout:0},this._noTimeout=!0):(_=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,_),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const _=()=>{"ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",this._onDeviceOrientation):window.addEventListener("deviceorientation",this._onDeviceOrientation)};typeof DeviceMotionEvent<"u"&&typeof DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(d=>{d==="granted"&&_()}).catch(console.error):_()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),window.removeEventListener("deviceorientation",this._onDeviceOrientation),window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:v1,ScaleControl:class{constructor(_){this.options=o.e({},us,_),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),o.aY(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const _=this.options.maxWidth||100,d=this._map,f=d._containerHeight/2,x=d._containerWidth/2-_/2,M=d.unproject([x,f]),T=d.unproject([x+_,f]),L=M.distanceTo(T);if(this.options.unit==="imperial"){const j=3.2808*L;j>5280?this._setScale(_,j/5280,"mile"):this._setScale(_,j,"foot")}else this.options.unit==="nautical"?this._setScale(_,L/1852,"nautical-mile"):L>=1e3?this._setScale(_,L/1e3,"kilometer"):this._setScale(_,L,"meter")}_setScale(_,d,f){this._map._requestDomTask(()=>{const x=function(T){const L=Math.pow(10,`${Math.floor(T)}`.length-1);let j=T/L;return j=j>=10?10:j>=5?5:j>=3?3:j>=2?2:j>=1?1:function(H){const G=Math.pow(10,Math.ceil(-Math.log(H)/Math.LN10));return Math.round(H*G)/G}(j),L*j}(d),M=x/d;this._container.innerHTML=this._isNumberFormatSupported&&f!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:f}).format(x):`${x}&nbsp;${wd[f]}`,this._container.style.width=_*M+"px"})}onAdd(_){return this._map=_,this._language=_.getLanguage(),this._container=C("div","mapboxgl-ctrl mapboxgl-ctrl-scale",_.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(_){this._language=_,this._update()}setUnit(_){this.options.unit=_,this._update()}},FullscreenControl:class{constructor(_){this._fullscreen=!1,_&&_.container&&(_.container instanceof HTMLElement?this._container=_.container:o.w("Full screen control 'container' must be a DOM element.")),o.aY(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=C("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",o.w("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled)}_setupUI(){const _=this._fullscreenButton=C("button","mapboxgl-ctrl-fullscreen",this._controlContainer);C("span","mapboxgl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",_)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(document.fullscreenElement||document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends o.E{constructor(_){super(),this.options=o.e(Object.create(x5),_),o.aY(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(_&&_.className?_.className.trim().split(/\s+/):[])}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&_.on("preclick",this._onClose),this.options.closeOnMove&&_.on("move",this._onClose),_.on("remove",this.remove),this._update(),_._addPopup(this),this._focusFirstElement(),this._trackPointer?(_.on("mousemove",this._onMouseEvent),_.on("mouseup",this._onMouseEvent),_._canvasContainer.classList.add("mapboxgl-track-pointer")):_.on("move",this._update),this.fire(new o.b("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const _=this._map;return _&&(_.off("move",this._update),_.off("move",this._onClose),_.off("preclick",this._onClose),_.off("click",this._onClose),_.off("remove",this.remove),_.off("mousemove",this._onMouseEvent),_.off("mouseup",this._onMouseEvent),_.off("drag",this._onMouseEvent),_._canvasContainer&&_._canvasContainer.classList.remove("mapboxgl-track-pointer"),_._removePopup(this),this._map=void 0),this.fire(new o.b("close")),this}getLngLat(){return this._lngLat}setLngLat(_){this._lngLat=o.bn.convert(_),this._pos=null,this._trackPointer=!1,this._update();const d=this._map;return d&&(d.on("move",this._update),d.off("mousemove",this._onMouseEvent),d._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const _=this._map;return _&&(_.off("move",this._update),_.on("mousemove",this._onMouseEvent),_.on("drag",this._onMouseEvent),_._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(document.createTextNode(_))}setHTML(_){const d=document.createDocumentFragment(),f=document.createElement("body");let x;for(f.innerHTML=_;x=f.firstChild,x;)d.appendChild(x);return this.setDOMContent(d)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){let d=this._content;if(d)for(;d.hasChildNodes();)d.firstChild&&d.removeChild(d.firstChild);else d=this._content=C("div","mapboxgl-popup-content",this._container||void 0);if(d.appendChild(_),this.options.closeButton){const f=this._closeButton=C("button","mapboxgl-popup-close-button",d);f.type="button",f.setAttribute("aria-label","Close popup"),f.setAttribute("aria-hidden","true"),f.innerHTML="&#215;",f.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(_){return this._classList.add(_),this._updateClassList(),this}removeClassName(_){return this._classList.delete(_),this._updateClassList(),this}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){let d;return this._classList.delete(_)?d=!1:(this._classList.add(_),d=!0),this._updateClassList(),d}_onMouseEvent(_){this._update(_.point)}_getAnchor(_){if(this.options.anchor)return this.options.anchor;const d=this._map,f=this._container,x=this._pos;if(!d||!f||!x)return"bottom";const M=f.offsetWidth,T=f.offsetHeight,L=x.x<M/2,j=x.x>d.transform.width-M/2;if(x.y+_<T)return L?"top-left":j?"top-right":"top";if(x.y>d.transform.height-T){if(L)return"bottom-left";if(j)return"bottom-right"}return L?"left":j?"right":"bottom"}_updateClassList(){const _=this._container;if(!_)return;const d=[...this._classList];d.push("mapboxgl-popup"),this._anchor&&d.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&d.push("mapboxgl-popup-track-pointer"),_.className=d.join(" ")}_update(_){const d=this._map,f=this._content;if(!d||!this._lngLat&&!this._trackPointer||!f)return;let x=this._container;if(x||(x=this._container=C("div","mapboxgl-popup",d.getContainer()),this._tip=C("div","mapboxgl-popup-tip",x),x.appendChild(f)),this.options.maxWidth&&x.style.maxWidth!==this.options.maxWidth&&(x.style.maxWidth=this.options.maxWidth),d.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Lm(this._lngLat,this._pos,d.transform)),!this._trackPointer||_){const M=this._pos=this._trackPointer&&_?_:d.project(this._lngLat),T=S5(this.options.offset),L=this._anchor=this._getAnchor(T.y),j=S5(this.options.offset,L),H=M.add(j).round();d._requestDomTask(()=>{this._container&&L&&(this._container.style.transform=`${zy[L]} translate(${H.x}px,${H.y}px)`)})}if(!this._marker&&d._showingGlobe()){const M=o.d6(d.transform,this._lngLat)?0:1;this._setOpacity(M)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(w5);_&&_.focus()}_onClose(){this.remove()}_setOpacity(_){this._container&&(this._container.style.opacity=`${_}`),this._content&&(this._content.style.pointerEvents=_?"auto":"none")}},Marker:b1,Style:Xl,LngLat:o.bn,LngLatBounds:o.ad,Point:o.P,MercatorCoordinate:o.L,FreeCameraOptions:lm,Evented:o.E,config:o.d5,prewarm:o.dp,clearPrewarmedResources:o.dq,get accessToken(){return o.d5.ACCESS_TOKEN},set accessToken(_){o.d5.ACCESS_TOKEN=_},get baseApiUrl(){return o.d5.API_URL},set baseApiUrl(_){o.d5.API_URL=_},get workerCount(){return o.dr.workerCount},set workerCount(_){o.dr.workerCount=_},get maxParallelImageRequests(){return o.d5.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(_){o.d5.MAX_PARALLEL_IMAGE_REQUESTS=_},clearStorage(_){o.ds(_)},get workerUrl(){return o.dt.workerUrl},set workerUrl(_){o.dt.workerUrl=_},get workerClass(){return o.dt.workerClass},set workerClass(_){o.dt.workerClass=_},get workerParams(){return o.dt.workerParams},set workerParams(_){o.dt.workerParams=_},get dracoUrl(){return o.du()},set dracoUrl(_){o.dv(_)},get meshoptUrl(){return o.dw()},set meshoptUrl(_){o.dx(_)},setNow:o.f.setNow,restoreNow:o.f.restoreNow}});var h=s;return h})})(Yre);var nAe=Yre.exports;const $0=Li(nAe),rAe={"qatar-districts-investments":!0,"qatar-districts-borders":!0,"qatar-districts-polygon":!0},Qre=Eb({name:"mapLayers",initialState:rAe,reducers:{toggleLayerVisibility(e,t){const n=t.payload,r=e[n];typeof r=="boolean"&&(e[n]=!r)},setLayerVisibility(e,t){const{layerId:n,visible:r}=t.payload;e[n]=r}}}),{toggleLayerVisibility:iAe,setLayerVisibility:oAe}=Qre.actions,aAe=Qre.reducer,sAe={terrainEnabled:!1,buildingsEnabled:!1,center:[51.5,25.3],zoom:11},eie=Eb({name:"mapView",initialState:sAe,reducers:{toggleTerrain(e){e.terrainEnabled=!e.terrainEnabled},toggleBuildings(e){e.buildingsEnabled=!e.buildingsEnabled},setTerrain(e,t){e.terrainEnabled=t.payload},setBuildings(e,t){e.buildingsEnabled=t.payload},setCenter(e,t){e.center=t.payload},setZoom(e,t){e.zoom=t.payload},resetMap(e){e.center=[51.5,25.3],e.zoom=11}}}),{toggleTerrain:lAe,toggleBuildings:cAe,setTerrain:Axt,setBuildings:Cxt,setCenter:ZC,setZoom:SH,resetMap:uAe}=eie.actions,dAe=eie.reducer;var tie={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},AH=Oe.createContext&&Oe.createContext(tie),hAe=["attr","size","title"];function pAe(e,t){if(e==null)return{};var n=fAe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function YE(){return YE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YE.apply(this,arguments)}function CH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CH(Object(n),!0).forEach(function(r){mAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mAe(e,t,n){return t=gAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gAe(e){var t=yAe(e,"string");return typeof t=="symbol"?t:t+""}function yAe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nie(e){return e&&e.map((t,n)=>Oe.createElement(t.tag,JE({key:n},t.attr),nie(t.child)))}function Wo(e){return t=>Oe.createElement(vAe,YE({attr:JE({},e.attr)},t),nie(e.child))}function vAe(e){var t=n=>{var{attr:r,size:i,title:s}=e,c=pAe(e,hAe),h=i||n.size||"1em",o;return n.className&&(o=n.className),e.className&&(o=(o?o+" ":"")+e.className),Oe.createElement("svg",YE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:o,style:JE(JE({color:e.color||n.color},n.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),s&&Oe.createElement("title",null,s),e.children)};return AH!==void 0?Oe.createElement(AH.Consumer,null,n=>t(n)):t(tie)}function bAe(e){return Wo({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 512.3v-.3c0-229.8-186.2-416-416-416S96 282.2 96 512v.4c0 229.8 186.2 416 416 416s416-186.2 416-416v-.3.2zm-6.7-74.6l.6 3.3-.6-3.3zM676.7 638.2c53.5-82.2 52.5-189.4-11.1-263.7l162.4-8.4c20.5 44.4 32 93.8 32 145.9 0 185.2-144.6 336.6-327.1 347.4l143.8-221.2zM512 652.3c-77.5 0-140.2-62.7-140.2-140.2 0-77.7 62.7-140.2 140.2-140.2S652.2 434.5 652.2 512 589.5 652.3 512 652.3zm369.2-331.7l-3-5.7 3 5.7zM512 164c121.3 0 228.2 62.1 290.4 156.2l-263.6-13.9c-97.5-5.7-190.2 49.2-222.3 141.1L227.8 311c63.1-88.9 166.9-147 284.2-147zM102.5 585.8c26 145 127.1 264 261.6 315.1C229.6 850 128.5 731 102.5 585.8zM164 512c0-55.9 13.2-108.7 36.6-155.5l119.7 235.4c44.1 86.7 137.4 139.7 234 121.6l-74 145.1C302.9 842.5 164 693.5 164 512zm324.7 415.4c4 .2 8 .4 12 .5-4-.2-8-.3-12-.5z"},child:[]}]})(e)}function MH(e){return Wo({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"},child:[]}]})(e)}function EH(e){return Wo({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"},child:[]}]})(e)}function _Ae(e){return Wo({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 17.6l-2 -1.1v-2.5"},child:[]},{tag:"path",attr:{d:"M4 10v-2.5l2 -1.1"},child:[]},{tag:"path",attr:{d:"M10 4.1l2 -1.1l2 1.1"},child:[]},{tag:"path",attr:{d:"M18 6.4l2 1.1v2.5"},child:[]},{tag:"path",attr:{d:"M20 14v2.5l-2 1.12"},child:[]},{tag:"path",attr:{d:"M14 19.9l-2 1.1l-2 -1.1"},child:[]},{tag:"path",attr:{d:"M12 12l2 -1.1"},child:[]},{tag:"path",attr:{d:"M18 8.6l2 -1.1"},child:[]},{tag:"path",attr:{d:"M12 12l0 2.5"},child:[]},{tag:"path",attr:{d:"M12 18.5l0 2.5"},child:[]},{tag:"path",attr:{d:"M12 12l-2 -1.12"},child:[]},{tag:"path",attr:{d:"M6 8.6l-2 -1.1"},child:[]}]})(e)}function xAe(e){return Wo({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.875 6.27c.7 .398 1.13 1.143 1.125 1.948v7.284c0 .809 -.443 1.555 -1.158 1.948l-6.75 4.27a2.269 2.269 0 0 1 -2.184 0l-6.75 -4.27a2.225 2.225 0 0 1 -1.158 -1.948v-7.285c0 -.809 .443 -1.554 1.158 -1.947l6.75 -3.98a2.33 2.33 0 0 1 2.25 0l6.75 3.98h-.033z"},child:[]},{tag:"path",attr:{d:"M12 16v.01"},child:[]},{tag:"path",attr:{d:"M12 13a2 2 0 0 0 .914 -3.782a1.98 1.98 0 0 0 -2.414 .483"},child:[]}]})(e)}var rie={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",c=0;c<arguments.length;c++){var h=arguments[c];h&&(s=i(s,r(h)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var c="";for(var h in s)t.call(s,h)&&s[h]&&(c=i(c,h));return c}function i(s,c){return c?s?s+" "+c:s+c:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(rie);var wAe=rie.exports;const Dt=Li(wAe);function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ln.apply(null,arguments)}function Hr(e){"@babel/helpers - typeof";return Hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hr(e)}var SAe=Symbol.for("react.element"),AAe=Symbol.for("react.transitional.element"),CAe=Symbol.for("react.fragment");function iie(e){return e&&Hr(e)==="object"&&(e.$$typeof===SAe||e.$$typeof===AAe)&&e.type===CAe}function Pc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return Oe.Children.forEach(e,function(r){r==null&&!t.keepEmpty||(Array.isArray(r)?n=n.concat(Pc(r)):iie(r)&&r.props?n=n.concat(Pc(r.props.children,t)):n.push(r))}),n}var PN={},MAe=function(t){};function EAe(e,t){}function TAe(e,t){}function PAe(){PN={}}function oie(e,t,n){!t&&!PN[n]&&(e(!1,n),PN[n]=!0)}function ns(e,t){oie(EAe,e,t)}function IAe(e,t){oie(TAe,e,t)}ns.preMessage=MAe;ns.resetWarned=PAe;ns.noteOnce=IAe;function OAe(e,t){if(Hr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aie(e){var t=OAe(e,"string");return Hr(t)=="symbol"?t:t+""}function Ze(e,t,n){return(t=aie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TH(Object(n),!0).forEach(function(r){Ze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zw(e){return e instanceof HTMLElement||e instanceof SVGElement}function kAe(e){return e&&Hr(e)==="object"&&Zw(e.nativeElement)?e.nativeElement:Zw(e)?e:null}function YM(e){var t=kAe(e);if(t)return t;if(e instanceof Oe.Component){var n;return(n=Mg.findDOMNode)===null||n===void 0?void 0:n.call(Mg,e)}return null}var sie={exports:{}},xo={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JL=Symbol.for("react.element"),QL=Symbol.for("react.portal"),p3=Symbol.for("react.fragment"),f3=Symbol.for("react.strict_mode"),m3=Symbol.for("react.profiler"),g3=Symbol.for("react.provider"),y3=Symbol.for("react.context"),NAe=Symbol.for("react.server_context"),v3=Symbol.for("react.forward_ref"),b3=Symbol.for("react.suspense"),_3=Symbol.for("react.suspense_list"),x3=Symbol.for("react.memo"),w3=Symbol.for("react.lazy"),RAe=Symbol.for("react.offscreen"),lie;lie=Symbol.for("react.module.reference");function ou(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case JL:switch(e=e.type,e){case p3:case m3:case f3:case b3:case _3:return e;default:switch(e=e&&e.$$typeof,e){case NAe:case y3:case v3:case w3:case x3:case g3:return e;default:return t}}case QL:return t}}}xo.ContextConsumer=y3;xo.ContextProvider=g3;xo.Element=JL;xo.ForwardRef=v3;xo.Fragment=p3;xo.Lazy=w3;xo.Memo=x3;xo.Portal=QL;xo.Profiler=m3;xo.StrictMode=f3;xo.Suspense=b3;xo.SuspenseList=_3;xo.isAsyncMode=function(){return!1};xo.isConcurrentMode=function(){return!1};xo.isContextConsumer=function(e){return ou(e)===y3};xo.isContextProvider=function(e){return ou(e)===g3};xo.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===JL};xo.isForwardRef=function(e){return ou(e)===v3};xo.isFragment=function(e){return ou(e)===p3};xo.isLazy=function(e){return ou(e)===w3};xo.isMemo=function(e){return ou(e)===x3};xo.isPortal=function(e){return ou(e)===QL};xo.isProfiler=function(e){return ou(e)===m3};xo.isStrictMode=function(e){return ou(e)===f3};xo.isSuspense=function(e){return ou(e)===b3};xo.isSuspenseList=function(e){return ou(e)===_3};xo.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===p3||e===m3||e===f3||e===b3||e===_3||e===RAe||typeof e=="object"&&e!==null&&(e.$$typeof===w3||e.$$typeof===x3||e.$$typeof===g3||e.$$typeof===y3||e.$$typeof===v3||e.$$typeof===lie||e.getModuleId!==void 0)};xo.typeOf=ou;sie.exports=xo;var JM=sie.exports;function oA(e,t,n){var r=A.useRef({});return(!("value"in r.current)||n(r.current.condition,t))&&(r.current.value=e(),r.current.condition=t),r.current.value}var DAe=Number(A.version.split(".")[0]),e7=function(t,n){typeof t=="function"?t(n):Hr(t)==="object"&&t&&"current"in t&&(t.current=n)},el=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);return i.length<=1?i[0]:function(s){n.forEach(function(c){e7(c,s)})}},Tb=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oA(function(){return el.apply(void 0,n)},n,function(i,s){return i.length!==s.length||i.every(function(c,h){return c!==s[h]})})},Uf=function(t){var n,r;if(!t)return!1;if(cie(t)&&DAe>=19)return!0;var i=JM.isMemo(t)?t.type.type:t.type;return!(typeof i=="function"&&!((n=i.prototype)!==null&&n!==void 0&&n.render)&&i.$$typeof!==JM.ForwardRef||typeof t=="function"&&!((r=t.prototype)!==null&&r!==void 0&&r.render)&&t.$$typeof!==JM.ForwardRef)};function cie(e){return A.isValidElement(e)&&!iie(e)}var aA=function(t){if(t&&cie(t)){var n=t;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null},IN=A.createContext(null);function LAe(e){var t=e.children,n=e.onBatchResize,r=A.useRef(0),i=A.useRef([]),s=A.useContext(IN),c=A.useCallback(function(h,o,m){r.current+=1;var y=r.current;i.current.push({size:h,element:o,data:m}),Promise.resolve().then(function(){y===r.current&&(n==null||n(i.current),i.current=[])}),s==null||s(h,o,m)},[n,s]);return A.createElement(IN.Provider,{value:c},t)}var uie=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},t.prototype.set=function(n,r){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,i=e(r,n);~i&&r.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var c=s[i];n.call(r,c[1],c[0])}},t}()}(),ON=typeof window<"u"&&typeof document<"u"&&window.document===document,QE=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),FAe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(QE):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),$Ae=2;function jAe(e,t){var n=!1,r=!1,i=0;function s(){n&&(n=!1,e()),r&&h()}function c(){FAe(s)}function h(){var o=Date.now();if(n){if(o-i<$Ae)return;r=!0}else n=!0,r=!1,setTimeout(c,t);i=o}return h}var zAe=20,BAe=["top","right","bottom","left","width","height","size","weight"],ZAe=typeof MutationObserver<"u",UAe=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=jAe(this.refresh.bind(this),zAe)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!ON||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ZAe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!ON||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,i=BAe.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),die=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},j0=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||QE},hie=S3(0,0,0,0);function eT(e){return parseFloat(e)||0}function PH(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,i){var s=e["border-"+i+"-width"];return r+eT(s)},0)}function HAe(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var s=i[r],c=e["padding-"+s];n[s]=eT(c)}return n}function VAe(e){var t=e.getBBox();return S3(0,0,t.width,t.height)}function WAe(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return hie;var r=j0(e).getComputedStyle(e),i=HAe(r),s=i.left+i.right,c=i.top+i.bottom,h=eT(r.width),o=eT(r.height);if(r.boxSizing==="border-box"&&(Math.round(h+s)!==t&&(h-=PH(r,"left","right")+s),Math.round(o+c)!==n&&(o-=PH(r,"top","bottom")+c)),!KAe(e)){var m=Math.round(h+s)-t,y=Math.round(o+c)-n;Math.abs(m)!==1&&(h-=m),Math.abs(y)!==1&&(o-=y)}return S3(i.left,i.top,h,o)}var GAe=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof j0(e).SVGGraphicsElement}:function(e){return e instanceof j0(e).SVGElement&&typeof e.getBBox=="function"}}();function KAe(e){return e===j0(e).document.documentElement}function qAe(e){return ON?GAe(e)?VAe(e):WAe(e):hie}function XAe(e){var t=e.x,n=e.y,r=e.width,i=e.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,c=Object.create(s.prototype);return die(c,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),c}function S3(e,t,n,r){return{x:e,y:t,width:n,height:r}}var YAe=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=S3(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=qAe(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),JAe=function(){function e(t,n){var r=XAe(n);die(this,{target:t,contentRect:r})}return e}(),QAe=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new uie,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof j0(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new YAe(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof j0(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new JAe(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),pie=typeof WeakMap<"u"?new WeakMap:new uie,fie=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=UAe.getInstance(),r=new QAe(t,n,this);pie.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){fie.prototype[e]=function(){var t;return(t=pie.get(this))[e].apply(t,arguments)}});var mie=function(){return typeof QE.ResizeObserver<"u"?QE.ResizeObserver:fie}(),hf=new Map;function e5e(e){e.forEach(function(t){var n,r=t.target;(n=hf.get(r))===null||n===void 0||n.forEach(function(i){return i(r)})})}var gie=new mie(e5e);function t5e(e,t){hf.has(e)||(hf.set(e,new Set),gie.observe(e)),hf.get(e).add(t)}function n5e(e,t){hf.has(e)&&(hf.get(e).delete(t),hf.get(e).size||(gie.unobserve(e),hf.delete(e)))}function Go(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aie(r.key),r)}}function Ko(e,t,n){return t&&IH(e.prototype,t),n&&IH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kN(e,t){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},kN(e,t)}function bl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kN(e,t)}function Js(e){return Js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Js(e)}function Hf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hf=function(){return!!e})()}function di(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ny(e,t){if(t&&(Hr(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return di(e)}function ry(e){var t=Hf();return function(){var n,r=Js(e);if(t){var i=Js(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ny(this,n)}}var r5e=function(e){bl(n,e);var t=ry(n);function n(){return Go(this,n),t.apply(this,arguments)}return Ko(n,[{key:"render",value:function(){return this.props.children}}]),n}(A.Component);function i5e(e,t){var n=e.children,r=e.disabled,i=A.useRef(null),s=A.useRef(null),c=A.useContext(IN),h=typeof n=="function",o=h?n(i):n,m=A.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),y=!h&&A.isValidElement(o)&&Uf(o),v=y?aA(o):null,S=Tb(v,i),C=function(){var D;return YM(i.current)||(i.current&&Hr(i.current)==="object"?YM((D=i.current)===null||D===void 0?void 0:D.nativeElement):null)||YM(s.current)};A.useImperativeHandle(t,function(){return C()});var P=A.useRef(e);P.current=e;var I=A.useCallback(function(N){var D=P.current,k=D.onResize,F=D.data,U=N.getBoundingClientRect(),B=U.width,z=U.height,W=N.offsetWidth,Y=N.offsetHeight,K=Math.floor(B),ee=Math.floor(z);if(m.current.width!==K||m.current.height!==ee||m.current.offsetWidth!==W||m.current.offsetHeight!==Y){var re={width:K,height:ee,offsetWidth:W,offsetHeight:Y};m.current=re;var oe=W===Math.round(B)?B:W,he=Y===Math.round(z)?z:Y,be=Ue(Ue({},re),{},{offsetWidth:oe,offsetHeight:he});c==null||c(be,N,F),k&&Promise.resolve().then(function(){k(be,N)})}},[]);return A.useEffect(function(){var N=C();return N&&!r&&t5e(N,I),function(){return n5e(N,I)}},[i.current,r]),A.createElement(r5e,{ref:s},y?A.cloneElement(o,{ref:S}):o)}var o5e=A.forwardRef(i5e),a5e="rc-observer-key";function s5e(e,t){var n=e.children,r=typeof n=="function"?[n]:Pc(n);return r.map(function(i,s){var c=(i==null?void 0:i.key)||"".concat(a5e,"-").concat(s);return A.createElement(o5e,Ln({},e,{key:c,ref:s===0?t:void 0}),i)})}var Jc=A.forwardRef(s5e);Jc.Collection=LAe;function Vl(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach(function(r){delete n[r]}),n}function NN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l5e(e){if(Array.isArray(e))return NN(e)}function yie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t7(e,t){if(e){if(typeof e=="string")return NN(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NN(e,t):void 0}}function c5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zn(e){return l5e(e)||yie(e)||t7(e)||c5e()}var vie=function(t){return+setTimeout(t,16)},bie=function(t){return clearTimeout(t)};typeof window<"u"&&"requestAnimationFrame"in window&&(vie=function(t){return window.requestAnimationFrame(t)},bie=function(t){return window.cancelAnimationFrame(t)});var OH=0,n7=new Map;function _ie(e){n7.delete(e)}var Mi=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;OH+=1;var r=OH;function i(s){if(s===0)_ie(r),t();else{var c=vie(function(){i(s-1)});n7.set(r,c)}}return i(n),r};Mi.cancel=function(e){var t=n7.get(e);return _ie(e),bie(t)};function xie(e){if(Array.isArray(e))return e}function u5e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,c,h=[],o=!0,m=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;o=!1}else for(;!(o=(r=s.call(n)).done)&&(h.push(r.value),h.length!==t);o=!0);}catch(y){m=!0,i=y}finally{try{if(!o&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw i}}return h}}function wie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pt(e,t){return xie(e)||u5e(e,t)||t7(e,t)||wie()}function Uw(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}function Qs(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function d5e(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var kH="data-rc-order",NH="data-rc-priority",h5e="rc-util-key",RN=new Map;function Sie(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):h5e}function A3(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function p5e(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function r7(e){return Array.from((RN.get(e)||e).children).filter(function(t){return t.tagName==="STYLE"})}function Aie(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Qs())return null;var n=t.csp,r=t.prepend,i=t.priority,s=i===void 0?0:i,c=p5e(r),h=c==="prependQueue",o=document.createElement("style");o.setAttribute(kH,c),h&&s&&o.setAttribute(NH,"".concat(s)),n!=null&&n.nonce&&(o.nonce=n==null?void 0:n.nonce),o.innerHTML=e;var m=A3(t),y=m.firstChild;if(r){if(h){var v=(t.styles||r7(m)).filter(function(S){if(!["prepend","prependQueue"].includes(S.getAttribute(kH)))return!1;var C=Number(S.getAttribute(NH)||0);return s>=C});if(v.length)return m.insertBefore(o,v[v.length-1].nextSibling),o}m.insertBefore(o,y)}else m.appendChild(o);return o}function Cie(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=A3(t);return(t.styles||r7(n)).find(function(r){return r.getAttribute(Sie(t))===e})}function Hw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Cie(e,t);if(n){var r=A3(t);r.removeChild(n)}}function f5e(e,t){var n=RN.get(e);if(!n||!d5e(document,n)){var r=Aie("",t),i=r.parentNode;RN.set(e,i),e.removeChild(r)}}function Kh(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=A3(n),i=r7(r),s=Ue(Ue({},n),{},{styles:i});f5e(r,s);var c=Cie(t,s);if(c){var h,o;if((h=s.csp)!==null&&h!==void 0&&h.nonce&&c.nonce!==((o=s.csp)===null||o===void 0?void 0:o.nonce)){var m;c.nonce=(m=s.csp)===null||m===void 0?void 0:m.nonce}return c.innerHTML!==e&&(c.innerHTML=e),c}var y=Aie(e,s);return y.setAttribute(Sie(s),t),y}function m5e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Gr(e,t){if(e==null)return{};var n,r,i=m5e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function z0(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(s,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=r.has(s);if(ns(!o,"Warning: There may be circular references"),o)return!1;if(s===c)return!0;if(n&&h>1)return!1;r.add(s);var m=h+1;if(Array.isArray(s)){if(!Array.isArray(c)||s.length!==c.length)return!1;for(var y=0;y<s.length;y++)if(!i(s[y],c[y],m))return!1;return!0}if(s&&c&&Hr(s)==="object"&&Hr(c)==="object"){var v=Object.keys(s);return v.length!==Object.keys(c).length?!1:v.every(function(S){return i(s[S],c[S],m)})}return!1}return i(e,t)}var g5e="%";function DN(e){return e.join(g5e)}var y5e=function(){function e(t){Go(this,e),Ze(this,"instanceId",void 0),Ze(this,"cache",new Map),this.instanceId=t}return Ko(e,[{key:"get",value:function(n){return this.opGet(DN(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(DN(n),r)}},{key:"opUpdate",value:function(n,r){var i=this.cache.get(n),s=r(i);s===null?this.cache.delete(n):this.cache.set(n,s)}}]),e}(),B0="data-token-hash",Vu="data-css-hash",pf="__cssinjs_instance__";function v5e(){var e=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(Vu,"]"))||[],n=document.head.firstChild;Array.from(t).forEach(function(i){i[pf]=i[pf]||e,i[pf]===e&&document.head.insertBefore(i,n)});var r={};Array.from(document.querySelectorAll("style[".concat(Vu,"]"))).forEach(function(i){var s=i.getAttribute(Vu);if(r[s]){if(i[pf]===e){var c;(c=i.parentNode)===null||c===void 0||c.removeChild(i)}}else r[s]=!0})}return new y5e(e)}var C3=A.createContext({hashPriority:"low",cache:v5e(),defaultCache:!0});function b5e(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var i7=function(){function e(){Go(this,e),Ze(this,"cache",void 0),Ze(this,"keys",void 0),Ze(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Ko(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c={map:this.cache};return n.forEach(function(h){if(!c)c=void 0;else{var o;c=(o=c)===null||o===void 0||(o=o.map)===null||o===void 0?void 0:o.get(h)}}),(r=c)!==null&&r!==void 0&&r.value&&s&&(c.value[1]=this.cacheCallTimes++),(i=c)===null||i===void 0?void 0:i.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var i=this;if(!this.has(n)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var s=this.keys.reduce(function(m,y){var v=Pt(m,2),S=v[1];return i.internalGet(y)[1]<S?[y,i.internalGet(y)[1]]:m},[this.keys[0],this.cacheCallTimes]),c=Pt(s,1),h=c[0];this.delete(h)}this.keys.push(n)}var o=this.cache;n.forEach(function(m,y){if(y===n.length-1)o.set(m,{value:[r,i.cacheCallTimes++]});else{var v=o.get(m);v?v.map||(v.map=new Map):o.set(m,{map:new Map}),o=o.get(m).map}})}},{key:"deleteByPath",value:function(n,r){var i=n.get(r[0]);if(r.length===1){var s;return i.map?n.set(r[0],{map:i.map}):n.delete(r[0]),(s=i.value)===null||s===void 0?void 0:s[0]}var c=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&n.delete(r[0]),c}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!b5e(r,n)}),this.deleteByPath(this.cache,n)}}]),e}();Ze(i7,"MAX_CACHE_SIZE",20);Ze(i7,"MAX_CACHE_OFFSET",5);var RH=0,Mie=function(){function e(t){Go(this,e),Ze(this,"derivatives",void 0),Ze(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=RH,t.length===0&&(t.length>0,void 0),RH+=1}return Ko(e,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,i){return i(n,r)},void 0)}}]),e}(),M2=new i7;function LN(e){var t=Array.isArray(e)?e:[e];return M2.has(t)||M2.set(t,new Mie(t)),M2.get(t)}var _5e=new WeakMap,E2={};function x5e(e,t){for(var n=_5e,r=0;r<t.length;r+=1){var i=t[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(E2)||n.set(E2,e()),n.get(E2)}var DH=new WeakMap;function tw(e){var t=DH.get(e)||"";return t||(Object.keys(e).forEach(function(n){var r=e[n];t+=n,r instanceof Mie?t+=r.id:r&&Hr(r)==="object"?t+=tw(r):t+=r}),t=Uw(t),DH.set(e,t)),t}function LH(e,t){return Uw("".concat(t,"_").concat(tw(e)))}var FN=Qs();function Ut(e){return typeof e=="number"?"".concat(e,"px"):e}function tT(e,t,n){var r,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(s)return e;var c=Ue(Ue({},i),{},(r={},Ze(r,B0,t),Ze(r,Vu,n),r)),h=Object.keys(c).map(function(o){var m=c[o];return m?"".concat(o,'="').concat(m,'"'):null}).filter(function(o){return o}).join(" ");return"<style ".concat(h,">").concat(e,"</style>")}var Eie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},w5e=function(t,n,r){return Object.keys(t).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(t).map(function(i){var s=Pt(i,2),c=s[0],h=s[1];return"".concat(c,":").concat(h,";")}).join(""),"}"):""},Tie=function(t,n,r){var i={},s={};return Object.entries(t).forEach(function(c){var h,o,m=Pt(c,2),y=m[0],v=m[1];if(r!=null&&(h=r.preserve)!==null&&h!==void 0&&h[y])s[y]=v;else if((typeof v=="string"||typeof v=="number")&&!(r!=null&&(o=r.ignore)!==null&&o!==void 0&&o[y])){var S,C=Eie(y,r==null?void 0:r.prefix);i[C]=typeof v=="number"&&!(r!=null&&(S=r.unitless)!==null&&S!==void 0&&S[y])?"".concat(v,"px"):String(v),s[y]="var(".concat(C,")")}}),[s,w5e(i,n,{scope:r==null?void 0:r.scope})]},FH=Qs()?A.useLayoutEffect:A.useEffect,so=function(t,n){var r=A.useRef(!0);FH(function(){return t(r.current)},n),FH(function(){return r.current=!1,function(){r.current=!0}},[])},h0=function(t,n){so(function(r){if(!r)return t()},n)},S5e=Ue({},A0),$H=S5e.useInsertionEffect,A5e=function(t,n,r){A.useMemo(t,r),so(function(){return n(!0)},r)},C5e=$H?function(e,t,n){return $H(function(){return e(),t()},n)}:A5e,M5e=Ue({},A0),E5e=M5e.useInsertionEffect,T5e=function(t){var n=[],r=!1;function i(s){r||n.push(s)}return A.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(s){return s()})}},t),i},P5e=function(){return function(t){t()}},I5e=typeof E5e<"u"?T5e:P5e;function o7(e,t,n,r,i){var s=A.useContext(C3),c=s.cache,h=[e].concat(zn(t)),o=DN(h),m=I5e([o]),y=function(P){c.opUpdate(o,function(I){var N=I||[void 0,void 0],D=Pt(N,2),k=D[0],F=k===void 0?0:k,U=D[1],B=U,z=B||n(),W=[F,z];return P?P(W):W})};A.useMemo(function(){y()},[o]);var v=c.opGet(o),S=v[1];return C5e(function(){i==null||i(S)},function(C){return y(function(P){var I=Pt(P,2),N=I[0],D=I[1];return C&&N===0&&(i==null||i(S)),[N+1,D]}),function(){c.opUpdate(o,function(P){var I=P||[],N=Pt(I,2),D=N[0],k=D===void 0?0:D,F=N[1],U=k-1;return U===0?(m(function(){(C||!c.opGet(o))&&(r==null||r(F,!1))}),null):[k-1,F]})}},[o]),S}var O5e={},k5e="css",ag=new Map;function N5e(e){ag.set(e,(ag.get(e)||0)+1)}function R5e(e,t){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(B0,'="').concat(e,'"]'));n.forEach(function(r){if(r[pf]===t){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var D5e=0;function L5e(e,t){ag.set(e,(ag.get(e)||0)-1);var n=Array.from(ag.keys()),r=n.filter(function(i){var s=ag.get(i)||0;return s<=0});n.length-r.length>D5e&&r.forEach(function(i){R5e(i,t),ag.delete(i)})}var F5e=function(t,n,r,i){var s=r.getDerivativeToken(t),c=Ue(Ue({},s),n);return i&&(c=i(c)),c},Pie="token";function $5e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=A.useContext(C3),i=r.cache.instanceId,s=r.container,c=n.salt,h=c===void 0?"":c,o=n.override,m=o===void 0?O5e:o,y=n.formatToken,v=n.getComputedToken,S=n.cssVar,C=x5e(function(){return Object.assign.apply(Object,[{}].concat(zn(t)))},t),P=tw(C),I=tw(m),N=S?tw(S):"",D=o7(Pie,[h,e.id,P,I,N],function(){var k,F=v?v(C,m,e):F5e(C,m,e,y),U=Ue({},F),B="";if(S){var z=Tie(F,S.key,{prefix:S.prefix,ignore:S.ignore,unitless:S.unitless,preserve:S.preserve}),W=Pt(z,2);F=W[0],B=W[1]}var Y=LH(F,h);F._tokenKey=Y,U._tokenKey=LH(U,h);var K=(k=S==null?void 0:S.key)!==null&&k!==void 0?k:Y;F._themeKey=K,N5e(K);var ee="".concat(k5e,"-").concat(Uw(Y));return F._hashId=ee,[F,ee,U,B,(S==null?void 0:S.key)||""]},function(k){L5e(k[0]._themeKey,i)},function(k){var F=Pt(k,4),U=F[0],B=F[3];if(S&&B){var z=Kh(B,Uw("css-variables-".concat(U._themeKey)),{mark:Vu,prepend:"queue",attachTo:s,priority:-999});z[pf]=i,z.setAttribute(B0,U._themeKey)}});return D}var j5e=function(t,n,r){var i=Pt(t,5),s=i[2],c=i[3],h=i[4],o=r||{},m=o.plain;if(!c)return null;var y=s._tokenKey,v=-999,S={"data-rc-order":"prependQueue","data-rc-priority":"".concat(v)},C=tT(c,h,y,S,m);return[v,y,C]},z5e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Iie="comm",Oie="rule",kie="decl",B5e="@import",Z5e="@namespace",U5e="@keyframes",H5e="@layer",Nie=Math.abs,a7=String.fromCharCode;function Rie(e){return e.trim()}function QM(e,t,n){return e.replace(t,n)}function V5e(e,t,n){return e.indexOf(t,n)}function p0(e,t){return e.charCodeAt(t)|0}function Z0(e,t,n){return e.slice(t,n)}function kd(e){return e.length}function W5e(e){return e.length}function UC(e,t){return t.push(e),e}var M3=1,U0=1,Die=0,ru=0,Ua=0,Pb="";function s7(e,t,n,r,i,s,c,h){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:M3,column:U0,length:c,return:"",siblings:h}}function G5e(){return Ua}function K5e(){return Ua=ru>0?p0(Pb,--ru):0,U0--,Ua===10&&(U0=1,M3--),Ua}function Wu(){return Ua=ru<Die?p0(Pb,ru++):0,U0++,Ua===10&&(U0=1,M3++),Ua}function ff(){return p0(Pb,ru)}function eE(){return ru}function E3(e,t){return Z0(Pb,e,t)}function Vw(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function q5e(e){return M3=U0=1,Die=kd(Pb=e),ru=0,[]}function X5e(e){return Pb="",e}function T2(e){return Rie(E3(ru-1,$N(e===91?e+2:e===40?e+1:e)))}function Y5e(e){for(;(Ua=ff())&&Ua<33;)Wu();return Vw(e)>2||Vw(Ua)>3?"":" "}function J5e(e,t){for(;--t&&Wu()&&!(Ua<48||Ua>102||Ua>57&&Ua<65||Ua>70&&Ua<97););return E3(e,eE()+(t<6&&ff()==32&&Wu()==32))}function $N(e){for(;Wu();)switch(Ua){case e:return ru;case 34:case 39:e!==34&&e!==39&&$N(Ua);break;case 40:e===41&&$N(e);break;case 92:Wu();break}return ru}function Q5e(e,t){for(;Wu()&&e+Ua!==57;)if(e+Ua===84&&ff()===47)break;return"/*"+E3(t,ru-1)+"*"+a7(e===47?e:Wu())}function eCe(e){for(;!Vw(ff());)Wu();return E3(e,ru)}function tCe(e){return X5e(tE("",null,null,null,[""],e=q5e(e),0,[0],e))}function tE(e,t,n,r,i,s,c,h,o){for(var m=0,y=0,v=c,S=0,C=0,P=0,I=1,N=1,D=1,k=0,F="",U=i,B=s,z=r,W=F;N;)switch(P=k,k=Wu()){case 40:if(P!=108&&p0(W,v-1)==58){V5e(W+=QM(T2(k),"&","&\f"),"&\f",Nie(m?h[m-1]:0))!=-1&&(D=-1);break}case 34:case 39:case 91:W+=T2(k);break;case 9:case 10:case 13:case 32:W+=Y5e(P);break;case 92:W+=J5e(eE()-1,7);continue;case 47:switch(ff()){case 42:case 47:UC(nCe(Q5e(Wu(),eE()),t,n,o),o),(Vw(P||1)==5||Vw(ff()||1)==5)&&kd(W)&&Z0(W,-1,void 0)!==" "&&(W+=" ");break;default:W+="/"}break;case 123*I:h[m++]=kd(W)*D;case 125*I:case 59:case 0:switch(k){case 0:case 125:N=0;case 59+y:D==-1&&(W=QM(W,/\f/g,"")),C>0&&(kd(W)-v||I===0&&P===47)&&UC(C>32?zH(W+";",r,n,v-1,o):zH(QM(W," ","")+";",r,n,v-2,o),o);break;case 59:W+=";";default:if(UC(z=jH(W,t,n,m,y,i,h,F,U=[],B=[],v,s),s),k===123)if(y===0)tE(W,t,z,z,U,s,v,h,B);else{switch(S){case 99:if(p0(W,3)===110)break;case 108:if(p0(W,2)===97)break;default:y=0;case 100:case 109:case 115:}y?tE(e,z,z,r&&UC(jH(e,z,z,0,0,i,h,F,i,U=[],v,B),B),i,B,v,h,r?U:B):tE(W,z,z,z,[""],B,0,h,B)}}m=y=C=0,I=D=1,F=W="",v=c;break;case 58:v=1+kd(W),C=P;default:if(I<1){if(k==123)--I;else if(k==125&&I++==0&&K5e()==125)continue}switch(W+=a7(k),k*I){case 38:D=y>0?1:(W+="\f",-1);break;case 44:h[m++]=(kd(W)-1)*D,D=1;break;case 64:ff()===45&&(W+=T2(Wu())),S=ff(),y=v=kd(F=W+=eCe(eE())),k++;break;case 45:P===45&&kd(W)==2&&(I=0)}}return s}function jH(e,t,n,r,i,s,c,h,o,m,y,v){for(var S=i-1,C=i===0?s:[""],P=W5e(C),I=0,N=0,D=0;I<r;++I)for(var k=0,F=Z0(e,S+1,S=Nie(N=c[I])),U=e;k<P;++k)(U=Rie(N>0?C[k]+" "+F:QM(F,/&\f/g,C[k])))&&(o[D++]=U);return s7(e,t,n,i===0?Oie:h,o,m,y,v)}function nCe(e,t,n,r){return s7(e,t,n,Iie,a7(G5e()),Z0(e,2,-2),0,r)}function zH(e,t,n,r,i){return s7(e,t,n,kie,Z0(e,0,r),Z0(e,r+1,-1),r,i)}function jN(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function rCe(e,t,n,r){switch(e.type){case H5e:if(e.children.length)break;case B5e:case Z5e:case kie:return e.return=e.return||e.value;case Iie:return"";case U5e:return e.return=e.value+"{"+jN(e.children,r)+"}";case Oie:if(!kd(e.value=e.props.join(",")))return""}return kd(n=jN(e.children,r))?e.return=e.value+"{"+n+"}":""}var BH="data-ant-cssinjs-cache-path",Lie="_FILE_STYLE__",Tg,Fie=!0;function iCe(){if(!Tg&&(Tg={},Qs())){var e=document.createElement("div");e.className=BH,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";t=t.replace(/^"/,"").replace(/"$/,""),t.split(";").forEach(function(i){var s=i.split(":"),c=Pt(s,2),h=c[0],o=c[1];Tg[h]=o});var n=document.querySelector("style[".concat(BH,"]"));if(n){var r;Fie=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(e)}}function oCe(e){return iCe(),!!Tg[e]}function aCe(e){var t=Tg[e],n=null;if(t&&Qs())if(Fie)n=Lie;else{var r=document.querySelector("style[".concat(Vu,'="').concat(Tg[e],'"]'));r?n=r.innerHTML:delete Tg[e]}return[n,t]}var sCe="_skip_check_",$ie="_multi_value_";function nE(e){var t=jN(tCe(e),rCe);return t.replace(/\{%%%\:[^;];}/g,";")}function lCe(e){return Hr(e)==="object"&&e&&(sCe in e||$ie in e)}function ZH(e,t,n){if(!t)return e;var r=".".concat(t),i=n==="low"?":where(".concat(r,")"):r,s=e.split(",").map(function(c){var h,o=c.trim().split(/\s+/),m=o[0]||"",y=((h=m.match(/^\w+/))===null||h===void 0?void 0:h[0])||"";return m="".concat(y).concat(i).concat(m.slice(y.length)),[m].concat(zn(o.slice(1))).join(" ")});return s.join(",")}var cCe=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,s=r.injectHash,c=r.parentSelectors,h=n.hashId,o=n.layer;n.path;var m=n.hashPriority,y=n.transformers,v=y===void 0?[]:y;n.linters;var S="",C={};function P(D){var k=D.getName(h);if(!C[k]){var F=e(D.style,n,{root:!1,parentSelectors:c}),U=Pt(F,1),B=U[0];C[k]="@keyframes ".concat(D.getName(h)).concat(B)}}function I(D){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return D.forEach(function(F){Array.isArray(F)?I(F,k):F&&k.push(F)}),k}var N=I(Array.isArray(t)?t:[t]);return N.forEach(function(D){var k=typeof D=="string"&&!i?{}:D;if(typeof k=="string")S+="".concat(k,`
`);else if(k._keyframe)P(k);else{var F=v.reduce(function(U,B){var z;return(B==null||(z=B.visit)===null||z===void 0?void 0:z.call(B,U))||U},k);Object.keys(F).forEach(function(U){var B=F[U];if(Hr(B)==="object"&&B&&(U!=="animationName"||!B._keyframe)&&!lCe(B)){var z=!1,W=U.trim(),Y=!1;(i||s)&&h?W.startsWith("@")?z=!0:W==="&"?W=ZH("",h,m):W=ZH(U,h,m):i&&!h&&(W==="&"||W==="")&&(W="",Y=!0);var K=e(B,n,{root:Y,injectHash:z,parentSelectors:[].concat(zn(c),[W])}),ee=Pt(K,2),re=ee[0],oe=ee[1];C=Ue(Ue({},C),oe),S+="".concat(W).concat(re)}else{let le=function(ye,fe){var ue=ye.replace(/[A-Z]/g,function(ae){return"-".concat(ae.toLowerCase())}),xe=fe;!z5e[ye]&&typeof xe=="number"&&xe!==0&&(xe="".concat(xe,"px")),ye==="animationName"&&fe!==null&&fe!==void 0&&fe._keyframe&&(P(fe),xe=fe.getName(h)),S+="".concat(ue,":").concat(xe,";")};var he,be=(he=B==null?void 0:B.value)!==null&&he!==void 0?he:B;Hr(B)==="object"&&B!==null&&B!==void 0&&B[$ie]&&Array.isArray(be)?be.forEach(function(ye){le(U,ye)}):le(U,be)}})}}),i?o&&(S&&(S="@layer ".concat(o.name," {").concat(S,"}")),o.dependencies&&(C["@layer ".concat(o.name)]=o.dependencies.map(function(D){return"@layer ".concat(D,", ").concat(o.name,";")}).join(`
`))):S="{".concat(S,"}"),[S,C]};function jie(e,t){return Uw("".concat(e.join("%")).concat(t))}function uCe(){return null}var zie="style";function zN(e,t){var n=e.token,r=e.path,i=e.hashId,s=e.layer,c=e.nonce,h=e.clientOnly,o=e.order,m=o===void 0?0:o,y=A.useContext(C3),v=y.autoClear;y.mock;var S=y.defaultCache,C=y.hashPriority,P=y.container,I=y.ssrInline,N=y.transformers,D=y.linters,k=y.cache,F=y.layer,U=n._tokenKey,B=[U];F&&B.push("layer"),B.push.apply(B,zn(r));var z=FN,W=o7(zie,B,function(){var oe=B.join("|");if(oCe(oe)){var he=aCe(oe),be=Pt(he,2),le=be[0],ye=be[1];if(le)return[le,U,ye,{},h,m]}var fe=t(),ue=cCe(fe,{hashId:i,hashPriority:C,layer:F?s:void 0,path:r.join("-"),transformers:N,linters:D}),xe=Pt(ue,2),ae=xe[0],Ee=xe[1],Me=nE(ae),de=jie(B,Me);return[Me,U,de,Ee,h,m]},function(oe,he){var be=Pt(oe,3),le=be[2];(he||v)&&FN&&Hw(le,{mark:Vu})},function(oe){var he=Pt(oe,4),be=he[0];he[1];var le=he[2],ye=he[3];if(z&&be!==Lie){var fe={mark:Vu,prepend:F?!1:"queue",attachTo:P,priority:m},ue=typeof c=="function"?c():c;ue&&(fe.csp={nonce:ue});var xe=[],ae=[];Object.keys(ye).forEach(function(Me){Me.startsWith("@layer")?xe.push(Me):ae.push(Me)}),xe.forEach(function(Me){Kh(nE(ye[Me]),"_layer-".concat(Me),Ue(Ue({},fe),{},{prepend:!0}))});var Ee=Kh(be,le,fe);Ee[pf]=k.instanceId,Ee.setAttribute(B0,U),ae.forEach(function(Me){Kh(nE(ye[Me]),"_effect-".concat(Me),fe)})}}),Y=Pt(W,3),K=Y[0],ee=Y[1],re=Y[2];return function(oe){var he;if(!I||z||!S)he=A.createElement(uCe,null);else{var be;he=A.createElement("style",Ln({},(be={},Ze(be,B0,ee),Ze(be,Vu,re),be),{dangerouslySetInnerHTML:{__html:K}}))}return A.createElement(A.Fragment,null,he,oe)}}var dCe=function(t,n,r){var i=Pt(t,6),s=i[0],c=i[1],h=i[2],o=i[3],m=i[4],y=i[5],v=r||{},S=v.plain;if(m)return null;var C=s,P={"data-rc-order":"prependQueue","data-rc-priority":"".concat(y)};return C=tT(s,c,h,P,S),o&&Object.keys(o).forEach(function(I){if(!n[I]){n[I]=!0;var N=nE(o[I]),D=tT(N,c,"_effect-".concat(I),P,S);I.startsWith("@layer")?C=D+C:C+=D}}),[y,h,C]},Bie="cssVar",hCe=function(t,n){var r=t.key,i=t.prefix,s=t.unitless,c=t.ignore,h=t.token,o=t.scope,m=o===void 0?"":o,y=A.useContext(C3),v=y.cache.instanceId,S=y.container,C=h._tokenKey,P=[].concat(zn(t.path),[r,m,C]),I=o7(Bie,P,function(){var N=n(),D=Tie(N,r,{prefix:i,unitless:s,ignore:c,scope:m}),k=Pt(D,2),F=k[0],U=k[1],B=jie(P,U);return[F,U,B,r]},function(N){var D=Pt(N,3),k=D[2];FN&&Hw(k,{mark:Vu})},function(N){var D=Pt(N,3),k=D[1],F=D[2];if(k){var U=Kh(k,F,{mark:Vu,prepend:"queue",attachTo:S,priority:-999});U[pf]=v,U.setAttribute(B0,r)}});return I},pCe=function(t,n,r){var i=Pt(t,4),s=i[1],c=i[2],h=i[3],o=r||{},m=o.plain;if(!s)return null;var y=-999,v={"data-rc-order":"prependQueue","data-rc-priority":"".concat(y)},S=tT(s,h,c,v,m);return[y,c,S]},ux;ux={},Ze(ux,zie,dCe),Ze(ux,Pie,j5e),Ze(ux,Bie,pCe);var Ti=function(){function e(t,n){Go(this,e),Ze(this,"name",void 0),Ze(this,"style",void 0),Ze(this,"_keyframe",!0),this.name=t,this.style=n}return Ko(e,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),e}();function hv(e){return e.notSplit=!0,e}hv(["borderTop","borderBottom"]),hv(["borderTop"]),hv(["borderBottom"]),hv(["borderLeft","borderRight"]),hv(["borderLeft"]),hv(["borderRight"]);var l7=A.createContext({});function Zie(e){return xie(e)||yie(e)||t7(e)||wie()}function Bd(e,t){for(var n=e,r=0;r<t.length;r+=1){if(n==null)return;n=n[t[r]]}return n}function Uie(e,t,n,r){if(!t.length)return n;var i=Zie(t),s=i[0],c=i.slice(1),h;return!e&&typeof s=="number"?h=[]:Array.isArray(e)?h=zn(e):h=Ue({},e),r&&n===void 0&&c.length===1?delete h[s][c[0]]:h[s]=Uie(h[s],c,n,r),h}function Ou(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return t.length&&r&&n===void 0&&!Bd(e,t.slice(0,-1))?e:Uie(e,t,n,r)}function fCe(e){return Hr(e)==="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function UH(e){return Array.isArray(e)?[]:{}}var mCe=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Kv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=UH(t[0]);return t.forEach(function(i){function s(c,h){var o=new Set(h),m=Bd(i,c),y=Array.isArray(m);if(y||fCe(m)){if(!o.has(m)){o.add(m);var v=Bd(r,c);y?r=Ou(r,c,[]):(!v||Hr(v)!=="object")&&(r=Ou(r,c,UH(m))),mCe(m).forEach(function(S){s([].concat(zn(c),[S]),o)})}}else r=Ou(r,c,m)}s([])}),r}function gCe(){}const yCe=A.createContext({}),c7=()=>{const e=()=>{};return e.deprecated=gCe,e},Hie=A.createContext(void 0);var vCe={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},bCe={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const Vie={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},HH={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},bCe),timePickerLocale:Object.assign({},Vie)},ac="${label} is not a valid ${type}",Df={locale:"en",Pagination:vCe,DatePicker:HH,TimePicker:Vie,Calendar:HH,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:ac,method:ac,array:ac,object:ac,number:ac,date:ac,boolean:ac,integer:ac,float:ac,regexp:ac,email:ac,url:ac,hex:ac},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty"}};Object.assign({},Df.Modal);let rE=[];const VH=()=>rE.reduce((e,t)=>Object.assign(Object.assign({},e),t),Df.Modal);function _Ce(e){if(e){const t=Object.assign({},e);return rE.push(t),VH(),()=>{rE=rE.filter(n=>n!==t),VH()}}Object.assign({},Df.Modal)}const u7=A.createContext(void 0),T3=(e,t)=>{const n=A.useContext(u7),r=A.useMemo(()=>{var s;const c=t||Df[e],h=(s=n==null?void 0:n[e])!==null&&s!==void 0?s:{};return Object.assign(Object.assign({},typeof c=="function"?c():c),h||{})},[e,t,n]),i=A.useMemo(()=>{const s=n==null?void 0:n.locale;return n!=null&&n.exist&&!s?Df.locale:s},[n]);return[r,i]},xCe="internalMark",wCe=e=>{const{locale:t={},children:n,_ANT_MARK__:r}=e;A.useEffect(()=>_Ce(t&&t.Modal),[t]);const i=A.useMemo(()=>Object.assign(Object.assign({},t),{exist:!0}),[t]);return A.createElement(u7.Provider,{value:i},n)},hs=Math.round;function P2(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=t(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const WH=(e,t,n)=>n===0?e:e/100;function dx(e,t){const n=t||255;return e>n?n:e<0?0:e}class qv{constructor(t){Ze(this,"isValid",!0),Ze(this,"r",0),Ze(this,"g",0),Ze(this,"b",0),Ze(this,"a",1),Ze(this,"_h",void 0),Ze(this,"_s",void 0),Ze(this,"_l",void 0),Ze(this,"_v",void 0),Ze(this,"_max",void 0),Ze(this,"_min",void 0),Ze(this,"_brightness",void 0);function n(i){return i[0]in t&&i[1]in t&&i[2]in t}if(t)if(typeof t=="string"){let s=function(c){return i.startsWith(c)};var r=s;const i=t.trim();/^#?[A-F\d]{3,8}$/i.test(i)?this.fromHexString(i):s("rgb")?this.fromRgbString(i):s("hsl")?this.fromHslString(i):(s("hsv")||s("hsb"))&&this.fromHsvString(i)}else if(t instanceof qv)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(n("rgb"))this.r=dx(t.r),this.g=dx(t.g),this.b=dx(t.b),this.a=typeof t.a=="number"?dx(t.a,1):1;else if(n("hsl"))this.fromHsl(t);else if(n("hsv"))this.fromHsv(t);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t))}setR(t){return this._sc("r",t)}setG(t){return this._sc("g",t)}setB(t){return this._sc("b",t)}setA(t){return this._sc("a",t,1)}setHue(t){const n=this.toHsv();return n.h=t,this._c(n)}getLuminance(){function t(s){const c=s/255;return c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)}const n=t(this.r),r=t(this.g),i=t(this.b);return .2126*n+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){const t=this.getMax()-this.getMin();t===0?this._h=0:this._h=hs(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()-t/100;return i<0&&(i=0),this._c({h:n,s:r,l:i,a:this.a})}lighten(t=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()+t/100;return i>1&&(i=1),this._c({h:n,s:r,l:i,a:this.a})}mix(t,n=50){const r=this._c(t),i=n/100,s=h=>(r[h]-this[h])*i+this[h],c={r:hs(s("r")),g:hs(s("g")),b:hs(s("b")),a:hs(s("a")*100)/100};return this._c(c)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){const n=this._c(t),r=this.a+n.a*(1-this.a),i=s=>hs((this[s]*this.a+n[s]*n.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t="#";const n=(this.r||0).toString(16);t+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);t+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(t+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const s=hs(this.a*255).toString(16);t+=s.length===2?s:"0"+s}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const t=this.getHue(),n=hs(this.getSaturation()*100),r=hs(this.getLightness()*100);return this.a!==1?`hsla(${t},${n}%,${r}%,${this.a})`:`hsl(${t},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(t,n,r){const i=this.clone();return i[t]=dx(n,r),i}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){const n=t.replace("#","");function r(i,s){return parseInt(n[i]+n[s||i],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:t,s:n,l:r,a:i}){if(this._h=t%360,this._s=n,this._l=r,this.a=typeof i=="number"?i:1,n<=0){const S=hs(r*255);this.r=S,this.g=S,this.b=S}let s=0,c=0,h=0;const o=t/60,m=(1-Math.abs(2*r-1))*n,y=m*(1-Math.abs(o%2-1));o>=0&&o<1?(s=m,c=y):o>=1&&o<2?(s=y,c=m):o>=2&&o<3?(c=m,h=y):o>=3&&o<4?(c=y,h=m):o>=4&&o<5?(s=y,h=m):o>=5&&o<6&&(s=m,h=y);const v=r-m/2;this.r=hs((s+v)*255),this.g=hs((c+v)*255),this.b=hs((h+v)*255)}fromHsv({h:t,s:n,v:r,a:i}){this._h=t%360,this._s=n,this._v=r,this.a=typeof i=="number"?i:1;const s=hs(r*255);if(this.r=s,this.g=s,this.b=s,n<=0)return;const c=t/60,h=Math.floor(c),o=c-h,m=hs(r*(1-n)*255),y=hs(r*(1-n*o)*255),v=hs(r*(1-n*(1-o))*255);switch(h){case 0:this.g=v,this.b=m;break;case 1:this.r=y,this.b=m;break;case 2:this.r=m,this.b=v;break;case 3:this.r=m,this.g=y;break;case 4:this.r=v,this.g=m;break;case 5:default:this.g=m,this.b=y;break}}fromHsvString(t){const n=P2(t,WH);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(t){const n=P2(t,WH);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(t){const n=P2(t,(r,i)=>i.includes("%")?hs(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var HC=2,GH=.16,SCe=.05,ACe=.05,CCe=.15,Wie=5,Gie=4,MCe=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function KH(e,t,n){var r;return Math.round(e.h)>=60&&Math.round(e.h)<=240?r=n?Math.round(e.h)-HC*t:Math.round(e.h)+HC*t:r=n?Math.round(e.h)+HC*t:Math.round(e.h)-HC*t,r<0?r+=360:r>=360&&(r-=360),r}function qH(e,t,n){if(e.h===0&&e.s===0)return e.s;var r;return n?r=e.s-GH*t:t===Gie?r=e.s+GH:r=e.s+SCe*t,r>1&&(r=1),n&&t===Wie&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function XH(e,t,n){var r;return n?r=e.v+ACe*t:r=e.v-CCe*t,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function Ww(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new qv(e),i=r.toHsv(),s=Wie;s>0;s-=1){var c=new qv({h:KH(i,s,!0),s:qH(i,s,!0),v:XH(i,s,!0)});n.push(c)}n.push(r);for(var h=1;h<=Gie;h+=1){var o=new qv({h:KH(i,h),s:qH(i,h),v:XH(i,h)});n.push(o)}return t.theme==="dark"?MCe.map(function(m){var y=m.index,v=m.amount;return new qv(t.backgroundColor||"#141414").mix(n[y],v).toHexString()}):n.map(function(m){return m.toHexString()})}var BN={green:"#52C41A",blue:"#1677FF"},ZN=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];ZN.primary=ZN[5];var Gw=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Gw.primary=Gw[5];const Kie={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Kw=Object.assign(Object.assign({},Kie),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function ks(e,t){ECe(e)&&(e="100%");var n=TCe(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function VC(e){return Math.min(1,Math.max(0,e))}function ECe(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function TCe(e){return typeof e=="string"&&e.indexOf("%")!==-1}function qie(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function WC(e){return e<=1?"".concat(Number(e)*100,"%"):e}function fg(e){return e.length===1?"0"+e:String(e)}function PCe(e,t,n){return{r:ks(e,255)*255,g:ks(t,255)*255,b:ks(n,255)*255}}function YH(e,t,n){e=ks(e,255),t=ks(t,255),n=ks(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s=0,c=0,h=(r+i)/2;if(r===i)c=0,s=0;else{var o=r-i;switch(c=h>.5?o/(2-r-i):o/(r+i),r){case e:s=(t-n)/o+(t<n?6:0);break;case t:s=(n-e)/o+2;break;case n:s=(e-t)/o+4;break}s/=6}return{h:s,s:c,l:h}}function I2(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ICe(e,t,n){var r,i,s;if(e=ks(e,360),t=ks(t,100),n=ks(n,100),t===0)i=n,s=n,r=n;else{var c=n<.5?n*(1+t):n+t-n*t,h=2*n-c;r=I2(h,c,e+1/3),i=I2(h,c,e),s=I2(h,c,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function JH(e,t,n){e=ks(e,255),t=ks(t,255),n=ks(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s=0,c=r,h=r-i,o=r===0?0:h/r;if(r===i)s=0;else{switch(r){case e:s=(t-n)/h+(t<n?6:0);break;case t:s=(n-e)/h+2;break;case n:s=(e-t)/h+4;break}s/=6}return{h:s,s:o,v:c}}function OCe(e,t,n){e=ks(e,360)*6,t=ks(t,100),n=ks(n,100);var r=Math.floor(e),i=e-r,s=n*(1-t),c=n*(1-i*t),h=n*(1-(1-i)*t),o=r%6,m=[n,c,s,s,h,n][o],y=[h,n,n,c,s,s][o],v=[s,s,h,n,n,c][o];return{r:m*255,g:y*255,b:v*255}}function QH(e,t,n,r){var i=[fg(Math.round(e).toString(16)),fg(Math.round(t).toString(16)),fg(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function kCe(e,t,n,r,i){var s=[fg(Math.round(e).toString(16)),fg(Math.round(t).toString(16)),fg(Math.round(n).toString(16)),fg(NCe(r))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function NCe(e){return Math.round(parseFloat(e)*255).toString(16)}function eV(e){return lc(e)/255}function lc(e){return parseInt(e,16)}function RCe(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var UN={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function DCe(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,s=null,c=!1,h=!1;return typeof e=="string"&&(e=$Ce(e)),typeof e=="object"&&(Eh(e.r)&&Eh(e.g)&&Eh(e.b)?(t=PCe(e.r,e.g,e.b),c=!0,h=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Eh(e.h)&&Eh(e.s)&&Eh(e.v)?(r=WC(e.s),i=WC(e.v),t=OCe(e.h,r,i),c=!0,h="hsv"):Eh(e.h)&&Eh(e.s)&&Eh(e.l)&&(r=WC(e.s),s=WC(e.l),t=ICe(e.h,r,s),c=!0,h="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=qie(n),{ok:c,format:e.format||h,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var LCe="[-\\+]?\\d+%?",FCe="[-\\+]?\\d*\\.\\d+%?",mf="(?:".concat(FCe,")|(?:").concat(LCe,")"),O2="[\\s|\\(]+(".concat(mf,")[,|\\s]+(").concat(mf,")[,|\\s]+(").concat(mf,")\\s*\\)?"),k2="[\\s|\\(]+(".concat(mf,")[,|\\s]+(").concat(mf,")[,|\\s]+(").concat(mf,")[,|\\s]+(").concat(mf,")\\s*\\)?"),Eu={CSS_UNIT:new RegExp(mf),rgb:new RegExp("rgb"+O2),rgba:new RegExp("rgba"+k2),hsl:new RegExp("hsl"+O2),hsla:new RegExp("hsla"+k2),hsv:new RegExp("hsv"+O2),hsva:new RegExp("hsva"+k2),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function $Ce(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(UN[e])e=UN[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Eu.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=Eu.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Eu.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=Eu.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Eu.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=Eu.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Eu.hex8.exec(e),n?{r:lc(n[1]),g:lc(n[2]),b:lc(n[3]),a:eV(n[4]),format:t?"name":"hex8"}:(n=Eu.hex6.exec(e),n?{r:lc(n[1]),g:lc(n[2]),b:lc(n[3]),format:t?"name":"hex"}:(n=Eu.hex4.exec(e),n?{r:lc(n[1]+n[1]),g:lc(n[2]+n[2]),b:lc(n[3]+n[3]),a:eV(n[4]+n[4]),format:t?"name":"hex8"}:(n=Eu.hex3.exec(e),n?{r:lc(n[1]+n[1]),g:lc(n[2]+n[2]),b:lc(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function Eh(e){return!!Eu.CSS_UNIT.exec(String(e))}var Va=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=RCe(t)),this.originalInput=t;var i=DCe(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,i,s=t.r/255,c=t.g/255,h=t.b/255;return s<=.03928?n=s/12.92:n=Math.pow((s+.055)/1.055,2.4),c<=.03928?r=c/12.92:r=Math.pow((c+.055)/1.055,2.4),h<=.03928?i=h/12.92:i=Math.pow((h+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=qie(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=JH(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=JH(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=YH(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=YH(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),QH(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),kCe(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(ks(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(ks(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+QH(this.r,this.g,this.b,!1),n=0,r=Object.entries(UN);n<r.length;n++){var i=r[n],s=i[0],c=i[1];if(t===c)return s}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,i=this.a<1&&this.a>=0,s=!n&&i&&(t.startsWith("hex")||t==="name");return s?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=VC(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=VC(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=VC(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=VC(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),s=n/100,c={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return new e(c)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,s=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(new e(r));return s},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,s=n.v,c=[],h=1/t;t--;)c.push(new e({h:r,s:i,v:s})),s=(s+h)%1;return c},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),i=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],s=360/t,c=1;c<t;c++)i.push(new e({h:(r+c*s)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function jCe(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=t;const{colorSuccess:i,colorWarning:s,colorError:c,colorInfo:h,colorPrimary:o,colorBgBase:m,colorTextBase:y}=e,v=n(o),S=n(i),C=n(s),P=n(c),I=n(h),N=r(m,y),D=e.colorLink||e.colorInfo,k=n(D);return Object.assign(Object.assign({},N),{colorPrimaryBg:v[1],colorPrimaryBgHover:v[2],colorPrimaryBorder:v[3],colorPrimaryBorderHover:v[4],colorPrimaryHover:v[5],colorPrimary:v[6],colorPrimaryActive:v[7],colorPrimaryTextHover:v[8],colorPrimaryText:v[9],colorPrimaryTextActive:v[10],colorSuccessBg:S[1],colorSuccessBgHover:S[2],colorSuccessBorder:S[3],colorSuccessBorderHover:S[4],colorSuccessHover:S[4],colorSuccess:S[6],colorSuccessActive:S[7],colorSuccessTextHover:S[8],colorSuccessText:S[9],colorSuccessTextActive:S[10],colorErrorBg:P[1],colorErrorBgHover:P[2],colorErrorBorder:P[3],colorErrorBorderHover:P[4],colorErrorHover:P[5],colorError:P[6],colorErrorActive:P[7],colorErrorTextHover:P[8],colorErrorText:P[9],colorErrorTextActive:P[10],colorWarningBg:C[1],colorWarningBgHover:C[2],colorWarningBorder:C[3],colorWarningBorderHover:C[4],colorWarningHover:C[4],colorWarning:C[6],colorWarningActive:C[7],colorWarningTextHover:C[8],colorWarningText:C[9],colorWarningTextActive:C[10],colorInfoBg:I[1],colorInfoBgHover:I[2],colorInfoBorder:I[3],colorInfoBorderHover:I[4],colorInfoHover:I[4],colorInfo:I[6],colorInfoActive:I[7],colorInfoTextHover:I[8],colorInfoText:I[9],colorInfoTextActive:I[10],colorLinkHover:k[4],colorLink:k[6],colorLinkActive:k[7],colorBgMask:new Va("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const zCe=e=>{let t=e,n=e,r=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:i}};function BCe(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:i}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+t*2).toFixed(1)}s`,motionDurationSlow:`${(n+t*3).toFixed(1)}s`,lineWidthBold:i+1},zCe(r))}const ZCe=e=>{const{controlHeight:t}=e;return{controlHeightSM:t*.75,controlHeightXS:t*.5,controlHeightLG:t*1.25}};function iE(e){return(e+8)/e}function UCe(e){const t=new Array(10).fill(null).map((n,r)=>{const i=r-1,s=e*Math.pow(2.71828,i/5),c=r>1?Math.floor(s):Math.ceil(s);return Math.floor(c/2)*2});return t[1]=e,t.map(n=>({size:n,lineHeight:iE(n)}))}const HCe=e=>{const t=UCe(e),n=t.map(y=>y.size),r=t.map(y=>y.lineHeight),i=n[1],s=n[0],c=n[2],h=r[1],o=r[0],m=r[2];return{fontSizeSM:s,fontSize:i,fontSizeLG:c,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:h,lineHeightLG:m,lineHeightSM:o,fontHeight:Math.round(h*i),fontHeightLG:Math.round(m*c),fontHeightSM:Math.round(o*s),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function VCe(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}const Th=(e,t)=>new Va(e).setAlpha(t).toRgbString(),hx=(e,t)=>new Va(e).darken(t).toHexString(),WCe=e=>{const t=Ww(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},GCe=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Th(r,.88),colorTextSecondary:Th(r,.65),colorTextTertiary:Th(r,.45),colorTextQuaternary:Th(r,.25),colorFill:Th(r,.15),colorFillSecondary:Th(r,.06),colorFillTertiary:Th(r,.04),colorFillQuaternary:Th(r,.02),colorBgLayout:hx(n,4),colorBgContainer:hx(n,0),colorBgElevated:hx(n,0),colorBgSpotlight:Th(r,.85),colorBgBlur:"transparent",colorBorder:hx(n,15),colorBorderSecondary:hx(n,6)}};function KCe(e){const t=Object.keys(Kie).map(n=>{const r=Ww(e[n]);return new Array(10).fill(1).reduce((i,s,c)=>(i[`${n}-${c+1}`]=r[c],i[`${n}${c+1}`]=r[c],i),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),jCe(e,{generateColorPalettes:WCe,generateNeutralColorPalettes:GCe})),HCe(e.fontSize)),VCe(e)),ZCe(e)),BCe(e))}const Xie=LN(KCe),HN={token:Kw,override:{override:Kw},hashed:!0},Yie=Oe.createContext(HN),Jie="anticon",qCe=(e,t)=>t||(e?`ant-${e}`:"ant"),hi=A.createContext({getPrefixCls:qCe,iconPrefixCls:Jie}),{Consumer:Mxt}=hi,XCe=`-ant-${Date.now()}-${Math.random()}`;function YCe(e,t){const n={},r=(c,h)=>{let o=c.clone();return o=(h==null?void 0:h(o))||o,o.toRgbString()},i=(c,h)=>{const o=new Va(c),m=Ww(o.toRgbString());n[`${h}-color`]=r(o),n[`${h}-color-disabled`]=m[1],n[`${h}-color-hover`]=m[4],n[`${h}-color-active`]=m[6],n[`${h}-color-outline`]=o.clone().setAlpha(.2).toRgbString(),n[`${h}-color-deprecated-bg`]=m[0],n[`${h}-color-deprecated-border`]=m[2]};if(t.primaryColor){i(t.primaryColor,"primary");const c=new Va(t.primaryColor),h=Ww(c.toRgbString());h.forEach((m,y)=>{n[`primary-${y+1}`]=m}),n["primary-color-deprecated-l-35"]=r(c,m=>m.lighten(35)),n["primary-color-deprecated-l-20"]=r(c,m=>m.lighten(20)),n["primary-color-deprecated-t-20"]=r(c,m=>m.tint(20)),n["primary-color-deprecated-t-50"]=r(c,m=>m.tint(50)),n["primary-color-deprecated-f-12"]=r(c,m=>m.setAlpha(m.getAlpha()*.12));const o=new Va(h[0]);n["primary-color-active-deprecated-f-30"]=r(o,m=>m.setAlpha(m.getAlpha()*.3)),n["primary-color-active-deprecated-d-02"]=r(o,m=>m.darken(2))}return t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(c=>`--${e}-${c}: ${n[c]};`).join(`
`)}
  }
  `.trim()}function JCe(e,t){const n=YCe(e,t);Qs()&&Kh(n,`${XCe}-dynamic-theme`)}const Ic=A.createContext(!1),Qie=e=>{let{children:t,disabled:n}=e;const r=A.useContext(Ic);return A.createElement(Ic.Provider,{value:n??r},t)},Bg=A.createContext(void 0),QCe=e=>{let{children:t,size:n}=e;const r=A.useContext(Bg);return A.createElement(Bg.Provider,{value:n||r},t)};function eMe(){const e=A.useContext(Ic),t=A.useContext(Bg);return{componentDisabled:e,componentSize:t}}const nT=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],tMe="5.16.4";function N2(e){return e>=0&&e<=255}function GC(e,t){const{r:n,g:r,b:i,a:s}=new Va(e).toRgb();if(s<1)return e;const{r:c,g:h,b:o}=new Va(t).toRgb();for(let m=.01;m<=1;m+=.01){const y=Math.round((n-c*(1-m))/m),v=Math.round((r-h*(1-m))/m),S=Math.round((i-o*(1-m))/m);if(N2(y)&&N2(v)&&N2(S))return new Va({r:y,g:v,b:S,a:Math.round(m*100)/100}).toRgbString()}return new Va({r:n,g:r,b:i,a:1}).toRgbString()}var nMe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function eoe(e){const{override:t}=e,n=nMe(e,["override"]),r=Object.assign({},t);Object.keys(Kw).forEach(S=>{delete r[S]});const i=Object.assign(Object.assign({},n),r),s=480,c=576,h=768,o=992,m=1200,y=1600;if(i.motion===!1){const S="0s";i.motionDurationFast=S,i.motionDurationMid=S,i.motionDurationSlow=S}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:GC(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:GC(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:GC(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*4,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:GC(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:s,screenXSMin:s,screenXSMax:c-1,screenSM:c,screenSMMin:c,screenSMMax:h-1,screenMD:h,screenMDMin:h,screenMDMax:o-1,screenLG:o,screenLGMin:o,screenLGMax:m-1,screenXL:m,screenXLMin:m,screenXLMax:y-1,screenXXL:y,screenXXLMin:y,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new Va("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Va("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Va("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var tV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const toe={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0},noe={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},rMe={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},roe=(e,t,n)=>{const r=n.getDerivativeToken(e),{override:i}=t,s=tV(t,["override"]);let c=Object.assign(Object.assign({},r),{override:i});return c=eoe(c),s&&Object.entries(s).forEach(h=>{let[o,m]=h;const{theme:y}=m,v=tV(m,["theme"]);let S=v;y&&(S=roe(Object.assign(Object.assign({},c),v),{override:v},y)),c[o]=S}),c};function Hl(){const{token:e,hashed:t,theme:n,override:r,cssVar:i}=Oe.useContext(Yie),s=`${tMe}-${t||""}`,c=n||Xie,[h,o,m]=$5e(c,[Kw,e],{salt:s,override:r,getComputedToken:roe,formatToken:eoe,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:toe,ignore:noe,preserve:rMe}});return[c,m,t?o:"",h,i]}function ioe(e,t,n){return t=Js(t),ny(e,Hf()?Reflect.construct(t,[],Js(e).constructor):t.apply(e,n))}let ooe=Ko(function e(){Go(this,e)});const aoe="CALC_UNIT",iMe=new RegExp(aoe,"g");function R2(e){return typeof e=="number"?`${e}${aoe}`:e}let oMe=function(e){function t(n){var r;return Go(this,t),r=ioe(this,t),r.result="",n instanceof t?r.result=`(${n.result})`:typeof n=="number"?r.result=R2(n):typeof n=="string"&&(r.result=n),r}return bl(t,e),Ko(t,[{key:"add",value:function(r){return r instanceof t?this.result=`${this.result} + ${r.getResult()}`:(typeof r=="number"||typeof r=="string")&&(this.result=`${this.result} + ${R2(r)}`),this.lowPriority=!0,this}},{key:"sub",value:function(r){return r instanceof t?this.result=`${this.result} - ${r.getResult()}`:(typeof r=="number"||typeof r=="string")&&(this.result=`${this.result} - ${R2(r)}`),this.lowPriority=!0,this}},{key:"mul",value:function(r){return this.lowPriority&&(this.result=`(${this.result})`),r instanceof t?this.result=`${this.result} * ${r.getResult(!0)}`:(typeof r=="number"||typeof r=="string")&&(this.result=`${this.result} * ${r}`),this.lowPriority=!1,this}},{key:"div",value:function(r){return this.lowPriority&&(this.result=`(${this.result})`),r instanceof t?this.result=`${this.result} / ${r.getResult(!0)}`:(typeof r=="number"||typeof r=="string")&&(this.result=`${this.result} / ${r}`),this.lowPriority=!1,this}},{key:"getResult",value:function(r){return this.lowPriority||r?`(${this.result})`:this.result}},{key:"equal",value:function(r){const{unit:i=!0}=r||{};return this.result=this.result.replace(iMe,i?"px":""),typeof this.lowPriority<"u"?`calc(${this.result})`:this.result}}])}(ooe),aMe=function(e){function t(n){var r;return Go(this,t),r=ioe(this,t),r.result=0,n instanceof t?r.result=n.result:typeof n=="number"&&(r.result=n),r}return bl(t,e),Ko(t,[{key:"add",value:function(r){return r instanceof t?this.result+=r.result:typeof r=="number"&&(this.result+=r),this}},{key:"sub",value:function(r){return r instanceof t?this.result-=r.result:typeof r=="number"&&(this.result-=r),this}},{key:"mul",value:function(r){return r instanceof t?this.result*=r.result:typeof r=="number"&&(this.result*=r),this}},{key:"div",value:function(r){return r instanceof t?this.result/=r.result:typeof r=="number"&&(this.result/=r),this}},{key:"equal",value:function(){return this.result}}])}(ooe);const sMe=e=>{const t=e==="css"?oMe:aMe;return n=>new t(n)};function Ia(e){var t=A.useRef();t.current=e;var n=A.useCallback(function(){for(var r,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(r=t.current)===null||r===void 0?void 0:r.call.apply(r,[t].concat(s))},[]);return n}function H0(e){var t=A.useRef(!1),n=A.useState(e),r=Pt(n,2),i=r[0],s=r[1];A.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function c(h,o){o&&t.current||s(h)}return[i,c]}function D2(e){return e!==void 0}function Ra(e,t){var n=t||{},r=n.defaultValue,i=n.value,s=n.onChange,c=n.postState,h=H0(function(){return D2(i)?i:D2(r)?typeof r=="function"?r():r:typeof e=="function"?e():e}),o=Pt(h,2),m=o[0],y=o[1],v=i!==void 0?i:m,S=c?c(v):v,C=Ia(s),P=H0([v]),I=Pt(P,2),N=I[0],D=I[1];h0(function(){var F=N[0];m!==F&&C(m,F)},[N]),h0(function(){D2(i)||y(i)},[i]);var k=Ia(function(F,U){y(F,U),D([v],U)});return[S,k]}const soe=e=>({color:e.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"&:focus, &:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}}),V0={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},ia=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},P3=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),d7=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),lMe=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active,\n  &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),cMe=(e,t,n,r)=>{const i=`[class^="${t}"], [class*=" ${t}"]`,s=n?`.${n}`:i,c={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let h={};return r!==!1&&(h={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[s]:Object.assign(Object.assign(Object.assign({},h),c),{[i]:c})}},loe=e=>({outline:`${Ut(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),I3=e=>({"&:focus-visible":Object.assign({},loe(e))});function uMe(e){return e==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return`max(${n.map(i=>Ut(i)).join(",")})`},min:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return`min(${n.map(i=>Ut(i)).join(",")})`}}}const coe=typeof CSSINJS_STATISTIC<"u";let VN=!0;function lo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!coe)return Object.assign.apply(Object,[{}].concat(t));VN=!1;const r={};return t.forEach(i=>{Object.keys(i).forEach(c=>{Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:()=>i[c]})})}),VN=!0,r}const nV={};function dMe(){}const hMe=e=>{let t,n=e,r=dMe;return coe&&typeof Proxy<"u"&&(t=new Set,n=new Proxy(e,{get(i,s){return VN&&t.add(s),i[s]}}),r=(i,s)=>{var c;nV[i]={global:Array.from(t),component:Object.assign(Object.assign({},(c=nV[i])===null||c===void 0?void 0:c.component),s)}}),{token:n,keys:t,flush:r}},uoe=(e,t)=>{const[n,r]=Hl();return zN({token:r,hashId:"",path:["ant-design-icons",e],nonce:()=>t==null?void 0:t.nonce},()=>[{[`.${e}`]:Object.assign(Object.assign({},P3()),{[`.${e} .${e}-icon`]:{display:"block"}})}])},doe=(e,t,n)=>{var r;return typeof n=="function"?n(lo(t,(r=t[e])!==null&&r!==void 0?r:{})):n??{}},hoe=(e,t,n,r)=>{const i=Object.assign({},t[e]);if(r!=null&&r.deprecatedTokens){const{deprecatedTokens:c}=r;c.forEach(h=>{let[o,m]=h;var y;(i!=null&&i[o]||i!=null&&i[m])&&((y=i[m])!==null&&y!==void 0||(i[m]=i==null?void 0:i[o]))})}const s=Object.assign(Object.assign({},n),i);return Object.keys(s).forEach(c=>{s[c]===t[c]&&delete s[c]}),s},pMe=(e,t)=>`${[t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")}`;function h7(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=Array.isArray(e)?e:[e,e],[s]=i,c=i.join("-");return function(h){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;const[m,y,v,S,C]=Hl(),{getPrefixCls:P,iconPrefixCls:I,csp:N}=A.useContext(hi),D=P(),k=C?"css":"js",F=sMe(k),{max:U,min:B}=uMe(k),z={theme:m,token:S,hashId:v,nonce:()=>N==null?void 0:N.nonce,clientOnly:r.clientOnly,order:r.order||-999};return zN(Object.assign(Object.assign({},z),{clientOnly:!1,path:["Shared",D]}),()=>[{"&":lMe(S)}]),uoe(I,N),[zN(Object.assign(Object.assign({},z),{path:[c,h,I]}),()=>{if(r.injectStyle===!1)return[];const{token:Y,flush:K}=hMe(S),ee=doe(s,y,n),re=`.${h}`,oe=hoe(s,y,ee,{deprecatedTokens:r.deprecatedTokens});C&&Object.keys(ee).forEach(le=>{ee[le]=`var(${Eie(le,pMe(s,C.prefix))})`});const he=lo(Y,{componentCls:re,prefixCls:h,iconCls:`.${I}`,antCls:`.${D}`,calc:F,max:U,min:B},C?ee:oe),be=t(he,{hashId:v,prefixCls:h,rootPrefixCls:D,iconPrefixCls:I});return K(s,oe),[r.resetStyle===!1?null:cMe(he,h,o,r.resetFont),be]}),v]}}const poe=(e,t,n,r)=>{const i=h7(e,t,n,Object.assign({resetStyle:!1,order:-998},r));return c=>{let{prefixCls:h,rootCls:o=h}=c;return i(h,o),null}},fMe=(e,t,n)=>{function r(m){return`${e}${m.slice(0,1).toUpperCase()}${m.slice(1)}`}const{unitless:i={},injectStyle:s=!0}=n??{},c={[r("zIndexPopup")]:!0};Object.keys(i).forEach(m=>{c[r(m)]=i[m]});const h=m=>{let{rootCls:y,cssVar:v}=m;const[,S]=Hl();return hCe({path:[e],prefix:v.prefix,key:v==null?void 0:v.key,unitless:Object.assign(Object.assign({},toe),c),ignore:noe,token:S,scope:y},()=>{const C=doe(e,S,t),P=hoe(e,S,C,{deprecatedTokens:n==null?void 0:n.deprecatedTokens});return Object.keys(C).forEach(I=>{P[r(I)]=P[I],delete P[I]}),P}),null};return m=>{const[,,,,y]=Hl();return[v=>s&&y?Oe.createElement(Oe.Fragment,null,Oe.createElement(h,{rootCls:m,cssVar:y,component:e}),v):v,y==null?void 0:y.key]}},_a=(e,t,n,r)=>{const i=h7(e,t,n,r),s=fMe(Array.isArray(e)?e[0]:e,n,r);return function(c){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;const[,o]=i(c,h),[m,y]=s(h);return[m,o,y]}};function p7(e,t){return nT.reduce((n,r)=>{const i=e[`${r}1`],s=e[`${r}3`],c=e[`${r}6`],h=e[`${r}7`];return Object.assign(Object.assign({},n),t(r,{lightColor:i,lightBorderColor:s,darkColor:c,textColor:h}))},{})}const mMe=Object.assign({},A0),{useId:rV}=mMe,gMe=()=>"",yMe=typeof rV>"u"?gMe:rV;function vMe(e,t,n){var r;c7();const i=e||{},s=i.inherit===!1||!t?Object.assign(Object.assign({},HN),{hashed:(r=t==null?void 0:t.hashed)!==null&&r!==void 0?r:HN.hashed,cssVar:t==null?void 0:t.cssVar}):t,c=yMe();return oA(()=>{var h,o;if(!e)return t;const m=Object.assign({},s.components);Object.keys(e.components||{}).forEach(S=>{m[S]=Object.assign(Object.assign({},m[S]),e.components[S])});const y=`css-var-${c.replace(/:/g,"")}`,v=((h=i.cssVar)!==null&&h!==void 0?h:s.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof s.cssVar=="object"?s.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((o=i.cssVar)===null||o===void 0?void 0:o.key)||y});return Object.assign(Object.assign(Object.assign({},s),i),{token:Object.assign(Object.assign({},s.token),i.token),components:m,cssVar:v})},[i,s],(h,o)=>h.some((m,y)=>{const v=o[y];return!z0(m,v,!0)}))}var bMe=["children"],foe=A.createContext({});function _Me(e){var t=e.children,n=Gr(e,bMe);return A.createElement(foe.Provider,{value:n},t)}var xMe=function(e){bl(n,e);var t=ry(n);function n(){return Go(this,n),t.apply(this,arguments)}return Ko(n,[{key:"render",value:function(){return this.props.children}}]),n}(A.Component);function wMe(e){var t=A.useReducer(function(h){return h+1},0),n=Pt(t,2),r=n[1],i=A.useRef(e),s=Ia(function(){return i.current}),c=Ia(function(h){i.current=typeof h=="function"?h(i.current):h,r()});return[s,c]}var Qp="none",KC="appear",qC="enter",XC="leave",iV="none",ku="prepare",Xv="start",Yv="active",f7="end",moe="prepared";function oV(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}function SMe(e,t){var n={animationend:oV("Animation","AnimationEnd"),transitionend:oV("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}var AMe=SMe(Qs(),typeof window<"u"?window:{}),goe={};if(Qs()){var CMe=document.createElement("div");goe=CMe.style}var YC={};function yoe(e){if(YC[e])return YC[e];var t=AMe[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var s=n[i];if(Object.prototype.hasOwnProperty.call(t,s)&&s in goe)return YC[e]=t[s],YC[e]}return""}var voe=yoe("animationend"),boe=yoe("transitionend"),_oe=!!(voe&&boe),aV=voe||"animationend",sV=boe||"transitionend";function lV(e,t){if(!e)return null;if(Hr(e)==="object"){var n=t.replace(/-\w/g,function(r){return r[1].toUpperCase()});return e[n]}return"".concat(e,"-").concat(t)}const MMe=function(e){var t=A.useRef();function n(i){i&&(i.removeEventListener(sV,e),i.removeEventListener(aV,e))}function r(i){t.current&&t.current!==i&&n(t.current),i&&i!==t.current&&(i.addEventListener(sV,e),i.addEventListener(aV,e),t.current=i)}return A.useEffect(function(){return function(){n(t.current)}},[]),[r,n]};var xoe=Qs()?A.useLayoutEffect:A.useEffect;const EMe=function(){var e=A.useRef(null);function t(){Mi.cancel(e.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var s=Mi(function(){i<=1?r({isCanceled:function(){return s!==e.current}}):n(r,i-1)});e.current=s}return A.useEffect(function(){return function(){t()}},[]),[n,t]};var TMe=[ku,Xv,Yv,f7],PMe=[ku,moe],woe=!1,IMe=!0;function Soe(e){return e===Yv||e===f7}const OMe=function(e,t,n){var r=H0(iV),i=Pt(r,2),s=i[0],c=i[1],h=EMe(),o=Pt(h,2),m=o[0],y=o[1];function v(){c(ku,!0)}var S=t?PMe:TMe;return xoe(function(){if(s!==iV&&s!==f7){var C=S.indexOf(s),P=S[C+1],I=n(s);I===woe?c(P,!0):P&&m(function(N){function D(){N.isCanceled()||c(P,!0)}I===!0?D():Promise.resolve(I).then(D)})}},[e,s]),A.useEffect(function(){return function(){y()}},[]),[v,s]};function kMe(e,t,n,r){var i=r.motionEnter,s=i===void 0?!0:i,c=r.motionAppear,h=c===void 0?!0:c,o=r.motionLeave,m=o===void 0?!0:o,y=r.motionDeadline,v=r.motionLeaveImmediately,S=r.onAppearPrepare,C=r.onEnterPrepare,P=r.onLeavePrepare,I=r.onAppearStart,N=r.onEnterStart,D=r.onLeaveStart,k=r.onAppearActive,F=r.onEnterActive,U=r.onLeaveActive,B=r.onAppearEnd,z=r.onEnterEnd,W=r.onLeaveEnd,Y=r.onVisibleChanged,K=H0(),ee=Pt(K,2),re=ee[0],oe=ee[1],he=wMe(Qp),be=Pt(he,2),le=be[0],ye=be[1],fe=H0(null),ue=Pt(fe,2),xe=ue[0],ae=ue[1],Ee=le(),Me=A.useRef(!1),de=A.useRef(null);function ze(){return n()}var $e=A.useRef(!1);function et(){ye(Qp),ae(null,!0)}var gt=Ia(function(en){var Kt=le();if(Kt!==Qp){var Zt=ze();if(!(en&&!en.deadline&&en.target!==Zt)){var En=$e.current,Fn;Kt===KC&&En?Fn=B==null?void 0:B(Zt,en):Kt===qC&&En?Fn=z==null?void 0:z(Zt,en):Kt===XC&&En&&(Fn=W==null?void 0:W(Zt,en)),En&&Fn!==!1&&et()}}}),lt=MMe(gt),We=Pt(lt,1),qe=We[0],Qe=function(Kt){switch(Kt){case KC:return Ze(Ze(Ze({},ku,S),Xv,I),Yv,k);case qC:return Ze(Ze(Ze({},ku,C),Xv,N),Yv,F);case XC:return Ze(Ze(Ze({},ku,P),Xv,D),Yv,U);default:return{}}},Ve=A.useMemo(function(){return Qe(Ee)},[Ee]),yt=OMe(Ee,!e,function(en){if(en===ku){var Kt=Ve[ku];return Kt?Kt(ze()):woe}if($t in Ve){var Zt;ae(((Zt=Ve[$t])===null||Zt===void 0?void 0:Zt.call(Ve,ze(),null))||null)}return $t===Yv&&Ee!==Qp&&(qe(ze()),y>0&&(clearTimeout(de.current),de.current=setTimeout(function(){gt({deadline:!0})},y))),$t===moe&&et(),IMe}),it=Pt(yt,2),pt=it[0],$t=it[1],Jt=Soe($t);$e.current=Jt;var on=A.useRef(null);xoe(function(){if(!(Me.current&&on.current===t)){oe(t);var en=Me.current;Me.current=!0;var Kt;!en&&t&&h&&(Kt=KC),en&&t&&s&&(Kt=qC),(en&&!t&&m||!en&&v&&!t&&m)&&(Kt=XC);var Zt=Qe(Kt);Kt&&(e||Zt[ku])?(ye(Kt),pt()):ye(Qp),on.current=t}},[t]),A.useEffect(function(){(Ee===KC&&!h||Ee===qC&&!s||Ee===XC&&!m)&&ye(Qp)},[h,s,m]),A.useEffect(function(){return function(){Me.current=!1,clearTimeout(de.current)}},[]);var ln=A.useRef(!1);A.useEffect(function(){re&&(ln.current=!0),re!==void 0&&Ee===Qp&&((ln.current||re)&&(Y==null||Y(re)),ln.current=!0)},[re,Ee]);var Lt=xe;return Ve[ku]&&$t===Xv&&(Lt=Ue({transition:"none"},Lt)),[Ee,$t,Lt,re??t]}function NMe(e){var t=e;Hr(e)==="object"&&(t=e.transitionSupport);function n(i,s){return!!(i.motionName&&t&&s!==!1)}var r=A.forwardRef(function(i,s){var c=i.visible,h=c===void 0?!0:c,o=i.removeOnLeave,m=o===void 0?!0:o,y=i.forceRender,v=i.children,S=i.motionName,C=i.leavedClassName,P=i.eventProps,I=A.useContext(foe),N=I.motion,D=n(i,N),k=A.useRef(),F=A.useRef();function U(){try{return k.current instanceof HTMLElement?k.current:YM(F.current)}catch{return null}}var B=kMe(D,h,U,i),z=Pt(B,4),W=z[0],Y=z[1],K=z[2],ee=z[3],re=A.useRef(ee);ee&&(re.current=!0);var oe=A.useCallback(function(ue){k.current=ue,e7(s,ue)},[s]),he,be=Ue(Ue({},P),{},{visible:h});if(!v)he=null;else if(W===Qp)ee?he=v(Ue({},be),oe):!m&&re.current&&C?he=v(Ue(Ue({},be),{},{className:C}),oe):y||!m&&!C?he=v(Ue(Ue({},be),{},{style:{display:"none"}}),oe):he=null;else{var le;Y===ku?le="prepare":Soe(Y)?le="active":Y===Xv&&(le="start");var ye=lV(S,"".concat(W,"-").concat(le));he=v(Ue(Ue({},be),{},{className:Dt(lV(S,W),Ze(Ze({},ye,ye&&le),S,typeof S=="string")),style:K}),oe)}if(A.isValidElement(he)&&Uf(he)){var fe=aA(he);fe||(he=A.cloneElement(he,{ref:oe}))}return A.createElement(xMe,{ref:F},he)});return r.displayName="CSSMotion",r}const nd=NMe(_oe);var WN="add",GN="keep",KN="remove",L2="removed";function RMe(e){var t;return e&&Hr(e)==="object"&&"key"in e?t=e:t={key:e},Ue(Ue({},t),{},{key:String(t.key)})}function qN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(RMe)}function DMe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=t.length,s=qN(e),c=qN(t);s.forEach(function(m){for(var y=!1,v=r;v<i;v+=1){var S=c[v];if(S.key===m.key){r<v&&(n=n.concat(c.slice(r,v).map(function(C){return Ue(Ue({},C),{},{status:WN})})),r=v),n.push(Ue(Ue({},S),{},{status:GN})),r+=1,y=!0;break}}y||n.push(Ue(Ue({},m),{},{status:KN}))}),r<i&&(n=n.concat(c.slice(r).map(function(m){return Ue(Ue({},m),{},{status:WN})})));var h={};n.forEach(function(m){var y=m.key;h[y]=(h[y]||0)+1});var o=Object.keys(h).filter(function(m){return h[m]>1});return o.forEach(function(m){n=n.filter(function(y){var v=y.key,S=y.status;return v!==m||S!==KN}),n.forEach(function(y){y.key===m&&(y.status=GN)})}),n}var LMe=["component","children","onVisibleChanged","onAllRemoved"],FMe=["status"],$Me=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function jMe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nd,n=function(r){bl(s,r);var i=ry(s);function s(){var c;Go(this,s);for(var h=arguments.length,o=new Array(h),m=0;m<h;m++)o[m]=arguments[m];return c=i.call.apply(i,[this].concat(o)),Ze(di(c),"state",{keyEntities:[]}),Ze(di(c),"removeKey",function(y){c.setState(function(v){var S=v.keyEntities.map(function(C){return C.key!==y?C:Ue(Ue({},C),{},{status:L2})});return{keyEntities:S}},function(){var v=c.state.keyEntities,S=v.filter(function(C){var P=C.status;return P!==L2}).length;S===0&&c.props.onAllRemoved&&c.props.onAllRemoved()})}),c}return Ko(s,[{key:"render",value:function(){var h=this,o=this.state.keyEntities,m=this.props,y=m.component,v=m.children,S=m.onVisibleChanged;m.onAllRemoved;var C=Gr(m,LMe),P=y||A.Fragment,I={};return $Me.forEach(function(N){I[N]=C[N],delete C[N]}),delete C.keys,A.createElement(P,C,o.map(function(N,D){var k=N.status,F=Gr(N,FMe),U=k===WN||k===GN;return A.createElement(t,Ln({},I,{key:F.key,visible:U,eventProps:F,onVisibleChanged:function(z){S==null||S(z,{key:F.key}),z||h.removeKey(F.key)}}),function(B,z){return v(Ue(Ue({},B),{},{index:D}),z)})}))}}],[{key:"getDerivedStateFromProps",value:function(h,o){var m=h.keys,y=o.keyEntities,v=qN(m),S=DMe(y,v);return{keyEntities:S.filter(function(C){var P=y.find(function(I){var N=I.key;return C.key===N});return!(P&&P.status===L2&&C.status===KN)})}}}]),s}(A.Component);return Ze(n,"defaultProps",{component:"div"}),n}const Aoe=jMe(_oe);function zMe(e){const{children:t}=e,[,n]=Hl(),{motion:r}=n,i=A.useRef(!1);return i.current=i.current||r===!1,i.current?A.createElement(_Me,{motion:r},t):t}const BMe=()=>null;var ZMe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const UMe=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"],HMe="ant";let Coe;function VMe(){return Coe||HMe}function WMe(e){return Object.keys(e).some(t=>t.endsWith("Color"))}const GMe=e=>{const{prefixCls:t,iconPrefixCls:n,theme:r,holderRender:i}=e;t!==void 0&&(Coe=t),r&&WMe(r)&&JCe(VMe(),r)},KMe=e=>{const{children:t,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:s,form:c,locale:h,componentSize:o,direction:m,space:y,virtual:v,dropdownMatchSelectWidth:S,popupMatchSelectWidth:C,popupOverflow:P,legacyLocale:I,parentContext:N,iconPrefixCls:D,theme:k,componentDisabled:F,segmented:U,statistic:B,spin:z,calendar:W,carousel:Y,cascader:K,collapse:ee,typography:re,checkbox:oe,descriptions:he,divider:be,drawer:le,skeleton:ye,steps:fe,image:ue,layout:xe,list:ae,mentions:Ee,modal:Me,progress:de,result:ze,slider:$e,breadcrumb:et,menu:gt,pagination:lt,input:We,textArea:qe,empty:Qe,badge:Ve,radio:yt,rate:it,switch:pt,transfer:$t,avatar:Jt,message:on,tag:ln,table:Lt,card:en,tabs:Kt,timeline:Zt,timePicker:En,upload:Fn,notification:je,tree:me,colorPicker:we,datePicker:Ne,rangePicker:Xe,flex:ot,wave:st,dropdown:_t,warning:nt,tour:St,floatButtonGroup:Et}=e,ft=A.useCallback((an,kn)=>{const{prefixCls:hr}=e;if(kn)return kn;const Ht=hr||N.getPrefixCls("");return an?`${Ht}-${an}`:Ht},[N.getPrefixCls,e.prefixCls]),jt=D||N.iconPrefixCls||Jie,Bn=n||N.csp;uoe(jt,Bn);const rr=vMe(k,N.theme,{prefixCls:ft("")}),dr={csp:Bn,autoInsertSpaceInButton:r,alert:i,anchor:s,locale:h||I,direction:m,space:y,virtual:v,popupMatchSelectWidth:C??S,popupOverflow:P,getPrefixCls:ft,iconPrefixCls:jt,theme:rr,segmented:U,statistic:B,spin:z,calendar:W,carousel:Y,cascader:K,collapse:ee,typography:re,checkbox:oe,descriptions:he,divider:be,drawer:le,skeleton:ye,steps:fe,image:ue,input:We,textArea:qe,layout:xe,list:ae,mentions:Ee,modal:Me,progress:de,result:ze,slider:$e,breadcrumb:et,menu:gt,pagination:lt,empty:Qe,badge:Ve,radio:yt,rate:it,switch:pt,transfer:$t,avatar:Jt,message:on,tag:ln,table:Lt,card:en,tabs:Kt,timeline:Zt,timePicker:En,upload:Fn,notification:je,tree:me,colorPicker:we,datePicker:Ne,rangePicker:Xe,flex:ot,wave:st,dropdown:_t,warning:nt,tour:St,floatButtonGroup:Et},ar=Object.assign({},N);Object.keys(dr).forEach(an=>{dr[an]!==void 0&&(ar[an]=dr[an])}),UMe.forEach(an=>{const kn=e[an];kn&&(ar[an]=kn)});const un=oA(()=>ar,ar,(an,kn)=>{const hr=Object.keys(an),Ht=Object.keys(kn);return hr.length!==Ht.length||hr.some(Un=>an[Un]!==kn[Un])}),hn=A.useMemo(()=>({prefixCls:jt,csp:Bn}),[jt,Bn]);let vn=A.createElement(A.Fragment,null,A.createElement(BMe,{dropdownMatchSelectWidth:S}),t);const In=A.useMemo(()=>{var an,kn,hr,Ht;return Kv(((an=Df.Form)===null||an===void 0?void 0:an.defaultValidateMessages)||{},((hr=(kn=un.locale)===null||kn===void 0?void 0:kn.Form)===null||hr===void 0?void 0:hr.defaultValidateMessages)||{},((Ht=un.form)===null||Ht===void 0?void 0:Ht.validateMessages)||{},(c==null?void 0:c.validateMessages)||{})},[un,c==null?void 0:c.validateMessages]);Object.keys(In).length>0&&(vn=A.createElement(Hie.Provider,{value:In},vn)),h&&(vn=A.createElement(wCe,{locale:h,_ANT_MARK__:xCe},vn)),vn=A.createElement(l7.Provider,{value:hn},vn),o&&(vn=A.createElement(QCe,{size:o},vn)),vn=A.createElement(zMe,null,vn);const Sn=A.useMemo(()=>{const an=rr||{},{algorithm:kn,token:hr,components:Ht,cssVar:Un}=an,rt=ZMe(an,["algorithm","token","components","cssVar"]),ut=kn&&(!Array.isArray(kn)||kn.length>0)?LN(kn):Xie,Tt={};Object.entries(Ht||{}).forEach(Gt=>{let[Qt,zt]=Gt;const dt=Object.assign({},zt);"algorithm"in dt&&(dt.algorithm===!0?dt.theme=ut:(Array.isArray(dt.algorithm)||typeof dt.algorithm=="function")&&(dt.theme=LN(dt.algorithm)),delete dt.algorithm),Tt[Qt]=dt});const Rt=Object.assign(Object.assign({},Kw),hr);return Object.assign(Object.assign({},rt),{theme:ut,token:Rt,components:Tt,override:Object.assign({override:Rt},Tt),cssVar:Un})},[rr]);return k&&(vn=A.createElement(Yie.Provider,{value:Sn},vn)),un.warning&&(vn=A.createElement(yCe.Provider,{value:un.warning},vn)),F!==void 0&&(vn=A.createElement(Qie,{disabled:F},vn)),A.createElement(hi.Provider,{value:un},vn)},Vf=e=>{const t=A.useContext(hi),n=A.useContext(u7);return A.createElement(KMe,Object.assign({parentContext:t,legacyLocale:n},e))};Vf.ConfigContext=hi;Vf.SizeContext=Bg;Vf.config=GMe;Vf.useConfig=eMe;Object.defineProperty(Vf,"SizeContext",{get:()=>Bg});var qMe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function Moe(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}function XMe(e){return Moe(e)instanceof ShadowRoot}function rT(e){return XMe(e)?Moe(e):null}function YMe(e){return e.replace(/-(.)/g,function(t,n){return n.toUpperCase()})}function JMe(e,t){ns(e,"[@ant-design/icons] ".concat(t))}function cV(e){return Hr(e)==="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(Hr(e.icon)==="object"||typeof e.icon=="function")}function uV(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var r=e[n];switch(n){case"class":t.className=r,delete t.class;break;default:delete t[n],t[YMe(n)]=r}return t},{})}function XN(e,t,n){return n?Oe.createElement(e.tag,Ue(Ue({key:t},uV(e.attrs)),n),(e.children||[]).map(function(r,i){return XN(r,"".concat(t,"-").concat(e.tag,"-").concat(i))})):Oe.createElement(e.tag,Ue({key:t},uV(e.attrs)),(e.children||[]).map(function(r,i){return XN(r,"".concat(t,"-").concat(e.tag,"-").concat(i))}))}function Eoe(e){return Ww(e)[0]}function Toe(e){return e?Array.isArray(e)?e:[e]:[]}var QMe=`
.anticon {
  display: inline-flex;
  alignItems: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,eEe=function(t){var n=A.useContext(l7),r=n.csp,i=n.prefixCls,s=QMe;i&&(s=s.replace(/anticon/g,i)),A.useEffect(function(){var c=t.current,h=rT(c);Kh(s,"@ant-design-icons",{prepend:!0,csp:r,attachTo:h})},[])},tEe=["icon","className","onClick","style","primaryColor","secondaryColor"],nw={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function nEe(e){var t=e.primaryColor,n=e.secondaryColor;nw.primaryColor=t,nw.secondaryColor=n||Eoe(t),nw.calculated=!!n}function rEe(){return Ue({},nw)}var Ib=function(t){var n=t.icon,r=t.className,i=t.onClick,s=t.style,c=t.primaryColor,h=t.secondaryColor,o=Gr(t,tEe),m=A.useRef(),y=nw;if(c&&(y={primaryColor:c,secondaryColor:h||Eoe(c)}),eEe(m),JMe(cV(n),"icon should be icon definiton, but got ".concat(n)),!cV(n))return null;var v=n;return v&&typeof v.icon=="function"&&(v=Ue(Ue({},v),{},{icon:v.icon(y.primaryColor,y.secondaryColor)})),XN(v.icon,"svg-".concat(v.name),Ue(Ue({className:r,onClick:i,style:s,"data-icon":v.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},o),{},{ref:m}))};Ib.displayName="IconReact";Ib.getTwoToneColors=rEe;Ib.setTwoToneColors=nEe;function Poe(e){var t=Toe(e),n=Pt(t,2),r=n[0],i=n[1];return Ib.setTwoToneColors({primaryColor:r,secondaryColor:i})}function iEe(){var e=Ib.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var oEe=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Poe(Gw.primary);var Ro=A.forwardRef(function(e,t){var n=e.className,r=e.icon,i=e.spin,s=e.rotate,c=e.tabIndex,h=e.onClick,o=e.twoToneColor,m=Gr(e,oEe),y=A.useContext(l7),v=y.prefixCls,S=v===void 0?"anticon":v,C=y.rootClassName,P=Dt(C,S,Ze(Ze({},"".concat(S,"-").concat(r.name),!!r.name),"".concat(S,"-spin"),!!i||r.name==="loading"),n),I=c;I===void 0&&h&&(I=-1);var N=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,D=Toe(o),k=Pt(D,2),F=k[0],U=k[1];return A.createElement("span",Ln({role:"img","aria-label":r.name},m,{ref:t,tabIndex:I,onClick:h,className:P}),A.createElement(Ib,{icon:r,primaryColor:F,secondaryColor:U,style:N}))});Ro.displayName="AntdIcon";Ro.getTwoToneColor=iEe;Ro.setTwoToneColor=Poe;var aEe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:qMe}))},Ioe=A.forwardRef(aEe),sEe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},lEe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:sEe}))},O3=A.forwardRef(lEe),cEe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},uEe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:cEe}))},m7=A.forwardRef(uEe),dEe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},hEe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:dEe}))},pEe=A.forwardRef(hEe),fEe=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,mEe=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,gEe="".concat(fEe," ").concat(mEe).split(/[\s\n]+/),yEe="aria-",vEe="data-";function dV(e,t){return e.indexOf(t)===0}function W0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;t===!1?n={aria:!0,data:!0,attr:!0}:t===!0?n={aria:!0}:n=Ue({},t);var r={};return Object.keys(e).forEach(function(i){(n.aria&&(i==="role"||dV(i,yEe))||n.data&&dV(i,vEe)||n.attr&&gEe.includes(i))&&(r[i]=e[i])}),r}function Ooe(e){return e&&Oe.isValidElement(e)&&e.type===Oe.Fragment}const bEe=(e,t,n)=>Oe.isValidElement(e)?Oe.cloneElement(e,typeof n=="function"?n(e.props||{}):n):t;function Yu(e,t){return bEe(e,e,t)}const hV=e=>typeof e=="object"&&e!=null&&e.nodeType===1,pV=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",JC=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return pV(n.overflowY,t)||pV(n.overflowX,t)||(r=>{const i=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(e)}return!1},QC=(e,t,n,r,i,s,c,h)=>s<e&&c>t||s>e&&c<t?0:s<=e&&h<=n||c>=t&&h>=n?s-e-r:c>t&&h<n||s<e&&h>n?c-t+i:0,_Ee=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},fV=(e,t)=>{var n,r,i,s;if(typeof document>"u")return[];const{scrollMode:c,block:h,inline:o,boundary:m,skipOverflowHiddenElements:y}=t,v=typeof m=="function"?m:ye=>ye!==m;if(!hV(e))throw new TypeError("Invalid target");const S=document.scrollingElement||document.documentElement,C=[];let P=e;for(;hV(P)&&v(P);){if(P=_Ee(P),P===S){C.push(P);break}P!=null&&P===document.body&&JC(P)&&!JC(document.documentElement)||P!=null&&JC(P,y)&&C.push(P)}const I=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,N=(s=(i=window.visualViewport)==null?void 0:i.height)!=null?s:innerHeight,{scrollX:D,scrollY:k}=window,{height:F,width:U,top:B,right:z,bottom:W,left:Y}=e.getBoundingClientRect(),{top:K,right:ee,bottom:re,left:oe}=(ye=>{const fe=window.getComputedStyle(ye);return{top:parseFloat(fe.scrollMarginTop)||0,right:parseFloat(fe.scrollMarginRight)||0,bottom:parseFloat(fe.scrollMarginBottom)||0,left:parseFloat(fe.scrollMarginLeft)||0}})(e);let he=h==="start"||h==="nearest"?B-K:h==="end"?W+re:B+F/2-K+re,be=o==="center"?Y+U/2-oe+ee:o==="end"?z+ee:Y-oe;const le=[];for(let ye=0;ye<C.length;ye++){const fe=C[ye],{height:ue,width:xe,top:ae,right:Ee,bottom:Me,left:de}=fe.getBoundingClientRect();if(c==="if-needed"&&B>=0&&Y>=0&&W<=N&&z<=I&&(fe===S&&!JC(fe)||B>=ae&&W<=Me&&Y>=de&&z<=Ee))return le;const ze=getComputedStyle(fe),$e=parseInt(ze.borderLeftWidth,10),et=parseInt(ze.borderTopWidth,10),gt=parseInt(ze.borderRightWidth,10),lt=parseInt(ze.borderBottomWidth,10);let We=0,qe=0;const Qe="offsetWidth"in fe?fe.offsetWidth-fe.clientWidth-$e-gt:0,Ve="offsetHeight"in fe?fe.offsetHeight-fe.clientHeight-et-lt:0,yt="offsetWidth"in fe?fe.offsetWidth===0?0:xe/fe.offsetWidth:0,it="offsetHeight"in fe?fe.offsetHeight===0?0:ue/fe.offsetHeight:0;if(S===fe)We=h==="start"?he:h==="end"?he-N:h==="nearest"?QC(k,k+N,N,et,lt,k+he,k+he+F,F):he-N/2,qe=o==="start"?be:o==="center"?be-I/2:o==="end"?be-I:QC(D,D+I,I,$e,gt,D+be,D+be+U,U),We=Math.max(0,We+k),qe=Math.max(0,qe+D);else{We=h==="start"?he-ae-et:h==="end"?he-Me+lt+Ve:h==="nearest"?QC(ae,Me,ue,et,lt+Ve,he,he+F,F):he-(ae+ue/2)+Ve/2,qe=o==="start"?be-de-$e:o==="center"?be-(de+xe/2)+Qe/2:o==="end"?be-Ee+gt+Qe:QC(de,Ee,xe,$e,gt+Qe,be,be+U,U);const{scrollLeft:pt,scrollTop:$t}=fe;We=it===0?0:Math.max(0,Math.min($t+We/it,fe.scrollHeight-ue/it+Ve)),qe=yt===0?0:Math.max(0,Math.min(pt+qe/yt,fe.scrollWidth-xe/yt+Qe)),he+=$t-We,be+=pt-qe}le.push({el:fe,top:We,left:qe})}return le},xEe=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function wEe(e,t){if(!e.isConnected||!(i=>{let s=i;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(e))return;const n=(i=>{const s=window.getComputedStyle(i);return{top:parseFloat(s.scrollMarginTop)||0,right:parseFloat(s.scrollMarginRight)||0,bottom:parseFloat(s.scrollMarginBottom)||0,left:parseFloat(s.scrollMarginLeft)||0}})(e);if((i=>typeof i=="object"&&typeof i.behavior=="function")(t))return t.behavior(fV(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:i,top:s,left:c}of fV(e,xEe(t))){const h=s-n.top+n.bottom,o=c-n.left+n.right;i.scroll({top:h,left:o,behavior:r})}}const rd=e=>{const[,,,,t]=Hl();return t?`${e}-css-var`:""};var tr={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,N:78,P:80,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,EQUALS:187,WIN_KEY:224},SEe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},AEe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:SEe}))},Zg=A.forwardRef(AEe);const koe=Oe.createContext(void 0),ng=100,CEe=10,MEe=ng*CEe,Noe={Modal:ng,Drawer:ng,Popover:ng,Popconfirm:ng,Tooltip:ng,Tour:ng},EEe={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function TEe(e){return e in Noe}function g7(e,t){const[,n]=Hl(),r=Oe.useContext(koe),i=TEe(e);if(t!==void 0)return[t,t];let s=r??0;return i?(s+=(r?0:n.zIndexPopupBase)+Noe[e],s=Math.min(s,n.zIndexPopupBase+MEe)):s+=EEe[e],[r===void 0?t:s,s]}function Rs(){Rs=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(ye,fe,ue){ye[fe]=ue.value},s=typeof Symbol=="function"?Symbol:{},c=s.iterator||"@@iterator",h=s.asyncIterator||"@@asyncIterator",o=s.toStringTag||"@@toStringTag";function m(ye,fe,ue){return Object.defineProperty(ye,fe,{value:ue,enumerable:!0,configurable:!0,writable:!0}),ye[fe]}try{m({},"")}catch{m=function(ue,xe,ae){return ue[xe]=ae}}function y(ye,fe,ue,xe){var ae=fe&&fe.prototype instanceof D?fe:D,Ee=Object.create(ae.prototype),Me=new be(xe||[]);return i(Ee,"_invoke",{value:ee(ye,ue,Me)}),Ee}function v(ye,fe,ue){try{return{type:"normal",arg:ye.call(fe,ue)}}catch(xe){return{type:"throw",arg:xe}}}t.wrap=y;var S="suspendedStart",C="suspendedYield",P="executing",I="completed",N={};function D(){}function k(){}function F(){}var U={};m(U,c,function(){return this});var B=Object.getPrototypeOf,z=B&&B(B(le([])));z&&z!==n&&r.call(z,c)&&(U=z);var W=F.prototype=D.prototype=Object.create(U);function Y(ye){["next","throw","return"].forEach(function(fe){m(ye,fe,function(ue){return this._invoke(fe,ue)})})}function K(ye,fe){function ue(ae,Ee,Me,de){var ze=v(ye[ae],ye,Ee);if(ze.type!=="throw"){var $e=ze.arg,et=$e.value;return et&&Hr(et)=="object"&&r.call(et,"__await")?fe.resolve(et.__await).then(function(gt){ue("next",gt,Me,de)},function(gt){ue("throw",gt,Me,de)}):fe.resolve(et).then(function(gt){$e.value=gt,Me($e)},function(gt){return ue("throw",gt,Me,de)})}de(ze.arg)}var xe;i(this,"_invoke",{value:function(Ee,Me){function de(){return new fe(function(ze,$e){ue(Ee,Me,ze,$e)})}return xe=xe?xe.then(de,de):de()}})}function ee(ye,fe,ue){var xe=S;return function(ae,Ee){if(xe===P)throw Error("Generator is already running");if(xe===I){if(ae==="throw")throw Ee;return{value:e,done:!0}}for(ue.method=ae,ue.arg=Ee;;){var Me=ue.delegate;if(Me){var de=re(Me,ue);if(de){if(de===N)continue;return de}}if(ue.method==="next")ue.sent=ue._sent=ue.arg;else if(ue.method==="throw"){if(xe===S)throw xe=I,ue.arg;ue.dispatchException(ue.arg)}else ue.method==="return"&&ue.abrupt("return",ue.arg);xe=P;var ze=v(ye,fe,ue);if(ze.type==="normal"){if(xe=ue.done?I:C,ze.arg===N)continue;return{value:ze.arg,done:ue.done}}ze.type==="throw"&&(xe=I,ue.method="throw",ue.arg=ze.arg)}}}function re(ye,fe){var ue=fe.method,xe=ye.iterator[ue];if(xe===e)return fe.delegate=null,ue==="throw"&&ye.iterator.return&&(fe.method="return",fe.arg=e,re(ye,fe),fe.method==="throw")||ue!=="return"&&(fe.method="throw",fe.arg=new TypeError("The iterator does not provide a '"+ue+"' method")),N;var ae=v(xe,ye.iterator,fe.arg);if(ae.type==="throw")return fe.method="throw",fe.arg=ae.arg,fe.delegate=null,N;var Ee=ae.arg;return Ee?Ee.done?(fe[ye.resultName]=Ee.value,fe.next=ye.nextLoc,fe.method!=="return"&&(fe.method="next",fe.arg=e),fe.delegate=null,N):Ee:(fe.method="throw",fe.arg=new TypeError("iterator result is not an object"),fe.delegate=null,N)}function oe(ye){var fe={tryLoc:ye[0]};1 in ye&&(fe.catchLoc=ye[1]),2 in ye&&(fe.finallyLoc=ye[2],fe.afterLoc=ye[3]),this.tryEntries.push(fe)}function he(ye){var fe=ye.completion||{};fe.type="normal",delete fe.arg,ye.completion=fe}function be(ye){this.tryEntries=[{tryLoc:"root"}],ye.forEach(oe,this),this.reset(!0)}function le(ye){if(ye||ye===""){var fe=ye[c];if(fe)return fe.call(ye);if(typeof ye.next=="function")return ye;if(!isNaN(ye.length)){var ue=-1,xe=function ae(){for(;++ue<ye.length;)if(r.call(ye,ue))return ae.value=ye[ue],ae.done=!1,ae;return ae.value=e,ae.done=!0,ae};return xe.next=xe}}throw new TypeError(Hr(ye)+" is not iterable")}return k.prototype=F,i(W,"constructor",{value:F,configurable:!0}),i(F,"constructor",{value:k,configurable:!0}),k.displayName=m(F,o,"GeneratorFunction"),t.isGeneratorFunction=function(ye){var fe=typeof ye=="function"&&ye.constructor;return!!fe&&(fe===k||(fe.displayName||fe.name)==="GeneratorFunction")},t.mark=function(ye){return Object.setPrototypeOf?Object.setPrototypeOf(ye,F):(ye.__proto__=F,m(ye,o,"GeneratorFunction")),ye.prototype=Object.create(W),ye},t.awrap=function(ye){return{__await:ye}},Y(K.prototype),m(K.prototype,h,function(){return this}),t.AsyncIterator=K,t.async=function(ye,fe,ue,xe,ae){ae===void 0&&(ae=Promise);var Ee=new K(y(ye,fe,ue,xe),ae);return t.isGeneratorFunction(fe)?Ee:Ee.next().then(function(Me){return Me.done?Me.value:Ee.next()})},Y(W),m(W,o,"Generator"),m(W,c,function(){return this}),m(W,"toString",function(){return"[object Generator]"}),t.keys=function(ye){var fe=Object(ye),ue=[];for(var xe in fe)ue.push(xe);return ue.reverse(),function ae(){for(;ue.length;){var Ee=ue.pop();if(Ee in fe)return ae.value=Ee,ae.done=!1,ae}return ae.done=!0,ae}},t.values=le,be.prototype={constructor:be,reset:function(fe){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(he),!fe)for(var ue in this)ue.charAt(0)==="t"&&r.call(this,ue)&&!isNaN(+ue.slice(1))&&(this[ue]=e)},stop:function(){this.done=!0;var fe=this.tryEntries[0].completion;if(fe.type==="throw")throw fe.arg;return this.rval},dispatchException:function(fe){if(this.done)throw fe;var ue=this;function xe($e,et){return Me.type="throw",Me.arg=fe,ue.next=$e,et&&(ue.method="next",ue.arg=e),!!et}for(var ae=this.tryEntries.length-1;ae>=0;--ae){var Ee=this.tryEntries[ae],Me=Ee.completion;if(Ee.tryLoc==="root")return xe("end");if(Ee.tryLoc<=this.prev){var de=r.call(Ee,"catchLoc"),ze=r.call(Ee,"finallyLoc");if(de&&ze){if(this.prev<Ee.catchLoc)return xe(Ee.catchLoc,!0);if(this.prev<Ee.finallyLoc)return xe(Ee.finallyLoc)}else if(de){if(this.prev<Ee.catchLoc)return xe(Ee.catchLoc,!0)}else{if(!ze)throw Error("try statement without catch or finally");if(this.prev<Ee.finallyLoc)return xe(Ee.finallyLoc)}}}},abrupt:function(fe,ue){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var ae=this.tryEntries[xe];if(ae.tryLoc<=this.prev&&r.call(ae,"finallyLoc")&&this.prev<ae.finallyLoc){var Ee=ae;break}}Ee&&(fe==="break"||fe==="continue")&&Ee.tryLoc<=ue&&ue<=Ee.finallyLoc&&(Ee=null);var Me=Ee?Ee.completion:{};return Me.type=fe,Me.arg=ue,Ee?(this.method="next",this.next=Ee.finallyLoc,N):this.complete(Me)},complete:function(fe,ue){if(fe.type==="throw")throw fe.arg;return fe.type==="break"||fe.type==="continue"?this.next=fe.arg:fe.type==="return"?(this.rval=this.arg=fe.arg,this.method="return",this.next="end"):fe.type==="normal"&&ue&&(this.next=ue),N},finish:function(fe){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var xe=this.tryEntries[ue];if(xe.finallyLoc===fe)return this.complete(xe.completion,xe.afterLoc),he(xe),N}},catch:function(fe){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var xe=this.tryEntries[ue];if(xe.tryLoc===fe){var ae=xe.completion;if(ae.type==="throw"){var Ee=ae.arg;he(xe)}return Ee}}throw Error("illegal catch attempt")},delegateYield:function(fe,ue,xe){return this.delegate={iterator:le(fe),resultName:ue,nextLoc:xe},this.method==="next"&&(this.arg=e),N}},t}function mV(e,t,n,r,i,s,c){try{var h=e[s](c),o=h.value}catch(m){return void n(m)}h.done?t(o):Promise.resolve(o).then(r,i)}function Wf(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function c(o){mV(s,r,i,c,h,"next",o)}function h(o){mV(s,r,i,c,h,"throw",o)}c(void 0)})}}var sA=Ue({},p_e),PEe=sA.version,F2=sA.render,IEe=sA.unmountComponentAtNode,k3;try{var OEe=Number((PEe||"").split(".")[0]);OEe>=18&&(k3=sA.createRoot)}catch{}function gV(e){var t=sA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&Hr(t)==="object"&&(t.usingClientEntryPoint=e)}var iT="__rc_react_root__";function kEe(e,t){gV(!0);var n=t[iT]||k3(t);gV(!1),n.render(e),t[iT]=n}function NEe(e,t){F2==null||F2(e,t)}function REe(e,t){if(k3){kEe(e,t);return}NEe(e,t)}function DEe(e){return YN.apply(this,arguments)}function YN(){return YN=Wf(Rs().mark(function e(t){return Rs().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=t[iT])===null||i===void 0||i.unmount(),delete t[iT]}));case 1:case"end":return r.stop()}},e)})),YN.apply(this,arguments)}function LEe(e){IEe(e)}function FEe(e){return JN.apply(this,arguments)}function JN(){return JN=Wf(Rs().mark(function e(t){return Rs().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(k3===void 0){r.next=2;break}return r.abrupt("return",DEe(t));case 2:LEe(t);case 3:case"end":return r.stop()}},e)})),JN.apply(this,arguments)}const $2=()=>({height:0,opacity:0}),yV=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},$Ee=e=>({height:e?e.offsetHeight:0}),j2=(e,t)=>(t==null?void 0:t.deadline)===!0||t.propertyName==="height",QN=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant"}-motion-collapse`,onAppearStart:$2,onEnterStart:$2,onAppearActive:yV,onEnterActive:yV,onLeaveStart:$Ee,onLeaveActive:$2,onAppearEnd:j2,onEnterEnd:j2,onLeaveEnd:j2,motionDeadline:500}},y7=(e,t,n)=>n!==void 0?n:`${e}-${t}`,N3=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),s=i.width,c=i.height;if(s||c)return!0}}return!1},jEe=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},zEe=h7("Wave",e=>[jEe(e)]),v7="ant-wave-target";function BEe(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}function z2(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&BEe(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function ZEe(e){const{borderTopColor:t,borderColor:n,backgroundColor:r}=getComputedStyle(e);return z2(t)?t:z2(n)?n:z2(r)?r:null}function B2(e){return Number.isNaN(e)?0:e}const UEe=e=>{const{className:t,target:n,component:r}=e,i=A.useRef(null),[s,c]=A.useState(null),[h,o]=A.useState([]),[m,y]=A.useState(0),[v,S]=A.useState(0),[C,P]=A.useState(0),[I,N]=A.useState(0),[D,k]=A.useState(!1),F={left:m,top:v,width:C,height:I,borderRadius:h.map(z=>`${z}px`).join(" ")};s&&(F["--wave-color"]=s);function U(){const z=getComputedStyle(n);c(ZEe(n));const W=z.position==="static",{borderLeftWidth:Y,borderTopWidth:K}=z;y(W?n.offsetLeft:B2(-parseFloat(Y))),S(W?n.offsetTop:B2(-parseFloat(K))),P(n.offsetWidth),N(n.offsetHeight);const{borderTopLeftRadius:ee,borderTopRightRadius:re,borderBottomLeftRadius:oe,borderBottomRightRadius:he}=z;o([ee,re,he,oe].map(be=>B2(parseFloat(be))))}if(A.useEffect(()=>{if(n){const z=Mi(()=>{U(),k(!0)});let W;return typeof ResizeObserver<"u"&&(W=new ResizeObserver(U),W.observe(n)),()=>{Mi.cancel(z),W==null||W.disconnect()}}},[]),!D)return null;const B=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(v7));return A.createElement(nd,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(z,W)=>{var Y;if(W.deadline||W.propertyName==="opacity"){const K=(Y=i.current)===null||Y===void 0?void 0:Y.parentElement;FEe(K).then(()=>{K==null||K.remove()})}return!1}},z=>{let{className:W}=z;return A.createElement("div",{ref:i,className:Dt(t,{"wave-quick":B},W),style:F})})},HEe=(e,t)=>{var n;const{component:r}=t;if(r==="Checkbox"&&!(!((n=e.querySelector("input"))===null||n===void 0)&&n.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",e==null||e.insertBefore(i,e==null?void 0:e.firstChild),REe(A.createElement(UEe,Object.assign({},t,{target:e})),i)},VEe=(e,t,n)=>{const{wave:r}=A.useContext(hi),[,i,s]=Hl(),c=Ia(m=>{const y=e.current;if(r!=null&&r.disabled||!y)return;const v=y.querySelector(`.${v7}`)||y,{showEffect:S}=r||{};(S||HEe)(v,{className:t,token:i,component:n,event:m,hashId:s})}),h=A.useRef();return m=>{Mi.cancel(h.current),h.current=Mi(()=>{c(m)})}},b7=e=>{const{children:t,disabled:n,component:r}=e,{getPrefixCls:i}=A.useContext(hi),s=A.useRef(null),c=i("wave"),[,h]=zEe(c),o=VEe(s,Dt(c,h),r);if(Oe.useEffect(()=>{const y=s.current;if(!y||y.nodeType!==1||n)return;const v=S=>{!N3(S.target)||!y.getAttribute||y.getAttribute("disabled")||y.disabled||y.className.includes("disabled")||y.className.includes("-leave")||o(S)};return y.addEventListener("click",v,!0),()=>{y.removeEventListener("click",v,!0)}},[n]),!Oe.isValidElement(t))return t??null;const m=Uf(t)?el(t.ref,s):s;return Yu(t,{ref:m})},id=e=>{const t=Oe.useContext(Bg);return Oe.useMemo(()=>e?typeof e=="string"?e??t:e instanceof Function?e(t):t:t,[e,t])},WEe=e=>{const{componentCls:t}=e;return{[t]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},GEe=e=>{const{componentCls:t,antCls:n}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${t}-item:empty`]:{display:"none"},[`${t}-item > ${n}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},KEe=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-row-small":{rowGap:e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:e.spaceGapLargeSize},"&-gap-col-small":{columnGap:e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:e.spaceGapLargeSize}}}},Roe=_a("Space",e=>{const t=lo(e,{spaceGapSmallSize:e.paddingXS,spaceGapMiddleSize:e.padding,spaceGapLargeSize:e.paddingLG});return[GEe(t),KEe(t),WEe(t)]},()=>({}),{resetStyle:!1});var Doe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const R3=A.createContext(null),lA=(e,t)=>{const n=A.useContext(R3),r=A.useMemo(()=>{if(!n)return"";const{compactDirection:i,isFirstItem:s,isLastItem:c}=n,h=i==="vertical"?"-vertical-":"-";return Dt(`${e}-compact${h}item`,{[`${e}-compact${h}first-item`]:s,[`${e}-compact${h}last-item`]:c,[`${e}-compact${h}item-rtl`]:t==="rtl"})},[e,t,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}},qw=e=>{let{children:t}=e;return A.createElement(R3.Provider,{value:null},t)},qEe=e=>{var{children:t}=e,n=Doe(e,["children"]);return A.createElement(R3.Provider,{value:n},t)},XEe=e=>{const{getPrefixCls:t,direction:n}=A.useContext(hi),{size:r,direction:i,block:s,prefixCls:c,className:h,rootClassName:o,children:m}=e,y=Doe(e,["size","direction","block","prefixCls","className","rootClassName","children"]),v=id(F=>r??F),S=t("space-compact",c),[C,P]=Roe(S),I=Dt(S,P,{[`${S}-rtl`]:n==="rtl",[`${S}-block`]:s,[`${S}-vertical`]:i==="vertical"},h,o),N=A.useContext(R3),D=Pc(m),k=A.useMemo(()=>D.map((F,U)=>{const B=F&&F.key||`${S}-item-${U}`;return A.createElement(qEe,{key:B,compactSize:v,compactDirection:i,isFirstItem:U===0&&(!N||(N==null?void 0:N.isFirstItem)),isLastItem:U===D.length-1&&(!N||(N==null?void 0:N.isLastItem))},F)}),[r,D,N]);return D.length===0?null:C(A.createElement("div",Object.assign({className:I},y),k))};var YEe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Loe=A.createContext(void 0),JEe=e=>{const{getPrefixCls:t,direction:n}=A.useContext(hi),{prefixCls:r,size:i,className:s}=e,c=YEe(e,["prefixCls","size","className"]),h=t("btn-group",r),[,,o]=Hl();let m="";switch(i){case"large":m="lg";break;case"small":m="sm";break}const y=Dt(h,{[`${h}-${m}`]:m,[`${h}-rtl`]:n==="rtl"},s,o);return A.createElement(Loe.Provider,{value:i},A.createElement("div",Object.assign({},c,{className:y})))},vV=/^[\u4e00-\u9fa5]{2}$/,e8=vV.test.bind(vV);function bV(e){return typeof e=="string"}function Z2(e){return e==="text"||e==="link"}function QEe(e,t){if(e==null)return;const n=t?" ":"";return typeof e!="string"&&typeof e!="number"&&bV(e.type)&&e8(e.props.children)?Yu(e,{children:e.props.children.split("").join(n)}):bV(e)?e8(e)?Oe.createElement("span",null,e.split("").join(n)):Oe.createElement("span",null,e):Ooe(e)?Oe.createElement("span",null,e):e}function eTe(e,t){let n=!1;const r=[];return Oe.Children.forEach(e,i=>{const s=typeof i,c=s==="string"||s==="number";if(n&&c){const h=r.length-1,o=r[h];r[h]=`${o}${i}`}else r.push(i);n=c}),Oe.Children.map(r,i=>QEe(i,t))}const Foe=A.forwardRef((e,t)=>{const{className:n,style:r,children:i,prefixCls:s}=e,c=Dt(`${s}-icon`,n);return Oe.createElement("span",{ref:t,className:c,style:r},i)}),_V=A.forwardRef((e,t)=>{let{prefixCls:n,className:r,style:i,iconClassName:s}=e;const c=Dt(`${n}-loading-icon`,r);return Oe.createElement(Foe,{prefixCls:n,className:c,style:i,ref:t},Oe.createElement(Zg,{className:s}))}),U2=()=>({width:0,opacity:0,transform:"scale(0)"}),H2=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),tTe=e=>{const{prefixCls:t,loading:n,existIcon:r,className:i,style:s}=e,c=!!n;return r?Oe.createElement(_V,{prefixCls:t,className:i,style:s}):Oe.createElement(nd,{visible:c,motionName:`${t}-loading-icon-motion`,motionLeave:c,removeOnLeave:!0,onAppearStart:U2,onAppearActive:H2,onEnterStart:U2,onEnterActive:H2,onLeaveStart:H2,onLeaveActive:U2},(h,o)=>{let{className:m,style:y}=h;return Oe.createElement(_V,{prefixCls:t,className:i,style:Object.assign(Object.assign({},s),y),ref:o,iconClassName:m})})},xV=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),nTe=e=>{const{componentCls:t,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:s}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(r).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},xV(`${t}-primary`,i),xV(`${t}-danger`,s)]}},$oe=e=>{const{paddingInline:t,onlyIconSize:n,paddingBlock:r}=e;return lo(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:r,buttonIconOnlyFontSize:n})},joe=e=>{var t,n,r,i,s,c;const h=(t=e.contentFontSize)!==null&&t!==void 0?t:e.fontSize,o=(n=e.contentFontSizeSM)!==null&&n!==void 0?n:e.fontSize,m=(r=e.contentFontSizeLG)!==null&&r!==void 0?r:e.fontSizeLG,y=(i=e.contentLineHeight)!==null&&i!==void 0?i:iE(h),v=(s=e.contentLineHeightSM)!==null&&s!==void 0?s:iE(o),S=(c=e.contentLineHeightLG)!==null&&c!==void 0?c:iE(m);return{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:e.fontSizeLG,onlyIconSizeSM:e.fontSizeLG-2,onlyIconSizeLG:e.fontSizeLG+2,groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:e.colorBgTextHover,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,contentFontSize:h,contentFontSizeSM:o,contentFontSizeLG:m,contentLineHeight:y,contentLineHeightSM:v,contentLineHeightLG:S,paddingBlock:Math.max((e.controlHeight-h*y)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-o*v)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-m*S)/2-e.lineWidth,0)}},rTe=e=>{const{componentCls:t,iconCls:n,fontWeight:r}=e;return{[t]:{outline:"none",position:"relative",display:"inline-block",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Ut(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${t}-icon`]:{lineHeight:0},[`> ${n} + span, > span + ${n}`]:{marginInlineStart:e.marginXS},[`&:not(${t}-icon-only) > ${t}-icon`]:{[`&${t}-loading-icon, &:not(:last-child)`]:{marginInlineEnd:e.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},I3(e)),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&-icon-only${t}-compact-item`]:{flex:"none"}}}},rp=(e,t,n)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":n}}),iTe=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),oTe=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),aTe=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),Xw=(e,t,n,r,i,s,c,h)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:r||void 0,boxShadow:"none"},rp(e,Object.assign({background:t},c),Object.assign({background:t},h))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:s||void 0}})}),_7=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},aTe(e))}),zoe=e=>Object.assign({},_7(e)),oT=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),Boe=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zoe(e)),{background:e.defaultBg,borderColor:e.defaultBorderColor,color:e.defaultColor,boxShadow:e.defaultShadow}),rp(e.componentCls,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),Xw(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:e.colorError,borderColor:e.colorError},rp(e.componentCls,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Xw(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),_7(e))}),sTe=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zoe(e)),{color:e.primaryColor,background:e.colorPrimary,boxShadow:e.primaryShadow}),rp(e.componentCls,{color:e.colorTextLightSolid,background:e.colorPrimaryHover},{color:e.colorTextLightSolid,background:e.colorPrimaryActive})),Xw(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({background:e.colorError,boxShadow:e.dangerShadow,color:e.dangerColor},rp(e.componentCls,{background:e.colorErrorHover},{background:e.colorErrorActive})),Xw(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),_7(e))}),lTe=e=>Object.assign(Object.assign({},Boe(e)),{borderStyle:"dashed"}),cTe=e=>Object.assign(Object.assign(Object.assign({color:e.colorLink},rp(e.componentCls,{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),oT(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},rp(e.componentCls,{color:e.colorErrorHover},{color:e.colorErrorActive})),oT(e))}),uTe=e=>Object.assign(Object.assign(Object.assign({},rp(e.componentCls,{color:e.colorText,background:e.textHoverBg},{color:e.colorText,background:e.colorBgTextActive})),oT(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},oT(e)),rp(e.componentCls,{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBg}))}),dTe=e=>{const{componentCls:t}=e;return{[`${t}-default`]:Boe(e),[`${t}-primary`]:sTe(e),[`${t}-dashed`]:lTe(e),[`${t}-link`]:cTe(e),[`${t}-text`]:uTe(e),[`${t}-ghost`]:Xw(e.componentCls,e.ghostBg,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)}},x7=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:i,lineHeight:s,borderRadius:c,buttonPaddingHorizontal:h,iconCls:o,buttonPaddingVertical:m}=e,y=`${n}-icon-only`;return[{[`${t}`]:{fontSize:i,lineHeight:s,height:r,padding:`${Ut(m)} ${Ut(h)}`,borderRadius:c,[`&${y}`]:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:r,paddingInlineStart:0,paddingInlineEnd:0,[`&${n}-round`]:{width:"auto"},[o]:{fontSize:e.buttonIconOnlyFontSize}},[`&${n}-loading`]:{opacity:e.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${e.motionDurationSlow} ${e.motionEaseInOut}, opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`}}},{[`${n}${n}-circle${t}`]:iTe(e)},{[`${n}${n}-round${t}`]:oTe(e)}]},hTe=e=>{const t=lo(e,{fontSize:e.contentFontSize,lineHeight:e.contentLineHeight});return x7(t,e.componentCls)},pTe=e=>{const t=lo(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,lineHeight:e.contentLineHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:e.paddingBlockSM,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return x7(t,`${e.componentCls}-sm`)},fTe=e=>{const t=lo(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,lineHeight:e.contentLineHeightLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:e.paddingBlockLG,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return x7(t,`${e.componentCls}-lg`)},mTe=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},gTe=_a("Button",e=>{const t=$oe(e);return[rTe(t),hTe(t),pTe(t),fTe(t),mTe(t),dTe(t),nTe(t)]},joe,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function yTe(e,t,n){const{focusElCls:r,focus:i,borderElCls:s}=n,c=s?"> *":"",h=["hover",i?"focus":null,"active"].filter(Boolean).map(o=>`&:${o} ${c}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[h]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${c}`]:{zIndex:0}})}}function vTe(e,t,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function D3(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=e,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},yTe(e,r,t)),vTe(n,r,t))}}function bTe(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function _Te(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function xTe(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},bTe(e,t)),_Te(e.componentCls,t))}}const wTe=e=>{const{componentCls:t,calc:n}=e;return{[t]:{[`&-compact-item${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(e.lineWidth).mul(-1).equal(),insetInlineStart:n(e.lineWidth).mul(-1).equal(),display:"inline-block",width:e.lineWidth,height:`calc(100% + ${Ut(e.lineWidth)} * 2)`,backgroundColor:e.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-vertical-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(e.lineWidth).mul(-1).equal(),insetInlineStart:n(e.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${Ut(e.lineWidth)} * 2)`,height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}}}}}},STe=poe(["Button","compact"],e=>{const t=$oe(e);return[D3(t),xTe(t),wTe(t)]},joe);var ATe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function CTe(e){if(typeof e=="object"&&e){let t=e==null?void 0:e.delay;return t=!Number.isNaN(t)&&typeof t=="number"?t:0,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}const MTe=Oe.forwardRef((e,t)=>{var n,r;const{loading:i=!1,prefixCls:s,type:c,danger:h,shape:o="default",size:m,styles:y,disabled:v,className:S,rootClassName:C,children:P,icon:I,ghost:N=!1,block:D=!1,htmlType:k="button",classNames:F,style:U={}}=e,B=ATe(e,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),z=c||"default",{getPrefixCls:W,autoInsertSpaceInButton:Y,direction:K,button:ee}=A.useContext(hi),re=W("btn",s),[oe,he,be]=gTe(re),le=A.useContext(Ic),ye=v??le,fe=A.useContext(Loe),ue=A.useMemo(()=>CTe(i),[i]),[xe,ae]=A.useState(ue.loading),[Ee,Me]=A.useState(!1),ze=el(t,A.createRef()),$e=A.Children.count(P)===1&&!I&&!Z2(z);A.useEffect(()=>{let Kt=null;ue.delay>0?Kt=setTimeout(()=>{Kt=null,ae(!0)},ue.delay):ae(ue.loading);function Zt(){Kt&&(clearTimeout(Kt),Kt=null)}return Zt},[ue]),A.useEffect(()=>{if(!ze||!ze.current||Y===!1)return;const Kt=ze.current.textContent;$e&&e8(Kt)?Ee||Me(!0):Ee&&Me(!1)},[ze]);const et=Kt=>{const{onClick:Zt}=e;if(xe||ye){Kt.preventDefault();return}Zt==null||Zt(Kt)},gt=Y!==!1,{compactSize:lt,compactItemClassnames:We}=lA(re,K),qe={large:"lg",small:"sm",middle:void 0},Qe=id(Kt=>{var Zt,En;return(En=(Zt=m??lt)!==null&&Zt!==void 0?Zt:fe)!==null&&En!==void 0?En:Kt}),Ve=Qe&&qe[Qe]||"",yt=xe?"loading":I,it=Vl(B,["navigate"]),pt=Dt(re,he,be,{[`${re}-${o}`]:o!=="default"&&o,[`${re}-${z}`]:z,[`${re}-${Ve}`]:Ve,[`${re}-icon-only`]:!P&&P!==0&&!!yt,[`${re}-background-ghost`]:N&&!Z2(z),[`${re}-loading`]:xe,[`${re}-two-chinese-chars`]:Ee&&gt&&!xe,[`${re}-block`]:D,[`${re}-dangerous`]:!!h,[`${re}-rtl`]:K==="rtl"},We,S,C,ee==null?void 0:ee.className),$t=Object.assign(Object.assign({},ee==null?void 0:ee.style),U),Jt=Dt(F==null?void 0:F.icon,(n=ee==null?void 0:ee.classNames)===null||n===void 0?void 0:n.icon),on=Object.assign(Object.assign({},(y==null?void 0:y.icon)||{}),((r=ee==null?void 0:ee.styles)===null||r===void 0?void 0:r.icon)||{}),ln=I&&!xe?Oe.createElement(Foe,{prefixCls:re,className:Jt,style:on},I):Oe.createElement(tTe,{existIcon:!!I,prefixCls:re,loading:!!xe}),Lt=P||P===0?eTe(P,$e&&gt):null;if(it.href!==void 0)return oe(Oe.createElement("a",Object.assign({},it,{className:Dt(pt,{[`${re}-disabled`]:ye}),href:ye?void 0:it.href,style:$t,onClick:et,ref:ze,tabIndex:ye?-1:0}),ln,Lt));let en=Oe.createElement("button",Object.assign({},B,{type:k,className:pt,style:$t,onClick:et,disabled:ye,ref:ze}),ln,Lt,!!We&&Oe.createElement(STe,{key:"compact",prefixCls:re}));return Z2(z)||(en=Oe.createElement(b7,{component:"Button",disabled:!!xe},en)),oe(en)}),vs=MTe;vs.Group=JEe;vs.__ANT_BUTTON=!0;var Zoe=A.createContext(null),wV=[];function ETe(e,t){var n=A.useState(function(){if(!Qs())return null;var P=document.createElement("div");return P}),r=Pt(n,1),i=r[0],s=A.useRef(!1),c=A.useContext(Zoe),h=A.useState(wV),o=Pt(h,2),m=o[0],y=o[1],v=c||(s.current?void 0:function(P){y(function(I){var N=[P].concat(zn(I));return N})});function S(){i.parentElement||document.body.appendChild(i),s.current=!0}function C(){var P;(P=i.parentElement)===null||P===void 0||P.removeChild(i),s.current=!1}return so(function(){return e?c?c(S):S():C(),C},[e]),so(function(){m.length&&(m.forEach(function(P){return P()}),y(wV))},[m]),[i,v]}function TTe(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r=n.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var i,s;if(e){var c=getComputedStyle(e);r.scrollbarColor=c.scrollbarColor,r.scrollbarWidth=c.scrollbarWidth;var h=getComputedStyle(e,"::-webkit-scrollbar"),o=parseInt(h.width,10),m=parseInt(h.height,10);try{var y=o?"width: ".concat(h.width,";"):"",v=m?"height: ".concat(h.height,";"):"";Kh(`
#`.concat(t,`::-webkit-scrollbar {
`).concat(y,`
`).concat(v,`
}`),t)}catch(P){console.error(P),i=o,s=m}}document.body.appendChild(n);var S=e&&i&&!isNaN(i)?i:n.offsetWidth-n.clientWidth,C=e&&s&&!isNaN(s)?s:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),Hw(t),{width:S,height:C}}function PTe(e){return typeof document>"u"||!e||!(e instanceof Element)?{width:0,height:0}:TTe(e)}function ITe(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var OTe="rc-util-locker-".concat(Date.now()),SV=0;function kTe(e){var t=!!e,n=A.useState(function(){return SV+=1,"".concat(OTe,"_").concat(SV)}),r=Pt(n,1),i=r[0];so(function(){if(t){var s=PTe(document.body).width,c=ITe();Kh(`
html body {
  overflow-y: hidden;
  `.concat(c?"width: calc(100% - ".concat(s,"px);"):"",`
}`),i)}else Hw(i);return function(){Hw(i)}},[t,i])}var NTe=!1;function RTe(e){return NTe}var AV=function(t){return t===!1?!1:!Qs()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},Uoe=A.forwardRef(function(e,t){var n=e.open,r=e.autoLock,i=e.getContainer;e.debug;var s=e.autoDestroy,c=s===void 0?!0:s,h=e.children,o=A.useState(n),m=Pt(o,2),y=m[0],v=m[1],S=y||n;A.useEffect(function(){(c||n)&&v(n)},[n,c]);var C=A.useState(function(){return AV(i)}),P=Pt(C,2),I=P[0],N=P[1];A.useEffect(function(){var re=AV(i);N(re??null)});var D=ETe(S&&!I),k=Pt(D,2),F=k[0],U=k[1],B=I??F;kTe(r&&n&&Qs()&&(B===F||B===document.body));var z=null;if(h&&Uf(h)&&t){var W=h;z=W.ref}var Y=Tb(z,t);if(!S||!Qs()||I===void 0)return null;var K=B===!1||RTe(),ee=h;return t&&(ee=A.cloneElement(h,{ref:Y})),A.createElement(Zoe.Provider,{value:U},K?ee:Wa.createPortal(ee,B))});function DTe(){var e=Ue({},A0);return e.useId}var CV=0,MV=DTe();const LTe=MV?function(t){var n=MV();return t||n}:function(t){var n=A.useState("ssr-id"),r=Pt(n,2),i=r[0],s=r[1];return A.useEffect(function(){var c=CV;CV+=1,s("rc_unique_".concat(c))},[]),t||i};var FTe=function(t){if(Qs()&&window.document.documentElement){var n=Array.isArray(t)?t:[t],r=window.document.documentElement;return n.some(function(i){return i in r.style})}return!1};function EV(e,t){return FTe(e)}var mg="RC_FORM_INTERNAL_HOOKS",Mo=function(){ns(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Ug=A.createContext({getFieldValue:Mo,getFieldsValue:Mo,getFieldError:Mo,getFieldWarning:Mo,getFieldsError:Mo,isFieldsTouched:Mo,isFieldTouched:Mo,isFieldValidating:Mo,isFieldsValidating:Mo,resetFields:Mo,setFields:Mo,setFieldValue:Mo,setFieldsValue:Mo,validateFields:Mo,submit:Mo,getInternalHooks:function(){return Mo(),{dispatch:Mo,initEntityValue:Mo,registerField:Mo,useSubscribe:Mo,setInitialValues:Mo,destroyForm:Mo,setCallbacks:Mo,registerWatch:Mo,getFields:Mo,setValidateMessages:Mo,setPreserve:Mo,getInitialValue:Mo}}}),Yw=A.createContext(null);function t8(e){return e==null?[]:Array.isArray(e)?e:[e]}function $Te(e){return e&&!!e._init}function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gg.apply(this,arguments)}function jTe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Jw(e,t)}function n8(e){return n8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n8(e)}function Jw(e,t){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jw(e,t)}function zTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oE(e,t,n){return zTe()?oE=Reflect.construct.bind():oE=function(i,s,c){var h=[null];h.push.apply(h,s);var o=Function.bind.apply(i,h),m=new o;return c&&Jw(m,c.prototype),m},oE.apply(null,arguments)}function BTe(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function r8(e){var t=typeof Map=="function"?new Map:void 0;return r8=function(r){if(r===null||!BTe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return oE(r,arguments,n8(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Jw(i,r)},r8(e)}var ZTe=/%[sdj%]/g,UTe=function(){};function i8(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function xc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,s=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var c=e.replace(ZTe,function(h){if(h==="%%")return"%";if(i>=s)return h;switch(h){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return h}});return c}return e}function HTe(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function is(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||HTe(t)&&typeof e=="string"&&!e)}function VTe(e,t,n){var r=[],i=0,s=e.length;function c(h){r.push.apply(r,h||[]),i++,i===s&&n(r)}e.forEach(function(h){t(h,c)})}function TV(e,t,n){var r=0,i=e.length;function s(c){if(c&&c.length){n(c);return}var h=r;r=r+1,h<i?t(e[h],s):n([])}s([])}function WTe(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var PV=function(e){jTe(t,e);function t(n,r){var i;return i=e.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return t}(r8(Error));function GTe(e,t,n,r,i){if(t.first){var s=new Promise(function(S,C){var P=function(D){return r(D),D.length?C(new PV(D,i8(D))):S(i)},I=WTe(e);TV(I,n,P)});return s.catch(function(S){return S}),s}var c=t.firstFields===!0?Object.keys(e):t.firstFields||[],h=Object.keys(e),o=h.length,m=0,y=[],v=new Promise(function(S,C){var P=function(N){if(y.push.apply(y,N),m++,m===o)return r(y),y.length?C(new PV(y,i8(y))):S(i)};h.length||(r(y),S(i)),h.forEach(function(I){var N=e[I];c.indexOf(I)!==-1?TV(N,n,P):VTe(N,n,P)})});return v.catch(function(S){return S}),v}function KTe(e){return!!(e&&e.message!==void 0)}function qTe(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function IV(e,t){return function(n){var r;return e.fullFields?r=qTe(t,e.fullFields):r=t[n.field||e.fullField],KTe(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function OV(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r=="object"&&typeof e[n]=="object"?e[n]=gg({},e[n],r):e[n]=r}}return e}var Hoe=function(t,n,r,i,s,c){t.required&&(!r.hasOwnProperty(t.field)||is(n,c||t.type))&&i.push(xc(s.messages.required,t.fullField))},XTe=function(t,n,r,i,s){(/^\s+$/.test(n)||n==="")&&i.push(xc(s.messages.whitespace,t.fullField))},eM,YTe=function(){if(eM)return eM;var e="[a-fA-F\\d:]",t=function(U){return U&&U.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),c=new RegExp("^"+n+"$"),h=new RegExp("^"+i+"$"),o=function(U){return U&&U.exact?s:new RegExp("(?:"+t(U)+n+t(U)+")|(?:"+t(U)+i+t(U)+")","g")};o.v4=function(F){return F&&F.exact?c:new RegExp(""+t(F)+n+t(F),"g")},o.v6=function(F){return F&&F.exact?h:new RegExp(""+t(F)+i+t(F),"g")};var m="(?:(?:[a-z]+:)?//)",y="(?:\\S+(?::\\S*)?@)?",v=o.v4().source,S=o.v6().source,C="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",P="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",I="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",N="(?::\\d{2,5})?",D='(?:[/?#][^\\s"]*)?',k="(?:"+m+"|www\\.)"+y+"(?:localhost|"+v+"|"+S+"|"+C+P+I+")"+N+D;return eM=new RegExp("(?:^"+k+"$)","i"),eM},kV={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},jx={integer:function(t){return jx.number(t)&&parseInt(t,10)===t},float:function(t){return jx.number(t)&&!jx.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!jx.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(kV.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(YTe())},hex:function(t){return typeof t=="string"&&!!t.match(kV.hex)}},JTe=function(t,n,r,i,s){if(t.required&&n===void 0){Hoe(t,n,r,i,s);return}var c=["integer","float","array","regexp","object","method","email","number","date","url","hex"],h=t.type;c.indexOf(h)>-1?jx[h](n)||i.push(xc(s.messages.types[h],t.fullField,t.type)):h&&typeof n!==t.type&&i.push(xc(s.messages.types[h],t.fullField,t.type))},QTe=function(t,n,r,i,s){var c=typeof t.len=="number",h=typeof t.min=="number",o=typeof t.max=="number",m=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=n,v=null,S=typeof n=="number",C=typeof n=="string",P=Array.isArray(n);if(S?v="number":C?v="string":P&&(v="array"),!v)return!1;P&&(y=n.length),C&&(y=n.replace(m,"_").length),c?y!==t.len&&i.push(xc(s.messages[v].len,t.fullField,t.len)):h&&!o&&y<t.min?i.push(xc(s.messages[v].min,t.fullField,t.min)):o&&!h&&y>t.max?i.push(xc(s.messages[v].max,t.fullField,t.max)):h&&o&&(y<t.min||y>t.max)&&i.push(xc(s.messages[v].range,t.fullField,t.min,t.max))},pv="enum",ePe=function(t,n,r,i,s){t[pv]=Array.isArray(t[pv])?t[pv]:[],t[pv].indexOf(n)===-1&&i.push(xc(s.messages[pv],t.fullField,t[pv].join(", ")))},tPe=function(t,n,r,i,s){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||i.push(xc(s.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var c=new RegExp(t.pattern);c.test(n)||i.push(xc(s.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},ji={required:Hoe,whitespace:XTe,type:JTe,range:QTe,enum:ePe,pattern:tPe},nPe=function(t,n,r,i,s){var c=[],h=t.required||!t.required&&i.hasOwnProperty(t.field);if(h){if(is(n,"string")&&!t.required)return r();ji.required(t,n,i,c,s,"string"),is(n,"string")||(ji.type(t,n,i,c,s),ji.range(t,n,i,c,s),ji.pattern(t,n,i,c,s),t.whitespace===!0&&ji.whitespace(t,n,i,c,s))}r(c)},rPe=function(t,n,r,i,s){var c=[],h=t.required||!t.required&&i.hasOwnProperty(t.field);if(h){if(is(n)&&!t.required)return r();ji.required(t,n,i,c,s),n!==void 0&&ji.type(t,n,i,c,s)}r(c)},iPe=function(t,n,r,i,s){var c=[],h=t.required||!t.required&&i.hasOwnProperty(t.field);if(h){if(n===""&&(n=void 0),is(n)&&!t.required)return r();ji.required(t,n,i,c,s),n!==void 0&&(ji.type(t,n,i,c,s),ji.range(t,n,i,c,s))}r(c)},oPe=function(t,n,r,i,s){var c=[],h=t.required||!t.required&&i.hasOwnProperty(t.field);if(h){if(is(n)&&!t.required)return r();ji.required(t,n,i,c,s),n!==void 0&&ji.type(t,n,i,c,s)}r(c)},aPe=function(t,n,r,i,s){var c=[],h=t.required||!t.required&&i.hasOwnProperty(t.field);if(h){if(is(n)&&!t.required)return r();ji.required(t,n,i,c,s),is(n)||ji.type(t,n,i,c,s)}r(c)},sPe=function(t,n,r,i,s){var c=[],h=t.required||!t.required&&i.hasOwnProperty(t.field);if(h){if(is(n)&&!t.required)return r();ji.required(t,n,i,c,s),n!==void 0&&(ji.type(t,n,i,c,s),ji.range(t,n,i,c,s))}r(c)},lPe=function(t,n,r,i,s){var c=[],h=t.required||!t.required&&i.hasOwnProperty(t.field);if(h){if(is(n)&&!t.required)return r();ji.required(t,n,i,c,s),n!==void 0&&(ji.type(t,n,i,c,s),ji.range(t,n,i,c,s))}r(c)},cPe=function(t,n,r,i,s){var c=[],h=t.required||!t.required&&i.hasOwnProperty(t.field);if(h){if(n==null&&!t.required)return r();ji.required(t,n,i,c,s,"array"),n!=null&&(ji.type(t,n,i,c,s),ji.range(t,n,i,c,s))}r(c)},uPe=function(t,n,r,i,s){var c=[],h=t.required||!t.required&&i.hasOwnProperty(t.field);if(h){if(is(n)&&!t.required)return r();ji.required(t,n,i,c,s),n!==void 0&&ji.type(t,n,i,c,s)}r(c)},dPe="enum",hPe=function(t,n,r,i,s){var c=[],h=t.required||!t.required&&i.hasOwnProperty(t.field);if(h){if(is(n)&&!t.required)return r();ji.required(t,n,i,c,s),n!==void 0&&ji[dPe](t,n,i,c,s)}r(c)},pPe=function(t,n,r,i,s){var c=[],h=t.required||!t.required&&i.hasOwnProperty(t.field);if(h){if(is(n,"string")&&!t.required)return r();ji.required(t,n,i,c,s),is(n,"string")||ji.pattern(t,n,i,c,s)}r(c)},fPe=function(t,n,r,i,s){var c=[],h=t.required||!t.required&&i.hasOwnProperty(t.field);if(h){if(is(n,"date")&&!t.required)return r();if(ji.required(t,n,i,c,s),!is(n,"date")){var o;n instanceof Date?o=n:o=new Date(n),ji.type(t,o,i,c,s),o&&ji.range(t,o.getTime(),i,c,s)}}r(c)},mPe=function(t,n,r,i,s){var c=[],h=Array.isArray(n)?"array":typeof n;ji.required(t,n,i,c,s,h),r(c)},V2=function(t,n,r,i,s){var c=t.type,h=[],o=t.required||!t.required&&i.hasOwnProperty(t.field);if(o){if(is(n,c)&&!t.required)return r();ji.required(t,n,i,h,s,c),is(n,c)||ji.type(t,n,i,h,s)}r(h)},gPe=function(t,n,r,i,s){var c=[],h=t.required||!t.required&&i.hasOwnProperty(t.field);if(h){if(is(n)&&!t.required)return r();ji.required(t,n,i,c,s)}r(c)},rw={string:nPe,method:rPe,number:iPe,boolean:oPe,regexp:aPe,integer:sPe,float:lPe,array:cPe,object:uPe,enum:hPe,pattern:pPe,date:fPe,url:V2,hex:V2,email:V2,required:mPe,any:gPe};function o8(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var a8=o8(),cA=function(){function e(n){this.rules=null,this._messages=a8,this.define(n)}var t=e.prototype;return t.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(s){var c=r[s];i.rules[s]=Array.isArray(c)?c:[c]})},t.messages=function(r){return r&&(this._messages=OV(o8(),r)),this._messages},t.validate=function(r,i,s){var c=this;i===void 0&&(i={}),s===void 0&&(s=function(){});var h=r,o=i,m=s;if(typeof o=="function"&&(m=o,o={}),!this.rules||Object.keys(this.rules).length===0)return m&&m(null,h),Promise.resolve(h);function y(I){var N=[],D={};function k(U){if(Array.isArray(U)){var B;N=(B=N).concat.apply(B,U)}else N.push(U)}for(var F=0;F<I.length;F++)k(I[F]);N.length?(D=i8(N),m(N,D)):m(null,h)}if(o.messages){var v=this.messages();v===a8&&(v=o8()),OV(v,o.messages),o.messages=v}else o.messages=this.messages();var S={},C=o.keys||Object.keys(this.rules);C.forEach(function(I){var N=c.rules[I],D=h[I];N.forEach(function(k){var F=k;typeof F.transform=="function"&&(h===r&&(h=gg({},h)),D=h[I]=F.transform(D)),typeof F=="function"?F={validator:F}:F=gg({},F),F.validator=c.getValidationMethod(F),F.validator&&(F.field=I,F.fullField=F.fullField||I,F.type=c.getType(F),S[I]=S[I]||[],S[I].push({rule:F,value:D,source:h,field:I}))})});var P={};return GTe(S,o,function(I,N){var D=I.rule,k=(D.type==="object"||D.type==="array")&&(typeof D.fields=="object"||typeof D.defaultField=="object");k=k&&(D.required||!D.required&&I.value),D.field=I.field;function F(z,W){return gg({},W,{fullField:D.fullField+"."+z,fullFields:D.fullFields?[].concat(D.fullFields,[z]):[z]})}function U(z){z===void 0&&(z=[]);var W=Array.isArray(z)?z:[z];!o.suppressWarning&&W.length&&e.warning("async-validator:",W),W.length&&D.message!==void 0&&(W=[].concat(D.message));var Y=W.map(IV(D,h));if(o.first&&Y.length)return P[D.field]=1,N(Y);if(!k)N(Y);else{if(D.required&&!I.value)return D.message!==void 0?Y=[].concat(D.message).map(IV(D,h)):o.error&&(Y=[o.error(D,xc(o.messages.required,D.field))]),N(Y);var K={};D.defaultField&&Object.keys(I.value).map(function(oe){K[oe]=D.defaultField}),K=gg({},K,I.rule.fields);var ee={};Object.keys(K).forEach(function(oe){var he=K[oe],be=Array.isArray(he)?he:[he];ee[oe]=be.map(F.bind(null,oe))});var re=new e(ee);re.messages(o.messages),I.rule.options&&(I.rule.options.messages=o.messages,I.rule.options.error=o.error),re.validate(I.value,I.rule.options||o,function(oe){var he=[];Y&&Y.length&&he.push.apply(he,Y),oe&&oe.length&&he.push.apply(he,oe),N(he.length?he:null)})}}var B;if(D.asyncValidator)B=D.asyncValidator(D,I.value,U,I.source,o);else if(D.validator){try{B=D.validator(D,I.value,U,I.source,o)}catch(z){console.error==null||console.error(z),o.suppressValidatorError||setTimeout(function(){throw z},0),U(z.message)}B===!0?U():B===!1?U(typeof D.message=="function"?D.message(D.fullField||D.field):D.message||(D.fullField||D.field)+" fails"):B instanceof Array?U(B):B instanceof Error&&U(B.message)}B&&B.then&&B.then(function(){return U()},function(z){return U(z)})},function(I){y(I)},h)},t.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!rw.hasOwnProperty(r.type))throw new Error(xc("Unknown rule type %s",r.type));return r.type||"string"},t.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),s=i.indexOf("message");return s!==-1&&i.splice(s,1),i.length===1&&i[0]==="required"?rw.required:rw[this.getType(r)]||void 0},e}();cA.register=function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");rw[t]=n};cA.warning=UTe;cA.messages=a8;cA.validators=rw;var sc="'${name}' is not a valid ${type}",Voe={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:sc,method:sc,array:sc,object:sc,number:sc,date:sc,boolean:sc,integer:sc,float:sc,regexp:sc,email:sc,url:sc,hex:sc},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},NV=cA;function yPe(e,t){return e.replace(/\$\{\w+\}/g,function(n){var r=n.slice(2,-1);return t[r]})}var RV="CODE_LOGIC_ERROR";function s8(e,t,n,r,i){return l8.apply(this,arguments)}function l8(){return l8=Wf(Rs().mark(function e(t,n,r,i,s){var c,h,o,m,y,v,S,C,P;return Rs().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return c=Ue({},r),delete c.ruleIndex,NV.warning=function(){},c.validator&&(h=c.validator,c.validator=function(){try{return h.apply(void 0,arguments)}catch(D){return console.error(D),Promise.reject(RV)}}),o=null,c&&c.type==="array"&&c.defaultField&&(o=c.defaultField,delete c.defaultField),m=new NV(Ze({},t,[c])),y=Kv(Voe,i.validateMessages),m.messages(y),v=[],N.prev=10,N.next=13,Promise.resolve(m.validate(Ze({},t,n),Ue({},i)));case 13:N.next=18;break;case 15:N.prev=15,N.t0=N.catch(10),N.t0.errors&&(v=N.t0.errors.map(function(D,k){var F=D.message,U=F===RV?y.default:F;return A.isValidElement(U)?A.cloneElement(U,{key:"error_".concat(k)}):U}));case 18:if(!(!v.length&&o)){N.next=23;break}return N.next=21,Promise.all(n.map(function(D,k){return s8("".concat(t,".").concat(k),D,o,i,s)}));case 21:return S=N.sent,N.abrupt("return",S.reduce(function(D,k){return[].concat(zn(D),zn(k))},[]));case 23:return C=Ue(Ue({},r),{},{name:t,enum:(r.enum||[]).join(", ")},s),P=v.map(function(D){return typeof D=="string"?yPe(D,C):D}),N.abrupt("return",P);case 26:case"end":return N.stop()}},e,null,[[10,15]])})),l8.apply(this,arguments)}function vPe(e,t,n,r,i,s){var c=e.join("."),h=n.map(function(y,v){var S=y.validator,C=Ue(Ue({},y),{},{ruleIndex:v});return S&&(C.validator=function(P,I,N){var D=!1,k=function(){for(var B=arguments.length,z=new Array(B),W=0;W<B;W++)z[W]=arguments[W];Promise.resolve().then(function(){ns(!D,"Your validator function has already return a promise. `callback` will be ignored."),D||N.apply(void 0,z)})},F=S(P,I,k);D=F&&typeof F.then=="function"&&typeof F.catch=="function",ns(D,"`callback` is deprecated. Please return a promise instead."),D&&F.then(function(){N()}).catch(function(U){N(U||" ")})}),C}).sort(function(y,v){var S=y.warningOnly,C=y.ruleIndex,P=v.warningOnly,I=v.ruleIndex;return!!S==!!P?C-I:S?1:-1}),o;if(i===!0)o=new Promise(function(){var y=Wf(Rs().mark(function v(S,C){var P,I,N;return Rs().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:P=0;case 1:if(!(P<h.length)){k.next=12;break}return I=h[P],k.next=5,s8(c,t,I,r,s);case 5:if(N=k.sent,!N.length){k.next=9;break}return C([{errors:N,rule:I}]),k.abrupt("return");case 9:P+=1,k.next=1;break;case 12:S([]);case 13:case"end":return k.stop()}},v)}));return function(v,S){return y.apply(this,arguments)}}());else{var m=h.map(function(y){return s8(c,t,y,r,s).then(function(v){return{errors:v,rule:y}})});o=(i?_Pe(m):bPe(m)).then(function(y){return Promise.reject(y)})}return o.catch(function(y){return y}),o}function bPe(e){return c8.apply(this,arguments)}function c8(){return c8=Wf(Rs().mark(function e(t){return Rs().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(t).then(function(i){var s,c=(s=[]).concat.apply(s,zn(i));return c}));case 1:case"end":return r.stop()}},e)})),c8.apply(this,arguments)}function _Pe(e){return u8.apply(this,arguments)}function u8(){return u8=Wf(Rs().mark(function e(t){var n;return Rs().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(s){t.forEach(function(c){c.then(function(h){h.errors.length&&s([h]),n+=1,n===t.length&&s([])})})}));case 2:case"end":return i.stop()}},e)})),u8.apply(this,arguments)}function Ta(e){return t8(e)}function DV(e,t){var n={};return t.forEach(function(r){var i=Bd(e,r);n=Ou(n,r,i)}),n}function f0(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e&&e.some(function(r){return Woe(t,r,n)})}function Woe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!e||!t||!n&&e.length!==t.length?!1:t.every(function(r,i){return e[i]===r})}function xPe(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||Hr(e)!=="object"||Hr(t)!=="object")return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(n,r));return zn(i).every(function(s){var c=e[s],h=t[s];return typeof c=="function"&&typeof h=="function"?!0:c===h})}function wPe(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&Hr(t.target)==="object"&&e in t.target?t.target[e]:t}function LV(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],s=t-n;return s>0?[].concat(zn(e.slice(0,n)),[i],zn(e.slice(n,t)),zn(e.slice(t+1,r))):s<0?[].concat(zn(e.slice(0,t)),zn(e.slice(t+1,n+1)),[i],zn(e.slice(n+1,r))):e}var SPe=["name"],jc=[];function FV(e,t,n,r,i,s){return typeof e=="function"?e(t,n,"source"in s?{source:s.source}:{}):r!==i}var w7=function(e){bl(n,e);var t=ry(n);function n(r){var i;if(Go(this,n),i=t.call(this,r),Ze(di(i),"state",{resetCount:0}),Ze(di(i),"cancelRegisterFunc",null),Ze(di(i),"mounted",!1),Ze(di(i),"touched",!1),Ze(di(i),"dirty",!1),Ze(di(i),"validatePromise",void 0),Ze(di(i),"prevValidating",void 0),Ze(di(i),"errors",jc),Ze(di(i),"warnings",jc),Ze(di(i),"cancelRegister",function(){var o=i.props,m=o.preserve,y=o.isListField,v=o.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(y,m,Ta(v)),i.cancelRegisterFunc=null}),Ze(di(i),"getNamePath",function(){var o=i.props,m=o.name,y=o.fieldContext,v=y.prefixName,S=v===void 0?[]:v;return m!==void 0?[].concat(zn(S),zn(m)):[]}),Ze(di(i),"getRules",function(){var o=i.props,m=o.rules,y=m===void 0?[]:m,v=o.fieldContext;return y.map(function(S){return typeof S=="function"?S(v):S})}),Ze(di(i),"refresh",function(){i.mounted&&i.setState(function(o){var m=o.resetCount;return{resetCount:m+1}})}),Ze(di(i),"metaCache",null),Ze(di(i),"triggerMetaEvent",function(o){var m=i.props.onMetaChange;if(m){var y=Ue(Ue({},i.getMeta()),{},{destroy:o});z0(i.metaCache,y)||m(y),i.metaCache=y}else i.metaCache=null}),Ze(di(i),"onStoreChange",function(o,m,y){var v=i.props,S=v.shouldUpdate,C=v.dependencies,P=C===void 0?[]:C,I=v.onReset,N=y.store,D=i.getNamePath(),k=i.getValue(o),F=i.getValue(N),U=m&&f0(m,D);switch(y.type==="valueUpdate"&&y.source==="external"&&!z0(k,F)&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=jc,i.warnings=jc,i.triggerMetaEvent()),y.type){case"reset":if(!m||U){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=jc,i.warnings=jc,i.triggerMetaEvent(),I==null||I(),i.refresh();return}break;case"remove":{if(S){i.reRender();return}break}case"setField":{var B=y.data;if(U){"touched"in B&&(i.touched=B.touched),"validating"in B&&!("originRCField"in B)&&(i.validatePromise=B.validating?Promise.resolve([]):null),"errors"in B&&(i.errors=B.errors||jc),"warnings"in B&&(i.warnings=B.warnings||jc),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in B&&f0(m,D,!0)){i.reRender();return}if(S&&!D.length&&FV(S,o,N,k,F,y)){i.reRender();return}break}case"dependenciesUpdate":{var z=P.map(Ta);if(z.some(function(W){return f0(y.relatedFields,W)})){i.reRender();return}break}default:if(U||(!P.length||D.length||S)&&FV(S,o,N,k,F,y)){i.reRender();return}break}S===!0&&i.reRender()}),Ze(di(i),"validateRules",function(o){var m=i.getNamePath(),y=i.getValue(),v=o||{},S=v.triggerName,C=v.validateOnly,P=C===void 0?!1:C,I=Promise.resolve().then(Wf(Rs().mark(function N(){var D,k,F,U,B,z,W;return Rs().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(i.mounted){K.next=2;break}return K.abrupt("return",[]);case 2:if(D=i.props,k=D.validateFirst,F=k===void 0?!1:k,U=D.messageVariables,B=D.validateDebounce,z=i.getRules(),S&&(z=z.filter(function(ee){return ee}).filter(function(ee){var re=ee.validateTrigger;if(!re)return!0;var oe=t8(re);return oe.includes(S)})),!(B&&S)){K.next=10;break}return K.next=8,new Promise(function(ee){setTimeout(ee,B)});case 8:if(i.validatePromise===I){K.next=10;break}return K.abrupt("return",[]);case 10:return W=vPe(m,y,z,o,F,U),W.catch(function(ee){return ee}).then(function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jc;if(i.validatePromise===I){var re;i.validatePromise=null;var oe=[],he=[];(re=ee.forEach)===null||re===void 0||re.call(ee,function(be){var le=be.rule.warningOnly,ye=be.errors,fe=ye===void 0?jc:ye;le?he.push.apply(he,zn(fe)):oe.push.apply(oe,zn(fe))}),i.errors=oe,i.warnings=he,i.triggerMetaEvent(),i.reRender()}}),K.abrupt("return",W);case 13:case"end":return K.stop()}},N)})));return P||(i.validatePromise=I,i.dirty=!0,i.errors=jc,i.warnings=jc,i.triggerMetaEvent(),i.reRender()),I}),Ze(di(i),"isFieldValidating",function(){return!!i.validatePromise}),Ze(di(i),"isFieldTouched",function(){return i.touched}),Ze(di(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var o=i.props.fieldContext,m=o.getInternalHooks(mg),y=m.getInitialValue;return y(i.getNamePath())!==void 0}),Ze(di(i),"getErrors",function(){return i.errors}),Ze(di(i),"getWarnings",function(){return i.warnings}),Ze(di(i),"isListField",function(){return i.props.isListField}),Ze(di(i),"isList",function(){return i.props.isList}),Ze(di(i),"isPreserve",function(){return i.props.preserve}),Ze(di(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var o={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return o}),Ze(di(i),"getOnlyChild",function(o){if(typeof o=="function"){var m=i.getMeta();return Ue(Ue({},i.getOnlyChild(o(i.getControlled(),m,i.props.fieldContext))),{},{isFunction:!0})}var y=Pc(o);return y.length!==1||!A.isValidElement(y[0])?{child:y,isFunction:!1}:{child:y[0],isFunction:!1}}),Ze(di(i),"getValue",function(o){var m=i.props.fieldContext.getFieldsValue,y=i.getNamePath();return Bd(o||m(!0),y)}),Ze(di(i),"getControlled",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=i.props,y=m.name,v=m.trigger,S=m.validateTrigger,C=m.getValueFromEvent,P=m.normalize,I=m.valuePropName,N=m.getValueProps,D=m.fieldContext,k=S!==void 0?S:D.validateTrigger,F=i.getNamePath(),U=D.getInternalHooks,B=D.getFieldsValue,z=U(mg),W=z.dispatch,Y=i.getValue(),K=N||function(be){return Ze({},I,be)},ee=o[v],re=y!==void 0?K(Y):{},oe=Ue(Ue({},o),re);oe[v]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var be,le=arguments.length,ye=new Array(le),fe=0;fe<le;fe++)ye[fe]=arguments[fe];C?be=C.apply(void 0,ye):be=wPe.apply(void 0,[I].concat(ye)),P&&(be=P(be,Y,B(!0))),W({type:"updateValue",namePath:F,value:be}),ee&&ee.apply(void 0,ye)};var he=t8(k||[]);return he.forEach(function(be){var le=oe[be];oe[be]=function(){le&&le.apply(void 0,arguments);var ye=i.props.rules;ye&&ye.length&&W({type:"validateField",namePath:F,triggerName:be})}}),oe}),r.fieldContext){var s=r.fieldContext.getInternalHooks,c=s(mg),h=c.initEntityValue;h(di(i))}return i}return Ko(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.shouldUpdate,c=i.fieldContext;if(this.mounted=!0,c){var h=c.getInternalHooks,o=h(mg),m=o.registerField;this.cancelRegisterFunc=m(this)}s===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,s=this.props.children,c=this.getOnlyChild(s),h=c.child,o=c.isFunction,m;return o?m=h:A.isValidElement(h)?m=A.cloneElement(h,this.getControlled(h.props)):(ns(!h,"`children` of Field is not validate ReactElement."),m=h),A.createElement(A.Fragment,{key:i},m)}}]),n}(A.Component);Ze(w7,"contextType",Ug);Ze(w7,"defaultProps",{trigger:"onChange",valuePropName:"value"});function S7(e){var t=e.name,n=Gr(e,SPe),r=A.useContext(Ug),i=A.useContext(Yw),s=t!==void 0?Ta(t):void 0,c="keep";return n.isListField||(c="_".concat((s||[]).join("_"))),A.createElement(w7,Ln({key:c,name:s,isListField:!!i},n,{fieldContext:r}))}function Goe(e){var t=e.name,n=e.initialValue,r=e.children,i=e.rules,s=e.validateTrigger,c=e.isListField,h=A.useContext(Ug),o=A.useContext(Yw),m=A.useRef({keys:[],id:0}),y=m.current,v=A.useMemo(function(){var I=Ta(h.prefixName)||[];return[].concat(zn(I),zn(Ta(t)))},[h.prefixName,t]),S=A.useMemo(function(){return Ue(Ue({},h),{},{prefixName:v})},[h,v]),C=A.useMemo(function(){return{getKey:function(N){var D=v.length,k=N[D];return[y.keys[k],N.slice(D+1)]}}},[v]);if(typeof r!="function")return ns(!1,"Form.List only accepts function as children."),null;var P=function(N,D,k){var F=k.source;return F==="internal"?!1:N!==D};return A.createElement(Yw.Provider,{value:C},A.createElement(Ug.Provider,{value:S},A.createElement(S7,{name:[],shouldUpdate:P,rules:i,validateTrigger:s,initialValue:n,isList:!0,isListField:c??!!o},function(I,N){var D=I.value,k=D===void 0?[]:D,F=I.onChange,U=h.getFieldValue,B=function(){var K=U(v||[]);return K||[]},z={add:function(K,ee){var re=B();ee>=0&&ee<=re.length?(y.keys=[].concat(zn(y.keys.slice(0,ee)),[y.id],zn(y.keys.slice(ee))),F([].concat(zn(re.slice(0,ee)),[K],zn(re.slice(ee))))):(y.keys=[].concat(zn(y.keys),[y.id]),F([].concat(zn(re),[K]))),y.id+=1},remove:function(K){var ee=B(),re=new Set(Array.isArray(K)?K:[K]);re.size<=0||(y.keys=y.keys.filter(function(oe,he){return!re.has(he)}),F(ee.filter(function(oe,he){return!re.has(he)})))},move:function(K,ee){if(K!==ee){var re=B();K<0||K>=re.length||ee<0||ee>=re.length||(y.keys=LV(y.keys,K,ee),F(LV(re,K,ee)))}}},W=k||[];return Array.isArray(W)||(W=[]),r(W.map(function(Y,K){var ee=y.keys[K];return ee===void 0&&(y.keys[K]=y.id,ee=y.keys[K],y.id+=1),{name:K,key:ee,isListField:!0}}),z,N)})))}function APe(e){var t=!1,n=e.length,r=[];return e.length?new Promise(function(i,s){e.forEach(function(c,h){c.catch(function(o){return t=!0,o}).then(function(o){n-=1,r[h]=o,!(n>0)&&(t&&s(r),i(r))})})}):Promise.resolve([])}var Koe="__@field_split__";function W2(e){return e.map(function(t){return"".concat(Hr(t),":").concat(t)}).join(Koe)}var fv=function(){function e(){Go(this,e),Ze(this,"kvs",new Map)}return Ko(e,[{key:"set",value:function(n,r){this.kvs.set(W2(n),r)}},{key:"get",value:function(n){return this.kvs.get(W2(n))}},{key:"update",value:function(n,r){var i=this.get(n),s=r(i);s?this.set(n,s):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(W2(n))}},{key:"map",value:function(n){return zn(this.kvs.entries()).map(function(r){var i=Pt(r,2),s=i[0],c=i[1],h=s.split(Koe);return n({key:h.map(function(o){var m=o.match(/^([^:]*):(.*)$/),y=Pt(m,3),v=y[1],S=y[2];return v==="number"?Number(S):S}),value:c})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,s=r.value;return n[i.join(".")]=s,null}),n}}]),e}(),CPe=["name"],MPe=Ko(function e(t){var n=this;Go(this,e),Ze(this,"formHooked",!1),Ze(this,"forceRootUpdate",void 0),Ze(this,"subscribable",!0),Ze(this,"store",{}),Ze(this,"fieldEntities",[]),Ze(this,"initialValues",{}),Ze(this,"callbacks",{}),Ze(this,"validateMessages",null),Ze(this,"preserve",null),Ze(this,"lastValidatePromise",null),Ze(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),Ze(this,"getInternalHooks",function(r){return r===mg?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(ns(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),Ze(this,"useSubscribe",function(r){n.subscribable=r}),Ze(this,"prevWithoutPreserves",null),Ze(this,"setInitialValues",function(r,i){if(n.initialValues=r||{},i){var s,c=Kv(r,n.store);(s=n.prevWithoutPreserves)===null||s===void 0||s.map(function(h){var o=h.key;c=Ou(c,o,Bd(r,o))}),n.prevWithoutPreserves=null,n.updateStore(c)}}),Ze(this,"destroyForm",function(){var r=new fv;n.getFieldEntities(!0).forEach(function(i){n.isMergedPreserve(i.isPreserve())||r.set(i.getNamePath(),!0)}),n.prevWithoutPreserves=r}),Ze(this,"getInitialValue",function(r){var i=Bd(n.initialValues,r);return r.length?Kv(i):i}),Ze(this,"setCallbacks",function(r){n.callbacks=r}),Ze(this,"setValidateMessages",function(r){n.validateMessages=r}),Ze(this,"setPreserve",function(r){n.preserve=r}),Ze(this,"watchList",[]),Ze(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}}),Ze(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue(),s=n.getFieldsValue(!0);n.watchList.forEach(function(c){c(i,s,r)})}}),Ze(this,"timeoutId",null),Ze(this,"warningUnhooked",function(){}),Ze(this,"updateStore",function(r){n.store=r}),Ze(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities}),Ze(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new fv;return n.getFieldEntities(r).forEach(function(s){var c=s.getNamePath();i.set(c,s)}),i}),Ze(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(s){var c=Ta(s);return i.get(c)||{INVALIDATE_NAME_PATH:Ta(s)}})}),Ze(this,"getFieldsValue",function(r,i){n.warningUnhooked();var s,c,h;if(r===!0||Array.isArray(r)?(s=r,c=i):r&&Hr(r)==="object"&&(h=r.strict,c=r.filter),s===!0&&!c)return n.store;var o=n.getFieldEntitiesForNamePathList(Array.isArray(s)?s:null),m=[];return o.forEach(function(y){var v,S,C="INVALIDATE_NAME_PATH"in y?y.INVALIDATE_NAME_PATH:y.getNamePath();if(h){var P,I;if((P=(I=y).isList)!==null&&P!==void 0&&P.call(I))return}else if(!s&&(v=(S=y).isListField)!==null&&v!==void 0&&v.call(S))return;if(!c)m.push(C);else{var N="getMeta"in y?y.getMeta():null;c(N)&&m.push(C)}}),DV(n.store,m.map(Ta))}),Ze(this,"getFieldValue",function(r){n.warningUnhooked();var i=Ta(r);return Bd(n.store,i)}),Ze(this,"getFieldsError",function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(s,c){return s&&!("INVALIDATE_NAME_PATH"in s)?{name:s.getNamePath(),errors:s.getErrors(),warnings:s.getWarnings()}:{name:Ta(r[c]),errors:[],warnings:[]}})}),Ze(this,"getFieldError",function(r){n.warningUnhooked();var i=Ta(r),s=n.getFieldsError([i])[0];return s.errors}),Ze(this,"getFieldWarning",function(r){n.warningUnhooked();var i=Ta(r),s=n.getFieldsError([i])[0];return s.warnings}),Ze(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var c=i[0],h=i[1],o,m=!1;i.length===0?o=null:i.length===1?Array.isArray(c)?(o=c.map(Ta),m=!1):(o=null,m=c):(o=c.map(Ta),m=h);var y=n.getFieldEntities(!0),v=function(N){return N.isFieldTouched()};if(!o)return m?y.every(function(I){return v(I)||I.isList()}):y.some(v);var S=new fv;o.forEach(function(I){S.set(I,[])}),y.forEach(function(I){var N=I.getNamePath();o.forEach(function(D){D.every(function(k,F){return N[F]===k})&&S.update(D,function(k){return[].concat(zn(k),[I])})})});var C=function(N){return N.some(v)},P=S.map(function(I){var N=I.value;return N});return m?P.every(C):P.some(C)}),Ze(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),Ze(this,"isFieldsValidating",function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(c){return c.isFieldValidating()});var s=r.map(Ta);return i.some(function(c){var h=c.getNamePath();return f0(s,h)&&c.isFieldValidating()})}),Ze(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),Ze(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new fv,s=n.getFieldEntities(!0);s.forEach(function(o){var m=o.props.initialValue,y=o.getNamePath();if(m!==void 0){var v=i.get(y)||new Set;v.add({entity:o,value:m}),i.set(y,v)}});var c=function(m){m.forEach(function(y){var v=y.props.initialValue;if(v!==void 0){var S=y.getNamePath(),C=n.getInitialValue(S);if(C!==void 0)ns(!1,"Form already set 'initialValues' with path '".concat(S.join("."),"'. Field can not overwrite it."));else{var P=i.get(S);if(P&&P.size>1)ns(!1,"Multiple Field with path '".concat(S.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(P){var I=n.getFieldValue(S),N=y.isListField();!N&&(!r.skipExist||I===void 0)&&n.updateStore(Ou(n.store,S,zn(P)[0].value))}}}})},h;r.entities?h=r.entities:r.namePathList?(h=[],r.namePathList.forEach(function(o){var m=i.get(o);if(m){var y;(y=h).push.apply(y,zn(zn(m).map(function(v){return v.entity})))}})):h=s,c(h)}),Ze(this,"resetFields",function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(Kv(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var s=r.map(Ta);s.forEach(function(c){var h=n.getInitialValue(c);n.updateStore(Ou(n.store,c,h))}),n.resetWithFieldInitialValue({namePathList:s}),n.notifyObservers(i,s,{type:"reset"}),n.notifyWatch(s)}),Ze(this,"setFields",function(r){n.warningUnhooked();var i=n.store,s=[];r.forEach(function(c){var h=c.name,o=Gr(c,CPe),m=Ta(h);s.push(m),"value"in o&&n.updateStore(Ou(n.store,m,o.value)),n.notifyObservers(i,[m],{type:"setField",data:c})}),n.notifyWatch(s)}),Ze(this,"getFields",function(){var r=n.getFieldEntities(!0),i=r.map(function(s){var c=s.getNamePath(),h=s.getMeta(),o=Ue(Ue({},h),{},{name:c,value:n.getFieldValue(c)});return Object.defineProperty(o,"originRCField",{value:!0}),o});return i}),Ze(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var s=r.getNamePath(),c=Bd(n.store,s);c===void 0&&n.updateStore(Ou(n.store,s,i))}}),Ze(this,"isMergedPreserve",function(r){var i=r!==void 0?r:n.preserve;return i??!0}),Ze(this,"registerField",function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var s=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(s,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(c,h){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(v){return v!==r}),!n.isMergedPreserve(h)&&(!c||o.length>1)){var m=c?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==m&&n.fieldEntities.every(function(v){return!Woe(v.getNamePath(),i)})){var y=n.store;n.updateStore(Ou(y,i,m,!0)),n.notifyObservers(y,[i],{type:"remove"}),n.triggerDependenciesUpdate(y,i)}}n.notifyWatch([i])}}),Ze(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,s=r.value;n.updateValue(i,s);break}case"validateField":{var c=r.namePath,h=r.triggerName;n.validateFields([c],{triggerName:h});break}}}),Ze(this,"notifyObservers",function(r,i,s){if(n.subscribable){var c=Ue(Ue({},s),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(h){var o=h.onStoreChange;o(r,i,c)})}else n.forceRootUpdate()}),Ze(this,"triggerDependenciesUpdate",function(r,i){var s=n.getDependencyChildrenFields(i);return s.length&&n.validateFields(s),n.notifyObservers(r,s,{type:"dependenciesUpdate",relatedFields:[i].concat(zn(s))}),s}),Ze(this,"updateValue",function(r,i){var s=Ta(r),c=n.store;n.updateStore(Ou(n.store,s,i)),n.notifyObservers(c,[s],{type:"valueUpdate",source:"internal"}),n.notifyWatch([s]);var h=n.triggerDependenciesUpdate(c,s),o=n.callbacks.onValuesChange;if(o){var m=DV(n.store,[s]);o(m,n.getFieldsValue())}n.triggerOnFieldsChange([s].concat(zn(h)))}),Ze(this,"setFieldsValue",function(r){n.warningUnhooked();var i=n.store;if(r){var s=Kv(n.store,r);n.updateStore(s)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),Ze(this,"setFieldValue",function(r,i){n.setFields([{name:r,value:i}])}),Ze(this,"getDependencyChildrenFields",function(r){var i=new Set,s=[],c=new fv;n.getFieldEntities().forEach(function(o){var m=o.props.dependencies;(m||[]).forEach(function(y){var v=Ta(y);c.update(v,function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return S.add(o),S})})});var h=function o(m){var y=c.get(m)||new Set;y.forEach(function(v){if(!i.has(v)){i.add(v);var S=v.getNamePath();v.isFieldDirty()&&S.length&&(s.push(S),o(S))}})};return h(r),s}),Ze(this,"triggerOnFieldsChange",function(r,i){var s=n.callbacks.onFieldsChange;if(s){var c=n.getFields();if(i){var h=new fv;i.forEach(function(m){var y=m.name,v=m.errors;h.set(y,v)}),c.forEach(function(m){m.errors=h.get(m.name)||m.errors})}var o=c.filter(function(m){var y=m.name;return f0(r,y)});o.length&&s(o,c)}}),Ze(this,"validateFields",function(r,i){n.warningUnhooked();var s,c;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(s=r,c=i):c=r;var h=!!s,o=h?s.map(Ta):[],m=[],y=String(Date.now()),v=new Set,S=c||{},C=S.recursive,P=S.dirty;n.getFieldEntities(!0).forEach(function(k){if(h||o.push(k.getNamePath()),!(!k.props.rules||!k.props.rules.length)&&!(P&&!k.isFieldDirty())){var F=k.getNamePath();if(v.add(F.join(y)),!h||f0(o,F,C)){var U=k.validateRules(Ue({validateMessages:Ue(Ue({},Voe),n.validateMessages)},c));m.push(U.then(function(){return{name:F,errors:[],warnings:[]}}).catch(function(B){var z,W=[],Y=[];return(z=B.forEach)===null||z===void 0||z.call(B,function(K){var ee=K.rule.warningOnly,re=K.errors;ee?Y.push.apply(Y,zn(re)):W.push.apply(W,zn(re))}),W.length?Promise.reject({name:F,errors:W,warnings:Y}):{name:F,errors:W,warnings:Y}}))}}});var I=APe(m);n.lastValidatePromise=I,I.catch(function(k){return k}).then(function(k){var F=k.map(function(U){var B=U.name;return B});n.notifyObservers(n.store,F,{type:"validateFinish"}),n.triggerOnFieldsChange(F,k)});var N=I.then(function(){return n.lastValidatePromise===I?Promise.resolve(n.getFieldsValue(o)):Promise.reject([])}).catch(function(k){var F=k.filter(function(U){return U&&U.errors.length});return Promise.reject({values:n.getFieldsValue(o),errorFields:F,outOfDate:n.lastValidatePromise!==I})});N.catch(function(k){return k});var D=o.filter(function(k){return v.has(k.join(y))});return n.triggerOnFieldsChange(D),N}),Ze(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(s){console.error(s)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=t});function A7(e){var t=A.useRef(),n=A.useState({}),r=Pt(n,2),i=r[1];if(!t.current)if(e)t.current=e;else{var s=function(){i({})},c=new MPe(s);t.current=c.getForm()}return[t.current]}var d8=A.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),qoe=function(t){var n=t.validateMessages,r=t.onFormChange,i=t.onFormFinish,s=t.children,c=A.useContext(d8),h=A.useRef({});return A.createElement(d8.Provider,{value:Ue(Ue({},c),{},{validateMessages:Ue(Ue({},c.validateMessages),n),triggerFormChange:function(m,y){r&&r(m,{changedFields:y,forms:h.current}),c.triggerFormChange(m,y)},triggerFormFinish:function(m,y){i&&i(m,{values:y,forms:h.current}),c.triggerFormFinish(m,y)},registerForm:function(m,y){m&&(h.current=Ue(Ue({},h.current),{},Ze({},m,y))),c.registerForm(m,y)},unregisterForm:function(m){var y=Ue({},h.current);delete y[m],h.current=y,c.unregisterForm(m)}})},s)},EPe=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],TPe=function(t,n){var r=t.name,i=t.initialValues,s=t.fields,c=t.form,h=t.preserve,o=t.children,m=t.component,y=m===void 0?"form":m,v=t.validateMessages,S=t.validateTrigger,C=S===void 0?"onChange":S,P=t.onValuesChange,I=t.onFieldsChange,N=t.onFinish,D=t.onFinishFailed,k=Gr(t,EPe),F=A.useContext(d8),U=A7(c),B=Pt(U,1),z=B[0],W=z.getInternalHooks(mg),Y=W.useSubscribe,K=W.setInitialValues,ee=W.setCallbacks,re=W.setValidateMessages,oe=W.setPreserve,he=W.destroyForm;A.useImperativeHandle(n,function(){return z}),A.useEffect(function(){return F.registerForm(r,z),function(){F.unregisterForm(r)}},[F,z,r]),re(Ue(Ue({},F.validateMessages),v)),ee({onValuesChange:P,onFieldsChange:function(Me){if(F.triggerFormChange(r,Me),I){for(var de=arguments.length,ze=new Array(de>1?de-1:0),$e=1;$e<de;$e++)ze[$e-1]=arguments[$e];I.apply(void 0,[Me].concat(ze))}},onFinish:function(Me){F.triggerFormFinish(r,Me),N&&N(Me)},onFinishFailed:D}),oe(h);var be=A.useRef(null);K(i,!be.current),be.current||(be.current=!0),A.useEffect(function(){return he},[]);var le,ye=typeof o=="function";if(ye){var fe=z.getFieldsValue(!0);le=o(fe,z)}else le=o;Y(!ye);var ue=A.useRef();A.useEffect(function(){xPe(ue.current||[],s||[])||z.setFields(s||[]),ue.current=s},[s,z]);var xe=A.useMemo(function(){return Ue(Ue({},z),{},{validateTrigger:C})},[z,C]),ae=A.createElement(Yw.Provider,{value:null},A.createElement(Ug.Provider,{value:xe},le));return y===!1?ae:A.createElement(y,Ln({},k,{onSubmit:function(Me){Me.preventDefault(),Me.stopPropagation(),z.submit()},onReset:function(Me){var de;Me.preventDefault(),z.resetFields(),(de=k.onReset)===null||de===void 0||de.call(k,Me)}}),ae)};function $V(e){try{return JSON.stringify(e)}catch{return Math.random()}}function Xoe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],s=i===void 0?{}:i,c=$Te(s)?{form:s}:s,h=c.form,o=A.useState(),m=Pt(o,2),y=m[0],v=m[1],S=A.useMemo(function(){return $V(y)},[y]),C=A.useRef(S);C.current=S;var P=A.useContext(Ug),I=h||P,N=I&&I._init,D=Ta(r),k=A.useRef(D);return k.current=D,A.useEffect(function(){if(N){var F=I.getFieldsValue,U=I.getInternalHooks,B=U(mg),z=B.registerWatch,W=function(re,oe){var he=c.preserve?oe:re;return typeof r=="function"?r(he):Bd(he,k.current)},Y=z(function(ee,re){var oe=W(ee,re),he=$V(oe);C.current!==he&&(C.current=he,v(oe))}),K=W(F(),F(!0));return y!==K&&v(K),Y}},[N]),y}var PPe=A.forwardRef(TPe),Ob=PPe;Ob.FormProvider=qoe;Ob.Field=S7;Ob.List=Goe;Ob.useForm=A7;Ob.useWatch=Xoe;const ip=A.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),Yoe=A.createContext(null),Joe=e=>{const t=Vl(e,["prefixCls"]);return A.createElement(qoe,Object.assign({},t))},C7=A.createContext({prefixCls:""}),gl=A.createContext({}),aT=e=>{let{children:t,status:n,override:r}=e;const i=A.useContext(gl),s=A.useMemo(()=>{const c=Object.assign({},i);return r&&delete c.isFormItemInput,n&&(delete c.status,delete c.hasFeedback,delete c.feedbackIcon),c},[n,r,i]);return A.createElement(gl.Provider,{value:s},t)},Qoe=A.createContext(void 0),eae=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),IPe=e=>({animationDuration:e,animationFillMode:"both"}),OPe=e=>({animationDuration:e,animationFillMode:"both"}),L3=function(e,t,n,r){const s=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${s}${e}-enter,
      ${s}${e}-appear
    `]:Object.assign(Object.assign({},IPe(r)),{animationPlayState:"paused"}),[`${s}${e}-leave`]:Object.assign(Object.assign({},OPe(r)),{animationPlayState:"paused"}),[`
      ${s}${e}-enter${e}-enter-active,
      ${s}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${s}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},kPe=new Ti("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),NPe=new Ti("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),RPe=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=e,r=`${n}-fade`,i=t?"&":"";return[L3(r,kPe,NPe,e.motionDurationMid,t),{[`
        ${i}${r}-enter,
        ${i}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${r}-leave`]:{animationTimingFunction:"linear"}}]},DPe=new Ti("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),LPe=new Ti("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),FPe=new Ti("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),$Pe=new Ti("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),jPe=new Ti("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),zPe=new Ti("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),BPe=new Ti("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),ZPe=new Ti("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),UPe={"move-up":{inKeyframes:BPe,outKeyframes:ZPe},"move-down":{inKeyframes:DPe,outKeyframes:LPe},"move-left":{inKeyframes:FPe,outKeyframes:$Pe},"move-right":{inKeyframes:jPe,outKeyframes:zPe}},jV=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:s}=UPe[t];return[L3(r,i,s,e.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},tae=new Ti("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),nae=new Ti("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),rae=new Ti("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),iae=new Ti("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),HPe=new Ti("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),VPe=new Ti("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),WPe=new Ti("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),GPe=new Ti("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),KPe={"slide-up":{inKeyframes:tae,outKeyframes:nae},"slide-down":{inKeyframes:rae,outKeyframes:iae},"slide-left":{inKeyframes:HPe,outKeyframes:VPe},"slide-right":{inKeyframes:WPe,outKeyframes:GPe}},sT=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:s}=KPe[t];return[L3(r,i,s,e.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},M7=new Ti("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),qPe=new Ti("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),zV=new Ti("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),BV=new Ti("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),XPe=new Ti("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),YPe=new Ti("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),JPe=new Ti("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),QPe=new Ti("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),e3e=new Ti("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),t3e=new Ti("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),n3e=new Ti("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),r3e=new Ti("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),i3e={zoom:{inKeyframes:M7,outKeyframes:qPe},"zoom-big":{inKeyframes:zV,outKeyframes:BV},"zoom-big-fast":{inKeyframes:zV,outKeyframes:BV},"zoom-left":{inKeyframes:JPe,outKeyframes:QPe},"zoom-right":{inKeyframes:e3e,outKeyframes:t3e},"zoom-up":{inKeyframes:XPe,outKeyframes:YPe},"zoom-down":{inKeyframes:n3e,outKeyframes:r3e}},o3e=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:s}=i3e[t];return[L3(r,i,s,e.motionDurationFast),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]};function a3e(e){return t=>A.createElement(Vf,{theme:{token:{motion:!1,zIndexPopupBase:0}}},A.createElement(e,Object.assign({},t)))}const oae=(e,t,n,r)=>a3e(s=>{const{prefixCls:c,style:h}=s,o=A.useRef(null),[m,y]=A.useState(0),[v,S]=A.useState(0),[C,P]=Ra(!1,{value:s.open}),{getPrefixCls:I}=A.useContext(hi),N=I("select",c);A.useEffect(()=>{if(P(!0),typeof ResizeObserver<"u"){const F=new ResizeObserver(B=>{const z=B[0].target;y(z.offsetHeight+8),S(z.offsetWidth)}),U=setInterval(()=>{var B;const z=`.${N}-dropdown`,W=(B=o.current)===null||B===void 0?void 0:B.querySelector(z);W&&(clearInterval(U),F.observe(W))},10);return()=>{clearInterval(U),F.disconnect()}}},[]);let D=Object.assign(Object.assign({},s),{style:Object.assign(Object.assign({},h),{margin:0}),open:C,visible:C,getPopupContainer:()=>o.current});const k={paddingBottom:m,position:"relative",minWidth:v};return A.createElement("div",{ref:o,style:k},A.createElement(e,Object.assign({},D)))}),F3=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var $3=function(t){var n=t.className,r=t.customizeIcon,i=t.customizeIconProps,s=t.children,c=t.onMouseDown,h=t.onClick,o=typeof r=="function"?r(i):r;return A.createElement("span",{className:n,onMouseDown:function(y){y.preventDefault(),c==null||c(y)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:h,"aria-hidden":!0},o!==void 0?o:A.createElement("span",{className:Dt(n.split(/\s+/).map(function(m){return"".concat(m,"-icon")}))},s))},s3e=function(t,n,r,i,s){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,h=arguments.length>6?arguments[6]:void 0,o=arguments.length>7?arguments[7]:void 0,m=Oe.useMemo(function(){if(Hr(i)==="object")return i.clearIcon;if(s)return s},[i,s]),y=Oe.useMemo(function(){return!!(!c&&i&&(r.length||h)&&!(o==="combobox"&&h===""))},[i,c,r.length,h,o]);return{allowClear:y,clearIcon:Oe.createElement($3,{className:"".concat(t,"-clear"),onMouseDown:n,customizeIcon:m},"×")}},aae=A.createContext(null);function l3e(){return A.useContext(aae)}function c3e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,t=A.useState(!1),n=Pt(t,2),r=n[0],i=n[1],s=A.useRef(null),c=function(){window.clearTimeout(s.current)};A.useEffect(function(){return c},[]);var h=function(m,y){c(),s.current=window.setTimeout(function(){i(m),y&&y()},e)};return[r,h,c]}function sae(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,t=A.useRef(null),n=A.useRef(null);A.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(i){(i||t.current===null)&&(t.current=i),window.clearTimeout(n.current),n.current=window.setTimeout(function(){t.current=null},e)}return[function(){return t.current},r]}function u3e(e,t,n,r){var i=A.useRef(null);i.current={open:t,triggerOpen:n,customizedTrigger:r},A.useEffect(function(){function s(c){var h;if(!((h=i.current)!==null&&h!==void 0&&h.customizedTrigger)){var o=c.target;o.shadowRoot&&c.composed&&(o=c.composedPath()[0]||o),i.current.open&&e().filter(function(m){return m}).every(function(m){return!m.contains(o)&&m!==o})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",s),function(){return window.removeEventListener("mousedown",s)}},[])}function d3e(e){return![tr.ESC,tr.SHIFT,tr.BACKSPACE,tr.TAB,tr.WIN_KEY,tr.ALT,tr.META,tr.WIN_KEY_RIGHT,tr.CTRL,tr.SEMICOLON,tr.EQUALS,tr.CAPS_LOCK,tr.CONTEXT_MENU,tr.F1,tr.F2,tr.F3,tr.F4,tr.F5,tr.F6,tr.F7,tr.F8,tr.F9,tr.F10,tr.F11,tr.F12].includes(e)}var h3e=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],mv=void 0;function p3e(e,t){var n=e.prefixCls,r=e.invalidate,i=e.item,s=e.renderItem,c=e.responsive,h=e.responsiveDisabled,o=e.registerSize,m=e.itemKey,y=e.className,v=e.style,S=e.children,C=e.display,P=e.order,I=e.component,N=I===void 0?"div":I,D=Gr(e,h3e),k=c&&!C;function F(Y){o(m,Y)}A.useEffect(function(){return function(){F(null)}},[]);var U=s&&i!==mv?s(i,{index:P}):S,B;r||(B={opacity:k?0:1,height:k?0:mv,overflowY:k?"hidden":mv,order:c?P:mv,pointerEvents:k?"none":mv,position:k?"absolute":mv});var z={};k&&(z["aria-hidden"]=!0);var W=A.createElement(N,Ln({className:Dt(!r&&n,y),style:Ue(Ue({},B),v)},z,D,{ref:t}),U);return c&&(W=A.createElement(Jc,{onResize:function(K){var ee=K.offsetWidth;F(ee)},disabled:h},W)),W}var iw=A.forwardRef(p3e);iw.displayName="Item";function f3e(e){if(typeof MessageChannel>"u")Mi(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}function m3e(){var e=A.useRef(null),t=function(r){e.current||(e.current=[],f3e(function(){Wa.unstable_batchedUpdates(function(){e.current.forEach(function(i){i()}),e.current=null})})),e.current.push(r)};return t}function px(e,t){var n=A.useState(t),r=Pt(n,2),i=r[0],s=r[1],c=Ia(function(h){e(function(){s(h)})});return[i,c]}var lT=Oe.createContext(null),g3e=["component"],y3e=["className"],v3e=["className"],b3e=function(t,n){var r=A.useContext(lT);if(!r){var i=t.component,s=i===void 0?"div":i,c=Gr(t,g3e);return A.createElement(s,Ln({},c,{ref:n}))}var h=r.className,o=Gr(r,y3e),m=t.className,y=Gr(t,v3e);return A.createElement(lT.Provider,{value:null},A.createElement(iw,Ln({ref:n,className:Dt(h,m)},o,y)))},lae=A.forwardRef(b3e);lae.displayName="RawItem";var _3e=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],cae="responsive",uae="invalidate";function x3e(e){return"+ ".concat(e.length," ...")}function w3e(e,t){var n=e.prefixCls,r=n===void 0?"rc-overflow":n,i=e.data,s=i===void 0?[]:i,c=e.renderItem,h=e.renderRawItem,o=e.itemKey,m=e.itemWidth,y=m===void 0?10:m,v=e.ssr,S=e.style,C=e.className,P=e.maxCount,I=e.renderRest,N=e.renderRawRest,D=e.suffix,k=e.component,F=k===void 0?"div":k,U=e.itemComponent,B=e.onVisibleChange,z=Gr(e,_3e),W=v==="full",Y=m3e(),K=px(Y,null),ee=Pt(K,2),re=ee[0],oe=ee[1],he=re||0,be=px(Y,new Map),le=Pt(be,2),ye=le[0],fe=le[1],ue=px(Y,0),xe=Pt(ue,2),ae=xe[0],Ee=xe[1],Me=px(Y,0),de=Pt(Me,2),ze=de[0],$e=de[1],et=px(Y,0),gt=Pt(et,2),lt=gt[0],We=gt[1],qe=A.useState(null),Qe=Pt(qe,2),Ve=Qe[0],yt=Qe[1],it=A.useState(null),pt=Pt(it,2),$t=pt[0],Jt=pt[1],on=A.useMemo(function(){return $t===null&&W?Number.MAX_SAFE_INTEGER:$t||0},[$t,re]),ln=A.useState(!1),Lt=Pt(ln,2),en=Lt[0],Kt=Lt[1],Zt="".concat(r,"-item"),En=Math.max(ae,ze),Fn=P===cae,je=s.length&&Fn,me=P===uae,we=je||typeof P=="number"&&s.length>P,Ne=A.useMemo(function(){var Sn=s;return je?re===null&&W?Sn=s:Sn=s.slice(0,Math.min(s.length,he/y)):typeof P=="number"&&(Sn=s.slice(0,P)),Sn},[s,y,re,P,je]),Xe=A.useMemo(function(){return je?s.slice(on+1):s.slice(Ne.length)},[s,Ne,je,on]),ot=A.useCallback(function(Sn,an){var kn;return typeof o=="function"?o(Sn):(kn=o&&(Sn==null?void 0:Sn[o]))!==null&&kn!==void 0?kn:an},[o]),st=A.useCallback(c||function(Sn){return Sn},[c]);function _t(Sn,an,kn){$t===Sn&&(an===void 0||an===Ve)||(Jt(Sn),kn||(Kt(Sn<s.length-1),B==null||B(Sn)),an!==void 0&&yt(an))}function nt(Sn,an){oe(an.clientWidth)}function St(Sn,an){fe(function(kn){var hr=new Map(kn);return an===null?hr.delete(Sn):hr.set(Sn,an),hr})}function Et(Sn,an){$e(an),Ee(ze)}function ft(Sn,an){We(an)}function jt(Sn){return ye.get(ot(Ne[Sn],Sn))}so(function(){if(he&&typeof En=="number"&&Ne){var Sn=lt,an=Ne.length,kn=an-1;if(!an){_t(0,null);return}for(var hr=0;hr<an;hr+=1){var Ht=jt(hr);if(W&&(Ht=Ht||0),Ht===void 0){_t(hr-1,void 0,!0);break}if(Sn+=Ht,kn===0&&Sn<=he||hr===kn-1&&Sn+jt(kn)<=he){_t(kn,null);break}else if(Sn+En>he){_t(hr-1,Sn-Ht-lt+ze);break}}D&&jt(0)+lt>he&&yt(null)}},[he,ye,ze,lt,ot,Ne]);var Bn=en&&!!Xe.length,rr={};Ve!==null&&je&&(rr={position:"absolute",left:Ve,top:0});var dr={prefixCls:Zt,responsive:je,component:U,invalidate:me},ar=h?function(Sn,an){var kn=ot(Sn,an);return A.createElement(lT.Provider,{key:kn,value:Ue(Ue({},dr),{},{order:an,item:Sn,itemKey:kn,registerSize:St,display:an<=on})},h(Sn,an))}:function(Sn,an){var kn=ot(Sn,an);return A.createElement(iw,Ln({},dr,{order:an,key:kn,item:Sn,renderItem:st,itemKey:kn,registerSize:St,display:an<=on}))},un={order:Bn?on:Number.MAX_SAFE_INTEGER,className:"".concat(Zt,"-rest"),registerSize:Et,display:Bn},hn=I||x3e,vn=N?A.createElement(lT.Provider,{value:Ue(Ue({},dr),un)},N(Xe)):A.createElement(iw,Ln({},dr,un),typeof hn=="function"?hn(Xe):hn),In=A.createElement(F,Ln({className:Dt(!me&&r,C),style:S,ref:t},z),Ne.map(ar),we?vn:null,D&&A.createElement(iw,Ln({},dr,{responsive:Fn,responsiveDisabled:!je,order:on,className:"".concat(Zt,"-suffix"),registerSize:ft,display:!0,style:rr}),D));return Fn?A.createElement(Jc,{onResize:nt,disabled:!je},In):In}var Gd=A.forwardRef(w3e);Gd.displayName="Overflow";Gd.Item=lae;Gd.RESPONSIVE=cae;Gd.INVALIDATE=uae;var S3e=function(t,n){var r,i=t.prefixCls,s=t.id,c=t.inputElement,h=t.disabled,o=t.tabIndex,m=t.autoFocus,y=t.autoComplete,v=t.editable,S=t.activeDescendantId,C=t.value,P=t.maxLength,I=t.onKeyDown,N=t.onMouseDown,D=t.onChange,k=t.onPaste,F=t.onCompositionStart,U=t.onCompositionEnd,B=t.open,z=t.attrs,W=c||A.createElement("input",null),Y=W,K=Y.ref,ee=Y.props,re=ee.onKeyDown,oe=ee.onChange,he=ee.onMouseDown,be=ee.onCompositionStart,le=ee.onCompositionEnd,ye=ee.style;return"maxLength"in W.props,W=A.cloneElement(W,Ue(Ue(Ue({type:"search"},ee),{},{id:s,ref:el(n,K),disabled:h,tabIndex:o,autoComplete:y||"off",autoFocus:m,className:Dt("".concat(i,"-selection-search-input"),(r=W)===null||r===void 0||(r=r.props)===null||r===void 0?void 0:r.className),role:"combobox","aria-expanded":B||!1,"aria-haspopup":"listbox","aria-owns":"".concat(s,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(s,"_list"),"aria-activedescendant":B?S:void 0},z),{},{value:v?C:"",maxLength:P,readOnly:!v,unselectable:v?null:"on",style:Ue(Ue({},ye),{},{opacity:v?null:0}),onKeyDown:function(ue){I(ue),re&&re(ue)},onMouseDown:function(ue){N(ue),he&&he(ue)},onChange:function(ue){D(ue),oe&&oe(ue)},onCompositionStart:function(ue){F(ue),be&&be(ue)},onCompositionEnd:function(ue){U(ue),le&&le(ue)},onPaste:k})),W},dae=A.forwardRef(S3e);function hae(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}var A3e=typeof window<"u"&&window.document&&window.document.documentElement,C3e=A3e;function M3e(e){return e!=null}function E3e(e){return!e&&e!==0}function ZV(e){return["string","number"].includes(Hr(e))}function pae(e){var t=void 0;return e&&(ZV(e.title)?t=e.title.toString():ZV(e.label)&&(t=e.label.toString())),t}function T3e(e,t){C3e?A.useLayoutEffect(e,t):A.useEffect(e,t)}function P3e(e){var t;return(t=e.key)!==null&&t!==void 0?t:e.value}var UV=function(t){t.preventDefault(),t.stopPropagation()},I3e=function(t){var n=t.id,r=t.prefixCls,i=t.values,s=t.open,c=t.searchValue,h=t.autoClearSearchValue,o=t.inputRef,m=t.placeholder,y=t.disabled,v=t.mode,S=t.showSearch,C=t.autoFocus,P=t.autoComplete,I=t.activeDescendantId,N=t.tabIndex,D=t.removeIcon,k=t.maxTagCount,F=t.maxTagTextLength,U=t.maxTagPlaceholder,B=U===void 0?function(yt){return"+ ".concat(yt.length," ...")}:U,z=t.tagRender,W=t.onToggleOpen,Y=t.onRemove,K=t.onInputChange,ee=t.onInputPaste,re=t.onInputKeyDown,oe=t.onInputMouseDown,he=t.onInputCompositionStart,be=t.onInputCompositionEnd,le=A.useRef(null),ye=A.useState(0),fe=Pt(ye,2),ue=fe[0],xe=fe[1],ae=A.useState(!1),Ee=Pt(ae,2),Me=Ee[0],de=Ee[1],ze="".concat(r,"-selection"),$e=s||v==="multiple"&&h===!1||v==="tags"?c:"",et=v==="tags"||v==="multiple"&&h===!1||S&&(s||Me);T3e(function(){xe(le.current.scrollWidth)},[$e]);var gt=function(it,pt,$t,Jt,on){return A.createElement("span",{title:pae(it),className:Dt("".concat(ze,"-item"),Ze({},"".concat(ze,"-item-disabled"),$t))},A.createElement("span",{className:"".concat(ze,"-item-content")},pt),Jt&&A.createElement($3,{className:"".concat(ze,"-item-remove"),onMouseDown:UV,onClick:on,customizeIcon:D},"×"))},lt=function(it,pt,$t,Jt,on,ln){var Lt=function(Kt){UV(Kt),W(!s)};return A.createElement("span",{onMouseDown:Lt},z({label:pt,value:it,disabled:$t,closable:Jt,onClose:on,isMaxTag:!!ln}))},We=function(it){var pt=it.disabled,$t=it.label,Jt=it.value,on=!y&&!pt,ln=$t;if(typeof F=="number"&&(typeof $t=="string"||typeof $t=="number")){var Lt=String(ln);Lt.length>F&&(ln="".concat(Lt.slice(0,F),"..."))}var en=function(Zt){Zt&&Zt.stopPropagation(),Y(it)};return typeof z=="function"?lt(Jt,ln,pt,on,en):gt(it,ln,pt,on,en)},qe=function(it){var pt=typeof B=="function"?B(it):B;return typeof z=="function"?lt(void 0,pt,!1,!1,void 0,!0):gt({title:pt},pt,!1)},Qe=A.createElement("div",{className:"".concat(ze,"-search"),style:{width:ue},onFocus:function(){de(!0)},onBlur:function(){de(!1)}},A.createElement(dae,{ref:o,open:s,prefixCls:r,id:n,inputElement:null,disabled:y,autoFocus:C,autoComplete:P,editable:et,activeDescendantId:I,value:$e,onKeyDown:re,onMouseDown:oe,onChange:K,onPaste:ee,onCompositionStart:he,onCompositionEnd:be,tabIndex:N,attrs:W0(t,!0)}),A.createElement("span",{ref:le,className:"".concat(ze,"-search-mirror"),"aria-hidden":!0},$e," ")),Ve=A.createElement(Gd,{prefixCls:"".concat(ze,"-overflow"),data:i,renderItem:We,renderRest:qe,suffix:Qe,itemKey:P3e,maxCount:k});return A.createElement(A.Fragment,null,Ve,!i.length&&!$e&&A.createElement("span",{className:"".concat(ze,"-placeholder")},m))},O3e=function(t){var n=t.inputElement,r=t.prefixCls,i=t.id,s=t.inputRef,c=t.disabled,h=t.autoFocus,o=t.autoComplete,m=t.activeDescendantId,y=t.mode,v=t.open,S=t.values,C=t.placeholder,P=t.tabIndex,I=t.showSearch,N=t.searchValue,D=t.activeValue,k=t.maxLength,F=t.onInputKeyDown,U=t.onInputMouseDown,B=t.onInputChange,z=t.onInputPaste,W=t.onInputCompositionStart,Y=t.onInputCompositionEnd,K=t.title,ee=A.useState(!1),re=Pt(ee,2),oe=re[0],he=re[1],be=y==="combobox",le=be||I,ye=S[0],fe=N||"";be&&D&&!oe&&(fe=D),A.useEffect(function(){be&&he(!1)},[be,D]);var ue=y!=="combobox"&&!v&&!I?!1:!!fe,xe=K===void 0?pae(ye):K,ae=A.useMemo(function(){return ye?null:A.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:ue?{visibility:"hidden"}:void 0},C)},[ye,ue,C,r]);return A.createElement(A.Fragment,null,A.createElement("span",{className:"".concat(r,"-selection-search")},A.createElement(dae,{ref:s,prefixCls:r,id:i,open:v,inputElement:n,disabled:c,autoFocus:h,autoComplete:o,editable:le,activeDescendantId:m,value:fe,onKeyDown:F,onMouseDown:U,onChange:function(Me){he(!0),B(Me)},onPaste:z,onCompositionStart:W,onCompositionEnd:Y,tabIndex:P,attrs:W0(t,!0),maxLength:be?k:void 0})),!be&&ye?A.createElement("span",{className:"".concat(r,"-selection-item"),title:xe,style:ue?{visibility:"hidden"}:void 0},ye.label):null,ae)},k3e=function(t,n){var r=A.useRef(null),i=A.useRef(!1),s=t.prefixCls,c=t.open,h=t.mode,o=t.showSearch,m=t.tokenWithEnter,y=t.disabled,v=t.autoClearSearchValue,S=t.onSearch,C=t.onSearchSubmit,P=t.onToggleOpen,I=t.onInputKeyDown,N=t.domRef;A.useImperativeHandle(n,function(){return{focus:function(ue){r.current.focus(ue)},blur:function(){r.current.blur()}}});var D=sae(0),k=Pt(D,2),F=k[0],U=k[1],B=function(ue){var xe=ue.which;(xe===tr.UP||xe===tr.DOWN)&&ue.preventDefault(),I&&I(ue),xe===tr.ENTER&&h==="tags"&&!i.current&&!c&&(C==null||C(ue.target.value)),d3e(xe)&&P(!0)},z=function(){U(!0)},W=A.useRef(null),Y=function(ue){S(ue,!0,i.current)!==!1&&P(!0)},K=function(){i.current=!0},ee=function(ue){i.current=!1,h!=="combobox"&&Y(ue.target.value)},re=function(ue){var xe=ue.target.value;if(m&&W.current&&/[\r\n]/.test(W.current)){var ae=W.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");xe=xe.replace(ae,W.current)}W.current=null,Y(xe)},oe=function(ue){var xe=ue.clipboardData,ae=xe==null?void 0:xe.getData("text");W.current=ae||""},he=function(ue){var xe=ue.target;if(xe!==r.current){var ae=document.body.style.msTouchAction!==void 0;ae?setTimeout(function(){r.current.focus()}):r.current.focus()}},be=function(ue){var xe=F();ue.target!==r.current&&!xe&&!(h==="combobox"&&y)&&ue.preventDefault(),(h!=="combobox"&&(!o||!xe)||!c)&&(c&&v!==!1&&S("",!0,!1),P())},le={inputRef:r,onInputKeyDown:B,onInputMouseDown:z,onInputChange:re,onInputPaste:oe,onInputCompositionStart:K,onInputCompositionEnd:ee},ye=h==="multiple"||h==="tags"?A.createElement(I3e,Ln({},t,le)):A.createElement(O3e,Ln({},t,le));return A.createElement("div",{ref:N,className:"".concat(s,"-selector"),onClick:he,onMouseDown:be},ye)},N3e=A.forwardRef(k3e);function R3e(e){var t=e.prefixCls,n=e.align,r=e.arrow,i=e.arrowPos,s=r||{},c=s.className,h=s.content,o=i.x,m=o===void 0?0:o,y=i.y,v=y===void 0?0:y,S=A.useRef();if(!n||!n.points)return null;var C={position:"absolute"};if(n.autoArrow!==!1){var P=n.points[0],I=n.points[1],N=P[0],D=P[1],k=I[0],F=I[1];N===k||!["t","b"].includes(N)?C.top=v:N==="t"?C.top=0:C.bottom=0,D===F||!["l","r"].includes(D)?C.left=m:D==="l"?C.left=0:C.right=0}return A.createElement("div",{ref:S,className:Dt("".concat(t,"-arrow"),c),style:C},h)}function D3e(e){var t=e.prefixCls,n=e.open,r=e.zIndex,i=e.mask,s=e.motion;return i?A.createElement(nd,Ln({},s,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(c){var h=c.className;return A.createElement("div",{style:{zIndex:r},className:Dt("".concat(t,"-mask"),h)})}):null}var L3e=A.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),F3e=A.forwardRef(function(e,t){var n=e.popup,r=e.className,i=e.prefixCls,s=e.style,c=e.target,h=e.onVisibleChanged,o=e.open,m=e.keepDom,y=e.fresh,v=e.onClick,S=e.mask,C=e.arrow,P=e.arrowPos,I=e.align,N=e.motion,D=e.maskMotion,k=e.forceRender,F=e.getPopupContainer,U=e.autoDestroy,B=e.portal,z=e.zIndex,W=e.onMouseEnter,Y=e.onMouseLeave,K=e.onPointerEnter,ee=e.onPointerDownCapture,re=e.ready,oe=e.offsetX,he=e.offsetY,be=e.offsetR,le=e.offsetB,ye=e.onAlign,fe=e.onPrepare,ue=e.stretch,xe=e.targetWidth,ae=e.targetHeight,Ee=typeof n=="function"?n():n,Me=o||m,de=(F==null?void 0:F.length)>0,ze=A.useState(!F||!de),$e=Pt(ze,2),et=$e[0],gt=$e[1];if(so(function(){!et&&de&&c&&gt(!0)},[et,de,c]),!et)return null;var lt="auto",We={left:"-1000vw",top:"-1000vh",right:lt,bottom:lt};if(re||!o){var qe,Qe=I.points,Ve=I.dynamicInset||((qe=I._experimental)===null||qe===void 0?void 0:qe.dynamicInset),yt=Ve&&Qe[0][1]==="r",it=Ve&&Qe[0][0]==="b";yt?(We.right=be,We.left=lt):(We.left=oe,We.right=lt),it?(We.bottom=le,We.top=lt):(We.top=he,We.bottom=lt)}var pt={};return ue&&(ue.includes("height")&&ae?pt.height=ae:ue.includes("minHeight")&&ae&&(pt.minHeight=ae),ue.includes("width")&&xe?pt.width=xe:ue.includes("minWidth")&&xe&&(pt.minWidth=xe)),o||(pt.pointerEvents="none"),A.createElement(B,{open:k||Me,getContainer:F&&function(){return F(c)},autoDestroy:U},A.createElement(D3e,{prefixCls:i,open:o,zIndex:z,mask:S,motion:D}),A.createElement(Jc,{onResize:ye,disabled:!o},function($t){return A.createElement(nd,Ln({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:k,leavedClassName:"".concat(i,"-hidden")},N,{onAppearPrepare:fe,onEnterPrepare:fe,visible:o,onVisibleChanged:function(on){var ln;N==null||(ln=N.onVisibleChanged)===null||ln===void 0||ln.call(N,on),h(on)}}),function(Jt,on){var ln=Jt.className,Lt=Jt.style,en=Dt(i,ln,r);return A.createElement("div",{ref:el($t,t,on),className:en,style:Ue(Ue(Ue(Ue({"--arrow-x":"".concat(P.x||0,"px"),"--arrow-y":"".concat(P.y||0,"px")},We),pt),Lt),{},{boxSizing:"border-box",zIndex:z},s),onMouseEnter:W,onMouseLeave:Y,onPointerEnter:K,onClick:v,onPointerDownCapture:ee},C&&A.createElement(R3e,{prefixCls:i,arrow:C,arrowPos:P,align:I}),A.createElement(L3e,{cache:!o&&!y},Ee))})}))}),$3e=A.forwardRef(function(e,t){var n=e.children,r=e.getTriggerDOMNode,i=Uf(n),s=A.useCallback(function(h){e7(t,r?r(h):h)},[r]),c=Tb(s,aA(n));return i?A.cloneElement(n,{ref:c}):n}),HV=A.createContext(null);function VV(e){return e?Array.isArray(e)?e:[e]:[]}function j3e(e,t,n,r){return A.useMemo(function(){var i=VV(n??t),s=VV(r??t),c=new Set(i),h=new Set(s);return e&&(c.has("hover")&&(c.delete("hover"),c.add("click")),h.has("hover")&&(h.delete("hover"),h.add("click"))),[c,h]},[e,t,n,r])}function z3e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function B3e(e,t,n,r){for(var i=n.points,s=Object.keys(e),c=0;c<s.length;c+=1){var h,o=s[c];if(z3e((h=e[o])===null||h===void 0?void 0:h.points,i,r))return"".concat(t,"-placement-").concat(o)}return""}function WV(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function uA(e){return e.ownerDocument.defaultView}function h8(e){for(var t=[],n=e==null?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=uA(n).getComputedStyle(n),s=i.overflowX,c=i.overflowY,h=i.overflow;[s,c,h].some(function(o){return r.includes(o)})&&t.push(n),n=n.parentElement}return t}function Qw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function fx(e){return Qw(parseFloat(e),0)}function GV(e,t){var n=Ue({},e);return(t||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var i=uA(r).getComputedStyle(r),s=i.overflow,c=i.overflowClipMargin,h=i.borderTopWidth,o=i.borderBottomWidth,m=i.borderLeftWidth,y=i.borderRightWidth,v=r.getBoundingClientRect(),S=r.offsetHeight,C=r.clientHeight,P=r.offsetWidth,I=r.clientWidth,N=fx(h),D=fx(o),k=fx(m),F=fx(y),U=Qw(Math.round(v.width/P*1e3)/1e3),B=Qw(Math.round(v.height/S*1e3)/1e3),z=(P-I-k-F)*U,W=(S-C-N-D)*B,Y=N*B,K=D*B,ee=k*U,re=F*U,oe=0,he=0;if(s==="clip"){var be=fx(c);oe=be*U,he=be*B}var le=v.x+ee-oe,ye=v.y+Y-he,fe=le+v.width+2*oe-ee-re-z,ue=ye+v.height+2*he-Y-K-W;n.left=Math.max(n.left,le),n.top=Math.max(n.top,ye),n.right=Math.min(n.right,fe),n.bottom=Math.min(n.bottom,ue)}}),n}function KV(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(t),r=n.match(/^(.*)\%$/);return r?e*(parseFloat(r[1])/100):parseFloat(n)}function qV(e,t){var n=t||[],r=Pt(n,2),i=r[0],s=r[1];return[KV(e.width,i),KV(e.height,s)]}function XV(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function gv(e,t){var n=t[0],r=t[1],i,s;return n==="t"?s=e.y:n==="b"?s=e.y+e.height:s=e.y+e.height/2,r==="l"?i=e.x:r==="r"?i=e.x+e.width:i=e.x+e.width/2,{x:i,y:s}}function Kp(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map(function(r,i){return i===t?n[r]||"c":r}).join("")}function Z3e(e,t,n,r,i,s,c){var h=A.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),o=Pt(h,2),m=o[0],y=o[1],v=A.useRef(0),S=A.useMemo(function(){return t?h8(t):[]},[t]),C=A.useRef({}),P=function(){C.current={}};e||P();var I=Ia(function(){if(t&&n&&e){let Xo=function(aa,Hi){var Qn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:En,wl=ze.x+aa,gr=ze.y+Hi,Sl=wl+yt,xn=gr+Ve,jr=Math.max(wl,Qn.left),pi=Math.max(gr,Qn.top),Rn=Math.min(Sl,Qn.right),go=Math.min(xn,Qn.bottom);return Math.max(0,(Rn-jr)*(go-pi))},xl=function(){kt=ze.y+kn,Cn=kt+Ve,$n=ze.x+an,_n=$n+yt};var Kr=Xo,ah=xl,k,F,U,B,z=t,W=z.ownerDocument,Y=uA(z),K=Y.getComputedStyle(z),ee=K.width,re=K.height,oe=K.position,he=z.style.left,be=z.style.top,le=z.style.right,ye=z.style.bottom,fe=z.style.overflow,ue=Ue(Ue({},i[r]),s),xe=W.createElement("div");(k=z.parentElement)===null||k===void 0||k.appendChild(xe),xe.style.left="".concat(z.offsetLeft,"px"),xe.style.top="".concat(z.offsetTop,"px"),xe.style.position=oe,xe.style.height="".concat(z.offsetHeight,"px"),xe.style.width="".concat(z.offsetWidth,"px"),z.style.left="0",z.style.top="0",z.style.right="auto",z.style.bottom="auto",z.style.overflow="hidden";var ae;if(Array.isArray(n))ae={x:n[0],y:n[1],width:0,height:0};else{var Ee,Me,de=n.getBoundingClientRect();de.x=(Ee=de.x)!==null&&Ee!==void 0?Ee:de.left,de.y=(Me=de.y)!==null&&Me!==void 0?Me:de.top,ae={x:de.x,y:de.y,width:de.width,height:de.height}}var ze=z.getBoundingClientRect();ze.x=(F=ze.x)!==null&&F!==void 0?F:ze.left,ze.y=(U=ze.y)!==null&&U!==void 0?U:ze.top;var $e=W.documentElement,et=$e.clientWidth,gt=$e.clientHeight,lt=$e.scrollWidth,We=$e.scrollHeight,qe=$e.scrollTop,Qe=$e.scrollLeft,Ve=ze.height,yt=ze.width,it=ae.height,pt=ae.width,$t={left:0,top:0,right:et,bottom:gt},Jt={left:-Qe,top:-qe,right:lt-Qe,bottom:We-qe},on=ue.htmlRegion,ln="visible",Lt="visibleFirst";on!=="scroll"&&on!==Lt&&(on=ln);var en=on===Lt,Kt=GV(Jt,S),Zt=GV($t,S),En=on===ln?Zt:Kt,Fn=en?Zt:En;z.style.left="auto",z.style.top="auto",z.style.right="0",z.style.bottom="0";var je=z.getBoundingClientRect();z.style.left=he,z.style.top=be,z.style.right=le,z.style.bottom=ye,z.style.overflow=fe,(B=z.parentElement)===null||B===void 0||B.removeChild(xe);var me=Qw(Math.round(yt/parseFloat(ee)*1e3)/1e3),we=Qw(Math.round(Ve/parseFloat(re)*1e3)/1e3);if(me===0||we===0||Zw(n)&&!N3(n))return;var Ne=ue.offset,Xe=ue.targetOffset,ot=qV(ze,Ne),st=Pt(ot,2),_t=st[0],nt=st[1],St=qV(ae,Xe),Et=Pt(St,2),ft=Et[0],jt=Et[1];ae.x-=ft,ae.y-=jt;var Bn=ue.points||[],rr=Pt(Bn,2),dr=rr[0],ar=rr[1],un=XV(ar),hn=XV(dr),vn=gv(ae,un),In=gv(ze,hn),Sn=Ue({},ue),an=vn.x-In.x+_t,kn=vn.y-In.y+nt,hr=Xo(an,kn),Ht=Xo(an,kn,Zt),Un=gv(ae,["t","l"]),rt=gv(ze,["t","l"]),ut=gv(ae,["b","r"]),Tt=gv(ze,["b","r"]),Rt=ue.overflow||{},Gt=Rt.adjustX,Qt=Rt.adjustY,zt=Rt.shiftX,dt=Rt.shiftY,At=function(Hi){return typeof Hi=="boolean"?Hi:Hi>=0},kt,Cn,$n,_n;xl();var sr=At(Qt),zr=hn[0]===un[0];if(sr&&hn[0]==="t"&&(Cn>Fn.bottom||C.current.bt)){var cn=kn;zr?cn-=Ve-it:cn=Un.y-Tt.y-nt;var Nn=Xo(an,cn),pr=Xo(an,cn,Zt);Nn>hr||Nn===hr&&(!en||pr>=Ht)?(C.current.bt=!0,kn=cn,nt=-nt,Sn.points=[Kp(hn,0),Kp(un,0)]):C.current.bt=!1}if(sr&&hn[0]==="b"&&(kt<Fn.top||C.current.tb)){var qn=kn;zr?qn+=Ve-it:qn=ut.y-rt.y-nt;var li=Xo(an,qn),Po=Xo(an,qn,Zt);li>hr||li===hr&&(!en||Po>=Ht)?(C.current.tb=!0,kn=qn,nt=-nt,Sn.points=[Kp(hn,0),Kp(un,0)]):C.current.tb=!1}var wi=At(Gt),ss=hn[1]===un[1];if(wi&&hn[1]==="l"&&(_n>Fn.right||C.current.rl)){var $o=an;ss?$o-=yt-pt:$o=Un.x-Tt.x-_t;var xa=Xo($o,kn),wa=Xo($o,kn,Zt);xa>hr||xa===hr&&(!en||wa>=Ht)?(C.current.rl=!0,an=$o,_t=-_t,Sn.points=[Kp(hn,1),Kp(un,1)]):C.current.rl=!1}if(wi&&hn[1]==="r"&&($n<Fn.left||C.current.lr)){var qo=an;ss?qo+=yt-pt:qo=ut.x-rt.x-_t;var _l=Xo(qo,kn),xs=Xo(qo,kn,Zt);_l>hr||_l===hr&&(!en||xs>=Ht)?(C.current.lr=!0,an=qo,_t=-_t,Sn.points=[Kp(hn,1),Kp(un,1)]):C.current.lr=!1}xl();var Ka=zt===!0?0:zt;typeof Ka=="number"&&($n<Zt.left&&(an-=$n-Zt.left-_t,ae.x+pt<Zt.left+Ka&&(an+=ae.x-Zt.left+pt-Ka)),_n>Zt.right&&(an-=_n-Zt.right-_t,ae.x>Zt.right-Ka&&(an+=ae.x-Zt.right+Ka)));var pa=dt===!0?0:dt;typeof pa=="number"&&(kt<Zt.top&&(kn-=kt-Zt.top-nt,ae.y+it<Zt.top+pa&&(kn+=ae.y-Zt.top+it-pa)),Cn>Zt.bottom&&(kn-=Cn-Zt.bottom-nt,ae.y>Zt.bottom-pa&&(kn+=ae.y-Zt.bottom+pa)));var Pi=ze.x+an,ci=Pi+yt,lr=ze.y+kn,cr=lr+Ve,kr=ae.x,ur=kr+pt,Ui=ae.y,wo=Ui+it,oa=Math.max(Pi,kr),qa=Math.min(ci,ur),Ji=(oa+qa)/2,La=Ji-Pi,ls=Math.max(lr,Ui),cs=Math.min(cr,wo),Pn=(ls+cs)/2,ni=Pn-lr;c==null||c(t,Sn);var Xr=je.right-ze.x-(an+ze.width),jo=je.bottom-ze.y-(kn+ze.height);me===1&&(an=Math.round(an),Xr=Math.round(Xr)),we===1&&(kn=Math.round(kn),jo=Math.round(jo));var Rc={ready:!0,offsetX:an/me,offsetY:kn/we,offsetR:Xr/me,offsetB:jo/we,arrowX:La/me,arrowY:ni/we,scaleX:me,scaleY:we,align:Sn};y(Rc)}}),N=function(){v.current+=1;var F=v.current;Promise.resolve().then(function(){v.current===F&&I()})},D=function(){y(function(F){return Ue(Ue({},F),{},{ready:!1})})};return so(D,[r]),so(function(){e||D()},[e]),[m.ready,m.offsetX,m.offsetY,m.offsetR,m.offsetB,m.arrowX,m.arrowY,m.scaleX,m.scaleY,m.align,N]}function U3e(e,t,n,r,i){so(function(){if(e&&t&&n){let S=function(){r(),i()};var v=S,s=t,c=n,h=h8(s),o=h8(c),m=uA(c),y=new Set([m].concat(zn(h),zn(o)));return y.forEach(function(C){C.addEventListener("scroll",S,{passive:!0})}),m.addEventListener("resize",S,{passive:!0}),r(),function(){y.forEach(function(C){C.removeEventListener("scroll",S),m.removeEventListener("resize",S)})}}},[e,t,n])}function H3e(e,t,n,r,i,s,c,h){var o=A.useRef(e);o.current=e;var m=A.useRef(!1);A.useEffect(function(){if(t&&r&&(!i||s)){var v=function(){m.current=!1},S=function(N){var D;o.current&&!c(((D=N.composedPath)===null||D===void 0||(D=D.call(N))===null||D===void 0?void 0:D[0])||N.target)&&!m.current&&h(!1)},C=uA(r);C.addEventListener("pointerdown",v,!0),C.addEventListener("mousedown",S,!0),C.addEventListener("contextmenu",S,!0);var P=rT(n);return P&&(P.addEventListener("mousedown",S,!0),P.addEventListener("contextmenu",S,!0)),function(){C.removeEventListener("pointerdown",v,!0),C.removeEventListener("mousedown",S,!0),C.removeEventListener("contextmenu",S,!0),P&&(P.removeEventListener("mousedown",S,!0),P.removeEventListener("contextmenu",S,!0))}}},[t,n,r,i,s]);function y(){m.current=!0}return y}var V3e=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function W3e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Uoe,t=A.forwardRef(function(n,r){var i=n.prefixCls,s=i===void 0?"rc-trigger-popup":i,c=n.children,h=n.action,o=h===void 0?"hover":h,m=n.showAction,y=n.hideAction,v=n.popupVisible,S=n.defaultPopupVisible,C=n.onPopupVisibleChange,P=n.afterPopupVisibleChange,I=n.mouseEnterDelay,N=n.mouseLeaveDelay,D=N===void 0?.1:N,k=n.focusDelay,F=n.blurDelay,U=n.mask,B=n.maskClosable,z=B===void 0?!0:B,W=n.getPopupContainer,Y=n.forceRender,K=n.autoDestroy,ee=n.destroyPopupOnHide,re=n.popup,oe=n.popupClassName,he=n.popupStyle,be=n.popupPlacement,le=n.builtinPlacements,ye=le===void 0?{}:le,fe=n.popupAlign,ue=n.zIndex,xe=n.stretch,ae=n.getPopupClassNameFromAlign,Ee=n.fresh,Me=n.alignPoint,de=n.onPopupClick,ze=n.onPopupAlign,$e=n.arrow,et=n.popupMotion,gt=n.maskMotion,lt=n.popupTransitionName,We=n.popupAnimation,qe=n.maskTransitionName,Qe=n.maskAnimation,Ve=n.className,yt=n.getTriggerDOMNode,it=Gr(n,V3e),pt=K||ee||!1,$t=A.useState(!1),Jt=Pt($t,2),on=Jt[0],ln=Jt[1];so(function(){ln(F3())},[]);var Lt=A.useRef({}),en=A.useContext(HV),Kt=A.useMemo(function(){return{registerSubPopup:function(jr,pi){Lt.current[jr]=pi,en==null||en.registerSubPopup(jr,pi)}}},[en]),Zt=LTe(),En=A.useState(null),Fn=Pt(En,2),je=Fn[0],me=Fn[1],we=A.useRef(null),Ne=Ia(function(xn){we.current=xn,Zw(xn)&&je!==xn&&me(xn),en==null||en.registerSubPopup(Zt,xn)}),Xe=A.useState(null),ot=Pt(Xe,2),st=ot[0],_t=ot[1],nt=A.useRef(null),St=Ia(function(xn){Zw(xn)&&st!==xn&&(_t(xn),nt.current=xn)}),Et=A.Children.only(c),ft=(Et==null?void 0:Et.props)||{},jt={},Bn=Ia(function(xn){var jr,pi,Rn=st;return(Rn==null?void 0:Rn.contains(xn))||((jr=rT(Rn))===null||jr===void 0?void 0:jr.host)===xn||xn===Rn||(je==null?void 0:je.contains(xn))||((pi=rT(je))===null||pi===void 0?void 0:pi.host)===xn||xn===je||Object.values(Lt.current).some(function(go){return(go==null?void 0:go.contains(xn))||xn===go})}),rr=WV(s,et,We,lt),dr=WV(s,gt,Qe,qe),ar=A.useState(S||!1),un=Pt(ar,2),hn=un[0],vn=un[1],In=v??hn,Sn=Ia(function(xn){v===void 0&&vn(xn)});so(function(){vn(v||!1)},[v]);var an=A.useRef(In);an.current=In;var kn=A.useRef([]);kn.current=[];var hr=Ia(function(xn){var jr;Sn(xn),((jr=kn.current[kn.current.length-1])!==null&&jr!==void 0?jr:In)!==xn&&(kn.current.push(xn),C==null||C(xn))}),Ht=A.useRef(),Un=function(){clearTimeout(Ht.current)},rt=function(jr){var pi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Un(),pi===0?hr(jr):Ht.current=setTimeout(function(){hr(jr)},pi*1e3)};A.useEffect(function(){return Un},[]);var ut=A.useState(!1),Tt=Pt(ut,2),Rt=Tt[0],Gt=Tt[1];so(function(xn){(!xn||In)&&Gt(!0)},[In]);var Qt=A.useState(null),zt=Pt(Qt,2),dt=zt[0],At=zt[1],kt=A.useState(null),Cn=Pt(kt,2),$n=Cn[0],_n=Cn[1],sr=function(jr){_n([jr.clientX,jr.clientY])},zr=Z3e(In,je,Me&&$n!==null?$n:st,be,ye,fe,ze),cn=Pt(zr,11),Nn=cn[0],pr=cn[1],qn=cn[2],li=cn[3],Po=cn[4],wi=cn[5],ss=cn[6],$o=cn[7],xa=cn[8],wa=cn[9],qo=cn[10],_l=j3e(on,o,m,y),xs=Pt(_l,2),Ka=xs[0],pa=xs[1],Pi=Ka.has("click"),ci=pa.has("click")||pa.has("contextMenu"),lr=Ia(function(){Rt||qo()}),cr=function(){an.current&&Me&&ci&&rt(!1)};U3e(In,st,je,lr,cr),so(function(){lr()},[$n,be]),so(function(){In&&!(ye!=null&&ye[be])&&lr()},[JSON.stringify(fe)]);var kr=A.useMemo(function(){var xn=B3e(ye,s,wa,Me);return Dt(xn,ae==null?void 0:ae(wa))},[wa,ae,ye,s,Me]);A.useImperativeHandle(r,function(){return{nativeElement:nt.current,popupElement:we.current,forceAlign:lr}});var ur=A.useState(0),Ui=Pt(ur,2),wo=Ui[0],oa=Ui[1],qa=A.useState(0),Ji=Pt(qa,2),La=Ji[0],ls=Ji[1],cs=function(){if(xe&&st){var jr=st.getBoundingClientRect();oa(jr.width),ls(jr.height)}},Pn=function(){cs(),lr()},ni=function(jr){Gt(!1),qo(),P==null||P(jr)},Xr=function(){return new Promise(function(jr){cs(),At(function(){return jr})})};so(function(){dt&&(qo(),dt(),At(null))},[dt]);function jo(xn,jr,pi,Rn){jt[xn]=function(go){var Al;Rn==null||Rn(go),rt(jr,pi);for(var So=arguments.length,ws=new Array(So>1?So-1:0),rl=1;rl<So;rl++)ws[rl-1]=arguments[rl];(Al=ft[xn])===null||Al===void 0||Al.call.apply(Al,[ft,go].concat(ws))}}(Pi||ci)&&(jt.onClick=function(xn){var jr;an.current&&ci?rt(!1):!an.current&&Pi&&(sr(xn),rt(!0));for(var pi=arguments.length,Rn=new Array(pi>1?pi-1:0),go=1;go<pi;go++)Rn[go-1]=arguments[go];(jr=ft.onClick)===null||jr===void 0||jr.call.apply(jr,[ft,xn].concat(Rn))});var Rc=H3e(In,ci,st,je,U,z,Bn,rt),Kr=Ka.has("hover"),ah=pa.has("hover"),Xo,xl;Kr&&(jo("onMouseEnter",!0,I,function(xn){sr(xn)}),jo("onPointerEnter",!0,I,function(xn){sr(xn)}),Xo=function(jr){(In||Rt)&&je!==null&&je!==void 0&&je.contains(jr.target)&&rt(!0,I)},Me&&(jt.onMouseMove=function(xn){var jr;(jr=ft.onMouseMove)===null||jr===void 0||jr.call(ft,xn)})),ah&&(jo("onMouseLeave",!1,D),jo("onPointerLeave",!1,D),xl=function(){rt(!1,D)}),Ka.has("focus")&&jo("onFocus",!0,k),pa.has("focus")&&jo("onBlur",!1,F),Ka.has("contextMenu")&&(jt.onContextMenu=function(xn){var jr;an.current&&pa.has("contextMenu")?rt(!1):(sr(xn),rt(!0)),xn.preventDefault();for(var pi=arguments.length,Rn=new Array(pi>1?pi-1:0),go=1;go<pi;go++)Rn[go-1]=arguments[go];(jr=ft.onContextMenu)===null||jr===void 0||jr.call.apply(jr,[ft,xn].concat(Rn))}),Ve&&(jt.className=Dt(ft.className,Ve));var aa=Ue(Ue({},ft),jt),Hi={},Qn=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Qn.forEach(function(xn){it[xn]&&(Hi[xn]=function(){for(var jr,pi=arguments.length,Rn=new Array(pi),go=0;go<pi;go++)Rn[go]=arguments[go];(jr=aa[xn])===null||jr===void 0||jr.call.apply(jr,[aa].concat(Rn)),it[xn].apply(it,Rn)})});var wl=A.cloneElement(Et,Ue(Ue({},aa),Hi)),gr={x:wi,y:ss},Sl=$e?Ue({},$e!==!0?$e:{}):null;return A.createElement(A.Fragment,null,A.createElement(Jc,{disabled:!In,ref:St,onResize:Pn},A.createElement($3e,{getTriggerDOMNode:yt},wl)),A.createElement(HV.Provider,{value:Kt},A.createElement(F3e,{portal:e,ref:Ne,prefixCls:s,popup:re,className:Dt(oe,kr),style:he,target:st,onMouseEnter:Xo,onMouseLeave:xl,onPointerEnter:Xo,zIndex:ue,open:In,keepDom:Rt,fresh:Ee,onClick:de,onPointerDownCapture:Rc,mask:U,motion:rr,maskMotion:dr,onVisibleChanged:ni,onPrepare:Xr,forceRender:Y,autoDestroy:pt,getPopupContainer:W,align:wa,arrow:Sl,arrowPos:gr,ready:Nn,offsetX:pr,offsetY:qn,offsetR:li,offsetB:Po,onAlign:lr,stretch:xe,targetWidth:wo/$o,targetHeight:La/xa})))});return t}const j3=W3e(Uoe);var G3e=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],K3e=function(t){var n=t===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},q3e=function(t,n){var r=t.prefixCls;t.disabled;var i=t.visible,s=t.children,c=t.popupElement,h=t.animation,o=t.transitionName,m=t.dropdownStyle,y=t.dropdownClassName,v=t.direction,S=v===void 0?"ltr":v,C=t.placement,P=t.builtinPlacements,I=t.dropdownMatchSelectWidth,N=t.dropdownRender,D=t.dropdownAlign,k=t.getPopupContainer,F=t.empty,U=t.getTriggerDOMNode,B=t.onPopupVisibleChange,z=t.onPopupMouseEnter,W=Gr(t,G3e),Y="".concat(r,"-dropdown"),K=c;N&&(K=N(c));var ee=A.useMemo(function(){return P||K3e(I)},[P,I]),re=h?"".concat(Y,"-").concat(h):o,oe=typeof I=="number",he=A.useMemo(function(){return oe?null:I===!1?"minWidth":"width"},[I,oe]),be=m;oe&&(be=Ue(Ue({},be),{},{width:I}));var le=A.useRef(null);return A.useImperativeHandle(n,function(){return{getPopupElement:function(){var fe;return(fe=le.current)===null||fe===void 0?void 0:fe.popupElement}}}),A.createElement(j3,Ln({},W,{showAction:B?["click"]:[],hideAction:B?["click"]:[],popupPlacement:C||(S==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:ee,prefixCls:Y,popupTransitionName:re,popup:A.createElement("div",{onMouseEnter:z},K),ref:le,stretch:he,popupAlign:D,popupVisible:i,getPopupContainer:k,popupClassName:Dt(y,Ze({},"".concat(Y,"-empty"),F)),popupStyle:be,getTriggerDOMNode:U,onPopupVisibleChange:B}),s)},X3e=A.forwardRef(q3e);function YV(e,t){var n=e.key,r;return"value"in e&&(r=e.value),n??(r!==void 0?r:"rc-index-key-".concat(t))}function p8(e){return typeof e<"u"&&!Number.isNaN(e)}function fae(e,t){var n=e||{},r=n.label,i=n.value,s=n.options,c=n.groupLabel,h=r||(t?"children":"label");return{label:h,value:i||"value",options:s||"options",groupLabel:c||h}}function Y3e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,i=[],s=fae(n,!1),c=s.label,h=s.value,o=s.options,m=s.groupLabel;function y(v,S){Array.isArray(v)&&v.forEach(function(C){if(S||!(o in C)){var P=C[h];i.push({key:YV(C,i.length),groupOption:S,data:C,label:C[c],value:P})}else{var I=C[m];I===void 0&&r&&(I=C.label),i.push({key:YV(C,i.length),group:!0,data:C,label:I}),y(C[o],!0)}})}return y(e,!1),i}function f8(e){var t=Ue({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return ns(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var J3e=function(t,n,r){if(!n||!n.length)return null;var i=!1,s=function h(o,m){var y=Zie(m),v=y[0],S=y.slice(1);if(!v)return[o];var C=o.split(v);return i=i||C.length>1,C.reduce(function(P,I){return[].concat(zn(P),zn(h(I,S)))},[]).filter(Boolean)},c=s(t,n);return i?typeof r<"u"?c.slice(0,r):c:null},E7=A.createContext(null);function Q3e(e){var t=e.visible,n=e.values;if(!t)return null;var r=50;return A.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,r).map(function(i){var s=i.label,c=i.value;return["number","string"].includes(Hr(s))?s:c}).join(", ")),n.length>r?", ...":null)}var e4e=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],t4e=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],m8=function(t){return t==="tags"||t==="multiple"},n4e=A.forwardRef(function(e,t){var n,r=e.id,i=e.prefixCls,s=e.className,c=e.showSearch,h=e.tagRender,o=e.direction,m=e.omitDomProps,y=e.displayValues,v=e.onDisplayValuesChange,S=e.emptyOptions,C=e.notFoundContent,P=C===void 0?"Not Found":C,I=e.onClear,N=e.mode,D=e.disabled,k=e.loading,F=e.getInputElement,U=e.getRawInputElement,B=e.open,z=e.defaultOpen,W=e.onDropdownVisibleChange,Y=e.activeValue,K=e.onActiveValueChange,ee=e.activeDescendantId,re=e.searchValue,oe=e.autoClearSearchValue,he=e.onSearch,be=e.onSearchSplit,le=e.tokenSeparators,ye=e.allowClear,fe=e.suffixIcon,ue=e.clearIcon,xe=e.OptionList,ae=e.animation,Ee=e.transitionName,Me=e.dropdownStyle,de=e.dropdownClassName,ze=e.dropdownMatchSelectWidth,$e=e.dropdownRender,et=e.dropdownAlign,gt=e.placement,lt=e.builtinPlacements,We=e.getPopupContainer,qe=e.showAction,Qe=qe===void 0?[]:qe,Ve=e.onFocus,yt=e.onBlur,it=e.onKeyUp,pt=e.onKeyDown,$t=e.onMouseDown,Jt=Gr(e,e4e),on=m8(N),ln=(c!==void 0?c:on)||N==="combobox",Lt=Ue({},Jt);t4e.forEach(function(lr){delete Lt[lr]}),m==null||m.forEach(function(lr){delete Lt[lr]});var en=A.useState(!1),Kt=Pt(en,2),Zt=Kt[0],En=Kt[1];A.useEffect(function(){En(F3())},[]);var Fn=A.useRef(null),je=A.useRef(null),me=A.useRef(null),we=A.useRef(null),Ne=A.useRef(null),Xe=A.useRef(!1),ot=c3e(),st=Pt(ot,3),_t=st[0],nt=st[1],St=st[2];A.useImperativeHandle(t,function(){var lr,cr;return{focus:(lr=we.current)===null||lr===void 0?void 0:lr.focus,blur:(cr=we.current)===null||cr===void 0?void 0:cr.blur,scrollTo:function(ur){var Ui;return(Ui=Ne.current)===null||Ui===void 0?void 0:Ui.scrollTo(ur)}}});var Et=A.useMemo(function(){var lr;if(N!=="combobox")return re;var cr=(lr=y[0])===null||lr===void 0?void 0:lr.value;return typeof cr=="string"||typeof cr=="number"?String(cr):""},[re,N,y]),ft=N==="combobox"&&typeof F=="function"&&F()||null,jt=typeof U=="function"&&U(),Bn=Tb(je,jt==null||(n=jt.props)===null||n===void 0?void 0:n.ref),rr=A.useState(!1),dr=Pt(rr,2),ar=dr[0],un=dr[1];so(function(){un(!0)},[]);var hn=Ra(!1,{defaultValue:z,value:B}),vn=Pt(hn,2),In=vn[0],Sn=vn[1],an=ar?In:!1,kn=!P&&S;(D||kn&&an&&N==="combobox")&&(an=!1);var hr=kn?!1:an,Ht=A.useCallback(function(lr){var cr=lr!==void 0?lr:!an;D||(Sn(cr),an!==cr&&(W==null||W(cr)))},[D,an,Sn,W]),Un=A.useMemo(function(){return(le||[]).some(function(lr){return[`
`,`\r
`].includes(lr)})},[le]),rt=A.useContext(E7)||{},ut=rt.maxCount,Tt=rt.rawValues,Rt=function(cr,kr,ur){if(!(on&&p8(ut)&&(Tt==null?void 0:Tt.size)>=ut)){var Ui=!0,wo=cr;K==null||K(null);var oa=J3e(cr,le,p8(ut)?ut-Tt.size:void 0),qa=ur?null:oa;return N!=="combobox"&&qa&&(wo="",be==null||be(qa),Ht(!1),Ui=!1),he&&Et!==wo&&he(wo,{source:kr?"typing":"effect"}),Ui}},Gt=function(cr){!cr||!cr.trim()||he(cr,{source:"submit"})};A.useEffect(function(){!an&&!on&&N!=="combobox"&&Rt("",!1,!1)},[an]),A.useEffect(function(){In&&D&&Sn(!1),D&&!Xe.current&&nt(!1)},[D]);var Qt=sae(),zt=Pt(Qt,2),dt=zt[0],At=zt[1],kt=function(cr){var kr=dt(),ur=cr.which;if(ur===tr.ENTER&&(N!=="combobox"&&cr.preventDefault(),an||Ht(!0)),At(!!Et),ur===tr.BACKSPACE&&!kr&&on&&!Et&&y.length){for(var Ui=zn(y),wo=null,oa=Ui.length-1;oa>=0;oa-=1){var qa=Ui[oa];if(!qa.disabled){Ui.splice(oa,1),wo=qa;break}}wo&&v(Ui,{type:"remove",values:[wo]})}for(var Ji=arguments.length,La=new Array(Ji>1?Ji-1:0),ls=1;ls<Ji;ls++)La[ls-1]=arguments[ls];if(an){var cs;(cs=Ne.current)===null||cs===void 0||cs.onKeyDown.apply(cs,[cr].concat(La))}pt==null||pt.apply(void 0,[cr].concat(La))},Cn=function(cr){for(var kr=arguments.length,ur=new Array(kr>1?kr-1:0),Ui=1;Ui<kr;Ui++)ur[Ui-1]=arguments[Ui];if(an){var wo;(wo=Ne.current)===null||wo===void 0||wo.onKeyUp.apply(wo,[cr].concat(ur))}it==null||it.apply(void 0,[cr].concat(ur))},$n=function(cr){var kr=y.filter(function(ur){return ur!==cr});v(kr,{type:"remove",values:[cr]})},_n=A.useRef(!1),sr=function(){nt(!0),D||(Ve&&!_n.current&&Ve.apply(void 0,arguments),Qe.includes("focus")&&Ht(!0)),_n.current=!0},zr=function(){Xe.current=!0,nt(!1,function(){_n.current=!1,Xe.current=!1,Ht(!1)}),!D&&(Et&&(N==="tags"?he(Et,{source:"submit"}):N==="multiple"&&he("",{source:"blur"})),yt&&yt.apply(void 0,arguments))},cn=[];A.useEffect(function(){return function(){cn.forEach(function(lr){return clearTimeout(lr)}),cn.splice(0,cn.length)}},[]);var Nn=function(cr){var kr,ur=cr.target,Ui=(kr=me.current)===null||kr===void 0?void 0:kr.getPopupElement();if(Ui&&Ui.contains(ur)){var wo=setTimeout(function(){var La=cn.indexOf(wo);if(La!==-1&&cn.splice(La,1),St(),!Zt&&!Ui.contains(document.activeElement)){var ls;(ls=we.current)===null||ls===void 0||ls.focus()}});cn.push(wo)}for(var oa=arguments.length,qa=new Array(oa>1?oa-1:0),Ji=1;Ji<oa;Ji++)qa[Ji-1]=arguments[Ji];$t==null||$t.apply(void 0,[cr].concat(qa))},pr=A.useState({}),qn=Pt(pr,2),li=qn[1];function Po(){li({})}var wi;jt&&(wi=function(cr){Ht(cr)}),u3e(function(){var lr;return[Fn.current,(lr=me.current)===null||lr===void 0?void 0:lr.getPopupElement()]},hr,Ht,!!jt);var ss=A.useMemo(function(){return Ue(Ue({},e),{},{notFoundContent:P,open:an,triggerOpen:hr,id:r,showSearch:ln,multiple:on,toggleOpen:Ht})},[e,P,hr,an,r,ln,on,Ht]),$o=!!fe||k,xa;$o&&(xa=A.createElement($3,{className:Dt("".concat(i,"-arrow"),Ze({},"".concat(i,"-arrow-loading"),k)),customizeIcon:fe,customizeIconProps:{loading:k,searchValue:Et,open:an,focused:_t,showSearch:ln}}));var wa=function(){var cr;I==null||I(),(cr=we.current)===null||cr===void 0||cr.focus(),v([],{type:"clear",values:y}),Rt("",!1,!1)},qo=s3e(i,wa,y,ye,ue,D,Et,N),_l=qo.allowClear,xs=qo.clearIcon,Ka=A.createElement(xe,{ref:Ne}),pa=Dt(i,s,Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze({},"".concat(i,"-focused"),_t),"".concat(i,"-multiple"),on),"".concat(i,"-single"),!on),"".concat(i,"-allow-clear"),ye),"".concat(i,"-show-arrow"),$o),"".concat(i,"-disabled"),D),"".concat(i,"-loading"),k),"".concat(i,"-open"),an),"".concat(i,"-customize-input"),ft),"".concat(i,"-show-search"),ln)),Pi=A.createElement(X3e,{ref:me,disabled:D,prefixCls:i,visible:hr,popupElement:Ka,animation:ae,transitionName:Ee,dropdownStyle:Me,dropdownClassName:de,direction:o,dropdownMatchSelectWidth:ze,dropdownRender:$e,dropdownAlign:et,placement:gt,builtinPlacements:lt,getPopupContainer:We,empty:S,getTriggerDOMNode:function(cr){return je.current||cr},onPopupVisibleChange:wi,onPopupMouseEnter:Po},jt?A.cloneElement(jt,{ref:Bn}):A.createElement(N3e,Ln({},e,{domRef:je,prefixCls:i,inputElement:ft,ref:we,id:r,showSearch:ln,autoClearSearchValue:oe,mode:N,activeDescendantId:ee,tagRender:h,values:y,open:an,onToggleOpen:Ht,activeValue:Y,searchValue:Et,onSearch:Rt,onSearchSubmit:Gt,onRemove:$n,tokenWithEnter:Un}))),ci;return jt?ci=Pi:ci=A.createElement("div",Ln({className:pa},Lt,{ref:Fn,onMouseDown:Nn,onKeyDown:kt,onKeyUp:Cn,onFocus:sr,onBlur:zr}),A.createElement(Q3e,{visible:_t&&!an,values:y}),Pi,xa,_l&&xs),A.createElement(aae.Provider,{value:ss},ci)}),T7=function(){return null};T7.isSelectOptGroup=!0;var P7=function(){return null};P7.isSelectOption=!0;var mae=A.forwardRef(function(e,t){var n=e.height,r=e.offsetY,i=e.offsetX,s=e.children,c=e.prefixCls,h=e.onInnerResize,o=e.innerProps,m=e.rtl,y=e.extra,v={},S={display:"flex",flexDirection:"column"};return r!==void 0&&(v={height:n,position:"relative",overflow:"hidden"},S=Ue(Ue({},S),{},Ze(Ze(Ze(Ze(Ze({transform:"translateY(".concat(r,"px)")},m?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),A.createElement("div",{style:v},A.createElement(Jc,{onResize:function(P){var I=P.offsetHeight;I&&h&&h()}},A.createElement("div",Ln({style:S,className:Dt(Ze({},"".concat(c,"-holder-inner"),c)),ref:t},o),s,y)))});mae.displayName="Filler";function r4e(e){var t=e.children,n=e.setRef,r=A.useCallback(function(i){n(i)},[]);return A.cloneElement(t,{ref:r})}function i4e(e,t,n,r,i,s,c,h){var o=h.getKey;return e.slice(t,n+1).map(function(m,y){var v=t+y,S=c(m,v,{style:{width:r},offsetX:i}),C=o(m);return A.createElement(r4e,{key:C,setRef:function(I){return s(m,I)}},S)})}function o4e(e,t,n){var r=e.length,i=t.length,s,c;if(r===0&&i===0)return null;r<i?(s=e,c=t):(s=t,c=e);var h={__EMPTY_ITEM__:!0};function o(P){return P!==void 0?n(P):h}for(var m=null,y=Math.abs(r-i)!==1,v=0;v<c.length;v+=1){var S=o(s[v]),C=o(c[v]);if(S!==C){m=v,y=y||S!==o(c[v+1]);break}}return m===null?null:{index:m,multiple:y}}function a4e(e,t,n){var r=A.useState(e),i=Pt(r,2),s=i[0],c=i[1],h=A.useState(null),o=Pt(h,2),m=o[0],y=o[1];return A.useEffect(function(){var v=o4e(s||[],e||[],t);(v==null?void 0:v.index)!==void 0&&y(e[v.index]),c(e)},[e]),[m]}var JV=(typeof navigator>"u"?"undefined":Hr(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const gae=function(e,t,n,r){var i=A.useRef(!1),s=A.useRef(null);function c(){clearTimeout(s.current),i.current=!0,s.current=setTimeout(function(){i.current=!1},50)}var h=A.useRef({top:e,bottom:t,left:n,right:r});return h.current.top=e,h.current.bottom=t,h.current.left=n,h.current.right=r,function(o,m){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=o?m<0&&h.current.left||m>0&&h.current.right:m<0&&h.current.top||m>0&&h.current.bottom;return y&&v?(clearTimeout(s.current),i.current=!1):(!v||i.current)&&c(),!i.current&&v}};function s4e(e,t,n,r,i,s,c){var h=A.useRef(0),o=A.useRef(null),m=A.useRef(null),y=A.useRef(!1),v=gae(t,n,r,i);function S(k,F){if(Mi.cancel(o.current),!v(!1,F)){var U=k;if(!U._virtualHandled)U._virtualHandled=!0;else return;h.current+=F,m.current=F,JV||U.preventDefault(),o.current=Mi(function(){var B=y.current?10:1;c(h.current*B,!1),h.current=0})}}function C(k,F){c(F,!0),JV||k.preventDefault()}var P=A.useRef(null),I=A.useRef(null);function N(k){if(e){Mi.cancel(I.current),I.current=Mi(function(){P.current=null},2);var F=k.deltaX,U=k.deltaY,B=k.shiftKey,z=F,W=U;(P.current==="sx"||!P.current&&B&&U&&!F)&&(z=U,W=0,P.current="sx");var Y=Math.abs(z),K=Math.abs(W);P.current===null&&(P.current=s&&Y>K?"x":"y"),P.current==="y"?S(k,W):C(k,z)}}function D(k){e&&(y.current=k.detail===m.current)}return[N,D]}function l4e(e,t,n,r){var i=A.useMemo(function(){return[new Map,[]]},[e,n.id,r]),s=Pt(i,2),c=s[0],h=s[1],o=function(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,S=c.get(y),C=c.get(v);if(S===void 0||C===void 0)for(var P=e.length,I=h.length;I<P;I+=1){var N,D=e[I],k=t(D);c.set(k,I);var F=(N=n.get(k))!==null&&N!==void 0?N:r;if(h[I]=(h[I-1]||0)+F,k===y&&(S=I),k===v&&(C=I),S!==void 0&&C!==void 0)break}return{top:h[S-1]||0,bottom:h[C]}};return o}var c4e=function(){function e(){Go(this,e),Ze(this,"maps",void 0),Ze(this,"id",0),Ze(this,"diffKeys",new Set),this.maps=Object.create(null)}return Ko(e,[{key:"set",value:function(n,r){this.maps[n]=r,this.id+=1,this.diffKeys.add(n)}},{key:"get",value:function(n){return this.maps[n]}},{key:"resetRecord",value:function(){this.diffKeys.clear()}},{key:"getRecord",value:function(){return this.diffKeys}}]),e}();function QV(e){var t=parseFloat(e);return isNaN(t)?0:t}function u4e(e,t,n){var r=A.useState(0),i=Pt(r,2),s=i[0],c=i[1],h=A.useRef(new Map),o=A.useRef(new c4e),m=A.useRef(0);function y(){m.current+=1}function v(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;y();var P=function(){var D=!1;h.current.forEach(function(k,F){if(k&&k.offsetParent){var U=k.offsetHeight,B=getComputedStyle(k),z=B.marginTop,W=B.marginBottom,Y=QV(z),K=QV(W),ee=U+Y+K;o.current.get(F)!==ee&&(o.current.set(F,ee),D=!0)}}),D&&c(function(k){return k+1})};if(C)P();else{m.current+=1;var I=m.current;Promise.resolve().then(function(){I===m.current&&P()})}}function S(C,P){var I=e(C);h.current.get(I),P?(h.current.set(I,P),v()):h.current.delete(I)}return A.useEffect(function(){return y},[]),[S,v,o.current,s]}var eW=14/15;function d4e(e,t,n){var r=A.useRef(!1),i=A.useRef(0),s=A.useRef(0),c=A.useRef(null),h=A.useRef(null),o,m=function(C){if(r.current){var P=Math.ceil(C.touches[0].pageX),I=Math.ceil(C.touches[0].pageY),N=i.current-P,D=s.current-I,k=Math.abs(N)>Math.abs(D);k?i.current=P:s.current=I;var F=n(k,k?N:D,!1,C);F&&C.preventDefault(),clearInterval(h.current),F&&(h.current=setInterval(function(){k?N*=eW:D*=eW;var U=Math.floor(k?N:D);(!n(k,U,!0)||Math.abs(U)<=.1)&&clearInterval(h.current)},16))}},y=function(){r.current=!1,o()},v=function(C){o(),C.touches.length===1&&!r.current&&(r.current=!0,i.current=Math.ceil(C.touches[0].pageX),s.current=Math.ceil(C.touches[0].pageY),c.current=C.target,c.current.addEventListener("touchmove",m,{passive:!1}),c.current.addEventListener("touchend",y,{passive:!0}))};o=function(){c.current&&(c.current.removeEventListener("touchmove",m),c.current.removeEventListener("touchend",y))},so(function(){return e&&t.current.addEventListener("touchstart",v,{passive:!0}),function(){var S;(S=t.current)===null||S===void 0||S.removeEventListener("touchstart",v),o(),clearInterval(h.current)}},[e])}function tW(e){return Math.floor(Math.pow(e,.5))}function g8(e,t){var n="touches"in e?e.touches[0]:e;return n[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}function h4e(e,t,n){A.useEffect(function(){var r=t.current;if(e&&r){var i=!1,s,c,h=function(){Mi.cancel(s)},o=function S(){h(),s=Mi(function(){n(c),S()})},m=function(C){if(!C.target.draggable){var P=C;P._virtualHandled||(P._virtualHandled=!0,i=!0)}},y=function(){i=!1,h()},v=function(C){if(i){var P=g8(C,!1),I=r.getBoundingClientRect(),N=I.top,D=I.bottom;if(P<=N){var k=N-P;c=-tW(k),o()}else if(P>=D){var F=P-D;c=tW(F),o()}else h()}};return r.addEventListener("mousedown",m),r.ownerDocument.addEventListener("mouseup",y),r.ownerDocument.addEventListener("mousemove",v),function(){r.removeEventListener("mousedown",m),r.ownerDocument.removeEventListener("mouseup",y),r.ownerDocument.removeEventListener("mousemove",v),h()}}},[e])}var p4e=10;function f4e(e,t,n,r,i,s,c,h){var o=A.useRef(),m=A.useState(null),y=Pt(m,2),v=y[0],S=y[1];return so(function(){if(v&&v.times<p4e){if(!e.current){S(function(xe){return Ue({},xe)});return}s();var C=v.targetAlign,P=v.originAlign,I=v.index,N=v.offset,D=e.current.clientHeight,k=!1,F=C,U=null;if(D){for(var B=C||P,z=0,W=0,Y=0,K=Math.min(t.length-1,I),ee=0;ee<=K;ee+=1){var re=i(t[ee]);W=z;var oe=n.get(re);Y=W+(oe===void 0?r:oe),z=Y}for(var he=B==="top"?N:D-N,be=K;be>=0;be-=1){var le=i(t[be]),ye=n.get(le);if(ye===void 0){k=!0;break}if(he-=ye,he<=0)break}switch(B){case"top":U=W-N;break;case"bottom":U=Y-D+N;break;default:{var fe=e.current.scrollTop,ue=fe+D;W<fe?F="top":Y>ue&&(F="bottom")}}U!==null&&c(U),U!==v.lastTop&&(k=!0)}k&&S(Ue(Ue({},v),{},{times:v.times+1,targetAlign:F,lastTop:U}))}},[v,e.current]),function(C){if(C==null){h();return}if(Mi.cancel(o.current),typeof C=="number")c(C);else if(C&&Hr(C)==="object"){var P,I=C.align;"index"in C?P=C.index:P=t.findIndex(function(k){return i(k)===C.key});var N=C.offset,D=N===void 0?0:N;S({times:0,index:P,offset:D,originAlign:I})}}}var nW=A.forwardRef(function(e,t){var n=e.prefixCls,r=e.rtl,i=e.scrollOffset,s=e.scrollRange,c=e.onStartMove,h=e.onStopMove,o=e.onScroll,m=e.horizontal,y=e.spinSize,v=e.containerSize,S=e.style,C=e.thumbStyle,P=e.showScrollBar,I=A.useState(!1),N=Pt(I,2),D=N[0],k=N[1],F=A.useState(null),U=Pt(F,2),B=U[0],z=U[1],W=A.useState(null),Y=Pt(W,2),K=Y[0],ee=Y[1],re=!r,oe=A.useRef(),he=A.useRef(),be=A.useState(P),le=Pt(be,2),ye=le[0],fe=le[1],ue=A.useRef(),xe=function(){P===!0||P===!1||(clearTimeout(ue.current),fe(!0),ue.current=setTimeout(function(){fe(!1)},3e3))},ae=s-v||0,Ee=v-y||0,Me=A.useMemo(function(){if(i===0||ae===0)return 0;var Qe=i/ae;return Qe*Ee},[i,ae,Ee]),de=function(Ve){Ve.stopPropagation(),Ve.preventDefault()},ze=A.useRef({top:Me,dragging:D,pageY:B,startTop:K});ze.current={top:Me,dragging:D,pageY:B,startTop:K};var $e=function(Ve){k(!0),z(g8(Ve,m)),ee(ze.current.top),c(),Ve.stopPropagation(),Ve.preventDefault()};A.useEffect(function(){var Qe=function(pt){pt.preventDefault()},Ve=oe.current,yt=he.current;return Ve.addEventListener("touchstart",Qe,{passive:!1}),yt.addEventListener("touchstart",$e,{passive:!1}),function(){Ve.removeEventListener("touchstart",Qe),yt.removeEventListener("touchstart",$e)}},[]);var et=A.useRef();et.current=ae;var gt=A.useRef();gt.current=Ee,A.useEffect(function(){if(D){var Qe,Ve=function(pt){var $t=ze.current,Jt=$t.dragging,on=$t.pageY,ln=$t.startTop;Mi.cancel(Qe);var Lt=oe.current.getBoundingClientRect(),en=v/(m?Lt.width:Lt.height);if(Jt){var Kt=(g8(pt,m)-on)*en,Zt=ln;!re&&m?Zt-=Kt:Zt+=Kt;var En=et.current,Fn=gt.current,je=Fn?Zt/Fn:0,me=Math.ceil(je*En);me=Math.max(me,0),me=Math.min(me,En),Qe=Mi(function(){o(me,m)})}},yt=function(){k(!1),h()};return window.addEventListener("mousemove",Ve,{passive:!0}),window.addEventListener("touchmove",Ve,{passive:!0}),window.addEventListener("mouseup",yt,{passive:!0}),window.addEventListener("touchend",yt,{passive:!0}),function(){window.removeEventListener("mousemove",Ve),window.removeEventListener("touchmove",Ve),window.removeEventListener("mouseup",yt),window.removeEventListener("touchend",yt),Mi.cancel(Qe)}}},[D]),A.useEffect(function(){return xe(),function(){clearTimeout(ue.current)}},[i]),A.useImperativeHandle(t,function(){return{delayHidden:xe}});var lt="".concat(n,"-scrollbar"),We={position:"absolute",visibility:ye?null:"hidden"},qe={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return m?(We.height=8,We.left=0,We.right=0,We.bottom=0,qe.height="100%",qe.width=y,re?qe.left=Me:qe.right=Me):(We.width=8,We.top=0,We.bottom=0,re?We.right=0:We.left=0,qe.width="100%",qe.height=y,qe.top=Me),A.createElement("div",{ref:oe,className:Dt(lt,Ze(Ze(Ze({},"".concat(lt,"-horizontal"),m),"".concat(lt,"-vertical"),!m),"".concat(lt,"-visible"),ye)),style:Ue(Ue({},We),S),onMouseDown:de,onMouseMove:xe},A.createElement("div",{ref:he,className:Dt("".concat(lt,"-thumb"),Ze({},"".concat(lt,"-thumb-moving"),D)),style:Ue(Ue({},qe),C),onMouseDown:$e}))}),m4e=20;function rW(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=e/t*e;return isNaN(n)&&(n=0),n=Math.max(n,m4e),Math.floor(n)}var g4e=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],y4e=[],v4e={overflowY:"auto",overflowAnchor:"none"};function b4e(e,t){var n=e.prefixCls,r=n===void 0?"rc-virtual-list":n,i=e.className,s=e.height,c=e.itemHeight,h=e.fullHeight,o=h===void 0?!0:h,m=e.style,y=e.data,v=e.children,S=e.itemKey,C=e.virtual,P=e.direction,I=e.scrollWidth,N=e.component,D=N===void 0?"div":N,k=e.onScroll,F=e.onVirtualScroll,U=e.onVisibleChange,B=e.innerProps,z=e.extraRender,W=e.styles,Y=e.showScrollBar,K=Y===void 0?"optional":Y,ee=Gr(e,g4e),re=A.useCallback(function(cn){return typeof S=="function"?S(cn):cn==null?void 0:cn[S]},[S]),oe=u4e(re),he=Pt(oe,4),be=he[0],le=he[1],ye=he[2],fe=he[3],ue=!!(C!==!1&&s&&c),xe=A.useMemo(function(){return Object.values(ye.maps).reduce(function(cn,Nn){return cn+Nn},0)},[ye.id,ye.maps]),ae=ue&&y&&(Math.max(c*y.length,xe)>s||!!I),Ee=P==="rtl",Me=Dt(r,Ze({},"".concat(r,"-rtl"),Ee),i),de=y||y4e,ze=A.useRef(),$e=A.useRef(),et=A.useRef(),gt=A.useState(0),lt=Pt(gt,2),We=lt[0],qe=lt[1],Qe=A.useState(0),Ve=Pt(Qe,2),yt=Ve[0],it=Ve[1],pt=A.useState(!1),$t=Pt(pt,2),Jt=$t[0],on=$t[1],ln=function(){on(!0)},Lt=function(){on(!1)},en={getKey:re};function Kt(cn){qe(function(Nn){var pr;typeof cn=="function"?pr=cn(Nn):pr=cn;var qn=hn(pr);return ze.current.scrollTop=qn,qn})}var Zt=A.useRef({start:0,end:de.length}),En=A.useRef(),Fn=a4e(de,re),je=Pt(Fn,1),me=je[0];En.current=me;var we=A.useMemo(function(){if(!ue)return{scrollHeight:void 0,start:0,end:de.length-1,offset:void 0};if(!ae){var cn;return{scrollHeight:((cn=$e.current)===null||cn===void 0?void 0:cn.offsetHeight)||0,start:0,end:de.length-1,offset:void 0}}for(var Nn=0,pr,qn,li,Po=de.length,wi=0;wi<Po;wi+=1){var ss=de[wi],$o=re(ss),xa=ye.get($o),wa=Nn+(xa===void 0?c:xa);wa>=We&&pr===void 0&&(pr=wi,qn=Nn),wa>We+s&&li===void 0&&(li=wi),Nn=wa}return pr===void 0&&(pr=0,qn=0,li=Math.ceil(s/c)),li===void 0&&(li=de.length-1),li=Math.min(li+1,de.length-1),{scrollHeight:Nn,start:pr,end:li,offset:qn}},[ae,ue,We,de,fe,s]),Ne=we.scrollHeight,Xe=we.start,ot=we.end,st=we.offset;Zt.current.start=Xe,Zt.current.end=ot,A.useLayoutEffect(function(){var cn=ye.getRecord();if(cn.size===1){var Nn=Array.from(cn)[0],pr=de[Xe];if(pr){var qn=re(pr);if(qn===Nn){var li=ye.get(Nn),Po=li-c;Kt(function(wi){return wi+Po})}}}ye.resetRecord()},[Ne]);var _t=A.useState({width:0,height:s}),nt=Pt(_t,2),St=nt[0],Et=nt[1],ft=function(Nn){Et({width:Nn.offsetWidth,height:Nn.offsetHeight})},jt=A.useRef(),Bn=A.useRef(),rr=A.useMemo(function(){return rW(St.width,I)},[St.width,I]),dr=A.useMemo(function(){return rW(St.height,Ne)},[St.height,Ne]),ar=Ne-s,un=A.useRef(ar);un.current=ar;function hn(cn){var Nn=cn;return Number.isNaN(un.current)||(Nn=Math.min(Nn,un.current)),Nn=Math.max(Nn,0),Nn}var vn=We<=0,In=We>=ar,Sn=yt<=0,an=yt>=I,kn=gae(vn,In,Sn,an),hr=function(){return{x:Ee?-yt:yt,y:We}},Ht=A.useRef(hr()),Un=Ia(function(cn){if(F){var Nn=Ue(Ue({},hr()),cn);(Ht.current.x!==Nn.x||Ht.current.y!==Nn.y)&&(F(Nn),Ht.current=Nn)}});function rt(cn,Nn){var pr=cn;Nn?(Wa.flushSync(function(){it(pr)}),Un()):Kt(pr)}function ut(cn){var Nn=cn.currentTarget.scrollTop;Nn!==We&&Kt(Nn),k==null||k(cn),Un()}var Tt=function(Nn){var pr=Nn,qn=I?I-St.width:0;return pr=Math.max(pr,0),pr=Math.min(pr,qn),pr},Rt=Ia(function(cn,Nn){Nn?(Wa.flushSync(function(){it(function(pr){var qn=pr+(Ee?-cn:cn);return Tt(qn)})}),Un()):Kt(function(pr){var qn=pr+cn;return qn})}),Gt=s4e(ue,vn,In,Sn,an,!!I,Rt),Qt=Pt(Gt,2),zt=Qt[0],dt=Qt[1];d4e(ue,ze,function(cn,Nn,pr,qn){var li=qn;return kn(cn,Nn,pr)?!1:!li||!li._virtualHandled?(li&&(li._virtualHandled=!0),zt({preventDefault:function(){},deltaX:cn?Nn:0,deltaY:cn?0:Nn}),!0):!1}),h4e(ae,ze,function(cn){Kt(function(Nn){return Nn+cn})}),so(function(){function cn(pr){var qn=vn&&pr.detail<0,li=In&&pr.detail>0;ue&&!qn&&!li&&pr.preventDefault()}var Nn=ze.current;return Nn.addEventListener("wheel",zt,{passive:!1}),Nn.addEventListener("DOMMouseScroll",dt,{passive:!0}),Nn.addEventListener("MozMousePixelScroll",cn,{passive:!1}),function(){Nn.removeEventListener("wheel",zt),Nn.removeEventListener("DOMMouseScroll",dt),Nn.removeEventListener("MozMousePixelScroll",cn)}},[ue,vn,In]),so(function(){if(I){var cn=Tt(yt);it(cn),Un({x:cn})}},[St.width,I]);var At=function(){var Nn,pr;(Nn=jt.current)===null||Nn===void 0||Nn.delayHidden(),(pr=Bn.current)===null||pr===void 0||pr.delayHidden()},kt=f4e(ze,de,ye,c,re,function(){return le(!0)},Kt,At);A.useImperativeHandle(t,function(){return{nativeElement:et.current,getScrollInfo:hr,scrollTo:function(Nn){function pr(qn){return qn&&Hr(qn)==="object"&&("left"in qn||"top"in qn)}pr(Nn)?(Nn.left!==void 0&&it(Tt(Nn.left)),kt(Nn.top)):kt(Nn)}}}),so(function(){if(U){var cn=de.slice(Xe,ot+1);U(cn,de)}},[Xe,ot,de]);var Cn=l4e(de,re,ye,c),$n=z==null?void 0:z({start:Xe,end:ot,virtual:ae,offsetX:yt,offsetY:st,rtl:Ee,getSize:Cn}),_n=i4e(de,Xe,ot,I,yt,be,v,en),sr=null;s&&(sr=Ue(Ze({},o?"height":"maxHeight",s),v4e),ue&&(sr.overflowY="hidden",I&&(sr.overflowX="hidden"),Jt&&(sr.pointerEvents="none")));var zr={};return Ee&&(zr.dir="rtl"),A.createElement("div",Ln({ref:et,style:Ue(Ue({},m),{},{position:"relative"}),className:Me},zr,ee),A.createElement(Jc,{onResize:ft},A.createElement(D,{className:"".concat(r,"-holder"),style:sr,ref:ze,onScroll:ut,onMouseEnter:At},A.createElement(mae,{prefixCls:r,height:Ne,offsetX:yt,offsetY:st,scrollWidth:I,onInnerResize:le,ref:$e,innerProps:B,rtl:Ee,extra:$n},_n))),ae&&Ne>s&&A.createElement(nW,{ref:jt,prefixCls:r,scrollOffset:We,scrollRange:Ne,rtl:Ee,onScroll:rt,onStartMove:ln,onStopMove:Lt,spinSize:dr,containerSize:St.height,style:W==null?void 0:W.verticalScrollBar,thumbStyle:W==null?void 0:W.verticalScrollBarThumb,showScrollBar:K}),ae&&I>St.width&&A.createElement(nW,{ref:Bn,prefixCls:r,scrollOffset:yt,scrollRange:I,rtl:Ee,onScroll:rt,onStartMove:ln,onStopMove:Lt,spinSize:rr,containerSize:St.width,horizontal:!0,style:W==null?void 0:W.horizontalScrollBar,thumbStyle:W==null?void 0:W.horizontalScrollBarThumb,showScrollBar:K}))}var yae=A.forwardRef(b4e);yae.displayName="List";function _4e(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var x4e=["disabled","title","children","style","className"];function iW(e){return typeof e=="string"||typeof e=="number"}var w4e=function(t,n){var r=l3e(),i=r.prefixCls,s=r.id,c=r.open,h=r.multiple,o=r.mode,m=r.searchValue,y=r.toggleOpen,v=r.notFoundContent,S=r.onPopupScroll,C=A.useContext(E7),P=C.maxCount,I=C.flattenOptions,N=C.onActiveValue,D=C.defaultActiveFirstOption,k=C.onSelect,F=C.menuItemSelectedIcon,U=C.rawValues,B=C.fieldNames,z=C.virtual,W=C.direction,Y=C.listHeight,K=C.listItemHeight,ee=C.optionRender,re="".concat(i,"-item"),oe=oA(function(){return I},[c,I],function(qe,Qe){return Qe[0]&&qe[1]!==Qe[1]}),he=A.useRef(null),be=A.useMemo(function(){return h&&p8(P)&&(U==null?void 0:U.size)>=P},[h,P,U==null?void 0:U.size]),le=function(Qe){Qe.preventDefault()},ye=function(Qe){var Ve;(Ve=he.current)===null||Ve===void 0||Ve.scrollTo(typeof Qe=="number"?{index:Qe}:Qe)},fe=function(Qe){for(var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,yt=oe.length,it=0;it<yt;it+=1){var pt=(Qe+it*Ve+yt)%yt,$t=oe[pt]||{},Jt=$t.group,on=$t.data;if(!Jt&&!(on!=null&&on.disabled)&&!be)return pt}return-1},ue=A.useState(function(){return fe(0)}),xe=Pt(ue,2),ae=xe[0],Ee=xe[1],Me=function(Qe){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Ee(Qe);var yt={source:Ve?"keyboard":"mouse"},it=oe[Qe];if(!it){N(null,-1,yt);return}N(it.value,Qe,yt)};A.useEffect(function(){Me(D!==!1?fe(0):-1)},[oe.length,m]);var de=A.useCallback(function(qe){return U.has(qe)&&o!=="combobox"},[o,zn(U).toString(),U.size]);A.useEffect(function(){var qe=setTimeout(function(){if(!h&&c&&U.size===1){var Ve=Array.from(U)[0],yt=oe.findIndex(function(it){var pt=it.data;return pt.value===Ve});yt!==-1&&(Me(yt),ye(yt))}});if(c){var Qe;(Qe=he.current)===null||Qe===void 0||Qe.scrollTo(void 0)}return function(){return clearTimeout(qe)}},[c,m]);var ze=function(Qe){Qe!==void 0&&k(Qe,{selected:!U.has(Qe)}),h||y(!1)};if(A.useImperativeHandle(n,function(){return{onKeyDown:function(Qe){var Ve=Qe.which,yt=Qe.ctrlKey;switch(Ve){case tr.N:case tr.P:case tr.UP:case tr.DOWN:{var it=0;if(Ve===tr.UP?it=-1:Ve===tr.DOWN?it=1:_4e()&&yt&&(Ve===tr.N?it=1:Ve===tr.P&&(it=-1)),it!==0){var pt=fe(ae+it,it);ye(pt),Me(pt,!0)}break}case tr.ENTER:{var $t,Jt=oe[ae];Jt&&!(Jt!=null&&($t=Jt.data)!==null&&$t!==void 0&&$t.disabled)&&!be?ze(Jt.value):ze(void 0),c&&Qe.preventDefault();break}case tr.ESC:y(!1),c&&Qe.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Qe){ye(Qe)}}}),oe.length===0)return A.createElement("div",{role:"listbox",id:"".concat(s,"_list"),className:"".concat(re,"-empty"),onMouseDown:le},v);var $e=Object.keys(B).map(function(qe){return B[qe]}),et=function(Qe){return Qe.label};function gt(qe,Qe){var Ve=qe.group;return{role:Ve?"presentation":"option",id:"".concat(s,"_list_").concat(Qe)}}var lt=function(Qe){var Ve=oe[Qe];if(!Ve)return null;var yt=Ve.data||{},it=yt.value,pt=Ve.group,$t=W0(yt,!0),Jt=et(Ve);return Ve?A.createElement("div",Ln({"aria-label":typeof Jt=="string"&&!pt?Jt:null},$t,{key:Qe},gt(Ve,Qe),{"aria-selected":de(it)}),it):null},We={role:"listbox",id:"".concat(s,"_list")};return A.createElement(A.Fragment,null,z&&A.createElement("div",Ln({},We,{style:{height:0,width:0,overflow:"hidden"}}),lt(ae-1),lt(ae),lt(ae+1)),A.createElement(yae,{itemKey:"key",ref:he,data:oe,height:Y,itemHeight:K,fullHeight:!1,onMouseDown:le,onScroll:S,virtual:z,direction:W,innerProps:z?null:We},function(qe,Qe){var Ve=qe.group,yt=qe.groupOption,it=qe.data,pt=qe.label,$t=qe.value,Jt=it.key;if(Ve){var on,ln=(on=it.title)!==null&&on!==void 0?on:iW(pt)?pt.toString():void 0;return A.createElement("div",{className:Dt(re,"".concat(re,"-group"),it.className),title:ln},pt!==void 0?pt:Jt)}var Lt=it.disabled,en=it.title;it.children;var Kt=it.style,Zt=it.className,En=Gr(it,x4e),Fn=Vl(En,$e),je=de($t),me=Lt||!je&&be,we="".concat(re,"-option"),Ne=Dt(re,we,Zt,Ze(Ze(Ze(Ze({},"".concat(we,"-grouped"),yt),"".concat(we,"-active"),ae===Qe&&!me),"".concat(we,"-disabled"),me),"".concat(we,"-selected"),je)),Xe=et(qe),ot=!F||typeof F=="function"||je,st=typeof Xe=="number"?Xe:Xe||$t,_t=iW(st)?st.toString():void 0;return en!==void 0&&(_t=en),A.createElement("div",Ln({},W0(Fn),z?{}:gt(qe,Qe),{"aria-selected":je,className:Ne,title:_t,onMouseMove:function(){ae===Qe||me||Me(Qe)},onClick:function(){me||ze($t)},style:Kt}),A.createElement("div",{className:"".concat(we,"-content")},typeof ee=="function"?ee(qe,{index:Qe}):st),A.isValidElement(F)||je,ot&&A.createElement($3,{className:"".concat(re,"-option-state"),customizeIcon:F,customizeIconProps:{value:$t,disabled:me,isSelected:je}},je?"✓":null))}))},S4e=A.forwardRef(w4e);const A4e=function(e,t){var n=A.useRef({values:new Map,options:new Map}),r=A.useMemo(function(){var s=n.current,c=s.values,h=s.options,o=e.map(function(v){if(v.label===void 0){var S;return Ue(Ue({},v),{},{label:(S=c.get(v.value))===null||S===void 0?void 0:S.label})}return v}),m=new Map,y=new Map;return o.forEach(function(v){m.set(v.value,v),y.set(v.value,t.get(v.value)||h.get(v.value))}),n.current.values=m,n.current.options=y,o},[e,t]),i=A.useCallback(function(s){return t.get(s)||n.current.options.get(s)},[t]);return[r,i]};function G2(e,t){return hae(e).join("").toUpperCase().includes(t)}const C4e=function(e,t,n,r,i){return A.useMemo(function(){if(!n||r===!1)return e;var s=t.options,c=t.label,h=t.value,o=[],m=typeof r=="function",y=n.toUpperCase(),v=m?r:function(C,P){return i?G2(P[i],y):P[s]?G2(P[c!=="children"?c:"label"],y):G2(P[h],y)},S=m?function(C){return f8(C)}:function(C){return C};return e.forEach(function(C){if(C[s]){var P=v(n,S(C));if(P)o.push(C);else{var I=C[s].filter(function(N){return v(n,S(N))});I.length&&o.push(Ue(Ue({},C),{},Ze({},s,I)))}return}v(n,S(C))&&o.push(C)}),o},[e,r,i,n,t])};var oW=0,M4e=Qs();function E4e(){var e;return M4e?(e=oW,oW+=1):e="TEST_OR_SSR",e}function T4e(e){var t=A.useState(),n=Pt(t,2),r=n[0],i=n[1];return A.useEffect(function(){i("rc_select_".concat(E4e()))},[]),e||r}var P4e=["children","value"],I4e=["children"];function O4e(e){var t=e,n=t.key,r=t.props,i=r.children,s=r.value,c=Gr(r,P4e);return Ue({key:n,value:s!==void 0?s:n,children:i},c)}function vae(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Pc(e).map(function(n,r){if(!A.isValidElement(n)||!n.type)return null;var i=n,s=i.type.isSelectOptGroup,c=i.key,h=i.props,o=h.children,m=Gr(h,I4e);return t||!s?O4e(n):Ue(Ue({key:"__RC_SELECT_GRP__".concat(c===null?r:c,"__"),label:c},m),{},{options:vae(o)})}).filter(function(n){return n})}var k4e=function(t,n,r,i,s){return A.useMemo(function(){var c=t,h=!t;h&&(c=vae(n));var o=new Map,m=new Map,y=function(C,P,I){I&&typeof I=="string"&&C.set(P[I],P)},v=function S(C){for(var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=0;I<C.length;I+=1){var N=C[I];!N[r.options]||P?(o.set(N[r.value],N),y(m,N,r.label),y(m,N,i),y(m,N,s)):S(N[r.options],!0)}};return v(c),{options:c,valueOptions:o,labelOptions:m}},[t,n,r,i,s])};function aW(e){var t=A.useRef();t.current=e;var n=A.useCallback(function(){return t.current.apply(t,arguments)},[]);return n}var N4e=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],R4e=["inputValue"];function D4e(e){return!e||Hr(e)!=="object"}var L4e=A.forwardRef(function(e,t){var n=e.id,r=e.mode,i=e.prefixCls,s=i===void 0?"rc-select":i,c=e.backfill,h=e.fieldNames,o=e.inputValue,m=e.searchValue,y=e.onSearch,v=e.autoClearSearchValue,S=v===void 0?!0:v,C=e.onSelect,P=e.onDeselect,I=e.dropdownMatchSelectWidth,N=I===void 0?!0:I,D=e.filterOption,k=e.filterSort,F=e.optionFilterProp,U=e.optionLabelProp,B=e.options,z=e.optionRender,W=e.children,Y=e.defaultActiveFirstOption,K=e.menuItemSelectedIcon,ee=e.virtual,re=e.direction,oe=e.listHeight,he=oe===void 0?200:oe,be=e.listItemHeight,le=be===void 0?20:be,ye=e.labelRender,fe=e.value,ue=e.defaultValue,xe=e.labelInValue,ae=e.onChange,Ee=e.maxCount,Me=Gr(e,N4e),de=T4e(n),ze=m8(r),$e=!!(!B&&W),et=A.useMemo(function(){return D===void 0&&r==="combobox"?!1:D},[D,r]),gt=A.useMemo(function(){return fae(h,$e)},[JSON.stringify(h),$e]),lt=Ra("",{value:m!==void 0?m:o,postState:function(Un){return Un||""}}),We=Pt(lt,2),qe=We[0],Qe=We[1],Ve=k4e(B,W,gt,F,U),yt=Ve.valueOptions,it=Ve.labelOptions,pt=Ve.options,$t=A.useCallback(function(Ht){var Un=hae(Ht);return Un.map(function(rt){var ut,Tt,Rt,Gt,Qt;if(D4e(rt))ut=rt;else{var zt;Rt=rt.key,Tt=rt.label,ut=(zt=rt.value)!==null&&zt!==void 0?zt:Rt}var dt=yt.get(ut);if(dt){var At;Tt===void 0&&(Tt=dt==null?void 0:dt[U||gt.label]),Rt===void 0&&(Rt=(At=dt==null?void 0:dt.key)!==null&&At!==void 0?At:ut),Gt=dt==null?void 0:dt.disabled,Qt=dt==null?void 0:dt.title}return{label:Tt,value:ut,key:Rt,disabled:Gt,title:Qt}})},[gt,U,yt]),Jt=Ra(ue,{value:fe}),on=Pt(Jt,2),ln=on[0],Lt=on[1],en=A.useMemo(function(){var Ht,Un=ze&&ln===null?[]:ln,rt=$t(Un);return r==="combobox"&&E3e((Ht=rt[0])===null||Ht===void 0?void 0:Ht.value)?[]:rt},[ln,$t,r,ze]),Kt=A4e(en,yt),Zt=Pt(Kt,2),En=Zt[0],Fn=Zt[1],je=A.useMemo(function(){if(!r&&En.length===1){var Ht=En[0];if(Ht.value===null&&(Ht.label===null||Ht.label===void 0))return[]}return En.map(function(Un){var rt;return Ue(Ue({},Un),{},{label:(rt=typeof ye=="function"?ye(Un):Un.label)!==null&&rt!==void 0?rt:Un.value})})},[r,En,ye]),me=A.useMemo(function(){return new Set(En.map(function(Ht){return Ht.value}))},[En]);A.useEffect(function(){if(r==="combobox"){var Ht,Un=(Ht=En[0])===null||Ht===void 0?void 0:Ht.value;Qe(M3e(Un)?String(Un):"")}},[En]);var we=aW(function(Ht,Un){var rt=Un??Ht;return Ze(Ze({},gt.value,Ht),gt.label,rt)}),Ne=A.useMemo(function(){if(r!=="tags")return pt;var Ht=zn(pt),Un=function(ut){return yt.has(ut)};return zn(En).sort(function(rt,ut){return rt.value<ut.value?-1:1}).forEach(function(rt){var ut=rt.value;Un(ut)||Ht.push(we(ut,rt.label))}),Ht},[we,pt,yt,En,r]),Xe=C4e(Ne,gt,qe,et,F),ot=A.useMemo(function(){return r!=="tags"||!qe||Xe.some(function(Ht){return Ht[F||"value"]===qe})||Xe.some(function(Ht){return Ht[gt.value]===qe})?Xe:[we(qe)].concat(zn(Xe))},[we,F,r,Xe,qe,gt]),st=A.useMemo(function(){return k?zn(ot).sort(function(Ht,Un){return k(Ht,Un)}):ot},[ot,k]),_t=A.useMemo(function(){return Y3e(st,{fieldNames:gt,childrenAsData:$e})},[st,gt,$e]),nt=function(Un){var rt=$t(Un);if(Lt(rt),ae&&(rt.length!==En.length||rt.some(function(Rt,Gt){var Qt;return((Qt=En[Gt])===null||Qt===void 0?void 0:Qt.value)!==(Rt==null?void 0:Rt.value)}))){var ut=xe?rt:rt.map(function(Rt){return Rt.value}),Tt=rt.map(function(Rt){return f8(Fn(Rt.value))});ae(ze?ut:ut[0],ze?Tt:Tt[0])}},St=A.useState(null),Et=Pt(St,2),ft=Et[0],jt=Et[1],Bn=A.useState(0),rr=Pt(Bn,2),dr=rr[0],ar=rr[1],un=Y!==void 0?Y:r!=="combobox",hn=A.useCallback(function(Ht,Un){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ut=rt.source,Tt=ut===void 0?"keyboard":ut;ar(Un),c&&r==="combobox"&&Ht!==null&&Tt==="keyboard"&&jt(String(Ht))},[c,r]),vn=function(Un,rt,ut){var Tt=function(){var _n,sr=Fn(Un);return[xe?{label:sr==null?void 0:sr[gt.label],value:Un,key:(_n=sr==null?void 0:sr.key)!==null&&_n!==void 0?_n:Un}:Un,f8(sr)]};if(rt&&C){var Rt=Tt(),Gt=Pt(Rt,2),Qt=Gt[0],zt=Gt[1];C(Qt,zt)}else if(!rt&&P&&ut!=="clear"){var dt=Tt(),At=Pt(dt,2),kt=At[0],Cn=At[1];P(kt,Cn)}},In=aW(function(Ht,Un){var rt,ut=ze?Un.selected:!0;ut?rt=ze?[].concat(zn(En),[Ht]):[Ht]:rt=En.filter(function(Tt){return Tt.value!==Ht}),nt(rt),vn(Ht,ut),r==="combobox"?jt(""):(!m8||S)&&(Qe(""),jt(""))}),Sn=function(Un,rt){nt(Un);var ut=rt.type,Tt=rt.values;(ut==="remove"||ut==="clear")&&Tt.forEach(function(Rt){vn(Rt.value,!1,ut)})},an=function(Un,rt){if(Qe(Un),jt(null),rt.source==="submit"){var ut=(Un||"").trim();if(ut){var Tt=Array.from(new Set([].concat(zn(me),[ut])));nt(Tt),vn(ut,!0),Qe("")}return}rt.source!=="blur"&&(r==="combobox"&&nt(Un),y==null||y(Un))},kn=function(Un){var rt=Un;r!=="tags"&&(rt=Un.map(function(Tt){var Rt=it.get(Tt);return Rt==null?void 0:Rt.value}).filter(function(Tt){return Tt!==void 0}));var ut=Array.from(new Set([].concat(zn(me),zn(rt))));nt(ut),ut.forEach(function(Tt){vn(Tt,!0)})},hr=A.useMemo(function(){var Ht=ee!==!1&&N!==!1;return Ue(Ue({},Ve),{},{flattenOptions:_t,onActiveValue:hn,defaultActiveFirstOption:un,onSelect:In,menuItemSelectedIcon:K,rawValues:me,fieldNames:gt,virtual:Ht,direction:re,listHeight:he,listItemHeight:le,childrenAsData:$e,maxCount:Ee,optionRender:z})},[Ee,Ve,_t,hn,un,In,K,me,gt,ee,N,re,he,le,$e,z]);return A.createElement(E7.Provider,{value:hr},A.createElement(n4e,Ln({},Me,{id:de,prefixCls:s,ref:t,omitDomProps:R4e,mode:r,displayValues:je,onDisplayValuesChange:Sn,direction:re,searchValue:qe,onSearch:an,autoClearSearchValue:S,onSearchSplit:kn,dropdownMatchSelectWidth:N,OptionList:S4e,emptyOptions:!_t.length,activeValue:ft,activeDescendantId:"".concat(de,"_list_").concat(dr)})))}),I7=L4e;I7.Option=P7;I7.OptGroup=T7;function G0(e,t,n){return Dt({[`${e}-status-success`]:t==="success",[`${e}-status-warning`]:t==="warning",[`${e}-status-error`]:t==="error",[`${e}-status-validating`]:t==="validating",[`${e}-has-feedback`]:n})}const dA=(e,t)=>t||e,F4e=()=>{const[,e]=Hl(),n=new Va(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return A.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},A.createElement("g",{fill:"none",fillRule:"evenodd"},A.createElement("g",{transform:"translate(24 31.67)"},A.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),A.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),A.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),A.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),A.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),A.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),A.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},A.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),A.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},$4e=()=>{const[,e]=Hl(),{colorFill:t,colorFillTertiary:n,colorFillQuaternary:r,colorBgContainer:i}=e,{borderColor:s,shadowColor:c,contentColor:h}=A.useMemo(()=>({borderColor:new Va(t).onBackground(i).toHexShortString(),shadowColor:new Va(n).onBackground(i).toHexShortString(),contentColor:new Va(r).onBackground(i).toHexShortString()}),[t,n,r,i]);return A.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},A.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},A.createElement("ellipse",{fill:c,cx:"32",cy:"33",rx:"32",ry:"7"}),A.createElement("g",{fillRule:"nonzero",stroke:s},A.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),A.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:h}))))},j4e=e=>{const{componentCls:t,margin:n,marginXS:r,marginXL:i,fontSize:s,lineHeight:c}=e;return{[t]:{marginInline:r,fontSize:s,lineHeight:c,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:r,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${t}-description`]:{color:e.colorText},[`${t}-footer`]:{marginTop:n},"&-normal":{marginBlock:i,color:e.colorTextDescription,[`${t}-description`]:{color:e.colorTextDescription},[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:r,color:e.colorTextDescription,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}},z4e=_a("Empty",e=>{const{componentCls:t,controlHeightLG:n,calc:r}=e,i=lo(e,{emptyImgCls:`${t}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()});return[j4e(i)]});var B4e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const bae=A.createElement(F4e,null),_ae=A.createElement($4e,null),sg=e=>{var{className:t,rootClassName:n,prefixCls:r,image:i=bae,description:s,children:c,imageStyle:h,style:o}=e,m=B4e(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:y,direction:v,empty:S}=A.useContext(hi),C=y("empty",r),[P,I,N]=z4e(C),[D]=T3("Empty"),k=typeof s<"u"?s:D==null?void 0:D.description,F=typeof k=="string"?k:"empty";let U=null;return typeof i=="string"?U=A.createElement("img",{alt:F,src:i}):U=i,P(A.createElement("div",Object.assign({className:Dt(I,N,C,S==null?void 0:S.className,{[`${C}-normal`]:i===_ae,[`${C}-rtl`]:v==="rtl"},t,n),style:Object.assign(Object.assign({},S==null?void 0:S.style),o)},m),A.createElement("div",{className:`${C}-image`,style:h},U),k&&A.createElement("div",{className:`${C}-description`},k),c&&A.createElement("div",{className:`${C}-footer`},c)))};sg.PRESENTED_IMAGE_DEFAULT=bae;sg.PRESENTED_IMAGE_SIMPLE=_ae;const Z4e=e=>{const{componentName:t}=e,{getPrefixCls:n}=A.useContext(hi),r=n("empty");switch(t){case"Table":case"List":return Oe.createElement(sg,{image:sg.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return Oe.createElement(sg,{image:sg.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});default:return Oe.createElement(sg,null)}},U4e=["outlined","borderless","filled"],z3=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;const n=A.useContext(Qoe);let r;typeof e<"u"?r=e:t===!1?r="borderless":r=n??"outlined";const i=U4e.includes(r);return[r,i]},H4e=e=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:e==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function V4e(e,t){return e||H4e(t)}const sW=e=>{const{optionHeight:t,optionFontSize:n,optionLineHeight:r,optionPadding:i}=e;return{position:"relative",display:"block",minHeight:t,padding:i,color:e.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},W4e=e=>{const{antCls:t,componentCls:n}=e,r=`${n}-item`,i=`&${t}-slide-up-enter${t}-slide-up-enter-active`,s=`&${t}-slide-up-appear${t}-slide-up-appear-active`,c=`&${t}-slide-up-leave${t}-slide-up-leave-active`,h=`${n}-dropdown-placement-`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},ia(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,[`
          ${i}${h}bottomLeft,
          ${s}${h}bottomLeft
        `]:{animationName:tae},[`
          ${i}${h}topLeft,
          ${s}${h}topLeft,
          ${i}${h}topRight,
          ${s}${h}topRight
        `]:{animationName:rae},[`${c}${h}bottomLeft`]:{animationName:nae},[`
          ${c}${h}topLeft,
          ${c}${h}topRight
        `]:{animationName:iae},"&-hidden":{display:"none"},[`${r}`]:Object.assign(Object.assign({},sW(e)),{cursor:"pointer",transition:`background ${e.motionDurationSlow} ease`,borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},V0),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:e.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg,[`${r}-option-state`]:{color:e.colorPrimary},[`&:has(+ ${r}-option-selected:not(${r}-option-disabled))`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${r}-option-selected:not(${r}-option-disabled)`]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:e.calc(e.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},sW(e)),{color:e.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},sT(e,"slide-up"),sT(e,"slide-down"),jV(e,"move-up"),jV(e,"move-down")]},G4e=e=>{const{multipleSelectItemHeight:t,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:i}=e,s=e.max(e.calc(n).sub(r).equal(),0),c=e.max(e.calc(s).sub(i).equal(),0);return{basePadding:s,containerPadding:c,itemHeight:Ut(t),itemLineHeight:Ut(e.calc(t).sub(e.calc(e.lineWidth).mul(2)).equal())}},K4e=e=>{const{multipleSelectItemHeight:t,selectHeight:n,lineWidth:r}=e;return e.calc(n).sub(t).div(2).sub(r).equal()},q4e=e=>{const{componentCls:t,iconCls:n,borderRadiusSM:r,motionDurationSlow:i,paddingXS:s,multipleItemColorDisabled:c,multipleItemBorderColorDisabled:h,colorIcon:o,colorIconHover:m,INTERNAL_FIXED_ITEM_MARGIN:y}=e;return{[`${t}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${t}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:y,borderRadius:r,cursor:"default",transition:`font-size ${i}, line-height ${i}, height ${i}`,marginInlineEnd:e.calc(y).mul(2).equal(),paddingInlineStart:s,paddingInlineEnd:e.calc(s).div(2).equal(),[`${t}-disabled&`]:{color:c,borderColor:h,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.calc(s).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},P3()),{display:"inline-flex",alignItems:"center",color:o,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:m}})}}}},X4e=(e,t)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=e,i=`${n}-selection-overflow`,s=e.multipleSelectItemHeight,c=K4e(e),h=t?`${n}-${t}`:"",o=G4e(e);return{[`${n}-multiple${h}`]:Object.assign(Object.assign({},q4e(e)),{[`${n}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:o.basePadding,paddingBlock:o.containerPadding,borderRadius:e.borderRadius,[`${n}-disabled&`]:{background:e.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${Ut(r)} 0`,lineHeight:Ut(s),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:o.itemHeight,lineHeight:Ut(o.itemLineHeight)},[`${i}-item + ${i}-item`]:{[`${n}-selection-search`]:{marginInlineStart:0}},[`${i}-item-suffix`]:{height:"100%"},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(c).equal(),"\n          &-input,\n          &-mirror\n        ":{height:s,fontFamily:e.fontFamily,lineHeight:Ut(s),transition:`all ${e.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`}})}};function K2(e,t){const{componentCls:n}=e,r=t?`${n}-${t}`:"",i={[`${n}-multiple${r}`]:{fontSize:e.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:e.calc(e.fontSizeIcon).add(e.controlPaddingHorizontal).equal()}}};return[X4e(e,t),i]}const Y4e=e=>{const{componentCls:t}=e,n=lo(e,{selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),r=lo(e,{fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius});return[K2(e),K2(n,"sm"),{[`${t}-multiple${t}-sm`]:{[`${t}-selection-placeholder`]:{insetInline:e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal()},[`${t}-selection-search`]:{marginInlineStart:2}}},K2(r,"lg")]};function q2(e,t){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:i}=e,s=e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),c=t?`${n}-${t}`:"";return{[`${n}-single${c}`]:{fontSize:e.fontSize,height:e.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},ia(e,!0)),{display:"flex",borderRadius:i,[`${n}-selection-search`]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:r,bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{padding:0,lineHeight:Ut(s),transition:`all ${e.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:e.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:e.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",padding:`0 ${Ut(r)}`,[`${n}-selection-search-input`]:{height:s},"&:after":{lineHeight:Ut(s)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${Ut(r)}`,"&:after":{display:"none"}}}}}}}function J4e(e){const{componentCls:t}=e,n=e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal();return[q2(e),q2(lo(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${t}-single${t}-sm`]:{[`&:not(${t}-customize-input)`]:{[`${t}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${t}-selector`]:{padding:`0 ${Ut(n)}`},[`&${t}-show-arrow ${t}-selection-search`]:{insetInlineEnd:e.calc(n).add(e.calc(e.fontSize).mul(1.5)).equal()},[`
            &${t}-show-arrow ${t}-selection-item,
            &${t}-show-arrow ${t}-selection-placeholder
          `]:{paddingInlineEnd:e.calc(e.fontSize).mul(1.5).equal()}}}},q2(lo(e,{controlHeight:e.singleItemHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const Q4e=e=>{const{fontSize:t,lineHeight:n,lineWidth:r,controlHeight:i,controlHeightSM:s,controlHeightLG:c,paddingXXS:h,controlPaddingHorizontal:o,zIndexPopupBase:m,colorText:y,fontWeightStrong:v,controlItemBgActive:S,controlItemBgHover:C,colorBgContainer:P,colorFillSecondary:I,colorBgContainerDisabled:N,colorTextDisabled:D}=e,k=h*2,F=r*2,U=Math.min(i-k,i-F),B=Math.min(s-k,s-F),z=Math.min(c-k,c-F);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(h/2),zIndexPopup:m+50,optionSelectedColor:y,optionSelectedFontWeight:v,optionSelectedBg:S,optionActiveBg:C,optionPadding:`${(i-t*n)/2}px ${o}px`,optionFontSize:t,optionLineHeight:n,optionHeight:i,selectorBg:P,clearBg:P,singleItemHeightLG:c,multipleItemBg:I,multipleItemBorderColor:"transparent",multipleItemHeight:U,multipleItemHeightSM:B,multipleItemHeightLG:z,multipleSelectorBgDisabled:N,multipleItemColorDisabled:D,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(e.fontSize*1.25)}},xae=(e,t)=>{const{componentCls:n,antCls:r,controlOutlineWidth:i}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${Ut(e.lineWidth)} ${e.lineType} ${t.borderColor}`,background:e.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:t.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:t.activeBorderColor,boxShadow:`0 0 0 ${Ut(i)} ${t.activeShadowColor}`,outline:0}}}},lW=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},xae(e,t))}),eIe=e=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},xae(e,{borderColor:e.colorBorder,hoverBorderHover:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadowColor:e.controlOutline})),lW(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeShadowColor:e.colorErrorOutline})),lW(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeShadowColor:e.colorWarningOutline})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${Ut(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})}),wae=(e,t)=>{const{componentCls:n,antCls:r}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:t.bg,border:`${Ut(e.lineWidth)} ${e.lineType} transparent`,color:t.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:t.hoverBg},[`${n}-focused& ${n}-selector`]:{background:e.selectorBg,borderColor:t.activeBorderColor,outline:0}}}},cW=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},wae(e,t))}),tIe=e=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},wae(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.colorPrimary,color:e.colorText})),cW(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,color:e.colorError})),cW(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{borderColor:e.colorBorder,background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.colorBgContainer,border:`${Ut(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}})}),nIe=e=>({"&-borderless":{[`${e.componentCls}-selector`]:{background:"transparent",borderColor:"transparent"},[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${Ut(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}}}),rIe=e=>({[e.componentCls]:Object.assign(Object.assign(Object.assign({},eIe(e)),tIe(e)),nIe(e))}),iIe=e=>{const{componentCls:t}=e;return{position:"relative",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${t}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${t}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},oIe=e=>{const{componentCls:t}=e;return{[`${t}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},aIe=e=>{const{antCls:t,componentCls:n,inputPaddingHorizontalBase:r,iconCls:i}=e;return{[n]:Object.assign(Object.assign({},ia(e)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},iIe(e)),oIe(e)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},V0),{[`> ${t}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},V0),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},P3()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${e.motionDurationSlow} ease`,[i]:{verticalAlign:"top",transition:`transform ${e.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${e.motionDurationMid} ease, opacity ${e.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}},"&:hover":{[`${n}-clear`]:{opacity:1},[`${n}-arrow:not(:last-child)`]:{opacity:0}}}),[`${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:e.calc(r).add(e.fontSize).add(e.paddingXS).equal()}}}},sIe=e=>{const{componentCls:t}=e;return[{[t]:{[`&${t}-in-form-item`]:{width:"100%"}}},aIe(e),J4e(e),Y4e(e),W4e(e),{[`${t}-rtl`]:{direction:"rtl"}},D3(e,{borderElCls:`${t}-selector`,focusElCls:`${t}-focused`})]},lIe=_a("Select",(e,t)=>{let{rootPrefixCls:n}=t;const r=lo(e,{rootPrefixCls:n,inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[sIe(r),rIe(r)]},Q4e,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var cIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},uIe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:cIe}))},O7=A.forwardRef(uIe),dIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},hIe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:dIe}))},Sae=A.forwardRef(hIe),pIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},fIe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:pIe}))},Aae=A.forwardRef(fIe);function mIe(e){let{suffixIcon:t,clearIcon:n,menuItemSelectedIcon:r,removeIcon:i,loading:s,multiple:c,hasFeedback:h,prefixCls:o,showSuffixIcon:m,feedbackIcon:y,showArrow:v,componentName:S}=e;const C=n??A.createElement(O3,null),P=k=>t===null&&!h&&!v?null:A.createElement(A.Fragment,null,m!==!1&&k,h&&y);let I=null;if(t!==void 0)I=P(t);else if(s)I=P(A.createElement(Zg,{spin:!0}));else{const k=`${o}-suffix`;I=F=>{let{open:U,showSearch:B}=F;return P(U&&B?A.createElement(Aae,{className:k}):A.createElement(Sae,{className:k}))}}let N=null;r!==void 0?N=r:c?N=A.createElement(O7,null):N=null;let D=null;return i!==void 0?D=i:D=A.createElement(m7,null),{clearIcon:C,suffixIcon:I,itemIcon:N,removeIcon:D}}function gIe(e,t){return t!==void 0?t:e!==null}var yIe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Cae="SECRET_COMBOBOX_MODE_DO_NOT_USE",vIe=(e,t)=>{var n;const{prefixCls:r,bordered:i,className:s,rootClassName:c,getPopupContainer:h,popupClassName:o,dropdownClassName:m,listHeight:y=256,placement:v,listItemHeight:S,size:C,disabled:P,notFoundContent:I,status:N,builtinPlacements:D,dropdownMatchSelectWidth:k,popupMatchSelectWidth:F,direction:U,style:B,allowClear:z,variant:W,dropdownStyle:Y,transitionName:K,tagRender:ee,maxCount:re}=e,oe=yIe(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:he,getPrefixCls:be,renderEmpty:le,direction:ye,virtual:fe,popupMatchSelectWidth:ue,popupOverflow:xe,select:ae}=A.useContext(hi),[,Ee]=Hl(),Me=S??(Ee==null?void 0:Ee.controlHeight),de=be("select",r),ze=be(),$e=U??ye,{compactSize:et,compactItemClassnames:gt}=lA(de,$e),[lt,We]=z3(W,i),qe=rd(de),[Qe,Ve,yt]=lIe(de,qe),it=A.useMemo(()=>{const{mode:ft}=e;if(ft!=="combobox")return ft===Cae?"combobox":ft},[e.mode]),pt=it==="multiple"||it==="tags",$t=gIe(e.suffixIcon,e.showArrow),Jt=(n=F??k)!==null&&n!==void 0?n:ue,{status:on,hasFeedback:ln,isFormItemInput:Lt,feedbackIcon:en}=A.useContext(gl),Kt=dA(on,N);let Zt;I!==void 0?Zt=I:it==="combobox"?Zt=null:Zt=(le==null?void 0:le("Select"))||A.createElement(Z4e,{componentName:"Select"});const{suffixIcon:En,itemIcon:Fn,removeIcon:je,clearIcon:me}=mIe(Object.assign(Object.assign({},oe),{multiple:pt,hasFeedback:ln,feedbackIcon:en,showSuffixIcon:$t,prefixCls:de,componentName:"Select"})),we=z===!0?{clearIcon:me}:z,Ne=Vl(oe,["suffixIcon","itemIcon"]),Xe=Dt(o||m,{[`${de}-dropdown-${$e}`]:$e==="rtl"},c,yt,qe,Ve),ot=id(ft=>{var jt;return(jt=C??et)!==null&&jt!==void 0?jt:ft}),st=A.useContext(Ic),_t=P??st,nt=Dt({[`${de}-lg`]:ot==="large",[`${de}-sm`]:ot==="small",[`${de}-rtl`]:$e==="rtl",[`${de}-${lt}`]:We,[`${de}-in-form-item`]:Lt},G0(de,Kt,ln),gt,ae==null?void 0:ae.className,s,c,yt,qe,Ve),St=A.useMemo(()=>v!==void 0?v:$e==="rtl"?"bottomRight":"bottomLeft",[v,$e]),[Et]=g7("SelectLike",Y==null?void 0:Y.zIndex);return Qe(A.createElement(I7,Object.assign({ref:t,virtual:fe,showSearch:ae==null?void 0:ae.showSearch},Ne,{style:Object.assign(Object.assign({},ae==null?void 0:ae.style),B),dropdownMatchSelectWidth:Jt,transitionName:y7(ze,"slide-up",K),builtinPlacements:V4e(D,xe),listHeight:y,listItemHeight:Me,mode:it,prefixCls:de,placement:St,direction:$e,suffixIcon:En,menuItemSelectedIcon:Fn,removeIcon:je,allowClear:we,notFoundContent:Zt,className:nt,getPopupContainer:h||he,dropdownClassName:Xe,disabled:_t,dropdownStyle:Object.assign(Object.assign({},Y),{zIndex:Et}),maxCount:pt?re:void 0,tagRender:pt?ee:void 0})))},Lf=A.forwardRef(vIe),bIe=oae(Lf);Lf.SECRET_COMBOBOX_MODE_DO_NOT_USE=Cae;Lf.Option=P7;Lf.OptGroup=T7;Lf._InternalPanelDoNotUseOrYouWillBeFired=bIe;const{Option:y8}=Lf;function uW(e){return e&&e.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}const _Ie=(e,t)=>{var n;const{prefixCls:r,className:i,popupClassName:s,dropdownClassName:c,children:h,dataSource:o}=e,m=Pc(h);let y;m.length===1&&A.isValidElement(m[0])&&!uW(m[0])&&([y]=m);const v=y?()=>y:void 0;let S;m.length&&uW(m[0])?S=h:S=o?o.map(N=>{if(A.isValidElement(N))return N;switch(typeof N){case"string":return A.createElement(y8,{key:N,value:N},N);case"object":{const{value:D}=N;return A.createElement(y8,{key:D,value:D},N.text)}default:return}}):[];const{getPrefixCls:C}=A.useContext(hi),P=C("select",r),[I]=g7("SelectLike",(n=e.dropdownStyle)===null||n===void 0?void 0:n.zIndex);return A.createElement(Lf,Object.assign({ref:t,suffixIcon:null},Vl(e,["dataSource","dropdownClassName"]),{prefixCls:P,popupClassName:s||c,dropdownStyle:Object.assign(Object.assign({},e.dropdownStyle),{zIndex:I}),className:Dt(`${P}-auto-complete`,i),mode:Lf.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:v}),S)},B3=A.forwardRef(_Ie),xIe=oae(B3);B3.Option=y8;B3._InternalPanelDoNotUseOrYouWillBeFired=xIe;const eS=["xxl","xl","lg","md","sm","xs"],wIe=e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}),SIe=e=>{const t=e,n=[].concat(eS).reverse();return n.forEach((r,i)=>{const s=r.toUpperCase(),c=`screen${s}Min`,h=`screen${s}`;if(!(t[c]<=t[h]))throw new Error(`${c}<=${h} fails : !(${t[c]}<=${t[h]})`);if(i<n.length-1){const o=`screen${s}Max`;if(!(t[h]<=t[o]))throw new Error(`${h}<=${o} fails : !(${t[h]}<=${t[o]})`);const y=`screen${n[i+1].toUpperCase()}Min`;if(!(t[o]<=t[y]))throw new Error(`${o}<=${y} fails : !(${t[o]}<=${t[y]})`)}}),e};function AIe(){const[,e]=Hl(),t=wIe(SIe(e));return Oe.useMemo(()=>{const n=new Map;let r=-1,i={};return{matchHandlers:{},dispatch(s){return i=s,n.forEach(c=>c(i)),n.size>=1},subscribe(s){return n.size||this.register(),r+=1,n.set(r,s),s(i),r},unsubscribe(s){n.delete(s),n.size||this.unregister()},unregister(){Object.keys(t).forEach(s=>{const c=t[s],h=this.matchHandlers[c];h==null||h.mql.removeListener(h==null?void 0:h.listener)}),n.clear()},register(){Object.keys(t).forEach(s=>{const c=t[s],h=m=>{let{matches:y}=m;this.dispatch(Object.assign(Object.assign({},i),{[s]:y}))},o=window.matchMedia(c);o.addListener(h),this.matchHandlers[c]={mql:o,listener:h},h(o)})},responsiveMap:t}},[e])}function CIe(){const[,e]=A.useReducer(t=>t+1,0);return e}function Mae(e){var t=e.children,n=e.prefixCls,r=e.id,i=e.overlayInnerStyle,s=e.className,c=e.style;return A.createElement("div",{className:Dt("".concat(n,"-content"),s),style:c},A.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:i},typeof t=="function"?t():t))}var yv={shiftX:64,adjustY:1},vv={adjustX:1,shiftY:!0},zc=[0,0],MIe={left:{points:["cr","cl"],overflow:vv,offset:[-4,0],targetOffset:zc},right:{points:["cl","cr"],overflow:vv,offset:[4,0],targetOffset:zc},top:{points:["bc","tc"],overflow:yv,offset:[0,-4],targetOffset:zc},bottom:{points:["tc","bc"],overflow:yv,offset:[0,4],targetOffset:zc},topLeft:{points:["bl","tl"],overflow:yv,offset:[0,-4],targetOffset:zc},leftTop:{points:["tr","tl"],overflow:vv,offset:[-4,0],targetOffset:zc},topRight:{points:["br","tr"],overflow:yv,offset:[0,-4],targetOffset:zc},rightTop:{points:["tl","tr"],overflow:vv,offset:[4,0],targetOffset:zc},bottomRight:{points:["tr","br"],overflow:yv,offset:[0,4],targetOffset:zc},rightBottom:{points:["bl","br"],overflow:vv,offset:[4,0],targetOffset:zc},bottomLeft:{points:["tl","bl"],overflow:yv,offset:[0,4],targetOffset:zc},leftBottom:{points:["br","bl"],overflow:vv,offset:[-4,0],targetOffset:zc}},EIe=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],TIe=function(t,n){var r=t.overlayClassName,i=t.trigger,s=i===void 0?["hover"]:i,c=t.mouseEnterDelay,h=c===void 0?0:c,o=t.mouseLeaveDelay,m=o===void 0?.1:o,y=t.overlayStyle,v=t.prefixCls,S=v===void 0?"rc-tooltip":v,C=t.children,P=t.onVisibleChange,I=t.afterVisibleChange,N=t.transitionName,D=t.animation,k=t.motion,F=t.placement,U=F===void 0?"right":F,B=t.align,z=B===void 0?{}:B,W=t.destroyTooltipOnHide,Y=W===void 0?!1:W,K=t.defaultVisible,ee=t.getTooltipContainer,re=t.overlayInnerStyle;t.arrowContent;var oe=t.overlay,he=t.id,be=t.showArrow,le=be===void 0?!0:be,ye=Gr(t,EIe),fe=A.useRef(null);A.useImperativeHandle(n,function(){return fe.current});var ue=Ue({},ye);"visible"in t&&(ue.popupVisible=t.visible);var xe=function(){return A.createElement(Mae,{key:"content",prefixCls:S,id:he,overlayInnerStyle:re},oe)};return A.createElement(j3,Ln({popupClassName:r,prefixCls:S,popup:xe,action:s,builtinPlacements:MIe,popupPlacement:U,ref:fe,popupAlign:z,getPopupContainer:ee,onPopupVisibleChange:P,afterPopupVisibleChange:I,popupTransitionName:N,popupAnimation:D,popupMotion:k,defaultPopupVisible:K,autoDestroy:Y,mouseLeaveDelay:m,popupStyle:y,mouseEnterDelay:h,arrow:le},ue),C)};const PIe=A.forwardRef(TIe);function IIe(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:r}=e,i=t/2,s=0,c=i,h=r*1/Math.sqrt(2),o=i-r*(1-1/Math.sqrt(2)),m=i-n*(1/Math.sqrt(2)),y=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),v=2*i-m,S=y,C=2*i-h,P=o,I=2*i-s,N=c,D=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),k=r*(Math.sqrt(2)-1),F=`polygon(${k}px 100%, 50% ${k}px, ${2*i-k}px 100%, ${k}px 100%)`,U=`path('M ${s} ${c} A ${r} ${r} 0 0 0 ${h} ${o} L ${m} ${y} A ${n} ${n} 0 0 1 ${v} ${S} L ${C} ${P} A ${r} ${r} 0 0 0 ${I} ${N} Z')`;return{arrowShadowWidth:D,arrowPath:U,arrowPolygon:F}}const OIe=(e,t,n)=>{const{sizePopupArrow:r,arrowPolygon:i,arrowPath:s,arrowShadowWidth:c,borderRadiusXS:h,calc:o}=e;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:o(r).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[i,s]},content:'""'},"&::after":{content:'""',position:"absolute",width:c,height:c,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Ut(h)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},Eae=8;function Tae(e){const{contentRadius:t,limitVerticalRadius:n}=e,r=t>12?t+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?Eae:r}}function tM(e,t){return e?t:{}}function kIe(e,t,n){const{componentCls:r,boxShadowPopoverArrow:i,arrowOffsetVertical:s,arrowOffsetHorizontal:c}=e,{arrowDistance:h=0,arrowPlacement:o={left:!0,right:!0,top:!0,bottom:!0}}={};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},OIe(e,t,i)),{"&:before":{background:t}})]},tM(!!o.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:h,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${r}-arrow`]:{left:{_skip_check_:!0,value:c}},[`&-placement-topRight > ${r}-arrow`]:{right:{_skip_check_:!0,value:c}}})),tM(!!o.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:h,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft > ${r}-arrow`]:{left:{_skip_check_:!0,value:c}},[`&-placement-bottomRight > ${r}-arrow`]:{right:{_skip_check_:!0,value:c}}})),tM(!!o.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:h},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:s},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:s}})),tM(!!o.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:h},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:s},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:s}}))}}function NIe(e,t,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const i=r&&typeof r=="object"?r:{},s={};switch(e){case"top":case"bottom":s.shiftX=t.arrowOffsetHorizontal*2+n,s.shiftY=!0,s.adjustY=!0;break;case"left":case"right":s.shiftY=t.arrowOffsetVertical*2+n,s.shiftX=!0,s.adjustX=!0;break}const c=Object.assign(Object.assign({},s),i);return c.shiftX||(c.adjustX=!0),c.shiftY||(c.adjustY=!0),c}const dW={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},RIe={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},DIe=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function LIe(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:s}=e,c=t/2,h={};return Object.keys(dW).forEach(o=>{const m=r&&RIe[o]||dW[o],y=Object.assign(Object.assign({},m),{offset:[0,0],dynamicInset:!0});switch(h[o]=y,DIe.has(o)&&(y.autoArrow=!1),o){case"top":case"topLeft":case"topRight":y.offset[1]=-c-i;break;case"bottom":case"bottomLeft":case"bottomRight":y.offset[1]=c+i;break;case"left":case"leftTop":case"leftBottom":y.offset[0]=-c-i;break;case"right":case"rightTop":case"rightBottom":y.offset[0]=c+i;break}const v=Tae({contentRadius:s,limitVerticalRadius:!0});if(r)switch(o){case"topLeft":case"bottomLeft":y.offset[0]=-v.arrowOffsetHorizontal-c;break;case"topRight":case"bottomRight":y.offset[0]=v.arrowOffsetHorizontal+c;break;case"leftTop":case"rightTop":y.offset[1]=-v.arrowOffsetHorizontal-c;break;case"leftBottom":case"rightBottom":y.offset[1]=v.arrowOffsetHorizontal+c;break}y.overflow=NIe(o,v,t,n),y.htmlRegion="visibleFirst"}),h}const FIe=e=>{const{componentCls:t,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:i,tooltipBorderRadius:s,zIndexPopup:c,controlHeight:h,boxShadowSecondary:o,paddingSM:m,paddingXS:y}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},ia(e)),{position:"absolute",zIndex:c,display:"block",width:"max-content",maxWidth:n,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${t}-inner`]:{minWidth:h,minHeight:h,padding:`${Ut(e.calc(m).div(2).equal())} ${Ut(y)}`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:s,boxShadow:o,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:e.min(s,Eae)}},[`${t}-content`]:{position:"relative"}}),p7(e,(v,S)=>{let{darkColor:C}=S;return{[`&${t}-${v}`]:{[`${t}-inner`]:{backgroundColor:C},[`${t}-arrow`]:{"--antd-arrow-background-color":C}}}})),{"&-rtl":{direction:"rtl"}})},kIe(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},$Ie=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},Tae({contentRadius:e.borderRadius,limitVerticalRadius:!0})),IIe(lo(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),Pae=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return _a("Tooltip",r=>{const{borderRadius:i,colorTextLightSolid:s,colorBgSpotlight:c}=r,h=lo(r,{tooltipMaxWidth:250,tooltipColor:s,tooltipBorderRadius:i,tooltipBg:c});return[FIe(h),o3e(r,"zoom-big-fast")]},$Ie,{resetStyle:!1,injectStyle:t})(e)},jIe=nT.map(e=>`${e}-inverse`);function k7(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(zn(jIe),zn(nT)).includes(e):nT.includes(e)}function Iae(e,t){const n=k7(t),r=Dt({[`${e}-${t}`]:t&&n}),i={},s={};return t&&!n&&(i.background=t,s["--antd-arrow-background-color"]=t),{className:r,overlayStyle:i,arrowStyle:s}}const zIe=e=>{const{prefixCls:t,className:n,placement:r="top",title:i,color:s,overlayInnerStyle:c}=e,{getPrefixCls:h}=A.useContext(hi),o=h("tooltip",t),[m,y,v]=Pae(o),S=Iae(o,s),C=S.arrowStyle,P=Object.assign(Object.assign({},c),S.overlayStyle),I=Dt(y,v,o,`${o}-pure`,`${o}-placement-${r}`,n,S.className);return m(A.createElement("div",{className:I,style:C},A.createElement("div",{className:`${o}-arrow`}),A.createElement(Mae,Object.assign({},e,{className:y,prefixCls:o,overlayInnerStyle:P}),i)))};var BIe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ZIe=A.forwardRef((e,t)=>{var n,r;const{prefixCls:i,openClassName:s,getTooltipContainer:c,overlayClassName:h,color:o,overlayInnerStyle:m,children:y,afterOpenChange:v,afterVisibleChange:S,destroyTooltipOnHide:C,arrow:P=!0,title:I,overlay:N,builtinPlacements:D,arrowPointAtCenter:k=!1,autoAdjustOverflow:F=!0}=e,U=!!P,[,B]=Hl(),{getPopupContainer:z,getPrefixCls:W,direction:Y}=A.useContext(hi),K=c7(),ee=A.useRef(null),re=()=>{var Zt;(Zt=ee.current)===null||Zt===void 0||Zt.forceAlign()};A.useImperativeHandle(t,()=>({forceAlign:re,forcePopupAlign:()=>{K.deprecated(!1,"forcePopupAlign","forceAlign"),re()}}));const[oe,he]=Ra(!1,{value:(n=e.open)!==null&&n!==void 0?n:e.visible,defaultValue:(r=e.defaultOpen)!==null&&r!==void 0?r:e.defaultVisible}),be=!I&&!N&&I!==0,le=Zt=>{var En,Fn;he(be?!1:Zt),be||((En=e.onOpenChange)===null||En===void 0||En.call(e,Zt),(Fn=e.onVisibleChange)===null||Fn===void 0||Fn.call(e,Zt))},ye=A.useMemo(()=>{var Zt,En;let Fn=k;return typeof P=="object"&&(Fn=(En=(Zt=P.pointAtCenter)!==null&&Zt!==void 0?Zt:P.arrowPointAtCenter)!==null&&En!==void 0?En:k),D||LIe({arrowPointAtCenter:Fn,autoAdjustOverflow:F,arrowWidth:U?B.sizePopupArrow:0,borderRadius:B.borderRadius,offset:B.marginXXS})},[k,P,D,B]),fe=A.useMemo(()=>I===0?I:N||I||"",[N,I]),ue=A.createElement(qw,null,typeof fe=="function"?fe():fe),{getPopupContainer:xe,placement:ae="top",mouseEnterDelay:Ee=.1,mouseLeaveDelay:Me=.1,overlayStyle:de,rootClassName:ze}=e,$e=BIe(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),et=W("tooltip",i),gt=W(),lt=e["data-popover-inject"];let We=oe;!("open"in e)&&!("visible"in e)&&be&&(We=!1);const qe=A.isValidElement(y)&&!Ooe(y)?y:A.createElement("span",null,y),Qe=qe.props,Ve=!Qe.className||typeof Qe.className=="string"?Dt(Qe.className,s||`${et}-open`):Qe.className,[yt,it,pt]=Pae(et,!lt),$t=Iae(et,o),Jt=$t.arrowStyle,on=Object.assign(Object.assign({},m),$t.overlayStyle),ln=Dt(h,{[`${et}-rtl`]:Y==="rtl"},$t.className,ze,it,pt),[Lt,en]=g7("Tooltip",$e.zIndex),Kt=A.createElement(PIe,Object.assign({},$e,{zIndex:Lt,showArrow:U,placement:ae,mouseEnterDelay:Ee,mouseLeaveDelay:Me,prefixCls:et,overlayClassName:ln,overlayStyle:Object.assign(Object.assign({},Jt),de),getTooltipContainer:xe||c||z,ref:ee,builtinPlacements:ye,overlay:ue,visible:We,onVisibleChange:le,afterVisibleChange:v??S,overlayInnerStyle:on,arrowContent:A.createElement("span",{className:`${et}-arrow-content`}),motion:{motionName:y7(gt,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!C}),We?Yu(qe,{className:Ve}):qe);return yt(A.createElement(koe.Provider,{value:en},Kt))}),Gf=ZIe;Gf._InternalPanelDoNotUseOrYouWillBeFired=zIe;const UIe=new Ti("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),HIe=new Ti("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),VIe=new Ti("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),WIe=new Ti("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),GIe=new Ti("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),KIe=new Ti("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),qIe=e=>{const{componentCls:t,iconCls:n,antCls:r,badgeShadowSize:i,motionDurationSlow:s,textFontSize:c,textFontSizeSM:h,statusSize:o,dotSize:m,textFontWeight:y,indicatorHeight:v,indicatorHeightSM:S,marginXS:C,calc:P}=e,I=`${r}-scroll-number`,N=p7(e,(D,k)=>{let{darkColor:F}=k;return{[`&${t} ${t}-color-${D}`]:{background:F,[`&:not(${t}-count)`]:{color:F},"a:hover &":{background:F}}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},ia(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{zIndex:e.indicatorZIndex,minWidth:v,height:v,color:e.badgeTextColor,fontWeight:y,fontSize:c,lineHeight:Ut(v),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:P(v).div(2).equal(),boxShadow:`0 0 0 ${Ut(i)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:S,height:S,fontSize:h,lineHeight:Ut(S),borderRadius:P(S).div(2).equal()},[`${t}-multiple-words`]:{padding:`0 ${Ut(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${t}-dot`]:{zIndex:e.indicatorZIndex,width:m,minWidth:m,height:m,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${Ut(i)} ${e.badgeShadowColor}`},[`${t}-dot${I}`]:{transition:`background ${s}`},[`${t}-count, ${t}-dot, ${I}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${n}-spin`]:{animationName:KIe,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:o,height:o,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:i,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:UIe,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:C,color:e.colorText,fontSize:e.fontSize}}}),N),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:HIe,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:VIe,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:WIe,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:GIe,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${I}-custom-component, ${t}-count`]:{transform:"none"},[`${I}-custom-component, ${I}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[`${I}`]:{overflow:"hidden",[`${I}-only`]:{position:"relative",display:"inline-block",height:v,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${I}-only-unit`]:{height:v,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${I}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${I}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},Oae=e=>{const{fontHeight:t,lineWidth:n,marginXS:r,colorBorderBg:i}=e,s=t,c=n,h=e.colorBgContainer,o=e.colorError,m=e.colorErrorHover;return lo(e,{badgeFontHeight:s,badgeShadowSize:c,badgeTextColor:h,badgeColor:o,badgeColorHover:m,badgeShadowColor:i,badgeProcessingDuration:"1.2s",badgeRibbonOffset:r,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},kae=e=>{const{fontSize:t,lineHeight:n,fontSizeSM:r,lineWidth:i}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*n)-2*i,indicatorHeightSM:t,dotSize:r/2,textFontSize:r,textFontSizeSM:r,textFontWeight:"normal",statusSize:r/2}},XIe=_a("Badge",e=>{const t=Oae(e);return qIe(t)},kae),YIe=e=>{const{antCls:t,badgeFontHeight:n,marginXS:r,badgeRibbonOffset:i,calc:s}=e,c=`${t}-ribbon`,h=`${t}-ribbon-wrapper`,o=p7(e,(m,y)=>{let{darkColor:v}=y;return{[`&${c}-color-${m}`]:{background:v,color:v}}});return{[`${h}`]:{position:"relative"},[`${c}`]:Object.assign(Object.assign(Object.assign(Object.assign({},ia(e)),{position:"absolute",top:r,padding:`0 ${Ut(e.paddingXS)}`,color:e.colorPrimary,lineHeight:Ut(n),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${c}-text`]:{color:e.colorTextLightSolid},[`${c}-corner`]:{position:"absolute",top:"100%",width:i,height:i,color:"currentcolor",border:`${Ut(s(i).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),o),{[`&${c}-placement-end`]:{insetInlineEnd:s(i).mul(-1).equal(),borderEndEndRadius:0,[`${c}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${c}-placement-start`]:{insetInlineStart:s(i).mul(-1).equal(),borderEndStartRadius:0,[`${c}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},JIe=_a(["Badge","Ribbon"],e=>{const t=Oae(e);return YIe(t)},kae),QIe=e=>{const{className:t,prefixCls:n,style:r,color:i,children:s,text:c,placement:h="end",rootClassName:o}=e,{getPrefixCls:m,direction:y}=A.useContext(hi),v=m("ribbon",n),S=`${v}-wrapper`,[C,P,I]=JIe(v,S),N=k7(i,!1),D=Dt(v,`${v}-placement-${h}`,{[`${v}-rtl`]:y==="rtl",[`${v}-color-${i}`]:N},t),k={},F={};return i&&!N&&(k.background=i,F.color=i),C(A.createElement("div",{className:Dt(S,o,P,I)},s,A.createElement("div",{className:Dt(D,P),style:Object.assign(Object.assign({},k),r)},A.createElement("span",{className:`${v}-text`},c),A.createElement("div",{className:`${v}-corner`,style:F}))))};function hW(e){let{prefixCls:t,value:n,current:r,offset:i=0}=e,s;return i&&(s={position:"absolute",top:`${i}00%`,left:0}),A.createElement("span",{style:s,className:Dt(`${t}-only-unit`,{current:r})},n)}function eOe(e,t,n){let r=e,i=0;for(;(r+10)%10!==t;)r+=n,i+=n;return i}function tOe(e){const{prefixCls:t,count:n,value:r}=e,i=Number(r),s=Math.abs(n),[c,h]=A.useState(i),[o,m]=A.useState(s),y=()=>{h(i),m(s)};A.useEffect(()=>{const C=setTimeout(()=>{y()},1e3);return()=>{clearTimeout(C)}},[i]);let v,S;if(c===i||Number.isNaN(i)||Number.isNaN(c))v=[A.createElement(hW,Object.assign({},e,{key:i,current:!0}))],S={transition:"none"};else{v=[];const C=i+10,P=[];for(let D=i;D<=C;D+=1)P.push(D);const I=P.findIndex(D=>D%10===c);v=P.map((D,k)=>{const F=D%10;return A.createElement(hW,Object.assign({},e,{key:D,value:F,offset:k-I,current:k===I}))});const N=o<s?1:-1;S={transform:`translateY(${-eOe(c,i,N)}00%)`}}return A.createElement("span",{className:`${t}-only`,style:S,onTransitionEnd:y},v)}var nOe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const rOe=A.forwardRef((e,t)=>{const{prefixCls:n,count:r,className:i,motionClassName:s,style:c,title:h,show:o,component:m="sup",children:y}=e,v=nOe(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:S}=A.useContext(hi),C=S("scroll-number",n),P=Object.assign(Object.assign({},v),{"data-show":o,style:c,className:Dt(C,i,s),title:h});let I=r;if(r&&Number(r)%1===0){const N=String(r).split("");I=A.createElement("bdi",null,N.map((D,k)=>A.createElement(tOe,{prefixCls:C,count:Number(r),value:D,key:N.length-k})))}return c&&c.borderColor&&(P.style=Object.assign(Object.assign({},c),{boxShadow:`0 0 0 1px ${c.borderColor} inset`})),y?Yu(y,N=>({className:Dt(`${C}-custom-component`,N==null?void 0:N.className,s)})):A.createElement(m,Object.assign({},P,{ref:t}),I)});var iOe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const oOe=A.forwardRef((e,t)=>{var n,r,i,s,c;const{prefixCls:h,scrollNumberPrefixCls:o,children:m,status:y,text:v,color:S,count:C=null,overflowCount:P=99,dot:I=!1,size:N="default",title:D,offset:k,style:F,className:U,rootClassName:B,classNames:z,styles:W,showZero:Y=!1}=e,K=iOe(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:ee,direction:re,badge:oe}=A.useContext(hi),he=ee("badge",h),[be,le,ye]=XIe(he),fe=C>P?`${P}+`:C,ue=fe==="0"||fe===0,xe=C===null||ue&&!Y,ae=(y!=null||S!=null)&&xe,Ee=I&&!ue,Me=Ee?"":fe,de=A.useMemo(()=>(Me==null||Me===""||ue&&!Y)&&!Ee,[Me,ue,Y,Ee]),ze=A.useRef(C);de||(ze.current=C);const $e=ze.current,et=A.useRef(Me);de||(et.current=Me);const gt=et.current,lt=A.useRef(Ee);de||(lt.current=Ee);const We=A.useMemo(()=>{if(!k)return Object.assign(Object.assign({},oe==null?void 0:oe.style),F);const Jt={marginTop:k[1]};return re==="rtl"?Jt.left=parseInt(k[0],10):Jt.right=-parseInt(k[0],10),Object.assign(Object.assign(Object.assign({},Jt),oe==null?void 0:oe.style),F)},[re,k,F,oe==null?void 0:oe.style]),qe=D??(typeof $e=="string"||typeof $e=="number"?$e:void 0),Qe=de||!v?null:A.createElement("span",{className:`${he}-status-text`},v),Ve=!$e||typeof $e!="object"?void 0:Yu($e,Jt=>({style:Object.assign(Object.assign({},We),Jt.style)})),yt=k7(S,!1),it=Dt(z==null?void 0:z.indicator,(n=oe==null?void 0:oe.classNames)===null||n===void 0?void 0:n.indicator,{[`${he}-status-dot`]:ae,[`${he}-status-${y}`]:!!y,[`${he}-color-${S}`]:yt}),pt={};S&&!yt&&(pt.color=S,pt.background=S);const $t=Dt(he,{[`${he}-status`]:ae,[`${he}-not-a-wrapper`]:!m,[`${he}-rtl`]:re==="rtl"},U,B,oe==null?void 0:oe.className,(r=oe==null?void 0:oe.classNames)===null||r===void 0?void 0:r.root,z==null?void 0:z.root,le,ye);if(!m&&ae){const Jt=We.color;return be(A.createElement("span",Object.assign({},K,{className:$t,style:Object.assign(Object.assign(Object.assign({},W==null?void 0:W.root),(i=oe==null?void 0:oe.styles)===null||i===void 0?void 0:i.root),We)}),A.createElement("span",{className:it,style:Object.assign(Object.assign(Object.assign({},W==null?void 0:W.indicator),(s=oe==null?void 0:oe.styles)===null||s===void 0?void 0:s.indicator),pt)}),v&&A.createElement("span",{style:{color:Jt},className:`${he}-status-text`},v)))}return be(A.createElement("span",Object.assign({ref:t},K,{className:$t,style:Object.assign(Object.assign({},(c=oe==null?void 0:oe.styles)===null||c===void 0?void 0:c.root),W==null?void 0:W.root)}),m,A.createElement(nd,{visible:!de,motionName:`${he}-zoom`,motionAppear:!1,motionDeadline:1e3},Jt=>{let{className:on,ref:ln}=Jt;var Lt,en;const Kt=ee("scroll-number",o),Zt=lt.current,En=Dt(z==null?void 0:z.indicator,(Lt=oe==null?void 0:oe.classNames)===null||Lt===void 0?void 0:Lt.indicator,{[`${he}-dot`]:Zt,[`${he}-count`]:!Zt,[`${he}-count-sm`]:N==="small",[`${he}-multiple-words`]:!Zt&&gt&&gt.toString().length>1,[`${he}-status-${y}`]:!!y,[`${he}-color-${S}`]:yt});let Fn=Object.assign(Object.assign(Object.assign({},W==null?void 0:W.indicator),(en=oe==null?void 0:oe.styles)===null||en===void 0?void 0:en.indicator),We);return S&&!yt&&(Fn=Fn||{},Fn.background=S),A.createElement(rOe,{prefixCls:Kt,show:!de,motionClassName:on,className:En,count:gt,title:qe,style:Fn,key:"scrollNumber",ref:ln},Ve)}),Qe))}),Nae=oOe;Nae.Ribbon=QIe;var aOe=tr.ESC,sOe=tr.TAB;function lOe(e){var t=e.visible,n=e.triggerRef,r=e.onVisibleChange,i=e.autoFocus,s=e.overlayRef,c=A.useRef(!1),h=function(){if(t){var v,S;(v=n.current)===null||v===void 0||(S=v.focus)===null||S===void 0||S.call(v),r==null||r(!1)}},o=function(){var v;return(v=s.current)!==null&&v!==void 0&&v.focus?(s.current.focus(),c.current=!0,!0):!1},m=function(v){switch(v.keyCode){case aOe:h();break;case sOe:{var S=!1;c.current||(S=o()),S?v.preventDefault():h();break}}};A.useEffect(function(){return t?(window.addEventListener("keydown",m),i&&Mi(o,3),function(){window.removeEventListener("keydown",m),c.current=!1}):function(){c.current=!1}},[t])}var cOe=A.forwardRef(function(e,t){var n=e.overlay,r=e.arrow,i=e.prefixCls,s=A.useMemo(function(){var h;return typeof n=="function"?h=n():h=n,h},[n]),c=el(t,aA(s));return Oe.createElement(Oe.Fragment,null,r&&Oe.createElement("div",{className:"".concat(i,"-arrow")}),Oe.cloneElement(s,{ref:Uf(s)?c:void 0}))}),bv={adjustX:1,adjustY:1},_v=[0,0],uOe={topLeft:{points:["bl","tl"],overflow:bv,offset:[0,-4],targetOffset:_v},top:{points:["bc","tc"],overflow:bv,offset:[0,-4],targetOffset:_v},topRight:{points:["br","tr"],overflow:bv,offset:[0,-4],targetOffset:_v},bottomLeft:{points:["tl","bl"],overflow:bv,offset:[0,4],targetOffset:_v},bottom:{points:["tc","bc"],overflow:bv,offset:[0,4],targetOffset:_v},bottomRight:{points:["tr","br"],overflow:bv,offset:[0,4],targetOffset:_v}},dOe=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function hOe(e,t){var n,r=e.arrow,i=r===void 0?!1:r,s=e.prefixCls,c=s===void 0?"rc-dropdown":s,h=e.transitionName,o=e.animation,m=e.align,y=e.placement,v=y===void 0?"bottomLeft":y,S=e.placements,C=S===void 0?uOe:S,P=e.getPopupContainer,I=e.showAction,N=e.hideAction,D=e.overlayClassName,k=e.overlayStyle,F=e.visible,U=e.trigger,B=U===void 0?["hover"]:U,z=e.autoFocus,W=e.overlay,Y=e.children,K=e.onVisibleChange,ee=Gr(e,dOe),re=Oe.useState(),oe=Pt(re,2),he=oe[0],be=oe[1],le="visible"in e?F:he,ye=Oe.useRef(null),fe=Oe.useRef(null),ue=Oe.useRef(null);Oe.useImperativeHandle(t,function(){return ye.current});var xe=function(lt){be(lt),K==null||K(lt)};lOe({visible:le,triggerRef:ue,onVisibleChange:xe,autoFocus:z,overlayRef:fe});var ae=function(lt){var We=e.onOverlayClick;be(!1),We&&We(lt)},Ee=function(){return Oe.createElement(cOe,{ref:fe,overlay:W,prefixCls:c,arrow:i})},Me=function(){return typeof W=="function"?Ee:Ee()},de=function(){var lt=e.minOverlayWidthMatchTrigger,We=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?lt:!We},ze=function(){var lt=e.openClassName;return lt!==void 0?lt:"".concat(c,"-open")},$e=Oe.cloneElement(Y,{className:Dt((n=Y.props)===null||n===void 0?void 0:n.className,le&&ze()),ref:Uf(Y)?el(ue,aA(Y)):void 0}),et=N;return!et&&B.indexOf("contextMenu")!==-1&&(et=["click"]),Oe.createElement(j3,Ln({builtinPlacements:C},ee,{prefixCls:c,ref:ye,popupClassName:Dt(D,Ze({},"".concat(c,"-show-arrow"),i)),popupStyle:k,action:B,showAction:I,hideAction:et,popupPlacement:v,popupAlign:m,popupTransitionName:h,popupAnimation:o,popupVisible:le,stretch:de()?"minWidth":"",popup:Me(),onPopupVisibleChange:xe,onPopupClick:ae,getPopupContainer:P}),$e)}const pOe=Oe.forwardRef(hOe);var Rae=A.createContext(null);function Dae(e,t){return e===void 0?null:"".concat(e,"-").concat(t)}function Lae(e){var t=A.useContext(Rae);return Dae(t,e)}var fOe=["children","locked"],Ju=A.createContext(null);function mOe(e,t){var n=Ue({},e);return Object.keys(t).forEach(function(r){var i=t[r];i!==void 0&&(n[r]=i)}),n}function tS(e){var t=e.children,n=e.locked,r=Gr(e,fOe),i=A.useContext(Ju),s=oA(function(){return mOe(i,r)},[i,r],function(c,h){return!n&&(c[0]!==h[0]||!z0(c[1],h[1],!0))});return A.createElement(Ju.Provider,{value:s},t)}var gOe=[],Fae=A.createContext(null);function Z3(){return A.useContext(Fae)}var $ae=A.createContext(gOe);function hA(e){var t=A.useContext($ae);return A.useMemo(function(){return e!==void 0?[].concat(zn(t),[e]):t},[t,e])}var jae=A.createContext(null),N7=A.createContext({});function pW(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(N3(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||n==="a"&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),s=Number(i),c=null;return i&&!Number.isNaN(s)?c=s:r&&c===null&&(c=0),r&&e.disabled&&(c=null),c!==null&&(c>=0||t&&c<0)}return!1}function yOe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=zn(e.querySelectorAll("*")).filter(function(r){return pW(r,t)});return pW(e,t)&&n.unshift(e),n}var v8=tr.LEFT,b8=tr.RIGHT,_8=tr.UP,aE=tr.DOWN,sE=tr.ENTER,zae=tr.ESC,mx=tr.HOME,gx=tr.END,fW=[_8,aE,v8,b8];function vOe(e,t,n,r){var i,s="prev",c="next",h="children",o="parent";if(e==="inline"&&r===sE)return{inlineTrigger:!0};var m=Ze(Ze({},_8,s),aE,c),y=Ze(Ze(Ze(Ze({},v8,n?c:s),b8,n?s:c),aE,h),sE,h),v=Ze(Ze(Ze(Ze(Ze(Ze({},_8,s),aE,c),sE,h),zae,o),v8,n?h:o),b8,n?o:h),S={inline:m,horizontal:y,vertical:v,inlineSub:m,horizontalSub:v,verticalSub:v},C=(i=S["".concat(e).concat(t?"":"Sub")])===null||i===void 0?void 0:i[r];switch(C){case s:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case o:return{offset:-1,sibling:!1};case h:return{offset:1,sibling:!1};default:return null}}function bOe(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}function _Oe(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}function R7(e,t){var n=yOe(e,!0);return n.filter(function(r){return t.has(r)})}function mW(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!e)return null;var i=R7(e,t),s=i.length,c=i.findIndex(function(h){return n===h});return r<0?c===-1?c=s-1:c-=1:r>0&&(c+=1),c=(c+s)%s,i[c]}var x8=function(t,n){var r=new Set,i=new Map,s=new Map;return t.forEach(function(c){var h=document.querySelector("[data-menu-id='".concat(Dae(n,c),"']"));h&&(r.add(h),s.set(h,c),i.set(c,h))}),{elements:r,key2element:i,element2key:s}};function xOe(e,t,n,r,i,s,c,h,o,m){var y=A.useRef(),v=A.useRef();v.current=t;var S=function(){Mi.cancel(y.current)};return A.useEffect(function(){return function(){S()}},[]),function(C){var P=C.which;if([].concat(fW,[sE,zae,mx,gx]).includes(P)){var I=s(),N=x8(I,r),D=N,k=D.elements,F=D.key2element,U=D.element2key,B=F.get(t),z=_Oe(B,k),W=U.get(z),Y=vOe(e,c(W,!0).length===1,n,P);if(!Y&&P!==mx&&P!==gx)return;(fW.includes(P)||[mx,gx].includes(P))&&C.preventDefault();var K=function(fe){if(fe){var ue=fe,xe=fe.querySelector("a");xe!=null&&xe.getAttribute("href")&&(ue=xe);var ae=U.get(fe);h(ae),S(),y.current=Mi(function(){v.current===ae&&ue.focus()})}};if([mx,gx].includes(P)||Y.sibling||!z){var ee;!z||e==="inline"?ee=i.current:ee=bOe(z);var re,oe=R7(ee,k);P===mx?re=oe[0]:P===gx?re=oe[oe.length-1]:re=mW(ee,k,z,Y.offset),K(re)}else if(Y.inlineTrigger)o(W);else if(Y.offset>0)o(W,!0),S(),y.current=Mi(function(){N=x8(I,r);var ye=z.getAttribute("aria-controls"),fe=document.getElementById(ye),ue=mW(fe,N.elements);K(ue)},5);else if(Y.offset<0){var he=c(W,!0),be=he[he.length-2],le=F.get(be);o(be,!1),K(le)}}m==null||m(C)}}function wOe(e){Promise.resolve().then(e)}var D7="__RC_UTIL_PATH_SPLIT__",gW=function(t){return t.join(D7)},SOe=function(t){return t.split(D7)},w8="rc-menu-more";function AOe(){var e=A.useState({}),t=Pt(e,2),n=t[1],r=A.useRef(new Map),i=A.useRef(new Map),s=A.useState([]),c=Pt(s,2),h=c[0],o=c[1],m=A.useRef(0),y=A.useRef(!1),v=function(){y.current||n({})},S=A.useCallback(function(F,U){var B=gW(U);i.current.set(B,F),r.current.set(F,B),m.current+=1;var z=m.current;wOe(function(){z===m.current&&v()})},[]),C=A.useCallback(function(F,U){var B=gW(U);i.current.delete(B),r.current.delete(F)},[]),P=A.useCallback(function(F){o(F)},[]),I=A.useCallback(function(F,U){var B=r.current.get(F)||"",z=SOe(B);return U&&h.includes(z[0])&&z.unshift(w8),z},[h]),N=A.useCallback(function(F,U){return F.some(function(B){var z=I(B,!0);return z.includes(U)})},[I]),D=function(){var U=zn(r.current.keys());return h.length&&U.push(w8),U},k=A.useCallback(function(F){var U="".concat(r.current.get(F)).concat(D7),B=new Set;return zn(i.current.keys()).forEach(function(z){z.startsWith(U)&&B.add(i.current.get(z))}),B},[]);return A.useEffect(function(){return function(){y.current=!0}},[]),{registerPath:S,unregisterPath:C,refreshOverflowKeys:P,isSubPathKey:N,getKeyPath:I,getKeys:D,getSubPathKeys:k}}function zx(e){var t=A.useRef(e);t.current=e;var n=A.useCallback(function(){for(var r,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(r=t.current)===null||r===void 0?void 0:r.call.apply(r,[t].concat(s))},[]);return e?n:void 0}var COe=Math.random().toFixed(5).toString().slice(2),yW=0;function MOe(e){var t=Ra(e,{value:e}),n=Pt(t,2),r=n[0],i=n[1];return A.useEffect(function(){yW+=1;var s="".concat(COe,"-").concat(yW);i("rc-menu-uuid-".concat(s))},[]),r}function Bae(e,t,n,r){var i=A.useContext(Ju),s=i.activeKey,c=i.onActive,h=i.onInactive,o={active:s===e};return t||(o.onMouseEnter=function(m){n==null||n({key:e,domEvent:m}),c(e)},o.onMouseLeave=function(m){r==null||r({key:e,domEvent:m}),h(e)}),o}function Zae(e){var t=A.useContext(Ju),n=t.mode,r=t.rtl,i=t.inlineIndent;if(n!=="inline")return null;var s=e;return r?{paddingRight:s*i}:{paddingLeft:s*i}}function Uae(e){var t=e.icon,n=e.props,r=e.children,i;return t===null||t===!1?null:(typeof t=="function"?i=A.createElement(t,Ue({},n)):typeof t!="boolean"&&(i=t),i||r||null)}var EOe=["item"];function cT(e){var t=e.item,n=Gr(e,EOe);return Object.defineProperty(n,"item",{get:function(){return ns(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}var TOe=["title","attribute","elementRef"],POe=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],IOe=["active"],OOe=function(e){bl(n,e);var t=ry(n);function n(){return Go(this,n),t.apply(this,arguments)}return Ko(n,[{key:"render",value:function(){var i=this.props,s=i.title,c=i.attribute,h=i.elementRef,o=Gr(i,TOe),m=Vl(o,["eventKey","popupClassName","popupOffset","onTitleClick"]);return ns(!c,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),A.createElement(Gd.Item,Ln({},c,{title:typeof s=="string"?s:void 0},m,{ref:h}))}}]),n}(A.Component),kOe=A.forwardRef(function(e,t){var n=e.style,r=e.className,i=e.eventKey;e.warnKey;var s=e.disabled,c=e.itemIcon,h=e.children,o=e.role,m=e.onMouseEnter,y=e.onMouseLeave,v=e.onClick,S=e.onKeyDown,C=e.onFocus,P=Gr(e,POe),I=Lae(i),N=A.useContext(Ju),D=N.prefixCls,k=N.onItemClick,F=N.disabled,U=N.overflowDisabled,B=N.itemIcon,z=N.selectedKeys,W=N.onActive,Y=A.useContext(N7),K=Y._internalRenderMenuItem,ee="".concat(D,"-item"),re=A.useRef(),oe=A.useRef(),he=F||s,be=Tb(t,oe),le=hA(i),ye=function(We){return{key:i,keyPath:zn(le).reverse(),item:re.current,domEvent:We}},fe=c||B,ue=Bae(i,he,m,y),xe=ue.active,ae=Gr(ue,IOe),Ee=z.includes(i),Me=Zae(le.length),de=function(We){if(!he){var qe=ye(We);v==null||v(cT(qe)),k(qe)}},ze=function(We){if(S==null||S(We),We.which===tr.ENTER){var qe=ye(We);v==null||v(cT(qe)),k(qe)}},$e=function(We){W(i),C==null||C(We)},et={};e.role==="option"&&(et["aria-selected"]=Ee);var gt=A.createElement(OOe,Ln({ref:re,elementRef:be,role:o===null?"none":o||"menuitem",tabIndex:s?null:-1,"data-menu-id":U&&I?null:I},P,ae,et,{component:"li","aria-disabled":s,style:Ue(Ue({},Me),n),className:Dt(ee,Ze(Ze(Ze({},"".concat(ee,"-active"),xe),"".concat(ee,"-selected"),Ee),"".concat(ee,"-disabled"),he),r),onClick:de,onKeyDown:ze,onFocus:$e}),h,A.createElement(Uae,{props:Ue(Ue({},e),{},{isSelected:Ee}),icon:fe}));return K&&(gt=K(gt,e,{selected:Ee})),gt});function NOe(e,t){var n=e.eventKey,r=Z3(),i=hA(n);return A.useEffect(function(){if(r)return r.registerPath(n,i),function(){r.unregisterPath(n,i)}},[i]),r?null:A.createElement(kOe,Ln({},e,{ref:t}))}const U3=A.forwardRef(NOe);var ROe=["className","children"],DOe=function(t,n){var r=t.className,i=t.children,s=Gr(t,ROe),c=A.useContext(Ju),h=c.prefixCls,o=c.mode,m=c.rtl;return A.createElement("ul",Ln({className:Dt(h,m&&"".concat(h,"-rtl"),"".concat(h,"-sub"),"".concat(h,"-").concat(o==="inline"?"inline":"vertical"),r),role:"menu"},s,{"data-menu-list":!0,ref:n}),i)},L7=A.forwardRef(DOe);L7.displayName="SubMenuList";function F7(e,t){return Pc(e).map(function(n,r){if(A.isValidElement(n)){var i,s,c=n.key,h=(i=(s=n.props)===null||s===void 0?void 0:s.eventKey)!==null&&i!==void 0?i:c,o=h==null;o&&(h="tmp_key-".concat([].concat(zn(t),[r]).join("-")));var m={key:h,eventKey:h};return A.cloneElement(n,m)}return n})}var Ws={adjustX:1,adjustY:1},LOe={topLeft:{points:["bl","tl"],overflow:Ws},topRight:{points:["br","tr"],overflow:Ws},bottomLeft:{points:["tl","bl"],overflow:Ws},bottomRight:{points:["tr","br"],overflow:Ws},leftTop:{points:["tr","tl"],overflow:Ws},leftBottom:{points:["br","bl"],overflow:Ws},rightTop:{points:["tl","tr"],overflow:Ws},rightBottom:{points:["bl","br"],overflow:Ws}},FOe={topLeft:{points:["bl","tl"],overflow:Ws},topRight:{points:["br","tr"],overflow:Ws},bottomLeft:{points:["tl","bl"],overflow:Ws},bottomRight:{points:["tr","br"],overflow:Ws},rightTop:{points:["tr","tl"],overflow:Ws},rightBottom:{points:["br","bl"],overflow:Ws},leftTop:{points:["tl","tr"],overflow:Ws},leftBottom:{points:["bl","br"],overflow:Ws}};function Hae(e,t,n){if(t)return t;if(n)return n[e]||n.other}var $Oe={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function jOe(e){var t=e.prefixCls,n=e.visible,r=e.children,i=e.popup,s=e.popupStyle,c=e.popupClassName,h=e.popupOffset,o=e.disabled,m=e.mode,y=e.onVisibleChange,v=A.useContext(Ju),S=v.getPopupContainer,C=v.rtl,P=v.subMenuOpenDelay,I=v.subMenuCloseDelay,N=v.builtinPlacements,D=v.triggerSubMenuAction,k=v.forceSubMenuRender,F=v.rootClassName,U=v.motion,B=v.defaultMotions,z=A.useState(!1),W=Pt(z,2),Y=W[0],K=W[1],ee=Ue(C?Ue({},FOe):Ue({},LOe),N),re=$Oe[m],oe=Hae(m,U,B),he=A.useRef(oe);m!=="inline"&&(he.current=oe);var be=Ue(Ue({},he.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),le=A.useRef();return A.useEffect(function(){return le.current=Mi(function(){K(n)}),function(){Mi.cancel(le.current)}},[n]),A.createElement(j3,{prefixCls:t,popupClassName:Dt("".concat(t,"-popup"),Ze({},"".concat(t,"-rtl"),C),c,F),stretch:m==="horizontal"?"minWidth":null,getPopupContainer:S,builtinPlacements:ee,popupPlacement:re,popupVisible:Y,popup:i,popupStyle:s,popupAlign:h&&{offset:h},action:o?[]:[D],mouseEnterDelay:P,mouseLeaveDelay:I,onPopupVisibleChange:y,forceRender:k,popupMotion:be,fresh:!0},r)}function zOe(e){var t=e.id,n=e.open,r=e.keyPath,i=e.children,s="inline",c=A.useContext(Ju),h=c.prefixCls,o=c.forceSubMenuRender,m=c.motion,y=c.defaultMotions,v=c.mode,S=A.useRef(!1);S.current=v===s;var C=A.useState(!S.current),P=Pt(C,2),I=P[0],N=P[1],D=S.current?n:!1;A.useEffect(function(){S.current&&N(!1)},[v]);var k=Ue({},Hae(s,m,y));r.length>1&&(k.motionAppear=!1);var F=k.onVisibleChanged;return k.onVisibleChanged=function(U){return!S.current&&!U&&N(!0),F==null?void 0:F(U)},I?null:A.createElement(tS,{mode:s,locked:!S.current},A.createElement(nd,Ln({visible:D},k,{forceRender:o,removeOnLeave:!1,leavedClassName:"".concat(h,"-hidden")}),function(U){var B=U.className,z=U.style;return A.createElement(L7,{id:t,className:B,style:z},i)}))}var BOe=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],ZOe=["active"],UOe=function(t){var n=t.style,r=t.className,i=t.title,s=t.eventKey;t.warnKey;var c=t.disabled,h=t.internalPopupClose,o=t.children,m=t.itemIcon,y=t.expandIcon,v=t.popupClassName,S=t.popupOffset,C=t.popupStyle,P=t.onClick,I=t.onMouseEnter,N=t.onMouseLeave,D=t.onTitleClick,k=t.onTitleMouseEnter,F=t.onTitleMouseLeave,U=Gr(t,BOe),B=Lae(s),z=A.useContext(Ju),W=z.prefixCls,Y=z.mode,K=z.openKeys,ee=z.disabled,re=z.overflowDisabled,oe=z.activeKey,he=z.selectedKeys,be=z.itemIcon,le=z.expandIcon,ye=z.onItemClick,fe=z.onOpenChange,ue=z.onActive,xe=A.useContext(N7),ae=xe._internalRenderSubMenuItem,Ee=A.useContext(jae),Me=Ee.isSubPathKey,de=hA(),ze="".concat(W,"-submenu"),$e=ee||c,et=A.useRef(),gt=A.useRef(),lt=m??be,We=y??le,qe=K.includes(s),Qe=!re&&qe,Ve=Me(he,s),yt=Bae(s,$e,k,F),it=yt.active,pt=Gr(yt,ZOe),$t=A.useState(!1),Jt=Pt($t,2),on=Jt[0],ln=Jt[1],Lt=function(St){$e||ln(St)},en=function(St){Lt(!0),I==null||I({key:s,domEvent:St})},Kt=function(St){Lt(!1),N==null||N({key:s,domEvent:St})},Zt=A.useMemo(function(){return it||(Y!=="inline"?on||Me([oe],s):!1)},[Y,it,oe,on,s,Me]),En=Zae(de.length),Fn=function(St){$e||(D==null||D({key:s,domEvent:St}),Y==="inline"&&fe(s,!qe))},je=zx(function(nt){P==null||P(cT(nt)),ye(nt)}),me=function(St){Y!=="inline"&&fe(s,St)},we=function(){ue(s)},Ne=B&&"".concat(B,"-popup"),Xe=A.createElement("div",Ln({role:"menuitem",style:En,className:"".concat(ze,"-title"),tabIndex:$e?null:-1,ref:et,title:typeof i=="string"?i:null,"data-menu-id":re&&B?null:B,"aria-expanded":Qe,"aria-haspopup":!0,"aria-controls":Ne,"aria-disabled":$e,onClick:Fn,onFocus:we},pt),i,A.createElement(Uae,{icon:Y!=="horizontal"?We:void 0,props:Ue(Ue({},t),{},{isOpen:Qe,isSubMenu:!0})},A.createElement("i",{className:"".concat(ze,"-arrow")}))),ot=A.useRef(Y);if(Y!=="inline"&&de.length>1?ot.current="vertical":ot.current=Y,!re){var st=ot.current;Xe=A.createElement(jOe,{mode:st,prefixCls:ze,visible:!h&&Qe&&Y!=="inline",popupClassName:v,popupOffset:S,popupStyle:C,popup:A.createElement(tS,{mode:st==="horizontal"?"vertical":st},A.createElement(L7,{id:Ne,ref:gt},o)),disabled:$e,onVisibleChange:me},Xe)}var _t=A.createElement(Gd.Item,Ln({role:"none"},U,{component:"li",style:n,className:Dt(ze,"".concat(ze,"-").concat(Y),r,Ze(Ze(Ze(Ze({},"".concat(ze,"-open"),Qe),"".concat(ze,"-active"),Zt),"".concat(ze,"-selected"),Ve),"".concat(ze,"-disabled"),$e)),onMouseEnter:en,onMouseLeave:Kt}),Xe,!re&&A.createElement(zOe,{id:Ne,open:Qe,keyPath:de},o));return ae&&(_t=ae(_t,t,{selected:Ve,active:Zt,open:Qe,disabled:$e})),A.createElement(tS,{onItemClick:je,mode:Y==="horizontal"?"vertical":Y,itemIcon:lt,expandIcon:We},_t)};function $7(e){var t=e.eventKey,n=e.children,r=hA(t),i=F7(n,r),s=Z3();A.useEffect(function(){if(s)return s.registerPath(t,r),function(){s.unregisterPath(t,r)}},[r]);var c;return s?c=i:c=A.createElement(UOe,e,i),A.createElement($ae.Provider,{value:r},c)}var HOe=["className","title","eventKey","children"],VOe=["children"],WOe=function(t){var n=t.className,r=t.title;t.eventKey;var i=t.children,s=Gr(t,HOe),c=A.useContext(Ju),h=c.prefixCls,o="".concat(h,"-item-group");return A.createElement("li",Ln({role:"presentation"},s,{onClick:function(y){return y.stopPropagation()},className:Dt(o,n)}),A.createElement("div",{role:"presentation",className:"".concat(o,"-title"),title:typeof r=="string"?r:void 0},r),A.createElement("ul",{role:"group",className:"".concat(o,"-list")},i))};function Vae(e){var t=e.children,n=Gr(e,VOe),r=hA(n.eventKey),i=F7(t,r),s=Z3();return s?i:A.createElement(WOe,Vl(n,["warnKey"]),i)}function Wae(e){var t=e.className,n=e.style,r=A.useContext(Ju),i=r.prefixCls,s=Z3();return s?null:A.createElement("li",{role:"separator",className:Dt("".concat(i,"-item-divider"),t),style:n})}var GOe=["label","children","key","type"];function S8(e){return(e||[]).map(function(t,n){if(t&&Hr(t)==="object"){var r=t,i=r.label,s=r.children,c=r.key,h=r.type,o=Gr(r,GOe),m=c??"tmp-".concat(n);return s||h==="group"?h==="group"?A.createElement(Vae,Ln({key:m},o,{title:i}),S8(s)):A.createElement($7,Ln({key:m},o,{title:i}),S8(s)):h==="divider"?A.createElement(Wae,Ln({key:m},o)):A.createElement(U3,Ln({key:m},o),i)}return null}).filter(function(t){return t})}function KOe(e,t,n){var r=e;return t&&(r=S8(t)),F7(r,n)}var qOe=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],xv=[],XOe=A.forwardRef(function(e,t){var n,r=e,i=r.prefixCls,s=i===void 0?"rc-menu":i,c=r.rootClassName,h=r.style,o=r.className,m=r.tabIndex,y=m===void 0?0:m,v=r.items,S=r.children,C=r.direction,P=r.id,I=r.mode,N=I===void 0?"vertical":I,D=r.inlineCollapsed,k=r.disabled,F=r.disabledOverflow,U=r.subMenuOpenDelay,B=U===void 0?.1:U,z=r.subMenuCloseDelay,W=z===void 0?.1:z,Y=r.forceSubMenuRender,K=r.defaultOpenKeys,ee=r.openKeys,re=r.activeKey,oe=r.defaultActiveFirst,he=r.selectable,be=he===void 0?!0:he,le=r.multiple,ye=le===void 0?!1:le,fe=r.defaultSelectedKeys,ue=r.selectedKeys,xe=r.onSelect,ae=r.onDeselect,Ee=r.inlineIndent,Me=Ee===void 0?24:Ee,de=r.motion,ze=r.defaultMotions,$e=r.triggerSubMenuAction,et=$e===void 0?"hover":$e,gt=r.builtinPlacements,lt=r.itemIcon,We=r.expandIcon,qe=r.overflowedIndicator,Qe=qe===void 0?"...":qe,Ve=r.overflowedIndicatorPopupClassName,yt=r.getPopupContainer,it=r.onClick,pt=r.onOpenChange,$t=r.onKeyDown;r.openAnimation,r.openTransitionName;var Jt=r._internalRenderMenuItem,on=r._internalRenderSubMenuItem,ln=Gr(r,qOe),Lt=A.useMemo(function(){return KOe(S,v,xv)},[S,v]),en=A.useState(!1),Kt=Pt(en,2),Zt=Kt[0],En=Kt[1],Fn=A.useRef(),je=MOe(P),me=C==="rtl",we=Ra(K,{value:ee,postState:function(ci){return ci||xv}}),Ne=Pt(we,2),Xe=Ne[0],ot=Ne[1],st=function(ci){var lr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function cr(){ot(ci),pt==null||pt(ci)}lr?Wa.flushSync(cr):cr()},_t=A.useState(Xe),nt=Pt(_t,2),St=nt[0],Et=nt[1],ft=A.useRef(!1),jt=A.useMemo(function(){return(N==="inline"||N==="vertical")&&D?["vertical",D]:[N,!1]},[N,D]),Bn=Pt(jt,2),rr=Bn[0],dr=Bn[1],ar=rr==="inline",un=A.useState(rr),hn=Pt(un,2),vn=hn[0],In=hn[1],Sn=A.useState(dr),an=Pt(Sn,2),kn=an[0],hr=an[1];A.useEffect(function(){In(rr),hr(dr),ft.current&&(ar?ot(St):st(xv))},[rr,dr]);var Ht=A.useState(0),Un=Pt(Ht,2),rt=Un[0],ut=Un[1],Tt=rt>=Lt.length-1||vn!=="horizontal"||F;A.useEffect(function(){ar&&Et(Xe)},[Xe]),A.useEffect(function(){return ft.current=!0,function(){ft.current=!1}},[]);var Rt=AOe(),Gt=Rt.registerPath,Qt=Rt.unregisterPath,zt=Rt.refreshOverflowKeys,dt=Rt.isSubPathKey,At=Rt.getKeyPath,kt=Rt.getKeys,Cn=Rt.getSubPathKeys,$n=A.useMemo(function(){return{registerPath:Gt,unregisterPath:Qt}},[Gt,Qt]),_n=A.useMemo(function(){return{isSubPathKey:dt}},[dt]);A.useEffect(function(){zt(Tt?xv:Lt.slice(rt+1).map(function(Pi){return Pi.key}))},[rt,Tt]);var sr=Ra(re||oe&&((n=Lt[0])===null||n===void 0?void 0:n.key),{value:re}),zr=Pt(sr,2),cn=zr[0],Nn=zr[1],pr=zx(function(Pi){Nn(Pi)}),qn=zx(function(){Nn(void 0)});A.useImperativeHandle(t,function(){return{list:Fn.current,focus:function(ci){var lr,cr=kt(),kr=x8(cr,je),ur=kr.elements,Ui=kr.key2element,wo=kr.element2key,oa=R7(Fn.current,ur),qa=cn??(oa[0]?wo.get(oa[0]):(lr=Lt.find(function(ls){return!ls.props.disabled}))===null||lr===void 0?void 0:lr.key),Ji=Ui.get(qa);if(qa&&Ji){var La;Ji==null||(La=Ji.focus)===null||La===void 0||La.call(Ji,ci)}}}});var li=Ra(fe||[],{value:ue,postState:function(ci){return Array.isArray(ci)?ci:ci==null?xv:[ci]}}),Po=Pt(li,2),wi=Po[0],ss=Po[1],$o=function(ci){if(be){var lr=ci.key,cr=wi.includes(lr),kr;ye?cr?kr=wi.filter(function(Ui){return Ui!==lr}):kr=[].concat(zn(wi),[lr]):kr=[lr],ss(kr);var ur=Ue(Ue({},ci),{},{selectedKeys:kr});cr?ae==null||ae(ur):xe==null||xe(ur)}!ye&&Xe.length&&vn!=="inline"&&st(xv)},xa=zx(function(Pi){it==null||it(cT(Pi)),$o(Pi)}),wa=zx(function(Pi,ci){var lr=Xe.filter(function(kr){return kr!==Pi});if(ci)lr.push(Pi);else if(vn!=="inline"){var cr=Cn(Pi);lr=lr.filter(function(kr){return!cr.has(kr)})}z0(Xe,lr,!0)||st(lr,!0)}),qo=function(ci,lr){var cr=lr??!Xe.includes(ci);wa(ci,cr)},_l=xOe(vn,cn,me,je,Fn,kt,At,Nn,qo,$t);A.useEffect(function(){En(!0)},[]);var xs=A.useMemo(function(){return{_internalRenderMenuItem:Jt,_internalRenderSubMenuItem:on}},[Jt,on]),Ka=vn!=="horizontal"||F?Lt:Lt.map(function(Pi,ci){return A.createElement(tS,{key:Pi.key,overflowDisabled:ci>rt},Pi)}),pa=A.createElement(Gd,Ln({id:P,ref:Fn,prefixCls:"".concat(s,"-overflow"),component:"ul",itemComponent:U3,className:Dt(s,"".concat(s,"-root"),"".concat(s,"-").concat(vn),o,Ze(Ze({},"".concat(s,"-inline-collapsed"),kn),"".concat(s,"-rtl"),me),c),dir:C,style:h,role:"menu",tabIndex:y,data:Ka,renderRawItem:function(ci){return ci},renderRawRest:function(ci){var lr=ci.length,cr=lr?Lt.slice(-lr):null;return A.createElement($7,{eventKey:w8,title:Qe,disabled:Tt,internalPopupClose:lr===0,popupClassName:Ve},cr)},maxCount:vn!=="horizontal"||F?Gd.INVALIDATE:Gd.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(ci){ut(ci)},onKeyDown:_l},ln));return A.createElement(N7.Provider,{value:xs},A.createElement(Rae.Provider,{value:je},A.createElement(tS,{prefixCls:s,rootClassName:c,mode:vn,openKeys:Xe,rtl:me,disabled:k,motion:Zt?de:null,defaultMotions:Zt?ze:null,activeKey:cn,onActive:pr,onInactive:qn,selectedKeys:wi,inlineIndent:Me,subMenuOpenDelay:B,subMenuCloseDelay:W,forceSubMenuRender:Y,builtinPlacements:gt,triggerSubMenuAction:et,getPopupContainer:yt,itemIcon:lt,expandIcon:We,onItemClick:xa,onOpenChange:wa},A.createElement(jae.Provider,{value:_n},pa),A.createElement("div",{style:{display:"none"},"aria-hidden":!0},A.createElement(Fae.Provider,{value:$n},Lt)))))}),pA=XOe;pA.Item=U3;pA.SubMenu=$7;pA.ItemGroup=Vae;pA.Divider=Wae;var YOe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},JOe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:YOe}))},QOe=A.forwardRef(JOe),e2e=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],t2e=A.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-checkbox":n,i=e.className,s=e.style,c=e.checked,h=e.disabled,o=e.defaultChecked,m=o===void 0?!1:o,y=e.type,v=y===void 0?"checkbox":y,S=e.title,C=e.onChange,P=Gr(e,e2e),I=A.useRef(null),N=Ra(m,{value:c}),D=Pt(N,2),k=D[0],F=D[1];A.useImperativeHandle(t,function(){return{focus:function(W){var Y;(Y=I.current)===null||Y===void 0||Y.focus(W)},blur:function(){var W;(W=I.current)===null||W===void 0||W.blur()},input:I.current}});var U=Dt(r,i,Ze(Ze({},"".concat(r,"-checked"),k),"".concat(r,"-disabled"),h)),B=function(W){h||("checked"in e||F(W.target.checked),C==null||C({target:Ue(Ue({},e),{},{type:v,checked:W.target.checked}),stopPropagation:function(){W.stopPropagation()},preventDefault:function(){W.preventDefault()},nativeEvent:W.nativeEvent}))};return A.createElement("span",{className:U,title:S,style:s},A.createElement("input",Ln({},P,{className:"".concat(r,"-input"),ref:I,onChange:B,disabled:h,checked:!!k,type:v})),A.createElement("span",{className:"".concat(r,"-inner")}))});function j7(e){return lo(e,{inputAffixPadding:e.paddingXXS})}const z7=e=>{const{controlHeight:t,fontSize:n,lineHeight:r,lineWidth:i,controlHeightSM:s,controlHeightLG:c,fontSizeLG:h,lineHeightLG:o,paddingSM:m,controlPaddingHorizontalSM:y,controlPaddingHorizontal:v,colorFillAlter:S,colorPrimaryHover:C,colorPrimary:P,controlOutlineWidth:I,controlOutline:N,colorErrorOutline:D,colorWarningOutline:k,colorBgContainer:F}=e;return{paddingBlock:Math.max(Math.round((t-n*r)/2*10)/10-i,0),paddingBlockSM:Math.max(Math.round((s-n*r)/2*10)/10-i,0),paddingBlockLG:Math.ceil((c-h*o)/2*10)/10-i,paddingInline:m-i,paddingInlineSM:y-i,paddingInlineLG:v-i,addonBg:S,activeBorderColor:P,hoverBorderColor:C,activeShadow:`0 0 0 ${I}px ${N}`,errorActiveShadow:`0 0 0 ${I}px ${D}`,warningActiveShadow:`0 0 0 ${I}px ${k}`,hoverBg:F,activeBg:F,inputFontSize:n,inputFontSizeLG:h,inputFontSizeSM:n}},n2e=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),B7=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},n2e(lo(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),Gae=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),vW=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},Gae(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}})}),Kae=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Gae(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},B7(e))}),vW(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),vW(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),bW=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),qae=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.addonBg,border:`${Ut(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},bW(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),bW(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group-addon`]:Object.assign({},B7(e))}})}),Xae=(e,t)=>({"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${e.componentCls}-disabled, &[disabled]`]:{color:e.colorTextDisabled}},t)}),Yae=(e,t)=>({background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:t==null?void 0:t.inputColor},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}),_W=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},Yae(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}})}),Jae=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Yae(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.colorPrimary})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},B7(e))}),_W(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),_W(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),xW=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{background:t.addonBg,color:t.addonColor}}}),Qae=e=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary},[`${e.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${Ut(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${Ut(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}}},xW(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),xW(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${Ut(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${Ut(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${Ut(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${Ut(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${Ut(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${Ut(e.lineWidth)} ${e.lineType} ${e.colorBorder}`}}}})}),ese=e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),tse=e=>{const{paddingBlockLG:t,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:i}=e;return{padding:`${Ut(t)} ${Ut(i)}`,fontSize:e.inputFontSizeLG,lineHeight:n,borderRadius:r}},nse=e=>({padding:`${Ut(e.paddingBlockSM)} ${Ut(e.paddingInlineSM)}`,fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),H3=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${Ut(e.paddingBlock)} ${Ut(e.paddingInline)}`,color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},ese(e.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},tse(e)),"&-sm":Object.assign({},nse(e)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),rse=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:Object.assign({},tse(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:Object.assign({},nse(e)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${Ut(e.paddingInline)}`,color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${Ut(e.calc(e.paddingBlock).add(1).mul(-1).equal())} ${Ut(e.calc(e.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${Ut(e.lineWidth)} ${e.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${n}-select-selector`]:{color:e.colorPrimary}}},[`${n}-cascader-picker`]:{margin:`-9px ${Ut(e.calc(e.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[`${t}`]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:Object.assign(Object.assign({display:"block"},d7()),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${t}-affix-wrapper,
        & > ${t}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},[`${t}`]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${t},
      & > ${n}-cascader-picker ${t},
      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${t},
      & > ${n}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${t},
      & > ${n}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${n}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},r2e=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:r,calc:i}=e,c=i(n).sub(i(r).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ia(e)),H3(e)),Kae(e)),Jae(e)),Xae(e)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:n,paddingTop:c,paddingBottom:c}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},i2e=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${Ut(e.inputAffixPadding)}`}}}},o2e=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:s,colorIconHover:c,iconCls:h}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign(Object.assign(Object.assign({},H3(e)),{display:"inline-flex",[`&:not(${t}-disabled):hover`]:{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${t}`]:{padding:0},[`> input${t}, > textarea${t}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),i2e(e)),{[`${h}${t}-password-icon`]:{color:s,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:c}}})}},a2e=e=>{const{componentCls:t,borderRadiusLG:n,borderRadiusSM:r}=e;return{[`${t}-group`]:Object.assign(Object.assign(Object.assign({},ia(e)),rse(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:n,fontSize:e.inputFontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:r}}},qae(e)),Qae(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},s2e=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-search`;return{[r]:{[`${t}`]:{"&:hover, &:focus":{borderColor:e.colorPrimaryHover,[`+ ${t}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{borderRadius:0},[`${t}-lg`]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal({unit:!1})},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-primary)`]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${r}-button`]:{height:e.controlHeightLG},[`&-small ${r}-button`]:{height:e.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,
        > ${t},
        ${t}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}},l2e=e=>{const{componentCls:t,paddingLG:n}=e,r=`${t}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${t}`]:{height:"100%"},[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},"&-allow-clear":{[`> ${t}`]:{paddingInlineEnd:n}},[`&-affix-wrapper${r}-has-feedback`]:{[`${t}`]:{paddingInlineEnd:n}},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,insetBlockStart:e.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}},c2e=e=>{const{componentCls:t}=e;return{[`${t}-out-of-range`]:{[`&, & input, & textarea, ${t}-show-count-suffix, ${t}-data-count`]:{color:e.colorError}}}},Z7=_a("Input",e=>{const t=lo(e,j7(e));return[r2e(t),l2e(t),o2e(t),a2e(t),s2e(t),c2e(t),D3(t)]},z7,{resetFont:!1});var u2e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},d2e=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:u2e}))},h2e=A.forwardRef(d2e);const V3=A.createContext(null);var p2e=function(t){var n=t.activeTabOffset,r=t.horizontal,i=t.rtl,s=t.indicator,c=s===void 0?{}:s,h=c.size,o=c.align,m=o===void 0?"center":o,y=A.useState(),v=Pt(y,2),S=v[0],C=v[1],P=A.useRef(),I=Oe.useCallback(function(D){return typeof h=="function"?h(D):typeof h=="number"?h:D},[h]);function N(){Mi.cancel(P.current)}return A.useEffect(function(){var D={};if(n)if(r){D.width=I(n.width);var k=i?"right":"left";m==="start"&&(D[k]=n[k]),m==="center"&&(D[k]=n[k]+n.width/2,D.transform=i?"translateX(50%)":"translateX(-50%)"),m==="end"&&(D[k]=n[k]+n.width,D.transform="translateX(-100%)")}else D.height=I(n.height),m==="start"&&(D.top=n.top),m==="center"&&(D.top=n.top+n.height/2,D.transform="translateY(-50%)"),m==="end"&&(D.top=n.top+n.height,D.transform="translateY(-100%)");return N(),P.current=Mi(function(){C(D)}),N},[n,r,i,m,I]),{style:S}},wW={width:0,height:0,left:0,top:0};function f2e(e,t,n){return A.useMemo(function(){for(var r,i=new Map,s=t.get((r=e[0])===null||r===void 0?void 0:r.key)||wW,c=s.left+s.width,h=0;h<e.length;h+=1){var o=e[h].key,m=t.get(o);if(!m){var y;m=t.get((y=e[h-1])===null||y===void 0?void 0:y.key)||wW}var v=i.get(o)||Ue({},m);v.right=c-v.left-v.width,i.set(o,v)}return i},[e.map(function(r){return r.key}).join("_"),t,n])}function SW(e,t){var n=A.useRef(e),r=A.useState({}),i=Pt(r,2),s=i[1];function c(h){var o=typeof h=="function"?h(n.current):h;o!==n.current&&t(o,n.current),n.current=o,s({})}return[n.current,c]}var m2e=.1,AW=.01,lE=20,CW=Math.pow(.995,lE);function g2e(e,t){var n=A.useState(),r=Pt(n,2),i=r[0],s=r[1],c=A.useState(0),h=Pt(c,2),o=h[0],m=h[1],y=A.useState(0),v=Pt(y,2),S=v[0],C=v[1],P=A.useState(),I=Pt(P,2),N=I[0],D=I[1],k=A.useRef();function F(K){var ee=K.touches[0],re=ee.screenX,oe=ee.screenY;s({x:re,y:oe}),window.clearInterval(k.current)}function U(K){if(i){K.preventDefault();var ee=K.touches[0],re=ee.screenX,oe=ee.screenY;s({x:re,y:oe});var he=re-i.x,be=oe-i.y;t(he,be);var le=Date.now();m(le),C(le-o),D({x:he,y:be})}}function B(){if(i&&(s(null),D(null),N)){var K=N.x/S,ee=N.y/S,re=Math.abs(K),oe=Math.abs(ee);if(Math.max(re,oe)<m2e)return;var he=K,be=ee;k.current=window.setInterval(function(){if(Math.abs(he)<AW&&Math.abs(be)<AW){window.clearInterval(k.current);return}he*=CW,be*=CW,t(he*lE,be*lE)},lE)}}var z=A.useRef();function W(K){var ee=K.deltaX,re=K.deltaY,oe=0,he=Math.abs(ee),be=Math.abs(re);he===be?oe=z.current==="x"?ee:re:he>be?(oe=ee,z.current="x"):(oe=re,z.current="y"),t(-oe,-oe)&&K.preventDefault()}var Y=A.useRef(null);Y.current={onTouchStart:F,onTouchMove:U,onTouchEnd:B,onWheel:W},A.useEffect(function(){function K(he){Y.current.onTouchStart(he)}function ee(he){Y.current.onTouchMove(he)}function re(he){Y.current.onTouchEnd(he)}function oe(he){Y.current.onWheel(he)}return document.addEventListener("touchmove",ee,{passive:!1}),document.addEventListener("touchend",re,{passive:!1}),e.current.addEventListener("touchstart",K,{passive:!1}),e.current.addEventListener("wheel",oe),function(){document.removeEventListener("touchmove",ee),document.removeEventListener("touchend",re)}},[])}function ise(e){var t=A.useState(0),n=Pt(t,2),r=n[0],i=n[1],s=A.useRef(0),c=A.useRef();return c.current=e,h0(function(){var h;(h=c.current)===null||h===void 0||h.call(c)},[r]),function(){s.current===r&&(s.current+=1,i(s.current))}}function y2e(e){var t=A.useRef([]),n=A.useState({}),r=Pt(n,2),i=r[1],s=A.useRef(typeof e=="function"?e():e),c=ise(function(){var o=s.current;t.current.forEach(function(m){o=m(o)}),t.current=[],s.current=o,i({})});function h(o){t.current.push(o),c()}return[s.current,h]}var MW={width:0,height:0,left:0,top:0,right:0};function v2e(e,t,n,r,i,s,c){var h=c.tabs,o=c.tabPosition,m=c.rtl,y,v,S;return["top","bottom"].includes(o)?(y="width",v=m?"right":"left",S=Math.abs(n)):(y="height",v="top",S=-n),A.useMemo(function(){if(!h.length)return[0,0];for(var C=h.length,P=C,I=0;I<C;I+=1){var N=e.get(h[I].key)||MW;if(N[v]+N[y]>S+t){P=I-1;break}}for(var D=0,k=C-1;k>=0;k-=1){var F=e.get(h[k].key)||MW;if(F[v]<S){D=k+1;break}}return D>=P?[0,0]:[D,P]},[e,t,r,i,s,S,o,h.map(function(C){return C.key}).join("_"),m])}function EW(e){var t;return e instanceof Map?(t={},e.forEach(function(n,r){t[r]=n})):t=e,JSON.stringify(t)}var b2e="TABS_DQ";function ose(e){return String(e).replace(/"/g,b2e)}function ase(e,t,n,r){return!(!n||r||e===!1||e===void 0&&(t===!1||t===null))}var sse=A.forwardRef(function(e,t){var n=e.prefixCls,r=e.editable,i=e.locale,s=e.style;return!r||r.showAdd===!1?null:A.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:s,"aria-label":(i==null?void 0:i.addAriaLabel)||"Add tab",onClick:function(h){r.onEdit("add",{event:h})}},r.addIcon||"+")}),TW=A.forwardRef(function(e,t){var n=e.position,r=e.prefixCls,i=e.extra;if(!i)return null;var s,c={};return Hr(i)==="object"&&!A.isValidElement(i)?c=i:c.right=i,n==="right"&&(s=c.right),n==="left"&&(s=c.left),s?A.createElement("div",{className:"".concat(r,"-extra-content"),ref:t},s):null}),_2e=A.forwardRef(function(e,t){var n=e.prefixCls,r=e.id,i=e.tabs,s=e.locale,c=e.mobile,h=e.moreIcon,o=h===void 0?"More":h,m=e.moreTransitionName,y=e.style,v=e.className,S=e.editable,C=e.tabBarGutter,P=e.rtl,I=e.removeAriaLabel,N=e.onTabClick,D=e.getPopupContainer,k=e.popupClassName,F=A.useState(!1),U=Pt(F,2),B=U[0],z=U[1],W=A.useState(null),Y=Pt(W,2),K=Y[0],ee=Y[1],re="".concat(r,"-more-popup"),oe="".concat(n,"-dropdown"),he=K!==null?"".concat(re,"-").concat(K):null,be=s==null?void 0:s.dropdownAriaLabel;function le(Me,de){Me.preventDefault(),Me.stopPropagation(),S.onEdit("remove",{key:de,event:Me})}var ye=A.createElement(pA,{onClick:function(de){var ze=de.key,$e=de.domEvent;N(ze,$e),z(!1)},prefixCls:"".concat(oe,"-menu"),id:re,tabIndex:-1,role:"listbox","aria-activedescendant":he,selectedKeys:[K],"aria-label":be!==void 0?be:"expanded dropdown"},i.map(function(Me){var de=Me.closable,ze=Me.disabled,$e=Me.closeIcon,et=Me.key,gt=Me.label,lt=ase(de,$e,S,ze);return A.createElement(U3,{key:et,id:"".concat(re,"-").concat(et),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(et),disabled:ze},A.createElement("span",null,gt),lt&&A.createElement("button",{type:"button","aria-label":I||"remove",tabIndex:0,className:"".concat(oe,"-menu-item-remove"),onClick:function(qe){qe.stopPropagation(),le(qe,et)}},$e||S.removeIcon||"×"))}));function fe(Me){for(var de=i.filter(function(lt){return!lt.disabled}),ze=de.findIndex(function(lt){return lt.key===K})||0,$e=de.length,et=0;et<$e;et+=1){ze=(ze+Me+$e)%$e;var gt=de[ze];if(!gt.disabled){ee(gt.key);return}}}function ue(Me){var de=Me.which;if(!B){[tr.DOWN,tr.SPACE,tr.ENTER].includes(de)&&(z(!0),Me.preventDefault());return}switch(de){case tr.UP:fe(-1),Me.preventDefault();break;case tr.DOWN:fe(1),Me.preventDefault();break;case tr.ESC:z(!1);break;case tr.SPACE:case tr.ENTER:K!==null&&N(K,Me);break}}A.useEffect(function(){var Me=document.getElementById(he);Me&&Me.scrollIntoView&&Me.scrollIntoView(!1)},[K]),A.useEffect(function(){B||ee(null)},[B]);var xe=Ze({},P?"marginRight":"marginLeft",C);i.length||(xe.visibility="hidden",xe.order=1);var ae=Dt(Ze({},"".concat(oe,"-rtl"),P)),Ee=c?null:A.createElement(pOe,{prefixCls:oe,overlay:ye,trigger:["hover"],visible:i.length?B:!1,transitionName:m,onVisibleChange:z,overlayClassName:Dt(ae,k),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:D},A.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:xe,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":re,id:"".concat(r,"-more"),"aria-expanded":B,onKeyDown:ue},o));return A.createElement("div",{className:Dt("".concat(n,"-nav-operations"),v),style:y,ref:t},Ee,A.createElement(sse,{prefixCls:n,locale:s,editable:S}))});const x2e=A.memo(_2e,function(e,t){return t.tabMoving});var w2e=function(t){var n=t.prefixCls,r=t.id,i=t.active,s=t.tab,c=s.key,h=s.label,o=s.disabled,m=s.closeIcon,y=s.icon,v=t.closable,S=t.renderWrapper,C=t.removeAriaLabel,P=t.editable,I=t.onClick,N=t.onFocus,D=t.style,k="".concat(n,"-tab"),F=ase(v,m,P,o);function U(Y){o||I(Y)}function B(Y){Y.preventDefault(),Y.stopPropagation(),P.onEdit("remove",{key:c,event:Y})}var z=A.useMemo(function(){return y&&typeof h=="string"?A.createElement("span",null,h):h},[h,y]),W=A.createElement("div",{key:c,"data-node-key":ose(c),className:Dt(k,Ze(Ze(Ze({},"".concat(k,"-with-remove"),F),"".concat(k,"-active"),i),"".concat(k,"-disabled"),o)),style:D,onClick:U},A.createElement("div",{role:"tab","aria-selected":i,id:r&&"".concat(r,"-tab-").concat(c),className:"".concat(k,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(c),"aria-disabled":o,tabIndex:o?null:0,onClick:function(K){K.stopPropagation(),U(K)},onKeyDown:function(K){[tr.SPACE,tr.ENTER].includes(K.which)&&(K.preventDefault(),U(K))},onFocus:N},y&&A.createElement("span",{className:"".concat(k,"-icon")},y),h&&z),F&&A.createElement("button",{type:"button","aria-label":C||"remove",tabIndex:0,className:"".concat(k,"-remove"),onClick:function(K){K.stopPropagation(),B(K)}},m||P.removeIcon||"×"));return S?S(W):W},S2e=function(t,n){var r=t.offsetWidth,i=t.offsetHeight,s=t.offsetTop,c=t.offsetLeft,h=t.getBoundingClientRect(),o=h.width,m=h.height,y=h.x,v=h.y;return Math.abs(o-r)<1?[o,m,y-n.x,v-n.y]:[r,i,c,s]},wv=function(t){var n=t.current||{},r=n.offsetWidth,i=r===void 0?0:r,s=n.offsetHeight,c=s===void 0?0:s;if(t.current){var h=t.current.getBoundingClientRect(),o=h.width,m=h.height;if(Math.abs(o-i)<1)return[o,m]}return[i,c]},nM=function(t,n){return t[n?0:1]},PW=A.forwardRef(function(e,t){var n=e.className,r=e.style,i=e.id,s=e.animated,c=e.activeKey,h=e.rtl,o=e.extra,m=e.editable,y=e.locale,v=e.tabPosition,S=e.tabBarGutter,C=e.children,P=e.onTabClick,I=e.onTabScroll,N=e.indicator,D=A.useContext(V3),k=D.prefixCls,F=D.tabs,U=A.useRef(null),B=A.useRef(null),z=A.useRef(null),W=A.useRef(null),Y=A.useRef(null),K=A.useRef(null),ee=A.useRef(null),re=v==="top"||v==="bottom",oe=SW(0,function(zt,dt){re&&I&&I({direction:zt>dt?"left":"right"})}),he=Pt(oe,2),be=he[0],le=he[1],ye=SW(0,function(zt,dt){!re&&I&&I({direction:zt>dt?"top":"bottom"})}),fe=Pt(ye,2),ue=fe[0],xe=fe[1],ae=A.useState([0,0]),Ee=Pt(ae,2),Me=Ee[0],de=Ee[1],ze=A.useState([0,0]),$e=Pt(ze,2),et=$e[0],gt=$e[1],lt=A.useState([0,0]),We=Pt(lt,2),qe=We[0],Qe=We[1],Ve=A.useState([0,0]),yt=Pt(Ve,2),it=yt[0],pt=yt[1],$t=y2e(new Map),Jt=Pt($t,2),on=Jt[0],ln=Jt[1],Lt=f2e(F,on,et[0]),en=nM(Me,re),Kt=nM(et,re),Zt=nM(qe,re),En=nM(it,re),Fn=en<Kt+Zt,je=Fn?en-En:en-Zt,me="".concat(k,"-nav-operations-hidden"),we=0,Ne=0;re&&h?(we=0,Ne=Math.max(0,Kt-je)):(we=Math.min(0,je-Kt),Ne=0);function Xe(zt){return zt<we?we:zt>Ne?Ne:zt}var ot=A.useRef(null),st=A.useState(),_t=Pt(st,2),nt=_t[0],St=_t[1];function Et(){St(Date.now())}function ft(){ot.current&&clearTimeout(ot.current)}g2e(W,function(zt,dt){function At(kt,Cn){kt(function($n){var _n=Xe($n+Cn);return _n})}return Fn?(re?At(le,zt):At(xe,dt),ft(),Et(),!0):!1}),A.useEffect(function(){return ft(),nt&&(ot.current=setTimeout(function(){St(0)},100)),ft},[nt]);var jt=v2e(Lt,je,re?be:ue,Kt,Zt,En,Ue(Ue({},e),{},{tabs:F})),Bn=Pt(jt,2),rr=Bn[0],dr=Bn[1],ar=Ia(function(){var zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c,dt=Lt.get(zt)||{width:0,height:0,left:0,right:0,top:0};if(re){var At=be;h?dt.right<be?At=dt.right:dt.right+dt.width>be+je&&(At=dt.right+dt.width-je):dt.left<-be?At=-dt.left:dt.left+dt.width>-be+je&&(At=-(dt.left+dt.width-je)),xe(0),le(Xe(At))}else{var kt=ue;dt.top<-ue?kt=-dt.top:dt.top+dt.height>-ue+je&&(kt=-(dt.top+dt.height-je)),le(0),xe(Xe(kt))}}),un={};v==="top"||v==="bottom"?un[h?"marginRight":"marginLeft"]=S:un.marginTop=S;var hn=F.map(function(zt,dt){var At=zt.key;return A.createElement(w2e,{id:i,prefixCls:k,key:At,tab:zt,style:dt===0?void 0:un,closable:zt.closable,editable:m,active:At===c,renderWrapper:C,removeAriaLabel:y==null?void 0:y.removeAriaLabel,onClick:function(Cn){P(At,Cn)},onFocus:function(){ar(At),Et(),W.current&&(h||(W.current.scrollLeft=0),W.current.scrollTop=0)}})}),vn=function(){return ln(function(){var dt,At=new Map,kt=(dt=Y.current)===null||dt===void 0?void 0:dt.getBoundingClientRect();return F.forEach(function(Cn){var $n,_n=Cn.key,sr=($n=Y.current)===null||$n===void 0?void 0:$n.querySelector('[data-node-key="'.concat(ose(_n),'"]'));if(sr){var zr=S2e(sr,kt),cn=Pt(zr,4),Nn=cn[0],pr=cn[1],qn=cn[2],li=cn[3];At.set(_n,{width:Nn,height:pr,left:qn,top:li})}}),At})};A.useEffect(function(){vn()},[F.map(function(zt){return zt.key}).join("_")]);var In=ise(function(){var zt=wv(U),dt=wv(B),At=wv(z);de([zt[0]-dt[0]-At[0],zt[1]-dt[1]-At[1]]);var kt=wv(ee);Qe(kt);var Cn=wv(K);pt(Cn);var $n=wv(Y);gt([$n[0]-kt[0],$n[1]-kt[1]]),vn()}),Sn=F.slice(0,rr),an=F.slice(dr+1),kn=[].concat(zn(Sn),zn(an)),hr=Lt.get(c),Ht=p2e({activeTabOffset:hr,horizontal:re,indicator:N,rtl:h}),Un=Ht.style;A.useEffect(function(){ar()},[c,we,Ne,EW(hr),EW(Lt),re]),A.useEffect(function(){In()},[h]);var rt=!!kn.length,ut="".concat(k,"-nav-wrap"),Tt,Rt,Gt,Qt;return re?h?(Rt=be>0,Tt=be!==Ne):(Tt=be<0,Rt=be!==we):(Gt=ue<0,Qt=ue!==we),A.createElement(Jc,{onResize:In},A.createElement("div",{ref:Tb(t,U),role:"tablist",className:Dt("".concat(k,"-nav"),n),style:r,onKeyDown:function(){Et()}},A.createElement(TW,{ref:B,position:"left",extra:o,prefixCls:k}),A.createElement(Jc,{onResize:In},A.createElement("div",{className:Dt(ut,Ze(Ze(Ze(Ze({},"".concat(ut,"-ping-left"),Tt),"".concat(ut,"-ping-right"),Rt),"".concat(ut,"-ping-top"),Gt),"".concat(ut,"-ping-bottom"),Qt)),ref:W},A.createElement(Jc,{onResize:In},A.createElement("div",{ref:Y,className:"".concat(k,"-nav-list"),style:{transform:"translate(".concat(be,"px, ").concat(ue,"px)"),transition:nt?"none":void 0}},hn,A.createElement(sse,{ref:ee,prefixCls:k,locale:y,editable:m,style:Ue(Ue({},hn.length===0?void 0:un),{},{visibility:rt?"hidden":null})}),A.createElement("div",{className:Dt("".concat(k,"-ink-bar"),Ze({},"".concat(k,"-ink-bar-animated"),s.inkBar)),style:Un}))))),A.createElement(x2e,Ln({},e,{removeAriaLabel:y==null?void 0:y.removeAriaLabel,ref:K,prefixCls:k,tabs:kn,className:!rt&&me,tabMoving:!!nt})),A.createElement(TW,{ref:z,position:"right",extra:o,prefixCls:k})))}),lse=A.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,i=e.style,s=e.id,c=e.active,h=e.tabKey,o=e.children;return A.createElement("div",{id:s&&"".concat(s,"-panel-").concat(h),role:"tabpanel",tabIndex:c?0:-1,"aria-labelledby":s&&"".concat(s,"-tab-").concat(h),"aria-hidden":!c,style:i,className:Dt(n,c&&"".concat(n,"-active"),r),ref:t},o)}),A2e=["renderTabBar"],C2e=["label","key"],M2e=function(t){var n=t.renderTabBar,r=Gr(t,A2e),i=A.useContext(V3),s=i.tabs;if(n){var c=Ue(Ue({},r),{},{panes:s.map(function(h){var o=h.label,m=h.key,y=Gr(h,C2e);return A.createElement(lse,Ln({tab:o,key:m,tabKey:m},y))})});return n(c,PW)}return A.createElement(PW,r)},E2e=["key","forceRender","style","className","destroyInactiveTabPane"],T2e=function(t){var n=t.id,r=t.activeKey,i=t.animated,s=t.tabPosition,c=t.destroyInactiveTabPane,h=A.useContext(V3),o=h.prefixCls,m=h.tabs,y=i.tabPane,v="".concat(o,"-tabpane");return A.createElement("div",{className:Dt("".concat(o,"-content-holder"))},A.createElement("div",{className:Dt("".concat(o,"-content"),"".concat(o,"-content-").concat(s),Ze({},"".concat(o,"-content-animated"),y))},m.map(function(S){var C=S.key,P=S.forceRender,I=S.style,N=S.className,D=S.destroyInactiveTabPane,k=Gr(S,E2e),F=C===r;return A.createElement(nd,Ln({key:C,visible:F,forceRender:P,removeOnLeave:!!(c||D),leavedClassName:"".concat(v,"-hidden")},i.tabPaneMotion),function(U,B){var z=U.style,W=U.className;return A.createElement(lse,Ln({},k,{prefixCls:v,id:n,tabKey:C,animated:y,active:F,style:Ue(Ue({},I),z),className:Dt(N,W),ref:B}))})})))};function P2e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},t;return e===!1?t={inkBar:!1,tabPane:!1}:e===!0?t={inkBar:!0,tabPane:!1}:t=Ue({inkBar:!0},Hr(e)==="object"?e:{}),t.tabPaneMotion&&t.tabPane===void 0&&(t.tabPane=!0),!t.tabPaneMotion&&t.tabPane&&(t.tabPane=!1),t}var I2e=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],IW=0,O2e=A.forwardRef(function(e,t){var n=e.id,r=e.prefixCls,i=r===void 0?"rc-tabs":r,s=e.className,c=e.items,h=e.direction,o=e.activeKey,m=e.defaultActiveKey,y=e.editable,v=e.animated,S=e.tabPosition,C=S===void 0?"top":S,P=e.tabBarGutter,I=e.tabBarStyle,N=e.tabBarExtraContent,D=e.locale,k=e.moreIcon,F=e.moreTransitionName,U=e.destroyInactiveTabPane,B=e.renderTabBar,z=e.onChange,W=e.onTabClick,Y=e.onTabScroll,K=e.getPopupContainer,ee=e.popupClassName,re=e.indicator,oe=Gr(e,I2e),he=A.useMemo(function(){return(c||[]).filter(function(pt){return pt&&Hr(pt)==="object"&&"key"in pt})},[c]),be=h==="rtl",le=P2e(v),ye=A.useState(!1),fe=Pt(ye,2),ue=fe[0],xe=fe[1];A.useEffect(function(){xe(F3())},[]);var ae=Ra(function(){var pt;return(pt=he[0])===null||pt===void 0?void 0:pt.key},{value:o,defaultValue:m}),Ee=Pt(ae,2),Me=Ee[0],de=Ee[1],ze=A.useState(function(){return he.findIndex(function(pt){return pt.key===Me})}),$e=Pt(ze,2),et=$e[0],gt=$e[1];A.useEffect(function(){var pt=he.findIndex(function(Jt){return Jt.key===Me});if(pt===-1){var $t;pt=Math.max(0,Math.min(et,he.length-1)),de(($t=he[pt])===null||$t===void 0?void 0:$t.key)}gt(pt)},[he.map(function(pt){return pt.key}).join("_"),Me,et]);var lt=Ra(null,{value:n}),We=Pt(lt,2),qe=We[0],Qe=We[1];A.useEffect(function(){n||(Qe("rc-tabs-".concat(IW)),IW+=1)},[]);function Ve(pt,$t){W==null||W(pt,$t);var Jt=pt!==Me;de(pt),Jt&&(z==null||z(pt))}var yt={id:qe,activeKey:Me,animated:le,tabPosition:C,rtl:be,mobile:ue},it=Ue(Ue({},yt),{},{editable:y,locale:D,moreIcon:k,moreTransitionName:F,tabBarGutter:P,onTabClick:Ve,onTabScroll:Y,extra:N,style:I,panes:null,getPopupContainer:K,popupClassName:ee,indicator:re});return A.createElement(V3.Provider,{value:{tabs:he,prefixCls:i}},A.createElement("div",Ln({ref:t,id:n,className:Dt(i,"".concat(i,"-").concat(C),Ze(Ze(Ze({},"".concat(i,"-mobile"),ue),"".concat(i,"-editable"),y),"".concat(i,"-rtl"),be),s)},oe),A.createElement(M2e,Ln({},it,{renderTabBar:B})),A.createElement(T2e,Ln({destroyInactiveTabPane:U},yt,{animated:le}))))});const k2e={motionAppear:!1,motionEnter:!0,motionLeave:!0};function N2e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},n;return t===!1?n={inkBar:!1,tabPane:!1}:t===!0?n={inkBar:!0,tabPane:!0}:n=Object.assign({inkBar:!0},typeof t=="object"?t:{}),n.tabPane&&(n.tabPaneMotion=Object.assign(Object.assign({},k2e),{motionName:y7(e,"switch")})),n}var R2e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function D2e(e){return e.filter(t=>t)}function L2e(e,t){if(e)return e;const n=Pc(t).map(r=>{if(A.isValidElement(r)){const{key:i,props:s}=r,c=s||{},{tab:h}=c,o=R2e(c,["tab"]);return Object.assign(Object.assign({key:String(i)},o),{label:h})}return null});return D2e(n)}const F2e=e=>{const{componentCls:t,motionDurationSlow:n}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${n}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${n}`}}}}},[sT(e,"slide-up"),sT(e,"slide-down")]]},$2e=e=>{const{componentCls:t,tabsCardPadding:n,cardBg:r,cardGutter:i,colorBorderSecondary:s,itemSelectedColor:c}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:n,background:r,border:`${Ut(e.lineWidth)} ${e.lineType} ${s}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:c,background:e.colorBgContainer},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:Ut(i)}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${Ut(e.borderRadiusLG)} ${Ut(e.borderRadiusLG)} 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${Ut(e.borderRadiusLG)} ${Ut(e.borderRadiusLG)}`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:Ut(i)}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${Ut(e.borderRadiusLG)} 0 0 ${Ut(e.borderRadiusLG)}`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${Ut(e.borderRadiusLG)} ${Ut(e.borderRadiusLG)} 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},j2e=e=>{const{componentCls:t,itemHoverColor:n,dropdownEdgeChildVerticalPadding:r}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},ia(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${Ut(r)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},V0),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${Ut(e.paddingXXS)} ${Ut(e.paddingSM)}`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},z2e=e=>{const{componentCls:t,margin:n,colorBorderSecondary:r,horizontalMargin:i,verticalItemPadding:s,verticalItemMargin:c,calc:h}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:i,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${Ut(e.lineWidth)} ${e.lineType} ${r}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:n,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:h(e.controlHeight).mul(1.25).equal(),[`${t}-tab`]:{padding:s,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:c},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:Ut(h(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${Ut(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:h(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${Ut(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},B2e=e=>{const{componentCls:t,cardPaddingSM:n,cardPaddingLG:r,horizontalItemPaddingSM:i,horizontalItemPaddingLG:s}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:i,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:s,fontSize:e.titleFontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:n}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${Ut(e.borderRadius)} ${Ut(e.borderRadius)}`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${Ut(e.borderRadius)} ${Ut(e.borderRadius)} 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${Ut(e.borderRadius)} ${Ut(e.borderRadius)} 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${Ut(e.borderRadius)} 0 0 ${Ut(e.borderRadius)}`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:r}}}}}},Z2e=e=>{const{componentCls:t,itemActiveColor:n,itemHoverColor:r,iconCls:i,tabsHorizontalItemMargin:s,horizontalItemPadding:c,itemSelectedColor:h,itemColor:o}=e,m=`${t}-tab`;return{[m]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:c,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:o,"&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:n}},I3(e)),"&-btn":{outline:"none",transition:`all ${e.motionDurationSlow}`,[`${m}-icon:not(:last-child)`]:{marginInlineEnd:e.marginSM}},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},"&:hover":{color:r},[`&${m}-active ${m}-btn`]:{color:h,textShadow:e.tabsActiveTextShadow},[`&${m}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${m}-disabled ${m}-btn, &${m}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${m}-remove ${i}`]:{margin:0},[`${i}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${m} + ${m}`]:{margin:{_skip_check_:!0,value:s}}}},U2e=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:n,iconCls:r,cardGutter:i,calc:s}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:n},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:Ut(e.marginSM)}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:Ut(e.marginXS)},marginLeft:{_skip_check_:!0,value:Ut(s(e.marginXXS).mul(-1).equal())},[r]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:i},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},H2e=e=>{const{componentCls:t,tabsCardPadding:n,cardHeight:r,cardGutter:i,itemHoverColor:s,itemActiveColor:c,colorBorderSecondary:h}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},ia(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:n,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:r,minHeight:r,marginLeft:{_skip_check_:!0,value:i},padding:`0 ${Ut(e.paddingXS)}`,background:"transparent",border:`${Ut(e.lineWidth)} ${e.lineType} ${h}`,borderRadius:`${Ut(e.borderRadiusLG)} ${Ut(e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:s},"&:active, &:focus:not(:focus-visible)":{color:c}},I3(e))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),Z2e(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},V2e=e=>{const t=e.controlHeightLG;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:t,cardPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,cardPaddingSM:`${e.paddingXXS*1.5}px ${e.padding}px`,cardPaddingLG:`${e.paddingXS}px ${e.padding}px ${e.paddingXXS*1.5}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}},W2e=_a("Tabs",e=>{const t=lo(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${Ut(e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${Ut(e.horizontalItemGutter)}`});return[B2e(t),U2e(t),z2e(t),j2e(t),$2e(t),H2e(t),F2e(t)]},V2e),G2e=()=>null;var K2e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const U7=e=>{var t,n,r,i,s,c,h,o;const{type:m,className:y,rootClassName:v,size:S,onEdit:C,hideAdd:P,centered:I,addIcon:N,removeIcon:D,moreIcon:k,popupClassName:F,children:U,items:B,animated:z,style:W,indicatorSize:Y,indicator:K}=e,ee=K2e(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:re}=ee,{direction:oe,tabs:he,getPrefixCls:be,getPopupContainer:le}=A.useContext(hi),ye=be("tabs",re),fe=rd(ye),[ue,xe,ae]=W2e(ye,fe);let Ee;m==="editable-card"&&(Ee={onEdit:(lt,We)=>{let{key:qe,event:Qe}=We;C==null||C(lt==="add"?Qe:qe,lt)},removeIcon:(t=D??(he==null?void 0:he.removeIcon))!==null&&t!==void 0?t:A.createElement(m7,null),addIcon:(N??(he==null?void 0:he.addIcon))||A.createElement(h2e,null),showAdd:P!==!0});const Me=be(),de=id(S),ze=L2e(B,U),$e=N2e(ye,z),et=Object.assign(Object.assign({},he==null?void 0:he.style),W),gt={align:(n=K==null?void 0:K.align)!==null&&n!==void 0?n:(r=he==null?void 0:he.indicator)===null||r===void 0?void 0:r.align,size:(h=(s=(i=K==null?void 0:K.size)!==null&&i!==void 0?i:Y)!==null&&s!==void 0?s:(c=he==null?void 0:he.indicator)===null||c===void 0?void 0:c.size)!==null&&h!==void 0?h:he==null?void 0:he.indicatorSize};return ue(A.createElement(O2e,Object.assign({direction:oe,getPopupContainer:le,moreTransitionName:`${Me}-slide-up`},ee,{items:ze,className:Dt({[`${ye}-${de}`]:de,[`${ye}-card`]:["card","editable-card"].includes(m),[`${ye}-editable-card`]:m==="editable-card",[`${ye}-centered`]:I},he==null?void 0:he.className,y,v,xe,ae,fe),popupClassName:Dt(F,xe,ae,fe),style:et,editable:Ee,moreIcon:(o=k??(he==null?void 0:he.moreIcon))!==null&&o!==void 0?o:A.createElement(QOe,null),prefixCls:ye,animated:$e,indicator:gt})))};U7.TabPane=G2e;var q2e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};function X2e(e,t,n){var r=n||{},i=r.noTrailing,s=i===void 0?!1:i,c=r.noLeading,h=c===void 0?!1:c,o=r.debounceMode,m=o===void 0?void 0:o,y,v=!1,S=0;function C(){y&&clearTimeout(y)}function P(N){var D=N||{},k=D.upcomingOnly,F=k===void 0?!1:k;C(),v=!F}function I(){for(var N=arguments.length,D=new Array(N),k=0;k<N;k++)D[k]=arguments[k];var F=this,U=Date.now()-S;if(v)return;function B(){S=Date.now(),t.apply(F,D)}function z(){y=void 0}!h&&m&&!y&&B(),C(),m===void 0&&U>e?h?(S=Date.now(),s||(y=setTimeout(m?z:B,e))):B():s!==!0&&(y=setTimeout(m?z:B,m===void 0?e-U:e))}return I.cancel=P,I}function Y2e(e,t,n){var r={},i=r.atBegin,s=i===void 0?!1:i;return X2e(e,t,{debounceMode:s!==!1})}var A8={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(t){return Oe.createElement("ul",{style:{display:"block"}},t)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(t){return Oe.createElement("button",null,t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};function C8(e,t,n){return Math.max(t,Math.min(e,n))}var m0=function(t){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(t._reactName)||t.preventDefault()},uT=function(t){for(var n=[],r=cse(t),i=use(t),s=r;s<i;s++)t.lazyLoadedList.indexOf(s)<0&&n.push(s);return n},cse=function(t){return t.currentSlide-J2e(t)},use=function(t){return t.currentSlide+Q2e(t)},J2e=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0},Q2e=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow},M8=function(t){return t&&t.offsetWidth||0},H7=function(t){return t&&t.offsetHeight||0},dse=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,c;return r=t.startX-t.curX,i=t.startY-t.curY,s=Math.atan2(i,r),c=Math.round(s*180/Math.PI),c<0&&(c=360-Math.abs(c)),c<=45&&c>=0||c<=360&&c>=315?"left":c>=135&&c<=225?"right":n===!0?c>=35&&c<=135?"up":"down":"vertical"},W3=function(t){var n=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1||t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(n=!1),n},X2=function(t,n){var r={};return n.forEach(function(i){return r[i]=t[i]}),r},e6e=function(t){var n=Oe.Children.count(t.children),r=t.listRef,i=Math.ceil(M8(r)),s=t.trackRef&&t.trackRef.node,c=Math.ceil(M8(s)),h;if(t.vertical)h=i;else{var o=t.centerMode&&parseInt(t.centerPadding)*2;typeof t.centerPadding=="string"&&t.centerPadding.slice(-1)==="%"&&(o*=i/100),h=Math.ceil((i-o)/t.slidesToShow)}var m=r&&H7(r.querySelector('[data-index="0"]')),y=m*t.slidesToShow,v=t.currentSlide===void 0?t.initialSlide:t.currentSlide;t.rtl&&t.currentSlide===void 0&&(v=n-1-t.initialSlide);var S=t.lazyLoadedList||[],C=uT(Ue(Ue({},t),{},{currentSlide:v,lazyLoadedList:S}));S=S.concat(C);var P={slideCount:n,slideWidth:h,listWidth:i,trackWidth:c,currentSlide:v,slideHeight:m,listHeight:y,lazyLoadedList:S};return t.autoplaying===null&&t.autoplay&&(P.autoplaying="playing"),P},t6e=function(t){var n=t.waitForAnimate,r=t.animating,i=t.fade,s=t.infinite,c=t.index,h=t.slideCount,o=t.lazyLoad,m=t.currentSlide,y=t.centerMode,v=t.slidesToScroll,S=t.slidesToShow,C=t.useCSS,P=t.lazyLoadedList;if(n&&r)return{};var I=c,N,D,k,F={},U={},B=s?c:C8(c,0,h-1);if(i){if(!s&&(c<0||c>=h))return{};c<0?I=c+h:c>=h&&(I=c-h),o&&P.indexOf(I)<0&&(P=P.concat(I)),F={animating:!0,currentSlide:I,lazyLoadedList:P,targetSlide:I},U={animating:!1,targetSlide:I}}else N=I,I<0?(N=I+h,s?h%v!==0&&(N=h-h%v):N=0):!W3(t)&&I>m?I=N=m:y&&I>=h?(I=s?h:h-1,N=s?0:h-1):I>=h&&(N=I-h,s?h%v!==0&&(N=0):N=h-S),!s&&I+S>=h&&(N=h-S),D=rS(Ue(Ue({},t),{},{slideIndex:I})),k=rS(Ue(Ue({},t),{},{slideIndex:N})),s||(D===k&&(I=N),D=k),o&&(P=P.concat(uT(Ue(Ue({},t),{},{currentSlide:I})))),C?(F={animating:!0,currentSlide:N,trackStyle:hse(Ue(Ue({},t),{},{left:D})),lazyLoadedList:P,targetSlide:B},U={animating:!1,currentSlide:N,trackStyle:nS(Ue(Ue({},t),{},{left:k})),swipeLeft:null,targetSlide:B}):F={currentSlide:N,trackStyle:nS(Ue(Ue({},t),{},{left:k})),lazyLoadedList:P,targetSlide:B};return{state:F,nextState:U}},n6e=function(t,n){var r,i,s,c,h,o=t.slidesToScroll,m=t.slidesToShow,y=t.slideCount,v=t.currentSlide,S=t.targetSlide,C=t.lazyLoad,P=t.infinite;if(c=y%o!==0,r=c?0:(y-v)%o,n.message==="previous")s=r===0?o:m-r,h=v-s,C&&!P&&(i=v-s,h=i===-1?y-1:i),P||(h=S-o);else if(n.message==="next")s=r===0?o:r,h=v+s,C&&!P&&(h=(v+o)%y+r),P||(h=S+o);else if(n.message==="dots")h=n.index*n.slidesToScroll;else if(n.message==="children"){if(h=n.index,P){var I=c6e(Ue(Ue({},t),{},{targetSlide:h}));h>n.currentSlide&&I==="left"?h=h-y:h<n.currentSlide&&I==="right"&&(h=h+y)}}else n.message==="index"&&(h=Number(n.index));return h},r6e=function(t,n,r){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":t.keyCode===37?r?"next":"previous":t.keyCode===39?r?"previous":"next":""},i6e=function(t,n,r){return t.target.tagName==="IMG"&&m0(t),!n||!r&&t.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}},o6e=function(t,n){var r=n.scrolling,i=n.animating,s=n.vertical,c=n.swipeToSlide,h=n.verticalSwiping,o=n.rtl,m=n.currentSlide,y=n.edgeFriction,v=n.edgeDragged,S=n.onEdge,C=n.swiped,P=n.swiping,I=n.slideCount,N=n.slidesToScroll,D=n.infinite,k=n.touchObject,F=n.swipeEvent,U=n.listHeight,B=n.listWidth;if(!r){if(i)return m0(t);s&&c&&h&&m0(t);var z,W={},Y=rS(n);k.curX=t.touches?t.touches[0].pageX:t.clientX,k.curY=t.touches?t.touches[0].pageY:t.clientY,k.swipeLength=Math.round(Math.sqrt(Math.pow(k.curX-k.startX,2)));var K=Math.round(Math.sqrt(Math.pow(k.curY-k.startY,2)));if(!h&&!P&&K>10)return{scrolling:!0};h&&(k.swipeLength=K);var ee=(o?-1:1)*(k.curX>k.startX?1:-1);h&&(ee=k.curY>k.startY?1:-1);var re=Math.ceil(I/N),oe=dse(n.touchObject,h),he=k.swipeLength;return D||(m===0&&(oe==="right"||oe==="down")||m+1>=re&&(oe==="left"||oe==="up")||!W3(n)&&(oe==="left"||oe==="up"))&&(he=k.swipeLength*y,v===!1&&S&&(S(oe),W.edgeDragged=!0)),!C&&F&&(F(oe),W.swiped=!0),s?z=Y+he*(U/B)*ee:o?z=Y-he*ee:z=Y+he*ee,h&&(z=Y+he*ee),W=Ue(Ue({},W),{},{touchObject:k,swipeLeft:z,trackStyle:nS(Ue(Ue({},n),{},{left:z}))}),Math.abs(k.curX-k.startX)<Math.abs(k.curY-k.startY)*.8||k.swipeLength>10&&(W.swiping=!0,m0(t)),W}},a6e=function(t,n){var r=n.dragging,i=n.swipe,s=n.touchObject,c=n.listWidth,h=n.touchThreshold,o=n.verticalSwiping,m=n.listHeight,y=n.swipeToSlide,v=n.scrolling,S=n.onSwipe,C=n.targetSlide,P=n.currentSlide,I=n.infinite;if(!r)return i&&m0(t),{};var N=o?m/h:c/h,D=dse(s,o),k={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(v||!s.swipeLength)return k;if(s.swipeLength>N){m0(t),S&&S(D);var F,U,B=I?P:C;switch(D){case"left":case"up":U=B+kW(n),F=y?OW(n,U):U,k.currentDirection=0;break;case"right":case"down":U=B-kW(n),F=y?OW(n,U):U,k.currentDirection=1;break;default:F=B}k.triggerSlideHandler=F}else{var z=rS(n);k.trackStyle=hse(Ue(Ue({},n),{},{left:z}))}return k},s6e=function(t){for(var n=t.infinite?t.slideCount*2:t.slideCount,r=t.infinite?t.slidesToShow*-1:0,i=t.infinite?t.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+t.slidesToScroll,i+=Math.min(t.slidesToScroll,t.slidesToShow);return s},OW=function(t,n){var r=s6e(t),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n},kW=function(t){var n=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var r,i=t.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(o){if(t.vertical){if(o.offsetTop+H7(o)/2>t.swipeLeft*-1)return r=o,!1}else if(o.offsetLeft-n+M8(o)/2>t.swipeLeft*-1)return r=o,!1;return!0}),!r)return 0;var c=t.rtl===!0?t.slideCount-t.currentSlide:t.currentSlide,h=Math.abs(r.dataset.index-c)||1;return h}else return t.slidesToScroll},V7=function(t,n){return n.reduce(function(r,i){return r&&t.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",t)},nS=function(t){V7(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r;if(!t.vertical)n=l6e(t)*t.slideWidth;else{var i=t.unslick?t.slideCount:t.slideCount+2*t.slidesToShow;r=i*t.slideHeight}var s={opacity:1,transition:"",WebkitTransition:""};if(t.useTransform){var c=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",h=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",o=t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)";s=Ue(Ue({},s),{},{WebkitTransform:c,transform:h,msTransform:o})}else t.vertical?s.top=t.left:s.left=t.left;return t.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?s.marginTop=t.left+"px":s.marginLeft=t.left+"px"),s},hse=function(t){V7(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=nS(t);return t.useTransform?(n.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,n.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?n.transition="top "+t.speed+"ms "+t.cssEase:n.transition="left "+t.speed+"ms "+t.cssEase,n},rS=function(t){if(t.unslick)return 0;V7(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=t.slideIndex,r=t.trackRef,i=t.infinite,s=t.centerMode,c=t.slideCount,h=t.slidesToShow,o=t.slidesToScroll,m=t.slideWidth,y=t.listWidth,v=t.variableWidth,S=t.slideHeight,C=t.fade,P=t.vertical,I=0,N,D,k=0;if(C||t.slideCount===1)return 0;var F=0;if(i?(F=-zh(t),c%o!==0&&n+o>c&&(F=-(n>c?h-(n-c):c%o)),s&&(F+=parseInt(h/2))):(c%o!==0&&n+o>c&&(F=h-c%o),s&&(F=parseInt(h/2))),I=F*m,k=F*S,P?N=n*S*-1+k:N=n*m*-1+I,v===!0){var U,B=r&&r.node;if(U=n+zh(t),D=B&&B.childNodes[U],N=D?D.offsetLeft*-1:0,s===!0){U=i?n+zh(t):n,D=B&&B.children[U],N=0;for(var z=0;z<U;z++)N-=B&&B.children[z]&&B.children[z].offsetWidth;N-=parseInt(t.centerPadding),N+=D&&(y-D.offsetWidth)/2}}return N},zh=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)},cE=function(t){return t.unslick||!t.infinite?0:t.slideCount},l6e=function(t){return t.slideCount===1?1:zh(t)+t.slideCount+cE(t)},c6e=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+u6e(t)?"left":"right":t.targetSlide<t.currentSlide-d6e(t)?"right":"left"},u6e=function(t){var n=t.slidesToShow,r=t.centerMode,i=t.rtl,s=t.centerPadding;if(r){var c=(n-1)/2+1;return parseInt(s)>0&&(c+=1),i&&n%2===0&&(c+=1),c}return i?0:n-1},d6e=function(t){var n=t.slidesToShow,r=t.centerMode,i=t.rtl,s=t.centerPadding;if(r){var c=(n-1)/2+1;return parseInt(s)>0&&(c+=1),!i&&n%2===0&&(c+=1),c}return i?n-1:0},NW=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},h6e=Object.keys(A8);function p6e(e){return h6e.reduce(function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t},{})}function f6e(e,t,n){return t=Js(t),ny(e,Hf()?Reflect.construct(t,n||[],Js(e).constructor):t.apply(e,n))}var Y2=function(t){var n,r,i,s,c;t.rtl?c=t.slideCount-1-t.index:c=t.index,i=c<0||c>=t.slideCount,t.centerMode?(s=Math.floor(t.slidesToShow/2),r=(c-t.currentSlide)%t.slideCount===0,c>t.currentSlide-s-1&&c<=t.currentSlide+s&&(n=!0)):n=t.currentSlide<=c&&c<t.currentSlide+t.slidesToShow;var h;t.targetSlide<0?h=t.targetSlide+t.slideCount:t.targetSlide>=t.slideCount?h=t.targetSlide-t.slideCount:h=t.targetSlide;var o=c===h;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":o}},m6e=function(t){var n={};return(t.variableWidth===void 0||t.variableWidth===!1)&&(n.width=t.slideWidth),t.fade&&(n.position="relative",t.vertical&&t.slideHeight?n.top=-t.index*parseInt(t.slideHeight):n.left=-t.index*parseInt(t.slideWidth),n.opacity=t.currentSlide===t.index?1:0,n.zIndex=t.currentSlide===t.index?999:998,t.useCSS&&(n.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase)),n},J2=function(t,n){return t.key+"-"+n},g6e=function(t){var n,r=[],i=[],s=[],c=Oe.Children.count(t.children),h=cse(t),o=use(t);return Oe.Children.forEach(t.children,function(m,y){var v,S={message:"children",index:y,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(y)>=0?v=m:v=Oe.createElement("div",null);var C=m6e(Ue(Ue({},t),{},{index:y})),P=v.props.className||"",I=Y2(Ue(Ue({},t),{},{index:y}));if(r.push(Oe.cloneElement(v,{key:"original"+J2(v,y),"data-index":y,className:Dt(I,P),tabIndex:"-1","aria-hidden":!I["slick-active"],style:Ue(Ue({outline:"none"},v.props.style||{}),C),onClick:function(k){v.props&&v.props.onClick&&v.props.onClick(k),t.focusOnSelect&&t.focusOnSelect(S)}})),t.infinite&&c>1&&t.fade===!1&&!t.unslick){var N=c-y;N<=zh(t)&&(n=-N,n>=h&&(v=m),I=Y2(Ue(Ue({},t),{},{index:n})),i.push(Oe.cloneElement(v,{key:"precloned"+J2(v,n),"data-index":n,tabIndex:"-1",className:Dt(I,P),"aria-hidden":!I["slick-active"],style:Ue(Ue({},v.props.style||{}),C),onClick:function(k){v.props&&v.props.onClick&&v.props.onClick(k),t.focusOnSelect&&t.focusOnSelect(S)}}))),n=c+y,n<o&&(v=m),I=Y2(Ue(Ue({},t),{},{index:n})),s.push(Oe.cloneElement(v,{key:"postcloned"+J2(v,n),"data-index":n,tabIndex:"-1",className:Dt(I,P),"aria-hidden":!I["slick-active"],style:Ue(Ue({},v.props.style||{}),C),onClick:function(k){v.props&&v.props.onClick&&v.props.onClick(k),t.focusOnSelect&&t.focusOnSelect(S)}}))}}),t.rtl?i.concat(r,s).reverse():i.concat(r,s)},y6e=function(e){function t(){var n;Go(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=f6e(this,t,[].concat(i)),Ze(n,"node",null),Ze(n,"handleRef",function(c){n.node=c}),n}return bl(t,e),Ko(t,[{key:"render",value:function(){var r=g6e(this.props),i=this.props,s=i.onMouseEnter,c=i.onMouseOver,h=i.onMouseLeave,o={onMouseEnter:s,onMouseOver:c,onMouseLeave:h};return Oe.createElement("div",Ln({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},o),r)}}])}(Oe.PureComponent);function v6e(e,t,n){return t=Js(t),ny(e,Hf()?Reflect.construct(t,n||[],Js(e).constructor):t.apply(e,n))}var b6e=function(t){var n;return t.infinite?n=Math.ceil(t.slideCount/t.slidesToScroll):n=Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1,n},_6e=function(e){function t(){return Go(this,t),v6e(this,t,arguments)}return bl(t,e),Ko(t,[{key:"clickHandler",value:function(r,i){i.preventDefault(),this.props.clickHandler(r)}},{key:"render",value:function(){for(var r=this.props,i=r.onMouseEnter,s=r.onMouseOver,c=r.onMouseLeave,h=r.infinite,o=r.slidesToScroll,m=r.slidesToShow,y=r.slideCount,v=r.currentSlide,S=b6e({slideCount:y,slidesToScroll:o,slidesToShow:m,infinite:h}),C={onMouseEnter:i,onMouseOver:s,onMouseLeave:c},P=[],I=0;I<S;I++){var N=(I+1)*o-1,D=h?N:C8(N,0,y-1),k=D-(o-1),F=h?k:C8(k,0,y-1),U=Dt({"slick-active":h?v>=F&&v<=D:v===F}),B={message:"dots",index:I,slidesToScroll:o,currentSlide:v},z=this.clickHandler.bind(this,B);P=P.concat(Oe.createElement("li",{key:I,className:U},Oe.cloneElement(this.props.customPaging(I),{onClick:z})))}return Oe.cloneElement(this.props.appendDots(P),Ue({className:this.props.dotsClass},C))}}])}(Oe.PureComponent);function pse(e,t,n){return t=Js(t),ny(e,Hf()?Reflect.construct(t,n||[],Js(e).constructor):t.apply(e,n))}var x6e=function(e){function t(){return Go(this,t),pse(this,t,arguments)}return bl(t,e),Ko(t,[{key:"clickHandler",value:function(r,i){i&&i.preventDefault(),this.props.clickHandler(r,i)}},{key:"render",value:function(){var r={"slick-arrow":!0,"slick-prev":!0},i=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(r["slick-disabled"]=!0,i=null);var s={key:"0","data-role":"none",className:Dt(r),style:{display:"block"},onClick:i},c={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},h;return this.props.prevArrow?h=Oe.cloneElement(this.props.prevArrow,Ue(Ue({},s),c)):h=Oe.createElement("button",Ln({key:"0",type:"button"},s)," ","Previous"),h}}])}(Oe.PureComponent),w6e=function(e){function t(){return Go(this,t),pse(this,t,arguments)}return bl(t,e),Ko(t,[{key:"clickHandler",value:function(r,i){i&&i.preventDefault(),this.props.clickHandler(r,i)}},{key:"render",value:function(){var r={"slick-arrow":!0,"slick-next":!0},i=this.clickHandler.bind(this,{message:"next"});W3(this.props)||(r["slick-disabled"]=!0,i=null);var s={key:"1","data-role":"none",className:Dt(r),style:{display:"block"},onClick:i},c={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},h;return this.props.nextArrow?h=Oe.cloneElement(this.props.nextArrow,Ue(Ue({},s),c)):h=Oe.createElement("button",Ln({key:"1",type:"button"},s)," ","Next"),h}}])}(Oe.PureComponent),S6e=["animating"];function A6e(e,t,n){return t=Js(t),ny(e,Hf()?Reflect.construct(t,n||[],Js(e).constructor):t.apply(e,n))}var C6e=function(e){function t(n){var r;Go(this,t),r=A6e(this,t,[n]),Ze(r,"listRefHandler",function(s){return r.list=s}),Ze(r,"trackRefHandler",function(s){return r.track=s}),Ze(r,"adaptHeight",function(){if(r.props.adaptiveHeight&&r.list){var s=r.list.querySelector('[data-index="'.concat(r.state.currentSlide,'"]'));r.list.style.height=H7(s)+"px"}}),Ze(r,"componentDidMount",function(){if(r.props.onInit&&r.props.onInit(),r.props.lazyLoad){var s=uT(Ue(Ue({},r.props),r.state));s.length>0&&(r.setState(function(h){return{lazyLoadedList:h.lazyLoadedList.concat(s)}}),r.props.onLazyLoad&&r.props.onLazyLoad(s))}var c=Ue({listRef:r.list,trackRef:r.track},r.props);r.updateState(c,!0,function(){r.adaptHeight(),r.props.autoplay&&r.autoPlay("playing")}),r.props.lazyLoad==="progressive"&&(r.lazyLoadTimer=setInterval(r.progressiveLazyLoad,1e3)),r.ro=new mie(function(){r.state.animating?(r.onWindowResized(!1),r.callbackTimers.push(setTimeout(function(){return r.onWindowResized()},r.props.speed))):r.onWindowResized()}),r.ro.observe(r.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(h){h.onfocus=r.props.pauseOnFocus?r.onSlideFocus:null,h.onblur=r.props.pauseOnFocus?r.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",r.onWindowResized):window.attachEvent("onresize",r.onWindowResized)}),Ze(r,"componentWillUnmount",function(){r.animationEndCallback&&clearTimeout(r.animationEndCallback),r.lazyLoadTimer&&clearInterval(r.lazyLoadTimer),r.callbackTimers.length&&(r.callbackTimers.forEach(function(s){return clearTimeout(s)}),r.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",r.onWindowResized):window.detachEvent("onresize",r.onWindowResized),r.autoplayTimer&&clearInterval(r.autoplayTimer),r.ro.disconnect()}),Ze(r,"componentDidUpdate",function(s){if(r.checkImagesLoad(),r.props.onReInit&&r.props.onReInit(),r.props.lazyLoad){var c=uT(Ue(Ue({},r.props),r.state));c.length>0&&(r.setState(function(m){return{lazyLoadedList:m.lazyLoadedList.concat(c)}}),r.props.onLazyLoad&&r.props.onLazyLoad(c))}r.adaptHeight();var h=Ue(Ue({listRef:r.list,trackRef:r.track},r.props),r.state),o=r.didPropsChange(s);o&&r.updateState(h,o,function(){r.state.currentSlide>=Oe.Children.count(r.props.children)&&r.changeSlide({message:"index",index:Oe.Children.count(r.props.children)-r.props.slidesToShow,currentSlide:r.state.currentSlide}),(s.autoplay!==r.props.autoplay||s.autoplaySpeed!==r.props.autoplaySpeed)&&(!s.autoplay&&r.props.autoplay?r.autoPlay("playing"):r.props.autoplay?r.autoPlay("update"):r.pause("paused"))})}),Ze(r,"onWindowResized",function(s){r.debouncedResize&&r.debouncedResize.cancel(),r.debouncedResize=Y2e(50,function(){return r.resizeWindow(s)}),r.debouncedResize()}),Ze(r,"resizeWindow",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,c=!!(r.track&&r.track.node);if(c){var h=Ue(Ue({listRef:r.list,trackRef:r.track},r.props),r.state);r.updateState(h,s,function(){r.props.autoplay?r.autoPlay("update"):r.pause("paused")}),r.setState({animating:!1}),clearTimeout(r.animationEndCallback),delete r.animationEndCallback}}),Ze(r,"updateState",function(s,c,h){var o=e6e(s);s=Ue(Ue(Ue({},s),o),{},{slideIndex:o.currentSlide});var m=rS(s);s=Ue(Ue({},s),{},{left:m});var y=nS(s);(c||Oe.Children.count(r.props.children)!==Oe.Children.count(s.children))&&(o.trackStyle=y),r.setState(o,h)}),Ze(r,"ssrInit",function(){if(r.props.variableWidth){var s=0,c=0,h=[],o=zh(Ue(Ue(Ue({},r.props),r.state),{},{slideCount:r.props.children.length})),m=cE(Ue(Ue(Ue({},r.props),r.state),{},{slideCount:r.props.children.length}));r.props.children.forEach(function(z){h.push(z.props.style.width),s+=z.props.style.width});for(var y=0;y<o;y++)c+=h[h.length-1-y],s+=h[h.length-1-y];for(var v=0;v<m;v++)s+=h[v];for(var S=0;S<r.state.currentSlide;S++)c+=h[S];var C={width:s+"px",left:-c+"px"};if(r.props.centerMode){var P="".concat(h[r.state.currentSlide],"px");C.left="calc(".concat(C.left," + (100% - ").concat(P,") / 2 ) ")}return{trackStyle:C}}var I=Oe.Children.count(r.props.children),N=Ue(Ue(Ue({},r.props),r.state),{},{slideCount:I}),D=zh(N)+cE(N)+I,k=100/r.props.slidesToShow*D,F=100/D,U=-F*(zh(N)+r.state.currentSlide)*k/100;r.props.centerMode&&(U+=(100-F*k/100)/2);var B={width:k+"%",left:U+"%"};return{slideWidth:F+"%",trackStyle:B}}),Ze(r,"checkImagesLoad",function(){var s=r.list&&r.list.querySelectorAll&&r.list.querySelectorAll(".slick-slide img")||[],c=s.length,h=0;Array.prototype.forEach.call(s,function(o){var m=function(){return++h&&h>=c&&r.onWindowResized()};if(!o.onclick)o.onclick=function(){return o.parentNode.focus()};else{var y=o.onclick;o.onclick=function(v){y(v),o.parentNode.focus()}}o.onload||(r.props.lazyLoad?o.onload=function(){r.adaptHeight(),r.callbackTimers.push(setTimeout(r.onWindowResized,r.props.speed))}:(o.onload=m,o.onerror=function(){m(),r.props.onLazyLoadError&&r.props.onLazyLoadError()}))})}),Ze(r,"progressiveLazyLoad",function(){for(var s=[],c=Ue(Ue({},r.props),r.state),h=r.state.currentSlide;h<r.state.slideCount+cE(c);h++)if(r.state.lazyLoadedList.indexOf(h)<0){s.push(h);break}for(var o=r.state.currentSlide-1;o>=-zh(c);o--)if(r.state.lazyLoadedList.indexOf(o)<0){s.push(o);break}s.length>0?(r.setState(function(m){return{lazyLoadedList:m.lazyLoadedList.concat(s)}}),r.props.onLazyLoad&&r.props.onLazyLoad(s)):r.lazyLoadTimer&&(clearInterval(r.lazyLoadTimer),delete r.lazyLoadTimer)}),Ze(r,"slideHandler",function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=r.props,o=h.asNavFor,m=h.beforeChange,y=h.onLazyLoad,v=h.speed,S=h.afterChange,C=r.state.currentSlide,P=t6e(Ue(Ue(Ue({index:s},r.props),r.state),{},{trackRef:r.track,useCSS:r.props.useCSS&&!c})),I=P.state,N=P.nextState;if(I){m&&m(C,I.currentSlide);var D=I.lazyLoadedList.filter(function(k){return r.state.lazyLoadedList.indexOf(k)<0});y&&D.length>0&&y(D),!r.props.waitForAnimate&&r.animationEndCallback&&(clearTimeout(r.animationEndCallback),S&&S(C),delete r.animationEndCallback),r.setState(I,function(){o&&r.asNavForIndex!==s&&(r.asNavForIndex=s,o.innerSlider.slideHandler(s)),N&&(r.animationEndCallback=setTimeout(function(){var k=N.animating,F=Gr(N,S6e);r.setState(F,function(){r.callbackTimers.push(setTimeout(function(){return r.setState({animating:k})},10)),S&&S(I.currentSlide),delete r.animationEndCallback})},v))})}}),Ze(r,"changeSlide",function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=Ue(Ue({},r.props),r.state),o=n6e(h,s);if(!(o!==0&&!o)&&(c===!0?r.slideHandler(o,c):r.slideHandler(o),r.props.autoplay&&r.autoPlay("update"),r.props.focusOnSelect)){var m=r.list.querySelectorAll(".slick-current");m[0]&&m[0].focus()}}),Ze(r,"clickHandler",function(s){r.clickable===!1&&(s.stopPropagation(),s.preventDefault()),r.clickable=!0}),Ze(r,"keyHandler",function(s){var c=r6e(s,r.props.accessibility,r.props.rtl);c!==""&&r.changeSlide({message:c})}),Ze(r,"selectHandler",function(s){r.changeSlide(s)}),Ze(r,"disableBodyScroll",function(){var s=function(h){h=h||window.event,h.preventDefault&&h.preventDefault(),h.returnValue=!1};window.ontouchmove=s}),Ze(r,"enableBodyScroll",function(){window.ontouchmove=null}),Ze(r,"swipeStart",function(s){r.props.verticalSwiping&&r.disableBodyScroll();var c=i6e(s,r.props.swipe,r.props.draggable);c!==""&&r.setState(c)}),Ze(r,"swipeMove",function(s){var c=o6e(s,Ue(Ue(Ue({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));c&&(c.swiping&&(r.clickable=!1),r.setState(c))}),Ze(r,"swipeEnd",function(s){var c=a6e(s,Ue(Ue(Ue({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));if(c){var h=c.triggerSlideHandler;delete c.triggerSlideHandler,r.setState(c),h!==void 0&&(r.slideHandler(h),r.props.verticalSwiping&&r.enableBodyScroll())}}),Ze(r,"touchEnd",function(s){r.swipeEnd(s),r.clickable=!0}),Ze(r,"slickPrev",function(){r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"previous"})},0))}),Ze(r,"slickNext",function(){r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"next"})},0))}),Ze(r,"slickGoTo",function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s=Number(s),isNaN(s))return"";r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"index",index:s,currentSlide:r.state.currentSlide},c)},0))}),Ze(r,"play",function(){var s;if(r.props.rtl)s=r.state.currentSlide-r.props.slidesToScroll;else if(W3(Ue(Ue({},r.props),r.state)))s=r.state.currentSlide+r.props.slidesToScroll;else return!1;r.slideHandler(s)}),Ze(r,"autoPlay",function(s){r.autoplayTimer&&clearInterval(r.autoplayTimer);var c=r.state.autoplaying;if(s==="update"){if(c==="hovered"||c==="focused"||c==="paused")return}else if(s==="leave"){if(c==="paused"||c==="focused")return}else if(s==="blur"&&(c==="paused"||c==="hovered"))return;r.autoplayTimer=setInterval(r.play,r.props.autoplaySpeed+50),r.setState({autoplaying:"playing"})}),Ze(r,"pause",function(s){r.autoplayTimer&&(clearInterval(r.autoplayTimer),r.autoplayTimer=null);var c=r.state.autoplaying;s==="paused"?r.setState({autoplaying:"paused"}):s==="focused"?(c==="hovered"||c==="playing")&&r.setState({autoplaying:"focused"}):c==="playing"&&r.setState({autoplaying:"hovered"})}),Ze(r,"onDotsOver",function(){return r.props.autoplay&&r.pause("hovered")}),Ze(r,"onDotsLeave",function(){return r.props.autoplay&&r.state.autoplaying==="hovered"&&r.autoPlay("leave")}),Ze(r,"onTrackOver",function(){return r.props.autoplay&&r.pause("hovered")}),Ze(r,"onTrackLeave",function(){return r.props.autoplay&&r.state.autoplaying==="hovered"&&r.autoPlay("leave")}),Ze(r,"onSlideFocus",function(){return r.props.autoplay&&r.pause("focused")}),Ze(r,"onSlideBlur",function(){return r.props.autoplay&&r.state.autoplaying==="focused"&&r.autoPlay("blur")}),Ze(r,"render",function(){var s=Dt("slick-slider",r.props.className,{"slick-vertical":r.props.vertical,"slick-initialized":!0}),c=Ue(Ue({},r.props),r.state),h=X2(c,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),o=r.props.pauseOnHover;h=Ue(Ue({},h),{},{onMouseEnter:o?r.onTrackOver:null,onMouseLeave:o?r.onTrackLeave:null,onMouseOver:o?r.onTrackOver:null,focusOnSelect:r.props.focusOnSelect&&r.clickable?r.selectHandler:null});var m;if(r.props.dots===!0&&r.state.slideCount>=r.props.slidesToShow){var y=X2(c,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),v=r.props.pauseOnDotsHover;y=Ue(Ue({},y),{},{clickHandler:r.changeSlide,onMouseEnter:v?r.onDotsLeave:null,onMouseOver:v?r.onDotsOver:null,onMouseLeave:v?r.onDotsLeave:null}),m=Oe.createElement(_6e,y)}var S,C,P=X2(c,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);P.clickHandler=r.changeSlide,r.props.arrows&&(S=Oe.createElement(x6e,P),C=Oe.createElement(w6e,P));var I=null;r.props.vertical&&(I={height:r.state.listHeight});var N=null;r.props.vertical===!1?r.props.centerMode===!0&&(N={padding:"0px "+r.props.centerPadding}):r.props.centerMode===!0&&(N={padding:r.props.centerPadding+" 0px"});var D=Ue(Ue({},I),N),k=r.props.touchMove,F={className:"slick-list",style:D,onClick:r.clickHandler,onMouseDown:k?r.swipeStart:null,onMouseMove:r.state.dragging&&k?r.swipeMove:null,onMouseUp:k?r.swipeEnd:null,onMouseLeave:r.state.dragging&&k?r.swipeEnd:null,onTouchStart:k?r.swipeStart:null,onTouchMove:r.state.dragging&&k?r.swipeMove:null,onTouchEnd:k?r.touchEnd:null,onTouchCancel:r.state.dragging&&k?r.swipeEnd:null,onKeyDown:r.props.accessibility?r.keyHandler:null},U={className:s,dir:"ltr",style:r.props.style};return r.props.unslick&&(F={className:"slick-list"},U={className:s,style:r.props.style}),Oe.createElement("div",U,r.props.unslick?"":S,Oe.createElement("div",Ln({ref:r.listRefHandler},F),Oe.createElement(y6e,Ln({ref:r.trackRefHandler},h),r.props.children)),r.props.unslick?"":C,r.props.unslick?"":m)}),r.list=null,r.track=null,r.state=Ue(Ue({},q2e),{},{currentSlide:r.props.initialSlide,targetSlide:r.props.initialSlide?r.props.initialSlide:0,slideCount:Oe.Children.count(r.props.children)}),r.callbackTimers=[],r.clickable=!0,r.debouncedResize=null;var i=r.ssrInit();return r.state=Ue(Ue({},r.state),i),r}return bl(t,e),Ko(t,[{key:"didPropsChange",value:function(r){for(var i=!1,s=0,c=Object.keys(this.props);s<c.length;s++){var h=c[s];if(!r.hasOwnProperty(h)){i=!0;break}if(!(Hr(r[h])==="object"||typeof r[h]=="function"||isNaN(r[h]))&&r[h]!==this.props[h]){i=!0;break}}return i||Oe.Children.count(this.props.children)!==Oe.Children.count(r.children)}}])}(Oe.Component),M6e=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()},E6e=M6e,T6e=E6e,P6e=function(e){var t=/[height|width]$/;return t.test(e)},RW=function(e){var t="",n=Object.keys(e);return n.forEach(function(r,i){var s=e[r];r=T6e(r),P6e(r)&&typeof s=="number"&&(s=s+"px"),s===!0?t+=r:s===!1?t+="not "+r:t+="("+r+": "+s+")",i<n.length-1&&(t+=" and ")}),t},I6e=function(e){var t="";return typeof e=="string"?e:e instanceof Array?(e.forEach(function(n,r){t+=RW(n),r<e.length-1&&(t+=", ")}),t):RW(e)},O6e=I6e;const Q2=Li(O6e);function k6e(e,t,n){return t=Js(t),ny(e,Hf()?Reflect.construct(t,n||[],Js(e).constructor):t.apply(e,n))}var N6e=function(e){function t(n){var r;return Go(this,t),r=k6e(this,t,[n]),Ze(r,"innerSliderRefHandler",function(i){return r.innerSlider=i}),Ze(r,"slickPrev",function(){return r.innerSlider.slickPrev()}),Ze(r,"slickNext",function(){return r.innerSlider.slickNext()}),Ze(r,"slickGoTo",function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return r.innerSlider.slickGoTo(i,s)}),Ze(r,"slickPause",function(){return r.innerSlider.pause("paused")}),Ze(r,"slickPlay",function(){return r.innerSlider.autoPlay("play")}),r.state={breakpoint:null},r._responsiveMediaHandlers=[],r}return bl(t,e),Ko(t,[{key:"media",value:function(r,i){var s=window.matchMedia(r),c=function(o){var m=o.matches;m&&i()};s.addListener(c),c(s),this._responsiveMediaHandlers.push({mql:s,query:r,listener:c})}},{key:"componentDidMount",value:function(){var r=this;if(this.props.responsive){var i=this.props.responsive.map(function(c){return c.breakpoint});i.sort(function(c,h){return c-h}),i.forEach(function(c,h){var o;h===0?o=Q2({minWidth:0,maxWidth:c}):o=Q2({minWidth:i[h-1]+1,maxWidth:c}),NW()&&r.media(o,function(){r.setState({breakpoint:c})})});var s=Q2({minWidth:i.slice(-1)[0]});NW()&&this.media(s,function(){r.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(r){r.mql.removeListener(r.listener)})}},{key:"render",value:function(){var r=this,i,s;this.state.breakpoint?(s=this.props.responsive.filter(function(I){return I.breakpoint===r.state.breakpoint}),i=s[0].settings==="unslick"?"unslick":Ue(Ue(Ue({},A8),this.props),s[0].settings)):i=Ue(Ue({},A8),this.props),i.centerMode&&(i.slidesToScroll>1,i.slidesToScroll=1),i.fade&&(i.slidesToShow>1,i.slidesToScroll>1,i.slidesToShow=1,i.slidesToScroll=1);var c=Oe.Children.toArray(this.props.children);c=c.filter(function(I){return typeof I=="string"?!!I.trim():!!I}),i.variableWidth&&(i.rows>1||i.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),i.variableWidth=!1);for(var h=[],o=null,m=0;m<c.length;m+=i.rows*i.slidesPerRow){for(var y=[],v=m;v<m+i.rows*i.slidesPerRow;v+=i.slidesPerRow){for(var S=[],C=v;C<v+i.slidesPerRow&&(i.variableWidth&&c[C].props.style&&(o=c[C].props.style.width),!(C>=c.length));C+=1)S.push(Oe.cloneElement(c[C],{key:100*m+10*v+C,tabIndex:-1,style:{width:"".concat(100/i.slidesPerRow,"%"),display:"inline-block"}}));y.push(Oe.createElement("div",{key:10*m+v},S))}i.variableWidth?h.push(Oe.createElement("div",{key:m,style:{width:o}},y)):h.push(Oe.createElement("div",{key:m},y))}if(i==="unslick"){var P="regular slider "+(this.props.className||"");return Oe.createElement("div",{className:P},c)}else h.length<=i.slidesToShow&&!i.infinite&&(i.unslick=!0);return Oe.createElement(C6e,Ln({style:this.props.style,ref:this.innerSliderRefHandler},p6e(i)),h)}}])}(Oe.Component);const R6e=e=>{const{componentCls:t,antCls:n,carouselArrowSize:r,carouselDotOffset:i,marginXXS:s}=e,c=e.calc(r).mul(-1.25).equal(),h=s;return{[t]:Object.assign(Object.assign({},ia(e)),{".slick-slider":{position:"relative",display:"block",boxSizing:"border-box",touchAction:"pan-y",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",".slick-track, .slick-list":{transform:"translate3d(0, 0, 0)",touchAction:"pan-y"}},".slick-list":{position:"relative",display:"block",margin:0,padding:0,overflow:"hidden","&:focus":{outline:"none"},"&.dragging":{cursor:"pointer"},".slick-slide":{pointerEvents:"none",[`input${n}-radio-input, input${n}-checkbox-input`]:{visibility:"hidden"},"&.slick-active":{pointerEvents:"auto",[`input${n}-radio-input, input${n}-checkbox-input`]:{visibility:"visible"}},"> div > div":{verticalAlign:"bottom"}}},".slick-track":{position:"relative",top:0,insetInlineStart:0,display:"block","&::before, &::after":{display:"table",content:'""'},"&::after":{clear:"both"}},".slick-slide":{display:"none",float:"left",height:"100%",minHeight:1,img:{display:"block"},"&.dragging img":{pointerEvents:"none"}},".slick-initialized .slick-slide":{display:"block"},".slick-vertical .slick-slide":{display:"block",height:"auto"},".slick-arrow.slick-hidden":{display:"none"},".slick-prev, .slick-next":{position:"absolute",top:"50%",display:"block",width:r,height:r,marginTop:e.calc(r).mul(-1).div(2).equal(),padding:0,color:"transparent",fontSize:0,lineHeight:0,background:"transparent",border:0,outline:"none",cursor:"pointer","&:hover, &:focus":{color:"transparent",background:"transparent",outline:"none","&::before":{opacity:1}},"&.slick-disabled::before":{opacity:.25}},".slick-prev":{insetInlineStart:c,"&::before":{content:'"←"'}},".slick-next":{insetInlineEnd:c,"&::before":{content:'"→"'}},".slick-dots":{position:"absolute",insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:15,display:"flex !important",justifyContent:"center",paddingInlineStart:0,margin:0,listStyle:"none","&-bottom":{bottom:i},"&-top":{top:i,bottom:"auto"},li:{position:"relative",display:"inline-block",flex:"0 1 auto",boxSizing:"content-box",width:e.dotWidth,height:e.dotHeight,marginInline:h,padding:0,textAlign:"center",textIndent:-999,verticalAlign:"top",transition:`all ${e.motionDurationSlow}`,button:{position:"relative",display:"block",width:"100%",height:e.dotHeight,padding:0,color:"transparent",fontSize:0,background:e.colorBgContainer,border:0,borderRadius:e.dotHeight,outline:"none",cursor:"pointer",opacity:.3,transition:`all ${e.motionDurationSlow}`,"&: hover, &:focus":{opacity:.75},"&::after":{position:"absolute",inset:e.calc(h).mul(-1).equal(),content:'""'}},"&.slick-active":{width:e.dotActiveWidth,"& button":{background:e.colorBgContainer,opacity:1},"&: hover, &:focus":{opacity:1}}}}})}},D6e=e=>{const{componentCls:t,carouselDotOffset:n,marginXXS:r}=e,i={width:e.dotHeight,height:e.dotWidth};return{[`${t}-vertical`]:{".slick-dots":{top:"50%",bottom:"auto",flexDirection:"column",width:e.dotHeight,height:"auto",margin:0,transform:"translateY(-50%)","&-left":{insetInlineEnd:"auto",insetInlineStart:n},"&-right":{insetInlineEnd:n,insetInlineStart:"auto"},li:Object.assign(Object.assign({},i),{margin:`${Ut(r)} 0`,verticalAlign:"baseline",button:i,"&.slick-active":Object.assign(Object.assign({},i),{button:i})})}}}},L6e=e=>{const{componentCls:t}=e;return[{[`${t}-rtl`]:{direction:"rtl",".slick-dots":{[`${t}-rtl&`]:{flexDirection:"row-reverse"}}}},{[`${t}-vertical`]:{".slick-dots":{[`${t}-rtl&`]:{flexDirection:"column"}}}}]},F6e=()=>({dotWidth:16,dotHeight:3,dotWidthActive:24,dotActiveWidth:24}),$6e=_a("Carousel",e=>{const{controlHeightLG:t,controlHeightSM:n}=e,r=lo(e,{carouselArrowSize:e.calc(t).div(2).equal(),carouselDotOffset:e.calc(n).div(2).equal()});return[R6e(r),D6e(r),L6e(r)]},F6e,{deprecatedTokens:[["dotWidthActive","dotActiveWidth"]]});var j6e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const z6e=A.forwardRef((e,t)=>{const{dots:n=!0,arrows:r=!1,draggable:i=!1,waitForAnimate:s=!1,dotPosition:c="bottom",vertical:h=c==="left"||c==="right",rootClassName:o,className:m,style:y,id:v}=e,S=j6e(e,["dots","arrows","draggable","waitForAnimate","dotPosition","vertical","rootClassName","className","style","id"]),{getPrefixCls:C,direction:P,carousel:I}=A.useContext(hi),N=A.useRef(),D=function(oe){let he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;N.current.slickGoTo(oe,he)};A.useImperativeHandle(t,()=>({goTo:D,autoPlay:N.current.innerSlider.autoPlay,innerSlider:N.current.innerSlider,prev:N.current.slickPrev,next:N.current.slickNext}),[N.current]);const k=A.useRef(A.Children.count(e.children));A.useEffect(()=>{k.current!==A.Children.count(e.children)&&(D(e.initialSlide||0,!1),k.current=A.Children.count(e.children))},[e.children]);const F=Object.assign({vertical:h,className:Dt(m,I==null?void 0:I.className),style:Object.assign(Object.assign({},I==null?void 0:I.style),y)},S);F.effect==="fade"&&(F.fade=!0);const U=C("carousel",F.prefixCls),B="slick-dots",z=!!n,W=Dt(B,`${B}-${c}`,typeof n=="boolean"?!1:n==null?void 0:n.className),[Y,K,ee]=$6e(U),re=Dt(U,{[`${U}-rtl`]:P==="rtl",[`${U}-vertical`]:F.vertical},K,ee,o);return Y(A.createElement("div",{className:re,id:v},A.createElement(N6e,Object.assign({ref:N},F,{dots:z,dotsClass:W,arrows:r,draggable:i,verticalSwiping:h,waitForAnimate:s}))))}),B6e=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},ia(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},ia(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},ia(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},loe(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${Ut(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${Ut(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`
        ${n}:not(${n}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${n}-checked:not(${n}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function Z6e(e,t){const n=lo(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[B6e(n)]}const fse=_a("Checkbox",(e,t)=>{let{prefixCls:n}=t;return[Z6e(n,e)]}),mse=Oe.createContext(null);var U6e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const H6e=(e,t)=>{var n;const{prefixCls:r,className:i,rootClassName:s,children:c,indeterminate:h=!1,style:o,onMouseEnter:m,onMouseLeave:y,skipGroup:v=!1,disabled:S}=e,C=U6e(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:P,direction:I,checkbox:N}=A.useContext(hi),D=A.useContext(mse),{isFormItemInput:k}=A.useContext(gl),F=A.useContext(Ic),U=(n=(D==null?void 0:D.disabled)||S)!==null&&n!==void 0?n:F,B=A.useRef(C.value);A.useEffect(()=>{D==null||D.registerValue(C.value)},[]),A.useEffect(()=>{if(!v)return C.value!==B.current&&(D==null||D.cancelValue(B.current),D==null||D.registerValue(C.value),B.current=C.value),()=>D==null?void 0:D.cancelValue(C.value)},[C.value]);const z=P("checkbox",r),W=rd(z),[Y,K,ee]=fse(z,W),re=Object.assign({},C);D&&!v&&(re.onChange=function(){C.onChange&&C.onChange.apply(C,arguments),D.toggleOption&&D.toggleOption({label:c,value:C.value})},re.name=D.name,re.checked=D.value.includes(C.value));const oe=Dt(`${z}-wrapper`,{[`${z}-rtl`]:I==="rtl",[`${z}-wrapper-checked`]:re.checked,[`${z}-wrapper-disabled`]:U,[`${z}-wrapper-in-form-item`]:k},N==null?void 0:N.className,i,s,ee,W,K),he=Dt({[`${z}-indeterminate`]:h},v7,K),be=h?"mixed":void 0;return Y(A.createElement(b7,{component:"Checkbox",disabled:U},A.createElement("label",{className:oe,style:Object.assign(Object.assign({},N==null?void 0:N.style),o),onMouseEnter:m,onMouseLeave:y},A.createElement(t2e,Object.assign({"aria-checked":be},re,{prefixCls:z,className:he,disabled:U,ref:t})),c!==void 0&&A.createElement("span",null,c))))},gse=A.forwardRef(H6e);var V6e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const W6e=A.forwardRef((e,t)=>{const{defaultValue:n,children:r,options:i=[],prefixCls:s,className:c,rootClassName:h,style:o,onChange:m}=e,y=V6e(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:v,direction:S}=A.useContext(hi),[C,P]=A.useState(y.value||n||[]),[I,N]=A.useState([]);A.useEffect(()=>{"value"in y&&P(y.value||[])},[y.value]);const D=A.useMemo(()=>i.map(le=>typeof le=="string"||typeof le=="number"?{label:le,value:le}:le),[i]),k=le=>{N(ye=>ye.filter(fe=>fe!==le))},F=le=>{N(ye=>[].concat(zn(ye),[le]))},U=le=>{const ye=C.indexOf(le.value),fe=zn(C);ye===-1?fe.push(le.value):fe.splice(ye,1),"value"in y||P(fe),m==null||m(fe.filter(ue=>I.includes(ue)).sort((ue,xe)=>{const ae=D.findIndex(Me=>Me.value===ue),Ee=D.findIndex(Me=>Me.value===xe);return ae-Ee}))},B=v("checkbox",s),z=`${B}-group`,W=rd(B),[Y,K,ee]=fse(B,W),re=Vl(y,["value","disabled"]),oe=i.length?D.map(le=>A.createElement(gse,{prefixCls:B,key:le.value.toString(),disabled:"disabled"in le?le.disabled:y.disabled,value:le.value,checked:C.includes(le.value),onChange:le.onChange,className:`${z}-item`,style:le.style,title:le.title,id:le.id,required:le.required},le.label)):r,he={toggleOption:U,value:C,disabled:y.disabled,name:y.name,registerValue:F,cancelValue:k},be=Dt(z,{[`${z}-rtl`]:S==="rtl"},c,h,ee,W,K);return Y(A.createElement("div",Object.assign({className:be,style:o},re,{ref:t}),A.createElement(mse.Provider,{value:he},oe)))}),fA=gse;fA.Group=W6e;fA.__ANT_CHECKBOX=!0;const yse=A.createContext({}),G6e=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},K6e=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},q6e=(e,t)=>{const{prefixCls:n,componentCls:r,gridColumns:i}=e,s={};for(let c=i;c>=0;c--)c===0?(s[`${r}${t}-${c}`]={display:"none"},s[`${r}-push-${c}`]={insetInlineStart:"auto"},s[`${r}-pull-${c}`]={insetInlineEnd:"auto"},s[`${r}${t}-push-${c}`]={insetInlineStart:"auto"},s[`${r}${t}-pull-${c}`]={insetInlineEnd:"auto"},s[`${r}${t}-offset-${c}`]={marginInlineStart:0},s[`${r}${t}-order-${c}`]={order:0}):(s[`${r}${t}-${c}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${c/i*100}%`,maxWidth:`${c/i*100}%`}],s[`${r}${t}-push-${c}`]={insetInlineStart:`${c/i*100}%`},s[`${r}${t}-pull-${c}`]={insetInlineEnd:`${c/i*100}%`},s[`${r}${t}-offset-${c}`]={marginInlineStart:`${c/i*100}%`},s[`${r}${t}-order-${c}`]={order:c});return s[`${r}${t}-flex`]={flex:`var(--${n}${t}-flex)`},s},E8=(e,t)=>q6e(e,t),X6e=(e,t,n)=>({[`@media (min-width: ${Ut(t)})`]:Object.assign({},E8(e,n))}),Y6e=()=>({}),J6e=()=>({}),Q6e=_a("Grid",G6e,Y6e),eke=_a("Grid",e=>{const t=lo(e,{gridColumns:24}),n={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[K6e(t),E8(t,""),E8(t,"-xs"),Object.keys(n).map(r=>X6e(t,n[r],r)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]},J6e);var tke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function DW(e){return typeof e=="number"?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}const nke=["xs","sm","md","lg","xl","xxl"],vse=A.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=A.useContext(hi),{gutter:i,wrap:s}=A.useContext(yse),{prefixCls:c,span:h,order:o,offset:m,push:y,pull:v,className:S,children:C,flex:P,style:I}=e,N=tke(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),D=n("col",c),[k,F,U]=eke(D),B={};let z={};nke.forEach(K=>{let ee={};const re=e[K];typeof re=="number"?ee.span=re:typeof re=="object"&&(ee=re||{}),delete N[K],z=Object.assign(Object.assign({},z),{[`${D}-${K}-${ee.span}`]:ee.span!==void 0,[`${D}-${K}-order-${ee.order}`]:ee.order||ee.order===0,[`${D}-${K}-offset-${ee.offset}`]:ee.offset||ee.offset===0,[`${D}-${K}-push-${ee.push}`]:ee.push||ee.push===0,[`${D}-${K}-pull-${ee.pull}`]:ee.pull||ee.pull===0,[`${D}-rtl`]:r==="rtl"}),ee.flex&&(z[`${D}-${K}-flex`]=!0,B[`--${D}-${K}-flex`]=DW(ee.flex))});const W=Dt(D,{[`${D}-${h}`]:h!==void 0,[`${D}-order-${o}`]:o,[`${D}-offset-${m}`]:m,[`${D}-push-${y}`]:y,[`${D}-pull-${v}`]:v},S,z,F,U),Y={};if(i&&i[0]>0){const K=i[0]/2;Y.paddingLeft=K,Y.paddingRight=K}return P&&(Y.flex=DW(P),s===!1&&!Y.minWidth&&(Y.minWidth=0)),k(A.createElement("div",Object.assign({},N,{style:Object.assign(Object.assign(Object.assign({},Y),I),B),className:W,ref:t}),C))});var rke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function LW(e,t){const[n,r]=A.useState(typeof e=="string"?e:""),i=()=>{if(typeof e=="string"&&r(e),typeof e=="object")for(let s=0;s<eS.length;s++){const c=eS[s];if(!t[c])continue;const h=e[c];if(h!==void 0){r(h);return}}};return A.useEffect(()=>{i()},[JSON.stringify(e),t]),n}const ike=A.forwardRef((e,t)=>{const{prefixCls:n,justify:r,align:i,className:s,style:c,children:h,gutter:o=0,wrap:m}=e,y=rke(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:v,direction:S}=A.useContext(hi),[C,P]=A.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[I,N]=A.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),D=LW(i,I),k=LW(r,I),F=A.useRef(o),U=AIe();A.useEffect(()=>{const fe=U.subscribe(ue=>{N(ue);const xe=F.current||0;(!Array.isArray(xe)&&typeof xe=="object"||Array.isArray(xe)&&(typeof xe[0]=="object"||typeof xe[1]=="object"))&&P(ue)});return()=>U.unsubscribe(fe)},[]);const B=()=>{const fe=[void 0,void 0];return(Array.isArray(o)?o:[o,void 0]).forEach((xe,ae)=>{if(typeof xe=="object")for(let Ee=0;Ee<eS.length;Ee++){const Me=eS[Ee];if(C[Me]&&xe[Me]!==void 0){fe[ae]=xe[Me];break}}else fe[ae]=xe}),fe},z=v("row",n),[W,Y,K]=Q6e(z),ee=B(),re=Dt(z,{[`${z}-no-wrap`]:m===!1,[`${z}-${k}`]:k,[`${z}-${D}`]:D,[`${z}-rtl`]:S==="rtl"},s,Y,K),oe={},he=ee[0]!=null&&ee[0]>0?ee[0]/-2:void 0;he&&(oe.marginLeft=he,oe.marginRight=he);const[be,le]=ee;oe.rowGap=le;const ye=A.useMemo(()=>({gutter:[be,le],wrap:m}),[be,le,m]);return W(A.createElement(yse.Provider,{value:ye},A.createElement("div",Object.assign({},y,{className:re,style:Object.assign(Object.assign({},oe),c),ref:t}),h)))}),oke=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:i,textPaddingInline:s,orientationMargin:c,verticalMarginInline:h}=e;return{[t]:Object.assign(Object.assign({},ia(e)),{borderBlockStart:`${Ut(i)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:h,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${Ut(i)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${Ut(e.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${Ut(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${Ut(i)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-left`]:{"&::before":{width:`calc(${c} * 100%)`},"&::after":{width:`calc(100% - ${c} * 100%)`}},[`&-horizontal${t}-with-text-right`]:{"&::before":{width:`calc(100% - ${c} * 100%)`},"&::after":{width:`calc(${c} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:s},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${Ut(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-left${t}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-right${t}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}},ake=e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),ske=_a("Divider",e=>{const t=lo(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[oke(t)]},ake,{unitless:{orientationMargin:!0}});var lke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const cke=e=>{const{getPrefixCls:t,direction:n,divider:r}=A.useContext(hi),{prefixCls:i,type:s="horizontal",orientation:c="center",orientationMargin:h,className:o,rootClassName:m,children:y,dashed:v,plain:S,style:C}=e,P=lke(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),I=t("divider",i),[N,D,k]=ske(I),F=c.length>0?`-${c}`:c,U=!!y,B=c==="left"&&h!=null,z=c==="right"&&h!=null,W=Dt(I,r==null?void 0:r.className,D,k,`${I}-${s}`,{[`${I}-with-text`]:U,[`${I}-with-text${F}`]:U,[`${I}-dashed`]:!!v,[`${I}-plain`]:!!S,[`${I}-rtl`]:n==="rtl",[`${I}-no-default-orientation-margin-left`]:B,[`${I}-no-default-orientation-margin-right`]:z},o,m),Y=A.useMemo(()=>typeof h=="number"?h:/^\d+$/.test(h)?Number(h):h,[h]),K=Object.assign(Object.assign({},B&&{marginLeft:Y}),z&&{marginRight:Y});return N(A.createElement("div",Object.assign({className:W,style:Object.assign(Object.assign({},r==null?void 0:r.style),C)},P,{role:"separator"}),y&&s!=="vertical"&&A.createElement("span",{className:`${I}-inner-text`,style:K},y)))};var uke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},dke=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:uke}))},hke=A.forwardRef(dke);function T8(){return typeof BigInt=="function"}function bse(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function Pg(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var r=t||"0",i=r.split("."),s=i[0]||"0",c=i[1]||"0";s==="0"&&c==="0"&&(n=!1);var h=n?"-":"";return{negative:n,negativeStr:h,trimStr:r,integerStr:s,decimalStr:c,fullStr:"".concat(h).concat(r)}}function W7(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function yg(e){var t=String(e);if(W7(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&G7(t)?t.length-t.indexOf(".")-1:0}function G3(e){var t=String(e);if(W7(e)){if(e>Number.MAX_SAFE_INTEGER)return String(T8()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(T8()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(yg(t))}return Pg(t).fullStr}function G7(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var pke=function(){function e(t){if(Go(this,e),Ze(this,"origin",""),Ze(this,"negative",void 0),Ze(this,"integer",void 0),Ze(this,"decimal",void 0),Ze(this,"decimalLen",void 0),Ze(this,"empty",void 0),Ze(this,"nan",void 0),bse(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}var n=t;if(W7(n)&&(n=Number(n)),n=typeof n=="string"?n:G3(n),G7(n)){var r=Pg(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var s=i[1]||"0";this.decimal=BigInt(s),this.decimalLen=s.length}else this.nan=!0}return Ko(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new e(this.toString());return n.negative=!n.negative,n}},{key:"cal",value:function(n,r,i){var s=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),c=this.alignDecimal(s),h=n.alignDecimal(s),o=r(c,h).toString(),m=i(s),y=Pg(o),v=y.negativeStr,S=y.trimStr,C="".concat(v).concat(S.padStart(m+1,"0"));return new e("".concat(C.slice(0,-m),".").concat(C.slice(-m)))}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=new e(n);return r.isInvalidate()?this:this.cal(r,function(i,s){return i+s},function(i){return i})}},{key:"multi",value:function(n){var r=new e(n);return this.isInvalidate()||r.isInvalidate()?new e(NaN):this.cal(r,function(i,s){return i*s},function(i){return i*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===(n==null?void 0:n.toString())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":Pg("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),fke=function(){function e(t){if(Go(this,e),Ze(this,"origin",""),Ze(this,"number",void 0),Ze(this,"empty",void 0),bse(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return Ko(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=Number(n);if(Number.isNaN(r))return this;var i=this.number+r;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var s=Math.max(yg(this.number),yg(r));return new e(i.toFixed(s))}},{key:"multi",value:function(n){var r=Number(n);if(this.isInvalidate()||Number.isNaN(r))return new e(NaN);var i=this.number*r;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var s=Math.max(yg(this.number),yg(r));return new e(i.toFixed(s))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===(n==null?void 0:n.toNumber())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":G3(this.number):this.origin}}]),e}();function Tu(e){return T8()?new pke(e):new fke(e)}function uE(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var i=Pg(e),s=i.negativeStr,c=i.integerStr,h=i.decimalStr,o="".concat(t).concat(h),m="".concat(s).concat(c);if(n>=0){var y=Number(h[n]);if(y>=5&&!r){var v=Tu(e).add("".concat(s,"0.").concat("0".repeat(n)).concat(10-y));return uE(v.toString(),t,n,r)}return n===0?m:"".concat(m).concat(t).concat(h.padEnd(n,"0").slice(0,n))}return o===".0"?m:"".concat(m).concat(o)}function mke(e){return!!(e.addonBefore||e.addonAfter)}function gke(e){return!!(e.prefix||e.suffix||e.allowClear)}function FW(e,t,n){var r=t.cloneNode(!0),i=Object.create(e,{target:{value:r},currentTarget:{value:r}});return r.value=n,typeof t.selectionStart=="number"&&typeof t.selectionEnd=="number"&&(r.selectionStart=t.selectionStart,r.selectionEnd=t.selectionEnd),i}function dT(e,t,n,r){if(n){var i=t;if(t.type==="click"){i=FW(t,e,""),n(i);return}if(e.type!=="file"&&r!==void 0){i=FW(t,e,r),n(i);return}n(i)}}function _se(e,t){if(e){e.focus(t);var n=t||{},r=n.cursor;if(r){var i=e.value.length;switch(r){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(i,i);break;default:e.setSelectionRange(0,i)}}}}var K7=function(t){var n,r,i=t.inputElement,s=t.children,c=t.prefixCls,h=t.prefix,o=t.suffix,m=t.addonBefore,y=t.addonAfter,v=t.className,S=t.style,C=t.disabled,P=t.readOnly,I=t.focused,N=t.triggerFocus,D=t.allowClear,k=t.value,F=t.handleReset,U=t.hidden,B=t.classes,z=t.classNames,W=t.dataAttrs,Y=t.styles,K=t.components,ee=s??i,re=(K==null?void 0:K.affixWrapper)||"span",oe=(K==null?void 0:K.groupWrapper)||"span",he=(K==null?void 0:K.wrapper)||"span",be=(K==null?void 0:K.groupAddon)||"span",le=A.useRef(null),ye=function(it){var pt;(pt=le.current)!==null&&pt!==void 0&&pt.contains(it.target)&&(N==null||N())},fe=gke(t),ue=A.cloneElement(ee,{value:k,className:Dt(ee.props.className,!fe&&(z==null?void 0:z.variant))||null});if(fe){var xe,ae=null;if(D){var Ee,Me=!C&&!P&&k,de="".concat(c,"-clear-icon"),ze=Hr(D)==="object"&&D!==null&&D!==void 0&&D.clearIcon?D.clearIcon:"✖";ae=Oe.createElement("span",{onClick:F,onMouseDown:function(it){return it.preventDefault()},className:Dt(de,(Ee={},Ze(Ee,"".concat(de,"-hidden"),!Me),Ze(Ee,"".concat(de,"-has-suffix"),!!o),Ee)),role:"button",tabIndex:-1},ze)}var $e="".concat(c,"-affix-wrapper"),et=Dt($e,(xe={},Ze(xe,"".concat(c,"-disabled"),C),Ze(xe,"".concat($e,"-disabled"),C),Ze(xe,"".concat($e,"-focused"),I),Ze(xe,"".concat($e,"-readonly"),P),Ze(xe,"".concat($e,"-input-with-clear-btn"),o&&D&&k),xe),B==null?void 0:B.affixWrapper,z==null?void 0:z.affixWrapper,z==null?void 0:z.variant),gt=(o||D)&&Oe.createElement("span",{className:Dt("".concat(c,"-suffix"),z==null?void 0:z.suffix),style:Y==null?void 0:Y.suffix},ae,o);ue=Oe.createElement(re,Ln({className:et,style:Y==null?void 0:Y.affixWrapper,onClick:ye},W==null?void 0:W.affixWrapper,{ref:le}),h&&Oe.createElement("span",{className:Dt("".concat(c,"-prefix"),z==null?void 0:z.prefix),style:Y==null?void 0:Y.prefix},h),ue,gt)}if(mke(t)){var lt="".concat(c,"-group"),We="".concat(lt,"-addon"),qe="".concat(lt,"-wrapper"),Qe=Dt("".concat(c,"-wrapper"),lt,B==null?void 0:B.wrapper,z==null?void 0:z.wrapper),Ve=Dt(qe,Ze({},"".concat(qe,"-disabled"),C),B==null?void 0:B.group,z==null?void 0:z.groupWrapper);ue=Oe.createElement(oe,{className:Ve},Oe.createElement(he,{className:Qe},m&&Oe.createElement(be,{className:We},m),ue,y&&Oe.createElement(be,{className:We},y)))}return Oe.cloneElement(ue,{className:Dt((n=ue.props)===null||n===void 0?void 0:n.className,v)||null,style:Ue(Ue({},(r=ue.props)===null||r===void 0?void 0:r.style),S),hidden:U})},yke=["show"];function xse(e,t){return A.useMemo(function(){var n={};t&&(n.show=Hr(t)==="object"&&t.formatter?t.formatter:!!t),n=Ue(Ue({},n),e);var r=n,i=r.show,s=Gr(r,yke);return Ue(Ue({},s),{},{show:!!i,showFormatter:typeof i=="function"?i:void 0,strategy:s.strategy||function(c){return c.length}})},[e,t])}var vke=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],bke=A.forwardRef(function(e,t){var n=e.autoComplete,r=e.onChange,i=e.onFocus,s=e.onBlur,c=e.onPressEnter,h=e.onKeyDown,o=e.prefixCls,m=o===void 0?"rc-input":o,y=e.disabled,v=e.htmlSize,S=e.className,C=e.maxLength,P=e.suffix,I=e.showCount,N=e.count,D=e.type,k=D===void 0?"text":D,F=e.classes,U=e.classNames,B=e.styles,z=e.onCompositionStart,W=e.onCompositionEnd,Y=Gr(e,vke),K=A.useState(!1),ee=Pt(K,2),re=ee[0],oe=ee[1],he=A.useRef(!1),be=A.useRef(null),le=function(Lt){be.current&&_se(be.current,Lt)},ye=Ra(e.defaultValue,{value:e.value}),fe=Pt(ye,2),ue=fe[0],xe=fe[1],ae=ue==null?"":String(ue),Ee=A.useState(null),Me=Pt(Ee,2),de=Me[0],ze=Me[1],$e=xse(N,I),et=$e.max||C,gt=$e.strategy(ae),lt=!!et&&gt>et;A.useImperativeHandle(t,function(){return{focus:le,blur:function(){var Lt;(Lt=be.current)===null||Lt===void 0||Lt.blur()},setSelectionRange:function(Lt,en,Kt){var Zt;(Zt=be.current)===null||Zt===void 0||Zt.setSelectionRange(Lt,en,Kt)},select:function(){var Lt;(Lt=be.current)===null||Lt===void 0||Lt.select()},input:be.current}}),A.useEffect(function(){oe(function(ln){return ln&&y?!1:ln})},[y]);var We=function(Lt,en,Kt){var Zt=en;if(!he.current&&$e.exceedFormatter&&$e.max&&$e.strategy(en)>$e.max){if(Zt=$e.exceedFormatter(en,{max:$e.max}),en!==Zt){var En,Fn;ze([((En=be.current)===null||En===void 0?void 0:En.selectionStart)||0,((Fn=be.current)===null||Fn===void 0?void 0:Fn.selectionEnd)||0])}}else if(Kt.source==="compositionEnd")return;xe(Zt),be.current&&dT(be.current,Lt,r,Zt)};A.useEffect(function(){if(de){var ln;(ln=be.current)===null||ln===void 0||ln.setSelectionRange.apply(ln,zn(de))}},[de]);var qe=function(Lt){We(Lt,Lt.target.value,{source:"change"})},Qe=function(Lt){he.current=!1,We(Lt,Lt.currentTarget.value,{source:"compositionEnd"}),W==null||W(Lt)},Ve=function(Lt){c&&Lt.key==="Enter"&&c(Lt),h==null||h(Lt)},yt=function(Lt){oe(!0),i==null||i(Lt)},it=function(Lt){oe(!1),s==null||s(Lt)},pt=function(Lt){xe(""),le(),be.current&&dT(be.current,Lt,r)},$t=lt&&"".concat(m,"-out-of-range"),Jt=function(){var Lt=Vl(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames"]);return Oe.createElement("input",Ln({autoComplete:n},Lt,{onChange:qe,onFocus:yt,onBlur:it,onKeyDown:Ve,className:Dt(m,Ze({},"".concat(m,"-disabled"),y),U==null?void 0:U.input),style:B==null?void 0:B.input,ref:be,size:v,type:k,onCompositionStart:function(Kt){he.current=!0,z==null||z(Kt)},onCompositionEnd:Qe}))},on=function(){var Lt=Number(et)>0;if(P||$e.show){var en=$e.showFormatter?$e.showFormatter({value:ae,count:gt,maxLength:et}):"".concat(gt).concat(Lt?" / ".concat(et):"");return Oe.createElement(Oe.Fragment,null,$e.show&&Oe.createElement("span",{className:Dt("".concat(m,"-show-count-suffix"),Ze({},"".concat(m,"-show-count-has-suffix"),!!P),U==null?void 0:U.count),style:Ue({},B==null?void 0:B.count)},en),P)}return null};return Oe.createElement(K7,Ln({},Y,{prefixCls:m,className:Dt(S,$t),handleReset:pt,value:ae,focused:re,triggerFocus:le,suffix:on(),disabled:y,classes:F,classNames:U,styles:B}),Jt())});function _ke(e,t){var n=A.useRef(null);function r(){try{var s=e.selectionStart,c=e.selectionEnd,h=e.value,o=h.substring(0,s),m=h.substring(c);n.current={start:s,end:c,value:h,beforeTxt:o,afterTxt:m}}catch{}}function i(){if(e&&n.current&&t)try{var s=e.value,c=n.current,h=c.beforeTxt,o=c.afterTxt,m=c.start,y=s.length;if(s.endsWith(o))y=s.length-n.current.afterTxt.length;else if(s.startsWith(h))y=h.length;else{var v=h[m-1],S=s.indexOf(v,m-1);S!==-1&&(y=S+1)}e.setSelectionRange(y,y)}catch(C){ns(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(C.message))}}return[r,i]}var xke=function(){var t=A.useState(!1),n=Pt(t,2),r=n[0],i=n[1];return so(function(){i(F3())},[]),r},wke=200,Ske=600;function Ake(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,i=e.upDisabled,s=e.downDisabled,c=e.onStep,h=A.useRef(),o=A.useRef([]),m=A.useRef();m.current=c;var y=function(){clearTimeout(h.current)},v=function(F,U){F.preventDefault(),y(),m.current(U);function B(){m.current(U),h.current=setTimeout(B,wke)}h.current=setTimeout(B,Ske)};A.useEffect(function(){return function(){y(),o.current.forEach(function(k){return Mi.cancel(k)})}},[]);var S=xke();if(S)return null;var C="".concat(t,"-handler"),P=Dt(C,"".concat(C,"-up"),Ze({},"".concat(C,"-up-disabled"),i)),I=Dt(C,"".concat(C,"-down"),Ze({},"".concat(C,"-down-disabled"),s)),N=function(){return o.current.push(Mi(y))},D={unselectable:"on",role:"button",onMouseUp:N,onMouseLeave:N};return A.createElement("div",{className:"".concat(C,"-wrap")},A.createElement("span",Ln({},D,{onMouseDown:function(F){v(F,!0)},"aria-label":"Increase Value","aria-disabled":i,className:P}),n||A.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),A.createElement("span",Ln({},D,{onMouseDown:function(F){v(F,!1)},"aria-label":"Decrease Value","aria-disabled":s,className:I}),r||A.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}function $W(e){var t=typeof e=="number"?G3(e):Pg(e).fullStr,n=t.includes(".");return n?Pg(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}const Cke=function(){var e=A.useRef(0),t=function(){Mi.cancel(e.current)};return A.useEffect(function(){return t},[]),function(n){t(),e.current=Mi(function(){n()})}};var Mke=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur"],Eke=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],jW=function(t,n){return t||n.isEmpty()?n.toString():n.toNumber()},zW=function(t){var n=Tu(t);return n.isInvalidate()?null:n},Tke=A.forwardRef(function(e,t){var n,r=e.prefixCls,i=r===void 0?"rc-input-number":r,s=e.className,c=e.style,h=e.min,o=e.max,m=e.step,y=m===void 0?1:m,v=e.defaultValue,S=e.value,C=e.disabled,P=e.readOnly,I=e.upHandler,N=e.downHandler,D=e.keyboard,k=e.changeOnWheel,F=k===void 0?!1:k,U=e.controls,B=U===void 0?!0:U;e.classNames;var z=e.stringMode,W=e.parser,Y=e.formatter,K=e.precision,ee=e.decimalSeparator,re=e.onChange,oe=e.onInput,he=e.onPressEnter,be=e.onStep,le=e.changeOnBlur,ye=le===void 0?!0:le,fe=Gr(e,Mke),ue="".concat(i,"-input"),xe=A.useRef(null),ae=A.useState(!1),Ee=Pt(ae,2),Me=Ee[0],de=Ee[1],ze=A.useRef(!1),$e=A.useRef(!1),et=A.useRef(!1),gt=A.useState(function(){return Tu(S??v)}),lt=Pt(gt,2),We=lt[0],qe=lt[1];function Qe(un){S===void 0&&qe(un)}var Ve=A.useCallback(function(un,hn){if(!hn)return K>=0?K:Math.max(yg(un),yg(y))},[K,y]),yt=A.useCallback(function(un){var hn=String(un);if(W)return W(hn);var vn=hn;return ee&&(vn=vn.replace(ee,".")),vn.replace(/[^\w.-]+/g,"")},[W,ee]),it=A.useRef(""),pt=A.useCallback(function(un,hn){if(Y)return Y(un,{userTyping:hn,input:String(it.current)});var vn=typeof un=="number"?G3(un):un;if(!hn){var In=Ve(vn,hn);if(G7(vn)&&(ee||In>=0)){var Sn=ee||".";vn=uE(vn,Sn,In)}}return vn},[Y,Ve,ee]),$t=A.useState(function(){var un=v??S;return We.isInvalidate()&&["string","number"].includes(Hr(un))?Number.isNaN(un)?"":un:pt(We.toString(),!1)}),Jt=Pt($t,2),on=Jt[0],ln=Jt[1];it.current=on;function Lt(un,hn){ln(pt(un.isInvalidate()?un.toString(!1):un.toString(!hn),hn))}var en=A.useMemo(function(){return zW(o)},[o,K]),Kt=A.useMemo(function(){return zW(h)},[h,K]),Zt=A.useMemo(function(){return!en||!We||We.isInvalidate()?!1:en.lessEquals(We)},[en,We]),En=A.useMemo(function(){return!Kt||!We||We.isInvalidate()?!1:We.lessEquals(Kt)},[Kt,We]),Fn=_ke(xe.current,Me),je=Pt(Fn,2),me=je[0],we=je[1],Ne=function(hn){return en&&!hn.lessEquals(en)?en:Kt&&!Kt.lessEquals(hn)?Kt:null},Xe=function(hn){return!Ne(hn)},ot=function(hn,vn){var In=hn,Sn=Xe(In)||In.isEmpty();if(!In.isEmpty()&&!vn&&(In=Ne(In)||In,Sn=!0),!P&&!C&&Sn){var an=In.toString(),kn=Ve(an,vn);return kn>=0&&(In=Tu(uE(an,".",kn)),Xe(In)||(In=Tu(uE(an,".",kn,!0)))),In.equals(We)||(Qe(In),re==null||re(In.isEmpty()?null:jW(z,In)),S===void 0&&Lt(In,vn)),In}return We},st=Cke(),_t=function un(hn){if(me(),it.current=hn,ln(hn),!$e.current){var vn=yt(hn),In=Tu(vn);In.isNaN()||ot(In,!0)}oe==null||oe(hn),st(function(){var Sn=hn;W||(Sn=hn.replace(/。/g,".")),Sn!==hn&&un(Sn)})},nt=function(){$e.current=!0},St=function(){$e.current=!1,_t(xe.current.value)},Et=function(hn){_t(hn.target.value)},ft=function(hn){var vn;if(!(hn&&Zt||!hn&&En)){ze.current=!1;var In=Tu(et.current?$W(y):y);hn||(In=In.negate());var Sn=(We||Tu(0)).add(In.toString()),an=ot(Sn,!1);be==null||be(jW(z,an),{offset:et.current?$W(y):y,type:hn?"up":"down"}),(vn=xe.current)===null||vn===void 0||vn.focus()}},jt=function(hn){var vn=Tu(yt(on)),In=vn;vn.isNaN()?In=ot(We,hn):In=ot(vn,hn),S!==void 0?Lt(We,!1):In.isNaN()||Lt(In,!1)},Bn=function(){ze.current=!0},rr=function(hn){var vn=hn.key,In=hn.shiftKey;ze.current=!0,et.current=In,vn==="Enter"&&($e.current||(ze.current=!1),jt(!1),he==null||he(hn)),D!==!1&&!$e.current&&["Up","ArrowUp","Down","ArrowDown"].includes(vn)&&(ft(vn==="Up"||vn==="ArrowUp"),hn.preventDefault())},dr=function(){ze.current=!1,et.current=!1};A.useEffect(function(){if(F&&Me){var un=function(In){ft(In.deltaY<0),In.preventDefault()},hn=xe.current;if(hn)return hn.addEventListener("wheel",un,{passive:!1}),function(){return hn.removeEventListener("wheel",un)}}});var ar=function(){ye&&jt(!1),de(!1),ze.current=!1};return h0(function(){We.isInvalidate()||Lt(We,!1)},[K,Y]),h0(function(){var un=Tu(S);qe(un);var hn=Tu(yt(on));(!un.equals(hn)||!ze.current||Y)&&Lt(un,ze.current)},[S]),h0(function(){Y&&we()},[on]),A.createElement("div",{className:Dt(i,s,(n={},Ze(n,"".concat(i,"-focused"),Me),Ze(n,"".concat(i,"-disabled"),C),Ze(n,"".concat(i,"-readonly"),P),Ze(n,"".concat(i,"-not-a-number"),We.isNaN()),Ze(n,"".concat(i,"-out-of-range"),!We.isInvalidate()&&!Xe(We)),n)),style:c,onFocus:function(){de(!0)},onBlur:ar,onKeyDown:rr,onKeyUp:dr,onCompositionStart:nt,onCompositionEnd:St,onBeforeInput:Bn},B&&A.createElement(Ake,{prefixCls:i,upNode:I,downNode:N,upDisabled:Zt,downDisabled:En,onStep:ft}),A.createElement("div",{className:"".concat(ue,"-wrap")},A.createElement("input",Ln({autoComplete:"off",role:"spinbutton","aria-valuemin":h,"aria-valuemax":o,"aria-valuenow":We.isInvalidate()?null:We.toString(),step:y},fe,{ref:el(xe,t),className:ue,value:on,onChange:Et,disabled:C,readOnly:P}))))}),wse=A.forwardRef(function(e,t){var n=e.disabled,r=e.style,i=e.prefixCls,s=e.value,c=e.prefix,h=e.suffix,o=e.addonBefore,m=e.addonAfter,y=e.className,v=e.classNames,S=Gr(e,Eke),C=A.useRef(null),P=function(N){C.current&&_se(C.current,N)};return A.createElement(K7,{className:y,triggerFocus:P,prefixCls:i,value:s,disabled:n,style:r,prefix:c,suffix:h,addonAfter:m,addonBefore:o,classNames:v,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"}},A.createElement(Tke,Ln({prefixCls:i,disabled:n,ref:el(C,t),className:v==null?void 0:v.input},S)))});wse.displayName="InputNumber";const Pke=e=>{var t;const n=(t=e.handleVisible)!==null&&t!==void 0?t:"auto";return Object.assign(Object.assign({},z7(e)),{controlWidth:90,handleWidth:e.controlHeightSM-e.lineWidth*2,handleFontSize:e.fontSize/2,handleVisible:n,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new Va(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:n===!0?1:0})},BW=(e,t)=>{let{componentCls:n,borderRadiusSM:r,borderRadiusLG:i}=e;const s=t==="lg"?i:r;return{[`&-${t}`]:{[`${n}-handler-wrap`]:{borderStartEndRadius:s,borderEndEndRadius:s},[`${n}-handler-up`]:{borderStartEndRadius:s},[`${n}-handler-down`]:{borderEndEndRadius:s}}}},Ike=e=>{const{componentCls:t,lineWidth:n,lineType:r,borderRadius:i,fontSizeLG:s,controlHeightLG:c,controlHeightSM:h,colorError:o,paddingInlineSM:m,paddingBlockSM:y,paddingBlockLG:v,paddingInlineLG:S,colorTextDescription:C,motionDurationMid:P,handleHoverColor:I,paddingInline:N,paddingBlock:D,handleBg:k,handleActiveBg:F,colorTextDisabled:U,borderRadiusSM:B,borderRadiusLG:z,controlWidth:W,handleOpacity:Y,handleBorderColor:K,filledHandleBg:ee,lineHeightLG:re,calc:oe}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ia(e)),H3(e)),{display:"inline-block",width:W,margin:0,padding:0,borderRadius:i}),Kae(e,{[`${t}-handler-wrap`]:{background:k,[`${t}-handler-down`]:{borderBlockStart:`${Ut(n)} ${r} ${K}`}}})),Jae(e,{[`${t}-handler-wrap`]:{background:ee,[`${t}-handler-down`]:{borderBlockStart:`${Ut(n)} ${r} ${K}`}},"&:focus-within":{[`${t}-handler-wrap`]:{background:k}}})),Xae(e)),{"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:s,lineHeight:re,borderRadius:z,[`input${t}-input`]:{height:oe(c).sub(oe(n).mul(2)).equal(),padding:`${Ut(v)} ${Ut(S)}`}},"&-sm":{padding:0,borderRadius:B,[`input${t}-input`]:{height:oe(h).sub(oe(n).mul(2)).equal(),padding:`${Ut(y)} ${Ut(m)}`}},"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:o}}},"&-group":Object.assign(Object.assign(Object.assign({},ia(e)),rse(e)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:z,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:B}}},qae(e)),Qae(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},ia(e)),{width:"100%",padding:`${Ut(D)} ${Ut(N)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:i,outline:0,transition:`all ${P} linear`,appearance:"textfield",fontSize:"inherit"}),ese(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})}})},{[t]:Object.assign(Object.assign(Object.assign({[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{opacity:1},[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleWidth,height:"100%",borderStartStartRadius:0,borderStartEndRadius:i,borderEndEndRadius:i,borderEndStartRadius:0,opacity:Y,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`opacity ${P} linear ${P}`,[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:C,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${Ut(n)} ${r} ${K}`,transition:`all ${P} linear`,"&:active":{background:F},"&:hover":{height:"60%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{color:I}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},P3()),{color:C,transition:`all ${P} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:i},[`${t}-handler-down`]:{borderEndEndRadius:i}},BW(e,"lg")),BW(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`
          ${t}-handler-up-disabled,
          ${t}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${t}-handler-up-disabled:hover &-handler-up-inner,
          ${t}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:U}})}]},Oke=e=>{const{componentCls:t,paddingBlock:n,paddingInline:r,inputAffixPadding:i,controlWidth:s,borderRadiusLG:c,borderRadiusSM:h,paddingInlineLG:o,paddingInlineSM:m,paddingBlockLG:y,paddingBlockSM:v}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign({[`input${t}-input`]:{padding:`${Ut(n)} 0`}},H3(e)),{position:"relative",display:"inline-flex",width:s,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:c,paddingInlineStart:o,[`input${t}-input`]:{padding:`${Ut(y)} 0`}},"&-sm":{borderRadius:h,paddingInlineStart:m,[`input${t}-input`]:{padding:`${Ut(v)} 0`}},[`&:not(${t}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:i},"&-suffix":{position:"absolute",insetBlockStart:0,insetInlineEnd:0,zIndex:1,height:"100%",marginInlineEnd:r,marginInlineStart:i}}})}},kke=_a("InputNumber",e=>{const t=lo(e,j7(e));return[Ike(t),Oke(t),D3(t)]},Pke,{unitless:{handleOpacity:!0}});var Nke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Sse=A.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=A.useContext(hi),i=A.useRef(null);A.useImperativeHandle(t,()=>i.current);const{className:s,rootClassName:c,size:h,disabled:o,prefixCls:m,addonBefore:y,addonAfter:v,prefix:S,bordered:C,readOnly:P,status:I,controls:N,variant:D}=e,k=Nke(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls","variant"]),F=n("input-number",m),U=rd(F),[B,z,W]=kke(F,U),{compactSize:Y,compactItemClassnames:K}=lA(F,r);let ee=A.createElement(hke,{className:`${F}-handler-up-inner`}),re=A.createElement(Sae,{className:`${F}-handler-down-inner`});const oe=typeof N=="boolean"?N:void 0;typeof N=="object"&&(ee=typeof N.upIcon>"u"?ee:A.createElement("span",{className:`${F}-handler-up-inner`},N.upIcon),re=typeof N.downIcon>"u"?re:A.createElement("span",{className:`${F}-handler-down-inner`},N.downIcon));const{hasFeedback:he,status:be,isFormItemInput:le,feedbackIcon:ye}=A.useContext(gl),fe=dA(be,I),ue=id(gt=>{var lt;return(lt=h??Y)!==null&&lt!==void 0?lt:gt}),xe=A.useContext(Ic),ae=o??xe,[Ee,Me]=z3(D,C),de=he&&A.createElement(A.Fragment,null,ye),ze=Dt({[`${F}-lg`]:ue==="large",[`${F}-sm`]:ue==="small",[`${F}-rtl`]:r==="rtl",[`${F}-in-form-item`]:le},z),$e=`${F}-group`,et=A.createElement(wse,Object.assign({ref:i,disabled:ae,className:Dt(W,U,s,c,K),upHandler:ee,downHandler:re,prefixCls:F,readOnly:P,controls:oe,prefix:S,suffix:de,addonAfter:v&&A.createElement(qw,null,A.createElement(aT,{override:!0,status:!0},v)),addonBefore:y&&A.createElement(qw,null,A.createElement(aT,{override:!0,status:!0},y)),classNames:{input:ze,variant:Dt({[`${F}-${Ee}`]:Me},G0(F,fe,he)),affixWrapper:Dt({[`${F}-affix-wrapper-sm`]:ue==="small",[`${F}-affix-wrapper-lg`]:ue==="large",[`${F}-affix-wrapper-rtl`]:r==="rtl"},z),wrapper:Dt({[`${$e}-rtl`]:r==="rtl"},z),groupWrapper:Dt({[`${F}-group-wrapper-sm`]:ue==="small",[`${F}-group-wrapper-lg`]:ue==="large",[`${F}-group-wrapper-rtl`]:r==="rtl",[`${F}-group-wrapper-${Ee}`]:Me},G0(`${F}-group-wrapper`,fe,he),z)}},k));return B(et)}),P8=Sse,Rke=e=>A.createElement(Vf,{theme:{components:{InputNumber:{handleVisible:!0}}}},A.createElement(Sse,Object.assign({},e)));P8._InternalPanelDoNotUseOrYouWillBeFired=Rke;const Dke=e=>{const{getPrefixCls:t,direction:n}=A.useContext(hi),{prefixCls:r,className:i}=e,s=t("input-group",r),c=t("input"),[h,o]=Z7(c),m=Dt(s,{[`${s}-lg`]:e.size==="large",[`${s}-sm`]:e.size==="small",[`${s}-compact`]:e.compact,[`${s}-rtl`]:n==="rtl"},o,i),y=A.useContext(gl),v=A.useMemo(()=>Object.assign(Object.assign({},y),{isFormItemInput:!1}),[y]);return h(A.createElement("span",{className:m,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},A.createElement(gl.Provider,{value:v},e.children)))},Ase=e=>{let t;return typeof e=="object"&&(e!=null&&e.clearIcon)?t=e:e&&(t={clearIcon:Oe.createElement(O3,null)}),t};function Cse(e,t){const n=A.useRef([]),r=()=>{n.current.push(setTimeout(()=>{var i,s,c,h;!((i=e.current)===null||i===void 0)&&i.input&&((s=e.current)===null||s===void 0?void 0:s.input.getAttribute("type"))==="password"&&(!((c=e.current)===null||c===void 0)&&c.input.hasAttribute("value"))&&((h=e.current)===null||h===void 0||h.input.removeAttribute("value"))}))};return A.useEffect(()=>(t&&r(),()=>n.current.forEach(i=>{i&&clearTimeout(i)})),[]),r}function Lke(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}var Fke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function $ke(e,t){if(!e)return;e.focus(t);const{cursor:n}=t||{};if(n){const r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r);break}}}const K3=A.forwardRef((e,t)=>{var n;const{prefixCls:r,bordered:i=!0,status:s,size:c,disabled:h,onBlur:o,onFocus:m,suffix:y,allowClear:v,addonAfter:S,addonBefore:C,className:P,style:I,styles:N,rootClassName:D,onChange:k,classNames:F,variant:U}=e,B=Fke(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:z,direction:W,input:Y}=Oe.useContext(hi),K=z("input",r),ee=A.useRef(null),re=rd(K),[oe,he,be]=Z7(K,re),{compactSize:le,compactItemClassnames:ye}=lA(K,W),fe=id(yt=>{var it;return(it=c??le)!==null&&it!==void 0?it:yt}),ue=Oe.useContext(Ic),xe=h??ue,{status:ae,hasFeedback:Ee,feedbackIcon:Me}=A.useContext(gl),de=dA(ae,s),ze=Lke(e)||!!Ee;A.useRef(ze);const $e=Cse(ee,!0),et=yt=>{$e(),o==null||o(yt)},gt=yt=>{$e(),m==null||m(yt)},lt=yt=>{$e(),k==null||k(yt)},We=(Ee||y)&&Oe.createElement(Oe.Fragment,null,y,Ee&&Me),qe=Ase(v??(Y==null?void 0:Y.allowClear)),[Qe,Ve]=z3(U,i);return oe(Oe.createElement(bke,Object.assign({ref:el(t,ee),prefixCls:K,autoComplete:Y==null?void 0:Y.autoComplete},B,{disabled:xe,onBlur:et,onFocus:gt,style:Object.assign(Object.assign({},Y==null?void 0:Y.style),I),styles:Object.assign(Object.assign({},Y==null?void 0:Y.styles),N),suffix:We,allowClear:qe,className:Dt(P,D,be,re,ye,Y==null?void 0:Y.className),onChange:lt,addonAfter:S&&Oe.createElement(qw,null,Oe.createElement(aT,{override:!0,status:!0},S)),addonBefore:C&&Oe.createElement(qw,null,Oe.createElement(aT,{override:!0,status:!0},C)),classNames:Object.assign(Object.assign(Object.assign({},F),Y==null?void 0:Y.classNames),{input:Dt({[`${K}-sm`]:fe==="small",[`${K}-lg`]:fe==="large",[`${K}-rtl`]:W==="rtl"},F==null?void 0:F.input,(n=Y==null?void 0:Y.classNames)===null||n===void 0?void 0:n.input,he),variant:Dt({[`${K}-${Qe}`]:Ve},G0(K,de)),affixWrapper:Dt({[`${K}-affix-wrapper-sm`]:fe==="small",[`${K}-affix-wrapper-lg`]:fe==="large",[`${K}-affix-wrapper-rtl`]:W==="rtl"},he),wrapper:Dt({[`${K}-group-rtl`]:W==="rtl"},he),groupWrapper:Dt({[`${K}-group-wrapper-sm`]:fe==="small",[`${K}-group-wrapper-lg`]:fe==="large",[`${K}-group-wrapper-rtl`]:W==="rtl",[`${K}-group-wrapper-${Qe}`]:Ve},G0(`${K}-group-wrapper`,de,Ee),he)})})))}),jke=e=>{const{componentCls:t,paddingXS:n}=e;return{[`${t}`]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}},zke=_a(["Input","OTP"],e=>{const t=lo(e,j7(e));return[jke(t)]},z7);var Bke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Zke=A.forwardRef((e,t)=>{const{value:n,onChange:r,onActiveChange:i,index:s}=e,c=Bke(e,["value","onChange","onActiveChange","index"]),h=S=>{r(s,S.target.value)},o=A.useRef(null);A.useImperativeHandle(t,()=>o.current);const m=()=>{Mi(()=>{var S;const C=(S=o.current)===null||S===void 0?void 0:S.input;document.activeElement===C&&C&&C.select()})},y=S=>{let{key:C}=S;C==="ArrowLeft"?i(s-1):C==="ArrowRight"&&i(s+1),m()},v=S=>{S.key==="Backspace"&&!n&&i(s-1),m()};return A.createElement(K3,Object.assign({},c,{ref:o,value:n,onInput:h,onFocus:m,onKeyDown:y,onKeyUp:v,onMouseDown:m,onMouseUp:m}))});var Uke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function rM(e){return(e||"").split("")}const Hke=A.forwardRef((e,t)=>{const{prefixCls:n,length:r=6,size:i,defaultValue:s,value:c,onChange:h,formatter:o,variant:m,disabled:y,status:v,autoFocus:S}=e,C=Uke(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus"]),{getPrefixCls:P,direction:I}=A.useContext(hi),N=P("otp",n),D=W0(C,{aria:!0,data:!0,attr:!0}),k=rd(N),[F,U,B]=zke(N,k),z=id(ae=>i??ae),W=A.useContext(gl),Y=dA(W.status,v),K=A.useMemo(()=>Object.assign(Object.assign({},W),{status:Y,hasFeedback:!1,feedbackIcon:null}),[W,Y]),ee=A.useRef(null),re=A.useRef({});A.useImperativeHandle(t,()=>({focus:()=>{var ae;(ae=re.current[0])===null||ae===void 0||ae.focus()},blur:()=>{var ae;for(let Ee=0;Ee<r;Ee+=1)(ae=re.current[Ee])===null||ae===void 0||ae.blur()},nativeElement:ee.current}));const oe=ae=>o?o(ae):ae,[he,be]=A.useState(rM(oe(s||"")));A.useEffect(()=>{c!==void 0&&be(rM(c))},[c]);const le=Ia(ae=>{be(ae),h&&ae.length===r&&ae.every(Ee=>Ee)&&ae.some((Ee,Me)=>he[Me]!==Ee)&&h(ae.join(""))}),ye=Ia((ae,Ee)=>{let Me=zn(he);for(let ze=0;ze<ae;ze+=1)Me[ze]||(Me[ze]="");Ee.length<=1?Me[ae]=Ee:Me=Me.slice(0,ae).concat(rM(Ee)),Me=Me.slice(0,r);for(let ze=Me.length-1;ze>=0&&!Me[ze];ze-=1)Me.pop();const de=oe(Me.map(ze=>ze||" ").join(""));return Me=rM(de).map((ze,$e)=>ze===" "&&!Me[$e]?Me[$e]:ze),Me}),fe=(ae,Ee)=>{var Me;const de=ye(ae,Ee),ze=Math.min(ae+Ee.length,r-1);ze!==ae&&((Me=re.current[ze])===null||Me===void 0||Me.focus()),le(de)},ue=ae=>{var Ee;(Ee=re.current[ae])===null||Ee===void 0||Ee.focus()},xe={variant:m,disabled:y,status:Y};return F(A.createElement("div",Object.assign({},D,{ref:ee,className:Dt(N,{[`${N}-sm`]:z==="small",[`${N}-lg`]:z==="large",[`${N}-rtl`]:I==="rtl"},B,U)}),A.createElement(gl.Provider,{value:K},new Array(r).fill(0).map((ae,Ee)=>{const Me=`otp-${Ee}`,de=he[Ee]||"";return A.createElement(Zke,Object.assign({ref:ze=>{re.current[Ee]=ze},key:Me,index:Ee,size:z,htmlSize:1,className:`${N}-input`,onChange:fe,value:de,onActiveChange:ue,autoFocus:Ee===0&&S},xe))}))))});var Vke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Wke=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:Vke}))},Gke=A.forwardRef(Wke),Kke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},qke=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:Kke}))},Mse=A.forwardRef(qke),Xke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Yke=e=>e?A.createElement(Mse,null):A.createElement(Gke,null),Jke={click:"onClick",hover:"onMouseOver"},Qke=A.forwardRef((e,t)=>{const{visibilityToggle:n=!0}=e,r=typeof n=="object"&&n.visible!==void 0,[i,s]=A.useState(()=>r?n.visible:!1),c=A.useRef(null);A.useEffect(()=>{r&&s(n.visible)},[r,n]);const h=Cse(c),o=()=>{const{disabled:B}=e;B||(i&&h(),s(z=>{var W;const Y=!z;return typeof n=="object"&&((W=n.onVisibleChange)===null||W===void 0||W.call(n,Y)),Y}))},m=B=>{const{action:z="click",iconRender:W=Yke}=e,Y=Jke[z]||"",K=W(i),ee={[Y]:o,className:`${B}-icon`,key:"passwordIcon",onMouseDown:re=>{re.preventDefault()},onMouseUp:re=>{re.preventDefault()}};return A.cloneElement(A.isValidElement(K)?K:A.createElement("span",null,K),ee)},{className:y,prefixCls:v,inputPrefixCls:S,size:C}=e,P=Xke(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:I}=A.useContext(hi),N=I("input",S),D=I("input-password",v),k=n&&m(D),F=Dt(D,y,{[`${D}-${C}`]:!!C}),U=Object.assign(Object.assign({},Vl(P,["suffix","iconRender","visibilityToggle"])),{type:i?"text":"password",className:F,prefixCls:N,suffix:k});return C&&(U.size=C),A.createElement(K3,Object.assign({ref:el(t,c)},U))});var eNe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const tNe=A.forwardRef((e,t)=>{const{prefixCls:n,inputPrefixCls:r,className:i,size:s,suffix:c,enterButton:h=!1,addonAfter:o,loading:m,disabled:y,onSearch:v,onChange:S,onCompositionStart:C,onCompositionEnd:P}=e,I=eNe(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:N,direction:D}=A.useContext(hi),k=A.useRef(!1),F=N("input-search",n),U=N("input",r),{compactSize:B}=lA(F,D),z=id(ae=>{var Ee;return(Ee=s??B)!==null&&Ee!==void 0?Ee:ae}),W=A.useRef(null),Y=ae=>{ae&&ae.target&&ae.type==="click"&&v&&v(ae.target.value,ae,{source:"clear"}),S&&S(ae)},K=ae=>{var Ee;document.activeElement===((Ee=W.current)===null||Ee===void 0?void 0:Ee.input)&&ae.preventDefault()},ee=ae=>{var Ee,Me;v&&v((Me=(Ee=W.current)===null||Ee===void 0?void 0:Ee.input)===null||Me===void 0?void 0:Me.value,ae,{source:"input"})},re=ae=>{k.current||m||ee(ae)},oe=typeof h=="boolean"?A.createElement(Aae,null):null,he=`${F}-button`;let be;const le=h||{},ye=le.type&&le.type.__ANT_BUTTON===!0;ye||le.type==="button"?be=Yu(le,Object.assign({onMouseDown:K,onClick:ae=>{var Ee,Me;(Me=(Ee=le==null?void 0:le.props)===null||Ee===void 0?void 0:Ee.onClick)===null||Me===void 0||Me.call(Ee,ae),ee(ae)},key:"enterButton"},ye?{className:he,size:z}:{})):be=A.createElement(vs,{className:he,type:h?"primary":void 0,size:z,disabled:y,key:"enterButton",onMouseDown:K,onClick:ee,loading:m,icon:oe},h),o&&(be=[be,Yu(o,{key:"addonAfter"})]);const fe=Dt(F,{[`${F}-rtl`]:D==="rtl",[`${F}-${z}`]:!!z,[`${F}-with-button`]:!!h},i),ue=ae=>{k.current=!0,C==null||C(ae)},xe=ae=>{k.current=!1,P==null||P(ae)};return A.createElement(K3,Object.assign({ref:el(W,t),onPressEnter:re},I,{size:z,onCompositionStart:ue,onCompositionEnd:xe,prefixCls:U,addonAfter:be,suffix:c,onChange:Y,className:fe,disabled:y}))});var nNe=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,rNe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],e6={},Bc;function iNe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&e6[n])return e6[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),s=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),c=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),h=rNe.map(function(m){return"".concat(m,":").concat(r.getPropertyValue(m))}).join(";"),o={sizingStyle:h,paddingSize:s,borderSize:c,boxSizing:i};return t&&n&&(e6[n]=o),o}function oNe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Bc||(Bc=document.createElement("textarea"),Bc.setAttribute("tab-index","-1"),Bc.setAttribute("aria-hidden","true"),document.body.appendChild(Bc)),e.getAttribute("wrap")?Bc.setAttribute("wrap",e.getAttribute("wrap")):Bc.removeAttribute("wrap");var i=iNe(e,t),s=i.paddingSize,c=i.borderSize,h=i.boxSizing,o=i.sizingStyle;Bc.setAttribute("style","".concat(o,";").concat(nNe)),Bc.value=e.value||e.placeholder||"";var m=void 0,y=void 0,v,S=Bc.scrollHeight;if(h==="border-box"?S+=c:h==="content-box"&&(S-=s),n!==null||r!==null){Bc.value=" ";var C=Bc.scrollHeight-s;n!==null&&(m=C*n,h==="border-box"&&(m=m+s+c),S=Math.max(m,S)),r!==null&&(y=C*r,h==="border-box"&&(y=y+s+c),v=S>y?"":"hidden",S=Math.min(y,S))}var P={height:S,overflowY:v,resize:"none"};return m&&(P.minHeight=m),y&&(P.maxHeight=y),P}var aNe=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],t6=0,n6=1,r6=2,sNe=A.forwardRef(function(e,t){var n=e,r=n.prefixCls;n.onPressEnter;var i=n.defaultValue,s=n.value,c=n.autoSize,h=n.onResize,o=n.className,m=n.style,y=n.disabled,v=n.onChange;n.onInternalAutoSize;var S=Gr(n,aNe),C=Ra(i,{value:s,postState:function(ze){return ze??""}}),P=Pt(C,2),I=P[0],N=P[1],D=function(ze){N(ze.target.value),v==null||v(ze)},k=A.useRef();A.useImperativeHandle(t,function(){return{textArea:k.current}});var F=A.useMemo(function(){return c&&Hr(c)==="object"?[c.minRows,c.maxRows]:[]},[c]),U=Pt(F,2),B=U[0],z=U[1],W=!!c,Y=function(){try{if(document.activeElement===k.current){var ze=k.current,$e=ze.selectionStart,et=ze.selectionEnd,gt=ze.scrollTop;k.current.setSelectionRange($e,et),k.current.scrollTop=gt}}catch{}},K=A.useState(r6),ee=Pt(K,2),re=ee[0],oe=ee[1],he=A.useState(),be=Pt(he,2),le=be[0],ye=be[1],fe=function(){oe(t6)};so(function(){W&&fe()},[s,B,z,W]),so(function(){if(re===t6)oe(n6);else if(re===n6){var de=oNe(k.current,!1,B,z);oe(r6),ye(de)}else Y()},[re]);var ue=A.useRef(),xe=function(){Mi.cancel(ue.current)},ae=function(ze){re===r6&&(h==null||h(ze),c&&(xe(),ue.current=Mi(function(){fe()})))};A.useEffect(function(){return xe},[]);var Ee=W?le:null,Me=Ue(Ue({},m),Ee);return(re===t6||re===n6)&&(Me.overflowY="hidden",Me.overflowX="hidden"),A.createElement(Jc,{onResize:ae,disabled:!(c||h)},A.createElement("textarea",Ln({},S,{ref:k,style:Me,className:Dt(r,o,Ze({},"".concat(r,"-disabled"),y)),disabled:y,value:I,onChange:D})))}),lNe=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize"],cNe=Oe.forwardRef(function(e,t){var n,r,i=e.defaultValue,s=e.value,c=e.onFocus,h=e.onBlur,o=e.onChange,m=e.allowClear,y=e.maxLength,v=e.onCompositionStart,S=e.onCompositionEnd,C=e.suffix,P=e.prefixCls,I=P===void 0?"rc-textarea":P,N=e.showCount,D=e.count,k=e.className,F=e.style,U=e.disabled,B=e.hidden,z=e.classNames,W=e.styles,Y=e.onResize,K=Gr(e,lNe),ee=Ra(i,{value:s,defaultValue:i}),re=Pt(ee,2),oe=re[0],he=re[1],be=oe==null?"":String(oe),le=Oe.useState(!1),ye=Pt(le,2),fe=ye[0],ue=ye[1],xe=Oe.useRef(!1),ae=Oe.useState(null),Ee=Pt(ae,2),Me=Ee[0],de=Ee[1],ze=A.useRef(null),$e=function(){var Ne;return(Ne=ze.current)===null||Ne===void 0?void 0:Ne.textArea},et=function(){$e().focus()};A.useImperativeHandle(t,function(){return{resizableTextArea:ze.current,focus:et,blur:function(){$e().blur()}}}),A.useEffect(function(){ue(function(we){return!U&&we})},[U]);var gt=Oe.useState(null),lt=Pt(gt,2),We=lt[0],qe=lt[1];Oe.useEffect(function(){if(We){var we;(we=$e()).setSelectionRange.apply(we,zn(We))}},[We]);var Qe=xse(D,N),Ve=(n=Qe.max)!==null&&n!==void 0?n:y,yt=Number(Ve)>0,it=Qe.strategy(be),pt=!!Ve&&it>Ve,$t=function(Ne,Xe){var ot=Xe;!xe.current&&Qe.exceedFormatter&&Qe.max&&Qe.strategy(Xe)>Qe.max&&(ot=Qe.exceedFormatter(Xe,{max:Qe.max}),Xe!==ot&&qe([$e().selectionStart||0,$e().selectionEnd||0])),he(ot),dT(Ne.currentTarget,Ne,o,ot)},Jt=function(Ne){xe.current=!0,v==null||v(Ne)},on=function(Ne){xe.current=!1,$t(Ne,Ne.currentTarget.value),S==null||S(Ne)},ln=function(Ne){$t(Ne,Ne.target.value)},Lt=function(Ne){var Xe=K.onPressEnter,ot=K.onKeyDown;Ne.key==="Enter"&&Xe&&Xe(Ne),ot==null||ot(Ne)},en=function(Ne){ue(!0),c==null||c(Ne)},Kt=function(Ne){ue(!1),h==null||h(Ne)},Zt=function(Ne){he(""),et(),dT($e(),Ne,o)},En=C,Fn;Qe.show&&(Qe.showFormatter?Fn=Qe.showFormatter({value:be,count:it,maxLength:Ve}):Fn="".concat(it).concat(yt?" / ".concat(Ve):""),En=Oe.createElement(Oe.Fragment,null,En,Oe.createElement("span",{className:Dt("".concat(I,"-data-count"),z==null?void 0:z.count),style:W==null?void 0:W.count},Fn)));var je=function(Ne){var Xe;Y==null||Y(Ne),(Xe=$e())!==null&&Xe!==void 0&&Xe.style.height&&de(!0)},me=!K.autoSize&&!N&&!m;return Oe.createElement(K7,{value:be,allowClear:m,handleReset:Zt,suffix:En,prefixCls:I,classNames:Ue(Ue({},z),{},{affixWrapper:Dt(z==null?void 0:z.affixWrapper,(r={},Ze(r,"".concat(I,"-show-count"),N),Ze(r,"".concat(I,"-textarea-allow-clear"),m),r))}),disabled:U,focused:fe,className:Dt(k,pt&&"".concat(I,"-out-of-range")),style:Ue(Ue({},F),Me&&!me?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof Fn=="string"?Fn:void 0}},hidden:B},Oe.createElement(sNe,Ln({},K,{maxLength:y,onKeyDown:Lt,onChange:ln,onFocus:en,onBlur:Kt,onCompositionStart:Jt,onCompositionEnd:on,className:Dt(z==null?void 0:z.textarea),style:Ue(Ue({},W==null?void 0:W.textarea),{},{resize:F==null?void 0:F.resize}),disabled:U,prefixCls:I,onResize:je,ref:ze})))}),uNe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ese=A.forwardRef((e,t)=>{var n,r;const{prefixCls:i,bordered:s=!0,size:c,disabled:h,status:o,allowClear:m,classNames:y,rootClassName:v,className:S,style:C,styles:P,variant:I}=e,N=uNe(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:D,direction:k,textArea:F}=A.useContext(hi),U=id(c),B=A.useContext(Ic),z=h??B,{status:W,hasFeedback:Y,feedbackIcon:K}=A.useContext(gl),ee=dA(W,o),re=A.useRef(null);A.useImperativeHandle(t,()=>{var ae;return{resizableTextArea:(ae=re.current)===null||ae===void 0?void 0:ae.resizableTextArea,focus:Ee=>{var Me,de;$ke((de=(Me=re.current)===null||Me===void 0?void 0:Me.resizableTextArea)===null||de===void 0?void 0:de.textArea,Ee)},blur:()=>{var Ee;return(Ee=re.current)===null||Ee===void 0?void 0:Ee.blur()}}});const oe=D("input",i),he=rd(oe),[be,le,ye]=Z7(oe,he),[fe,ue]=z3(I,s),xe=Ase(m??(F==null?void 0:F.allowClear));return be(A.createElement(cNe,Object.assign({autoComplete:F==null?void 0:F.autoComplete},N,{style:Object.assign(Object.assign({},F==null?void 0:F.style),C),styles:Object.assign(Object.assign({},F==null?void 0:F.styles),P),disabled:z,allowClear:xe,className:Dt(ye,he,S,v,F==null?void 0:F.className),classNames:Object.assign(Object.assign(Object.assign({},y),F==null?void 0:F.classNames),{textarea:Dt({[`${oe}-sm`]:U==="small",[`${oe}-lg`]:U==="large"},le,y==null?void 0:y.textarea,(n=F==null?void 0:F.classNames)===null||n===void 0?void 0:n.textarea),variant:Dt({[`${oe}-${fe}`]:ue},G0(oe,ee)),affixWrapper:Dt(`${oe}-textarea-affix-wrapper`,{[`${oe}-affix-wrapper-rtl`]:k==="rtl",[`${oe}-affix-wrapper-sm`]:U==="small",[`${oe}-affix-wrapper-lg`]:U==="large",[`${oe}-textarea-show-count`]:e.showCount||((r=e.count)===null||r===void 0?void 0:r.show)},le)}),prefixCls:oe,suffix:Y&&A.createElement("span",{className:`${oe}-textarea-suffix`},K),ref:re})))}),va=K3;va.Group=Dke;va.Search=tNe;va.TextArea=Ese;va.Password=Qke;va.OTP=Hke;function ZW(e){return["small","middle","large"].includes(e)}function UW(e){return e?typeof e=="number"&&!Number.isNaN(e):!1}const Tse=Oe.createContext({latestIndex:0}),dNe=Tse.Provider,hNe=e=>{let{className:t,index:n,children:r,split:i,style:s}=e;const{latestIndex:c}=A.useContext(Tse);return r==null?null:A.createElement(A.Fragment,null,A.createElement("div",{className:t,style:s},r),n<c&&i&&A.createElement("span",{className:`${t}-split`},i))};var pNe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const fNe=A.forwardRef((e,t)=>{var n,r;const{getPrefixCls:i,space:s,direction:c}=A.useContext(hi),{size:h=(s==null?void 0:s.size)||"small",align:o,className:m,rootClassName:y,children:v,direction:S="horizontal",prefixCls:C,split:P,style:I,wrap:N=!1,classNames:D,styles:k}=e,F=pNe(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[U,B]=Array.isArray(h)?h:[h,h],z=ZW(B),W=ZW(U),Y=UW(B),K=UW(U),ee=Pc(v,{keepEmpty:!0}),re=o===void 0&&S==="horizontal"?"center":o,oe=i("space",C),[he,be,le]=Roe(oe),ye=Dt(oe,s==null?void 0:s.className,be,`${oe}-${S}`,{[`${oe}-rtl`]:c==="rtl",[`${oe}-align-${re}`]:re,[`${oe}-gap-row-${B}`]:z,[`${oe}-gap-col-${U}`]:W},m,y,le),fe=Dt(`${oe}-item`,(n=D==null?void 0:D.item)!==null&&n!==void 0?n:(r=s==null?void 0:s.classNames)===null||r===void 0?void 0:r.item);let ue=0;const xe=ee.map((Me,de)=>{var ze,$e;Me!=null&&(ue=de);const et=Me&&Me.key||`${fe}-${de}`;return A.createElement(hNe,{className:fe,key:et,index:de,split:P,style:(ze=k==null?void 0:k.item)!==null&&ze!==void 0?ze:($e=s==null?void 0:s.styles)===null||$e===void 0?void 0:$e.item},Me)}),ae=A.useMemo(()=>({latestIndex:ue}),[ue]);if(ee.length===0)return null;const Ee={};return N&&(Ee.flexWrap="wrap"),!W&&K&&(Ee.columnGap=U),!z&&Y&&(Ee.rowGap=B),he(A.createElement("div",Object.assign({ref:t,className:ye,style:Object.assign(Object.assign(Object.assign({},Ee),s==null?void 0:s.style),I)},F),A.createElement(dNe,{value:ae},xe)))}),dE=fNe;dE.Compact=XEe;function hT(e){const[t,n]=A.useState(e);return A.useEffect(()=>{const r=setTimeout(()=>{n(e)},e.length?0:10);return()=>{clearTimeout(r)}},[e]),t}const mNe=e=>{const{componentCls:t}=e,n=`${t}-show-help`,r=`${t}-show-help-item`;return{[n]:{transition:`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${e.motionDurationSlow} ${e.motionEaseInOut},
                     opacity ${e.motionDurationSlow} ${e.motionEaseInOut},
                     transform ${e.motionDurationSlow} ${e.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},gNe=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${Ut(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${Ut(e.controlOutlineWidth)} ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),HW=(e,t)=>{const{formItemCls:n}=e;return{[n]:{[`${n}-label > label`]:{height:t},[`${n}-control-input`]:{minHeight:t}}}},yNe=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},ia(e)),gNe(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},HW(e,e.controlHeightSM)),"&-large":Object.assign({},HW(e,e.controlHeightLG))})}},vNe=e=>{const{formItemCls:t,iconCls:n,componentCls:r,rootPrefixCls:i,labelRequiredMarkColor:s,labelColor:c,labelFontSize:h,labelHeight:o,labelColonMarginInlineStart:m,labelColonMarginInlineEnd:y,itemMarginBottom:v}=e;return{[t]:Object.assign(Object.assign({},ia(e)),{marginBottom:v,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden.${i}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:o,color:c,fontSize:h,[`> ${n}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required:not(${t}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:e.marginXXS,color:s,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${r}-hide-required-mark &`]:{display:"none"}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`${r}-hide-required-mark &`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:m,marginInlineEnd:y},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${i}-col-'"]):not([class*="' ${i}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[t]:{"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:M7,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},bNe=e=>{const{componentCls:t,formItemCls:n}=e;return{[`${t}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}}}}},_Ne=e=>{const{componentCls:t,formItemCls:n}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:e.margin,marginBottom:0,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,
        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},Iv=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),xNe=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${n} ${n}-label`]:Iv(e),[`${t}:not(${t}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},wNe=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${t}-vertical`]:{[n]:{"&-row":{flexDirection:"column"},"&-label > label":{height:"auto"},[`${t}-item-control`]:{width:"100%"}}},[`${t}-vertical ${n}-label,
      .${r}-col-24${n}-label,
      .${r}-col-xl-24${n}-label`]:Iv(e),[`@media (max-width: ${Ut(e.screenXSMax)})`]:[xNe(e),{[t]:{[`.${r}-col-xs-24${n}-label`]:Iv(e)}}],[`@media (max-width: ${Ut(e.screenSMMax)})`]:{[t]:{[`.${r}-col-sm-24${n}-label`]:Iv(e)}},[`@media (max-width: ${Ut(e.screenMDMax)})`]:{[t]:{[`.${r}-col-md-24${n}-label`]:Iv(e)}},[`@media (max-width: ${Ut(e.screenLGMax)})`]:{[t]:{[`.${r}-col-lg-24${n}-label`]:Iv(e)}}}},SNe=e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0}),Pse=(e,t)=>lo(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t}),q7=_a("Form",(e,t)=>{let{rootPrefixCls:n}=t;const r=Pse(e,n);return[yNe(r),vNe(r),mNe(r),bNe(r),_Ne(r),wNe(r),eae(r),M7]},SNe,{order:-1e3}),VW=[];function i6(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof e=="string"?e:`${t}-${r}`,error:e,errorStatus:n}}const Ise=e=>{let{help:t,helpStatus:n,errors:r=VW,warnings:i=VW,className:s,fieldId:c,onVisibleChanged:h}=e;const{prefixCls:o}=A.useContext(C7),m=`${o}-item-explain`,y=rd(o),[v,S,C]=q7(o,y),P=A.useMemo(()=>QN(o),[o]),I=hT(r),N=hT(i),D=A.useMemo(()=>t!=null?[i6(t,"help",n)]:[].concat(zn(I.map((F,U)=>i6(F,"error","error",U))),zn(N.map((F,U)=>i6(F,"warning","warning",U)))),[t,n,I,N]),k={};return c&&(k.id=`${c}_help`),v(A.createElement(nd,{motionDeadline:P.motionDeadline,motionName:`${o}-show-help`,visible:!!D.length,onVisibleChanged:h},F=>{const{className:U,style:B}=F;return A.createElement("div",Object.assign({},k,{className:Dt(m,U,C,y,s,S),style:B,role:"alert"}),A.createElement(Aoe,Object.assign({keys:D},QN(o),{motionName:`${o}-show-help-item`,component:!1}),z=>{const{key:W,error:Y,errorStatus:K,className:ee,style:re}=z;return A.createElement("div",{key:W,className:Dt(ee,{[`${m}-${K}`]:K}),style:re},Y)}))}))},ANe=["parentNode"],CNe="form_item";function ow(e){return e===void 0||e===!1?[]:Array.isArray(e)?e:[e]}function Ose(e,t){if(!e.length)return;const n=e.join("_");return t?`${t}_${n}`:ANe.includes(n)?`${CNe}_${n}`:n}function kse(e,t,n,r,i,s){let c=r;return s!==void 0?c=s:n.validating?c="validating":e.length?c="error":t.length?c="warning":(n.touched||i&&n.validated)&&(c="success"),c}function WW(e){return ow(e).join("_")}function Nse(e){const[t]=A7(),n=A.useRef({}),r=A.useMemo(()=>e??Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:i=>s=>{const c=WW(i);s?n.current[c]=s:delete n.current[c]}},scrollToField:function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=ow(i),h=Ose(c,r.__INTERNAL__.name),o=h?document.getElementById(h):null;o&&wEe(o,Object.assign({scrollMode:"if-needed",block:"nearest"},s))},getFieldInstance:i=>{const s=WW(i);return n.current[s]}}),[e,t]);return[r]}var MNe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ENe=(e,t)=>{const n=A.useContext(Ic),{getPrefixCls:r,direction:i,form:s}=A.useContext(hi),{prefixCls:c,className:h,rootClassName:o,size:m,disabled:y=n,form:v,colon:S,labelAlign:C,labelWrap:P,labelCol:I,wrapperCol:N,hideRequiredMark:D,layout:k="horizontal",scrollToFirstError:F,requiredMark:U,onFinishFailed:B,name:z,style:W,feedbackIcons:Y,variant:K}=e,ee=MNe(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),re=id(m),oe=A.useContext(Hie),he=A.useMemo(()=>U!==void 0?U:D?!1:s&&s.requiredMark!==void 0?s.requiredMark:!0,[D,U,s]),be=S??(s==null?void 0:s.colon),le=r("form",c),ye=rd(le),[fe,ue,xe]=q7(le,ye),ae=Dt(le,`${le}-${k}`,{[`${le}-hide-required-mark`]:he===!1,[`${le}-rtl`]:i==="rtl",[`${le}-${re}`]:re},xe,ye,ue,s==null?void 0:s.className,h,o),[Ee]=Nse(v),{__INTERNAL__:Me}=Ee;Me.name=z;const de=A.useMemo(()=>({name:z,labelAlign:C,labelCol:I,labelWrap:P,wrapperCol:N,vertical:k==="vertical",colon:be,requiredMark:he,itemRef:Me.itemRef,form:Ee,feedbackIcons:Y}),[z,C,I,N,k,be,he,Ee,Y]);A.useImperativeHandle(t,()=>Ee);const ze=(et,gt)=>{if(et){let lt={block:"nearest"};typeof et=="object"&&(lt=et),Ee.scrollToField(gt,lt)}},$e=et=>{if(B==null||B(et),et.errorFields.length){const gt=et.errorFields[0].name;if(F!==void 0){ze(F,gt);return}s&&s.scrollToFirstError!==void 0&&ze(s.scrollToFirstError,gt)}};return fe(A.createElement(Qoe.Provider,{value:K},A.createElement(Qie,{disabled:y},A.createElement(Bg.Provider,{value:re},A.createElement(Joe,{validateMessages:oe},A.createElement(ip.Provider,{value:de},A.createElement(Ob,Object.assign({id:z},ee,{name:z,onFinishFailed:$e,form:Ee,style:Object.assign(Object.assign({},s==null?void 0:s.style),W),className:ae}))))))))},TNe=A.forwardRef(ENe);function PNe(e){if(typeof e=="function")return e;const t=Pc(e);return t.length<=1?t[0]:t}const Rse=()=>{const{status:e,errors:t=[],warnings:n=[]}=A.useContext(gl);return{status:e,errors:t,warnings:n}};Rse.Context=gl;function INe(e){const[t,n]=A.useState(e),r=A.useRef(null),i=A.useRef([]),s=A.useRef(!1);A.useEffect(()=>(s.current=!1,()=>{s.current=!0,Mi.cancel(r.current),r.current=null}),[]);function c(h){s.current||(r.current===null&&(i.current=[],r.current=Mi(()=>{r.current=null,n(o=>{let m=o;return i.current.forEach(y=>{m=y(m)}),m})})),i.current.push(h))}return[t,c]}function ONe(){const{itemRef:e}=A.useContext(ip),t=A.useRef({});function n(r,i){const s=i&&typeof i=="object"&&i.ref,c=r.join("_");return(t.current.name!==c||t.current.originRef!==s)&&(t.current.name=c,t.current.originRef=s,t.current.ref=el(e(r),s)),t.current.ref}return n}const kNe=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}},NNe=poe(["Form","item-item"],(e,t)=>{let{rootPrefixCls:n}=t;const r=Pse(e,n);return[kNe(r)]}),RNe=e=>{const{prefixCls:t,status:n,wrapperCol:r,children:i,errors:s,warnings:c,_internalItemRender:h,extra:o,help:m,fieldId:y,marginBottom:v,onErrorVisibleChanged:S}=e,C=`${t}-item`,P=A.useContext(ip),I=r||P.wrapperCol||{},N=Dt(`${C}-control`,I.className),D=A.useMemo(()=>Object.assign({},P),[P]);delete D.labelCol,delete D.wrapperCol;const k=A.createElement("div",{className:`${C}-control-input`},A.createElement("div",{className:`${C}-control-input-content`},i)),F=A.useMemo(()=>({prefixCls:t,status:n}),[t,n]),U=v!==null||s.length||c.length?A.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},A.createElement(C7.Provider,{value:F},A.createElement(Ise,{fieldId:y,errors:s,warnings:c,help:m,helpStatus:n,className:`${C}-explain-connected`,onVisibleChanged:S})),!!v&&A.createElement("div",{style:{width:0,height:v}})):null,B={};y&&(B.id=`${y}_extra`);const z=o?A.createElement("div",Object.assign({},B,{className:`${C}-extra`}),o):null,W=h&&h.mark==="pro_table_render"&&h.render?h.render(e,{input:k,errorList:U,extra:z}):A.createElement(A.Fragment,null,k,U,z);return A.createElement(ip.Provider,{value:D},A.createElement(vse,Object.assign({},I,{className:N}),W),A.createElement(NNe,{prefixCls:t}))};var DNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},LNe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:DNe}))},FNe=A.forwardRef(LNe),$Ne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function jNe(e){return e?typeof e=="object"&&!A.isValidElement(e)?e:{title:e}:null}const zNe=e=>{let{prefixCls:t,label:n,htmlFor:r,labelCol:i,labelAlign:s,colon:c,required:h,requiredMark:o,tooltip:m}=e;var y;const[v]=T3("Form"),{vertical:S,labelAlign:C,labelCol:P,labelWrap:I,colon:N}=A.useContext(ip);if(!n)return null;const D=i||P||{},k=s||C,F=`${t}-item-label`,U=Dt(F,k==="left"&&`${F}-left`,D.className,{[`${F}-wrap`]:!!I});let B=n;const z=c===!0||N!==!1&&c!==!1;z&&!S&&typeof n=="string"&&n.trim()!==""&&(B=n.replace(/[:|：]\s*$/,""));const Y=jNe(m);if(Y){const{icon:oe=A.createElement(FNe,null)}=Y,he=$Ne(Y,["icon"]),be=A.createElement(Gf,Object.assign({},he),A.cloneElement(oe,{className:`${t}-item-tooltip`,title:"",onClick:le=>{le.preventDefault()},tabIndex:null}));B=A.createElement(A.Fragment,null,B,be)}const K=o==="optional",ee=typeof o=="function";ee?B=o(B,{required:!!h}):K&&!h&&(B=A.createElement(A.Fragment,null,B,A.createElement("span",{className:`${t}-item-optional`,title:""},(v==null?void 0:v.optional)||((y=Df.Form)===null||y===void 0?void 0:y.optional))));const re=Dt({[`${t}-item-required`]:h,[`${t}-item-required-mark-optional`]:K||ee,[`${t}-item-no-colon`]:!z});return A.createElement(vse,Object.assign({},D,{className:U}),A.createElement("label",{htmlFor:r,className:re,title:typeof n=="string"?n:""},B))},BNe={success:Ioe,warning:pEe,error:O3,validating:Zg};function Dse(e){let{children:t,errors:n,warnings:r,hasFeedback:i,validateStatus:s,prefixCls:c,meta:h,noStyle:o}=e;const m=`${c}-item`,{feedbackIcons:y}=A.useContext(ip),v=kse(n,r,h,null,!!i,s),{isFormItemInput:S,status:C,hasFeedback:P,feedbackIcon:I}=A.useContext(gl),N=A.useMemo(()=>{var D;let k;if(i){const U=i!==!0&&i.icons||y,B=v&&((D=U==null?void 0:U({status:v,errors:n,warnings:r}))===null||D===void 0?void 0:D[v]),z=v&&BNe[v];k=B!==!1&&z?A.createElement("span",{className:Dt(`${m}-feedback-icon`,`${m}-feedback-icon-${v}`)},B||A.createElement(z,null)):null}const F={status:v||"",errors:n,warnings:r,hasFeedback:!!i,feedbackIcon:k,isFormItemInput:!0};return o&&(F.status=(v??C)||"",F.isFormItemInput=S,F.hasFeedback=!!(i??P),F.feedbackIcon=i!==void 0?F.feedbackIcon:I),F},[v,i,o,S,C]);return A.createElement(gl.Provider,{value:N},t)}var ZNe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function UNe(e){const{prefixCls:t,className:n,rootClassName:r,style:i,help:s,errors:c,warnings:h,validateStatus:o,meta:m,hasFeedback:y,hidden:v,children:S,fieldId:C,required:P,isRequired:I,onSubItemMetaChange:N}=e,D=ZNe(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange"]),k=`${t}-item`,{requiredMark:F}=A.useContext(ip),U=A.useRef(null),B=hT(c),z=hT(h),W=s!=null,Y=!!(W||c.length||h.length),K=!!U.current&&N3(U.current),[ee,re]=A.useState(null);so(()=>{if(Y&&U.current){const ye=getComputedStyle(U.current);re(parseInt(ye.marginBottom,10))}},[Y,K]);const oe=ye=>{ye||re(null)},be=function(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const fe=ye?B:m.errors,ue=ye?z:m.warnings;return kse(fe,ue,m,"",!!y,o)}(),le=Dt(k,n,r,{[`${k}-with-help`]:W||B.length||z.length,[`${k}-has-feedback`]:be&&y,[`${k}-has-success`]:be==="success",[`${k}-has-warning`]:be==="warning",[`${k}-has-error`]:be==="error",[`${k}-is-validating`]:be==="validating",[`${k}-hidden`]:v});return A.createElement("div",{className:le,style:i,ref:U},A.createElement(ike,Object.assign({className:`${k}-row`},Vl(D,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),A.createElement(zNe,Object.assign({htmlFor:C},e,{requiredMark:F,required:P??I,prefixCls:t})),A.createElement(RNe,Object.assign({},e,m,{errors:B,warnings:z,prefixCls:t,status:be,help:s,marginBottom:ee,onErrorVisibleChanged:oe}),A.createElement(Yoe.Provider,{value:N},A.createElement(Dse,{prefixCls:t,meta:m,errors:m.errors,warnings:m.warnings,hasFeedback:y,validateStatus:be},S)))),!!ee&&A.createElement("div",{className:`${k}-margin-offset`,style:{marginBottom:-ee}}))}const HNe="__SPLIT__";function VNe(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>{const s=e[i],c=t[i];return s===c||typeof s=="function"||typeof c=="function"})}const WNe=A.memo(e=>{let{children:t}=e;return t},(e,t)=>VNe(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((n,r)=>n===t.childProps[r]));function GW(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function GNe(e){const{name:t,noStyle:n,className:r,dependencies:i,prefixCls:s,shouldUpdate:c,rules:h,children:o,required:m,label:y,messageVariables:v,trigger:S="onChange",validateTrigger:C,hidden:P,help:I}=e,{getPrefixCls:N}=A.useContext(hi),{name:D}=A.useContext(ip),k=PNe(o),F=typeof k=="function",U=A.useContext(Yoe),{validateTrigger:B}=A.useContext(Ug),z=C!==void 0?C:B,W=t!=null,Y=N("form",s),K=rd(Y),[ee,re,oe]=q7(Y,K);c7();const he=A.useContext(Yw),be=A.useRef(),[le,ye]=INe({}),[fe,ue]=H0(()=>GW()),xe=et=>{const gt=he==null?void 0:he.getKey(et.name);if(ue(et.destroy?GW():et,!0),n&&I!==!1&&U){let lt=et.name;if(et.destroy)lt=be.current||lt;else if(gt!==void 0){const[We,qe]=gt;lt=[We].concat(zn(qe)),be.current=lt}U(et,lt)}},ae=(et,gt)=>{ye(lt=>{const We=Object.assign({},lt),Qe=[].concat(zn(et.name.slice(0,-1)),zn(gt)).join(HNe);return et.destroy?delete We[Qe]:We[Qe]=et,We})},[Ee,Me]=A.useMemo(()=>{const et=zn(fe.errors),gt=zn(fe.warnings);return Object.values(le).forEach(lt=>{et.push.apply(et,zn(lt.errors||[])),gt.push.apply(gt,zn(lt.warnings||[]))}),[et,gt]},[le,fe.errors,fe.warnings]),de=ONe();function ze(et,gt,lt){return n&&!P?A.createElement(Dse,{prefixCls:Y,hasFeedback:e.hasFeedback,validateStatus:e.validateStatus,meta:fe,errors:Ee,warnings:Me,noStyle:!0},et):A.createElement(UNe,Object.assign({key:"row"},e,{className:Dt(r,oe,K,re),prefixCls:Y,fieldId:gt,isRequired:lt,errors:Ee,warnings:Me,meta:fe,onSubItemMetaChange:ae}),et)}if(!W&&!F&&!i)return ee(ze(k));let $e={};return typeof y=="string"?$e.label=y:t&&($e.label=String(t)),v&&($e=Object.assign(Object.assign({},$e),v)),ee(A.createElement(S7,Object.assign({},e,{messageVariables:$e,trigger:S,validateTrigger:z,onMetaChange:xe}),(et,gt,lt)=>{const We=ow(t).length&&gt?gt.name:[],qe=Ose(We,D),Qe=m!==void 0?m:!!(h&&h.some(it=>{if(it&&typeof it=="object"&&it.required&&!it.warningOnly)return!0;if(typeof it=="function"){const pt=it(lt);return pt&&pt.required&&!pt.warningOnly}return!1})),Ve=Object.assign({},et);let yt=null;if(Array.isArray(k)&&W)yt=k;else if(!(F&&(!(c||i)||W))){if(!(i&&!F&&!W))if(A.isValidElement(k)){const it=Object.assign(Object.assign({},k.props),Ve);if(it.id||(it.id=qe),I||Ee.length>0||Me.length>0||e.extra){const Jt=[];(I||Ee.length>0)&&Jt.push(`${qe}_help`),e.extra&&Jt.push(`${qe}_extra`),it["aria-describedby"]=Jt.join(" ")}Ee.length>0&&(it["aria-invalid"]="true"),Qe&&(it["aria-required"]="true"),Uf(k)&&(it.ref=de(We,k)),new Set([].concat(zn(ow(S)),zn(ow(z)))).forEach(Jt=>{it[Jt]=function(){for(var on,ln,Lt,en,Kt,Zt=arguments.length,En=new Array(Zt),Fn=0;Fn<Zt;Fn++)En[Fn]=arguments[Fn];(Lt=Ve[Jt])===null||Lt===void 0||(on=Lt).call.apply(on,[Ve].concat(En)),(Kt=(en=k.props)[Jt])===null||Kt===void 0||(ln=Kt).call.apply(ln,[en].concat(En))}});const $t=[it["aria-required"],it["aria-invalid"],it["aria-describedby"]];yt=A.createElement(WNe,{control:Ve,update:k,childProps:$t},Yu(k,it))}else F&&(c||i)&&!W?yt=k(lt):yt=k}return ze(yt,qe,Qe)}))}const Lse=GNe;Lse.useStatus=Rse;var KNe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const qNe=e=>{var{prefixCls:t,children:n}=e,r=KNe(e,["prefixCls","children"]);const{getPrefixCls:i}=A.useContext(hi),s=i("form",t),c=A.useMemo(()=>({prefixCls:s,status:"error"}),[s]);return A.createElement(Goe,Object.assign({},r),(h,o,m)=>A.createElement(C7.Provider,{value:c},n(h.map(y=>Object.assign(Object.assign({},y),{fieldKey:y.key})),o,{errors:m.errors,warnings:m.warnings})))};function XNe(){const{form:e}=A.useContext(ip);return e}const ao=TNe;ao.Item=Lse;ao.List=qNe;ao.ErrorList=Ise;ao.useForm=Nse;ao.useFormInstance=XNe;ao.useWatch=Xoe;ao.Provider=Joe;ao.create=()=>{};var YNe={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},JNe=function(){var t=A.useRef([]),n=A.useRef(null);return A.useEffect(function(){var r=Date.now(),i=!1;t.current.forEach(function(s){if(s){i=!0;var c=s.style;c.transitionDuration=".3s, .3s, .3s, .06s",n.current&&r-n.current<100&&(c.transitionDuration="0s, 0s")}}),i&&(n.current=Date.now())}),t.current},KW=0,QNe=Qs();function e8e(){var e;return QNe?(e=KW,KW+=1):e="TEST_OR_SSR",e}const t8e=function(e){var t=A.useState(),n=Pt(t,2),r=n[0],i=n[1];return A.useEffect(function(){i("rc_progress_".concat(e8e()))},[]),e||r};var qW=function(t){var n=t.bg,r=t.children;return A.createElement("div",{style:{width:"100%",height:"100%",background:n}},r)};function XW(e,t){return Object.keys(e).map(function(n){var r=parseFloat(n),i="".concat(Math.floor(r*t),"%");return"".concat(e[n]," ").concat(i)})}var n8e=A.forwardRef(function(e,t){var n=e.prefixCls,r=e.color,i=e.gradientId,s=e.radius,c=e.style,h=e.ptg,o=e.strokeLinecap,m=e.strokeWidth,y=e.size,v=e.gapDegree,S=r&&Hr(r)==="object",C=S?"#FFF":void 0,P=y/2,I=A.createElement("circle",{className:"".concat(n,"-circle-path"),r:s,cx:P,cy:P,stroke:C,strokeLinecap:o,strokeWidth:m,opacity:h===0?0:1,style:c,ref:t});if(!S)return I;var N="".concat(i,"-conic"),D=v?"".concat(180+v/2,"deg"):"0deg",k=XW(r,(360-v)/360),F=XW(r,1),U="conic-gradient(from ".concat(D,", ").concat(k.join(", "),")"),B="linear-gradient(to ".concat(v?"bottom":"top",", ").concat(F.join(", "),")");return A.createElement(A.Fragment,null,A.createElement("mask",{id:N},I),A.createElement("foreignObject",{x:0,y:0,width:y,height:y,mask:"url(#".concat(N,")")},A.createElement(qW,{bg:B},A.createElement(qW,{bg:U}))))}),Bx=100,o6=function(t,n,r,i,s,c,h,o,m,y){var v=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,S=r/100*360*((360-c)/360),C=c===0?0:{bottom:0,top:180,left:90,right:-90}[h],P=(100-i)/100*n;m==="round"&&i!==100&&(P+=y/2,P>=n&&(P=n-.01));var I=Bx/2;return{stroke:typeof o=="string"?o:void 0,strokeDasharray:"".concat(n,"px ").concat(t),strokeDashoffset:P+v,transform:"rotate(".concat(s+S+C,"deg)"),transformOrigin:"".concat(I,"px ").concat(I,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},r8e=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function YW(e){var t=e??[];return Array.isArray(t)?t:[t]}var i8e=function(t){var n=Ue(Ue({},YNe),t),r=n.id,i=n.prefixCls,s=n.steps,c=n.strokeWidth,h=n.trailWidth,o=n.gapDegree,m=o===void 0?0:o,y=n.gapPosition,v=n.trailColor,S=n.strokeLinecap,C=n.style,P=n.className,I=n.strokeColor,N=n.percent,D=Gr(n,r8e),k=Bx/2,F=t8e(r),U="".concat(F,"-gradient"),B=k-c/2,z=Math.PI*2*B,W=m>0?90+m/2:-90,Y=z*((360-m)/360),K=Hr(s)==="object"?s:{count:s,gap:2},ee=K.count,re=K.gap,oe=YW(N),he=YW(I),be=he.find(function(Ee){return Ee&&Hr(Ee)==="object"}),le=be&&Hr(be)==="object",ye=le?"butt":S,fe=o6(z,Y,0,100,W,m,y,v,ye,c),ue=JNe(),xe=function(){var Me=0;return oe.map(function(de,ze){var $e=he[ze]||he[he.length-1],et=o6(z,Y,Me,de,W,m,y,$e,ye,c);return Me+=de,A.createElement(n8e,{key:ze,color:$e,ptg:de,radius:B,prefixCls:i,gradientId:U,style:et,strokeLinecap:ye,strokeWidth:c,gapDegree:m,ref:function(lt){ue[ze]=lt},size:Bx})}).reverse()},ae=function(){var Me=Math.round(ee*(oe[0]/100)),de=100/ee,ze=0;return new Array(ee).fill(null).map(function($e,et){var gt=et<=Me-1?he[0]:v,lt=gt&&Hr(gt)==="object"?"url(#".concat(U,")"):void 0,We=o6(z,Y,ze,de,W,m,y,gt,"butt",c,re);return ze+=(Y-We.strokeDashoffset+re)*100/Y,A.createElement("circle",{key:et,className:"".concat(i,"-circle-path"),r:B,cx:k,cy:k,stroke:lt,strokeWidth:c,opacity:1,style:We,ref:function(Qe){ue[et]=Qe}})})};return A.createElement("svg",Ln({className:Dt("".concat(i,"-circle"),P),viewBox:"0 0 ".concat(Bx," ").concat(Bx),style:C,id:r,role:"presentation"},D),!ee&&A.createElement("circle",{className:"".concat(i,"-circle-trail"),r:B,cx:k,cy:k,stroke:v,strokeLinecap:ye,strokeWidth:h||c,style:fe}),ee?ae():xe())};function Mf(e){return!e||e<0?0:e>100?100:e}function pT(e){let{success:t,successPercent:n}=e,r=n;return t&&"progress"in t&&(r=t.progress),t&&"percent"in t&&(r=t.percent),r}const o8e=e=>{let{percent:t,success:n,successPercent:r}=e;const i=Mf(pT({success:n,successPercent:r}));return[i,Mf(Mf(t)-i)]},a8e=e=>{let{success:t={},strokeColor:n}=e;const{strokeColor:r}=t;return[r||BN.green,n||null]},q3=(e,t,n)=>{var r,i,s,c;let h=-1,o=-1;if(t==="step"){const m=n.steps,y=n.strokeWidth;typeof e=="string"||typeof e>"u"?(h=e==="small"?2:14,o=y??8):typeof e=="number"?[h,o]=[e,e]:[h=14,o=8]=e,h*=m}else if(t==="line"){const m=n==null?void 0:n.strokeWidth;typeof e=="string"||typeof e>"u"?o=m||(e==="small"?6:8):typeof e=="number"?[h,o]=[e,e]:[h=-1,o=8]=e}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[h,o]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[h,o]=[e,e]:(h=(i=(r=e[0])!==null&&r!==void 0?r:e[1])!==null&&i!==void 0?i:120,o=(c=(s=e[0])!==null&&s!==void 0?s:e[1])!==null&&c!==void 0?c:120));return[h,o]},s8e=3,l8e=e=>s8e/e*100,c8e=e=>{const{prefixCls:t,trailColor:n=null,strokeLinecap:r="round",gapPosition:i,gapDegree:s,width:c=120,type:h,children:o,success:m,size:y=c,steps:v}=e,[S,C]=q3(y,"circle");let{strokeWidth:P}=e;P===void 0&&(P=Math.max(l8e(S),6));const I={width:S,height:C,fontSize:S*.15+6},N=A.useMemo(()=>{if(s||s===0)return s;if(h==="dashboard")return 75},[s,h]),D=o8e(e),k=i||h==="dashboard"&&"bottom"||void 0,F=Object.prototype.toString.call(e.strokeColor)==="[object Object]",U=a8e({success:m,strokeColor:e.strokeColor}),B=Dt(`${t}-inner`,{[`${t}-circle-gradient`]:F}),z=A.createElement(i8e,{steps:v,percent:v?D[1]:D,strokeWidth:P,trailWidth:P,strokeColor:v?U[1]:U,strokeLinecap:r,trailColor:n,prefixCls:t,gapDegree:N,gapPosition:k});return A.createElement("div",{className:B,style:I},S<=20?A.createElement(Gf,{title:o},A.createElement("span",null,z)):A.createElement(A.Fragment,null,z,o))},fT="--progress-line-stroke-color",Fse="--progress-percent",JW=e=>{const t=e?"100%":"-100%";return new Ti(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},u8e=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:Object.assign(Object.assign({},ia(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-block",width:"100%"},[`&${t}-show-info`]:{[`${t}-outer`]:{marginInlineEnd:`calc(-2em - ${Ut(e.marginXS)})`,paddingInlineEnd:`calc(2em + ${Ut(e.paddingXS)})`}},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${fT})`]},height:"100%",width:`calc(1 / var(${Fse}) * 100%)`,display:"block"}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",width:"2em",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:e.fontSize}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:JW(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:JW(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},d8e=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},h8e=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},p8e=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${n}`]:{fontSize:e.fontSizeSM}}}},f8e=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),m8e=_a("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),n=lo(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[u8e(n),d8e(n),h8e(n),p8e(n)]},f8e);var g8e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const y8e=e=>{let t=[];return Object.keys(e).forEach(n=>{const r=parseFloat(n.replace(/%/g,""));isNaN(r)||t.push({key:r,value:e[n]})}),t=t.sort((n,r)=>n.key-r.key),t.map(n=>{let{key:r,value:i}=n;return`${i} ${r}%`}).join(", ")},v8e=(e,t)=>{const{from:n=BN.blue,to:r=BN.blue,direction:i=t==="rtl"?"to left":"to right"}=e,s=g8e(e,["from","to","direction"]);if(Object.keys(s).length!==0){const h=y8e(s),o=`linear-gradient(${i}, ${h})`;return{background:o,[fT]:o}}const c=`linear-gradient(${i}, ${n}, ${r})`;return{background:c,[fT]:c}},b8e=e=>{const{prefixCls:t,direction:n,percent:r,size:i,strokeWidth:s,strokeColor:c,strokeLinecap:h="round",children:o,trailColor:m=null,success:y}=e,v=c&&typeof c!="string"?v8e(c,n):{[fT]:c,background:c},S=h==="square"||h==="butt"?0:void 0,C=i??[-1,s||(i==="small"?6:8)],[P,I]=q3(C,"line",{strokeWidth:s}),N={backgroundColor:m||void 0,borderRadius:S},D=Object.assign(Object.assign({width:`${Mf(r)}%`,height:I,borderRadius:S},v),{[Fse]:Mf(r)/100}),k=pT(e),F={width:`${Mf(k)}%`,height:I,borderRadius:S,backgroundColor:y==null?void 0:y.strokeColor},U={width:P<0?"100%":P,height:I};return A.createElement(A.Fragment,null,A.createElement("div",{className:`${t}-outer`,style:U},A.createElement("div",{className:`${t}-inner`,style:N},A.createElement("div",{className:`${t}-bg`,style:D}),k!==void 0?A.createElement("div",{className:`${t}-success-bg`,style:F}):null)),o)},_8e=e=>{const{size:t,steps:n,percent:r=0,strokeWidth:i=8,strokeColor:s,trailColor:c=null,prefixCls:h,children:o}=e,m=Math.round(n*(r/100)),v=t??[t==="small"?2:14,i],[S,C]=q3(v,"step",{steps:n,strokeWidth:i}),P=S/n,I=new Array(n);for(let N=0;N<n;N++){const D=Array.isArray(s)?s[N]:s;I[N]=A.createElement("div",{key:N,className:Dt(`${h}-steps-item`,{[`${h}-steps-item-active`]:N<=m-1}),style:{backgroundColor:N<=m-1?D:c,width:P,height:C}})}return A.createElement("div",{className:`${h}-steps-outer`},I,o)};var x8e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const w8e=["normal","exception","active","success"],I8=A.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:i,steps:s,strokeColor:c,percent:h=0,size:o="default",showInfo:m=!0,type:y="line",status:v,format:S,style:C}=e,P=x8e(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style"]),I=A.useMemo(()=>{var he,be;const le=pT(e);return parseInt(le!==void 0?(he=le??0)===null||he===void 0?void 0:he.toString():(be=h??0)===null||be===void 0?void 0:be.toString(),10)},[h,e.success,e.successPercent]),N=A.useMemo(()=>!w8e.includes(v)&&I>=100?"success":v||"normal",[v,I]),{getPrefixCls:D,direction:k,progress:F}=A.useContext(hi),U=D("progress",n),[B,z,W]=m8e(U),Y=A.useMemo(()=>{if(!m)return null;const he=pT(e);let be;const le=S||(fe=>`${fe}%`),ye=y==="line";return S||N!=="exception"&&N!=="success"?be=le(Mf(h),Mf(he)):N==="exception"?be=ye?A.createElement(O3,null):A.createElement(m7,null):N==="success"&&(be=ye?A.createElement(Ioe,null):A.createElement(O7,null)),A.createElement("span",{className:`${U}-text`,title:typeof be=="string"?be:void 0},be)},[m,h,I,N,y,U,S]),K=Array.isArray(c)?c[0]:c,ee=typeof c=="string"||Array.isArray(c)?c:void 0;let re;y==="line"?re=s?A.createElement(_8e,Object.assign({},e,{strokeColor:ee,prefixCls:U,steps:typeof s=="object"?s.count:s}),Y):A.createElement(b8e,Object.assign({},e,{strokeColor:K,prefixCls:U,direction:k}),Y):(y==="circle"||y==="dashboard")&&(re=A.createElement(c8e,Object.assign({},e,{strokeColor:K,prefixCls:U,progressStatus:N}),Y));const oe=Dt(U,`${U}-status-${N}`,{[`${U}-${y==="dashboard"&&"circle"||y}`]:y!=="line",[`${U}-inline-circle`]:y==="circle"&&q3(o,"circle")[0]<=20,[`${U}-line`]:!s&&y==="line",[`${U}-steps`]:s,[`${U}-show-info`]:m,[`${U}-${o}`]:typeof o=="string",[`${U}-rtl`]:k==="rtl"},F==null?void 0:F.className,r,i,z,W);return B(A.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},F==null?void 0:F.style),C),className:oe,role:"progressbar","aria-valuenow":I},Vl(P,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),re))});function O8(e,t,n){return(e-t)/(n-t)}function X7(e,t,n,r){var i=O8(t,n,r),s={};switch(e){case"rtl":s.right="".concat(i*100,"%"),s.transform="translateX(50%)";break;case"btt":s.bottom="".concat(i*100,"%"),s.transform="translateY(50%)";break;case"ttb":s.top="".concat(i*100,"%"),s.transform="translateY(-50%)";break;default:s.left="".concat(i*100,"%"),s.transform="translateX(-50%)";break}return s}function Jv(e,t){return Array.isArray(e)?e[t]:e}var iy=A.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),S8e=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],QW=A.forwardRef(function(e,t){var n=e.prefixCls,r=e.value,i=e.valueIndex,s=e.onStartMove,c=e.style,h=e.render,o=e.dragging,m=e.onOffsetChange,y=e.onChangeComplete,v=e.onFocus,S=e.onMouseEnter,C=Gr(e,S8e),P=A.useContext(iy),I=P.min,N=P.max,D=P.direction,k=P.disabled,F=P.keyboard,U=P.range,B=P.tabIndex,z=P.ariaLabelForHandle,W=P.ariaLabelledByForHandle,Y=P.ariaValueTextFormatterForHandle,K=P.styles,ee=P.classNames,re="".concat(n,"-handle"),oe=function(Me){k||s(Me,i)},he=function(Me){v==null||v(Me,i)},be=function(Me){S(Me,i)},le=function(Me){if(!k&&F){var de=null;switch(Me.which||Me.keyCode){case tr.LEFT:de=D==="ltr"||D==="btt"?-1:1;break;case tr.RIGHT:de=D==="ltr"||D==="btt"?1:-1;break;case tr.UP:de=D!=="ttb"?1:-1;break;case tr.DOWN:de=D!=="ttb"?-1:1;break;case tr.HOME:de="min";break;case tr.END:de="max";break;case tr.PAGE_UP:de=2;break;case tr.PAGE_DOWN:de=-2;break}de!==null&&(Me.preventDefault(),m(de,i))}},ye=function(Me){switch(Me.which||Me.keyCode){case tr.LEFT:case tr.RIGHT:case tr.UP:case tr.DOWN:case tr.HOME:case tr.END:case tr.PAGE_UP:case tr.PAGE_DOWN:y==null||y();break}},fe=X7(D,r,I,N),ue={};if(i!==null){var xe;ue={tabIndex:k?null:Jv(B,i),role:"slider","aria-valuemin":I,"aria-valuemax":N,"aria-valuenow":r,"aria-disabled":k,"aria-label":Jv(z,i),"aria-labelledby":Jv(W,i),"aria-valuetext":(xe=Jv(Y,i))===null||xe===void 0?void 0:xe(r),"aria-orientation":D==="ltr"||D==="rtl"?"horizontal":"vertical",onMouseDown:oe,onTouchStart:oe,onFocus:he,onMouseEnter:be,onKeyDown:le,onKeyUp:ye}}var ae=A.createElement("div",Ln({ref:t,className:Dt(re,Ze(Ze({},"".concat(re,"-").concat(i+1),i!==null&&U),"".concat(re,"-dragging"),o),ee.handle),style:Ue(Ue(Ue({},fe),c),K.handle)},ue,C));return h&&(ae=h(ae,{index:i,prefixCls:n,value:r,dragging:o})),ae}),A8e=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","onFocus"],C8e=A.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,i=e.onStartMove,s=e.onOffsetChange,c=e.values,h=e.handleRender,o=e.activeHandleRender,m=e.draggingIndex,y=e.onFocus,v=Gr(e,A8e),S=A.useRef({});A.useImperativeHandle(t,function(){return{focus:function(B){var z;(z=S.current[B])===null||z===void 0||z.focus()}}});var C=A.useState(-1),P=Pt(C,2),I=P[0],N=P[1],D=function(B,z){N(z),y==null||y(B)},k=function(B,z){N(z)},F=Ue({prefixCls:n,onStartMove:i,onOffsetChange:s,render:h,onFocus:D,onMouseEnter:k},v);return A.createElement(A.Fragment,null,c.map(function(U,B){return A.createElement(QW,Ln({ref:function(W){W?S.current[B]=W:delete S.current[B]},dragging:m===B,style:Jv(r,B),key:B,value:U,valueIndex:B},F))}),o&&A.createElement(QW,Ln({key:"a11y"},F,{value:c[I],valueIndex:null,dragging:m!==-1,render:o,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),M8e=function(t){var n=t.prefixCls,r=t.style,i=t.children,s=t.value,c=t.onClick,h=A.useContext(iy),o=h.min,m=h.max,y=h.direction,v=h.includedStart,S=h.includedEnd,C=h.included,P="".concat(n,"-text"),I=X7(y,s,o,m);return A.createElement("span",{className:Dt(P,Ze({},"".concat(P,"-active"),C&&v<=s&&s<=S)),style:Ue(Ue({},I),r),onMouseDown:function(D){D.stopPropagation()},onClick:function(){c(s)}},i)},E8e=function(t){var n=t.prefixCls,r=t.marks,i=t.onClick,s="".concat(n,"-mark");return r.length?A.createElement("div",{className:s},r.map(function(c){var h=c.value,o=c.style,m=c.label;return A.createElement(M8e,{key:h,prefixCls:s,style:o,value:h,onClick:i},m)})):null},T8e=function(t){var n=t.prefixCls,r=t.value,i=t.style,s=t.activeStyle,c=A.useContext(iy),h=c.min,o=c.max,m=c.direction,y=c.included,v=c.includedStart,S=c.includedEnd,C="".concat(n,"-dot"),P=y&&v<=r&&r<=S,I=Ue(Ue({},X7(m,r,h,o)),typeof i=="function"?i(r):i);return P&&(I=Ue(Ue({},I),typeof s=="function"?s(r):s)),A.createElement("span",{className:Dt(C,Ze({},"".concat(C,"-active"),P)),style:I})},P8e=function(t){var n=t.prefixCls,r=t.marks,i=t.dots,s=t.style,c=t.activeStyle,h=A.useContext(iy),o=h.min,m=h.max,y=h.step,v=A.useMemo(function(){var S=new Set;if(r.forEach(function(P){S.add(P.value)}),i&&y!==null)for(var C=o;C<=m;)S.add(C),C+=y;return Array.from(S)},[o,m,y,i,r]);return A.createElement("div",{className:"".concat(n,"-step")},v.map(function(S){return A.createElement(T8e,{prefixCls:n,key:S,value:S,style:s,activeStyle:c})}))},eG=function(t){var n=t.prefixCls,r=t.style,i=t.start,s=t.end,c=t.index,h=t.onStartMove,o=t.replaceCls,m=A.useContext(iy),y=m.direction,v=m.min,S=m.max,C=m.disabled,P=m.range,I=m.classNames,N="".concat(n,"-track"),D=O8(i,v,S),k=O8(s,v,S),F=function(W){!C&&h&&h(W,-1)},U={};switch(y){case"rtl":U.right="".concat(D*100,"%"),U.width="".concat(k*100-D*100,"%");break;case"btt":U.bottom="".concat(D*100,"%"),U.height="".concat(k*100-D*100,"%");break;case"ttb":U.top="".concat(D*100,"%"),U.height="".concat(k*100-D*100,"%");break;default:U.left="".concat(D*100,"%"),U.width="".concat(k*100-D*100,"%")}var B=o||Dt(N,Ze(Ze({},"".concat(N,"-").concat(c+1),c!==null&&P),"".concat(n,"-track-draggable"),h),I.track);return A.createElement("div",{className:B,style:Ue(Ue({},U),r),onMouseDown:F,onTouchStart:F})},I8e=function(t){var n=t.prefixCls,r=t.style,i=t.values,s=t.startPoint,c=t.onStartMove,h=A.useContext(iy),o=h.included,m=h.range,y=h.min,v=h.styles,S=h.classNames,C=A.useMemo(function(){if(!m){if(i.length===0)return[];var I=s??y,N=i[0];return[{start:Math.min(I,N),end:Math.max(I,N)}]}for(var D=[],k=0;k<i.length-1;k+=1)D.push({start:i[k],end:i[k+1]});return D},[i,m,s,y]);if(!o)return null;var P=S.tracks||v.tracks?A.createElement(eG,{index:null,prefixCls:n,start:C[0].start,end:C[C.length-1].end,replaceCls:Dt(S.tracks,"".concat(n,"-tracks")),style:v.tracks}):null;return A.createElement(A.Fragment,null,P,C.map(function(I,N){var D=I.start,k=I.end;return A.createElement(eG,{index:N,prefixCls:n,style:Ue(Ue({},Jv(r,N)),v.track),start:D,end:k,key:N,onStartMove:c})}))};function tG(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function O8e(e,t,n,r,i,s,c,h,o){var m=A.useState(null),y=Pt(m,2),v=y[0],S=y[1],C=A.useState(-1),P=Pt(C,2),I=P[0],N=P[1],D=A.useState(n),k=Pt(D,2),F=k[0],U=k[1],B=A.useState(n),z=Pt(B,2),W=z[0],Y=z[1],K=A.useRef(null),ee=A.useRef(null);A.useLayoutEffect(function(){I===-1&&U(n)},[n,I]),A.useEffect(function(){return function(){document.removeEventListener("mousemove",K.current),document.removeEventListener("mouseup",ee.current),document.removeEventListener("touchmove",K.current),document.removeEventListener("touchend",ee.current)}},[]);var re=function(ye,fe){F.some(function(ue,xe){return ue!==ye[xe]})&&(fe!==void 0&&S(fe),U(ye),c(ye))},oe=Ia(function(le,ye){if(le===-1){var fe=W[0],ue=W[W.length-1],xe=r-fe,ae=i-ue,Ee=ye*(i-r);Ee=Math.max(Ee,xe),Ee=Math.min(Ee,ae);var Me=s(fe+Ee);Ee=Me-fe;var de=W.map(function(gt){return gt+Ee});re(de)}else{var ze=(i-r)*ye,$e=zn(F);$e[le]=W[le];var et=o($e,ze,le,"dist");re(et.values,et.value)}}),he=function(ye,fe,ue){ye.stopPropagation();var xe=ue||n,ae=xe[fe];N(fe),S(ae),Y(xe);var Ee=tG(ye),Me=Ee.pageX,de=Ee.pageY,ze=function(gt){gt.preventDefault();var lt=tG(gt),We=lt.pageX,qe=lt.pageY,Qe=We-Me,Ve=qe-de,yt=e.current.getBoundingClientRect(),it=yt.width,pt=yt.height,$t;switch(t){case"btt":$t=-Ve/pt;break;case"ttb":$t=Ve/pt;break;case"rtl":$t=-Qe/it;break;default:$t=Qe/it}oe(fe,$t)},$e=function et(gt){gt.preventDefault(),document.removeEventListener("mouseup",et),document.removeEventListener("mousemove",ze),document.removeEventListener("touchend",et),document.removeEventListener("touchmove",ze),K.current=null,ee.current=null,N(-1),h()};document.addEventListener("mouseup",$e),document.addEventListener("mousemove",ze),document.addEventListener("touchend",$e),document.addEventListener("touchmove",ze),K.current=ze,ee.current=$e},be=A.useMemo(function(){var le=zn(n).sort(function(fe,ue){return fe-ue}),ye=zn(F).sort(function(fe,ue){return fe-ue});return le.every(function(fe,ue){return fe===ye[ue]})?F:n},[n,F]);return[I,v,be,he]}function k8e(e,t,n,r,i,s){var c=A.useCallback(function(C){return Math.max(e,Math.min(t,C))},[e,t]),h=A.useCallback(function(C){if(n!==null){var P=e+Math.round((c(C)-e)/n)*n,I=function(F){return(String(F).split(".")[1]||"").length},N=Math.max(I(n),I(t),I(e)),D=Number(P.toFixed(N));return e<=D&&D<=t?D:null}return null},[n,e,t,c]),o=A.useCallback(function(C){var P=c(C),I=r.map(function(k){return k.value});n!==null&&I.push(h(C)),I.push(e,t);var N=I[0],D=t-e;return I.forEach(function(k){var F=Math.abs(P-k);F<=D&&(N=k,D=F)}),N},[e,t,r,n,c,h]),m=function C(P,I,N){var D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof I=="number"){var k,F=P[N],U=F+I,B=[];r.forEach(function(ee){B.push(ee.value)}),B.push(e,t),B.push(h(F));var z=I>0?1:-1;D==="unit"?B.push(h(F+z*n)):B.push(h(U)),B=B.filter(function(ee){return ee!==null}).filter(function(ee){return I<0?ee<=F:ee>=F}),D==="unit"&&(B=B.filter(function(ee){return ee!==F}));var W=D==="unit"?F:U;k=B[0];var Y=Math.abs(k-W);if(B.forEach(function(ee){var re=Math.abs(ee-W);re<Y&&(k=ee,Y=re)}),k===void 0)return I<0?e:t;if(D==="dist")return k;if(Math.abs(I)>1){var K=zn(P);return K[N]=k,C(K,I-z,N,D)}return k}else{if(I==="min")return e;if(I==="max")return t}},y=function(P,I,N){var D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",k=P[N],F=m(P,I,N,D);return{value:F,changed:F!==k}},v=function(P){return s===null&&P===0||typeof s=="number"&&P<s},S=function(P,I,N){var D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",k=P.map(o),F=k[N],U=m(k,I,N,D);if(k[N]=U,i===!1){var B=s||0;N>0&&k[N-1]!==F&&(k[N]=Math.max(k[N],k[N-1]+B)),N<k.length-1&&k[N+1]!==F&&(k[N]=Math.min(k[N],k[N+1]-B))}else if(typeof s=="number"||s===null){for(var z=N+1;z<k.length;z+=1)for(var W=!0;v(k[z]-k[z-1])&&W;){var Y=y(k,1,z);k[z]=Y.value,W=Y.changed}for(var K=N;K>0;K-=1)for(var ee=!0;v(k[K]-k[K-1])&&ee;){var re=y(k,-1,K-1);k[K-1]=re.value,ee=re.changed}for(var oe=k.length-1;oe>0;oe-=1)for(var he=!0;v(k[oe]-k[oe-1])&&he;){var be=y(k,-1,oe-1);k[oe-1]=be.value,he=be.changed}for(var le=0;le<k.length-1;le+=1)for(var ye=!0;v(k[le+1]-k[le])&&ye;){var fe=y(k,1,le+1);k[le+1]=fe.value,ye=fe.changed}}return{value:k[N],values:k}};return[o,S]}var N8e=A.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-slider":n,i=e.className,s=e.style,c=e.classNames,h=e.styles,o=e.disabled,m=o===void 0?!1:o,y=e.keyboard,v=y===void 0?!0:y,S=e.autoFocus,C=e.onFocus,P=e.onBlur,I=e.min,N=I===void 0?0:I,D=e.max,k=D===void 0?100:D,F=e.step,U=F===void 0?1:F,B=e.value,z=e.defaultValue,W=e.range,Y=e.count,K=e.onChange,ee=e.onBeforeChange,re=e.onAfterChange,oe=e.onChangeComplete,he=e.allowCross,be=he===void 0?!0:he,le=e.pushable,ye=le===void 0?!1:le,fe=e.draggableTrack,ue=e.reverse,xe=e.vertical,ae=e.included,Ee=ae===void 0?!0:ae,Me=e.startPoint,de=e.trackStyle,ze=e.handleStyle,$e=e.railStyle,et=e.dotStyle,gt=e.activeDotStyle,lt=e.marks,We=e.dots,qe=e.handleRender,Qe=e.activeHandleRender,Ve=e.tabIndex,yt=Ve===void 0?0:Ve,it=e.ariaLabelForHandle,pt=e.ariaLabelledByForHandle,$t=e.ariaValueTextFormatterForHandle,Jt=A.useRef(null),on=A.useRef(null),ln=A.useMemo(function(){return xe?ue?"ttb":"btt":ue?"rtl":"ltr"},[ue,xe]),Lt=A.useMemo(function(){return isFinite(N)?N:0},[N]),en=A.useMemo(function(){return isFinite(k)?k:100},[k]),Kt=A.useMemo(function(){return U!==null&&U<=0?1:U},[U]),Zt=A.useMemo(function(){return typeof ye=="boolean"?ye?Kt:!1:ye>=0?ye:!1},[ye,Kt]),En=A.useMemo(function(){return Object.keys(lt||{}).map(function(dt){var At=lt[dt],kt={value:Number(dt)};return At&&Hr(At)==="object"&&!A.isValidElement(At)&&("label"in At||"style"in At)?(kt.style=At.style,kt.label=At.label):kt.label=At,kt}).filter(function(dt){var At=dt.label;return At||typeof At=="number"}).sort(function(dt,At){return dt.value-At.value})},[lt]),Fn=k8e(Lt,en,Kt,En,be,Zt),je=Pt(Fn,2),me=je[0],we=je[1],Ne=Ra(z,{value:B}),Xe=Pt(Ne,2),ot=Xe[0],st=Xe[1],_t=A.useMemo(function(){var dt=ot==null?[]:Array.isArray(ot)?ot:[ot],At=Pt(dt,1),kt=At[0],Cn=kt===void 0?Lt:kt,$n=ot===null?[]:[Cn];if(W){if($n=zn(dt),Y||ot===void 0){var _n=Y>=0?Y+1:2;for($n=$n.slice(0,_n);$n.length<_n;){var sr;$n.push((sr=$n[$n.length-1])!==null&&sr!==void 0?sr:Lt)}}$n.sort(function(zr,cn){return zr-cn})}return $n.forEach(function(zr,cn){$n[cn]=me(zr)}),$n},[ot,W,Lt,Y,me]),nt=A.useRef(_t);nt.current=_t;var St=function(At){return W?At:At[0]},Et=function(At){var kt=zn(At).sort(function(Cn,$n){return Cn-$n});K&&!z0(kt,nt.current,!0)&&K(St(kt)),st(kt)},ft=function(){var At=St(nt.current);re==null||re(At),ns(!re,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),oe==null||oe(At)},jt=O8e(on,ln,_t,Lt,en,me,Et,ft,we),Bn=Pt(jt,4),rr=Bn[0],dr=Bn[1],ar=Bn[2],un=Bn[3],hn=function(At,kt){if(!m){var Cn=0,$n=en-Lt;_t.forEach(function(cn,Nn){var pr=Math.abs(At-cn);pr<=$n&&($n=pr,Cn=Nn)});var _n=zn(_t);if(_n[Cn]=At,W&&!_t.length&&Y===void 0&&_n.push(At),ee==null||ee(St(_n)),Et(_n),kt){var sr,zr;(sr=document.activeElement)===null||sr===void 0||(zr=sr.blur)===null||zr===void 0||zr.call(sr),Jt.current.focus(Cn),un(kt,Cn,_n)}}},vn=function(At){At.preventDefault();var kt=on.current.getBoundingClientRect(),Cn=kt.width,$n=kt.height,_n=kt.left,sr=kt.top,zr=kt.bottom,cn=kt.right,Nn=At.clientX,pr=At.clientY,qn;switch(ln){case"btt":qn=(zr-pr)/$n;break;case"ttb":qn=(pr-sr)/$n;break;case"rtl":qn=(cn-Nn)/Cn;break;default:qn=(Nn-_n)/Cn}var li=Lt+qn*(en-Lt);hn(me(li),At)},In=A.useState(null),Sn=Pt(In,2),an=Sn[0],kn=Sn[1],hr=function(At,kt){if(!m){var Cn=we(_t,At,kt);ee==null||ee(St(_t)),Et(Cn.values),kn(Cn.value)}};A.useEffect(function(){if(an!==null){var dt=_t.indexOf(an);dt>=0&&Jt.current.focus(dt)}kn(null)},[an]);var Ht=A.useMemo(function(){return fe&&Kt===null?!1:fe},[fe,Kt]),Un=function(At,kt){un(At,kt),ee==null||ee(St(nt.current))},rt=rr!==-1;A.useEffect(function(){if(!rt){var dt=_t.lastIndexOf(dr);Jt.current.focus(dt)}},[rt]);var ut=A.useMemo(function(){return zn(ar).sort(function(dt,At){return dt-At})},[ar]),Tt=A.useMemo(function(){return W?[ut[0],ut[ut.length-1]]:[Lt,ut[0]]},[ut,W,Lt]),Rt=Pt(Tt,2),Gt=Rt[0],Qt=Rt[1];A.useImperativeHandle(t,function(){return{focus:function(){Jt.current.focus(0)},blur:function(){var At,kt=document,Cn=kt.activeElement;(At=on.current)!==null&&At!==void 0&&At.contains(Cn)&&(Cn==null||Cn.blur())}}}),A.useEffect(function(){S&&Jt.current.focus(0)},[]);var zt=A.useMemo(function(){return{min:Lt,max:en,direction:ln,disabled:m,keyboard:v,step:Kt,included:Ee,includedStart:Gt,includedEnd:Qt,range:W,tabIndex:yt,ariaLabelForHandle:it,ariaLabelledByForHandle:pt,ariaValueTextFormatterForHandle:$t,styles:h||{},classNames:c||{}}},[Lt,en,ln,m,v,Kt,Ee,Gt,Qt,W,yt,it,pt,$t,h,c]);return A.createElement(iy.Provider,{value:zt},A.createElement("div",{ref:on,className:Dt(r,i,Ze(Ze(Ze(Ze({},"".concat(r,"-disabled"),m),"".concat(r,"-vertical"),xe),"".concat(r,"-horizontal"),!xe),"".concat(r,"-with-marks"),En.length)),style:s,onMouseDown:vn},A.createElement("div",{className:Dt("".concat(r,"-rail"),c==null?void 0:c.rail),style:Ue(Ue({},$e),h==null?void 0:h.rail)}),A.createElement(I8e,{prefixCls:r,style:de,values:ut,startPoint:Me,onStartMove:Ht?Un:void 0}),A.createElement(P8e,{prefixCls:r,marks:En,dots:We,style:et,activeStyle:gt}),A.createElement(C8e,{ref:Jt,prefixCls:r,style:ze,values:ar,draggingIndex:rr,onStartMove:Un,onOffsetChange:hr,onFocus:C,onBlur:P,handleRender:qe,activeHandleRender:Qe,onChangeComplete:ft}),A.createElement(E8e,{prefixCls:r,marks:En,onClick:hn})))});const nG=A.forwardRef((e,t)=>{const{open:n}=e,r=A.useRef(null),i=A.useRef(null);function s(){Mi.cancel(i.current),i.current=null}function c(){i.current=Mi(()=>{var h;(h=r.current)===null||h===void 0||h.forceAlign(),i.current=null})}return A.useEffect(()=>(n?c():s(),s),[n,e.title]),A.createElement(Gf,Object.assign({ref:el(r,t)},e))}),R8e=e=>{const{componentCls:t,antCls:n,controlSize:r,dotSize:i,marginFull:s,marginPart:c,colorFillContentHover:h,handleColorDisabled:o,calc:m}=e;return{[t]:Object.assign(Object.assign({},ia(e)),{position:"relative",height:r,margin:`${Ut(c)} ${Ut(s)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${Ut(s)} ${Ut(c)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${e.motionDurationMid}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${e.motionDurationMid}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:h},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${Ut(e.handleLineWidth)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:e.handleSize,height:e.handleSize,outline:"none","&::before":{content:'""',position:"absolute",insetInlineStart:m(e.handleLineWidth).mul(-1).equal(),insetBlockStart:m(e.handleLineWidth).mul(-1).equal(),width:m(e.handleSize).add(m(e.handleLineWidth).mul(2)).equal(),height:m(e.handleSize).add(m(e.handleLineWidth).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:e.handleSize,height:e.handleSize,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${Ut(e.handleLineWidth)} ${e.handleColor}`,borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${e.motionDurationMid},
            inset-block-start ${e.motionDurationMid},
            width ${e.motionDurationMid},
            height ${e.motionDurationMid},
            box-shadow ${e.motionDurationMid}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:m(e.handleSizeHover).sub(e.handleSize).div(2).add(e.handleLineWidthHover).mul(-1).equal(),insetBlockStart:m(e.handleSizeHover).sub(e.handleSize).div(2).add(e.handleLineWidthHover).mul(-1).equal(),width:m(e.handleSizeHover).add(m(e.handleLineWidthHover).mul(2)).equal(),height:m(e.handleSizeHover).add(m(e.handleLineWidthHover).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${Ut(e.handleLineWidthHover)} ${e.handleActiveColor}`,width:e.handleSizeHover,height:e.handleSizeHover,insetInlineStart:e.calc(e.handleSize).sub(e.handleSizeHover).div(2).equal(),insetBlockStart:e.calc(e.handleSize).sub(e.handleSizeHover).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:i,height:i,backgroundColor:e.colorBgElevated,border:`${Ut(e.handleLineWidth)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:e.handleSize,height:e.handleSize,boxShadow:`0 0 0 ${Ut(e.handleLineWidth)} ${o}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},$se=(e,t)=>{const{componentCls:n,railSize:r,handleSize:i,dotSize:s,marginFull:c,calc:h}=e,o=t?"paddingBlock":"paddingInline",m=t?"width":"height",y=t?"height":"width",v=t?"insetBlockStart":"insetInlineStart",S=t?"top":"insetInlineStart",C=h(r).mul(3).sub(i).div(2).equal(),P=h(i).sub(r).div(2).equal(),I=t?{borderWidth:`${Ut(P)} 0`,transform:`translateY(${Ut(h(P).mul(-1).equal())})`}:{borderWidth:`0 ${Ut(P)}`,transform:`translateX(${Ut(e.calc(P).mul(-1).equal())})`};return{[o]:r,[y]:h(r).mul(3).equal(),[`${n}-rail`]:{[m]:"100%",[y]:r},[`${n}-track,${n}-tracks`]:{[y]:r},[`${n}-track-draggable`]:Object.assign({},I),[`${n}-handle`]:{[v]:C},[`${n}-mark`]:{insetInlineStart:0,top:0,[S]:h(r).mul(3).add(t?0:c).equal(),[m]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[S]:r,[m]:"100%",[y]:r},[`${n}-dot`]:{position:"absolute",[v]:h(r).sub(s).div(2).equal()}}},D8e=e=>{const{componentCls:t,marginPartWithMark:n}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},$se(e,!0)),{[`&${t}-with-marks`]:{marginBottom:n}})}},L8e=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},$se(e,!1)),{height:"100%"})}},F8e=e=>{const n=e.controlHeightLG/4,r=e.controlHeightSM/2,i=e.lineWidth+1,s=e.lineWidth+1*3;return{controlSize:n,railSize:4,handleSize:n,handleSizeHover:r,dotSize:8,handleLineWidth:i,handleLineWidthHover:s,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:e.colorPrimary,handleColorDisabled:new Va(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexShortString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},$8e=_a("Slider",e=>{const t=lo(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[R8e(t),D8e(t),L8e(t)]},F8e);function a6(){const[e,t]=A.useState(!1),n=A.useRef(),r=()=>{Mi.cancel(n.current)},i=s=>{r(),s?t(s):n.current=Mi(()=>{t(s)})};return A.useEffect(()=>r,[]),[e,i]}var j8e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function z8e(e,t){return e||e===null?e:t||t===null?t:n=>typeof n=="number"?n.toString():""}const jse=Oe.forwardRef((e,t)=>{const{prefixCls:n,range:r,className:i,rootClassName:s,style:c,disabled:h,tooltipPrefixCls:o,tipFormatter:m,tooltipVisible:y,getTooltipPopupContainer:v,tooltipPlacement:S,tooltip:C={},onChangeComplete:P}=e,I=j8e(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete"]),{vertical:N}=e,{direction:D,slider:k,getPrefixCls:F,getPopupContainer:U}=Oe.useContext(hi),B=Oe.useContext(Ic),z=h??B,[W,Y]=a6(),[K,ee]=a6(),re=W||K,oe=Object.assign({},C),{open:he,placement:be,getPopupContainer:le,prefixCls:ye,formatter:fe}=oe,ue=he??y,xe=z8e(fe,m),[ae,Ee]=a6(),Me=pt=>{P==null||P(pt),Ee(!1)},de=(pt,$t)=>pt||($t?D==="rtl"?"left":"right":"top"),ze=F("slider",n),[$e,et,gt]=$8e(ze),lt=Dt(i,k==null?void 0:k.className,s,{[`${ze}-rtl`]:D==="rtl",[`${ze}-lock`]:ae},et,gt);D==="rtl"&&!I.vertical&&(I.reverse=!I.reverse);const[We,qe]=Oe.useMemo(()=>r?typeof r=="object"?[!0,r.draggableTrack]:[!0,!1]:[!1],[r]);Oe.useEffect(()=>{const pt=()=>{Mi(()=>{ee(!1)},1)};return document.addEventListener("mouseup",pt),()=>{document.removeEventListener("mouseup",pt)}},[]);const Qe=We&&!ue,Ve=(pt,$t)=>{const{index:Jt}=$t,on=pt.props,ln=Object.assign(Object.assign({},on),{onMouseEnter:en=>{var Kt;Y(!0),(Kt=on.onMouseEnter)===null||Kt===void 0||Kt.call(on,en)},onMouseLeave:en=>{var Kt;Y(!1),(Kt=on.onMouseLeave)===null||Kt===void 0||Kt.call(on,en)},onMouseDown:en=>{var Kt;ee(!0),Ee(!0),(Kt=on.onMouseDown)===null||Kt===void 0||Kt.call(on,en)},onFocus:en=>{var Kt,Zt;ee(!0),(Kt=I.onFocus)===null||Kt===void 0||Kt.call(I,en),(Zt=on.onFocus)===null||Zt===void 0||Zt.call(on,en)},onBlur:en=>{var Kt,Zt;ee(!1),(Kt=I.onBlur)===null||Kt===void 0||Kt.call(I,en),(Zt=on.onBlur)===null||Zt===void 0||Zt.call(on,en)}}),Lt=Oe.cloneElement(pt,ln);return Qe?Lt:Oe.createElement(nG,Object.assign({},oe,{prefixCls:F("tooltip",ye??o),title:xe?xe($t.value):"",open:!!ue||re,placement:de(be??S,N),key:Jt,overlayClassName:`${ze}-tooltip`,getPopupContainer:le||v||U}),Lt)},yt=Qe?(pt,$t)=>{const Jt=Oe.cloneElement(pt,{style:Object.assign(Object.assign({},pt.props.style),{visibility:"hidden"})});return Oe.createElement(nG,Object.assign({},oe,{prefixCls:F("tooltip",ye??o),title:xe?xe($t.value):"",open:re,placement:de(be??S,N),key:"tooltip",overlayClassName:`${ze}-tooltip`,getPopupContainer:le||v||U}),Jt)}:void 0,it=Object.assign(Object.assign({},k==null?void 0:k.style),c);return $e(Oe.createElement(N8e,Object.assign({},I,{step:I.step,range:We,draggableTrack:qe,className:lt,style:it,disabled:z,ref:t,prefixCls:ze,handleRender:Ve,activeHandleRender:yt,onChangeComplete:Me})))});var B8e=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],zse=A.forwardRef(function(e,t){var n,r=e.prefixCls,i=r===void 0?"rc-switch":r,s=e.className,c=e.checked,h=e.defaultChecked,o=e.disabled,m=e.loadingIcon,y=e.checkedChildren,v=e.unCheckedChildren,S=e.onClick,C=e.onChange,P=e.onKeyDown,I=Gr(e,B8e),N=Ra(!1,{value:c,defaultValue:h}),D=Pt(N,2),k=D[0],F=D[1];function U(Y,K){var ee=k;return o||(ee=Y,F(ee),C==null||C(ee,K)),ee}function B(Y){Y.which===tr.LEFT?U(!1,Y):Y.which===tr.RIGHT&&U(!0,Y),P==null||P(Y)}function z(Y){var K=U(!k,Y);S==null||S(K,Y)}var W=Dt(i,s,(n={},Ze(n,"".concat(i,"-checked"),k),Ze(n,"".concat(i,"-disabled"),o),n));return A.createElement("button",Ln({},I,{type:"button",role:"switch","aria-checked":k,disabled:o,className:W,ref:t,onKeyDown:B,onClick:z}),m,A.createElement("span",{className:"".concat(i,"-inner")},A.createElement("span",{className:"".concat(i,"-inner-checked")},y),A.createElement("span",{className:"".concat(i,"-inner-unchecked")},v)))});zse.displayName="Switch";const Z8e=e=>{const{componentCls:t,trackHeightSM:n,trackPadding:r,trackMinWidthSM:i,innerMinMarginSM:s,innerMaxMarginSM:c,handleSizeSM:h,calc:o}=e,m=`${t}-inner`,y=Ut(o(h).add(o(r).mul(2)).equal()),v=Ut(o(c).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:i,height:n,lineHeight:Ut(n),[`${t}-inner`]:{paddingInlineStart:c,paddingInlineEnd:s,[`${m}-checked, ${m}-unchecked`]:{minHeight:n},[`${m}-checked`]:{marginInlineStart:`calc(-100% + ${y} - ${v})`,marginInlineEnd:`calc(100% - ${y} + ${v})`},[`${m}-unchecked`]:{marginTop:o(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:h,height:h},[`${t}-loading-icon`]:{top:o(o(h).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:s,paddingInlineEnd:c,[`${m}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${m}-unchecked`]:{marginInlineStart:`calc(100% - ${y} + ${v})`,marginInlineEnd:`calc(-100% + ${y} - ${v})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${Ut(o(h).add(r).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${m}`]:{[`${m}-unchecked`]:{marginInlineStart:o(e.marginXXS).div(2).equal(),marginInlineEnd:o(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${m}`]:{[`${m}-checked`]:{marginInlineStart:o(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:o(e.marginXXS).div(2).equal()}}}}}}},U8e=e=>{const{componentCls:t,handleSize:n,calc:r}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:r(r(n).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},H8e=e=>{const{componentCls:t,trackPadding:n,handleBg:r,handleShadow:i,handleSize:s,calc:c}=e,h=`${t}-handle`;return{[t]:{[h]:{position:"absolute",top:n,insetInlineStart:n,width:s,height:s,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:c(s).div(2).equal(),boxShadow:i,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${h}`]:{insetInlineStart:`calc(100% - ${Ut(c(s).add(n).equal())})`},[`&:not(${t}-disabled):active`]:{[`${h}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${h}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},V8e=e=>{const{componentCls:t,trackHeight:n,trackPadding:r,innerMinMargin:i,innerMaxMargin:s,handleSize:c,calc:h}=e,o=`${t}-inner`,m=Ut(h(c).add(h(r).mul(2)).equal()),y=Ut(h(s).mul(2).equal());return{[t]:{[o]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:s,paddingInlineEnd:i,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${o}-checked, ${o}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:n},[`${o}-checked`]:{marginInlineStart:`calc(-100% + ${m} - ${y})`,marginInlineEnd:`calc(100% - ${m} + ${y})`},[`${o}-unchecked`]:{marginTop:h(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${o}`]:{paddingInlineStart:i,paddingInlineEnd:s,[`${o}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${o}-unchecked`]:{marginInlineStart:`calc(100% - ${m} + ${y})`,marginInlineEnd:`calc(-100% + ${m} - ${y})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${o}`]:{[`${o}-unchecked`]:{marginInlineStart:h(r).mul(2).equal(),marginInlineEnd:h(r).mul(-1).mul(2).equal()}},[`&${t}-checked ${o}`]:{[`${o}-checked`]:{marginInlineStart:h(r).mul(-1).mul(2).equal(),marginInlineEnd:h(r).mul(2).equal()}}}}}},W8e=e=>{const{componentCls:t,trackHeight:n,trackMinWidth:r}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},ia(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:n,lineHeight:`${Ut(n)}`,verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),I3(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},G8e=e=>{const{fontSize:t,lineHeight:n,controlHeight:r,colorWhite:i}=e,s=t*n,c=r/2,h=2,o=s-h*2,m=c-h*2;return{trackHeight:s,trackHeightSM:c,trackMinWidth:o*2+h*4,trackMinWidthSM:m*2+h*2,trackPadding:h,handleBg:i,handleSize:o,handleSizeSM:m,handleShadow:`0 2px 4px 0 ${new Va("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:o/2,innerMaxMargin:o+h+h*2,innerMinMarginSM:m/2,innerMaxMarginSM:m+h+h*2}},K8e=_a("Switch",e=>{const t=lo(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[W8e(t),V8e(t),H8e(t),U8e(t),Z8e(t)]},G8e);var q8e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const X8e=A.forwardRef((e,t)=>{const{prefixCls:n,size:r,disabled:i,loading:s,className:c,rootClassName:h,style:o,checked:m,value:y,defaultChecked:v,defaultValue:S,onChange:C}=e,P=q8e(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[I,N]=Ra(!1,{value:m??y,defaultValue:v??S}),{getPrefixCls:D,direction:k,switch:F}=A.useContext(hi),U=A.useContext(Ic),B=(i??U)||s,z=D("switch",n),W=A.createElement("div",{className:`${z}-handle`},s&&A.createElement(Zg,{className:`${z}-loading-icon`})),[Y,K,ee]=K8e(z),re=id(r),oe=Dt(F==null?void 0:F.className,{[`${z}-small`]:re==="small",[`${z}-loading`]:s,[`${z}-rtl`]:k==="rtl"},c,h,K,ee),he=Object.assign(Object.assign({},F==null?void 0:F.style),o),be=function(){N(arguments.length<=0?void 0:arguments[0]),C==null||C.apply(void 0,arguments)};return Y(A.createElement(b7,{component:"Switch"},A.createElement(zse,Object.assign({},P,{checked:I,onChange:be,prefixCls:z,className:oe,style:he,disabled:B,ref:t,loadingIcon:W}))))}),Bse=X8e;Bse.__ANT_SWITCH=!0;var Y8e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},J8e=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:Y8e}))},Zse=A.forwardRef(J8e),Q8e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const eRe={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},Use=A.forwardRef((e,t)=>{const n=m=>{const{keyCode:y}=m;y===tr.ENTER&&m.preventDefault()},r=m=>{const{keyCode:y}=m,{onClick:v}=e;y===tr.ENTER&&v&&v()},{style:i,noStyle:s,disabled:c}=e,h=Q8e(e,["style","noStyle","disabled"]);let o={};return s||(o=Object.assign({},eRe)),c&&(o.pointerEvents="none"),o=Object.assign(Object.assign({},o),i),A.createElement("div",Object.assign({role:"button",tabIndex:0,ref:t},h,{onKeyDown:n,onKeyUp:r,style:o}))});var tRe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},nRe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:tRe}))},k8=A.forwardRef(nRe),rRe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},iRe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:rRe}))},oRe=A.forwardRef(iRe);const aRe=(e,t,n,r)=>{const{titleMarginBottom:i,fontWeightStrong:s}=r;return{marginBottom:i,color:n,fontWeight:s,fontSize:e,lineHeight:t}},sRe=e=>{const t=[1,2,3,4,5],n={};return t.forEach(r=>{n[`
      h${r}&,
      div&-h${r},
      div&-h${r} > textarea,
      h${r}
    `]=aRe(e[`fontSizeHeading${r}`],e[`lineHeightHeading${r}`],e.colorTextHeading,e)}),n},lRe=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},soe(e)),{textDecoration:e.linkDecoration,"&:active, &:hover":{textDecoration:e.linkHoverDecoration},[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},cRe=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:ZN[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),uRe=e=>{const{componentCls:t,paddingSM:n}=e,r=n;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),marginTop:e.calc(r).mul(-1).equal(),marginBottom:`calc(1em - ${Ut(r)})`},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},dRe=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),hRe=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-single-line":{whiteSpace:"nowrap"},"&-ellipsis-single-line":{overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),pRe=e=>{const{componentCls:t,titleMarginTop:n}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccess},[`&${t}-warning`]:{color:e.colorWarning},[`&${t}-danger`]:{color:e.colorError,"a&:active, a&:focus":{color:e.colorErrorActive},"a&:hover":{color:e.colorErrorHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},sRe(e)),{[`
      & + h1${t},
      & + h2${t},
      & + h3${t},
      & + h4${t},
      & + h5${t}
      `]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),cRe(e)),lRe(e)),{[`
        ${t}-expand,
        ${t}-collapse,
        ${t}-edit,
        ${t}-copy
      `]:Object.assign(Object.assign({},soe(e)),{marginInlineStart:e.marginXXS})}),uRe(e)),dRe(e)),hRe()),{"&-rtl":{direction:"rtl"}})}},fRe=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"}),Hse=_a("Typography",e=>[pRe(e)],fRe),mRe=e=>{const{prefixCls:t,"aria-label":n,className:r,style:i,direction:s,maxLength:c,autoSize:h=!0,value:o,onSave:m,onCancel:y,onEnd:v,component:S,enterIcon:C=A.createElement(oRe,null)}=e,P=A.useRef(null),I=A.useRef(!1),N=A.useRef(),[D,k]=A.useState(o);A.useEffect(()=>{k(o)},[o]),A.useEffect(()=>{if(P.current&&P.current.resizableTextArea){const{textArea:le}=P.current.resizableTextArea;le.focus();const{length:ye}=le.value;le.setSelectionRange(ye,ye)}},[]);const F=le=>{let{target:ye}=le;k(ye.value.replace(/[\n\r]/g,""))},U=()=>{I.current=!0},B=()=>{I.current=!1},z=le=>{let{keyCode:ye}=le;I.current||(N.current=ye)},W=()=>{m(D.trim())},Y=le=>{let{keyCode:ye,ctrlKey:fe,altKey:ue,metaKey:xe,shiftKey:ae}=le;N.current===ye&&!I.current&&!fe&&!ue&&!xe&&!ae&&(ye===tr.ENTER?(W(),v==null||v()):ye===tr.ESC&&y())},K=()=>{W()},ee=S?`${t}-${S}`:"",[re,oe,he]=Hse(t),be=Dt(t,`${t}-edit-content`,{[`${t}-rtl`]:s==="rtl"},r,ee,oe,he);return re(A.createElement("div",{className:be,style:i},A.createElement(Ese,{ref:P,maxLength:c,value:D,onChange:F,onKeyDown:z,onKeyUp:Y,onCompositionStart:U,onCompositionEnd:B,onBlur:K,"aria-label":n,rows:1,autoSize:h}),C!==null?Yu(C,{className:`${t}-edit-content-confirm`}):null))};var gRe=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(i){e.addRange(i)}),t&&t.focus()}},yRe=gRe,rG={"text/plain":"Text","text/html":"Url",default:"Text"},vRe="Copy to clipboard: #{key}, Enter";function bRe(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function _Re(e,t){var n,r,i,s,c,h,o=!1;t||(t={}),n=t.debug||!1;try{i=yRe(),s=document.createRange(),c=document.getSelection(),h=document.createElement("span"),h.textContent=e,h.ariaHidden="true",h.style.all="unset",h.style.position="fixed",h.style.top=0,h.style.clip="rect(0, 0, 0, 0)",h.style.whiteSpace="pre",h.style.webkitUserSelect="text",h.style.MozUserSelect="text",h.style.msUserSelect="text",h.style.userSelect="text",h.addEventListener("copy",function(y){if(y.stopPropagation(),t.format)if(y.preventDefault(),typeof y.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var v=rG[t.format]||rG.default;window.clipboardData.setData(v,e)}else y.clipboardData.clearData(),y.clipboardData.setData(t.format,e);t.onCopy&&(y.preventDefault(),t.onCopy(y.clipboardData))}),document.body.appendChild(h),s.selectNodeContents(h),c.addRange(s);var m=document.execCommand("copy");if(!m)throw new Error("copy command was unsuccessful");o=!0}catch(y){n&&console.error("unable to copy using execCommand: ",y),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),o=!0}catch(v){n&&console.error("unable to copy using clipboardData: ",v),n&&console.error("falling back to prompt"),r=bRe("message"in t?t.message:vRe),window.prompt(r,e)}}finally{c&&(typeof c.removeRange=="function"?c.removeRange(s):c.removeAllRanges()),h&&document.body.removeChild(h),i()}return o}var xRe=_Re;const wRe=Li(xRe);var SRe=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function h(y){try{m(r.next(y))}catch(v){c(v)}}function o(y){try{m(r.throw(y))}catch(v){c(v)}}function m(y){y.done?s(y.value):i(y.value).then(h,o)}m((r=r.apply(e,t||[])).next())})};const ARe=e=>{let{copyConfig:t,children:n}=e;const[r,i]=A.useState(!1),[s,c]=A.useState(!1),h=A.useRef(null),o=()=>{h.current&&clearTimeout(h.current)},m={};t.format&&(m.format=t.format),A.useEffect(()=>o,[]);const y=Ia(v=>SRe(void 0,void 0,void 0,function*(){var S;v==null||v.preventDefault(),v==null||v.stopPropagation(),c(!0);try{const C=typeof t.text=="function"?yield t.text():t.text;wRe(C||String(n)||"",m),c(!1),i(!0),o(),h.current=setTimeout(()=>{i(!1)},3e3),(S=t.onCopy)===null||S===void 0||S.call(t,v)}catch(C){throw c(!1),C}}));return{copied:r,copyLoading:s,onClick:y}};function s6(e,t){return A.useMemo(()=>{const n=!!e;return[n,Object.assign(Object.assign({},t),n&&typeof e=="object"?e:null)]},[e])}const CRe=(e,t)=>{const n=A.useRef(!1);A.useEffect(()=>{n.current?e():n.current=!0},t)};var MRe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Vse=A.forwardRef((e,t)=>{const{prefixCls:n,component:r="article",className:i,rootClassName:s,setContentRef:c,children:h,direction:o,style:m}=e,y=MRe(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:v,direction:S,typography:C}=A.useContext(hi),P=o??S;let I=t;c&&(I=el(t,c));const N=v("typography",n),[D,k,F]=Hse(N),U=Dt(N,C==null?void 0:C.className,{[`${N}-rtl`]:P==="rtl"},i,s,k,F),B=Object.assign(Object.assign({},C==null?void 0:C.style),m);return D(A.createElement(r,Object.assign({className:U,style:B,ref:I},y),h))});var ERe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},TRe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:ERe}))},PRe=A.forwardRef(TRe);function iG(e){return e===!1?[!1,!1]:Array.isArray(e)?e:[e]}function iM(e,t,n){return e===!0||e===void 0?t:e||n&&t}function IRe(e){const{prefixCls:t,copied:n,locale:r={},onCopy:i,iconOnly:s,tooltips:c,icon:h,loading:o}=e,m=iG(c),y=iG(h),{copied:v,copy:S}=r,C=n?iM(m[1],v):iM(m[0],S),I=typeof C=="string"?C:n?v:S;return A.createElement(Gf,{key:"copy",title:C},A.createElement(Use,{className:Dt(`${t}-copy`,{[`${t}-copy-success`]:n,[`${t}-copy-icon-only`]:s}),onClick:i,"aria-label":I},n?iM(y[1],A.createElement(O7,null),!0):iM(y[0],o?A.createElement(Zg,null):A.createElement(PRe,null),!0)))}const oM=A.forwardRef((e,t)=>{let{style:n,children:r}=e;const i=A.useRef(null);return A.useImperativeHandle(t,()=>({isExceed:()=>{const s=i.current;return s.scrollHeight>s.clientHeight},getHeight:()=>i.current.clientHeight})),A.createElement("span",{"aria-hidden":!0,ref:i,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},n)},r)});function Wse(e){const t=typeof e;return t==="string"||t==="number"}function ORe(e){let t=0;return e.forEach(n=>{Wse(n)?t+=String(n).length:t+=1}),t}function oG(e,t){let n=0;const r=[];for(let i=0;i<e.length;i+=1){if(n===t)return r;const s=e[i],h=Wse(s)?String(s).length:1,o=n+h;if(o>t){const m=t-n;return r.push(String(s).slice(0,m)),r}r.push(s),n=o}return e}const l6=0,c6=1,u6=2,aG=3,aM={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function kRe(e){const{enableMeasure:t,width:n,text:r,children:i,rows:s,expanded:c,miscDeps:h,onEllipsis:o}=e,m=A.useMemo(()=>Pc(r),[r]),y=A.useMemo(()=>ORe(m),[r]),v=A.useMemo(()=>i(m,!1),[r]),[S,C]=A.useState(null),P=A.useRef(null),I=A.useRef(null),N=A.useRef(null),D=A.useRef(null),[k,F]=A.useState(!1),[U,B]=A.useState(l6),[z,W]=A.useState(0);so(()=>{B(t&&n&&y?c6:l6)},[n,r,s,t,m]),so(()=>{var re,oe,he,be;if(U===c6){const le=!!(!((re=I.current)===null||re===void 0)&&re.isExceed());B(le?u6:aG),C(le?[0,y]:null),F(le);const ye=((oe=I.current)===null||oe===void 0?void 0:oe.getHeight())||0,fe=s===1?0:((he=N.current)===null||he===void 0?void 0:he.getHeight())||0,ue=((be=D.current)===null||be===void 0?void 0:be.getHeight())||0,xe=fe+ue,ae=Math.max(ye,xe);W(ae+1),o(le)}},[U]);const Y=S?Math.ceil((S[0]+S[1])/2):0;so(()=>{var re;const[oe,he]=S||[0,0];if(oe!==he){const le=(((re=P.current)===null||re===void 0?void 0:re.getHeight())||0)>z;let ye=Y;he-oe===1&&(ye=le?oe:he),C(le?[oe,ye]:[ye,he])}},[S,Y]);const K=A.useMemo(()=>{if(U!==u6||!S||S[0]!==S[1]){const re=i(m,!1);return U!==aG&&U!==l6?A.createElement("span",{style:Object.assign(Object.assign({},aM),{WebkitLineClamp:s})},re):re}return i(c?m:oG(m,S[0]),k)},[c,U,S,m].concat(zn(h))),ee={width:n,whiteSpace:"normal",margin:0,padding:0};return A.createElement(A.Fragment,null,K,U===c6&&A.createElement(A.Fragment,null,A.createElement(oM,{style:Object.assign(Object.assign(Object.assign({},ee),aM),{WebkitLineClamp:s}),ref:I},v),A.createElement(oM,{style:Object.assign(Object.assign(Object.assign({},ee),aM),{WebkitLineClamp:s-1}),ref:N},v),A.createElement(oM,{style:Object.assign(Object.assign(Object.assign({},ee),aM),{WebkitLineClamp:1}),ref:D},i([],!0))),U===u6&&S&&S[0]!==S[1]&&A.createElement(oM,{style:Object.assign(Object.assign({},ee),{top:400}),ref:P},i(oG(m,Y),!0)))}const NRe=e=>{let{enableEllipsis:t,isEllipsis:n,children:r,tooltipProps:i}=e;return!(i!=null&&i.title)||!t?r:A.createElement(Gf,Object.assign({open:n?void 0:!1},i),r)};var RRe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function DRe(e,t){let{mark:n,code:r,underline:i,delete:s,strong:c,keyboard:h,italic:o}=e,m=t;function y(v,S){S&&(m=A.createElement(v,{},m))}return y("strong",c),y("u",i),y("del",s),y("code",r),y("mark",n),y("kbd",h),y("i",o),m}const LRe="...",X3=A.forwardRef((e,t)=>{var n,r,i;const{prefixCls:s,className:c,style:h,type:o,disabled:m,children:y,ellipsis:v,editable:S,copyable:C,component:P,title:I}=e,N=RRe(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:D,direction:k}=A.useContext(hi),[F]=T3("Text"),U=A.useRef(null),B=A.useRef(null),z=D("typography",s),W=Vl(N,["mark","code","delete","underline","strong","keyboard","italic"]),[Y,K]=s6(S),[ee,re]=Ra(!1,{value:K.editing}),{triggerType:oe=["icon"]}=K,he=ft=>{var jt;ft&&((jt=K.onStart)===null||jt===void 0||jt.call(K)),re(ft)};CRe(()=>{var ft;ee||(ft=B.current)===null||ft===void 0||ft.focus()},[ee]);const be=ft=>{ft==null||ft.preventDefault(),he(!0)},le=ft=>{var jt;(jt=K.onChange)===null||jt===void 0||jt.call(K,ft),he(!1)},ye=()=>{var ft;(ft=K.onCancel)===null||ft===void 0||ft.call(K),he(!1)},[fe,ue]=s6(C),{copied:xe,copyLoading:ae,onClick:Ee}=ARe({copyConfig:ue,children:y}),[Me,de]=A.useState(!1),[ze,$e]=A.useState(!1),[et,gt]=A.useState(!1),[lt,We]=A.useState(!1),[qe,Qe]=A.useState(!0),[Ve,yt]=s6(v,{expandable:!1,symbol:ft=>ft?F==null?void 0:F.collapse:F==null?void 0:F.expand}),[it,pt]=Ra(yt.defaultExpanded||!1,{value:yt.expanded}),$t=Ve&&(!it||yt.expandable==="collapsible"),{rows:Jt=1}=yt,on=A.useMemo(()=>$t&&(yt.suffix!==void 0||yt.onEllipsis||yt.expandable||Y||fe),[$t,yt,Y,fe]);so(()=>{Ve&&!on&&(de(EV("webkitLineClamp")),$e(EV("textOverflow")))},[on,Ve]);const[ln,Lt]=A.useState($t),en=A.useMemo(()=>on?!1:Jt===1?ze:Me,[on,ze,Me]);so(()=>{Lt(en&&$t)},[en,$t]);const Kt=$t&&(ln?lt:et),Zt=$t&&Jt===1&&ln,En=$t&&Jt>1&&ln,Fn=(ft,jt)=>{var Bn;pt(jt.expanded),(Bn=yt.onExpand)===null||Bn===void 0||Bn.call(yt,ft,jt)},[je,me]=A.useState(0),we=ft=>{let{offsetWidth:jt}=ft;me(jt)},Ne=ft=>{var jt;gt(ft),et!==ft&&((jt=yt.onEllipsis)===null||jt===void 0||jt.call(yt,ft))};A.useEffect(()=>{const ft=U.current;if(Ve&&ln&&ft){const jt=En?ft.offsetHeight<ft.scrollHeight:ft.offsetWidth<ft.scrollWidth;lt!==jt&&We(jt)}},[Ve,ln,y,En,qe,je]),A.useEffect(()=>{const ft=U.current;if(typeof IntersectionObserver>"u"||!ft||!ln||!$t)return;const jt=new IntersectionObserver(()=>{Qe(!!ft.offsetParent)});return jt.observe(ft),()=>{jt.disconnect()}},[ln,$t]);let Xe={};yt.tooltip===!0?Xe={title:(n=K.text)!==null&&n!==void 0?n:y}:A.isValidElement(yt.tooltip)?Xe={title:yt.tooltip}:typeof yt.tooltip=="object"?Xe=Object.assign({title:(r=K.text)!==null&&r!==void 0?r:y},yt.tooltip):Xe={title:yt.tooltip};const ot=A.useMemo(()=>{const ft=jt=>["string","number"].includes(typeof jt);if(!(!Ve||ln)){if(ft(K.text))return K.text;if(ft(y))return y;if(ft(I))return I;if(ft(Xe.title))return Xe.title}},[Ve,ln,I,Xe.title,Kt]);if(ee)return A.createElement(mRe,{value:(i=K.text)!==null&&i!==void 0?i:typeof y=="string"?y:"",onSave:le,onCancel:ye,onEnd:K.onEnd,prefixCls:z,className:c,style:h,direction:k,component:P,maxLength:K.maxLength,autoSize:K.autoSize,enterIcon:K.enterIcon});const st=()=>{const{expandable:ft,symbol:jt}=yt;return!ft||it&&ft!=="collapsible"?null:A.createElement("a",{key:"expand",className:`${z}-${it?"collapse":"expand"}`,onClick:Bn=>Fn(Bn,{expanded:!it}),"aria-label":it?F.collapse:F==null?void 0:F.expand},typeof jt=="function"?jt(it):jt)},_t=()=>{if(!Y)return;const{icon:ft,tooltip:jt}=K,Bn=Pc(jt)[0]||(F==null?void 0:F.edit),rr=typeof Bn=="string"?Bn:"";return oe.includes("icon")?A.createElement(Gf,{key:"edit",title:jt===!1?"":Bn},A.createElement(Use,{ref:B,className:`${z}-edit`,onClick:be,"aria-label":rr},ft||A.createElement(k8,{role:"button"}))):null},nt=()=>fe?A.createElement(IRe,Object.assign({key:"copy"},ue,{prefixCls:z,copied:xe,locale:F,onCopy:Ee,loading:ae,iconOnly:y==null})):null,St=ft=>[ft&&st(),_t(),nt()],Et=ft=>[ft&&!it&&A.createElement("span",{"aria-hidden":!0,key:"ellipsis"},LRe),yt.suffix,St(ft)];return A.createElement(Jc,{onResize:we,disabled:!$t},ft=>A.createElement(NRe,{tooltipProps:Xe,enableEllipsis:$t,isEllipsis:Kt},A.createElement(Vse,Object.assign({className:Dt({[`${z}-${o}`]:o,[`${z}-disabled`]:m,[`${z}-ellipsis`]:Ve,[`${z}-single-line`]:$t&&Jt===1&&!it,[`${z}-ellipsis-single-line`]:Zt,[`${z}-ellipsis-multiple-line`]:En},c),prefixCls:s,style:Object.assign(Object.assign({},h),{WebkitLineClamp:En?Jt:void 0}),component:P,ref:el(ft,U,t),direction:k,onClick:oe.includes("text")?be:void 0,"aria-label":ot==null?void 0:ot.toString(),title:I},W),A.createElement(kRe,{enableMeasure:$t&&!ln,text:y,rows:Jt,width:je,onEllipsis:Ne,expanded:it,miscDeps:[xe,it,ae,Y,fe]},(jt,Bn)=>{let rr=jt;return jt.length&&Bn&&!it&&ot&&(rr=A.createElement("span",{key:"show-content","aria-hidden":!0},rr)),DRe(e,A.createElement(A.Fragment,null,rr,Et(Bn)))}))))});var FRe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const $Re=A.forwardRef((e,t)=>{var{ellipsis:n,rel:r}=e,i=FRe(e,["ellipsis","rel"]);const s=Object.assign(Object.assign({},i),{rel:r===void 0&&i.target==="_blank"?"noopener noreferrer":r});return delete s.navigate,A.createElement(X3,Object.assign({},s,{ref:t,ellipsis:!!n,component:"a"}))}),jRe=A.forwardRef((e,t)=>A.createElement(X3,Object.assign({ref:t},e,{component:"div"})));var zRe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const BRe=(e,t)=>{var{ellipsis:n}=e,r=zRe(e,["ellipsis"]);const i=A.useMemo(()=>n&&typeof n=="object"?Vl(n,["expandable","rows"]):n,[n]);return A.createElement(X3,Object.assign({ref:t},r,{ellipsis:i,component:"span"}))},ZRe=A.forwardRef(BRe);var URe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const HRe=[1,2,3,4,5],VRe=A.forwardRef((e,t)=>{const{level:n=1}=e,r=URe(e,["level"]);let i;return HRe.includes(n)?i=`h${n}`:i="h1",A.createElement(X3,Object.assign({ref:t},r,{component:i}))}),kb=Vse;kb.Text=ZRe;kb.Link=$Re;kb.Title=VRe;kb.Paragraph=jRe;const d6=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=e.type||"",s=i.replace(/\/.*$/,"");return n.some(function(c){var h=c.trim();if(/^\*(\/\*)?$/.test(c))return!0;if(h.charAt(0)==="."){var o=r.toLowerCase(),m=h.toLowerCase(),y=[m];return(m===".jpg"||m===".jpeg")&&(y=[".jpg",".jpeg"]),y.some(function(v){return o.endsWith(v)})}return/\/\*$/.test(h)?s===h.replace(/\/.*$/,""):i===h?!0:/^\w+$/.test(h)?(ns(!1,"Upload takes an invalidate 'accept' type '".concat(h,"'.Skip for check.")),!0):!1})}return!0};function WRe(e,t){var n="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),r=new Error(n);return r.status=t.status,r.method=e.method,r.url=e.action,r}function sG(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}function GRe(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(s){s.total>0&&(s.percent=s.loaded/s.total*100),e.onProgress(s)});var n=new FormData;e.data&&Object.keys(e.data).forEach(function(i){var s=e.data[i];if(Array.isArray(s)){s.forEach(function(c){n.append("".concat(i,"[]"),c)});return}n.append(i,s)}),e.file instanceof Blob?n.append(e.filename,e.file,e.file.name):n.append(e.filename,e.file),t.onerror=function(s){e.onError(s)},t.onload=function(){return t.status<200||t.status>=300?e.onError(WRe(e,t),sG(t)):e.onSuccess(sG(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var r=e.headers||{};return r["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach(function(i){r[i]!==null&&t.setRequestHeader(i,r[i])}),t.send(n),{abort:function(){t.abort()}}}function KRe(e,t){var n=e.createReader(),r=[];function i(){n.readEntries(function(s){var c=Array.prototype.slice.apply(s);r=r.concat(c);var h=!c.length;h?t(r):i()})}i()}var qRe=function(t,n,r){var i=function s(c,h){c&&(c.path=h||"",c.isFile?c.file(function(o){r(o)&&(c.fullPath&&!o.webkitRelativePath&&(Object.defineProperties(o,{webkitRelativePath:{writable:!0}}),o.webkitRelativePath=c.fullPath.replace(/^\//,""),Object.defineProperties(o,{webkitRelativePath:{writable:!1}})),n([o]))}):c.isDirectory&&KRe(c,function(o){o.forEach(function(m){s(m,"".concat(h).concat(c.name,"/"))})}))};t.forEach(function(s){i(s.webkitGetAsEntry())})},XRe=+new Date,YRe=0;function h6(){return"rc-upload-".concat(XRe,"-").concat(++YRe)}var JRe=["component","prefixCls","className","classNames","disabled","id","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],QRe=function(e){bl(n,e);var t=ry(n);function n(){var r;Go(this,n);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return r=t.call.apply(t,[this].concat(s)),Ze(di(r),"state",{uid:h6()}),Ze(di(r),"reqs",{}),Ze(di(r),"fileInput",void 0),Ze(di(r),"_isMounted",void 0),Ze(di(r),"onChange",function(h){var o=r.props,m=o.accept,y=o.directory,v=h.target.files,S=zn(v).filter(function(C){return!y||d6(C,m)});r.uploadFiles(S),r.reset()}),Ze(di(r),"onClick",function(h){var o=r.fileInput;if(o){var m=h.target,y=r.props.onClick;if(m&&m.tagName==="BUTTON"){var v=o.parentNode;v.focus(),m.blur()}o.click(),y&&y(h)}}),Ze(di(r),"onKeyDown",function(h){h.key==="Enter"&&r.onClick(h)}),Ze(di(r),"onFileDrop",function(h){var o=r.props.multiple;if(h.preventDefault(),h.type!=="dragover")if(r.props.directory)qRe(Array.prototype.slice.call(h.dataTransfer.items),r.uploadFiles,function(y){return d6(y,r.props.accept)});else{var m=zn(h.dataTransfer.files).filter(function(y){return d6(y,r.props.accept)});o===!1&&(m=m.slice(0,1)),r.uploadFiles(m)}}),Ze(di(r),"uploadFiles",function(h){var o=zn(h),m=o.map(function(y){return y.uid=h6(),r.processFile(y,o)});Promise.all(m).then(function(y){var v=r.props.onBatchStart;v==null||v(y.map(function(S){var C=S.origin,P=S.parsedFile;return{file:C,parsedFile:P}})),y.filter(function(S){return S.parsedFile!==null}).forEach(function(S){r.post(S)})})}),Ze(di(r),"processFile",function(){var h=Wf(Rs().mark(function o(m,y){var v,S,C,P,I,N,D,k,F;return Rs().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(v=r.props.beforeUpload,S=m,!v){B.next=14;break}return B.prev=3,B.next=6,v(m,y);case 6:S=B.sent,B.next=12;break;case 9:B.prev=9,B.t0=B.catch(3),S=!1;case 12:if(S!==!1){B.next=14;break}return B.abrupt("return",{origin:m,parsedFile:null,action:null,data:null});case 14:if(C=r.props.action,typeof C!="function"){B.next=21;break}return B.next=18,C(m);case 18:P=B.sent,B.next=22;break;case 21:P=C;case 22:if(I=r.props.data,typeof I!="function"){B.next=29;break}return B.next=26,I(m);case 26:N=B.sent,B.next=30;break;case 29:N=I;case 30:return D=(Hr(S)==="object"||typeof S=="string")&&S?S:m,D instanceof File?k=D:k=new File([D],m.name,{type:m.type}),F=k,F.uid=m.uid,B.abrupt("return",{origin:m,data:N,parsedFile:F,action:P});case 35:case"end":return B.stop()}},o,null,[[3,9]])}));return function(o,m){return h.apply(this,arguments)}}()),Ze(di(r),"saveFileInput",function(h){r.fileInput=h}),r}return Ko(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(i){var s=this,c=i.data,h=i.origin,o=i.action,m=i.parsedFile;if(this._isMounted){var y=this.props,v=y.onStart,S=y.customRequest,C=y.name,P=y.headers,I=y.withCredentials,N=y.method,D=h.uid,k=S||GRe,F={action:o,filename:C,data:c,file:m,headers:P,withCredentials:I,method:N||"post",onProgress:function(B){var z=s.props.onProgress;z==null||z(B,m)},onSuccess:function(B,z){var W=s.props.onSuccess;W==null||W(B,m,z),delete s.reqs[D]},onError:function(B,z){var W=s.props.onError;W==null||W(B,z,m),delete s.reqs[D]}};v(h),this.reqs[D]=k(F)}}},{key:"reset",value:function(){this.setState({uid:h6()})}},{key:"abort",value:function(i){var s=this.reqs;if(i){var c=i.uid?i.uid:i;s[c]&&s[c].abort&&s[c].abort(),delete s[c]}else Object.keys(s).forEach(function(h){s[h]&&s[h].abort&&s[h].abort(),delete s[h]})}},{key:"render",value:function(){var i,s=this.props,c=s.component,h=s.prefixCls,o=s.className,m=s.classNames,y=m===void 0?{}:m,v=s.disabled,S=s.id,C=s.style,P=s.styles,I=P===void 0?{}:P,N=s.multiple,D=s.accept,k=s.capture,F=s.children,U=s.directory,B=s.openFileDialogOnClick,z=s.onMouseEnter,W=s.onMouseLeave,Y=s.hasControlInside,K=Gr(s,JRe),ee=Dt((i={},Ze(i,h,!0),Ze(i,"".concat(h,"-disabled"),v),Ze(i,o,o),i)),re=U?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},oe=v?{}:{onClick:B?this.onClick:function(){},onKeyDown:B?this.onKeyDown:function(){},onMouseEnter:z,onMouseLeave:W,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:Y?void 0:"0"};return Oe.createElement(c,Ln({},oe,{className:ee,role:Y?void 0:"button",style:C}),Oe.createElement("input",Ln({},W0(K,{aria:!0,data:!0}),{id:S,disabled:v,type:"file",ref:this.saveFileInput,onClick:function(be){return be.stopPropagation()},key:this.state.uid,style:Ue({display:"none"},I.input),className:y.input,accept:D},re,{multiple:N,onChange:this.onChange},k!=null?{capture:k}:{})),F)}}]),n}(A.Component);function p6(){}var N8=function(e){bl(n,e);var t=ry(n);function n(){var r;Go(this,n);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return r=t.call.apply(t,[this].concat(s)),Ze(di(r),"uploader",void 0),Ze(di(r),"saveUploader",function(h){r.uploader=h}),r}return Ko(n,[{key:"abort",value:function(i){this.uploader.abort(i)}},{key:"render",value:function(){return Oe.createElement(QRe,Ln({},this.props,{ref:this.saveUploader}))}}]),n}(A.Component);Ze(N8,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:p6,onError:p6,onSuccess:p6,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const eDe=e=>{const{componentCls:t,iconCls:n}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${Ut(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${Ut(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[n]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${Ut(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${n},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},tDe=e=>{const{componentCls:t,antCls:n,iconCls:r,fontSize:i,lineHeight:s,calc:c}=e,h=`${t}-list-item`,o=`${h}-actions`,m=`${h}-action`,y=e.fontHeightSM;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},d7()),{lineHeight:e.lineHeight,[h]:{position:"relative",height:c(e.lineHeight).mul(i).equal(),marginTop:e.marginXS,fontSize:i,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,"&:hover":{backgroundColor:e.controlItemBgHover},[`${h}-name`]:Object.assign(Object.assign({},V0),{padding:`0 ${Ut(e.paddingXS)}`,lineHeight:s,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[o]:{whiteSpace:"nowrap",[m]:{opacity:0},[r]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${m}:focus-visible,
              &.picture ${m}
            `]:{opacity:1},[`${m}${n}-btn`]:{height:y,border:0,lineHeight:1}},[`${t}-icon ${r}`]:{color:e.colorTextDescription,fontSize:i},[`${h}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:c(i).add(e.paddingXS).equal(),fontSize:i,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${h}:hover ${m}`]:{opacity:1},[`${h}-error`]:{color:e.colorError,[`${h}-name, ${t}-icon ${r}`]:{color:e.colorError},[o]:{[`${r}, ${r}:hover`]:{color:e.colorError},[m]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},nDe=e=>{const{componentCls:t}=e,n=new Ti("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),r=new Ti("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),i=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${i}-appear, ${i}-enter, ${i}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${i}-appear, ${i}-enter`]:{animationName:n},[`${i}-leave`]:{animationName:r}}},{[`${t}-wrapper`]:RPe(e)},n,r]},rDe=e=>{const{componentCls:t,iconCls:n,uploadThumbnailSize:r,uploadProgressOffset:i,calc:s}=e,c=`${t}-list`,h=`${c}-item`;return{[`${t}-wrapper`]:{[`
        ${c}${c}-picture,
        ${c}${c}-picture-card,
        ${c}${c}-picture-circle
      `]:{[h]:{position:"relative",height:s(r).add(s(e.lineWidth).mul(2)).add(s(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${Ut(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${h}-thumbnail`]:Object.assign(Object.assign({},V0),{width:r,height:r,lineHeight:Ut(s(r).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[n]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${h}-progress`]:{bottom:i,width:`calc(100% - ${Ut(s(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:s(r).add(e.paddingXS).equal()}},[`${h}-error`]:{borderColor:e.colorError,[`${h}-thumbnail ${n}`]:{[`svg path[fill='${Gw[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${Gw.primary}']`]:{fill:e.colorError}}},[`${h}-uploading`]:{borderStyle:"dashed",[`${h}-name`]:{marginBottom:i}}},[`${c}${c}-picture-circle ${h}`]:{[`&, &::before, ${h}-thumbnail`]:{borderRadius:"50%"}}}}},iDe=e=>{const{componentCls:t,iconCls:n,fontSizeLG:r,colorTextLightSolid:i,calc:s}=e,c=`${t}-list`,h=`${c}-item`,o=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},d7()),{display:"block",[`${t}${t}-select`]:{width:o,height:o,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${Ut(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${c}${c}-picture-card, ${c}${c}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${c}-item-container`]:{display:"inline-block",width:o,height:o,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[h]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${Ut(s(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${Ut(s(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${h}:hover`]:{[`&::before, ${h}-actions`]:{opacity:1}},[`${h}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${n}-eye,
            ${n}-download,
            ${n}-delete
          `]:{zIndex:10,width:r,margin:`0 ${Ut(e.marginXXS)}`,fontSize:r,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:i,"&:hover":{color:i},svg:{verticalAlign:"baseline"}}},[`${h}-thumbnail, ${h}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${h}-name`]:{display:"none",textAlign:"center"},[`${h}-file + ${h}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${Ut(s(e.paddingXS).mul(2).equal())})`},[`${h}-uploading`]:{[`&${h}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${n}-eye, ${n}-download, ${n}-delete`]:{display:"none"}},[`${h}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${Ut(s(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},oDe=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},aDe=e=>{const{componentCls:t,colorTextDisabled:n}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},ia(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-disabled`]:{color:n,cursor:"not-allowed"}})}},sDe=e=>({actionsColor:e.colorTextDescription}),lDe=_a("Upload",e=>{const{fontSizeHeading3:t,fontHeight:n,lineWidth:r,controlHeightLG:i,calc:s}=e,c=lo(e,{uploadThumbnailSize:s(t).mul(2).equal(),uploadProgressOffset:s(s(n).div(2)).add(r).equal(),uploadPicCardSize:s(i).mul(2.55).equal()});return[aDe(c),eDe(c),rDe(c),iDe(c),tDe(c),nDe(c),oDe(c),eae(c)]},sDe);var cDe={icon:function(t,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:n}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},uDe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:cDe}))},dDe=A.forwardRef(uDe),hDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},pDe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:hDe}))},fDe=A.forwardRef(pDe),mDe={icon:function(t,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:n}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:n}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:n}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},gDe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:mDe}))},yDe=A.forwardRef(gDe);function sM(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function lM(e,t){const n=zn(t),r=n.findIndex(i=>{let{uid:s}=i;return s===e.uid});return r===-1?n.push(e):n[r]=e,n}function f6(e,t){const n=e.uid!==void 0?"uid":"name";return t.filter(r=>r[n]===e[n])[0]}function vDe(e,t){const n=e.uid!==void 0?"uid":"name",r=t.filter(i=>i[n]!==e[n]);return r.length===t.length?null:r}const bDe=function(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),r=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},Gse=e=>e.indexOf("image/")===0,_De=e=>{if(e.type&&!e.thumbUrl)return Gse(e.type);const t=e.thumbUrl||e.url||"",n=bDe(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n)?!0:!(/^data:/.test(t)||n)},qp=200;function xDe(e){return new Promise(t=>{if(!e.type||!Gse(e.type)){t("");return}const n=document.createElement("canvas");n.width=qp,n.height=qp,n.style.cssText=`position: fixed; left: 0; top: 0; width: ${qp}px; height: ${qp}px; z-index: 9999; display: none;`,document.body.appendChild(n);const r=n.getContext("2d"),i=new Image;if(i.onload=()=>{const{width:s,height:c}=i;let h=qp,o=qp,m=0,y=0;s>c?(o=c*(qp/s),y=-(o-h)/2):(h=s*(qp/c),m=-(h-o)/2),r.drawImage(i,m,y,h,o);const v=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(i.src),t(v)},i.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const s=new FileReader;s.onload=()=>{s.result&&typeof s.result=="string"&&(i.src=s.result)},s.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const s=new FileReader;s.onload=()=>{s.result&&t(s.result)},s.readAsDataURL(e)}else i.src=window.URL.createObjectURL(e)})}var wDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},SDe=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:wDe}))},ADe=A.forwardRef(SDe);const CDe=A.forwardRef((e,t)=>{let{prefixCls:n,className:r,style:i,locale:s,listType:c,file:h,items:o,progress:m,iconRender:y,actionIconRender:v,itemRender:S,isImgUrl:C,showPreviewIcon:P,showRemoveIcon:I,showDownloadIcon:N,previewIcon:D,removeIcon:k,downloadIcon:F,onPreview:U,onDownload:B,onClose:z}=e;var W,Y;const{status:K}=h,[ee,re]=A.useState(K);A.useEffect(()=>{K!=="removed"&&re(K)},[K]);const[oe,he]=A.useState(!1);A.useEffect(()=>{const qe=setTimeout(()=>{he(!0)},300);return()=>{clearTimeout(qe)}},[]);const be=y(h);let le=A.createElement("div",{className:`${n}-icon`},be);if(c==="picture"||c==="picture-card"||c==="picture-circle")if(ee==="uploading"||!h.thumbUrl&&!h.url){const qe=Dt(`${n}-list-item-thumbnail`,{[`${n}-list-item-file`]:ee!=="uploading"});le=A.createElement("div",{className:qe},be)}else{const qe=C!=null&&C(h)?A.createElement("img",{src:h.thumbUrl||h.url,alt:h.name,className:`${n}-list-item-image`,crossOrigin:h.crossOrigin}):be,Qe=Dt(`${n}-list-item-thumbnail`,{[`${n}-list-item-file`]:C&&!C(h)});le=A.createElement("a",{className:Qe,onClick:Ve=>U(h,Ve),href:h.url||h.thumbUrl,target:"_blank",rel:"noopener noreferrer"},qe)}const ye=Dt(`${n}-list-item`,`${n}-list-item-${ee}`),fe=typeof h.linkProps=="string"?JSON.parse(h.linkProps):h.linkProps,ue=I?v((typeof k=="function"?k(h):k)||A.createElement(Zse,null),()=>z(h),n,s.removeFile,!0):null,xe=N&&ee==="done"?v((typeof F=="function"?F(h):F)||A.createElement(ADe,null),()=>B(h),n,s.downloadFile):null,ae=c!=="picture-card"&&c!=="picture-circle"&&A.createElement("span",{key:"download-delete",className:Dt(`${n}-list-item-actions`,{picture:c==="picture"})},xe,ue),Ee=Dt(`${n}-list-item-name`),Me=h.url?[A.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:Ee,title:h.name},fe,{href:h.url,onClick:qe=>U(h,qe)}),h.name),ae]:[A.createElement("span",{key:"view",className:Ee,onClick:qe=>U(h,qe),title:h.name},h.name),ae],de=P&&(h.url||h.thumbUrl)?A.createElement("a",{href:h.url||h.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:qe=>U(h,qe),title:s.previewFile},typeof D=="function"?D(h):D||A.createElement(Mse,null)):null,ze=(c==="picture-card"||c==="picture-circle")&&ee!=="uploading"&&A.createElement("span",{className:`${n}-list-item-actions`},de,ee==="done"&&xe,ue),{getPrefixCls:$e}=A.useContext(hi),et=$e(),gt=A.createElement("div",{className:ye},le,Me,ze,oe&&A.createElement(nd,{motionName:`${et}-fade`,visible:ee==="uploading",motionDeadline:2e3},qe=>{let{className:Qe}=qe;const Ve="percent"in h?A.createElement(I8,Object.assign({},m,{type:"line",percent:h.percent,"aria-label":h["aria-label"],"aria-labelledby":h["aria-labelledby"]})):null;return A.createElement("div",{className:Dt(`${n}-list-item-progress`,Qe)},Ve)})),lt=h.response&&typeof h.response=="string"?h.response:((W=h.error)===null||W===void 0?void 0:W.statusText)||((Y=h.error)===null||Y===void 0?void 0:Y.message)||s.uploadError,We=ee==="error"?A.createElement(Gf,{title:lt,getPopupContainer:qe=>qe.parentNode},gt):gt;return A.createElement("div",{className:Dt(`${n}-list-item-container`,r),style:i,ref:t},S?S(We,h,o,{download:B.bind(null,h),preview:U.bind(null,h),remove:z.bind(null,h)}):We)}),MDe=(e,t)=>{const{listType:n="text",previewFile:r=xDe,onPreview:i,onDownload:s,onRemove:c,locale:h,iconRender:o,isImageUrl:m=_De,prefixCls:y,items:v=[],showPreviewIcon:S=!0,showRemoveIcon:C=!0,showDownloadIcon:P=!1,removeIcon:I,previewIcon:N,downloadIcon:D,progress:k={size:[-1,2],showInfo:!1},appendAction:F,appendActionVisible:U=!0,itemRender:B,disabled:z}=e,W=CIe(),[Y,K]=A.useState(!1);A.useEffect(()=>{n!=="picture"&&n!=="picture-card"&&n!=="picture-circle"||(v||[]).forEach(de=>{typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(de.originFileObj instanceof File||de.originFileObj)||de.thumbUrl!==void 0||r&&r(de.originFileObj).then(ze=>{de.thumbUrl=ze||"",W()})})},[n,v,r]),A.useEffect(()=>{K(!0)},[]);const ee=(de,ze)=>{if(i)return ze==null||ze.preventDefault(),i(de)},re=de=>{typeof s=="function"?s(de):de.url&&window.open(de.url)},oe=de=>{c==null||c(de)},he=de=>{if(o)return o(de,n);const ze=de.status==="uploading",$e=m&&m(de)?A.createElement(yDe,null):A.createElement(dDe,null);let et=ze?A.createElement(Zg,null):A.createElement(fDe,null);return n==="picture"?et=ze?A.createElement(Zg,null):$e:(n==="picture-card"||n==="picture-circle")&&(et=ze?h.uploading:$e),et},be=(de,ze,$e,et,gt)=>{const lt={type:"text",size:"small",title:et,onClick:We=>{var qe,Qe;ze(),A.isValidElement(de)&&((Qe=(qe=de.props).onClick)===null||Qe===void 0||Qe.call(qe,We))},className:`${$e}-list-item-action`};if(gt&&(lt.disabled=z),A.isValidElement(de)){const We=Yu(de,Object.assign(Object.assign({},de.props),{onClick:()=>{}}));return A.createElement(vs,Object.assign({},lt,{icon:We}))}return A.createElement(vs,Object.assign({},lt),A.createElement("span",null,de))};A.useImperativeHandle(t,()=>({handlePreview:ee,handleDownload:re}));const{getPrefixCls:le}=A.useContext(hi),ye=le("upload",y),fe=le(),ue=Dt(`${ye}-list`,`${ye}-list-${n}`),xe=zn(v.map(de=>({key:de.uid,file:de})));let Ee={motionDeadline:2e3,motionName:`${ye}-${n==="picture-card"||n==="picture-circle"?"animate-inline":"animate"}`,keys:xe,motionAppear:Y};const Me=A.useMemo(()=>{const de=Object.assign({},QN(fe));return delete de.onAppearEnd,delete de.onEnterEnd,delete de.onLeaveEnd,de},[fe]);return n!=="picture-card"&&n!=="picture-circle"&&(Ee=Object.assign(Object.assign({},Me),Ee)),A.createElement("div",{className:ue},A.createElement(Aoe,Object.assign({},Ee,{component:!1}),de=>{let{key:ze,file:$e,className:et,style:gt}=de;return A.createElement(CDe,{key:ze,locale:h,prefixCls:ye,className:et,style:gt,file:$e,items:v,progress:k,listType:n,isImgUrl:m,showPreviewIcon:S,showRemoveIcon:C,showDownloadIcon:P,removeIcon:I,previewIcon:N,downloadIcon:D,iconRender:he,actionIconRender:be,itemRender:B,onPreview:ee,onDownload:re,onClose:oe})}),F&&A.createElement(nd,Object.assign({},Ee,{visible:U,forceRender:!0}),de=>{let{className:ze,style:$e}=de;return Yu(F,et=>({className:Dt(et.className,ze),style:Object.assign(Object.assign(Object.assign({},$e),{pointerEvents:ze?"none":void 0}),et.style)}))}))},EDe=A.forwardRef(MDe);var TDe=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function h(y){try{m(r.next(y))}catch(v){c(v)}}function o(y){try{m(r.throw(y))}catch(v){c(v)}}function m(y){y.done?s(y.value):i(y.value).then(h,o)}m((r=r.apply(e,[])).next())})};const Zx=`__LIST_IGNORE_${Date.now()}__`,PDe=(e,t)=>{const{fileList:n,defaultFileList:r,onRemove:i,showUploadList:s=!0,listType:c="text",onPreview:h,onDownload:o,onChange:m,onDrop:y,previewFile:v,disabled:S,locale:C,iconRender:P,isImageUrl:I,progress:N,prefixCls:D,className:k,type:F="select",children:U,style:B,itemRender:z,maxCount:W,data:Y={},multiple:K=!1,hasControlInside:ee=!0,action:re="",accept:oe="",supportServerRender:he=!0,rootClassName:be}=e,le=A.useContext(Ic),ye=S??le,[fe,ue]=Ra(r||[],{value:n,postState:st=>st??[]}),[xe,ae]=A.useState("drop"),Ee=A.useRef(null);A.useMemo(()=>{const st=Date.now();(n||[]).forEach((_t,nt)=>{!_t.uid&&!Object.isFrozen(_t)&&(_t.uid=`__AUTO__${st}_${nt}__`)})},[n]);const Me=(st,_t,nt)=>{let St=zn(_t),Et=!1;W===1?St=St.slice(-1):W&&(Et=St.length>W,St=St.slice(0,W)),Wa.flushSync(()=>{ue(St)});const ft={file:st,fileList:St};nt&&(ft.event=nt),(!Et||st.status==="removed"||St.some(jt=>jt.uid===st.uid))&&Wa.flushSync(()=>{m==null||m(ft)})},de=(st,_t)=>TDe(void 0,void 0,void 0,function*(){const{beforeUpload:nt,transformFile:St}=e;let Et=st;if(nt){const ft=yield nt(st,_t);if(ft===!1)return!1;if(delete st[Zx],ft===Zx)return Object.defineProperty(st,Zx,{value:!0,configurable:!0}),!1;typeof ft=="object"&&ft&&(Et=ft)}return St&&(Et=yield St(Et)),Et}),ze=st=>{const _t=st.filter(Et=>!Et.file[Zx]);if(!_t.length)return;const nt=_t.map(Et=>sM(Et.file));let St=zn(fe);nt.forEach(Et=>{St=lM(Et,St)}),nt.forEach((Et,ft)=>{let jt=Et;if(_t[ft].parsedFile)Et.status="uploading";else{const{originFileObj:Bn}=Et;let rr;try{rr=new File([Bn],Bn.name,{type:Bn.type})}catch{rr=new Blob([Bn],{type:Bn.type}),rr.name=Bn.name,rr.lastModifiedDate=new Date,rr.lastModified=new Date().getTime()}rr.uid=Et.uid,jt=rr}Me(jt,St)})},$e=(st,_t,nt)=>{try{typeof st=="string"&&(st=JSON.parse(st))}catch{}if(!f6(_t,fe))return;const St=sM(_t);St.status="done",St.percent=100,St.response=st,St.xhr=nt;const Et=lM(St,fe);Me(St,Et)},et=(st,_t)=>{if(!f6(_t,fe))return;const nt=sM(_t);nt.status="uploading",nt.percent=st.percent;const St=lM(nt,fe);Me(nt,St,st)},gt=(st,_t,nt)=>{if(!f6(nt,fe))return;const St=sM(nt);St.error=st,St.response=_t,St.status="error";const Et=lM(St,fe);Me(St,Et)},lt=st=>{let _t;Promise.resolve(typeof i=="function"?i(st):i).then(nt=>{var St;if(nt===!1)return;const Et=vDe(st,fe);Et&&(_t=Object.assign(Object.assign({},st),{status:"removed"}),fe==null||fe.forEach(ft=>{const jt=_t.uid!==void 0?"uid":"name";ft[jt]===_t[jt]&&!Object.isFrozen(ft)&&(ft.status="removed")}),(St=Ee.current)===null||St===void 0||St.abort(_t),Me(_t,Et))})},We=st=>{ae(st.type),st.type==="drop"&&(y==null||y(st))};A.useImperativeHandle(t,()=>({onBatchStart:ze,onSuccess:$e,onProgress:et,onError:gt,fileList:fe,upload:Ee.current}));const{getPrefixCls:qe,direction:Qe,upload:Ve}=A.useContext(hi),yt=qe("upload",D),it=Object.assign(Object.assign({onBatchStart:ze,onError:gt,onProgress:et,onSuccess:$e},e),{data:Y,multiple:K,action:re,accept:oe,supportServerRender:he,prefixCls:yt,disabled:ye,beforeUpload:de,onChange:void 0,hasControlInside:ee});delete it.className,delete it.style,(!U||ye)&&delete it.id;const pt=`${yt}-wrapper`,[$t,Jt,on]=lDe(yt,pt),[ln]=T3("Upload",Df.Upload),{showRemoveIcon:Lt,showPreviewIcon:en,showDownloadIcon:Kt,removeIcon:Zt,previewIcon:En,downloadIcon:Fn}=typeof s=="boolean"?{}:s,je=typeof Lt>"u"?!ye:!!Lt,me=(st,_t)=>s?A.createElement(EDe,{prefixCls:yt,listType:c,items:fe,previewFile:v,onPreview:h,onDownload:o,onRemove:lt,showRemoveIcon:je,showPreviewIcon:en,showDownloadIcon:Kt,removeIcon:Zt,previewIcon:En,downloadIcon:Fn,iconRender:P,locale:Object.assign(Object.assign({},ln),C),isImageUrl:I,progress:N,appendAction:st,appendActionVisible:_t,itemRender:z,disabled:ye}):st,we=Dt(pt,k,be,Jt,on,Ve==null?void 0:Ve.className,{[`${yt}-rtl`]:Qe==="rtl",[`${yt}-picture-card-wrapper`]:c==="picture-card",[`${yt}-picture-circle-wrapper`]:c==="picture-circle"}),Ne=Object.assign(Object.assign({},Ve==null?void 0:Ve.style),B);if(F==="drag"){const st=Dt(Jt,yt,`${yt}-drag`,{[`${yt}-drag-uploading`]:fe.some(_t=>_t.status==="uploading"),[`${yt}-drag-hover`]:xe==="dragover",[`${yt}-disabled`]:ye,[`${yt}-rtl`]:Qe==="rtl"});return $t(A.createElement("span",{className:we},A.createElement("div",{className:st,style:Ne,onDrop:We,onDragOver:We,onDragLeave:We},A.createElement(N8,Object.assign({},it,{ref:Ee,className:`${yt}-btn`}),A.createElement("div",{className:`${yt}-drag-container`},U))),me()))}const Xe=Dt(yt,`${yt}-select`,{[`${yt}-disabled`]:ye}),ot=A.createElement("div",{className:Xe,style:U?void 0:{display:"none"}},A.createElement(N8,Object.assign({},it,{ref:Ee})));return $t(c==="picture-card"||c==="picture-circle"?A.createElement("span",{className:we},me(ot,!!U)):A.createElement("span",{className:we},ot,me()))},Kse=A.forwardRef(PDe);var IDe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ODe=A.forwardRef((e,t)=>{var{style:n,height:r,hasControlInside:i=!1}=e,s=IDe(e,["style","height","hasControlInside"]);return A.createElement(Kse,Object.assign({ref:t,hasControlInside:i},s,{type:"drag",style:Object.assign(Object.assign({},n),{height:r})}))}),Y7=Kse;Y7.Dragger=ODe;Y7.LIST_IGNORE=Zx;const kDe=[{color:"rgba(255,235,238, 0.8)",label:"0 - 2.5"},{color:"rgba(248,192,203, 0.8)",label:"2.5 - 5"},{color:"rgba(241,150,168, 0.8)",label:"5 - 10"},{color:"rgba(211,102,128, 0.8)",label:"10 - 20"},{color:"rgba(180,66,97, 0.8)",label:"20 - 200"},{color:"rgba(137,23,58, 0.8)",label:"200 - 1000"},{color:"rgba(88,14,38, 0.8)",label:"> 1000"}],NDe=[{color:"rgba(255,235,238, 0.8)",label:"0 - 25k"},{color:"rgba(248,192,203, 0.8)",label:"25k - 100k"},{color:"rgba(241,150,168, 0.8)",label:"100k - 200k"},{color:"rgba(211,102,128, 0.8)",label:"200k - 350k"},{color:"rgba(180,66,97, 0.8)",label:"350k - 500k"},{color:"rgba(137,23,58, 0.8)",label:"500k - 750k"},{color:"rgba(88,14,38, 0.8)",label:"> 750k"}],RDe=()=>{const{i18n:e,t}=Zi(),n=ha(),r=Ci(F=>F.mapView.terrainEnabled),i=Ci(F=>F.mapView.buildingsEnabled),s=Ci(F=>F.mapLayers),c=Ci(F=>F.filters.selectedFilters.heatmap),h=Ci(F=>F.filters.activeToggles.district);A.useEffect(()=>{n(oAe({layerId:"qatar-districts-polygon",visible:h}))},[h]);const[o,m]=A.useState(null),[y,v]=A.useState(null),S=F=>{m(U=>U===F?null:F),v(null)},C=F=>{F==="terrain"?n(lAe()):F==="building"&&n(cAe())},P=F=>{n(iAe(F))},I=[{id:"districtIndicators",icon:te.jsx(bAe,{size:24}),secondaryItems:[{id:"qatar-districts-polygon",label:t("map_menu.district")},{id:"qatar-districts-borders",label:t("map_menu.district_borders")},{id:"qatar-districts-investments",label:t("map_menu.district_investments")}]},{id:"threeD",icon:te.jsx(_Ae,{size:24}),secondaryItems:[{id:"terrain",label:t("map_menu.3d_terrain")},{id:"building",label:t("map_menu.3d_building")}]},{id:"colorCoding",icon:te.jsx(xAe,{size:24}),secondaryItems:[{id:"districts",label:t("map_menu.district"),color:"#f9de97",showColorSwatch:!0},{id:"districtsBorders",label:t("map_menu.district_borders"),dashedLine:!0},{id:"heatmap",label:t("map_menu.heatmap")},{id:"districtsInvestments",label:t("map_menu.district_investments"),showColorSwatch:!1,tertiaryItems:[{label:t("map_menu.freehold"),ringColor:"border-green-800"},{label:t("map_menu.leasehold"),ringColor:"border-blue-800"}]}]}],N=I.find(F=>F.id===o),D=e.language==="ar",k=D?"right-full mr-2":"left-full ml-2";return te.jsxs("div",{className:`absolute bottom-5 z-10 flex flex-row items-center  
        ${D?"flex-row-reverse space-x-reverse right-4":"flex-row left-4"} 
        items-end space-x-2 text-xs
      `,children:[te.jsx("div",{className:"flex flex-col space-y-2 bg-white p-2 rounded-lg shadow-md min-w-[50px]",children:I.map(F=>te.jsx("button",{onClick:()=>S(F.id),className:`text-center w-full p-2 rounded-md hover:bg-gray-100 flex justify-center items-center ${o===F.id?"bg-gray-200":""}`,children:F.icon},F.id))}),N&&te.jsx("div",{className:"relative flex flex-col space-y-2 bg-white p-2 rounded-lg shadow-md min-w-[160px]",children:N.secondaryItems.map(F=>{var B,z;const U=!!((B=F.tertiaryItems)!=null&&B.length);if(N.id==="districtIndicators"||N.id==="threeD"){const W=N.id==="threeD"?F.id==="terrain"?r:i:s[F.id]??!1;return te.jsx(fA,{checked:W,onChange:()=>N.id==="threeD"?C(F.id):P(F.id),className:`flex items-center space-x-2 ${D?"flex-row-reverse":""}`,children:F.label},F.id)}if(F.id==="heatmap"){let W=null;return(c==null?void 0:c.Type)==="sell_count"?W=kDe:(c==null?void 0:c.Type)==="sell_mt_avg"&&(W=NDe),te.jsxs("div",{className:"w-full",children:[te.jsxs("button",{onClick:()=>v(Y=>Y===F.id?null:F.id),className:`w-full text-left p-2 rounded-md flex items-center justify-between hover:bg-gray-100 ${D?"flex-row-reverse":""}`,children:[te.jsx("span",{children:F.label}),D?te.jsx(MH,{size:16,className:"text-gray-500"}):te.jsx(EH,{size:16,className:"text-gray-500"})]}),y===F.id&&W&&te.jsx("div",{className:`
                        absolute bottom-0 
                        ${k} 
                        bg-white p-2 rounded-lg shadow-md min-w-[150px]
                      `,children:W.map((Y,K)=>te.jsxs("div",{className:`flex items-center space-x-2 mb-1 ${D?"flex-row-reverse gap-2":""}`,children:[te.jsx("span",{className:"w-4 h-4 inline-block rounded-sm",style:{backgroundColor:Y.color}}),te.jsx("span",{children:Y.label})]},K))})]},F.id)}return te.jsxs("div",{className:"w-full",children:[te.jsxs("button",{onClick:()=>v(W=>W===F.id?null:F.id),className:`w-full text-left p-2 rounded-md flex items-center justify-between hover:bg-gray-100 ${D?"flex-row-reverse":""}`,children:[te.jsxs("div",{className:`flex items-center space-x-2 ${D?"flex-row-reverse gap-2":""}`,children:[F.dashedLine&&te.jsx("span",{className:"w-4 border-b border-dashed border-black"}),F.showColorSwatch&&F.color&&te.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:F.color}}),te.jsx("span",{children:F.label})]}),U&&(D?te.jsx(MH,{size:16,className:"text-gray-500"}):te.jsx(EH,{size:16,className:"text-gray-500"}))]}),y===F.id&&U&&te.jsx("div",{className:`
                      absolute bottom-0 
                      ${k} 
                      bg-white p-2 rounded-lg shadow-md min-w-[150px]
                    `,children:(z=F.tertiaryItems)==null?void 0:z.map((W,Y)=>te.jsxs("div",{className:`flex items-center space-x-2 mb-1 ${D?"flex-row-reverse gap-2":""}`,children:[W.ringColor&&te.jsx("span",{className:`w-4 h-4 rounded-full border-2 ${W.ringColor}`}),W.color&&te.jsx("span",{className:"w-4 h-4 inline-block rounded-sm",style:{backgroundColor:W.color}}),te.jsx("span",{children:W.label})]},Y))})]},F.id)})})]})};function iS(e){"@babel/helpers - typeof";return iS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iS(e)}function DDe(e,t){if(iS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(iS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LDe(e){var t=DDe(e,"string");return iS(t)=="symbol"?t:t+""}function pn(e,t,n){return(t=LDe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qse(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var m6,lG;function FDe(){if(lG)return m6;lG=1;var e=function(n,r,i,s,c,h,o,m){if(!n){var y;if(r===void 0)y=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[i,s,c,h,o,m],S=0;y=new Error(r.replace(/%s/g,function(){return v[S++]})),y.name="Invariant Violation"}throw y.framesToPop=1,y}};return m6=e,m6}var $De=FDe(),os=qse($De),Si=A.createContext(null);function jDe(){os(!!A.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=A.useContext(Si);return os(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}function zDe(e,t,n){return Object.keys(e).reduce(function(i,s){return t(i,e[s],s)},n)}function BDe(e,t){Object.keys(e).forEach(n=>t(e[n],n))}function ZDe(e,t,n,r){var i={},s=(c,h)=>{var o=n[h];o!==t[h]&&(i[h]=o,c(r,o))};return BDe(e,s),i}function UDe(e,t,n){var r=zDe(n,function(s,c,h){return typeof e[h]=="function"&&s.push(google.maps.event.addListener(t,c,e[h])),s},[]);return r}function HDe(e){google.maps.event.removeListener(e)}function Di(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];e.forEach(HDe)}function Oi(e){var{updaterMap:t,eventMap:n,prevProps:r,nextProps:i,instance:s}=e,c=UDe(i,s,n);return ZDe(t,r,i,s),c}var cG={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},uG={extraMapTypes(e,t){t.forEach(function(r,i){e.mapTypes.set(String(i),r)})},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};function VDe(e){var{children:t,options:n,id:r,mapContainerStyle:i,mapContainerClassName:s,center:c,onClick:h,onDblClick:o,onDrag:m,onDragEnd:y,onDragStart:v,onMouseMove:S,onMouseOut:C,onMouseOver:P,onMouseDown:I,onMouseUp:N,onRightClick:D,onCenterChanged:k,onLoad:F,onUnmount:U}=e,[B,z]=A.useState(null),W=A.useRef(null),[Y,K]=A.useState(null),[ee,re]=A.useState(null),[oe,he]=A.useState(null),[be,le]=A.useState(null),[ye,fe]=A.useState(null),[ue,xe]=A.useState(null),[ae,Ee]=A.useState(null),[Me,de]=A.useState(null),[ze,$e]=A.useState(null),[et,gt]=A.useState(null),[lt,We]=A.useState(null),[qe,Qe]=A.useState(null);return A.useEffect(()=>{n&&B!==null&&B.setOptions(n)},[B,n]),A.useEffect(()=>{B!==null&&typeof c<"u"&&B.setCenter(c)},[B,c]),A.useEffect(()=>{B&&o&&(ee!==null&&google.maps.event.removeListener(ee),re(google.maps.event.addListener(B,"dblclick",o)))},[o]),A.useEffect(()=>{B&&y&&(oe!==null&&google.maps.event.removeListener(oe),he(google.maps.event.addListener(B,"dragend",y)))},[y]),A.useEffect(()=>{B&&v&&(be!==null&&google.maps.event.removeListener(be),le(google.maps.event.addListener(B,"dragstart",v)))},[v]),A.useEffect(()=>{B&&I&&(ye!==null&&google.maps.event.removeListener(ye),fe(google.maps.event.addListener(B,"mousedown",I)))},[I]),A.useEffect(()=>{B&&S&&(ue!==null&&google.maps.event.removeListener(ue),xe(google.maps.event.addListener(B,"mousemove",S)))},[S]),A.useEffect(()=>{B&&C&&(ae!==null&&google.maps.event.removeListener(ae),Ee(google.maps.event.addListener(B,"mouseout",C)))},[C]),A.useEffect(()=>{B&&P&&(Me!==null&&google.maps.event.removeListener(Me),de(google.maps.event.addListener(B,"mouseover",P)))},[P]),A.useEffect(()=>{B&&N&&(ze!==null&&google.maps.event.removeListener(ze),$e(google.maps.event.addListener(B,"mouseup",N)))},[N]),A.useEffect(()=>{B&&D&&(et!==null&&google.maps.event.removeListener(et),gt(google.maps.event.addListener(B,"rightclick",D)))},[D]),A.useEffect(()=>{B&&h&&(lt!==null&&google.maps.event.removeListener(lt),We(google.maps.event.addListener(B,"click",h)))},[h]),A.useEffect(()=>{B&&m&&(qe!==null&&google.maps.event.removeListener(qe),Qe(google.maps.event.addListener(B,"drag",m)))},[m]),A.useEffect(()=>{B&&k&&(Y!==null&&google.maps.event.removeListener(Y),K(google.maps.event.addListener(B,"center_changed",k)))},[h]),A.useEffect(()=>{var Ve=W.current===null?null:new google.maps.Map(W.current,n);return z(Ve),Ve!==null&&F&&F(Ve),()=>{Ve!==null&&U&&U(Ve)}},[]),te.jsx("div",{id:r,ref:W,style:i,className:s,children:te.jsx(Si.Provider,{value:B,children:B!==null?t:null})})}A.memo(VDe);class WDe extends A.PureComponent{constructor(){super(...arguments),pn(this,"state",{map:null}),pn(this,"registeredEvents",[]),pn(this,"mapRef",null),pn(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),pn(this,"panTo",t=>{var n=this.getInstance();n&&n.panTo(t)}),pn(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),pn(this,"getRef",t=>{this.mapRef=t})}componentDidMount(){var t=this.getInstance();this.registeredEvents=Oi({updaterMap:uG,eventMap:cG,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{map:t}},this.setMapCallback)}componentDidUpdate(t){this.state.map!==null&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:uG,eventMap:cG,prevProps:t,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Di(this.registeredEvents))}render(){return te.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:te.jsx(Si.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function dG(e,t,n,r,i,s,c){try{var h=e[s](c),o=h.value}catch(m){return void n(m)}h.done?t(o):Promise.resolve(o).then(r,i)}function Xse(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function c(o){dG(s,r,i,c,h,"next",o)}function h(o){dG(s,r,i,c,h,"throw",o)}c(void 0)})}}function Yse(e){var{googleMapsApiKey:t,googleMapsClientId:n,version:r="weekly",language:i,region:s,libraries:c,channel:h,mapIds:o,authReferrerPolicy:m}=e,y=[];return os(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?y.push("key=".concat(t)):n&&y.push("client=".concat(n)),r&&y.push("v=".concat(r)),i&&y.push("language=".concat(i)),s&&y.push("region=".concat(s)),c&&c.length&&y.push("libraries=".concat(c.sort().join(","))),h&&y.push("channel=".concat(h)),o&&o.length&&y.push("map_ids=".concat(o.join(","))),m&&y.push("auth_referrer_policy=".concat(m)),y.push("loading=async"),y.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(y.join("&"))}var gf=typeof document<"u";function Jse(e){var{url:t,id:n,nonce:r}=e;return gf?new Promise(function(s,c){var h=document.getElementById(n),o=window;if(h){var m=h.getAttribute("data-state");if(h.src===t&&m!=="error"){if(m==="ready")return s(n);var y=o.initMap,v=h.onerror;o.initMap=function(){y&&y(),s(n)},h.onerror=function(C){v&&v(C),c(C)};return}else h.remove()}var S=document.createElement("script");S.type="text/javascript",S.src=t,S.id=n,S.async=!0,S.nonce=r||"",S.onerror=function(P){S.setAttribute("data-state","error"),c(P)},o.initMap=function(){S.setAttribute("data-state","ready"),s(n)},document.head.appendChild(S)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function hG(e){var t=e.href;return t&&(t.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:e.tagName.toLowerCase()==="style"&&e.styleSheet&&e.styleSheet.cssText&&e.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(e.styleSheet.cssText="",!0):e.tagName.toLowerCase()==="style"&&e.innerHTML&&e.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(e.innerHTML="",!0):e.tagName.toLowerCase()==="style"&&!e.styleSheet&&!e.innerHTML}function J7(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(i,s){return hG(i)||Reflect.apply(t,e,[i,s]),i};var n=e.appendChild.bind(e);e.appendChild=function(i){return hG(i)||Reflect.apply(n,e,[i]),i}}}var yx=!1;function Qse(){return te.jsx("div",{children:"Loading..."})}var oS={id:"script-loader",version:"weekly"};class GDe extends A.PureComponent{constructor(){super(...arguments),pn(this,"check",A.createRef()),pn(this,"state",{loaded:!1}),pn(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),pn(this,"isCleaningUp",Xse(function*(){function t(n){if(!yx)n();else if(gf)var r=window.setInterval(function(){yx||(window.clearInterval(r),n())},1)}return new Promise(t)})),pn(this,"cleanup",()=>{yx=!0;var t=document.getElementById(this.props.id);t&&t.parentNode&&t.parentNode.removeChild(t),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),pn(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&J7(),os(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var t={id:this.props.id,nonce:this.props.nonce,url:Yse(this.props)};Jse(t).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})})}componentDidMount(){if(gf){if(window.google&&window.google.maps&&!yx){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(t){this.props.libraries!==t.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),gf&&t.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(gf){this.cleanup();var t=()=>{this.check.current||(delete window.google,yx=!1)};window.setTimeout(t,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return te.jsxs(te.Fragment,{children:[te.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||te.jsx(Qse,{})]})}}pn(GDe,"defaultProps",oS);function KDe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function Q7(e,t){if(e==null)return{};var n,r,i=KDe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var pG;function qDe(e){var{id:t=oS.id,version:n=oS.version,nonce:r,googleMapsApiKey:i,googleMapsClientId:s,language:c,region:h,libraries:o,preventGoogleFontsLoading:m,channel:y,mapIds:v,authReferrerPolicy:S}=e,C=A.useRef(!1),[P,I]=A.useState(!1),[N,D]=A.useState(void 0);A.useEffect(function(){return C.current=!0,()=>{C.current=!1}},[]),A.useEffect(function(){gf&&m&&J7()},[m]),A.useEffect(function(){P&&os(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[P]);var k=Yse({version:n,googleMapsApiKey:i,googleMapsClientId:s,language:c,region:h,libraries:o,channel:y,mapIds:v,authReferrerPolicy:S});A.useEffect(function(){if(!gf)return;function B(){C.current&&(I(!0),pG=k)}if(window.google&&window.google.maps&&pG===k){B();return}Jse({id:t,url:k,nonce:r}).then(B).catch(function(W){C.current&&D(W),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(s||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(W)})},[t,k,r]);var F=A.useRef();return A.useEffect(function(){F.current&&o!==F.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),F.current=o},[o]),{isLoaded:P,loadError:N,url:k}}var XDe=["loadingElement","onLoad","onError","onUnmount","children"],YDe=te.jsx(Qse,{});function JDe(e){var{loadingElement:t,onLoad:n,onError:r,onUnmount:i,children:s}=e,c=Q7(e,XDe),{isLoaded:h,loadError:o}=qDe(c);return A.useEffect(function(){h&&typeof n=="function"&&n()},[h,n]),A.useEffect(function(){o&&typeof r=="function"&&r(o)},[o,r]),A.useEffect(function(){return()=>{i&&i()}},[i]),h?s:t||YDe}A.memo(JDe);function QDe(e,t,n,r){function i(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function h(y){try{m(r.next(y))}catch(v){c(v)}}function o(y){try{m(r.throw(y))}catch(v){c(v)}}function m(y){y.done?s(y.value):i(y.value).then(h,o)}m((r=r.apply(e,[])).next())})}function eLe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tLe=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var c=s[i];if(!e(t[c],n[c]))return!1}return!0}return t!==t&&n!==n},nLe=eLe(tLe),fG="__googleMapsScriptId",Qv;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(Qv||(Qv={}));class lg{constructor(t){var{apiKey:n,authReferrerPolicy:r,channel:i,client:s,id:c=fG,language:h,libraries:o=[],mapIds:m,nonce:y,region:v,retries:S=3,url:C="https://maps.googleapis.com/maps/api/js",version:P}=t;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=r,this.channel=i,this.client=s,this.id=c||fG,this.language=h,this.libraries=o,this.mapIds=m,this.nonce=y,this.region=v,this.retries=S,this.url=C,this.version=P,lg.instance){if(!nLe(this.options,lg.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(lg.instance.options)));return lg.instance}lg.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Qv.FAILURE:this.done?Qv.SUCCESS:this.loading?Qv.LOADING:Qv.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var t=this.url;return t+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(t+="&key=".concat(this.apiKey)),this.channel&&(t+="&channel=".concat(this.channel)),this.client&&(t+="&client=".concat(this.client)),this.libraries.length>0&&(t+="&libraries=".concat(this.libraries.join(","))),this.language&&(t+="&language=".concat(this.language)),this.region&&(t+="&region=".concat(this.region)),this.version&&(t+="&v=".concat(this.version)),this.mapIds&&(t+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(t+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),t}deleteScript(){var t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,n)=>{this.loadCallback(r=>{r?n(r.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,n;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(s=>!r[s]&&delete r[s]),!((n=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||n===void 0)&&n.importLibrary||(s=>{var c,h,o,m="The Google Maps JavaScript API",y="google",v="importLibrary",S="__ib__",C=document,P=window;P=P[y]||(P[y]={});var I=P.maps||(P.maps={}),N=new Set,D=new URLSearchParams,k=()=>c||(c=new Promise((F,U)=>QDe(this,void 0,void 0,function*(){var B;yield h=C.createElement("script"),h.id=this.id,D.set("libraries",[...N]+"");for(o in s)D.set(o.replace(/[A-Z]/g,z=>"_"+z[0].toLowerCase()),s[o]);D.set("callback",y+".maps."+S),h.src=this.url+"?"+D,I[S]=F,h.onerror=()=>c=U(Error(m+" could not load.")),h.nonce=this.nonce||((B=C.querySelector("script[nonce]"))===null||B===void 0?void 0:B.nonce)||"",C.head.append(h)})));I[v]?console.warn(m+" only loads once. Ignoring:",s):I[v]=function(F){for(var U=arguments.length,B=new Array(U>1?U-1:0),z=1;z<U;z++)B[z-1]=arguments[z];return N.add(F)&&k().then(()=>I[v](F,...B))}})(r);var i=this.libraries.map(s=>this.importLibrary(s));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),s=>{var c=new ErrorEvent("error",{error:s});this.loadErrorCallback(c)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var rLe=["maps"];function iLe(e){var{id:t=oS.id,version:n=oS.version,nonce:r,googleMapsApiKey:i,language:s,region:c,libraries:h=rLe,preventGoogleFontsLoading:o,mapIds:m,authReferrerPolicy:y}=e,v=A.useRef(!1),[S,C]=A.useState(!1),[P,I]=A.useState(void 0);A.useEffect(function(){return v.current=!0,()=>{v.current=!1}},[]);var N=A.useMemo(()=>new lg({id:t,apiKey:i,version:n,libraries:h,language:s||"en",region:c||"US",mapIds:m||[],nonce:r||"",authReferrerPolicy:y||"origin"}),[t,i,n,h,s,c,m,r,y]);A.useEffect(function(){S||N.load().then(()=>{v.current&&C(!0)}).catch(F=>{I(F)})},[]),A.useEffect(()=>{gf&&o&&J7()},[o]);var D=A.useRef();return A.useEffect(()=>{D.current&&h!==D.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),D.current=h},[h]),{isLoaded:S,loadError:P}}function mG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mG(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var gG={},yG={options(e,t){e.setOptions(t)}};function oLe(e){var{options:t,onLoad:n,onUnmount:r}=e,i=A.useContext(Si),[s,c]=A.useState(null);return A.useEffect(()=>{s!==null&&s.setMap(i)},[i]),A.useEffect(()=>{t&&s!==null&&s.setOptions(t)},[s,t]),A.useEffect(()=>{var h=new google.maps.TrafficLayer(mT(mT({},t),{},{map:i}));return c(h),n&&n(h),()=>{s!==null&&(r&&r(s),s.setMap(null))}},[]),null}A.memo(oLe);class aLe extends A.PureComponent{constructor(){super(...arguments),pn(this,"state",{trafficLayer:null}),pn(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),pn(this,"registeredEvents",[])}componentDidMount(){var t=new google.maps.TrafficLayer(mT(mT({},this.props.options),{},{map:this.context}));this.registeredEvents=Oi({updaterMap:yG,eventMap:gG,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{trafficLayer:t}},this.setTrafficLayerCallback)}componentDidUpdate(t){this.state.trafficLayer!==null&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:yG,eventMap:gG,prevProps:t,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Di(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}pn(aLe,"contextType",Si);function sLe(e){var{onLoad:t,onUnmount:n}=e,r=A.useContext(Si),[i,s]=A.useState(null);return A.useEffect(()=>{i!==null&&i.setMap(r)},[r]),A.useEffect(()=>{var c=new google.maps.BicyclingLayer;return s(c),c.setMap(r),t&&t(c),()=>{c!==null&&(n&&n(c),c.setMap(null))}},[]),null}A.memo(sLe);class lLe extends A.PureComponent{constructor(){super(...arguments),pn(this,"state",{bicyclingLayer:null}),pn(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var t=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:t}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}pn(lLe,"contextType",Si);function cLe(e){var{onLoad:t,onUnmount:n}=e,r=A.useContext(Si),[i,s]=A.useState(null);return A.useEffect(()=>{i!==null&&i.setMap(r)},[r]),A.useEffect(()=>{var c=new google.maps.TransitLayer;return s(c),c.setMap(r),t&&t(c),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}A.memo(cLe);class uLe extends A.PureComponent{constructor(){super(...arguments),pn(this,"state",{transitLayer:null}),pn(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var t=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:t}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}pn(uLe,"contextType",Si);function vG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vG(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var bG={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},_G={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};function dLe(e){var{options:t,drawingMode:n,onCircleComplete:r,onMarkerComplete:i,onOverlayComplete:s,onPolygonComplete:c,onPolylineComplete:h,onRectangleComplete:o,onLoad:m,onUnmount:y}=e,v=A.useContext(Si),[S,C]=A.useState(null),[P,I]=A.useState(null),[N,D]=A.useState(null),[k,F]=A.useState(null),[U,B]=A.useState(null),[z,W]=A.useState(null),[Y,K]=A.useState(null);return A.useEffect(()=>{S!==null&&S.setMap(v)},[v]),A.useEffect(()=>{t&&S!==null&&S.setOptions(t)},[S,t]),A.useEffect(()=>{S!==null&&S.setDrawingMode(n??null)},[S,n]),A.useEffect(()=>{S&&r&&(P!==null&&google.maps.event.removeListener(P),I(google.maps.event.addListener(S,"circlecomplete",r)))},[S,r]),A.useEffect(()=>{S&&i&&(N!==null&&google.maps.event.removeListener(N),D(google.maps.event.addListener(S,"markercomplete",i)))},[S,i]),A.useEffect(()=>{S&&s&&(k!==null&&google.maps.event.removeListener(k),F(google.maps.event.addListener(S,"overlaycomplete",s)))},[S,s]),A.useEffect(()=>{S&&c&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(S,"polygoncomplete",c)))},[S,c]),A.useEffect(()=>{S&&h&&(z!==null&&google.maps.event.removeListener(z),W(google.maps.event.addListener(S,"polylinecomplete",h)))},[S,h]),A.useEffect(()=>{S&&o&&(Y!==null&&google.maps.event.removeListener(Y),K(google.maps.event.addListener(S,"rectanglecomplete",o)))},[S,o]),A.useEffect(()=>{os(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var ee=new google.maps.drawing.DrawingManager(gT(gT({},t),{},{map:v}));return n&&ee.setDrawingMode(n),r&&I(google.maps.event.addListener(ee,"circlecomplete",r)),i&&D(google.maps.event.addListener(ee,"markercomplete",i)),s&&F(google.maps.event.addListener(ee,"overlaycomplete",s)),c&&B(google.maps.event.addListener(ee,"polygoncomplete",c)),h&&W(google.maps.event.addListener(ee,"polylinecomplete",h)),o&&K(google.maps.event.addListener(ee,"rectanglecomplete",o)),C(ee),m&&m(ee),()=>{S!==null&&(P&&google.maps.event.removeListener(P),N&&google.maps.event.removeListener(N),k&&google.maps.event.removeListener(k),U&&google.maps.event.removeListener(U),z&&google.maps.event.removeListener(z),Y&&google.maps.event.removeListener(Y),y&&y(S),S.setMap(null))}},[]),null}A.memo(dLe);class hLe extends A.PureComponent{constructor(t){super(t),pn(this,"registeredEvents",[]),pn(this,"state",{drawingManager:null}),pn(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),os(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var t=new google.maps.drawing.DrawingManager(gT(gT({},this.props.options),{},{map:this.context}));this.registeredEvents=Oi({updaterMap:_G,eventMap:bG,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{drawingManager:t}},this.setDrawingManagerCallback)}componentDidUpdate(t){this.state.drawingManager!==null&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:_G,eventMap:bG,prevProps:t,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Di(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}pn(hLe,"contextType",Si);function xG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function g0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xG(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var wG={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},SG={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},yT={};function pLe(e){var{position:t,options:n,clusterer:r,noClustererRedraw:i,children:s,draggable:c,visible:h,animation:o,clickable:m,cursor:y,icon:v,label:S,opacity:C,shape:P,title:I,zIndex:N,onClick:D,onDblClick:k,onDrag:F,onDragEnd:U,onDragStart:B,onMouseOut:z,onMouseOver:W,onMouseUp:Y,onMouseDown:K,onRightClick:ee,onClickableChanged:re,onCursorChanged:oe,onAnimationChanged:he,onDraggableChanged:be,onFlatChanged:le,onIconChanged:ye,onPositionChanged:fe,onShapeChanged:ue,onTitleChanged:xe,onVisibleChanged:ae,onZindexChanged:Ee,onLoad:Me,onUnmount:de}=e,ze=A.useContext(Si),[$e,et]=A.useState(null),[gt,lt]=A.useState(null),[We,qe]=A.useState(null),[Qe,Ve]=A.useState(null),[yt,it]=A.useState(null),[pt,$t]=A.useState(null),[Jt,on]=A.useState(null),[ln,Lt]=A.useState(null),[en,Kt]=A.useState(null),[Zt,En]=A.useState(null),[Fn,je]=A.useState(null),[me,we]=A.useState(null),[Ne,Xe]=A.useState(null),[ot,st]=A.useState(null),[_t,nt]=A.useState(null),[St,Et]=A.useState(null),[ft,jt]=A.useState(null),[Bn,rr]=A.useState(null),[dr,ar]=A.useState(null),[un,hn]=A.useState(null),[vn,In]=A.useState(null),[Sn,an]=A.useState(null);A.useEffect(()=>{$e!==null&&$e.setMap(ze)},[ze]),A.useEffect(()=>{typeof n<"u"&&$e!==null&&$e.setOptions(n)},[$e,n]),A.useEffect(()=>{typeof c<"u"&&$e!==null&&$e.setDraggable(c)},[$e,c]),A.useEffect(()=>{t&&$e!==null&&$e.setPosition(t)},[$e,t]),A.useEffect(()=>{typeof h<"u"&&$e!==null&&$e.setVisible(h)},[$e,h]),A.useEffect(()=>{$e==null||$e.setAnimation(o)},[$e,o]),A.useEffect(()=>{$e&&m!==void 0&&$e.setClickable(m)},[$e,m]),A.useEffect(()=>{$e&&y!==void 0&&$e.setCursor(y)},[$e,y]),A.useEffect(()=>{$e&&v!==void 0&&$e.setIcon(v)},[$e,v]),A.useEffect(()=>{$e&&S!==void 0&&$e.setLabel(S)},[$e,S]),A.useEffect(()=>{$e&&C!==void 0&&$e.setOpacity(C)},[$e,C]),A.useEffect(()=>{$e&&P!==void 0&&$e.setShape(P)},[$e,P]),A.useEffect(()=>{$e&&I!==void 0&&$e.setTitle(I)},[$e,I]),A.useEffect(()=>{$e&&N!==void 0&&$e.setZIndex(N)},[$e,N]),A.useEffect(()=>{$e&&k&&(gt!==null&&google.maps.event.removeListener(gt),lt(google.maps.event.addListener($e,"dblclick",k)))},[k]),A.useEffect(()=>{$e&&U&&(We!==null&&google.maps.event.removeListener(We),qe(google.maps.event.addListener($e,"dragend",U)))},[U]),A.useEffect(()=>{$e&&B&&(Qe!==null&&google.maps.event.removeListener(Qe),Ve(google.maps.event.addListener($e,"dragstart",B)))},[B]),A.useEffect(()=>{$e&&K&&(yt!==null&&google.maps.event.removeListener(yt),it(google.maps.event.addListener($e,"mousedown",K)))},[K]),A.useEffect(()=>{$e&&z&&(pt!==null&&google.maps.event.removeListener(pt),$t(google.maps.event.addListener($e,"mouseout",z)))},[z]),A.useEffect(()=>{$e&&W&&(Jt!==null&&google.maps.event.removeListener(Jt),on(google.maps.event.addListener($e,"mouseover",W)))},[W]),A.useEffect(()=>{$e&&Y&&(ln!==null&&google.maps.event.removeListener(ln),Lt(google.maps.event.addListener($e,"mouseup",Y)))},[Y]),A.useEffect(()=>{$e&&ee&&(en!==null&&google.maps.event.removeListener(en),Kt(google.maps.event.addListener($e,"rightclick",ee)))},[ee]),A.useEffect(()=>{$e&&D&&(Zt!==null&&google.maps.event.removeListener(Zt),En(google.maps.event.addListener($e,"click",D)))},[D]),A.useEffect(()=>{$e&&F&&(Fn!==null&&google.maps.event.removeListener(Fn),je(google.maps.event.addListener($e,"drag",F)))},[F]),A.useEffect(()=>{$e&&re&&(me!==null&&google.maps.event.removeListener(me),we(google.maps.event.addListener($e,"clickable_changed",re)))},[re]),A.useEffect(()=>{$e&&oe&&(Ne!==null&&google.maps.event.removeListener(Ne),Xe(google.maps.event.addListener($e,"cursor_changed",oe)))},[oe]),A.useEffect(()=>{$e&&he&&(ot!==null&&google.maps.event.removeListener(ot),st(google.maps.event.addListener($e,"animation_changed",he)))},[he]),A.useEffect(()=>{$e&&be&&(_t!==null&&google.maps.event.removeListener(_t),nt(google.maps.event.addListener($e,"draggable_changed",be)))},[be]),A.useEffect(()=>{$e&&le&&(St!==null&&google.maps.event.removeListener(St),Et(google.maps.event.addListener($e,"flat_changed",le)))},[le]),A.useEffect(()=>{$e&&ye&&(ft!==null&&google.maps.event.removeListener(ft),jt(google.maps.event.addListener($e,"icon_changed",ye)))},[ye]),A.useEffect(()=>{$e&&fe&&(Bn!==null&&google.maps.event.removeListener(Bn),rr(google.maps.event.addListener($e,"position_changed",fe)))},[fe]),A.useEffect(()=>{$e&&ue&&(dr!==null&&google.maps.event.removeListener(dr),ar(google.maps.event.addListener($e,"shape_changed",ue)))},[ue]),A.useEffect(()=>{$e&&xe&&(un!==null&&google.maps.event.removeListener(un),hn(google.maps.event.addListener($e,"title_changed",xe)))},[xe]),A.useEffect(()=>{$e&&ae&&(vn!==null&&google.maps.event.removeListener(vn),In(google.maps.event.addListener($e,"visible_changed",ae)))},[ae]),A.useEffect(()=>{$e&&Ee&&(Sn!==null&&google.maps.event.removeListener(Sn),an(google.maps.event.addListener($e,"zindex_changed",Ee)))},[Ee]),A.useEffect(()=>{var hr=g0(g0(g0({},n||yT),r?yT:{map:ze}),{},{position:t}),Ht=new google.maps.Marker(hr);return r?r.addMarker(Ht,!!i):Ht.setMap(ze),t&&Ht.setPosition(t),typeof h<"u"&&Ht.setVisible(h),typeof c<"u"&&Ht.setDraggable(c),typeof m<"u"&&Ht.setClickable(m),typeof y=="string"&&Ht.setCursor(y),v&&Ht.setIcon(v),typeof S<"u"&&Ht.setLabel(S),typeof C<"u"&&Ht.setOpacity(C),P&&Ht.setShape(P),typeof I=="string"&&Ht.setTitle(I),typeof N=="number"&&Ht.setZIndex(N),k&&lt(google.maps.event.addListener(Ht,"dblclick",k)),U&&qe(google.maps.event.addListener(Ht,"dragend",U)),B&&Ve(google.maps.event.addListener(Ht,"dragstart",B)),K&&it(google.maps.event.addListener(Ht,"mousedown",K)),z&&$t(google.maps.event.addListener(Ht,"mouseout",z)),W&&on(google.maps.event.addListener(Ht,"mouseover",W)),Y&&Lt(google.maps.event.addListener(Ht,"mouseup",Y)),ee&&Kt(google.maps.event.addListener(Ht,"rightclick",ee)),D&&En(google.maps.event.addListener(Ht,"click",D)),F&&je(google.maps.event.addListener(Ht,"drag",F)),re&&we(google.maps.event.addListener(Ht,"clickable_changed",re)),oe&&Xe(google.maps.event.addListener(Ht,"cursor_changed",oe)),he&&st(google.maps.event.addListener(Ht,"animation_changed",he)),be&&nt(google.maps.event.addListener(Ht,"draggable_changed",be)),le&&Et(google.maps.event.addListener(Ht,"flat_changed",le)),ye&&jt(google.maps.event.addListener(Ht,"icon_changed",ye)),fe&&rr(google.maps.event.addListener(Ht,"position_changed",fe)),ue&&ar(google.maps.event.addListener(Ht,"shape_changed",ue)),xe&&hn(google.maps.event.addListener(Ht,"title_changed",xe)),ae&&In(google.maps.event.addListener(Ht,"visible_changed",ae)),Ee&&an(google.maps.event.addListener(Ht,"zindex_changed",Ee)),et(Ht),Me&&Me(Ht),()=>{gt!==null&&google.maps.event.removeListener(gt),We!==null&&google.maps.event.removeListener(We),Qe!==null&&google.maps.event.removeListener(Qe),yt!==null&&google.maps.event.removeListener(yt),pt!==null&&google.maps.event.removeListener(pt),Jt!==null&&google.maps.event.removeListener(Jt),ln!==null&&google.maps.event.removeListener(ln),en!==null&&google.maps.event.removeListener(en),Zt!==null&&google.maps.event.removeListener(Zt),me!==null&&google.maps.event.removeListener(me),Ne!==null&&google.maps.event.removeListener(Ne),ot!==null&&google.maps.event.removeListener(ot),_t!==null&&google.maps.event.removeListener(_t),St!==null&&google.maps.event.removeListener(St),ft!==null&&google.maps.event.removeListener(ft),Bn!==null&&google.maps.event.removeListener(Bn),un!==null&&google.maps.event.removeListener(un),vn!==null&&google.maps.event.removeListener(vn),Sn!==null&&google.maps.event.removeListener(Sn),de&&de(Ht),r?r.removeMarker(Ht,!!i):Ht&&Ht.setMap(null)}},[]);var kn=A.useMemo(()=>s?A.Children.map(s,hr=>{if(!A.isValidElement(hr))return hr;var Ht=hr;return A.cloneElement(Ht,{anchor:$e})}):null,[s,$e]);return te.jsx(te.Fragment,{children:kn})||null}A.memo(pLe);class ele extends A.PureComponent{constructor(){super(...arguments),pn(this,"registeredEvents",[])}componentDidMount(){var t=this;return Xse(function*(){var n=g0(g0(g0({},t.props.options||yT),t.props.clusterer?yT:{map:t.context}),{},{position:t.props.position});t.marker=new google.maps.Marker(n),t.props.clusterer?t.props.clusterer.addMarker(t.marker,!!t.props.noClustererRedraw):t.marker.setMap(t.context),t.registeredEvents=Oi({updaterMap:SG,eventMap:wG,prevProps:{},nextProps:t.props,instance:t.marker}),t.props.onLoad&&t.props.onLoad(t.marker)})()}componentDidUpdate(t){this.marker&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:SG,eventMap:wG,prevProps:t,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Di(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var t=this.props.children?A.Children.map(this.props.children,n=>{if(!A.isValidElement(n))return n;var r=n;return A.cloneElement(r,{anchor:this.marker})}):null;return t||null}}pn(ele,"contextType",Si);var fLe=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(t){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),i=this.cluster.getBounds(),s=n.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(i),this.timeOut=window.setTimeout(function(){var c=n.getMap();if(c!==null){"fitBounds"in c&&c.fitBounds(i);var h=c.getZoom()||0;r!==null&&h>r&&c.setZoom(r+1)}},100)}t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var t;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(t=this.getPanes())===null||t===void 0||t.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var t=this.getPosFromLatLng(this.center);this.div.style.top=t!==null?"".concat(t.y,"px"):"0",this.div.style.left=t!==null?"".concat(t.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var t,n,r,i,s,c;if(this.div&&this.center){var h=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,o=this.backgroundPosition.split(" "),m=parseInt(((t=o[0])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),y=parseInt(((n=o[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),v=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(v!==null?"".concat(v.y,"px"):"0","; left: ").concat(v!==null?"".concat(v.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var S=document.createElement("img");S.alt=h,S.src=this.url,S.width=this.width,S.height=this.height,S.setAttribute("style","position: absolute; top: ".concat(y,"px; left: ").concat(m,"px")),this.cluster.getClusterer().enableRetinaIcons||(S.style.clip="rect(-".concat(y,"px, -").concat(m+this.width,"px, -").concat(y+this.height,", -").concat(m,")"));var C=document.createElement("div");C.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(C.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(C.innerHTML="".concat((c=this.sums)===null||c===void 0?void 0:c.html)),this.div.innerHTML="",this.div.appendChild(S),this.div.appendChild(C),this.div.title=h,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(t){this.sums=t;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,t.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},e.prototype.setCenter=function(t){this.center=t},e.prototype.getPosFromLatLng=function(t){var n=this.getProjection().fromLatLngToDivPixel(t);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},e}(),mLe=function(){function e(t){this.markerClusterer=t,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new fLe(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,i=n;r<i.length;r++){var s=i[r],c=s.getPosition();c&&t.extend(c)}return t},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(t){var n;if(this.isMarkerAlreadyAdded(t))return!1;if(this.center){if(this.averageCenter){var r=t.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=t.getPosition();r&&(this.center=r,this.calculateBounds())}t.isAdded=!0,this.markers.push(t);var s=this.markers.length,c=this.markerClusterer.getMaxZoom(),h=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(c!==null&&typeof h<"u"&&h>c)t.getMap()!==this.map&&t.setMap(this.map);else if(s<this.minClusterSize)t.getMap()!==this.map&&t.setMap(this.map);else if(s===this.minClusterSize)for(var o=0,m=this.markers;o<m.length;o++){var y=m[o];y.setMap(null)}else t.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(t){if(this.bounds!==null){var n=t.getPosition();if(n)return this.bounds.contains(n)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var t,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},e.prototype.isMarkerAlreadyAdded=function(t){if(this.markers.includes)return this.markers.includes(t);for(var n=0;n<this.markers.length;n++)if(t===this.markers[n])return!0;return!1},e}();function gLe(e,t){var n=e.length,r=n.toString().length,i=Math.min(r,t);return{text:n.toString(),index:i,title:""}}var yLe=2e3,vLe=500,bLe="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",_Le="png",xLe=[53,56,66,78,90],wLe="cluster",tle=function(){function e(t,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||bLe,this.imageExtension=r.imageExtension||_Le,this.imageSizes=r.imageSizes||xLe,this.calculator=r.calculator||gLe,this.batchSize=r.batchSize||yLe,this.batchSizeIE=r.batchSizeIE||vLe,this.clusterClass=r.clusterClass||wLe,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var t,n;this.resetViewport(!1),(((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var t=this.getMap();this.activeMap=t,this.ready=!0,this.repaint(),t!==null&&(this.listeners=[google.maps.event.addListener(t,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(t,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var t=0,n=this.markers;t<n.length;t++){var r=n[t];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,s=this.clusters;i<s.length;i++){var c=s[i];c.remove()}this.clusters=[];for(var h=0,o=this.listeners;h<o.length;h++){var m=o[h];google.maps.event.removeListener(m)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var t=0;t<this.imageSizes.length;t++)this.styles.push({url:"".concat(this.imagePath+(t+1),".").concat(this.imageExtension),height:this.imageSizes[t]||0,width:this.imageSizes[t]||0})},e.prototype.fitMapToMarkers=function(){for(var t=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,i=t;r<i.length;r++){var s=i[r],c=s.getPosition();c&&n.extend(c)}var h=this.getMap();h!==null&&"fitBounds"in h&&h.fitBounds(n)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(t){this.gridSize=t},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(t){this.minClusterSize=t},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(t){this.maxZoom=t},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(t){this.styles=t},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(t){this.title=t},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(t){this.zoomOnClick=t},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(t){this.averageCenter=t},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(t){this.ignoreHidden=t},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons=t},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(t){this.imageExtension=t},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(t){this.imagePath=t},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(t){this.imageSizes=t},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(t){this.calculator=t},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(t){this.batchSizeIE=t},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(t){this.clusterClass=t},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(t,n){this.pushMarkerTo(t),n||this.redraw()},e.prototype.addMarkers=function(t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];i&&this.pushMarkerTo(i)}n||this.redraw()},e.prototype.pushMarkerTo=function(t){var n=this;t.getDraggable()&&google.maps.event.addListener(t,"dragend",function(){n.ready&&(t.isAdded=!1,n.repaint())}),t.isAdded=!1,this.markers.push(t)},e.prototype.removeMarker_=function(t){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(t);else for(var r=0;r<this.markers.length;r++)if(t===this.markers[r]){n=r;break}return n===-1?!1:(t.setMap(null),this.markers.splice(n,1),!0)},e.prototype.removeMarker=function(t,n){var r=this.removeMarker_(t);return!n&&r&&this.repaint(),r},e.prototype.removeMarkers=function(t,n){for(var r=!1,i=0,s=t;i<s.length;i++){var c=s[i];r=r||this.removeMarker_(c)}return!n&&r&&this.repaint(),r},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var t=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=t;r<i.length;r++){var s=i[r];s.remove()}},0)},e.prototype.getExtendedBounds=function(t){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var s=n.fromDivPixelToLatLng(r);s!==null&&t.extend(s)}if(i!==null){var c=n.fromDivPixelToLatLng(i);c!==null&&t.extend(c)}return t},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(t){for(var n=0,r=this.clusters;n<r.length;n++){var i=r[n];i.remove()}this.clusters=[];for(var s=0,c=this.markers;s<c.length;s++){var h=c[s];h.isAdded=!1,t&&h.setMap(null)}},e.prototype.distanceBetweenPoints=function(t,n){var r=6371,i=(n.lat()-t.lat())*Math.PI/180,s=(n.lng()-t.lng())*Math.PI/180,c=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return r*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},e.prototype.isMarkerInBounds=function(t,n){var r=t.getPosition();return r?n.contains(r):!1},e.prototype.addToClosestCluster=function(t){for(var n,r=4e4,i=null,s=0,c=this.clusters;s<c.length;s++){var h=c[s];n=h;var o=n.getCenter(),m=t.getPosition();if(o&&m){var y=this.distanceBetweenPoints(o,m);y<r&&(r=y,i=n)}}i&&i.isMarkerInClusterBounds(t)?i.addMarker(t):(n=new mLe(this),n.addMarker(t),this.clusters.push(n))},e.prototype.createClusters=function(t){var n=this;if(this.ready){t===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,s=(r==null?void 0:r.getZoom())||0,c=s>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),h=this.getExtendedBounds(c),o=Math.min(t+this.batchSize,this.markers.length),m=t;m<o;m++){var y=this.markers[m];y&&!y.isAdded&&this.isMarkerInBounds(y,h)&&(!this.ignoreHidden||this.ignoreHidden&&y.getVisible())&&this.addToClosestCluster(y)}if(o<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(o)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var v=0,S=this.clusters;v<S.length;v++){var C=S[v];C.updateIcon()}}}},e.prototype.extend=function(t,n){return(function(i){for(var s in i.prototype){var c=s;this.prototype[c]=i.prototype[c]}return this}).apply(t,[n])},e}();function AG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SLe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AG(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Hc={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},to={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},ALe={};function CLe(e){var{children:t,options:n,averageCenter:r,batchSizeIE:i,calculator:s,clusterClass:c,enableRetinaIcons:h,gridSize:o,ignoreHidden:m,imageExtension:y,imagePath:v,imageSizes:S,maxZoom:C,minimumClusterSize:P,styles:I,title:N,zoomOnClick:D,onClick:k,onClusteringBegin:F,onClusteringEnd:U,onMouseOver:B,onMouseOut:z,onLoad:W,onUnmount:Y}=e,[K,ee]=A.useState(null),re=A.useContext(Si),[oe,he]=A.useState(null),[be,le]=A.useState(null),[ye,fe]=A.useState(null),[ue,xe]=A.useState(null),[ae,Ee]=A.useState(null);return A.useEffect(()=>{K&&z&&(ue!==null&&google.maps.event.removeListener(ue),xe(google.maps.event.addListener(K,Hc.onMouseOut,z)))},[z]),A.useEffect(()=>{K&&B&&(ae!==null&&google.maps.event.removeListener(ae),Ee(google.maps.event.addListener(K,Hc.onMouseOver,B)))},[B]),A.useEffect(()=>{K&&k&&(oe!==null&&google.maps.event.removeListener(oe),he(google.maps.event.addListener(K,Hc.onClick,k)))},[k]),A.useEffect(()=>{K&&F&&(be!==null&&google.maps.event.removeListener(be),le(google.maps.event.addListener(K,Hc.onClusteringBegin,F)))},[F]),A.useEffect(()=>{K&&U&&(ye!==null&&google.maps.event.removeListener(ye),le(google.maps.event.addListener(K,Hc.onClusteringEnd,U)))},[U]),A.useEffect(()=>{typeof r<"u"&&K!==null&&to.averageCenter(K,r)},[K,r]),A.useEffect(()=>{typeof i<"u"&&K!==null&&to.batchSizeIE(K,i)},[K,i]),A.useEffect(()=>{typeof s<"u"&&K!==null&&to.calculator(K,s)},[K,s]),A.useEffect(()=>{typeof c<"u"&&K!==null&&to.clusterClass(K,c)},[K,c]),A.useEffect(()=>{typeof h<"u"&&K!==null&&to.enableRetinaIcons(K,h)},[K,h]),A.useEffect(()=>{typeof o<"u"&&K!==null&&to.gridSize(K,o)},[K,o]),A.useEffect(()=>{typeof m<"u"&&K!==null&&to.ignoreHidden(K,m)},[K,m]),A.useEffect(()=>{typeof y<"u"&&K!==null&&to.imageExtension(K,y)},[K,y]),A.useEffect(()=>{typeof v<"u"&&K!==null&&to.imagePath(K,v)},[K,v]),A.useEffect(()=>{typeof S<"u"&&K!==null&&to.imageSizes(K,S)},[K,S]),A.useEffect(()=>{typeof C<"u"&&K!==null&&to.maxZoom(K,C)},[K,C]),A.useEffect(()=>{typeof P<"u"&&K!==null&&to.minimumClusterSize(K,P)},[K,P]),A.useEffect(()=>{typeof I<"u"&&K!==null&&to.styles(K,I)},[K,I]),A.useEffect(()=>{typeof N<"u"&&K!==null&&to.title(K,N)},[K,N]),A.useEffect(()=>{typeof D<"u"&&K!==null&&to.zoomOnClick(K,D)},[K,D]),A.useEffect(()=>{if(re){var Me=SLe({},n||ALe),de=new tle(re,[],Me);return r&&to.averageCenter(de,r),i&&to.batchSizeIE(de,i),s&&to.calculator(de,s),c&&to.clusterClass(de,c),h&&to.enableRetinaIcons(de,h),o&&to.gridSize(de,o),m&&to.ignoreHidden(de,m),y&&to.imageExtension(de,y),v&&to.imagePath(de,v),S&&to.imageSizes(de,S),C&&to.maxZoom(de,C),P&&to.minimumClusterSize(de,P),I&&to.styles(de,I),N&&to.title(de,N),D&&to.zoomOnClick(de,D),z&&xe(google.maps.event.addListener(de,Hc.onMouseOut,z)),B&&Ee(google.maps.event.addListener(de,Hc.onMouseOver,B)),k&&he(google.maps.event.addListener(de,Hc.onClick,k)),F&&le(google.maps.event.addListener(de,Hc.onClusteringBegin,F)),U&&fe(google.maps.event.addListener(de,Hc.onClusteringEnd,U)),ee(de),W&&W(de),()=>{ue!==null&&google.maps.event.removeListener(ue),ae!==null&&google.maps.event.removeListener(ae),oe!==null&&google.maps.event.removeListener(oe),be!==null&&google.maps.event.removeListener(be),ye!==null&&google.maps.event.removeListener(ye),Y&&Y(de)}}},[]),K!==null&&t(K)||null}A.memo(CLe);class MLe extends A.PureComponent{constructor(){super(...arguments),pn(this,"registeredEvents",[]),pn(this,"state",{markerClusterer:null}),pn(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var t=new tle(this.context,[],this.props.options);this.registeredEvents=Oi({updaterMap:to,eventMap:Hc,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({markerClusterer:t}),this.setClustererCallback)}}componentDidUpdate(t){this.state.markerClusterer&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:to,eventMap:Hc,prevProps:t,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Di(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}pn(MLe,"contextType",Si);function CG(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var nle=function(){function e(t){t===void 0&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",t.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),typeof t.visible>"u"&&(typeof t.isHidden>"u"?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var t=this,n=function(y){y.returnValue=!1,y.preventDefault&&y.preventDefault(),t.enableEventPropagation||CG(y)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],c=0,h=s;c<h.length;c++){var o=h[c];this.eventListeners.push(google.maps.event.addListener(this.div,o,CG))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){t.div&&(t.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var t="";return this.closeBoxURL!==""&&(t='<img alt=""',t+=' aria-hidden="true"',t+=" src='"+this.closeBoxURL+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin+";",t+="'>"),t},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(t){if(this.div&&!t){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,i=0,s=n.getBounds();s&&!s.contains(this.position)&&n.setCenter(this.position);var c=n.getDiv(),h=c.offsetWidth,o=c.offsetHeight,m=this.pixelOffset.width,y=this.pixelOffset.height,v=this.div.offsetWidth,S=this.div.offsetHeight,C=this.infoBoxClearance.width,P=this.infoBoxClearance.height,I=this.getProjection(),N=I.fromLatLngToContainerPixel(this.position);N!==null&&(N.x<-m+C?r=N.x+m-C:N.x+v+m+C>h&&(r=N.x+v+m+C-h),this.alignBottom?N.y<-y+P+S?i=N.y+y-P-S:N.y+y+P>o&&(i=N.y+y+P-o):N.y<-y+P?i=N.y+y-P:N.y+S+y+P>o&&(i=N.y+S+y+P-o)),r===0&&i===0||n.panBy(r,i)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var t=this.boxStyle;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this.div.style[n]=t[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var t={top:0,bottom:0,left:0,right:0};if(!this.div)return t;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(t.top=parseInt(r.borderTopWidth||"",10)||0,t.bottom=parseInt(r.borderBottomWidth||"",10)||0,t.left=parseInt(r.borderLeftWidth||"",10)||0,t.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(t.top=parseInt(i.borderTopWidth||"",10)||0,t.bottom=parseInt(i.borderBottomWidth||"",10)||0,t.left=parseInt(i.borderLeftWidth||"",10)||0,t.right=parseInt(i.borderRightWidth||"",10)||0)}return t},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var t=this.getProjection(),n=t.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(t){t===void 0&&(t={}),typeof t.boxClass<"u"&&(this.boxClass=t.boxClass,this.setBoxStyle()),typeof t.boxStyle<"u"&&(this.boxStyle=t.boxStyle,this.setBoxStyle()),typeof t.content<"u"&&this.setContent(t.content),typeof t.disableAutoPan<"u"&&(this.disableAutoPan=t.disableAutoPan),typeof t.maxWidth<"u"&&(this.maxWidth=t.maxWidth),typeof t.pixelOffset<"u"&&(this.pixelOffset=t.pixelOffset),typeof t.alignBottom<"u"&&(this.alignBottom=t.alignBottom),typeof t.position<"u"&&this.setPosition(t.position),typeof t.zIndex<"u"&&this.setZIndex(t.zIndex),typeof t.closeBoxMargin<"u"&&(this.closeBoxMargin=t.closeBoxMargin),typeof t.closeBoxURL<"u"&&(this.closeBoxURL=t.closeBoxURL),typeof t.infoBoxClearance<"u"&&(this.infoBoxClearance=t.infoBoxClearance),typeof t.isHidden<"u"&&(this.isHidden=t.isHidden),typeof t.visible<"u"&&(this.isHidden=!t.visible),typeof t.enableEventPropagation<"u"&&(this.enableEventPropagation=t.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(t){this.content=t,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(t){this.position=t,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(t){this.isHidden=!t,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(t){this.zIndex=t,this.div&&(this.div.style.zIndex=t+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var t=this.getMap();return typeof t>"u"||t===null?!1:!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(t,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(t),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var t=0,n=this.eventListeners;t<n.length;t++){var r=n[t];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(t,n){return(function(i){for(var s in i.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=i.prototype[s]);return this}).apply(t,[n])},e}(),ELe=["position"],TLe=["position"];function MG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MG(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var EG={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},TG={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},PLe={};function ILe(e){var{children:t,anchor:n,options:r,position:i,zIndex:s,onCloseClick:c,onDomReady:h,onContentChanged:o,onPositionChanged:m,onZindexChanged:y,onLoad:v,onUnmount:S}=e,C=A.useContext(Si),[P,I]=A.useState(null),[N,D]=A.useState(null),[k,F]=A.useState(null),[U,B]=A.useState(null),[z,W]=A.useState(null),[Y,K]=A.useState(null),ee=A.useRef(null);return A.useEffect(()=>{C&&P!==null&&(P.close(),n?P.open(C,n):P.getPosition()&&P.open(C))},[C,P,n]),A.useEffect(()=>{r&&P!==null&&P.setOptions(r)},[P,r]),A.useEffect(()=>{if(i&&P!==null){var re=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);P.setPosition(re)}},[i]),A.useEffect(()=>{typeof s=="number"&&P!==null&&P.setZIndex(s)},[s]),A.useEffect(()=>{P&&c&&(N!==null&&google.maps.event.removeListener(N),D(google.maps.event.addListener(P,"closeclick",c)))},[c]),A.useEffect(()=>{P&&h&&(k!==null&&google.maps.event.removeListener(k),F(google.maps.event.addListener(P,"domready",h)))},[h]),A.useEffect(()=>{P&&o&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(P,"content_changed",o)))},[o]),A.useEffect(()=>{P&&m&&(z!==null&&google.maps.event.removeListener(z),W(google.maps.event.addListener(P,"position_changed",m)))},[m]),A.useEffect(()=>{P&&y&&(Y!==null&&google.maps.event.removeListener(Y),K(google.maps.event.addListener(P,"zindex_changed",y)))},[y]),A.useEffect(()=>{if(C){var re=r||PLe,{position:oe}=re,he=Q7(re,ELe),be;oe&&!(oe instanceof google.maps.LatLng)&&(be=new google.maps.LatLng(oe.lat,oe.lng));var le=new nle(vT(vT({},he),be?{position:be}:{}));ee.current=document.createElement("div"),I(le),c&&D(google.maps.event.addListener(le,"closeclick",c)),h&&F(google.maps.event.addListener(le,"domready",h)),o&&B(google.maps.event.addListener(le,"content_changed",o)),m&&W(google.maps.event.addListener(le,"position_changed",m)),y&&K(google.maps.event.addListener(le,"zindex_changed",y)),le.setContent(ee.current),n?le.open(C,n):le.getPosition()?le.open(C):os(!1,"You must provide either an anchor or a position prop for <InfoBox>."),v&&v(le)}return()=>{P!==null&&(N&&google.maps.event.removeListener(N),U&&google.maps.event.removeListener(U),k&&google.maps.event.removeListener(k),z&&google.maps.event.removeListener(z),Y&&google.maps.event.removeListener(Y),S&&S(P),P.close())}},[]),ee.current?Wa.createPortal(A.Children.only(t),ee.current):null}A.memo(ILe);class OLe extends A.PureComponent{constructor(){super(...arguments),pn(this,"registeredEvents",[]),pn(this,"containerElement",null),pn(this,"state",{infoBox:null}),pn(this,"open",(t,n)=>{n?this.context!==null&&t.open(this.context,n):t.getPosition()?this.context!==null&&t.open(this.context):os(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),pn(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var t=this.props.options||{},{position:n}=t,r=Q7(t,TLe),i;n&&!(n instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(n.lat,n.lng));var s=new nle(vT(vT({},r),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Oi({updaterMap:TG,eventMap:EG,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(t){var{infoBox:n}=this.state;n!==null&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:TG,eventMap:EG,prevProps:t,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:t}=this.props,{infoBox:n}=this.state;n!==null&&(t&&t(n),Di(this.registeredEvents),n.close())}render(){return this.containerElement?Wa.createPortal(A.Children.only(this.props.children),this.containerElement):null}}pn(OLe,"contextType",Si);var g6,PG;function kLe(){return PG||(PG=1,g6=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var c=s[i];if(!e(t[c],n[c]))return!1}return!0}return t!==t&&n!==n}),g6}var NLe=kLe(),IG=qse(NLe),OG=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],y6=1,vx=8;class e9{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(t,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=r>>4;if(i!==y6)throw new Error("Got v".concat(i," data when expected v").concat(y6,"."));var s=OG[r&15];if(!s)throw new Error("Unrecognized array type.");var[c]=new Uint16Array(t,2,1),[h]=new Uint32Array(t,4,1);return new e9(h,c,s,t)}constructor(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(t)||t<0)throw new Error("Unpexpected numItems value: ".concat(t,"."));this.numItems=+t,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;var s=OG.indexOf(this.ArrayType),c=t*2*this.ArrayType.BYTES_PER_ELEMENT,h=t*this.IndexArrayType.BYTES_PER_ELEMENT,o=(8-h%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(r,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,vx,t),this.coords=new this.ArrayType(this.data,vx+h+o,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(vx+c+h+o),this.ids=new this.IndexArrayType(this.data,vx,t),this.coords=new this.ArrayType(this.data,vx+h+o,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(y6<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=t)}add(t,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=t,this.coords[this._pos++]=n,r}finish(){var t=this._pos>>1;if(t!==this.numItems)throw new Error("Added ".concat(t," items when expected ").concat(this.numItems,"."));return R8(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:c,nodeSize:h}=this,o=[0,s.length-1,0],m=[];o.length;){var y=o.pop()||0,v=o.pop()||0,S=o.pop()||0;if(v-S<=h){for(var C=S;C<=v;C++){var P=c[2*C],I=c[2*C+1];P>=t&&P<=r&&I>=n&&I<=i&&m.push(s[C])}continue}var N=S+v>>1,D=c[2*N],k=c[2*N+1];D>=t&&D<=r&&k>=n&&k<=i&&m.push(s[N]),(y===0?t<=D:n<=k)&&(o.push(S),o.push(N-1),o.push(1-y)),(y===0?r>=D:i>=k)&&(o.push(N+1),o.push(v),o.push(1-y))}return m}within(t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:s,nodeSize:c}=this,h=[0,i.length-1,0],o=[],m=r*r;h.length;){var y=h.pop()||0,v=h.pop()||0,S=h.pop()||0;if(v-S<=c){for(var C=S;C<=v;C++)kG(s[2*C],s[2*C+1],t,n)<=m&&o.push(i[C]);continue}var P=S+v>>1,I=s[2*P],N=s[2*P+1];kG(I,N,t,n)<=m&&o.push(i[P]),(y===0?t-r<=I:n-r<=N)&&(h.push(S),h.push(P-1),h.push(1-y)),(y===0?t+r>=I:n+r>=N)&&(h.push(P+1),h.push(v),h.push(1-y))}return o}}function R8(e,t,n,r,i,s){if(!(i-r<=n)){var c=r+i>>1;rle(e,t,c,r,i,s),R8(e,t,n,r,c-1,1-s),R8(e,t,n,c+1,i,1-s)}}function rle(e,t,n,r,i,s){for(;i>r;){if(i-r>600){var c=i-r+1,h=n-r+1,o=Math.log(c),m=.5*Math.exp(2*o/3),y=.5*Math.sqrt(o*m*(c-m)/c)*(h-c/2<0?-1:1),v=Math.max(r,Math.floor(n-h*m/c+y)),S=Math.min(i,Math.floor(n+(c-h)*m/c+y));rle(e,t,n,v,S,s)}var C=t[2*n+s],P=r,I=i;for(bx(e,t,r,n),t[2*i+s]>C&&bx(e,t,r,i);P<I;){for(bx(e,t,P,I),P++,I--;t[2*P+s]<C;)P++;for(;t[2*I+s]>C;)I--}t[2*r+s]===C?bx(e,t,r,I):(I++,bx(e,t,I,i)),I<=n&&(r=I+1),n<=I&&(i=I-1)}}function bx(e,t,n,r){v6(e,n,r),v6(t,2*n,2*r),v6(t,2*n+1,2*r+1)}function v6(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function kG(e,t,n,r){var i=e-n,s=t-r;return i*i+s*s}var RLe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},NG=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),Xm=2,of=3,b6=4,ef=5,ile=6;class DLe{constructor(t){this.options=Object.assign(Object.create(RLe),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){var{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");var s="prepare ".concat(t.length," points");n&&console.time(s),this.points=t;for(var c=[],h=0;h<t.length;h++){var o=t[h];if(o.geometry){var[m,y]=o.geometry.coordinates,v=NG(cM(m)),S=NG(uM(y));c.push(v,S,1/0,h,-1,1),this.options.reduce&&c.push(0)}}var C=this.trees[i+1]=this._createTree(c);n&&console.timeEnd(s);for(var P=i;P>=r;P--){var I=+Date.now();C=this.trees[P]=this._createTree(this._cluster(C,P)),n&&console.log("z%d: %d clusters in %dms",P,C.numItems,+Date.now()-I)}return n&&console.timeEnd("total time"),this}getClusters(t,n){var r=((t[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,t[1])),s=t[2]===180?180:((t[2]+180)%360+360)%360-180,c=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)r=-180,s=180;else if(r>s){var h=this.getClusters([r,i,180,c],n),o=this.getClusters([-180,i,s,c],n);return h.concat(o)}var m=this.trees[this._limitZoom(n)],y=m.range(cM(r),uM(c),cM(s),uM(i)),v=m.data,S=[];for(var C of y){var P=this.stride*C;S.push(v[P+ef]>1?RG(v,P,this.clusterProps):this.points[v[P+of]])}return S}getChildren(t){var n=this._getOriginId(t),r=this._getOriginZoom(t),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);var c=s.data;if(n*this.stride>=c.length)throw new Error(i);var h=this.options.radius/(this.options.extent*Math.pow(2,r-1)),o=c[n*this.stride],m=c[n*this.stride+1],y=s.within(o,m,h),v=[];for(var S of y){var C=S*this.stride;c[C+b6]===t&&v.push(c[C+ef]>1?RG(c,C,this.clusterProps):this.points[c[C+of]])}if(v.length===0)throw new Error(i);return v}getLeaves(t,n,r){n=n||10,r=r||0;var i=[];return this._appendLeaves(i,t,n,r,0),i}getTile(t,n,r){var i=this.trees[this._limitZoom(t)],s=Math.pow(2,t),{extent:c,radius:h}=this.options,o=h/c,m=(r-o)/s,y=(r+1+o)/s,v={features:[]};return this._addTileFeatures(i.range((n-o)/s,m,(n+1+o)/s,y),i.data,n,r,s,v),n===0&&this._addTileFeatures(i.range(1-o/s,m,1,y),i.data,s,r,s,v),n===s-1&&this._addTileFeatures(i.range(0,m,o/s,y),i.data,-1,r,s,v),v.features.length?v:null}getClusterExpansionZoom(t){for(var n=this._getOriginZoom(t)-1;n<=this.options.maxZoom;){var r=this.getChildren(t);if(n++,r.length!==1)break;t=r[0].properties.cluster_id}return n}_appendLeaves(t,n,r,i,s){var c=this.getChildren(n);for(var h of c){var o=h.properties;if(o&&o.cluster?s+o.point_count<=i?s+=o.point_count:s=this._appendLeaves(t,o.cluster_id,r,i,s):s<i?s++:t.push(h),t.length===r)break}return s}_createTree(t){for(var n=new e9(t.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<t.length;r+=this.stride)n.add(t[r],t[r+1]);return n.finish(),n.data=t,n}_addTileFeatures(t,n,r,i,s,c){for(var h of t){var o=h*this.stride,m=n[o+ef]>1,y=void 0,v=void 0,S=void 0;if(m)y=ole(n,o,this.clusterProps),v=n[o],S=n[o+1];else{var C=this.points[n[o+of]];y=C.properties;var[P,I]=C.geometry.coordinates;v=cM(P),S=uM(I)}var N={type:1,geometry:[[Math.round(this.options.extent*(v*s-r)),Math.round(this.options.extent*(S*s-i))]],tags:y},D=void 0;m||this.options.generateId?D=n[o+of]:D=this.points[n[o+of]].id,D!==void 0&&(N.id=D),c.features.push(N)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,n){for(var{radius:r,extent:i,reduce:s,minPoints:c}=this.options,h=r/(i*Math.pow(2,n)),o=t.data,m=[],y=this.stride,v=0;v<o.length;v+=y)if(!(o[v+Xm]<=n)){o[v+Xm]=n;var S=o[v],C=o[v+1],P=t.within(o[v],o[v+1],h),I=o[v+ef],N=I;for(var D of P){var k=D*y;o[k+Xm]>n&&(N+=o[k+ef])}if(N>I&&N>=c){var F=S*I,U=C*I,B=void 0,z=-1,W=((v/y|0)<<5)+(n+1)+this.points.length;for(var Y of P){var K=Y*y;if(!(o[K+Xm]<=n)){o[K+Xm]=n;var ee=o[K+ef];F+=o[K]*ee,U+=o[K+1]*ee,o[K+b6]=W,s&&(B||(B=this._map(o,v,!0),z=this.clusterProps.length,this.clusterProps.push(B)),s(B,this._map(o,K)))}}o[v+b6]=W,m.push(F/N,U/N,1/0,W,-1,N),s&&m.push(z)}else{for(var re=0;re<y;re++)m.push(o[v+re]);if(N>1)for(var oe of P){var he=oe*y;if(!(o[he+Xm]<=n)){o[he+Xm]=n;for(var be=0;be<y;be++)m.push(o[he+be])}}}}return m}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,n,r){if(t[n+ef]>1){var i=this.clusterProps[t[n+ile]];return r?Object.assign({},i):i}var s=this.points[t[n+of]].properties,c=this.options.map(s);return r&&c===s?Object.assign({},c):c}}function RG(e,t,n){return{type:"Feature",id:e[t+of],properties:ole(e,t,n),geometry:{type:"Point",coordinates:[LLe(e[t]),FLe(e[t+1])]}}}function ole(e,t,n){var r=e[t+ef],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,s=e[t+ile],c=s===-1?{}:Object.assign({},n[s]);return Object.assign(c,{cluster:!0,cluster_id:e[t+of],point_count:r,point_count_abbreviated:i})}function cM(e){return e/360+.5}function uM(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function LLe(e){return(e-.5)*360}function FLe(e){var t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function $Le(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}class gc{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,n){this.isAdvancedMarker(t)?t.map=n:t.setMap(n)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class D8{constructor(t){var{markers:n,position:r}=t;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var t=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)t.extend(gc.getPosition(n));return t}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>gc.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(gc.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class jLe{constructor(t){var{maxZoom:n=16}=t;this.maxZoom=n}noop(t){var{markers:n}=t;return zLe(n)}}var zLe=e=>{var t=e.map(n=>new D8({position:gc.getPosition(n),markers:[n]}));return t};class BLe extends jLe{constructor(t){var{maxZoom:n,radius:r=60}=t,i=$Le(t,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new DLe(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(t){var n=!1,r={zoom:t.map.getZoom()};if(!IG(t.markers,this.markers)){n=!0,this.markers=[...t.markers];var i=this.markers.map(s=>{var c=gc.getPosition(s),h=[c.lng(),c.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:h},properties:{marker:s}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!IG(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:n}}cluster(t){var{map:n}=t;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(t){var{geometry:{coordinates:[n,r]},properties:i}=t;if(i.cluster)return new D8({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(c=>c.properties.marker),position:{lat:r,lng:n}});var s=i.marker;return new D8({markers:[s],position:gc.getPosition(s)})}}class ZLe{constructor(t,n){this.markers={sum:t.length};var r=n.map(s=>s.count),i=r.reduce((s,c)=>s+c,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class ULe{render(t,n,r){var{count:i,position:s}=t,c=i>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",h='<svg fill="'.concat(c,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),o="Cluster of ".concat(i," markers"),m=Number(google.maps.Marker.MAX_ZINDEX)+i;if(gc.isAdvancedMarkerAvailable(r)){var y=new DOMParser,v=y.parseFromString(h,"image/svg+xml").documentElement;v.setAttribute("transform","translate(0 25)");var S={map:r,position:s,zIndex:m,title:o,content:v};return new google.maps.marker.AdvancedMarkerElement(S)}var C={position:s,zIndex:m,title:o,icon:{url:"data:image/svg+xml;base64,".concat(btoa(h)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(C)}}function HLe(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}class t9{constructor(){HLe(t9,google.maps.OverlayView)}}var aw;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(aw||(aw={}));var VLe=(e,t,n)=>{n.fitBounds(t.bounds)};class WLe extends t9{constructor(t){var{map:n,markers:r=[],algorithmOptions:i={},algorithm:s=new BLe(i),renderer:c=new ULe,onClusterClick:h=VLe}=t;super(),this.markers=[...r],this.clusters=[],this.algorithm=s,this.renderer=c,this.onClusterClick=h,n&&this.setMap(n)}addMarker(t,n){this.markers.includes(t)||(this.markers.push(t),n||this.render())}addMarkers(t,n){t.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(t,n){var r=this.markers.indexOf(t);return r===-1?!1:(gc.setMap(t,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(t,n){var r=!1;return t.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(t){this.markers.length=0,t||this.render()}render(){var t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,aw.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(r||r==null){var i=new Set;for(var s of n)s.markers.length==1&&i.add(s.markers[0]);var c=[];for(var h of this.clusters)h.marker!=null&&(h.markers.length==1?i.has(h.marker)||gc.setMap(h.marker,null):c.push(h.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>c.forEach(o=>gc.setMap(o,null)))}google.maps.event.trigger(this,aw.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>gc.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){var t=new ZLe(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,t,n),r.markers.forEach(i=>gc.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,aw.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),gc.setMap(r.marker,n)})}}function DG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DG(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GLe(e){var t=jDe(),[n,r]=A.useState(null);return A.useEffect(()=>{if(t&&n===null){var i=new WLe(LG(LG({},e),{},{map:t}));r(i)}},[t]),n}function KLe(e){var{children:t,options:n}=e,r=GLe(n);return r!==null?t(r):null}A.memo(KLe);var FG={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},$G={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};function qLe(e){var{children:t,anchor:n,options:r,position:i,zIndex:s,onCloseClick:c,onDomReady:h,onContentChanged:o,onPositionChanged:m,onZindexChanged:y,onLoad:v,onUnmount:S}=e,C=A.useContext(Si),[P,I]=A.useState(null),[N,D]=A.useState(null),[k,F]=A.useState(null),[U,B]=A.useState(null),[z,W]=A.useState(null),[Y,K]=A.useState(null),ee=A.useRef(null);return A.useEffect(()=>{P!==null&&(P.close(),n?P.open(C,n):P.getPosition()&&P.open(C))},[C,P,n]),A.useEffect(()=>{r&&P!==null&&P.setOptions(r)},[P,r]),A.useEffect(()=>{i&&P!==null&&P.setPosition(i)},[i]),A.useEffect(()=>{typeof s=="number"&&P!==null&&P.setZIndex(s)},[s]),A.useEffect(()=>{P&&c&&(N!==null&&google.maps.event.removeListener(N),D(google.maps.event.addListener(P,"closeclick",c)))},[c]),A.useEffect(()=>{P&&h&&(k!==null&&google.maps.event.removeListener(k),F(google.maps.event.addListener(P,"domready",h)))},[h]),A.useEffect(()=>{P&&o&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(P,"content_changed",o)))},[o]),A.useEffect(()=>{P&&m&&(z!==null&&google.maps.event.removeListener(z),W(google.maps.event.addListener(P,"position_changed",m)))},[m]),A.useEffect(()=>{P&&y&&(Y!==null&&google.maps.event.removeListener(Y),K(google.maps.event.addListener(P,"zindex_changed",y)))},[y]),A.useEffect(()=>{var re=new google.maps.InfoWindow(r);return I(re),ee.current=document.createElement("div"),c&&D(google.maps.event.addListener(re,"closeclick",c)),h&&F(google.maps.event.addListener(re,"domready",h)),o&&B(google.maps.event.addListener(re,"content_changed",o)),m&&W(google.maps.event.addListener(re,"position_changed",m)),y&&K(google.maps.event.addListener(re,"zindex_changed",y)),re.setContent(ee.current),i&&re.setPosition(i),s&&re.setZIndex(s),n?re.open(C,n):re.getPosition()?re.open(C):os(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),v&&v(re),()=>{N&&google.maps.event.removeListener(N),U&&google.maps.event.removeListener(U),k&&google.maps.event.removeListener(k),z&&google.maps.event.removeListener(z),Y&&google.maps.event.removeListener(Y),S&&S(re),re.close()}},[]),ee.current?Wa.createPortal(A.Children.only(t),ee.current):null}A.memo(qLe);class XLe extends A.PureComponent{constructor(){super(...arguments),pn(this,"registeredEvents",[]),pn(this,"containerElement",null),pn(this,"state",{infoWindow:null}),pn(this,"open",(t,n)=>{n?t.open(this.context,n):t.getPosition()?t.open(this.context):os(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),pn(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var t=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Oi({updaterMap:$G,eventMap:FG,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({infoWindow:t}),this.setInfoWindowCallback)}componentDidUpdate(t){this.state.infoWindow!==null&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:$G,eventMap:FG,prevProps:t,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Di(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Wa.createPortal(A.Children.only(this.props.children),this.containerElement):null}}pn(XLe,"contextType",Si);function jG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jG(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zG={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},BG={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},YLe={};function JLe(e){var{options:t,draggable:n,editable:r,visible:i,path:s,onDblClick:c,onDragEnd:h,onDragStart:o,onMouseDown:m,onMouseMove:y,onMouseOut:v,onMouseOver:S,onMouseUp:C,onRightClick:P,onClick:I,onDrag:N,onLoad:D,onUnmount:k}=e,F=A.useContext(Si),[U,B]=A.useState(null),[z,W]=A.useState(null),[Y,K]=A.useState(null),[ee,re]=A.useState(null),[oe,he]=A.useState(null),[be,le]=A.useState(null),[ye,fe]=A.useState(null),[ue,xe]=A.useState(null),[ae,Ee]=A.useState(null),[Me,de]=A.useState(null),[ze,$e]=A.useState(null),[et,gt]=A.useState(null);return A.useEffect(()=>{U!==null&&U.setMap(F)},[F]),A.useEffect(()=>{typeof t<"u"&&U!==null&&U.setOptions(t)},[U,t]),A.useEffect(()=>{typeof n<"u"&&U!==null&&U.setDraggable(n)},[U,n]),A.useEffect(()=>{typeof r<"u"&&U!==null&&U.setEditable(r)},[U,r]),A.useEffect(()=>{typeof i<"u"&&U!==null&&U.setVisible(i)},[U,i]),A.useEffect(()=>{typeof s<"u"&&U!==null&&U.setPath(s)},[U,s]),A.useEffect(()=>{U&&c&&(z!==null&&google.maps.event.removeListener(z),W(google.maps.event.addListener(U,"dblclick",c)))},[c]),A.useEffect(()=>{U&&h&&(Y!==null&&google.maps.event.removeListener(Y),K(google.maps.event.addListener(U,"dragend",h)))},[h]),A.useEffect(()=>{U&&o&&(ee!==null&&google.maps.event.removeListener(ee),re(google.maps.event.addListener(U,"dragstart",o)))},[o]),A.useEffect(()=>{U&&m&&(oe!==null&&google.maps.event.removeListener(oe),he(google.maps.event.addListener(U,"mousedown",m)))},[m]),A.useEffect(()=>{U&&y&&(be!==null&&google.maps.event.removeListener(be),le(google.maps.event.addListener(U,"mousemove",y)))},[y]),A.useEffect(()=>{U&&v&&(ye!==null&&google.maps.event.removeListener(ye),fe(google.maps.event.addListener(U,"mouseout",v)))},[v]),A.useEffect(()=>{U&&S&&(ue!==null&&google.maps.event.removeListener(ue),xe(google.maps.event.addListener(U,"mouseover",S)))},[S]),A.useEffect(()=>{U&&C&&(ae!==null&&google.maps.event.removeListener(ae),Ee(google.maps.event.addListener(U,"mouseup",C)))},[C]),A.useEffect(()=>{U&&P&&(Me!==null&&google.maps.event.removeListener(Me),de(google.maps.event.addListener(U,"rightclick",P)))},[P]),A.useEffect(()=>{U&&I&&(ze!==null&&google.maps.event.removeListener(ze),$e(google.maps.event.addListener(U,"click",I)))},[I]),A.useEffect(()=>{U&&N&&(et!==null&&google.maps.event.removeListener(et),gt(google.maps.event.addListener(U,"drag",N)))},[N]),A.useEffect(()=>{var lt=new google.maps.Polyline(bT(bT({},t||YLe),{},{map:F}));return s&&lt.setPath(s),typeof i<"u"&&lt.setVisible(i),typeof r<"u"&&lt.setEditable(r),typeof n<"u"&&lt.setDraggable(n),c&&W(google.maps.event.addListener(lt,"dblclick",c)),h&&K(google.maps.event.addListener(lt,"dragend",h)),o&&re(google.maps.event.addListener(lt,"dragstart",o)),m&&he(google.maps.event.addListener(lt,"mousedown",m)),y&&le(google.maps.event.addListener(lt,"mousemove",y)),v&&fe(google.maps.event.addListener(lt,"mouseout",v)),S&&xe(google.maps.event.addListener(lt,"mouseover",S)),C&&Ee(google.maps.event.addListener(lt,"mouseup",C)),P&&de(google.maps.event.addListener(lt,"rightclick",P)),I&&$e(google.maps.event.addListener(lt,"click",I)),N&&gt(google.maps.event.addListener(lt,"drag",N)),B(lt),D&&D(lt),()=>{z!==null&&google.maps.event.removeListener(z),Y!==null&&google.maps.event.removeListener(Y),ee!==null&&google.maps.event.removeListener(ee),oe!==null&&google.maps.event.removeListener(oe),be!==null&&google.maps.event.removeListener(be),ye!==null&&google.maps.event.removeListener(ye),ue!==null&&google.maps.event.removeListener(ue),ae!==null&&google.maps.event.removeListener(ae),Me!==null&&google.maps.event.removeListener(Me),ze!==null&&google.maps.event.removeListener(ze),k&&k(lt),lt.setMap(null)}},[]),null}A.memo(JLe);class QLe extends A.PureComponent{constructor(){super(...arguments),pn(this,"registeredEvents",[]),pn(this,"state",{polyline:null}),pn(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var t=new google.maps.Polyline(bT(bT({},this.props.options),{},{map:this.context}));this.registeredEvents=Oi({updaterMap:BG,eventMap:zG,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polyline:t}},this.setPolylineCallback)}componentDidUpdate(t){this.state.polyline!==null&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:BG,eventMap:zG,prevProps:t,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Di(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}pn(QLe,"contextType",Si);function ZG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZG(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var HG={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},VG={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};function e7e(e){var{options:t,draggable:n,editable:r,visible:i,path:s,paths:c,onDblClick:h,onDragEnd:o,onDragStart:m,onMouseDown:y,onMouseMove:v,onMouseOut:S,onMouseOver:C,onMouseUp:P,onRightClick:I,onClick:N,onDrag:D,onLoad:k,onUnmount:F,onEdit:U}=e,B=A.useContext(Si),[z,W]=A.useState(null),[Y,K]=A.useState(null),[ee,re]=A.useState(null),[oe,he]=A.useState(null),[be,le]=A.useState(null),[ye,fe]=A.useState(null),[ue,xe]=A.useState(null),[ae,Ee]=A.useState(null),[Me,de]=A.useState(null),[ze,$e]=A.useState(null),[et,gt]=A.useState(null),[lt,We]=A.useState(null);return A.useEffect(()=>{z!==null&&z.setMap(B)},[B]),A.useEffect(()=>{typeof t<"u"&&z!==null&&z.setOptions(t)},[z,t]),A.useEffect(()=>{typeof n<"u"&&z!==null&&z.setDraggable(n)},[z,n]),A.useEffect(()=>{typeof r<"u"&&z!==null&&z.setEditable(r)},[z,r]),A.useEffect(()=>{typeof i<"u"&&z!==null&&z.setVisible(i)},[z,i]),A.useEffect(()=>{typeof s<"u"&&z!==null&&z.setPath(s)},[z,s]),A.useEffect(()=>{typeof c<"u"&&z!==null&&z.setPaths(c)},[z,c]),A.useEffect(()=>{z&&typeof h=="function"&&(Y!==null&&google.maps.event.removeListener(Y),K(google.maps.event.addListener(z,"dblclick",h)))},[h]),A.useEffect(()=>{z&&(google.maps.event.addListener(z.getPath(),"insert_at",()=>{U==null||U(z)}),google.maps.event.addListener(z.getPath(),"set_at",()=>{U==null||U(z)}),google.maps.event.addListener(z.getPath(),"remove_at",()=>{U==null||U(z)}))},[z,U]),A.useEffect(()=>{z&&typeof o=="function"&&(ee!==null&&google.maps.event.removeListener(ee),re(google.maps.event.addListener(z,"dragend",o)))},[o]),A.useEffect(()=>{z&&typeof m=="function"&&(oe!==null&&google.maps.event.removeListener(oe),he(google.maps.event.addListener(z,"dragstart",m)))},[m]),A.useEffect(()=>{z&&typeof y=="function"&&(be!==null&&google.maps.event.removeListener(be),le(google.maps.event.addListener(z,"mousedown",y)))},[y]),A.useEffect(()=>{z&&typeof v=="function"&&(ye!==null&&google.maps.event.removeListener(ye),fe(google.maps.event.addListener(z,"mousemove",v)))},[v]),A.useEffect(()=>{z&&typeof S=="function"&&(ue!==null&&google.maps.event.removeListener(ue),xe(google.maps.event.addListener(z,"mouseout",S)))},[S]),A.useEffect(()=>{z&&typeof C=="function"&&(ae!==null&&google.maps.event.removeListener(ae),Ee(google.maps.event.addListener(z,"mouseover",C)))},[C]),A.useEffect(()=>{z&&typeof P=="function"&&(Me!==null&&google.maps.event.removeListener(Me),de(google.maps.event.addListener(z,"mouseup",P)))},[P]),A.useEffect(()=>{z&&typeof I=="function"&&(ze!==null&&google.maps.event.removeListener(ze),$e(google.maps.event.addListener(z,"rightclick",I)))},[I]),A.useEffect(()=>{z&&typeof N=="function"&&(et!==null&&google.maps.event.removeListener(et),gt(google.maps.event.addListener(z,"click",N)))},[N]),A.useEffect(()=>{z&&typeof D=="function"&&(lt!==null&&google.maps.event.removeListener(lt),We(google.maps.event.addListener(z,"drag",D)))},[D]),A.useEffect(()=>{var qe=new google.maps.Polygon(UG(UG({},t),{},{map:B}));return s&&qe.setPath(s),c&&qe.setPaths(c),typeof i<"u"&&qe.setVisible(i),typeof r<"u"&&qe.setEditable(r),typeof n<"u"&&qe.setDraggable(n),h&&K(google.maps.event.addListener(qe,"dblclick",h)),o&&re(google.maps.event.addListener(qe,"dragend",o)),m&&he(google.maps.event.addListener(qe,"dragstart",m)),y&&le(google.maps.event.addListener(qe,"mousedown",y)),v&&fe(google.maps.event.addListener(qe,"mousemove",v)),S&&xe(google.maps.event.addListener(qe,"mouseout",S)),C&&Ee(google.maps.event.addListener(qe,"mouseover",C)),P&&de(google.maps.event.addListener(qe,"mouseup",P)),I&&$e(google.maps.event.addListener(qe,"rightclick",I)),N&&gt(google.maps.event.addListener(qe,"click",N)),D&&We(google.maps.event.addListener(qe,"drag",D)),W(qe),k&&k(qe),()=>{Y!==null&&google.maps.event.removeListener(Y),ee!==null&&google.maps.event.removeListener(ee),oe!==null&&google.maps.event.removeListener(oe),be!==null&&google.maps.event.removeListener(be),ye!==null&&google.maps.event.removeListener(ye),ue!==null&&google.maps.event.removeListener(ue),ae!==null&&google.maps.event.removeListener(ae),Me!==null&&google.maps.event.removeListener(Me),ze!==null&&google.maps.event.removeListener(ze),et!==null&&google.maps.event.removeListener(et),F&&F(qe),qe.setMap(null)}},[]),null}A.memo(e7e);class t7e extends A.PureComponent{constructor(){super(...arguments),pn(this,"registeredEvents",[])}componentDidMount(){var t=this.props.options||{};this.polygon=new google.maps.Polygon(t),this.polygon.setMap(this.context),this.registeredEvents=Oi({updaterMap:VG,eventMap:HG,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(t){this.polygon&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:VG,eventMap:HG,prevProps:t,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Di(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}pn(t7e,"contextType",Si);function WG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _T(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WG(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var GG={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},KG={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};function n7e(e){var{options:t,bounds:n,draggable:r,editable:i,visible:s,onDblClick:c,onDragEnd:h,onDragStart:o,onMouseDown:m,onMouseMove:y,onMouseOut:v,onMouseOver:S,onMouseUp:C,onRightClick:P,onClick:I,onDrag:N,onBoundsChanged:D,onLoad:k,onUnmount:F}=e,U=A.useContext(Si),[B,z]=A.useState(null),[W,Y]=A.useState(null),[K,ee]=A.useState(null),[re,oe]=A.useState(null),[he,be]=A.useState(null),[le,ye]=A.useState(null),[fe,ue]=A.useState(null),[xe,ae]=A.useState(null),[Ee,Me]=A.useState(null),[de,ze]=A.useState(null),[$e,et]=A.useState(null),[gt,lt]=A.useState(null),[We,qe]=A.useState(null);return A.useEffect(()=>{B!==null&&B.setMap(U)},[U]),A.useEffect(()=>{typeof t<"u"&&B!==null&&B.setOptions(t)},[B,t]),A.useEffect(()=>{typeof r<"u"&&B!==null&&B.setDraggable(r)},[B,r]),A.useEffect(()=>{typeof i<"u"&&B!==null&&B.setEditable(i)},[B,i]),A.useEffect(()=>{typeof s<"u"&&B!==null&&B.setVisible(s)},[B,s]),A.useEffect(()=>{typeof n<"u"&&B!==null&&B.setBounds(n)},[B,n]),A.useEffect(()=>{B&&c&&(W!==null&&google.maps.event.removeListener(W),Y(google.maps.event.addListener(B,"dblclick",c)))},[c]),A.useEffect(()=>{B&&h&&(K!==null&&google.maps.event.removeListener(K),ee(google.maps.event.addListener(B,"dragend",h)))},[h]),A.useEffect(()=>{B&&o&&(re!==null&&google.maps.event.removeListener(re),oe(google.maps.event.addListener(B,"dragstart",o)))},[o]),A.useEffect(()=>{B&&m&&(he!==null&&google.maps.event.removeListener(he),be(google.maps.event.addListener(B,"mousedown",m)))},[m]),A.useEffect(()=>{B&&y&&(le!==null&&google.maps.event.removeListener(le),ye(google.maps.event.addListener(B,"mousemove",y)))},[y]),A.useEffect(()=>{B&&v&&(fe!==null&&google.maps.event.removeListener(fe),ue(google.maps.event.addListener(B,"mouseout",v)))},[v]),A.useEffect(()=>{B&&S&&(xe!==null&&google.maps.event.removeListener(xe),ae(google.maps.event.addListener(B,"mouseover",S)))},[S]),A.useEffect(()=>{B&&C&&(Ee!==null&&google.maps.event.removeListener(Ee),Me(google.maps.event.addListener(B,"mouseup",C)))},[C]),A.useEffect(()=>{B&&P&&(de!==null&&google.maps.event.removeListener(de),ze(google.maps.event.addListener(B,"rightclick",P)))},[P]),A.useEffect(()=>{B&&I&&($e!==null&&google.maps.event.removeListener($e),et(google.maps.event.addListener(B,"click",I)))},[I]),A.useEffect(()=>{B&&N&&(gt!==null&&google.maps.event.removeListener(gt),lt(google.maps.event.addListener(B,"drag",N)))},[N]),A.useEffect(()=>{B&&D&&(We!==null&&google.maps.event.removeListener(We),qe(google.maps.event.addListener(B,"bounds_changed",D)))},[D]),A.useEffect(()=>{var Qe=new google.maps.Rectangle(_T(_T({},t),{},{map:U}));return typeof s<"u"&&Qe.setVisible(s),typeof i<"u"&&Qe.setEditable(i),typeof r<"u"&&Qe.setDraggable(r),typeof n<"u"&&Qe.setBounds(n),c&&Y(google.maps.event.addListener(Qe,"dblclick",c)),h&&ee(google.maps.event.addListener(Qe,"dragend",h)),o&&oe(google.maps.event.addListener(Qe,"dragstart",o)),m&&be(google.maps.event.addListener(Qe,"mousedown",m)),y&&ye(google.maps.event.addListener(Qe,"mousemove",y)),v&&ue(google.maps.event.addListener(Qe,"mouseout",v)),S&&ae(google.maps.event.addListener(Qe,"mouseover",S)),C&&Me(google.maps.event.addListener(Qe,"mouseup",C)),P&&ze(google.maps.event.addListener(Qe,"rightclick",P)),I&&et(google.maps.event.addListener(Qe,"click",I)),N&&lt(google.maps.event.addListener(Qe,"drag",N)),D&&qe(google.maps.event.addListener(Qe,"bounds_changed",D)),z(Qe),k&&k(Qe),()=>{W!==null&&google.maps.event.removeListener(W),K!==null&&google.maps.event.removeListener(K),re!==null&&google.maps.event.removeListener(re),he!==null&&google.maps.event.removeListener(he),le!==null&&google.maps.event.removeListener(le),fe!==null&&google.maps.event.removeListener(fe),xe!==null&&google.maps.event.removeListener(xe),Ee!==null&&google.maps.event.removeListener(Ee),de!==null&&google.maps.event.removeListener(de),$e!==null&&google.maps.event.removeListener($e),gt!==null&&google.maps.event.removeListener(gt),We!==null&&google.maps.event.removeListener(We),F&&F(Qe),Qe.setMap(null)}},[]),null}A.memo(n7e);let r7e=class extends A.PureComponent{constructor(){super(...arguments),pn(this,"registeredEvents",[]),pn(this,"state",{rectangle:null}),pn(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var t=new google.maps.Rectangle(_T(_T({},this.props.options),{},{map:this.context}));this.registeredEvents=Oi({updaterMap:KG,eventMap:GG,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{rectangle:t}},this.setRectangleCallback)}componentDidUpdate(t){this.state.rectangle!==null&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:KG,eventMap:GG,prevProps:t,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Di(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}};pn(r7e,"contextType",Si);function qG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qG(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var XG={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},YG={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},i7e={};function o7e(e){var{options:t,center:n,radius:r,draggable:i,editable:s,visible:c,onDblClick:h,onDragEnd:o,onDragStart:m,onMouseDown:y,onMouseMove:v,onMouseOut:S,onMouseOver:C,onMouseUp:P,onRightClick:I,onClick:N,onDrag:D,onCenterChanged:k,onRadiusChanged:F,onLoad:U,onUnmount:B}=e,z=A.useContext(Si),[W,Y]=A.useState(null),[K,ee]=A.useState(null),[re,oe]=A.useState(null),[he,be]=A.useState(null),[le,ye]=A.useState(null),[fe,ue]=A.useState(null),[xe,ae]=A.useState(null),[Ee,Me]=A.useState(null),[de,ze]=A.useState(null),[$e,et]=A.useState(null),[gt,lt]=A.useState(null),[We,qe]=A.useState(null),[Qe,Ve]=A.useState(null),[yt,it]=A.useState(null);return A.useEffect(()=>{W!==null&&W.setMap(z)},[z]),A.useEffect(()=>{typeof t<"u"&&W!==null&&W.setOptions(t)},[W,t]),A.useEffect(()=>{typeof i<"u"&&W!==null&&W.setDraggable(i)},[W,i]),A.useEffect(()=>{typeof s<"u"&&W!==null&&W.setEditable(s)},[W,s]),A.useEffect(()=>{typeof c<"u"&&W!==null&&W.setVisible(c)},[W,c]),A.useEffect(()=>{typeof r=="number"&&W!==null&&W.setRadius(r)},[W,r]),A.useEffect(()=>{typeof n<"u"&&W!==null&&W.setCenter(n)},[W,n]),A.useEffect(()=>{W&&h&&(K!==null&&google.maps.event.removeListener(K),ee(google.maps.event.addListener(W,"dblclick",h)))},[h]),A.useEffect(()=>{W&&o&&(re!==null&&google.maps.event.removeListener(re),oe(google.maps.event.addListener(W,"dragend",o)))},[o]),A.useEffect(()=>{W&&m&&(he!==null&&google.maps.event.removeListener(he),be(google.maps.event.addListener(W,"dragstart",m)))},[m]),A.useEffect(()=>{W&&y&&(le!==null&&google.maps.event.removeListener(le),ye(google.maps.event.addListener(W,"mousedown",y)))},[y]),A.useEffect(()=>{W&&v&&(fe!==null&&google.maps.event.removeListener(fe),ue(google.maps.event.addListener(W,"mousemove",v)))},[v]),A.useEffect(()=>{W&&S&&(xe!==null&&google.maps.event.removeListener(xe),ae(google.maps.event.addListener(W,"mouseout",S)))},[S]),A.useEffect(()=>{W&&C&&(Ee!==null&&google.maps.event.removeListener(Ee),Me(google.maps.event.addListener(W,"mouseover",C)))},[C]),A.useEffect(()=>{W&&P&&(de!==null&&google.maps.event.removeListener(de),ze(google.maps.event.addListener(W,"mouseup",P)))},[P]),A.useEffect(()=>{W&&I&&($e!==null&&google.maps.event.removeListener($e),et(google.maps.event.addListener(W,"rightclick",I)))},[I]),A.useEffect(()=>{W&&N&&(gt!==null&&google.maps.event.removeListener(gt),lt(google.maps.event.addListener(W,"click",N)))},[N]),A.useEffect(()=>{W&&D&&(We!==null&&google.maps.event.removeListener(We),qe(google.maps.event.addListener(W,"drag",D)))},[D]),A.useEffect(()=>{W&&k&&(Qe!==null&&google.maps.event.removeListener(Qe),Ve(google.maps.event.addListener(W,"center_changed",k)))},[N]),A.useEffect(()=>{W&&F&&(yt!==null&&google.maps.event.removeListener(yt),it(google.maps.event.addListener(W,"radius_changed",F)))},[F]),A.useEffect(()=>{var pt=new google.maps.Circle(xT(xT({},t||i7e),{},{map:z}));return typeof r=="number"&&pt.setRadius(r),typeof n<"u"&&pt.setCenter(n),typeof r=="number"&&pt.setRadius(r),typeof c<"u"&&pt.setVisible(c),typeof s<"u"&&pt.setEditable(s),typeof i<"u"&&pt.setDraggable(i),h&&ee(google.maps.event.addListener(pt,"dblclick",h)),o&&oe(google.maps.event.addListener(pt,"dragend",o)),m&&be(google.maps.event.addListener(pt,"dragstart",m)),y&&ye(google.maps.event.addListener(pt,"mousedown",y)),v&&ue(google.maps.event.addListener(pt,"mousemove",v)),S&&ae(google.maps.event.addListener(pt,"mouseout",S)),C&&Me(google.maps.event.addListener(pt,"mouseover",C)),P&&ze(google.maps.event.addListener(pt,"mouseup",P)),I&&et(google.maps.event.addListener(pt,"rightclick",I)),N&&lt(google.maps.event.addListener(pt,"click",N)),D&&qe(google.maps.event.addListener(pt,"drag",D)),k&&Ve(google.maps.event.addListener(pt,"center_changed",k)),F&&it(google.maps.event.addListener(pt,"radius_changed",F)),Y(pt),U&&U(pt),()=>{K!==null&&google.maps.event.removeListener(K),re!==null&&google.maps.event.removeListener(re),he!==null&&google.maps.event.removeListener(he),le!==null&&google.maps.event.removeListener(le),fe!==null&&google.maps.event.removeListener(fe),xe!==null&&google.maps.event.removeListener(xe),Ee!==null&&google.maps.event.removeListener(Ee),de!==null&&google.maps.event.removeListener(de),$e!==null&&google.maps.event.removeListener($e),gt!==null&&google.maps.event.removeListener(gt),Qe!==null&&google.maps.event.removeListener(Qe),yt!==null&&google.maps.event.removeListener(yt),B&&B(pt),pt.setMap(null)}},[]),null}A.memo(o7e);class a7e extends A.PureComponent{constructor(){super(...arguments),pn(this,"registeredEvents",[]),pn(this,"state",{circle:null}),pn(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var t=new google.maps.Circle(xT(xT({},this.props.options),{},{map:this.context}));this.registeredEvents=Oi({updaterMap:YG,eventMap:XG,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{circle:t}},this.setCircleCallback)}componentDidUpdate(t){this.state.circle!==null&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:YG,eventMap:XG,prevProps:t,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var t;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Di(this.registeredEvents),(t=this.state.circle)===null||t===void 0||t.setMap(null)}}render(){return null}}pn(a7e,"contextType",Si);function JG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JG(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var QG={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},eK={add(e,t){e.add(t)},addgeojson(e,t,n){e.addGeoJson(t,n)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,n,r){e.loadGeoJson(t,n,r)},overridestyle(e,t,n){e.overrideStyle(t,n)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};function s7e(e){var{options:t,onClick:n,onDblClick:r,onMouseDown:i,onMouseMove:s,onMouseOut:c,onMouseOver:h,onMouseUp:o,onRightClick:m,onAddFeature:y,onRemoveFeature:v,onRemoveProperty:S,onSetGeometry:C,onSetProperty:P,onLoad:I,onUnmount:N}=e,D=A.useContext(Si),[k,F]=A.useState(null),[U,B]=A.useState(null),[z,W]=A.useState(null),[Y,K]=A.useState(null),[ee,re]=A.useState(null),[oe,he]=A.useState(null),[be,le]=A.useState(null),[ye,fe]=A.useState(null),[ue,xe]=A.useState(null),[ae,Ee]=A.useState(null),[Me,de]=A.useState(null),[ze,$e]=A.useState(null),[et,gt]=A.useState(null),[lt,We]=A.useState(null);return A.useEffect(()=>{k!==null&&k.setMap(D)},[D]),A.useEffect(()=>{k&&r&&(U!==null&&google.maps.event.removeListener(U),B(google.maps.event.addListener(k,"dblclick",r)))},[r]),A.useEffect(()=>{k&&i&&(z!==null&&google.maps.event.removeListener(z),W(google.maps.event.addListener(k,"mousedown",i)))},[i]),A.useEffect(()=>{k&&s&&(Y!==null&&google.maps.event.removeListener(Y),K(google.maps.event.addListener(k,"mousemove",s)))},[s]),A.useEffect(()=>{k&&c&&(ee!==null&&google.maps.event.removeListener(ee),re(google.maps.event.addListener(k,"mouseout",c)))},[c]),A.useEffect(()=>{k&&h&&(oe!==null&&google.maps.event.removeListener(oe),he(google.maps.event.addListener(k,"mouseover",h)))},[h]),A.useEffect(()=>{k&&o&&(be!==null&&google.maps.event.removeListener(be),le(google.maps.event.addListener(k,"mouseup",o)))},[o]),A.useEffect(()=>{k&&m&&(ye!==null&&google.maps.event.removeListener(ye),fe(google.maps.event.addListener(k,"rightclick",m)))},[m]),A.useEffect(()=>{k&&n&&(ue!==null&&google.maps.event.removeListener(ue),xe(google.maps.event.addListener(k,"click",n)))},[n]),A.useEffect(()=>{k&&y&&(ae!==null&&google.maps.event.removeListener(ae),Ee(google.maps.event.addListener(k,"addfeature",y)))},[y]),A.useEffect(()=>{k&&v&&(Me!==null&&google.maps.event.removeListener(Me),de(google.maps.event.addListener(k,"removefeature",v)))},[v]),A.useEffect(()=>{k&&S&&(ze!==null&&google.maps.event.removeListener(ze),$e(google.maps.event.addListener(k,"removeproperty",S)))},[S]),A.useEffect(()=>{k&&C&&(et!==null&&google.maps.event.removeListener(et),gt(google.maps.event.addListener(k,"setgeometry",C)))},[C]),A.useEffect(()=>{k&&P&&(lt!==null&&google.maps.event.removeListener(lt),We(google.maps.event.addListener(k,"setproperty",P)))},[P]),A.useEffect(()=>{if(D!==null){var qe=new google.maps.Data(wT(wT({},t),{},{map:D}));r&&B(google.maps.event.addListener(qe,"dblclick",r)),i&&W(google.maps.event.addListener(qe,"mousedown",i)),s&&K(google.maps.event.addListener(qe,"mousemove",s)),c&&re(google.maps.event.addListener(qe,"mouseout",c)),h&&he(google.maps.event.addListener(qe,"mouseover",h)),o&&le(google.maps.event.addListener(qe,"mouseup",o)),m&&fe(google.maps.event.addListener(qe,"rightclick",m)),n&&xe(google.maps.event.addListener(qe,"click",n)),y&&Ee(google.maps.event.addListener(qe,"addfeature",y)),v&&de(google.maps.event.addListener(qe,"removefeature",v)),S&&$e(google.maps.event.addListener(qe,"removeproperty",S)),C&&gt(google.maps.event.addListener(qe,"setgeometry",C)),P&&We(google.maps.event.addListener(qe,"setproperty",P)),F(qe),I&&I(qe)}return()=>{k&&(U!==null&&google.maps.event.removeListener(U),z!==null&&google.maps.event.removeListener(z),Y!==null&&google.maps.event.removeListener(Y),ee!==null&&google.maps.event.removeListener(ee),oe!==null&&google.maps.event.removeListener(oe),be!==null&&google.maps.event.removeListener(be),ye!==null&&google.maps.event.removeListener(ye),ue!==null&&google.maps.event.removeListener(ue),ae!==null&&google.maps.event.removeListener(ae),Me!==null&&google.maps.event.removeListener(Me),ze!==null&&google.maps.event.removeListener(ze),et!==null&&google.maps.event.removeListener(et),lt!==null&&google.maps.event.removeListener(lt),N&&N(k),k.setMap(null))}},[]),null}A.memo(s7e);class l7e extends A.PureComponent{constructor(){super(...arguments),pn(this,"registeredEvents",[]),pn(this,"state",{data:null}),pn(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var t=new google.maps.Data(wT(wT({},this.props.options),{},{map:this.context}));this.registeredEvents=Oi({updaterMap:eK,eventMap:QG,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({data:t}),this.setDataCallback)}}componentDidUpdate(t){this.state.data!==null&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:eK,eventMap:QG,prevProps:t,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Di(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}pn(l7e,"contextType",Si);function tK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tK(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var rK={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},iK={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class c7e extends A.PureComponent{constructor(){super(...arguments),pn(this,"registeredEvents",[]),pn(this,"state",{kmlLayer:null}),pn(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var t=new google.maps.KmlLayer(nK(nK({},this.props.options),{},{map:this.context}));this.registeredEvents=Oi({updaterMap:iK,eventMap:rK,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{kmlLayer:t}},this.setKmlLayerCallback)}componentDidUpdate(t){this.state.kmlLayer!==null&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:iK,eventMap:rK,prevProps:t,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Di(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}pn(c7e,"contextType",Si);function ale(e,t){return typeof t=="function"?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function u7e(e,t){return new t(e.lat,e.lng)}function d7e(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function h7e(e,t,n){return e instanceof t?e:n(e,t)}function p7e(e,t,n){return e instanceof t?e:n(e,t)}function f7e(e,t,n){var r=e&&e.fromLatLngToDivPixel(n.getNorthEast()),i=e&&e.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-i.x-t.x,"px"),height:"".concat(i.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}function m7e(e,t,n){var r=e&&e.fromLatLngToDivPixel(n);if(r){var{x:i,y:s}=r;return{left:"".concat(i+t.x,"px"),top:"".concat(s+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}function sle(e,t,n,r){return n!==void 0?f7e(e,t,p7e(n,google.maps.LatLngBounds,d7e)):m7e(e,t,h7e(r,google.maps.LatLng,u7e))}function g7e(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.height&&e.height===t.height}function oK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function y7e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oK(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v7e(e,t,n,r,i){class s extends google.maps.OverlayView{constructor(h,o,m,y){super(),this.container=h,this.pane=o,this.position=m,this.bounds=y}onAdd(){var h,o=(h=this.getPanes())===null||h===void 0?void 0:h[this.pane];o==null||o.appendChild(this.container)}draw(){var h=this.getProjection(),o=y7e({},this.container?ale(this.container,i):{x:0,y:0}),m=sle(h,o,this.bounds,this.position);for(var[y,v]of Object.entries(m))this.container.style[y]=v}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new s(e,t,n,r)}function aK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function b7e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aK(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sK(e){if(!e)return"";var t=e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng);return t+""}function lK(e){if(!e)return"";var t=e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west));return t+""}function _7e(e){var{position:t,bounds:n,mapPaneName:r,zIndex:i,onLoad:s,onUnmount:c,getPixelPositionOffset:h,children:o}=e,m=A.useContext(Si),y=A.useMemo(()=>{var S=document.createElement("div");return S.style.position="absolute",S},[]),v=A.useMemo(()=>v7e(y,r,t,n,h),[y,r,t,n]);return A.useEffect(()=>(s==null||s(v),v==null||v.setMap(m),()=>{c==null||c(v),v==null||v.setMap(null)}),[m,v]),A.useEffect(()=>{y.style.zIndex="".concat(i)},[i,y]),Wa.createPortal(o,y)}A.memo(_7e);class Nb extends A.PureComponent{constructor(t){super(t),pn(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),pn(this,"updatePane",()=>{var r=this.props.mapPaneName,i=this.overlayView.getPanes();os(!!r,"OverlayView requires props.mapPaneName but got %s",r),i?this.setState({paneEl:i[r]}):this.setState({paneEl:null})}),pn(this,"onAdd",()=>{var r,i;this.updatePane(),(r=(i=this.props).onLoad)===null||r===void 0||r.call(i,this.overlayView)}),pn(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),i=b7e({x:0,y:0},this.containerRef.current?ale(this.containerRef.current,this.props.getPixelPositionOffset):{}),s=sle(r,i,this.props.bounds,this.props.position);if(!g7e(s,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var c,h,o,m;this.setState({containerStyle:{top:(c=s.top)!==null&&c!==void 0?c:0,left:(h=s.left)!==null&&h!==void 0?h:0,width:(o=s.width)!==null&&o!==void 0?o:0,height:(m=s.height)!==null&&m!==void 0?m:0,position:"absolute"}})}}),pn(this,"draw",()=>{this.onPositionElement()}),pn(this,"onRemove",()=>{var r,i;this.setState(()=>({paneEl:null})),(r=(i=this.props).onUnmount)===null||r===void 0||r.call(i,this.overlayView)}),this.containerRef=A.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(t){var n=sK(t.position),r=sK(this.props.position),i=lK(t.bounds),s=lK(this.props.bounds);(n!==r||i!==s)&&this.overlayView.draw(),t.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var t=this.state.paneEl;return t?Wa.createPortal(te.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:A.Children.only(this.props.children)}),t):null}}pn(Nb,"FLOAT_PANE","floatPane");pn(Nb,"MAP_PANE","mapPane");pn(Nb,"MARKER_LAYER","markerLayer");pn(Nb,"OVERLAY_LAYER","overlayLayer");pn(Nb,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");pn(Nb,"contextType",Si);function x7e(){}function cK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cK(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var dK={onDblClick:"dblclick",onClick:"click"},hK={opacity(e,t){e.setOpacity(t)}};function w7e(e){var{url:t,bounds:n,options:r,visible:i}=e,s=A.useContext(Si),c=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),h=A.useMemo(()=>new google.maps.GroundOverlay(t,c,r),[]);return A.useEffect(()=>{h!==null&&h.setMap(s)},[s]),A.useEffect(()=>{typeof t<"u"&&h!==null&&(h.set("url",t),h.setMap(s))},[h,t]),A.useEffect(()=>{typeof i<"u"&&h!==null&&h.setOpacity(i?1:0)},[h,i]),A.useEffect(()=>{var o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&h!==null&&(h.set("bounds",o),h.setMap(s))},[h,n]),null}A.memo(w7e);class lle extends A.PureComponent{constructor(){super(...arguments),pn(this,"registeredEvents",[]),pn(this,"state",{groundOverlay:null}),pn(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){os(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var t=new google.maps.GroundOverlay(this.props.url,this.props.bounds,uK(uK({},this.props.options),{},{map:this.context}));this.registeredEvents=Oi({updaterMap:hK,eventMap:dK,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{groundOverlay:t}},this.setGroundOverlayCallback)}componentDidUpdate(t){this.state.groundOverlay!==null&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:hK,eventMap:dK,prevProps:t,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}pn(lle,"defaultProps",{onLoad:x7e});pn(lle,"contextType",Si);function pK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ST(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pK(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var fK={},mK={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};function S7e(e){var{data:t,onLoad:n,onUnmount:r,options:i}=e,s=A.useContext(Si),[c,h]=A.useState(null);return A.useEffect(()=>{google.maps.visualization||os(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),A.useEffect(()=>{os(!!t,"data property is required in HeatmapLayer %s",t)},[t]),A.useEffect(()=>{c!==null&&c.setMap(s)},[s]),A.useEffect(()=>{i&&c!==null&&c.setOptions(i)},[c,i]),A.useEffect(()=>{var o=new google.maps.visualization.HeatmapLayer(ST(ST({},i),{},{data:t,map:s}));return h(o),n&&n(o),()=>{c!==null&&(r&&r(c),c.setMap(null))}},[]),null}A.memo(S7e);class A7e extends A.PureComponent{constructor(){super(...arguments),pn(this,"registeredEvents",[]),pn(this,"state",{heatmapLayer:null}),pn(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){os(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),os(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var t=new google.maps.visualization.HeatmapLayer(ST(ST({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Oi({updaterMap:mK,eventMap:fK,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{heatmapLayer:t}},this.setHeatmapLayerCallback)}componentDidUpdate(t){Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:mK,eventMap:fK,prevProps:t,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Di(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}pn(A7e,"contextType",Si);var gK={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},yK={register(e,t,n){e.registerPanoProvider(t,n)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class C7e extends A.PureComponent{constructor(){super(...arguments),pn(this,"registeredEvents",[]),pn(this,"state",{streetViewPanorama:null}),pn(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var t,n,r=(t=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&t!==void 0?t:null;this.registeredEvents=Oi({updaterMap:yK,eventMap:gK,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(t){this.state.streetViewPanorama!==null&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:yK,eventMap:gK,prevProps:t,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Di(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}pn(C7e,"contextType",Si);class M7e extends A.PureComponent{constructor(){super(...arguments),pn(this,"state",{streetViewService:null}),pn(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var t=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:t}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}pn(M7e,"contextType",Si);var vK={onDirectionsChanged:"directions_changed"},bK={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class E7e extends A.PureComponent{constructor(){super(...arguments),pn(this,"registeredEvents",[]),pn(this,"state",{directionsRenderer:null}),pn(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var t=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Oi({updaterMap:bK,eventMap:vK,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{directionsRenderer:t}},this.setDirectionsRendererCallback)}componentDidUpdate(t){this.state.directionsRenderer!==null&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:bK,eventMap:vK,prevProps:t,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Di(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}pn(E7e,"contextType",Si);var _K={onPlacesChanged:"places_changed"},xK={bounds(e,t){e.setBounds(t)}};class T7e extends A.PureComponent{constructor(){super(...arguments),pn(this,"registeredEvents",[]),pn(this,"containerElement",A.createRef()),pn(this,"state",{searchBox:null}),pn(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(os(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var t=this.containerElement.current.querySelector("input");if(t!==null){var n=new google.maps.places.SearchBox(t,this.props.options);this.registeredEvents=Oi({updaterMap:xK,eventMap:_K,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(t){this.state.searchBox!==null&&(Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:xK,eventMap:_K,prevProps:t,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Di(this.registeredEvents))}render(){return te.jsx("div",{ref:this.containerElement,children:A.Children.only(this.props.children)})}}pn(T7e,"contextType",Si);var wK={onPlaceChanged:"place_changed"},SK={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class cle extends A.PureComponent{constructor(){super(...arguments),pn(this,"registeredEvents",[]),pn(this,"containerElement",A.createRef()),pn(this,"state",{autocomplete:null}),pn(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var t;os(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(t=this.containerElement.current)===null||t===void 0?void 0:t.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=Oi({updaterMap:SK,eventMap:wK,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(t){Di(this.registeredEvents),this.registeredEvents=Oi({updaterMap:SK,eventMap:wK,prevProps:t,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Di(this.registeredEvents)}render(){return te.jsx("div",{ref:this.containerElement,className:this.props.className,children:A.Children.only(this.props.children)})}}pn(cle,"defaultProps",{className:""});pn(cle,"contextType",Si);var P7e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},I7e=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:P7e}))},O7e=A.forwardRef(I7e),k7e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},N7e=function(t,n){return A.createElement(Ro,Ln({},t,{ref:n,icon:k7e}))},AK=A.forwardRef(N7e);const{Title:CK}=kb,{TextArea:R7e}=va,D7e={width:"100%",height:"400px"},L7e=()=>{const[e,t]=A.useState("project1"),[n,r]=A.useState(-3.745),[i,s]=A.useState(-38.523),c=[{id:"project1",name:"Ali's Project",floors:"8",startDate:"May 12, 2022",completionPercentage:"0%",latitude:"-3.745",longitude:"-38.523",description:"But I must explain to you how all this erroneous idea of condemning pleasure and praising pain was born...",availableServices:"Parking",buildingName:"123456789",classification:"Residence"},{id:"project2",name:"Ayman's Project",floors:"12",startDate:"June 20, 2023",completionPercentage:"50%",latitude:"10.123456",longitude:"-20.654321",description:"Another project description...",availableServices:"Elevator",buildingName:"987654321",classification:"Commercial"}],{isLoaded:h}=iLe({id:"google-map-script",googleMapsApiKey:"YOUR_GOOGLE_MAPS_API_KEY"}),[o]=ao.useForm(),m=v=>{const S=c.find(C=>C.id===v);S&&(o.setFieldsValue(S),r(parseFloat(S.latitude)),s(parseFloat(S.longitude)),t(v))},y=v=>{v.latLng&&(r(v.latLng.lat()),s(v.latLng.lng()),o.setFieldsValue({latitude:v.latLng.lat().toFixed(6),longitude:v.latLng.lng().toFixed(6)}))};return te.jsxs("div",{style:{display:"flex",height:1e3},children:[te.jsx("div",{style:{flex:1,borderRight:"1px solid #f0f0f0",padding:"10px",overflowY:"auto"},children:c.map(v=>te.jsx("div",{onClick:()=>m(v.id),style:{padding:"10px",cursor:"pointer",backgroundColor:v.id===e?"#f5f5f5":"transparent",borderRadius:"4px"},children:v.name},v.id))}),te.jsxs("div",{style:{flex:3,padding:"20px",overflowY:"auto"},children:[te.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[te.jsx(vs,{type:"default",icon:te.jsx(AK,{}),children:"Update Project"}),te.jsx(vs,{type:"default",danger:!0,icon:te.jsx(Zse,{}),children:"Delete Project"})]}),te.jsxs(ao,{form:o,layout:"vertical",initialValues:c.find(v=>v.id===e),style:{background:"#fafafa",padding:"20px",borderRadius:"8px",marginTop:"20px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",overflowY:"scroll"},children:[te.jsx(ao.Item,{label:"How many floors are there in the building?",name:"floors",children:te.jsx(va,{})}),te.jsx(ao.Item,{label:"What is the project start date?",name:"startDate",children:te.jsx(va,{})}),te.jsx(ao.Item,{label:"What is the current completion percentage of the project?",name:"completionPercentage",children:te.jsx(va,{})}),te.jsxs(dE,{children:[te.jsx(ao.Item,{label:"Latitude",name:"latitude",children:te.jsx(va,{value:n.toFixed(6),readOnly:!0})}),te.jsx(ao.Item,{label:"Longitude",name:"longitude",children:te.jsx(va,{value:i.toFixed(6),readOnly:!0})})]}),te.jsx(ao.Item,{label:"Description",name:"description",children:te.jsx(R7e,{rows:4})}),te.jsxs(dE,{children:[te.jsx(ao.Item,{label:"Available Services",name:"availableServices",children:te.jsx(va,{})}),te.jsx(ao.Item,{label:"Residential Unit Classification",name:"classification",children:te.jsx(va,{})})]}),te.jsx(ao.Item,{label:"Building Name",name:"buildingName",children:te.jsx(va,{})}),te.jsxs("div",{children:[te.jsx(CK,{level:5,children:"Images"}),te.jsx("div",{style:{marginBottom:"20px"},children:te.jsxs(dE,{direction:"vertical",children:[te.jsxs("div",{children:["File One",te.jsx(I8,{percent:50,size:"small"})]}),te.jsxs("div",{children:["File Two",te.jsx(I8,{percent:100,size:"small"})]})]})}),te.jsx(Y7,{children:te.jsx(vs,{icon:te.jsx(AK,{}),children:"Browse Files"})})]}),te.jsxs("div",{children:[te.jsx(CK,{level:5,children:"Location on the map"}),h?te.jsx(WDe,{mapContainerStyle:D7e,center:{lat:n,lng:i},zoom:10,children:te.jsx(ele,{position:{lat:n,lng:i},draggable:!0,onDragEnd:y})}):te.jsx("p",{children:"Loading map..."}),te.jsx(vs,{type:"primary",style:{marginTop:"10px"},children:"Save this location"})]})]})]})]})},{Title:F7e}=kb,$7e=()=>{const e=[{email:"@xm",name:"Hassan",role:"Manager",id:"hassan.alabdallah"},{email:"@ayman",name:"Ayman Imam",role:"Developer",id:"ayman.imam"},{email:"@mariam",name:"Mariam Ali",role:"Designer",id:"mariam.ali"},{email:"@latifa",name:"Latifa Ahmed",role:"QA",id:"latifa.ahmed"},{email:"@ali",name:"Ali Al-Safi",role:"Product Manager",id:"ali.al-safi"}],[t,n]=A.useState(e[0].id),[r]=ao.useForm(),i=s=>{const c=e.find(h=>h.id===s);c&&(r.setFieldsValue(c),n(s))};return te.jsxs("div",{style:{display:"flex"},children:[te.jsx("div",{style:{flex:1,borderRight:"1px solid #f0f0f0",padding:"10px"},children:e.map(s=>te.jsx("div",{onClick:()=>i(s.id),style:{padding:"10px",cursor:"pointer",backgroundColor:s.id===t?"#f5f5f5":"transparent",borderRadius:"4px"},children:s.name},s.id))}),te.jsxs("div",{style:{flex:3,padding:"20px",position:"relative"},children:[te.jsxs("div",{className:"pb-4",children:[te.jsx(F7e,{level:5,children:"Information"}),te.jsx(vs,{type:"default",style:{position:"absolute",top:"20px",right:"20px",background:"#800020",color:"#fff"},children:"Add User"})]}),te.jsxs(ao,{form:r,layout:"vertical",initialValues:e.find(s=>s.id===t),style:{background:"#fafafa",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[te.jsx(ao.Item,{label:"Email",name:"email",children:te.jsx(va,{})}),te.jsx(ao.Item,{label:"Name",name:"name",children:te.jsx(va,{})}),te.jsx(ao.Item,{label:"Role",name:"role",children:te.jsx(va,{})}),te.jsx(vs,{type:"primary",style:{marginTop:"10px"},children:"Save"})]})]})]})},{TabPane:MK}=U7,j7e=()=>{const[e,t]=A.useState("profiles");return te.jsx("div",{className:"bg-white rounded-md",style:{width:700,padding:"20px"},children:te.jsxs(U7,{defaultActiveKey:"profiles",activeKey:e,onChange:n=>t(n),children:[te.jsx(MK,{tab:"Projects",children:te.jsx(L7e,{})},"projects"),te.jsx(MK,{tab:"Profiles",children:te.jsx($7e,{})},"profiles")]})})},z7e=()=>{const[e,t]=A.useState(!1),[n,r]=A.useState(!1),i=c=>{t(!1)},s=c=>{r(!1)};return te.jsxs("div",{className:"flex flex-col items-center p-6 bg-gray-50 rounded-md",style:{width:600},children:[te.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Profile Account"}),te.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 w-full max-w-4xl",children:[te.jsxs("div",{className:"bg-white shadow p-6 rounded-lg",children:[te.jsxs("div",{className:"flex justify-between items-center mb-4",children:[te.jsx("h2",{className:"text-lg font-semibold",children:"Password"}),te.jsx(vs,{type:"text",icon:te.jsx(k8,{}),onClick:()=>t(!e),className:"text-blue-600 hover:text-blue-400",children:"Edit"})]}),te.jsxs(ao,{onFinish:i,children:[te.jsx(ao.Item,{name:"newPassword",initialValue:"******",rules:[{required:!0,message:"Please enter a new password!"}],children:te.jsx(va.Password,{placeholder:"Update Password",disabled:!e,className:"border-gray-300"})}),te.jsx(ao.Item,{name:"confirmPassword",initialValue:"******",rules:[{required:!0,message:"Please confirm your password!"},({getFieldValue:c})=>({validator(h,o){return!o||c("newPassword")===o?Promise.resolve():Promise.reject(new Error("The passwords do not match!"))}})],children:te.jsx(va.Password,{placeholder:"Confirm Password",disabled:!e,className:"border-gray-300"})}),te.jsx(vs,{type:"primary",htmlType:"submit",disabled:!e,className:`w-full bg-blue-600 text-white ${e?"hover:bg-blue-500":"opacity-50 cursor-not-allowed"}`,children:"Update"})]})]}),te.jsxs("div",{className:"bg-white shadow p-6 rounded-lg",children:[te.jsxs("div",{className:"flex justify-between items-center mb-4",children:[te.jsx("h2",{className:"text-lg font-semibold",children:"Information"}),te.jsx(vs,{type:"text",icon:te.jsx(k8,{}),onClick:()=>r(!n),className:"text-blue-600 hover:text-blue-400",children:"Edit"})]}),te.jsxs(ao,{onFinish:s,children:[te.jsx(ao.Item,{name:"email",initialValue:"@Map",rules:[{required:!0,message:"Please enter your email!"},{type:"email",message:"Please enter a valid email!"}],children:te.jsx(va,{placeholder:"Email Address",disabled:!n,className:"border-gray-300"})}),te.jsx(ao.Item,{name:"fullName",initialValue:"Ali Al-Zahrani",rules:[{required:!0,message:"Please enter your full name!"}],children:te.jsx(va,{placeholder:"Full Name",disabled:!n,className:"border-gray-300"})}),te.jsx(ao.Item,{name:"jobTitle",initialValue:"Project Manager",rules:[{required:!0,message:"Please enter your job title!"}],children:te.jsx(va,{placeholder:"Job Title",disabled:!n,className:"border-gray-300"})}),te.jsx(vs,{type:"primary",htmlType:"submit",disabled:!n,className:`w-full bg-blue-600 text-white ${n?"hover:bg-blue-500":"opacity-50 cursor-not-allowed"}`,children:"Update"})]})]})]}),te.jsx(vs,{type:"link",danger:!0,className:"mt-6",children:"Delete Profile"})]})};function _6(e){return Wo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M278.6 256l68.2-68.2c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6 0-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3l68.2 68.2-68.2 68.2c-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3 6.2 6.2 16.4 6.2 22.6 0l68.2-68.2 68.2 68.2c6.2 6.2 16.4 6.2 22.6 0 6.2-6.2 6.2-16.4 0-22.6L278.6 256z"},child:[]}]})(e)}function ule(e){return Wo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C140.559 48 48 140.559 48 256c0 115.436 92.559 208 208 208 115.435 0 208-92.564 208-208 0-115.441-92.564-208-208-208zm104.002 282.881l-29.12 29.117L256 285.117l-74.881 74.881-29.121-29.117L226.881 256l-74.883-74.881 29.121-29.116L256 226.881l74.881-74.878 29.12 29.116L285.119 256l74.883 74.881z"},child:[]}]})(e)}function B7e(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Z7e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,U7e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,H7e={};function EK(e,t){return(H7e.jsx?U7e:Z7e).test(e)}const V7e=/[ \t\n\f\r]/g;function W7e(e){return typeof e=="object"?e.type==="text"?TK(e.value):!1:TK(e)}function TK(e){return e.replace(V7e,"")===""}class mA{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}mA.prototype.normal={};mA.prototype.property={};mA.prototype.space=void 0;function dle(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new mA(n,r,t)}function L8(e){return e.toLowerCase()}class Wl{constructor(t,n){this.attribute=n,this.property=t}}Wl.prototype.attribute="";Wl.prototype.booleanish=!1;Wl.prototype.boolean=!1;Wl.prototype.commaOrSpaceSeparated=!1;Wl.prototype.commaSeparated=!1;Wl.prototype.defined=!1;Wl.prototype.mustUseProperty=!1;Wl.prototype.number=!1;Wl.prototype.overloadedBoolean=!1;Wl.prototype.property="";Wl.prototype.spaceSeparated=!1;Wl.prototype.space=void 0;let G7e=0;const _i=oy(),Ba=oy(),hle=oy(),Kn=oy(),Do=oy(),y0=oy(),cc=oy();function oy(){return 2**++G7e}const F8=Object.freeze(Object.defineProperty({__proto__:null,boolean:_i,booleanish:Ba,commaOrSpaceSeparated:cc,commaSeparated:y0,number:Kn,overloadedBoolean:hle,spaceSeparated:Do},Symbol.toStringTag,{value:"Module"})),x6=Object.keys(F8);class n9 extends Wl{constructor(t,n,r,i){let s=-1;if(super(t,n),PK(this,"space",i),typeof r=="number")for(;++s<x6.length;){const c=x6[s];PK(this,x6[s],(r&F8[c])===F8[c])}}}n9.prototype.defined=!0;function PK(e,t,n){n&&(e[t]=n)}function Rb(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new n9(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[L8(r)]=r,n[L8(s.attribute)]=r}return new mA(t,n,e.space)}const ple=Rb({properties:{ariaActiveDescendant:null,ariaAtomic:Ba,ariaAutoComplete:null,ariaBusy:Ba,ariaChecked:Ba,ariaColCount:Kn,ariaColIndex:Kn,ariaColSpan:Kn,ariaControls:Do,ariaCurrent:null,ariaDescribedBy:Do,ariaDetails:null,ariaDisabled:Ba,ariaDropEffect:Do,ariaErrorMessage:null,ariaExpanded:Ba,ariaFlowTo:Do,ariaGrabbed:Ba,ariaHasPopup:null,ariaHidden:Ba,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Do,ariaLevel:Kn,ariaLive:null,ariaModal:Ba,ariaMultiLine:Ba,ariaMultiSelectable:Ba,ariaOrientation:null,ariaOwns:Do,ariaPlaceholder:null,ariaPosInSet:Kn,ariaPressed:Ba,ariaReadOnly:Ba,ariaRelevant:null,ariaRequired:Ba,ariaRoleDescription:Do,ariaRowCount:Kn,ariaRowIndex:Kn,ariaRowSpan:Kn,ariaSelected:Ba,ariaSetSize:Kn,ariaSort:null,ariaValueMax:Kn,ariaValueMin:Kn,ariaValueNow:Kn,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function fle(e,t){return t in e?e[t]:t}function mle(e,t){return fle(e,t.toLowerCase())}const K7e=Rb({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:y0,acceptCharset:Do,accessKey:Do,action:null,allow:null,allowFullScreen:_i,allowPaymentRequest:_i,allowUserMedia:_i,alt:null,as:null,async:_i,autoCapitalize:null,autoComplete:Do,autoFocus:_i,autoPlay:_i,blocking:Do,capture:null,charSet:null,checked:_i,cite:null,className:Do,cols:Kn,colSpan:null,content:null,contentEditable:Ba,controls:_i,controlsList:Do,coords:Kn|y0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_i,defer:_i,dir:null,dirName:null,disabled:_i,download:hle,draggable:Ba,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_i,formTarget:null,headers:Do,height:Kn,hidden:_i,high:Kn,href:null,hrefLang:null,htmlFor:Do,httpEquiv:Do,id:null,imageSizes:null,imageSrcSet:null,inert:_i,inputMode:null,integrity:null,is:null,isMap:_i,itemId:null,itemProp:Do,itemRef:Do,itemScope:_i,itemType:Do,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_i,low:Kn,manifest:null,max:null,maxLength:Kn,media:null,method:null,min:null,minLength:Kn,multiple:_i,muted:_i,name:null,nonce:null,noModule:_i,noValidate:_i,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_i,optimum:Kn,pattern:null,ping:Do,placeholder:null,playsInline:_i,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_i,referrerPolicy:null,rel:Do,required:_i,reversed:_i,rows:Kn,rowSpan:Kn,sandbox:Do,scope:null,scoped:_i,seamless:_i,selected:_i,shadowRootClonable:_i,shadowRootDelegatesFocus:_i,shadowRootMode:null,shape:null,size:Kn,sizes:null,slot:null,span:Kn,spellCheck:Ba,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Kn,step:null,style:null,tabIndex:Kn,target:null,title:null,translate:null,type:null,typeMustMatch:_i,useMap:null,value:Ba,width:Kn,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Do,axis:null,background:null,bgColor:null,border:Kn,borderColor:null,bottomMargin:Kn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_i,declare:_i,event:null,face:null,frame:null,frameBorder:null,hSpace:Kn,leftMargin:Kn,link:null,longDesc:null,lowSrc:null,marginHeight:Kn,marginWidth:Kn,noResize:_i,noHref:_i,noShade:_i,noWrap:_i,object:null,profile:null,prompt:null,rev:null,rightMargin:Kn,rules:null,scheme:null,scrolling:Ba,standby:null,summary:null,text:null,topMargin:Kn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Kn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_i,disableRemotePlayback:_i,prefix:null,property:null,results:Kn,security:null,unselectable:null},space:"html",transform:mle}),q7e=Rb({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:cc,accentHeight:Kn,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Kn,amplitude:Kn,arabicForm:null,ascent:Kn,attributeName:null,attributeType:null,azimuth:Kn,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Kn,by:null,calcMode:null,capHeight:Kn,className:Do,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Kn,diffuseConstant:Kn,direction:null,display:null,dur:null,divisor:Kn,dominantBaseline:null,download:_i,dx:null,dy:null,edgeMode:null,editable:null,elevation:Kn,enableBackground:null,end:null,event:null,exponent:Kn,externalResourcesRequired:null,fill:null,fillOpacity:Kn,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:y0,g2:y0,glyphName:y0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Kn,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Kn,horizOriginX:Kn,horizOriginY:Kn,id:null,ideographic:Kn,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Kn,k:Kn,k1:Kn,k2:Kn,k3:Kn,k4:Kn,kernelMatrix:cc,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Kn,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Kn,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Kn,overlineThickness:Kn,paintOrder:null,panose1:null,path:null,pathLength:Kn,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Do,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Kn,pointsAtY:Kn,pointsAtZ:Kn,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:cc,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:cc,rev:cc,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:cc,requiredFeatures:cc,requiredFonts:cc,requiredFormats:cc,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Kn,specularExponent:Kn,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Kn,strikethroughThickness:Kn,string:null,stroke:null,strokeDashArray:cc,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Kn,strokeOpacity:Kn,strokeWidth:null,style:null,surfaceScale:Kn,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:cc,tabIndex:Kn,tableValues:null,target:null,targetX:Kn,targetY:Kn,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:cc,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Kn,underlineThickness:Kn,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Kn,values:null,vAlphabetic:Kn,vMathematical:Kn,vectorEffect:null,vHanging:Kn,vIdeographic:Kn,version:null,vertAdvY:Kn,vertOriginX:Kn,vertOriginY:Kn,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Kn,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:fle}),gle=Rb({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),yle=Rb({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:mle}),vle=Rb({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),X7e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Y7e=/[A-Z]/g,IK=/-[a-z]/g,J7e=/^data[-\w.:]+$/i;function Q7e(e,t){const n=L8(t);let r=t,i=Wl;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&J7e.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(IK,t9e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!IK.test(s)){let c=s.replace(Y7e,e9e);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}i=n9}return new i(r,t)}function e9e(e){return"-"+e.toLowerCase()}function t9e(e){return e.charAt(1).toUpperCase()}const n9e=dle([ple,K7e,gle,yle,vle],"html"),r9=dle([ple,q7e,gle,yle,vle],"svg");function r9e(e){return e.join(" ").trim()}var i9={},OK=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,i9e=/\n/g,o9e=/^\s*/,a9e=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s9e=/^:\s*/,l9e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c9e=/^[;\s]*/,u9e=/^\s+|\s+$/g,d9e=`
`,kK="/",NK="*",cg="",h9e="comment",p9e="declaration",f9e=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(P){var I=P.match(i9e);I&&(n+=I.length);var N=P.lastIndexOf(d9e);r=~N?P.length-N:r+P.length}function s(){var P={line:n,column:r};return function(I){return I.position=new c(P),m(),I}}function c(P){this.start=P,this.end={line:n,column:r},this.source=t.source}c.prototype.content=e;function h(P){var I=new Error(t.source+":"+n+":"+r+": "+P);if(I.reason=P,I.filename=t.source,I.line=n,I.column=r,I.source=e,!t.silent)throw I}function o(P){var I=P.exec(e);if(I){var N=I[0];return i(N),e=e.slice(N.length),I}}function m(){o(o9e)}function y(P){var I;for(P=P||[];I=v();)I!==!1&&P.push(I);return P}function v(){var P=s();if(!(kK!=e.charAt(0)||NK!=e.charAt(1))){for(var I=2;cg!=e.charAt(I)&&(NK!=e.charAt(I)||kK!=e.charAt(I+1));)++I;if(I+=2,cg===e.charAt(I-1))return h("End of comment missing");var N=e.slice(2,I-2);return r+=2,i(N),e=e.slice(I),r+=2,P({type:h9e,comment:N})}}function S(){var P=s(),I=o(a9e);if(I){if(v(),!o(s9e))return h("property missing ':'");var N=o(l9e),D=P({type:p9e,property:RK(I[0].replace(OK,cg)),value:N?RK(N[0].replace(OK,cg)):cg});return o(c9e),D}}function C(){var P=[];y(P);for(var I;I=S();)I!==!1&&(P.push(I),y(P));return P}return m(),C()};function RK(e){return e?e.replace(u9e,cg):cg}var m9e=$d&&$d.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i9,"__esModule",{value:!0});i9.default=y9e;var g9e=m9e(f9e);function y9e(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,g9e.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var c=s.property,h=s.value;i?t(c,h,s):h&&(n=n||{},n[c]=h)}}),n}var Y3={};Object.defineProperty(Y3,"__esModule",{value:!0});Y3.camelCase=void 0;var v9e=/^--[a-zA-Z0-9_-]+$/,b9e=/-([a-z])/g,_9e=/^[^-]+$/,x9e=/^-(webkit|moz|ms|o|khtml)-/,w9e=/^-(ms)-/,S9e=function(e){return!e||_9e.test(e)||v9e.test(e)},A9e=function(e,t){return t.toUpperCase()},DK=function(e,t){return"".concat(t,"-")},C9e=function(e,t){return t===void 0&&(t={}),S9e(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(w9e,DK):e=e.replace(x9e,DK),e.replace(b9e,A9e))};Y3.camelCase=C9e;var M9e=$d&&$d.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},E9e=M9e(i9),T9e=Y3;function $8(e,t){var n={};return!e||typeof e!="string"||(0,E9e.default)(e,function(r,i){r&&i&&(n[(0,T9e.camelCase)(r,t)]=i)}),n}$8.default=$8;var P9e=$8;const I9e=Li(P9e),ble=_le("end"),o9=_le("start");function _le(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function O9e(e){const t=o9(e),n=ble(e);if(t&&n)return{start:t,end:n}}function sw(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?LK(e.position):"start"in e||"end"in e?LK(e):"line"in e||"column"in e?j8(e):""}function j8(e){return FK(e&&e.line)+":"+FK(e&&e.column)}function LK(e){return j8(e&&e.start)+"-"+j8(e&&e.end)}function FK(e){return e&&typeof e=="number"?e:1}class tl extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},c=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(c=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const o=r.indexOf(":");o===-1?s.ruleId=r:(s.source=r.slice(0,o),s.ruleId=r.slice(o+1))}if(!s.place&&s.ancestors&&s.ancestors){const o=s.ancestors[s.ancestors.length-1];o&&(s.place=o.position)}const h=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=h?h.line:void 0,this.name=sw(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=c&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}tl.prototype.file="";tl.prototype.name="";tl.prototype.reason="";tl.prototype.message="";tl.prototype.stack="";tl.prototype.column=void 0;tl.prototype.line=void 0;tl.prototype.ancestors=void 0;tl.prototype.cause=void 0;tl.prototype.fatal=void 0;tl.prototype.place=void 0;tl.prototype.ruleId=void 0;tl.prototype.source=void 0;const a9={}.hasOwnProperty,k9e=new Map,N9e=/[A-Z]/g,R9e=new Set(["table","tbody","thead","tfoot","tr"]),D9e=new Set(["td","th"]),xle="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function L9e(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=H9e(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=U9e(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?r9:n9e,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=wle(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function wle(e,t,n){if(t.type==="element")return F9e(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return $9e(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return z9e(e,t,n);if(t.type==="mdxjsEsm")return j9e(e,t);if(t.type==="root")return B9e(e,t,n);if(t.type==="text")return Z9e(e,t)}function F9e(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=r9,e.schema=i),e.ancestors.push(t);const s=Ale(e,t.tagName,!1),c=V9e(e,t);let h=l9(e,t);return R9e.has(t.tagName)&&(h=h.filter(function(o){return typeof o=="string"?!W7e(o):!0})),Sle(e,c,s,t),s9(c,h),e.ancestors.pop(),e.schema=r,e.create(t,s,c,n)}function $9e(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}aS(e,t.position)}function j9e(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);aS(e,t.position)}function z9e(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=r9,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:Ale(e,t.name,!0),c=W9e(e,t),h=l9(e,t);return Sle(e,c,s,t),s9(c,h),e.ancestors.pop(),e.schema=r,e.create(t,s,c,n)}function B9e(e,t,n){const r={};return s9(r,l9(e,t)),e.create(t,e.Fragment,r,n)}function Z9e(e,t){return t.value}function Sle(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function s9(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function U9e(e,t,n){return r;function r(i,s,c,h){const m=Array.isArray(c.children)?n:t;return h?m(s,c,h):m(s,c)}}function H9e(e,t){return n;function n(r,i,s,c){const h=Array.isArray(s.children),o=o9(r);return t(i,s,c,h,{columnNumber:o?o.column-1:void 0,fileName:e,lineNumber:o?o.line:void 0},void 0)}}function V9e(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&a9.call(t.properties,i)){const s=G9e(e,i,t.properties[i]);if(s){const[c,h]=s;e.tableCellAlignToStyle&&c==="align"&&typeof h=="string"&&D9e.has(t.tagName)?r=h:n[c]=h}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function W9e(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const c=s.expression;c.type;const h=c.properties[0];h.type,Object.assign(n,e.evaluater.evaluateExpression(h.argument))}else aS(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const h=r.value.data.estree.body[0];h.type,s=e.evaluater.evaluateExpression(h.expression)}else aS(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function l9(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:k9e;for(;++r<t.children.length;){const s=t.children[r];let c;if(e.passKeys){const o=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(o){const m=i.get(o)||0;c=o+"-"+m,i.set(o,m+1)}}const h=wle(e,s,c);h!==void 0&&n.push(h)}return n}function G9e(e,t,n){const r=Q7e(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?B7e(n):r9e(n)),r.property==="style"){let i=typeof n=="object"?n:K9e(e,String(n));return e.stylePropertyNameCase==="css"&&(i=q9e(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?X7e[r.property]||r.property:r.attribute,n]}}function K9e(e,t){try{return I9e(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new tl("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=xle+"#cannot-parse-style-attribute",i}}function Ale(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,c;for(;++s<i.length;){const h=EK(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};c=c?{type:"MemberExpression",object:c,property:h,computed:!!(s&&h.type==="Literal"),optional:!1}:h}r=c}else r=EK(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return a9.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);aS(e)}function aS(e,t){const n=new tl("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=xle+"#cannot-handle-mdx-estrees-without-createevaluater",n}function q9e(e){const t={};let n;for(n in e)a9.call(e,n)&&(t[X9e(n)]=e[n]);return t}function X9e(e){let t=e.replace(N9e,Y9e);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Y9e(e){return"-"+e.toLowerCase()}const w6={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},J9e={};function c9(e,t){const n=J9e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Cle(e,r,i)}function Cle(e,t,n){if(Q9e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return $K(e.children,t,n)}return Array.isArray(e)?$K(e,t,n):""}function $K(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Cle(e[i],t,n);return r.join("")}function Q9e(e){return!!(e&&typeof e=="object")}const jK=document.createElement("i");function u9(e){const t="&"+e+";";jK.innerHTML=t;const n=jK.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ac(e,t,n,r){const i=e.length;let s=0,c;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)c=Array.from(r),c.unshift(t,n),e.splice(...c);else for(n&&e.splice(t,n);s<r.length;)c=r.slice(s,s+1e4),c.unshift(t,0),e.splice(...c),s+=1e4,t+=1e4}function Gc(e,t){return e.length>0?(Ac(e,e.length,0,t),e):t}const zK={}.hasOwnProperty;function Mle(e){const t={};let n=-1;for(;++n<e.length;)eFe(t,e[n]);return t}function eFe(e,t){let n;for(n in t){const i=(zK.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let c;if(s)for(c in s){zK.call(i,c)||(i[c]=[]);const h=s[c];tFe(i[c],Array.isArray(h)?h:h?[h]:[])}}}function tFe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ac(e,0,0,r)}function Ele(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Gu(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const hl=Kf(/[A-Za-z]/),Xs=Kf(/[\dA-Za-z]/),nFe=Kf(/[#-'*+\--9=?A-Z^-~]/);function AT(e){return e!==null&&(e<32||e===127)}const z8=Kf(/\d/),rFe=Kf(/[\dA-Fa-f]/),iFe=Kf(/[!-/:-@[-`{-~]/);function Wr(e){return e!==null&&e<-2}function No(e){return e!==null&&(e<0||e===32)}function Ri(e){return e===-2||e===-1||e===32}const J3=Kf(new RegExp("\\p{P}|\\p{S}","u")),Hg=Kf(/\s/);function Kf(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Db(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let c="";if(s===37&&Xs(e.charCodeAt(n+1))&&Xs(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(c=String.fromCharCode(s));else if(s>55295&&s<57344){const h=e.charCodeAt(n+1);s<56320&&h>56319&&h<57344?(c=String.fromCharCode(s,h),i=1):c="�"}else c=String.fromCharCode(s);c&&(t.push(e.slice(r,n),encodeURIComponent(c)),r=n+i+1,c=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function qi(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return c;function c(o){return Ri(o)?(e.enter(n),h(o)):t(o)}function h(o){return Ri(o)&&s++<i?(e.consume(o),h):(e.exit(n),t(o))}}const oFe={tokenize:aFe};function aFe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(h){if(h===null){e.consume(h);return}return e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),qi(e,t,"linePrefix")}function i(h){return e.enter("paragraph"),s(h)}function s(h){const o=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=o),n=o,c(h)}function c(h){if(h===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(h);return}return Wr(h)?(e.consume(h),e.exit("chunkText"),s):(e.consume(h),c)}}const sFe={tokenize:lFe},BK={tokenize:cFe};function lFe(e){const t=this,n=[];let r=0,i,s,c;return h;function h(F){if(r<n.length){const U=n[r];return t.containerState=U[1],e.attempt(U[0].continuation,o,m)(F)}return m(F)}function o(F){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&k();const U=t.events.length;let B=U,z;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){z=t.events[B][1].end;break}D(r);let W=U;for(;W<t.events.length;)t.events[W][1].end={...z},W++;return Ac(t.events,B+1,0,t.events.slice(U)),t.events.length=W,m(F)}return h(F)}function m(F){if(r===n.length){if(!i)return S(F);if(i.currentConstruct&&i.currentConstruct.concrete)return P(F);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(BK,y,v)(F)}function y(F){return i&&k(),D(r),S(F)}function v(F){return t.parser.lazy[t.now().line]=r!==n.length,c=t.now().offset,P(F)}function S(F){return t.containerState={},e.attempt(BK,C,P)(F)}function C(F){return r++,n.push([t.currentConstruct,t.containerState]),S(F)}function P(F){if(F===null){i&&k(),D(0),e.consume(F);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),I(F)}function I(F){if(F===null){N(e.exit("chunkFlow"),!0),D(0),e.consume(F);return}return Wr(F)?(e.consume(F),N(e.exit("chunkFlow")),r=0,t.interrupt=void 0,h):(e.consume(F),I)}function N(F,U){const B=t.sliceStream(F);if(U&&B.push(null),F.previous=s,s&&(s.next=F),s=F,i.defineSkip(F.start),i.write(B),t.parser.lazy[F.start.line]){let z=i.events.length;for(;z--;)if(i.events[z][1].start.offset<c&&(!i.events[z][1].end||i.events[z][1].end.offset>c))return;const W=t.events.length;let Y=W,K,ee;for(;Y--;)if(t.events[Y][0]==="exit"&&t.events[Y][1].type==="chunkFlow"){if(K){ee=t.events[Y][1].end;break}K=!0}for(D(r),z=W;z<t.events.length;)t.events[z][1].end={...ee},z++;Ac(t.events,Y+1,0,t.events.slice(W)),t.events.length=z}}function D(F){let U=n.length;for(;U-- >F;){const B=n[U];t.containerState=B[1],B[0].exit.call(t,e)}n.length=F}function k(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function cFe(e,t,n){return qi(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function K0(e){if(e===null||No(e)||Hg(e))return 1;if(J3(e))return 2}function Q3(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const B8={name:"attention",resolveAll:uFe,tokenize:dFe};function uFe(e,t){let n=-1,r,i,s,c,h,o,m,y;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;o=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const v={...e[r][1].end},S={...e[n][1].start};ZK(v,-o),ZK(S,o),c={type:o>1?"strongSequence":"emphasisSequence",start:v,end:{...e[r][1].end}},h={type:o>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:S},s={type:o>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:o>1?"strong":"emphasis",start:{...c.start},end:{...h.end}},e[r][1].end={...c.start},e[n][1].start={...h.end},m=[],e[r][1].end.offset-e[r][1].start.offset&&(m=Gc(m,[["enter",e[r][1],t],["exit",e[r][1],t]])),m=Gc(m,[["enter",i,t],["enter",c,t],["exit",c,t],["enter",s,t]]),m=Gc(m,Q3(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),m=Gc(m,[["exit",s,t],["enter",h,t],["exit",h,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(y=2,m=Gc(m,[["enter",e[n][1],t],["exit",e[n][1],t]])):y=0,Ac(e,r-1,n-r+3,m),n=r+m.length-y-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function dFe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=K0(r);let s;return c;function c(o){return s=o,e.enter("attentionSequence"),h(o)}function h(o){if(o===s)return e.consume(o),h;const m=e.exit("attentionSequence"),y=K0(o),v=!y||y===2&&i||n.includes(o),S=!i||i===2&&y||n.includes(r);return m._open=!!(s===42?v:v&&(i||!S)),m._close=!!(s===42?S:S&&(y||!v)),t(o)}}function ZK(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const hFe={name:"autolink",tokenize:pFe};function pFe(e,t,n){let r=0;return i;function i(C){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(C),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(C){return hl(C)?(e.consume(C),c):C===64?n(C):m(C)}function c(C){return C===43||C===45||C===46||Xs(C)?(r=1,h(C)):m(C)}function h(C){return C===58?(e.consume(C),r=0,o):(C===43||C===45||C===46||Xs(C))&&r++<32?(e.consume(C),h):(r=0,m(C))}function o(C){return C===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(C),e.exit("autolinkMarker"),e.exit("autolink"),t):C===null||C===32||C===60||AT(C)?n(C):(e.consume(C),o)}function m(C){return C===64?(e.consume(C),y):nFe(C)?(e.consume(C),m):n(C)}function y(C){return Xs(C)?v(C):n(C)}function v(C){return C===46?(e.consume(C),r=0,y):C===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(C),e.exit("autolinkMarker"),e.exit("autolink"),t):S(C)}function S(C){if((C===45||Xs(C))&&r++<63){const P=C===45?S:v;return e.consume(C),P}return n(C)}}const gA={partial:!0,tokenize:fFe};function fFe(e,t,n){return r;function r(s){return Ri(s)?qi(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Wr(s)?t(s):n(s)}}const Tle={continuation:{tokenize:gFe},exit:yFe,name:"blockQuote",tokenize:mFe};function mFe(e,t,n){const r=this;return i;function i(c){if(c===62){const h=r.containerState;return h.open||(e.enter("blockQuote",{_container:!0}),h.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),s}return n(c)}function s(c){return Ri(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(c))}}function gFe(e,t,n){const r=this;return i;function i(c){return Ri(c)?qi(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):s(c)}function s(c){return e.attempt(Tle,t,n)(c)}}function yFe(e){e.exit("blockQuote")}const Ple={name:"characterEscape",tokenize:vFe};function vFe(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return iFe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Ile={name:"characterReference",tokenize:bFe};function bFe(e,t,n){const r=this;let i=0,s,c;return h;function h(v){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),o}function o(v){return v===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(v),e.exit("characterReferenceMarkerNumeric"),m):(e.enter("characterReferenceValue"),s=31,c=Xs,y(v))}function m(v){return v===88||v===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(v),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,c=rFe,y):(e.enter("characterReferenceValue"),s=7,c=z8,y(v))}function y(v){if(v===59&&i){const S=e.exit("characterReferenceValue");return c===Xs&&!u9(r.sliceSerialize(S))?n(v):(e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return c(v)&&i++<s?(e.consume(v),y):n(v)}}const UK={partial:!0,tokenize:xFe},HK={concrete:!0,name:"codeFenced",tokenize:_Fe};function _Fe(e,t,n){const r=this,i={partial:!0,tokenize:B};let s=0,c=0,h;return o;function o(z){return m(z)}function m(z){const W=r.events[r.events.length-1];return s=W&&W[1].type==="linePrefix"?W[2].sliceSerialize(W[1],!0).length:0,h=z,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),y(z)}function y(z){return z===h?(c++,e.consume(z),y):c<3?n(z):(e.exit("codeFencedFenceSequence"),Ri(z)?qi(e,v,"whitespace")(z):v(z))}function v(z){return z===null||Wr(z)?(e.exit("codeFencedFence"),r.interrupt?t(z):e.check(UK,I,U)(z)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),S(z))}function S(z){return z===null||Wr(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),v(z)):Ri(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),qi(e,C,"whitespace")(z)):z===96&&z===h?n(z):(e.consume(z),S)}function C(z){return z===null||Wr(z)?v(z):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),P(z))}function P(z){return z===null||Wr(z)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),v(z)):z===96&&z===h?n(z):(e.consume(z),P)}function I(z){return e.attempt(i,U,N)(z)}function N(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),D}function D(z){return s>0&&Ri(z)?qi(e,k,"linePrefix",s+1)(z):k(z)}function k(z){return z===null||Wr(z)?e.check(UK,I,U)(z):(e.enter("codeFlowValue"),F(z))}function F(z){return z===null||Wr(z)?(e.exit("codeFlowValue"),k(z)):(e.consume(z),F)}function U(z){return e.exit("codeFenced"),t(z)}function B(z,W,Y){let K=0;return ee;function ee(le){return z.enter("lineEnding"),z.consume(le),z.exit("lineEnding"),re}function re(le){return z.enter("codeFencedFence"),Ri(le)?qi(z,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le):oe(le)}function oe(le){return le===h?(z.enter("codeFencedFenceSequence"),he(le)):Y(le)}function he(le){return le===h?(K++,z.consume(le),he):K>=c?(z.exit("codeFencedFenceSequence"),Ri(le)?qi(z,be,"whitespace")(le):be(le)):Y(le)}function be(le){return le===null||Wr(le)?(z.exit("codeFencedFence"),W(le)):Y(le)}}}function xFe(e,t,n){const r=this;return i;function i(c){return c===null?n(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),s)}function s(c){return r.parser.lazy[r.now().line]?n(c):t(c)}}const S6={name:"codeIndented",tokenize:SFe},wFe={partial:!0,tokenize:AFe};function SFe(e,t,n){const r=this;return i;function i(m){return e.enter("codeIndented"),qi(e,s,"linePrefix",5)(m)}function s(m){const y=r.events[r.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?c(m):n(m)}function c(m){return m===null?o(m):Wr(m)?e.attempt(wFe,c,o)(m):(e.enter("codeFlowValue"),h(m))}function h(m){return m===null||Wr(m)?(e.exit("codeFlowValue"),c(m)):(e.consume(m),h)}function o(m){return e.exit("codeIndented"),t(m)}}function AFe(e,t,n){const r=this;return i;function i(c){return r.parser.lazy[r.now().line]?n(c):Wr(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),i):qi(e,s,"linePrefix",5)(c)}function s(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(c):Wr(c)?i(c):n(c)}}const CFe={name:"codeText",previous:EFe,resolve:MFe,tokenize:TFe};function MFe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function EFe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function TFe(e,t,n){let r=0,i,s;return c;function c(v){return e.enter("codeText"),e.enter("codeTextSequence"),h(v)}function h(v){return v===96?(e.consume(v),r++,h):(e.exit("codeTextSequence"),o(v))}function o(v){return v===null?n(v):v===32?(e.enter("space"),e.consume(v),e.exit("space"),o):v===96?(s=e.enter("codeTextSequence"),i=0,y(v)):Wr(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),o):(e.enter("codeTextData"),m(v))}function m(v){return v===null||v===32||v===96||Wr(v)?(e.exit("codeTextData"),o(v)):(e.consume(v),m)}function y(v){return v===96?(e.consume(v),i++,y):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(v)):(s.type="codeTextData",m(v))}}class PFe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&_x(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),_x(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),_x(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);_x(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);_x(this.left,n.reverse())}}}function _x(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Ole(e){const t={};let n=-1,r,i,s,c,h,o,m;const y=new PFe(e);for(;++n<y.length;){for(;n in t;)n=t[n];if(r=y.get(n),n&&r[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(o=r[1]._tokenizer.events,s=0,s<o.length&&o[s][1].type==="lineEndingBlank"&&(s+=2),s<o.length&&o[s][1].type==="content"))for(;++s<o.length&&o[s][1].type!=="content";)o[s][1].type==="chunkText"&&(o[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,IFe(y,n)),n=t[n],m=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(c=y.get(s),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(i&&(y.get(i)[1].type="lineEndingBlank"),c[1].type="lineEnding",i=s);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;i&&(r[1].end={...y.get(i)[1].start},h=y.slice(i,n),h.unshift(r),y.splice(i,n-i+1,h))}}return Ac(e,0,Number.POSITIVE_INFINITY,y.slice(0)),!m}function IFe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let c=n._tokenizer;c||(c=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const h=c.events,o=[],m={};let y,v,S=-1,C=n,P=0,I=0;const N=[I];for(;C;){for(;e.get(++i)[1]!==C;);s.push(i),C._tokenizer||(y=r.sliceStream(C),C.next||y.push(null),v&&c.defineSkip(C.start),C._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(y),C._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),v=C,C=C.next}for(C=n;++S<h.length;)h[S][0]==="exit"&&h[S-1][0]==="enter"&&h[S][1].type===h[S-1][1].type&&h[S][1].start.line!==h[S][1].end.line&&(I=S+1,N.push(I),C._tokenizer=void 0,C.previous=void 0,C=C.next);for(c.events=[],C?(C._tokenizer=void 0,C.previous=void 0):N.pop(),S=N.length;S--;){const D=h.slice(N[S],N[S+1]),k=s.pop();o.push([k,k+D.length-1]),e.splice(k,2,D)}for(o.reverse(),S=-1;++S<o.length;)m[P+o[S][0]]=P+o[S][1],P+=o[S][1]-o[S][0]-1;return m}const OFe={resolve:NFe,tokenize:RFe},kFe={partial:!0,tokenize:DFe};function NFe(e){return Ole(e),e}function RFe(e,t){let n;return r;function r(h){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(h)}function i(h){return h===null?s(h):Wr(h)?e.check(kFe,c,s)(h):(e.consume(h),i)}function s(h){return e.exit("chunkContent"),e.exit("content"),t(h)}function c(h){return e.consume(h),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function DFe(e,t,n){const r=this;return i;function i(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),qi(e,s,"linePrefix")}function s(c){if(c===null||Wr(c))return n(c);const h=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(c):e.interrupt(r.parser.constructs.flow,n,t)(c)}}function kle(e,t,n,r,i,s,c,h,o){const m=o||Number.POSITIVE_INFINITY;let y=0;return v;function v(D){return D===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(D),e.exit(s),S):D===null||D===32||D===41||AT(D)?n(D):(e.enter(r),e.enter(c),e.enter(h),e.enter("chunkString",{contentType:"string"}),I(D))}function S(D){return D===62?(e.enter(s),e.consume(D),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(h),e.enter("chunkString",{contentType:"string"}),C(D))}function C(D){return D===62?(e.exit("chunkString"),e.exit(h),S(D)):D===null||D===60||Wr(D)?n(D):(e.consume(D),D===92?P:C)}function P(D){return D===60||D===62||D===92?(e.consume(D),C):C(D)}function I(D){return!y&&(D===null||D===41||No(D))?(e.exit("chunkString"),e.exit(h),e.exit(c),e.exit(r),t(D)):y<m&&D===40?(e.consume(D),y++,I):D===41?(e.consume(D),y--,I):D===null||D===32||D===40||AT(D)?n(D):(e.consume(D),D===92?N:I)}function N(D){return D===40||D===41||D===92?(e.consume(D),I):I(D)}}function Nle(e,t,n,r,i,s){const c=this;let h=0,o;return m;function m(C){return e.enter(r),e.enter(i),e.consume(C),e.exit(i),e.enter(s),y}function y(C){return h>999||C===null||C===91||C===93&&!o||C===94&&!h&&"_hiddenFootnoteSupport"in c.parser.constructs?n(C):C===93?(e.exit(s),e.enter(i),e.consume(C),e.exit(i),e.exit(r),t):Wr(C)?(e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),y):(e.enter("chunkString",{contentType:"string"}),v(C))}function v(C){return C===null||C===91||C===93||Wr(C)||h++>999?(e.exit("chunkString"),y(C)):(e.consume(C),o||(o=!Ri(C)),C===92?S:v)}function S(C){return C===91||C===92||C===93?(e.consume(C),h++,v):v(C)}}function Rle(e,t,n,r,i,s){let c;return h;function h(S){return S===34||S===39||S===40?(e.enter(r),e.enter(i),e.consume(S),e.exit(i),c=S===40?41:S,o):n(S)}function o(S){return S===c?(e.enter(i),e.consume(S),e.exit(i),e.exit(r),t):(e.enter(s),m(S))}function m(S){return S===c?(e.exit(s),o(c)):S===null?n(S):Wr(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),qi(e,m,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===c||S===null||Wr(S)?(e.exit("chunkString"),m(S)):(e.consume(S),S===92?v:y)}function v(S){return S===c||S===92?(e.consume(S),y):y(S)}}function lw(e,t){let n;return r;function r(i){return Wr(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ri(i)?qi(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const LFe={name:"definition",tokenize:$Fe},FFe={partial:!0,tokenize:jFe};function $Fe(e,t,n){const r=this;let i;return s;function s(C){return e.enter("definition"),c(C)}function c(C){return Nle.call(r,e,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(C)}function h(C){return i=Gu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),C===58?(e.enter("definitionMarker"),e.consume(C),e.exit("definitionMarker"),o):n(C)}function o(C){return No(C)?lw(e,m)(C):m(C)}function m(C){return kle(e,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(C)}function y(C){return e.attempt(FFe,v,v)(C)}function v(C){return Ri(C)?qi(e,S,"whitespace")(C):S(C)}function S(C){return C===null||Wr(C)?(e.exit("definition"),r.parser.defined.push(i),t(C)):n(C)}}function jFe(e,t,n){return r;function r(h){return No(h)?lw(e,i)(h):n(h)}function i(h){return Rle(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function s(h){return Ri(h)?qi(e,c,"whitespace")(h):c(h)}function c(h){return h===null||Wr(h)?t(h):n(h)}}const zFe={name:"hardBreakEscape",tokenize:BFe};function BFe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Wr(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const ZFe={name:"headingAtx",resolve:UFe,tokenize:HFe};function UFe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ac(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function HFe(e,t,n){let r=0;return i;function i(y){return e.enter("atxHeading"),s(y)}function s(y){return e.enter("atxHeadingSequence"),c(y)}function c(y){return y===35&&r++<6?(e.consume(y),c):y===null||No(y)?(e.exit("atxHeadingSequence"),h(y)):n(y)}function h(y){return y===35?(e.enter("atxHeadingSequence"),o(y)):y===null||Wr(y)?(e.exit("atxHeading"),t(y)):Ri(y)?qi(e,h,"whitespace")(y):(e.enter("atxHeadingText"),m(y))}function o(y){return y===35?(e.consume(y),o):(e.exit("atxHeadingSequence"),h(y))}function m(y){return y===null||y===35||No(y)?(e.exit("atxHeadingText"),h(y)):(e.consume(y),m)}}const VFe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],VK=["pre","script","style","textarea"],WFe={concrete:!0,name:"htmlFlow",resolveTo:qFe,tokenize:XFe},GFe={partial:!0,tokenize:JFe},KFe={partial:!0,tokenize:YFe};function qFe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function XFe(e,t,n){const r=this;let i,s,c,h,o;return m;function m(de){return y(de)}function y(de){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(de),v}function v(de){return de===33?(e.consume(de),S):de===47?(e.consume(de),s=!0,I):de===63?(e.consume(de),i=3,r.interrupt?t:ae):hl(de)?(e.consume(de),c=String.fromCharCode(de),N):n(de)}function S(de){return de===45?(e.consume(de),i=2,C):de===91?(e.consume(de),i=5,h=0,P):hl(de)?(e.consume(de),i=4,r.interrupt?t:ae):n(de)}function C(de){return de===45?(e.consume(de),r.interrupt?t:ae):n(de)}function P(de){const ze="CDATA[";return de===ze.charCodeAt(h++)?(e.consume(de),h===ze.length?r.interrupt?t:oe:P):n(de)}function I(de){return hl(de)?(e.consume(de),c=String.fromCharCode(de),N):n(de)}function N(de){if(de===null||de===47||de===62||No(de)){const ze=de===47,$e=c.toLowerCase();return!ze&&!s&&VK.includes($e)?(i=1,r.interrupt?t(de):oe(de)):VFe.includes(c.toLowerCase())?(i=6,ze?(e.consume(de),D):r.interrupt?t(de):oe(de)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(de):s?k(de):F(de))}return de===45||Xs(de)?(e.consume(de),c+=String.fromCharCode(de),N):n(de)}function D(de){return de===62?(e.consume(de),r.interrupt?t:oe):n(de)}function k(de){return Ri(de)?(e.consume(de),k):ee(de)}function F(de){return de===47?(e.consume(de),ee):de===58||de===95||hl(de)?(e.consume(de),U):Ri(de)?(e.consume(de),F):ee(de)}function U(de){return de===45||de===46||de===58||de===95||Xs(de)?(e.consume(de),U):B(de)}function B(de){return de===61?(e.consume(de),z):Ri(de)?(e.consume(de),B):F(de)}function z(de){return de===null||de===60||de===61||de===62||de===96?n(de):de===34||de===39?(e.consume(de),o=de,W):Ri(de)?(e.consume(de),z):Y(de)}function W(de){return de===o?(e.consume(de),o=null,K):de===null||Wr(de)?n(de):(e.consume(de),W)}function Y(de){return de===null||de===34||de===39||de===47||de===60||de===61||de===62||de===96||No(de)?B(de):(e.consume(de),Y)}function K(de){return de===47||de===62||Ri(de)?F(de):n(de)}function ee(de){return de===62?(e.consume(de),re):n(de)}function re(de){return de===null||Wr(de)?oe(de):Ri(de)?(e.consume(de),re):n(de)}function oe(de){return de===45&&i===2?(e.consume(de),ye):de===60&&i===1?(e.consume(de),fe):de===62&&i===4?(e.consume(de),Ee):de===63&&i===3?(e.consume(de),ae):de===93&&i===5?(e.consume(de),xe):Wr(de)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(GFe,Me,he)(de)):de===null||Wr(de)?(e.exit("htmlFlowData"),he(de)):(e.consume(de),oe)}function he(de){return e.check(KFe,be,Me)(de)}function be(de){return e.enter("lineEnding"),e.consume(de),e.exit("lineEnding"),le}function le(de){return de===null||Wr(de)?he(de):(e.enter("htmlFlowData"),oe(de))}function ye(de){return de===45?(e.consume(de),ae):oe(de)}function fe(de){return de===47?(e.consume(de),c="",ue):oe(de)}function ue(de){if(de===62){const ze=c.toLowerCase();return VK.includes(ze)?(e.consume(de),Ee):oe(de)}return hl(de)&&c.length<8?(e.consume(de),c+=String.fromCharCode(de),ue):oe(de)}function xe(de){return de===93?(e.consume(de),ae):oe(de)}function ae(de){return de===62?(e.consume(de),Ee):de===45&&i===2?(e.consume(de),ae):oe(de)}function Ee(de){return de===null||Wr(de)?(e.exit("htmlFlowData"),Me(de)):(e.consume(de),Ee)}function Me(de){return e.exit("htmlFlow"),t(de)}}function YFe(e,t,n){const r=this;return i;function i(c){return Wr(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),s):n(c)}function s(c){return r.parser.lazy[r.now().line]?n(c):t(c)}}function JFe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(gA,t,n)}}const QFe={name:"htmlText",tokenize:e$e};function e$e(e,t,n){const r=this;let i,s,c;return h;function h(ae){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(ae),o}function o(ae){return ae===33?(e.consume(ae),m):ae===47?(e.consume(ae),B):ae===63?(e.consume(ae),F):hl(ae)?(e.consume(ae),Y):n(ae)}function m(ae){return ae===45?(e.consume(ae),y):ae===91?(e.consume(ae),s=0,P):hl(ae)?(e.consume(ae),k):n(ae)}function y(ae){return ae===45?(e.consume(ae),C):n(ae)}function v(ae){return ae===null?n(ae):ae===45?(e.consume(ae),S):Wr(ae)?(c=v,fe(ae)):(e.consume(ae),v)}function S(ae){return ae===45?(e.consume(ae),C):v(ae)}function C(ae){return ae===62?ye(ae):ae===45?S(ae):v(ae)}function P(ae){const Ee="CDATA[";return ae===Ee.charCodeAt(s++)?(e.consume(ae),s===Ee.length?I:P):n(ae)}function I(ae){return ae===null?n(ae):ae===93?(e.consume(ae),N):Wr(ae)?(c=I,fe(ae)):(e.consume(ae),I)}function N(ae){return ae===93?(e.consume(ae),D):I(ae)}function D(ae){return ae===62?ye(ae):ae===93?(e.consume(ae),D):I(ae)}function k(ae){return ae===null||ae===62?ye(ae):Wr(ae)?(c=k,fe(ae)):(e.consume(ae),k)}function F(ae){return ae===null?n(ae):ae===63?(e.consume(ae),U):Wr(ae)?(c=F,fe(ae)):(e.consume(ae),F)}function U(ae){return ae===62?ye(ae):F(ae)}function B(ae){return hl(ae)?(e.consume(ae),z):n(ae)}function z(ae){return ae===45||Xs(ae)?(e.consume(ae),z):W(ae)}function W(ae){return Wr(ae)?(c=W,fe(ae)):Ri(ae)?(e.consume(ae),W):ye(ae)}function Y(ae){return ae===45||Xs(ae)?(e.consume(ae),Y):ae===47||ae===62||No(ae)?K(ae):n(ae)}function K(ae){return ae===47?(e.consume(ae),ye):ae===58||ae===95||hl(ae)?(e.consume(ae),ee):Wr(ae)?(c=K,fe(ae)):Ri(ae)?(e.consume(ae),K):ye(ae)}function ee(ae){return ae===45||ae===46||ae===58||ae===95||Xs(ae)?(e.consume(ae),ee):re(ae)}function re(ae){return ae===61?(e.consume(ae),oe):Wr(ae)?(c=re,fe(ae)):Ri(ae)?(e.consume(ae),re):K(ae)}function oe(ae){return ae===null||ae===60||ae===61||ae===62||ae===96?n(ae):ae===34||ae===39?(e.consume(ae),i=ae,he):Wr(ae)?(c=oe,fe(ae)):Ri(ae)?(e.consume(ae),oe):(e.consume(ae),be)}function he(ae){return ae===i?(e.consume(ae),i=void 0,le):ae===null?n(ae):Wr(ae)?(c=he,fe(ae)):(e.consume(ae),he)}function be(ae){return ae===null||ae===34||ae===39||ae===60||ae===61||ae===96?n(ae):ae===47||ae===62||No(ae)?K(ae):(e.consume(ae),be)}function le(ae){return ae===47||ae===62||No(ae)?K(ae):n(ae)}function ye(ae){return ae===62?(e.consume(ae),e.exit("htmlTextData"),e.exit("htmlText"),t):n(ae)}function fe(ae){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(ae),e.exit("lineEnding"),ue}function ue(ae){return Ri(ae)?qi(e,xe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ae):xe(ae)}function xe(ae){return e.enter("htmlTextData"),c(ae)}}const d9={name:"labelEnd",resolveAll:i$e,resolveTo:o$e,tokenize:a$e},t$e={tokenize:s$e},n$e={tokenize:l$e},r$e={tokenize:c$e};function i$e(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Ac(e,0,e.length,n),e}function o$e(e,t){let n=e.length,r=0,i,s,c,h;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(c){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(c=n);const o={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},m={type:"label",start:{...e[s][1].start},end:{...e[c][1].end}},y={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[c-2][1].start}};return h=[["enter",o,t],["enter",m,t]],h=Gc(h,e.slice(s+1,s+r+3)),h=Gc(h,[["enter",y,t]]),h=Gc(h,Q3(t.parser.constructs.insideSpan.null,e.slice(s+r+4,c-3),t)),h=Gc(h,[["exit",y,t],e[c-2],e[c-1],["exit",m,t]]),h=Gc(h,e.slice(c+1)),h=Gc(h,[["exit",o,t]]),Ac(e,s,e.length,h),e}function a$e(e,t,n){const r=this;let i=r.events.length,s,c;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return h;function h(S){return s?s._inactive?v(S):(c=r.parser.defined.includes(Gu(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(S),e.exit("labelMarker"),e.exit("labelEnd"),o):n(S)}function o(S){return S===40?e.attempt(t$e,y,c?y:v)(S):S===91?e.attempt(n$e,y,c?m:v)(S):c?y(S):v(S)}function m(S){return e.attempt(r$e,y,v)(S)}function y(S){return t(S)}function v(S){return s._balanced=!0,n(S)}}function s$e(e,t,n){return r;function r(v){return e.enter("resource"),e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),i}function i(v){return No(v)?lw(e,s)(v):s(v)}function s(v){return v===41?y(v):kle(e,c,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function c(v){return No(v)?lw(e,o)(v):y(v)}function h(v){return n(v)}function o(v){return v===34||v===39||v===40?Rle(e,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):y(v)}function m(v){return No(v)?lw(e,y)(v):y(v)}function y(v){return v===41?(e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),e.exit("resource"),t):n(v)}}function l$e(e,t,n){const r=this;return i;function i(h){return Nle.call(r,e,s,c,"reference","referenceMarker","referenceString")(h)}function s(h){return r.parser.defined.includes(Gu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(h):n(h)}function c(h){return n(h)}}function c$e(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const u$e={name:"labelStartImage",resolveAll:d9.resolveAll,tokenize:d$e};function d$e(e,t,n){const r=this;return i;function i(h){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(h),e.exit("labelImageMarker"),s}function s(h){return h===91?(e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelImage"),c):n(h)}function c(h){return h===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(h):t(h)}}const h$e={name:"labelStartLink",resolveAll:d9.resolveAll,tokenize:p$e};function p$e(e,t,n){const r=this;return i;function i(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),s}function s(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const A6={name:"lineEnding",tokenize:f$e};function f$e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),qi(e,t,"linePrefix")}}const hE={name:"thematicBreak",tokenize:m$e};function m$e(e,t,n){let r=0,i;return s;function s(m){return e.enter("thematicBreak"),c(m)}function c(m){return i=m,h(m)}function h(m){return m===i?(e.enter("thematicBreakSequence"),o(m)):r>=3&&(m===null||Wr(m))?(e.exit("thematicBreak"),t(m)):n(m)}function o(m){return m===i?(e.consume(m),r++,o):(e.exit("thematicBreakSequence"),Ri(m)?qi(e,h,"whitespace")(m):h(m))}}const kl={continuation:{tokenize:b$e},exit:x$e,name:"list",tokenize:v$e},g$e={partial:!0,tokenize:w$e},y$e={partial:!0,tokenize:_$e};function v$e(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,c=0;return h;function h(C){const P=r.containerState.type||(C===42||C===43||C===45?"listUnordered":"listOrdered");if(P==="listUnordered"?!r.containerState.marker||C===r.containerState.marker:z8(C)){if(r.containerState.type||(r.containerState.type=P,e.enter(P,{_container:!0})),P==="listUnordered")return e.enter("listItemPrefix"),C===42||C===45?e.check(hE,n,m)(C):m(C);if(!r.interrupt||C===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(C)}return n(C)}function o(C){return z8(C)&&++c<10?(e.consume(C),o):(!r.interrupt||c<2)&&(r.containerState.marker?C===r.containerState.marker:C===41||C===46)?(e.exit("listItemValue"),m(C)):n(C)}function m(C){return e.enter("listItemMarker"),e.consume(C),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||C,e.check(gA,r.interrupt?n:y,e.attempt(g$e,S,v))}function y(C){return r.containerState.initialBlankLine=!0,s++,S(C)}function v(C){return Ri(C)?(e.enter("listItemPrefixWhitespace"),e.consume(C),e.exit("listItemPrefixWhitespace"),S):n(C)}function S(C){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(C)}}function b$e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(gA,i,s);function i(h){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,qi(e,t,"listItemIndent",r.containerState.size+1)(h)}function s(h){return r.containerState.furtherBlankLines||!Ri(h)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,c(h)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(y$e,t,c)(h))}function c(h){return r.containerState._closeFlow=!0,r.interrupt=void 0,qi(e,e.attempt(kl,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function _$e(e,t,n){const r=this;return qi(e,i,"listItemIndent",r.containerState.size+1);function i(s){const c=r.events[r.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===r.containerState.size?t(s):n(s)}}function x$e(e){e.exit(this.containerState.type)}function w$e(e,t,n){const r=this;return qi(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const c=r.events[r.events.length-1];return!Ri(s)&&c&&c[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const WK={name:"setextUnderline",resolveTo:S$e,tokenize:A$e};function S$e(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const c={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",c,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=c,e.push(["exit",c,t]),e}function A$e(e,t,n){const r=this;let i;return s;function s(m){let y=r.events.length,v;for(;y--;)if(r.events[y][1].type!=="lineEnding"&&r.events[y][1].type!=="linePrefix"&&r.events[y][1].type!=="content"){v=r.events[y][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||v)?(e.enter("setextHeadingLine"),i=m,c(m)):n(m)}function c(m){return e.enter("setextHeadingLineSequence"),h(m)}function h(m){return m===i?(e.consume(m),h):(e.exit("setextHeadingLineSequence"),Ri(m)?qi(e,o,"lineSuffix")(m):o(m))}function o(m){return m===null||Wr(m)?(e.exit("setextHeadingLine"),t(m)):n(m)}}const C$e={tokenize:M$e};function M$e(e){const t=this,n=e.attempt(gA,r,e.attempt(this.parser.constructs.flowInitial,i,qi(e,e.attempt(this.parser.constructs.flow,i,e.attempt(OFe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const E$e={resolveAll:Lle()},T$e=Dle("string"),P$e=Dle("text");function Dle(e){return{resolveAll:Lle(e==="text"?I$e:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,c,h);return c;function c(y){return m(y)?s(y):h(y)}function h(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),o}function o(y){return m(y)?(n.exit("data"),s(y)):(n.consume(y),o)}function m(y){if(y===null)return!0;const v=i[y];let S=-1;if(v)for(;++S<v.length;){const C=v[S];if(!C.previous||C.previous.call(r,r.previous))return!0}return!1}}}function Lle(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function I$e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,c=-1,h=0,o;for(;s--;){const m=i[s];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)h++,c--;if(c)break;c=-1}else if(m===-2)o=!0,h++;else if(m!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(h=0),h){const m={type:n===e.length||o||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?c:r.start._bufferIndex+c,_index:r.start._index+s,line:r.end.line,column:r.end.column-h,offset:r.end.offset-h},end:{...r.end}};r.end={...m.start},r.start.offset===r.end.offset?Object.assign(r,m):(e.splice(n,0,["enter",m,t],["exit",m,t]),n+=2)}n++}return e}const O$e={42:kl,43:kl,45:kl,48:kl,49:kl,50:kl,51:kl,52:kl,53:kl,54:kl,55:kl,56:kl,57:kl,62:Tle},k$e={91:LFe},N$e={[-2]:S6,[-1]:S6,32:S6},R$e={35:ZFe,42:hE,45:[WK,hE],60:WFe,61:WK,95:hE,96:HK,126:HK},D$e={38:Ile,92:Ple},L$e={[-5]:A6,[-4]:A6,[-3]:A6,33:u$e,38:Ile,42:B8,60:[hFe,QFe],91:h$e,92:[zFe,Ple],93:d9,95:B8,96:CFe},F$e={null:[B8,E$e]},$$e={null:[42,95]},j$e={null:[]},z$e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:$$e,contentInitial:k$e,disable:j$e,document:O$e,flow:R$e,flowInitial:N$e,insideSpan:F$e,string:D$e,text:L$e},Symbol.toStringTag,{value:"Module"}));function B$e(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let c=[],h=[];const o={attempt:W(B),check:W(z),consume:k,enter:F,exit:U,interrupt:W(z,{interrupt:!0})},m={code:null,containerState:{},defineSkip:I,events:[],now:P,parser:e,previous:null,sliceSerialize:S,sliceStream:C,write:v};let y=t.tokenize.call(m,o);return t.resolveAll&&s.push(t),m;function v(re){return c=Gc(c,re),N(),c[c.length-1]!==null?[]:(Y(t,0),m.events=Q3(s,m.events,m),m.events)}function S(re,oe){return U$e(C(re),oe)}function C(re){return Z$e(c,re)}function P(){const{_bufferIndex:re,_index:oe,line:he,column:be,offset:le}=r;return{_bufferIndex:re,_index:oe,line:he,column:be,offset:le}}function I(re){i[re.line]=re.column,ee()}function N(){let re;for(;r._index<c.length;){const oe=c[r._index];if(typeof oe=="string")for(re=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===re&&r._bufferIndex<oe.length;)D(oe.charCodeAt(r._bufferIndex));else D(oe)}}function D(re){y=y(re)}function k(re){Wr(re)?(r.line++,r.column=1,r.offset+=re===-3?2:1,ee()):re!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===c[r._index].length&&(r._bufferIndex=-1,r._index++)),m.previous=re}function F(re,oe){const he=oe||{};return he.type=re,he.start=P(),m.events.push(["enter",he,m]),h.push(he),he}function U(re){const oe=h.pop();return oe.end=P(),m.events.push(["exit",oe,m]),oe}function B(re,oe){Y(re,oe.from)}function z(re,oe){oe.restore()}function W(re,oe){return he;function he(be,le,ye){let fe,ue,xe,ae;return Array.isArray(be)?Me(be):"tokenize"in be?Me([be]):Ee(be);function Ee(et){return gt;function gt(lt){const We=lt!==null&&et[lt],qe=lt!==null&&et.null,Qe=[...Array.isArray(We)?We:We?[We]:[],...Array.isArray(qe)?qe:qe?[qe]:[]];return Me(Qe)(lt)}}function Me(et){return fe=et,ue=0,et.length===0?ye:de(et[ue])}function de(et){return gt;function gt(lt){return ae=K(),xe=et,et.partial||(m.currentConstruct=et),et.name&&m.parser.constructs.disable.null.includes(et.name)?$e():et.tokenize.call(oe?Object.assign(Object.create(m),oe):m,o,ze,$e)(lt)}}function ze(et){return re(xe,ae),le}function $e(et){return ae.restore(),++ue<fe.length?de(fe[ue]):ye}}}function Y(re,oe){re.resolveAll&&!s.includes(re)&&s.push(re),re.resolve&&Ac(m.events,oe,m.events.length-oe,re.resolve(m.events.slice(oe),m)),re.resolveTo&&(m.events=re.resolveTo(m.events,m))}function K(){const re=P(),oe=m.previous,he=m.currentConstruct,be=m.events.length,le=Array.from(h);return{from:be,restore:ye};function ye(){r=re,m.previous=oe,m.currentConstruct=he,m.events.length=be,h=le,ee()}}function ee(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Z$e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let c;if(n===i)c=[e[n].slice(r,s)];else{if(c=e.slice(n,i),r>-1){const h=c[0];typeof h=="string"?c[0]=h.slice(r):c.shift()}s>0&&c.push(e[i].slice(0,s))}return c}function U$e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let c;if(typeof s=="string")c=s;else switch(s){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&i)continue;c=" ";break}default:c=String.fromCharCode(s)}i=s===-2,r.push(c)}return r.join("")}function H$e(e){const r={constructs:Mle([z$e,...(e||{}).extensions||[]]),content:i(oFe),defined:[],document:i(sFe),flow:i(C$e),lazy:{},string:i(T$e),text:i(P$e)};return r;function i(s){return c;function c(h){return B$e(r,s,h)}}}function V$e(e){for(;!Ole(e););return e}const GK=/[\0\t\n\r]/g;function W$e(){let e=1,t="",n=!0,r;return i;function i(s,c,h){const o=[];let m,y,v,S,C;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(c||void 0).decode(s)),v=0,t="",n&&(s.charCodeAt(0)===65279&&v++,n=void 0);v<s.length;){if(GK.lastIndex=v,m=GK.exec(s),S=m&&m.index!==void 0?m.index:s.length,C=s.charCodeAt(S),!m){t=s.slice(v);break}if(C===10&&v===S&&r)o.push(-3),r=void 0;else switch(r&&(o.push(-5),r=void 0),v<S&&(o.push(s.slice(v,S)),e+=S-v),C){case 0:{o.push(65533),e++;break}case 9:{for(y=Math.ceil(e/4)*4,o.push(-2);e++<y;)o.push(-1);break}case 10:{o.push(-4),e=1;break}default:r=!0,e=1}v=S+1}return h&&(r&&o.push(-5),t&&o.push(t),o.push(null)),o}}const G$e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function K$e(e){return e.replace(G$e,q$e)}function q$e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Ele(n.slice(s?2:1),s?16:10)}return u9(n)||e}const Fle={}.hasOwnProperty;function X$e(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Y$e(n)(V$e(H$e(n).document().write(W$e()(e,t,!0))))}function Y$e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ln),autolinkProtocol:K,autolinkEmail:K,atxHeading:s(pt),blockQuote:s(qe),characterEscape:K,characterReference:K,codeFenced:s(Qe),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:s(Qe,c),codeText:s(Ve,c),codeTextData:K,data:K,codeFlowValue:K,definition:s(yt),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:s(it),hardBreakEscape:s($t),hardBreakTrailing:s($t),htmlFlow:s(Jt,c),htmlFlowData:K,htmlText:s(Jt,c),htmlTextData:K,image:s(on),label:c,link:s(ln),listItem:s(en),listItemValue:S,listOrdered:s(Lt,v),listUnordered:s(Lt),paragraph:s(Kt),reference:de,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:s(pt),strong:s(Zt),thematicBreak:s(Fn)},exit:{atxHeading:o(),atxHeadingSequence:B,autolink:o(),autolinkEmail:We,autolinkProtocol:lt,blockQuote:o(),characterEscapeValue:ee,characterReferenceMarkerHexadecimal:$e,characterReferenceMarkerNumeric:$e,characterReferenceValue:et,characterReference:gt,codeFenced:o(N),codeFencedFence:I,codeFencedFenceInfo:C,codeFencedFenceMeta:P,codeFlowValue:ee,codeIndented:o(D),codeText:o(le),codeTextData:ee,data:ee,definition:o(),definitionDestinationString:U,definitionLabelString:k,definitionTitleString:F,emphasis:o(),hardBreakEscape:o(oe),hardBreakTrailing:o(oe),htmlFlow:o(he),htmlFlowData:ee,htmlText:o(be),htmlTextData:ee,image:o(fe),label:xe,labelText:ue,lineEnding:re,link:o(ye),listItem:o(),listOrdered:o(),listUnordered:o(),paragraph:o(),referenceString:ze,resourceDestinationString:ae,resourceTitleString:Ee,resource:Me,setextHeading:o(Y),setextHeadingLineSequence:W,setextHeadingText:z,strong:o(),thematicBreak:o()}};$le(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(je){let me={type:"root",children:[]};const we={stack:[me],tokenStack:[],config:t,enter:h,exit:m,buffer:c,resume:y,data:n},Ne=[];let Xe=-1;for(;++Xe<je.length;)if(je[Xe][1].type==="listOrdered"||je[Xe][1].type==="listUnordered")if(je[Xe][0]==="enter")Ne.push(Xe);else{const ot=Ne.pop();Xe=i(je,ot,Xe)}for(Xe=-1;++Xe<je.length;){const ot=t[je[Xe][0]];Fle.call(ot,je[Xe][1].type)&&ot[je[Xe][1].type].call(Object.assign({sliceSerialize:je[Xe][2].sliceSerialize},we),je[Xe][1])}if(we.tokenStack.length>0){const ot=we.tokenStack[we.tokenStack.length-1];(ot[1]||KK).call(we,void 0,ot[0])}for(me.position={start:Xp(je.length>0?je[0][1].start:{line:1,column:1,offset:0}),end:Xp(je.length>0?je[je.length-2][1].end:{line:1,column:1,offset:0})},Xe=-1;++Xe<t.transforms.length;)me=t.transforms[Xe](me)||me;return me}function i(je,me,we){let Ne=me-1,Xe=-1,ot=!1,st,_t,nt,St;for(;++Ne<=we;){const Et=je[Ne];switch(Et[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Et[0]==="enter"?Xe++:Xe--,St=void 0;break}case"lineEndingBlank":{Et[0]==="enter"&&(st&&!St&&!Xe&&!nt&&(nt=Ne),St=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:St=void 0}if(!Xe&&Et[0]==="enter"&&Et[1].type==="listItemPrefix"||Xe===-1&&Et[0]==="exit"&&(Et[1].type==="listUnordered"||Et[1].type==="listOrdered")){if(st){let ft=Ne;for(_t=void 0;ft--;){const jt=je[ft];if(jt[1].type==="lineEnding"||jt[1].type==="lineEndingBlank"){if(jt[0]==="exit")continue;_t&&(je[_t][1].type="lineEndingBlank",ot=!0),jt[1].type="lineEnding",_t=ft}else if(!(jt[1].type==="linePrefix"||jt[1].type==="blockQuotePrefix"||jt[1].type==="blockQuotePrefixWhitespace"||jt[1].type==="blockQuoteMarker"||jt[1].type==="listItemIndent"))break}nt&&(!_t||nt<_t)&&(st._spread=!0),st.end=Object.assign({},_t?je[_t][1].start:Et[1].end),je.splice(_t||Ne,0,["exit",st,Et[2]]),Ne++,we++}if(Et[1].type==="listItemPrefix"){const ft={type:"listItem",_spread:!1,start:Object.assign({},Et[1].start),end:void 0};st=ft,je.splice(Ne,0,["enter",ft,Et[2]]),Ne++,we++,nt=void 0,St=!0}}}return je[me][1]._spread=ot,we}function s(je,me){return we;function we(Ne){h.call(this,je(Ne),Ne),me&&me.call(this,Ne)}}function c(){this.stack.push({type:"fragment",children:[]})}function h(je,me,we){this.stack[this.stack.length-1].children.push(je),this.stack.push(je),this.tokenStack.push([me,we||void 0]),je.position={start:Xp(me.start),end:void 0}}function o(je){return me;function me(we){je&&je.call(this,we),m.call(this,we)}}function m(je,me){const we=this.stack.pop(),Ne=this.tokenStack.pop();if(Ne)Ne[0].type!==je.type&&(me?me.call(this,je,Ne[0]):(Ne[1]||KK).call(this,je,Ne[0]));else throw new Error("Cannot close `"+je.type+"` ("+sw({start:je.start,end:je.end})+"): it’s not open");we.position.end=Xp(je.end)}function y(){return c9(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function S(je){if(this.data.expectingFirstListItemValue){const me=this.stack[this.stack.length-2];me.start=Number.parseInt(this.sliceSerialize(je),10),this.data.expectingFirstListItemValue=void 0}}function C(){const je=this.resume(),me=this.stack[this.stack.length-1];me.lang=je}function P(){const je=this.resume(),me=this.stack[this.stack.length-1];me.meta=je}function I(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function N(){const je=this.resume(),me=this.stack[this.stack.length-1];me.value=je.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function D(){const je=this.resume(),me=this.stack[this.stack.length-1];me.value=je.replace(/(\r?\n|\r)$/g,"")}function k(je){const me=this.resume(),we=this.stack[this.stack.length-1];we.label=me,we.identifier=Gu(this.sliceSerialize(je)).toLowerCase()}function F(){const je=this.resume(),me=this.stack[this.stack.length-1];me.title=je}function U(){const je=this.resume(),me=this.stack[this.stack.length-1];me.url=je}function B(je){const me=this.stack[this.stack.length-1];if(!me.depth){const we=this.sliceSerialize(je).length;me.depth=we}}function z(){this.data.setextHeadingSlurpLineEnding=!0}function W(je){const me=this.stack[this.stack.length-1];me.depth=this.sliceSerialize(je).codePointAt(0)===61?1:2}function Y(){this.data.setextHeadingSlurpLineEnding=void 0}function K(je){const we=this.stack[this.stack.length-1].children;let Ne=we[we.length-1];(!Ne||Ne.type!=="text")&&(Ne=En(),Ne.position={start:Xp(je.start),end:void 0},we.push(Ne)),this.stack.push(Ne)}function ee(je){const me=this.stack.pop();me.value+=this.sliceSerialize(je),me.position.end=Xp(je.end)}function re(je){const me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const we=me.children[me.children.length-1];we.position.end=Xp(je.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(me.type)&&(K.call(this,je),ee.call(this,je))}function oe(){this.data.atHardBreak=!0}function he(){const je=this.resume(),me=this.stack[this.stack.length-1];me.value=je}function be(){const je=this.resume(),me=this.stack[this.stack.length-1];me.value=je}function le(){const je=this.resume(),me=this.stack[this.stack.length-1];me.value=je}function ye(){const je=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";je.type+="Reference",je.referenceType=me,delete je.url,delete je.title}else delete je.identifier,delete je.label;this.data.referenceType=void 0}function fe(){const je=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";je.type+="Reference",je.referenceType=me,delete je.url,delete je.title}else delete je.identifier,delete je.label;this.data.referenceType=void 0}function ue(je){const me=this.sliceSerialize(je),we=this.stack[this.stack.length-2];we.label=K$e(me),we.identifier=Gu(me).toLowerCase()}function xe(){const je=this.stack[this.stack.length-1],me=this.resume(),we=this.stack[this.stack.length-1];if(this.data.inReference=!0,we.type==="link"){const Ne=je.children;we.children=Ne}else we.alt=me}function ae(){const je=this.resume(),me=this.stack[this.stack.length-1];me.url=je}function Ee(){const je=this.resume(),me=this.stack[this.stack.length-1];me.title=je}function Me(){this.data.inReference=void 0}function de(){this.data.referenceType="collapsed"}function ze(je){const me=this.resume(),we=this.stack[this.stack.length-1];we.label=me,we.identifier=Gu(this.sliceSerialize(je)).toLowerCase(),this.data.referenceType="full"}function $e(je){this.data.characterReferenceType=je.type}function et(je){const me=this.sliceSerialize(je),we=this.data.characterReferenceType;let Ne;we?(Ne=Ele(me,we==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ne=u9(me);const Xe=this.stack[this.stack.length-1];Xe.value+=Ne}function gt(je){const me=this.stack.pop();me.position.end=Xp(je.end)}function lt(je){ee.call(this,je);const me=this.stack[this.stack.length-1];me.url=this.sliceSerialize(je)}function We(je){ee.call(this,je);const me=this.stack[this.stack.length-1];me.url="mailto:"+this.sliceSerialize(je)}function qe(){return{type:"blockquote",children:[]}}function Qe(){return{type:"code",lang:null,meta:null,value:""}}function Ve(){return{type:"inlineCode",value:""}}function yt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function it(){return{type:"emphasis",children:[]}}function pt(){return{type:"heading",depth:0,children:[]}}function $t(){return{type:"break"}}function Jt(){return{type:"html",value:""}}function on(){return{type:"image",title:null,url:"",alt:null}}function ln(){return{type:"link",title:null,url:"",children:[]}}function Lt(je){return{type:"list",ordered:je.type==="listOrdered",start:null,spread:je._spread,children:[]}}function en(je){return{type:"listItem",spread:je._spread,checked:null,children:[]}}function Kt(){return{type:"paragraph",children:[]}}function Zt(){return{type:"strong",children:[]}}function En(){return{type:"text",value:""}}function Fn(){return{type:"thematicBreak"}}}function Xp(e){return{line:e.line,column:e.column,offset:e.offset}}function $le(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?$le(e,r):J$e(e,r)}}function J$e(e,t){let n;for(n in t)if(Fle.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function KK(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+sw({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+sw({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+sw({start:t.start,end:t.end})+") is still open")}function Q$e(e){const t=this;t.parser=n;function n(r){return X$e(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function eje(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function tje(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function nje(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function rje(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ije(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function oje(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Db(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let c,h=e.footnoteCounts.get(r);h===void 0?(h=0,e.footnoteOrder.push(r),c=e.footnoteOrder.length):c=s+1,h+=1,e.footnoteCounts.set(r,h);const o={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(t,o);const m={type:"element",tagName:"sup",properties:{},children:[o]};return e.patch(t,m),e.applyData(t,m)}function aje(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sje(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function jle(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const c=i[i.length-1];return c&&c.type==="text"?c.value+=r:i.push({type:"text",value:r}),i}function lje(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return jle(e,t);const i={src:Db(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function cje(e,t){const n={src:Db(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function uje(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function dje(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return jle(e,t);const i={href:Db(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function hje(e,t){const n={href:Db(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function pje(e,t,n){const r=e.all(t),i=n?fje(n):zle(t),s={},c=[];if(typeof t.checked=="boolean"){const y=r[0];let v;y&&y.type==="element"&&y.tagName==="p"?v=y:(v={type:"element",tagName:"p",properties:{},children:[]},r.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let h=-1;for(;++h<r.length;){const y=r[h];(i||h!==0||y.type!=="element"||y.tagName!=="p")&&c.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!i?c.push(...y.children):c.push(y)}const o=r[r.length-1];o&&(i||o.type!=="element"||o.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:s,children:c};return e.patch(t,m),e.applyData(t,m)}function fje(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=zle(n[r])}return t}function zle(e){const t=e.spread;return t??e.children.length>1}function mje(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const c=r[i];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function gje(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yje(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function vje(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bje(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],c),i.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},h=o9(t.children[1]),o=ble(t.children[t.children.length-1]);h&&o&&(c.position={start:h,end:o}),i.push(c)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function _je(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,h=c?c.length:t.children.length;let o=-1;const m=[];for(;++o<h;){const v=t.children[o],S={},C=c?c[o]:void 0;C&&(S.align=C);let P={type:"element",tagName:s,properties:S,children:[]};v&&(P.children=e.all(v),e.patch(v,P),P=e.applyData(v,P)),m.push(P)}const y={type:"element",tagName:"tr",properties:{},children:e.wrap(m,!0)};return e.patch(t,y),e.applyData(t,y)}function xje(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const qK=9,XK=32;function wje(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(YK(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(YK(t.slice(i),i>0,!1)),s.join("")}function YK(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===qK||s===XK;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===qK||s===XK;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Sje(e,t){const n={type:"text",value:wje(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Aje(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Cje={blockquote:eje,break:tje,code:nje,delete:rje,emphasis:ije,footnoteReference:oje,heading:aje,html:sje,imageReference:lje,image:cje,inlineCode:uje,linkReference:dje,link:hje,listItem:pje,list:mje,paragraph:gje,root:yje,strong:vje,table:bje,tableCell:xje,tableRow:_je,text:Sje,thematicBreak:Aje,toml:dM,yaml:dM,definition:dM,footnoteDefinition:dM};function dM(){}const Ble=-1,e4=0,cw=1,CT=2,h9=3,p9=4,f9=5,m9=6,Zle=7,Ule=8,JK=typeof self=="object"?self:globalThis,Mje=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,c]=t[i];switch(s){case e4:case Ble:return n(c,i);case cw:{const h=n([],i);for(const o of c)h.push(r(o));return h}case CT:{const h=n({},i);for(const[o,m]of c)h[r(o)]=r(m);return h}case h9:return n(new Date(c),i);case p9:{const{source:h,flags:o}=c;return n(new RegExp(h,o),i)}case f9:{const h=n(new Map,i);for(const[o,m]of c)h.set(r(o),r(m));return h}case m9:{const h=n(new Set,i);for(const o of c)h.add(r(o));return h}case Zle:{const{name:h,message:o}=c;return n(new JK[h](o),i)}case Ule:return n(BigInt(c),i);case"BigInt":return n(Object(BigInt(c)),i);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:h}=new Uint8Array(c);return n(new DataView(h),c)}}return n(new JK[s](c),i)};return r},QK=e=>Mje(new Map,e)(0),Sv="",{toString:Eje}={},{keys:Tje}=Object,xx=e=>{const t=typeof e;if(t!=="object"||!e)return[e4,t];const n=Eje.call(e).slice(8,-1);switch(n){case"Array":return[cw,Sv];case"Object":return[CT,Sv];case"Date":return[h9,Sv];case"RegExp":return[p9,Sv];case"Map":return[f9,Sv];case"Set":return[m9,Sv];case"DataView":return[cw,n]}return n.includes("Array")?[cw,n]:n.includes("Error")?[Zle,n]:[CT,n]},hM=([e,t])=>e===e4&&(t==="function"||t==="symbol"),Pje=(e,t,n,r)=>{const i=(c,h)=>{const o=r.push(c)-1;return n.set(h,o),o},s=c=>{if(n.has(c))return n.get(c);let[h,o]=xx(c);switch(h){case e4:{let y=c;switch(o){case"bigint":h=Ule,y=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+o);y=null;break;case"undefined":return i([Ble],c)}return i([h,y],c)}case cw:{if(o){let S=c;return o==="DataView"?S=new Uint8Array(c.buffer):o==="ArrayBuffer"&&(S=new Uint8Array(c)),i([o,[...S]],c)}const y=[],v=i([h,y],c);for(const S of c)y.push(s(S));return v}case CT:{if(o)switch(o){case"BigInt":return i([o,c.toString()],c);case"Boolean":case"Number":case"String":return i([o,c.valueOf()],c)}if(t&&"toJSON"in c)return s(c.toJSON());const y=[],v=i([h,y],c);for(const S of Tje(c))(e||!hM(xx(c[S])))&&y.push([s(S),s(c[S])]);return v}case h9:return i([h,c.toISOString()],c);case p9:{const{source:y,flags:v}=c;return i([h,{source:y,flags:v}],c)}case f9:{const y=[],v=i([h,y],c);for(const[S,C]of c)(e||!(hM(xx(S))||hM(xx(C))))&&y.push([s(S),s(C)]);return v}case m9:{const y=[],v=i([h,y],c);for(const S of c)(e||!hM(xx(S)))&&y.push(s(S));return v}}const{message:m}=c;return i([h,{name:o,message:m}],c)};return s},eq=(e,{json:t,lossy:n}={})=>{const r=[];return Pje(!(t||n),!!t,new Map,r)(e),r},MT=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?QK(eq(e,t)):structuredClone(e):(e,t)=>QK(eq(e,t));function Ije(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Oje(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function kje(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Ije,r=e.options.footnoteBackLabel||Oje,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let o=-1;for(;++o<e.footnoteOrder.length;){const m=e.footnoteById.get(e.footnoteOrder[o]);if(!m)continue;const y=e.all(m),v=String(m.identifier).toUpperCase(),S=Db(v.toLowerCase());let C=0;const P=[],I=e.footnoteCounts.get(v);for(;I!==void 0&&++C<=I;){P.length>0&&P.push({type:"text",value:" "});let k=typeof n=="string"?n:n(o,C);typeof k=="string"&&(k={type:"text",value:k}),P.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+S+(C>1?"-"+C:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(o,C),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const N=y[y.length-1];if(N&&N.type==="element"&&N.tagName==="p"){const k=N.children[N.children.length-1];k&&k.type==="text"?k.value+=" ":N.children.push({type:"text",value:" "}),N.children.push(...P)}else y.push(...P);const D={type:"element",tagName:"li",properties:{id:t+"fn-"+S},children:e.wrap(y,!0)};e.patch(m,D),h.push(D)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...MT(c),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(h,!0)},{type:"text",value:`
`}]}}const t4=function(e){if(e==null)return Lje;if(typeof e=="function")return n4(e);if(typeof e=="object")return Array.isArray(e)?Nje(e):Rje(e);if(typeof e=="string")return Dje(e);throw new Error("Expected function, string, or object as test")};function Nje(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=t4(e[n]);return n4(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function Rje(e){const t=e;return n4(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function Dje(e){return n4(t);function t(n){return n&&n.type===e}}function n4(e){return t;function t(n,r,i){return!!(Fje(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Lje(){return!0}function Fje(e){return e!==null&&typeof e=="object"&&"type"in e}const Hle=[],$je=!0,Z8=!1,jje="skip";function Vle(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=t4(i),c=r?-1:1;h(e,void 0,[])();function h(o,m,y){const v=o&&typeof o=="object"?o:{};if(typeof v.type=="string"){const C=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(S,"name",{value:"node ("+(o.type+(C?"<"+C+">":""))+")"})}return S;function S(){let C=Hle,P,I,N;if((!t||s(o,m,y[y.length-1]||void 0))&&(C=zje(n(o,y)),C[0]===Z8))return C;if("children"in o&&o.children){const D=o;if(D.children&&C[0]!==jje)for(I=(r?D.children.length:-1)+c,N=y.concat(D);I>-1&&I<D.children.length;){const k=D.children[I];if(P=h(k,I,N)(),P[0]===Z8)return P;I=typeof P[1]=="number"?P[1]:I+c}}return C}}}function zje(e){return Array.isArray(e)?e:typeof e=="number"?[$je,e]:e==null?Hle:[e]}function g9(e,t,n,r){let i,s,c;typeof t=="function"?(s=void 0,c=t,i=n):(s=t,c=n,i=r),Vle(e,s,h,i);function h(o,m){const y=m[m.length-1],v=y?y.children.indexOf(o):void 0;return c(o,v,y)}}const U8={}.hasOwnProperty,Bje={};function Zje(e,t){const n=t||Bje,r=new Map,i=new Map,s=new Map,c={...Cje,...n.handlers},h={all:m,applyData:Hje,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:c,one:o,options:n,patch:Uje,wrap:Wje};return g9(e,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const v=y.type==="definition"?r:i,S=String(y.identifier).toUpperCase();v.has(S)||v.set(S,y)}}),h;function o(y,v){const S=y.type,C=h.handlers[S];if(U8.call(h.handlers,S)&&C)return C(h,y,v);if(h.options.passThrough&&h.options.passThrough.includes(S)){if("children"in y){const{children:I,...N}=y,D=MT(N);return D.children=h.all(y),D}return MT(y)}return(h.options.unknownHandler||Vje)(h,y,v)}function m(y){const v=[];if("children"in y){const S=y.children;let C=-1;for(;++C<S.length;){const P=h.one(S[C],y);if(P){if(C&&S[C-1].type==="break"&&(!Array.isArray(P)&&P.type==="text"&&(P.value=tq(P.value)),!Array.isArray(P)&&P.type==="element")){const I=P.children[0];I&&I.type==="text"&&(I.value=tq(I.value))}Array.isArray(P)?v.push(...P):v.push(P)}}}return v}}function Uje(e,t){e.position&&(t.position=O9e(e))}function Hje(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const c="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:c}}n.type==="element"&&s&&Object.assign(n.properties,MT(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Vje(e,t){const n=t.data||{},r="value"in t&&!(U8.call(n,"hProperties")||U8.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Wje(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function tq(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function nq(e,t){const n=Zje(e,t),r=n.one(e,void 0),i=kje(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Gje(e,t){return e&&"run"in e?async function(n,r){const i=nq(n,{file:r,...t});await e.run(i,r)}:function(n,r){return nq(n,{file:r,...e||t})}}function rq(e){if(e)throw e}var pE=Object.prototype.hasOwnProperty,Wle=Object.prototype.toString,iq=Object.defineProperty,oq=Object.getOwnPropertyDescriptor,aq=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Wle.call(t)==="[object Array]"},sq=function(t){if(!t||Wle.call(t)!=="[object Object]")return!1;var n=pE.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&pE.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||pE.call(t,i)},lq=function(t,n){iq&&n.name==="__proto__"?iq(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},cq=function(t,n){if(n==="__proto__")if(pE.call(t,n)){if(oq)return oq(t,n).value}else return;return t[n]},Kje=function e(){var t,n,r,i,s,c,h=arguments[0],o=1,m=arguments.length,y=!1;for(typeof h=="boolean"&&(y=h,h=arguments[1]||{},o=2),(h==null||typeof h!="object"&&typeof h!="function")&&(h={});o<m;++o)if(t=arguments[o],t!=null)for(n in t)r=cq(h,n),i=cq(t,n),h!==i&&(y&&i&&(sq(i)||(s=aq(i)))?(s?(s=!1,c=r&&aq(r)?r:[]):c=r&&sq(r)?r:{},lq(h,{name:n,newValue:e(y,c,i)})):typeof i<"u"&&lq(h,{name:n,newValue:i}));return h};const C6=Li(Kje);function H8(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function qje(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const c=i.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);h(null,...i);function h(o,...m){const y=e[++s];let v=-1;if(o){c(o);return}for(;++v<i.length;)(m[v]===null||m[v]===void 0)&&(m[v]=i[v]);i=m,y?Xje(y,h)(...m):c(null,...m)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Xje(e,t){let n;return r;function r(...c){const h=e.length>c.length;let o;h&&c.push(i);try{o=e.apply(this,c)}catch(m){const y=m;if(h&&n)throw y;return i(y)}h||(o&&o.then&&typeof o.then=="function"?o.then(s,i):o instanceof Error?i(o):s(o))}function i(c,...h){n||(n=!0,t(c,...h))}function s(c){i(null,c)}}const Od={basename:Yje,dirname:Jje,extname:Qje,join:eze,sep:"/"};function Yje(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');yA(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let c=-1,h=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else c<0&&(s=!0,c=i+1),h>-1&&(e.codePointAt(i)===t.codePointAt(h--)?h<0&&(r=i):(h=-1,r=c));return n===r?r=c:r<0&&(r=e.length),e.slice(n,r)}function Jje(e){if(yA(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Qje(e){yA(e);let t=e.length,n=-1,r=0,i=-1,s=0,c;for(;t--;){const h=e.codePointAt(t);if(h===47){if(c){r=t+1;break}continue}n<0&&(c=!0,n=t+1),h===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function eze(...e){let t=-1,n;for(;++t<e.length;)yA(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":tze(n)}function tze(e){yA(e);const t=e.codePointAt(0)===47;let n=nze(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function nze(e,t){let n="",r=0,i=-1,s=0,c=-1,h,o;for(;++c<=e.length;){if(c<e.length)h=e.codePointAt(c);else{if(h===47)break;h=47}if(h===47){if(!(i===c-1||s===1))if(i!==c-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(o=n.lastIndexOf("/"),o!==n.length-1){o<0?(n="",r=0):(n=n.slice(0,o),r=n.length-1-n.lastIndexOf("/")),i=c,s=0;continue}}else if(n.length>0){n="",r=0,i=c,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,c):n=e.slice(i+1,c),r=c-i-1;i=c,s=0}else h===46&&s>-1?s++:s=-1}return n}function yA(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const rze={cwd:ize};function ize(){return"/"}function V8(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function oze(e){if(typeof e=="string")e=new URL(e);else if(!V8(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return aze(e)}function aze(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const M6=["history","path","basename","stem","extname","dirname"];class Gle{constructor(t){let n;t?V8(t)?n={path:t}:typeof t=="string"||sze(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":rze.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<M6.length;){const s=M6[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)M6.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Od.basename(this.path):void 0}set basename(t){T6(t,"basename"),E6(t,"basename"),this.path=Od.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Od.dirname(this.path):void 0}set dirname(t){uq(this.basename,"dirname"),this.path=Od.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Od.extname(this.path):void 0}set extname(t){if(E6(t,"extname"),uq(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Od.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){V8(t)&&(t=oze(t)),T6(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Od.basename(this.path,this.extname):void 0}set stem(t){T6(t,"stem"),E6(t,"stem"),this.path=Od.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new tl(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function E6(e,t){if(e&&e.includes(Od.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Od.sep+"`")}function T6(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function uq(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function sze(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const lze=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},cze={}.hasOwnProperty;class y9 extends lze{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=qje()}copy(){const t=new y9;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(C6(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(O6("data",this.frozen),this.namespace[t]=n,this):cze.call(this.namespace,t)&&this.namespace[t]||void 0:t?(O6("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=pM(t),r=this.parser||this.Parser;return P6("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),P6("process",this.parser||this.Parser),I6("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,c){const h=pM(t),o=r.parse(h);r.run(o,h,function(y,v,S){if(y||!v||!S)return m(y);const C=v,P=r.stringify(C,S);hze(P)?S.value=P:S.result=P,m(y,S)});function m(y,v){y||!v?c(y):s?s(v):n(void 0,v)}}}processSync(t){let n=!1,r;return this.freeze(),P6("processSync",this.parser||this.Parser),I6("processSync",this.compiler||this.Compiler),this.process(t,i),hq("processSync","process",n),r;function i(s,c){n=!0,rq(s),r=c}}run(t,n,r){dq(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(c,h){const o=pM(n);i.run(t,o,m);function m(y,v,S){const C=v||t;y?h(y):c?c(C):r(void 0,C,S)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),hq("runSync","run",r),i;function s(c,h){rq(c),i=h,r=!0}}stringify(t,n){this.freeze();const r=pM(n),i=this.compiler||this.Compiler;return I6("stringify",i),dq(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(O6("use",this.frozen),t!=null)if(typeof t=="function")o(t,n);else if(typeof t=="object")Array.isArray(t)?h(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(m){if(typeof m=="function")o(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[y,...v]=m;o(y,v)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(m.plugins),m.settings&&(i.settings=C6(!0,i.settings,m.settings))}function h(m){let y=-1;if(m!=null)if(Array.isArray(m))for(;++y<m.length;){const v=m[y];s(v)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function o(m,y){let v=-1,S=-1;for(;++v<r.length;)if(r[v][0]===m){S=v;break}if(S===-1)r.push([m,...y]);else if(y.length>0){let[C,...P]=y;const I=r[S][1];H8(I)&&H8(C)&&(C=C6(!0,I,C)),r[S]=[m,C,...P]}}}}const uze=new y9().freeze();function P6(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function I6(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function O6(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function dq(e){if(!H8(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function hq(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function pM(e){return dze(e)?e:new Gle(e)}function dze(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function hze(e){return typeof e=="string"||pze(e)}function pze(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const fze="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",pq=[],fq={allowDangerousHtml:!0},mze=/^(https?|ircs?|mailto|xmpp)$/i,gze=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function yze(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,s=e.components,c=e.disallowedElements,h=e.rehypePlugins||pq,o=e.remarkPlugins||pq,m=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...fq}:fq,y=e.skipHtml,v=e.unwrapDisallowed,S=e.urlTransform||vze,C=uze().use(Q$e).use(o).use(Gje,m).use(h),P=new Gle;typeof r=="string"&&(P.value=r);for(const k of gze)Object.hasOwn(e,k.from)&&(""+k.from+(k.to?"use `"+k.to+"` instead":"remove it")+fze+k.id,void 0);const I=C.parse(P);let N=C.runSync(I,P);return i&&(N={type:"element",tagName:"div",properties:{className:i},children:N.type==="root"?N.children:[N]}),g9(N,D),L9e(N,{Fragment:te.Fragment,components:s,ignoreInvalidStyle:!0,jsx:te.jsx,jsxs:te.jsxs,passKeys:!0,passNode:!0});function D(k,F,U){if(k.type==="raw"&&U&&typeof F=="number")return y?U.children.splice(F,1):U.children[F]={type:"text",value:k.value},F;if(k.type==="element"){let B;for(B in w6)if(Object.hasOwn(w6,B)&&Object.hasOwn(k.properties,B)){const z=k.properties[B],W=w6[B];(W===null||W.includes(k.tagName))&&(k.properties[B]=S(String(z||""),B,k))}}if(k.type==="element"){let B=t?!t.includes(k.tagName):c?c.includes(k.tagName):!1;if(!B&&n&&typeof F=="number"&&(B=!n(k,F,U)),B&&U&&typeof F=="number")return v&&k.children?U.children.splice(F,1,...k.children):U.children.splice(F,1),F}}}function vze(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||mze.test(e.slice(0,t))?e:""}function mq(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function bze(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function _ze(e,t,n){const i=t4((n||{}).ignore||[]),s=xze(t);let c=-1;for(;++c<s.length;)Vle(e,"text",h);function h(m,y){let v=-1,S;for(;++v<y.length;){const C=y[v],P=S?S.children:void 0;if(i(C,P?P.indexOf(C):void 0,S))return;S=C}if(S)return o(m,y)}function o(m,y){const v=y[y.length-1],S=s[c][0],C=s[c][1];let P=0;const N=v.children.indexOf(m);let D=!1,k=[];S.lastIndex=0;let F=S.exec(m.value);for(;F;){const U=F.index,B={index:F.index,input:F.input,stack:[...y,m]};let z=C(...F,B);if(typeof z=="string"&&(z=z.length>0?{type:"text",value:z}:void 0),z===!1?S.lastIndex=U+1:(P!==U&&k.push({type:"text",value:m.value.slice(P,U)}),Array.isArray(z)?k.push(...z):z&&k.push(z),P=U+F[0].length,D=!0),!S.global)break;F=S.exec(m.value)}return D?(P<m.value.length&&k.push({type:"text",value:m.value.slice(P)}),v.children.splice(N,1,...k)):k=[m],N+k.length}}function xze(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([wze(i[0]),Sze(i[1])])}return t}function wze(e){return typeof e=="string"?new RegExp(bze(e),"g"):e}function Sze(e){return typeof e=="function"?e:function(){return e}}const k6="phrasing",N6=["autolink","link","image","label"];function Aze(){return{transforms:[Oze],enter:{literalAutolink:Mze,literalAutolinkEmail:R6,literalAutolinkHttp:R6,literalAutolinkWww:R6},exit:{literalAutolink:Ize,literalAutolinkEmail:Pze,literalAutolinkHttp:Eze,literalAutolinkWww:Tze}}}function Cze(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:k6,notInConstruct:N6},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:k6,notInConstruct:N6},{character:":",before:"[ps]",after:"\\/",inConstruct:k6,notInConstruct:N6}]}}function Mze(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function R6(e){this.config.enter.autolinkProtocol.call(this,e)}function Eze(e){this.config.exit.autolinkProtocol.call(this,e)}function Tze(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Pze(e){this.config.exit.autolinkEmail.call(this,e)}function Ize(e){this.exit(e)}function Oze(e){_ze(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,kze],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Nze]],{ignore:["link","linkReference"]})}function kze(e,t,n,r,i){let s="";if(!Kle(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!Rze(n)))return!1;const c=Dze(n+r);if(!c[0])return!1;const h={type:"link",title:null,url:s+t+c[0],children:[{type:"text",value:t+c[0]}]};return c[1]?[h,{type:"text",value:c[1]}]:h}function Nze(e,t,n,r){return!Kle(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Rze(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Dze(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=mq(e,"(");let s=mq(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function Kle(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Hg(n)||J3(n))&&(!t||n!==47)}qle.peek=Hze;function Lze(){this.buffer()}function Fze(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function $ze(){this.buffer()}function jze(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function zze(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Gu(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Bze(e){this.exit(e)}function Zze(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Gu(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Uze(e){this.exit(e)}function Hze(){return"["}function qle(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const c=n.enter("footnoteReference"),h=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),h(),c(),s+=i.move("]"),s}function Vze(){return{enter:{gfmFootnoteCallString:Lze,gfmFootnoteCall:Fze,gfmFootnoteDefinitionLabelString:$ze,gfmFootnoteDefinition:jze},exit:{gfmFootnoteCallString:zze,gfmFootnoteCall:Bze,gfmFootnoteDefinitionLabelString:Zze,gfmFootnoteDefinition:Uze}}}function Wze(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:qle},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,c){const h=s.createTracker(c);let o=h.move("[^");const m=s.enter("footnoteDefinition"),y=s.enter("label");return o+=h.move(s.safe(s.associationId(r),{before:o,after:"]"})),y(),o+=h.move("]:"),r.children&&r.children.length>0&&(h.shift(4),o+=h.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,h.current()),t?Xle:Gze))),m(),o}}function Gze(e,t,n){return t===0?e:Xle(e,t,n)}function Xle(e,t,n){return(n?"":"    ")+e}const Kze=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Yle.peek=Qze;function qze(){return{canContainEols:["delete"],enter:{strikethrough:Yze},exit:{strikethrough:Jze}}}function Xze(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Kze}],handlers:{delete:Yle}}}function Yze(e){this.enter({type:"delete",children:[]},e)}function Jze(e){this.exit(e)}function Yle(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let c=i.move("~~");return c+=n.containerPhrasing(e,{...i.current(),before:c,after:"~"}),c+=i.move("~~"),s(),c}function Qze(){return"~"}function eBe(e){return e.length}function tBe(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||eBe,s=[],c=[],h=[],o=[];let m=0,y=-1;for(;++y<e.length;){const I=[],N=[];let D=-1;for(e[y].length>m&&(m=e[y].length);++D<e[y].length;){const k=nBe(e[y][D]);if(n.alignDelimiters!==!1){const F=i(k);N[D]=F,(o[D]===void 0||F>o[D])&&(o[D]=F)}I.push(k)}c[y]=I,h[y]=N}let v=-1;if(typeof r=="object"&&"length"in r)for(;++v<m;)s[v]=gq(r[v]);else{const I=gq(r);for(;++v<m;)s[v]=I}v=-1;const S=[],C=[];for(;++v<m;){const I=s[v];let N="",D="";I===99?(N=":",D=":"):I===108?N=":":I===114&&(D=":");let k=n.alignDelimiters===!1?1:Math.max(1,o[v]-N.length-D.length);const F=N+"-".repeat(k)+D;n.alignDelimiters!==!1&&(k=N.length+k+D.length,k>o[v]&&(o[v]=k),C[v]=k),S[v]=F}c.splice(1,0,S),h.splice(1,0,C),y=-1;const P=[];for(;++y<c.length;){const I=c[y],N=h[y];v=-1;const D=[];for(;++v<m;){const k=I[v]||"";let F="",U="";if(n.alignDelimiters!==!1){const B=o[v]-(N[v]||0),z=s[v];z===114?F=" ".repeat(B):z===99?B%2?(F=" ".repeat(B/2+.5),U=" ".repeat(B/2-.5)):(F=" ".repeat(B/2),U=F):U=" ".repeat(B)}n.delimiterStart!==!1&&!v&&D.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&k==="")&&(n.delimiterStart!==!1||v)&&D.push(" "),n.alignDelimiters!==!1&&D.push(F),D.push(k),n.alignDelimiters!==!1&&D.push(U),n.padding!==!1&&D.push(" "),(n.delimiterEnd!==!1||v!==m-1)&&D.push("|")}P.push(n.delimiterEnd===!1?D.join("").replace(/ +$/,""):D.join(""))}return P.join(`
`)}function nBe(e){return e==null?"":String(e)}function gq(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function rBe(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const c=n.indentLines(n.containerFlow(e,s.current()),iBe);return i(),c}function iBe(e,t,n){return">"+(n?"":" ")+e}function oBe(e,t){return yq(e,t.inConstruct,!0)&&!yq(e,t.notInConstruct,!1)}function yq(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function vq(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&oBe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function aBe(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,c=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>c&&(c=s):s=1,i=r+t.length,r=n.indexOf(t,i);return c}function sBe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function lBe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function cBe(e,t,n,r){const i=lBe(n),s=e.value||"",c=i==="`"?"GraveAccent":"Tilde";if(sBe(e,n)){const v=n.enter("codeIndented"),S=n.indentLines(s,uBe);return v(),S}const h=n.createTracker(r),o=i.repeat(Math.max(aBe(s,i)+1,3)),m=n.enter("codeFenced");let y=h.move(o);if(e.lang){const v=n.enter(`codeFencedLang${c}`);y+=h.move(n.safe(e.lang,{before:y,after:" ",encode:["`"],...h.current()})),v()}if(e.lang&&e.meta){const v=n.enter(`codeFencedMeta${c}`);y+=h.move(" "),y+=h.move(n.safe(e.meta,{before:y,after:`
`,encode:["`"],...h.current()})),v()}return y+=h.move(`
`),s&&(y+=h.move(s+`
`)),y+=h.move(o),m(),y}function uBe(e,t,n){return(n?"":"    ")+e}function v9(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function dBe(e,t,n,r){const i=v9(n),s=i==='"'?"Quote":"Apostrophe",c=n.enter("definition");let h=n.enter("label");const o=n.createTracker(r);let m=o.move("[");return m+=o.move(n.safe(n.associationId(e),{before:m,after:"]",...o.current()})),m+=o.move("]: "),h(),!e.url||/[\0- \u007F]/.test(e.url)?(h=n.enter("destinationLiteral"),m+=o.move("<"),m+=o.move(n.safe(e.url,{before:m,after:">",...o.current()})),m+=o.move(">")):(h=n.enter("destinationRaw"),m+=o.move(n.safe(e.url,{before:m,after:e.title?" ":`
`,...o.current()}))),h(),e.title&&(h=n.enter(`title${s}`),m+=o.move(" "+i),m+=o.move(n.safe(e.title,{before:m,after:i,...o.current()})),m+=o.move(i),h()),c(),m}function hBe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function sS(e){return"&#x"+e.toString(16).toUpperCase()+";"}function ET(e,t,n){const r=K0(e),i=K0(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Jle.peek=pBe;function Jle(e,t,n,r){const i=hBe(n),s=n.enter("emphasis"),c=n.createTracker(r),h=c.move(i);let o=c.move(n.containerPhrasing(e,{after:i,before:h,...c.current()}));const m=o.charCodeAt(0),y=ET(r.before.charCodeAt(r.before.length-1),m,i);y.inside&&(o=sS(m)+o.slice(1));const v=o.charCodeAt(o.length-1),S=ET(r.after.charCodeAt(0),v,i);S.inside&&(o=o.slice(0,-1)+sS(v));const C=c.move(i);return s(),n.attentionEncodeSurroundingInfo={after:S.outside,before:y.outside},h+o+C}function pBe(e,t,n){return n.options.emphasis||"*"}function fBe(e,t){let n=!1;return g9(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Z8}),!!((!e.depth||e.depth<3)&&c9(e)&&(t.options.setext||n))}function mBe(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(fBe(e,n)){const y=n.enter("headingSetext"),v=n.enter("phrasing"),S=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return v(),y(),S+`
`+(i===1?"=":"-").repeat(S.length-(Math.max(S.lastIndexOf("\r"),S.lastIndexOf(`
`))+1))}const c="#".repeat(i),h=n.enter("headingAtx"),o=n.enter("phrasing");s.move(c+" ");let m=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(m)&&(m=sS(m.charCodeAt(0))+m.slice(1)),m=m?c+" "+m:c,n.options.closeAtx&&(m+=" "+c),o(),h(),m}Qle.peek=gBe;function Qle(e){return e.value||""}function gBe(){return"<"}ece.peek=yBe;function ece(e,t,n,r){const i=v9(n),s=i==='"'?"Quote":"Apostrophe",c=n.enter("image");let h=n.enter("label");const o=n.createTracker(r);let m=o.move("![");return m+=o.move(n.safe(e.alt,{before:m,after:"]",...o.current()})),m+=o.move("]("),h(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(h=n.enter("destinationLiteral"),m+=o.move("<"),m+=o.move(n.safe(e.url,{before:m,after:">",...o.current()})),m+=o.move(">")):(h=n.enter("destinationRaw"),m+=o.move(n.safe(e.url,{before:m,after:e.title?" ":")",...o.current()}))),h(),e.title&&(h=n.enter(`title${s}`),m+=o.move(" "+i),m+=o.move(n.safe(e.title,{before:m,after:i,...o.current()})),m+=o.move(i),h()),m+=o.move(")"),c(),m}function yBe(){return"!"}tce.peek=vBe;function tce(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let c=n.enter("label");const h=n.createTracker(r);let o=h.move("![");const m=n.safe(e.alt,{before:o,after:"]",...h.current()});o+=h.move(m+"]["),c();const y=n.stack;n.stack=[],c=n.enter("reference");const v=n.safe(n.associationId(e),{before:o,after:"]",...h.current()});return c(),n.stack=y,s(),i==="full"||!m||m!==v?o+=h.move(v+"]"):i==="shortcut"?o=o.slice(0,-1):o+=h.move("]"),o}function vBe(){return"!"}nce.peek=bBe;function nce(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const c=n.unsafe[s],h=n.compilePattern(c);let o;if(c.atBreak)for(;o=h.exec(r);){let m=o.index;r.charCodeAt(m)===10&&r.charCodeAt(m-1)===13&&m--,r=r.slice(0,m)+" "+r.slice(o.index+1)}}return i+r+i}function bBe(){return"`"}function rce(e,t){const n=c9(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}ice.peek=_Be;function ice(e,t,n,r){const i=v9(n),s=i==='"'?"Quote":"Apostrophe",c=n.createTracker(r);let h,o;if(rce(e,n)){const y=n.stack;n.stack=[],h=n.enter("autolink");let v=c.move("<");return v+=c.move(n.containerPhrasing(e,{before:v,after:">",...c.current()})),v+=c.move(">"),h(),n.stack=y,v}h=n.enter("link"),o=n.enter("label");let m=c.move("[");return m+=c.move(n.containerPhrasing(e,{before:m,after:"](",...c.current()})),m+=c.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),m+=c.move("<"),m+=c.move(n.safe(e.url,{before:m,after:">",...c.current()})),m+=c.move(">")):(o=n.enter("destinationRaw"),m+=c.move(n.safe(e.url,{before:m,after:e.title?" ":")",...c.current()}))),o(),e.title&&(o=n.enter(`title${s}`),m+=c.move(" "+i),m+=c.move(n.safe(e.title,{before:m,after:i,...c.current()})),m+=c.move(i),o()),m+=c.move(")"),h(),m}function _Be(e,t,n){return rce(e,n)?"<":"["}oce.peek=xBe;function oce(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let c=n.enter("label");const h=n.createTracker(r);let o=h.move("[");const m=n.containerPhrasing(e,{before:o,after:"]",...h.current()});o+=h.move(m+"]["),c();const y=n.stack;n.stack=[],c=n.enter("reference");const v=n.safe(n.associationId(e),{before:o,after:"]",...h.current()});return c(),n.stack=y,s(),i==="full"||!m||m!==v?o+=h.move(v+"]"):i==="shortcut"?o=o.slice(0,-1):o+=h.move("]"),o}function xBe(){return"["}function b9(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function wBe(e){const t=b9(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function SBe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function ace(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function ABe(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let c=e.ordered?SBe(n):b9(n);const h=e.ordered?c==="."?")":".":wBe(n);let o=t&&n.bulletLastUsed?c===n.bulletLastUsed:!1;if(!e.ordered){const y=e.children?e.children[0]:void 0;if((c==="*"||c==="-")&&y&&(!y.children||!y.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(o=!0),ace(n)===c&&y){let v=-1;for(;++v<e.children.length;){const S=e.children[v];if(S&&S.type==="listItem"&&S.children&&S.children[0]&&S.children[0].type==="thematicBreak"){o=!0;break}}}}o&&(c=h),n.bulletCurrent=c;const m=n.containerFlow(e,r);return n.bulletLastUsed=c,n.bulletCurrent=s,i(),m}function CBe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function MBe(e,t,n,r){const i=CBe(n);let s=n.bulletCurrent||b9(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let c=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(c=Math.ceil(c/4)*4);const h=n.createTracker(r);h.move(s+" ".repeat(c-s.length)),h.shift(c);const o=n.enter("listItem"),m=n.indentLines(n.containerFlow(e,h.current()),y);return o(),m;function y(v,S,C){return S?(C?"":" ".repeat(c))+v:(C?s:s+" ".repeat(c-s.length))+v}}function EBe(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),c=n.containerPhrasing(e,r);return s(),i(),c}const TBe=t4(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function PBe(e,t,n,r){return(e.children.some(function(c){return TBe(c)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function IBe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}sce.peek=OBe;function sce(e,t,n,r){const i=IBe(n),s=n.enter("strong"),c=n.createTracker(r),h=c.move(i+i);let o=c.move(n.containerPhrasing(e,{after:i,before:h,...c.current()}));const m=o.charCodeAt(0),y=ET(r.before.charCodeAt(r.before.length-1),m,i);y.inside&&(o=sS(m)+o.slice(1));const v=o.charCodeAt(o.length-1),S=ET(r.after.charCodeAt(0),v,i);S.inside&&(o=o.slice(0,-1)+sS(v));const C=c.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:S.outside,before:y.outside},h+o+C}function OBe(e,t,n){return n.options.strong||"*"}function kBe(e,t,n,r){return n.safe(e.value,r)}function NBe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function RBe(e,t,n){const r=(ace(n)+(n.options.ruleSpaces?" ":"")).repeat(NBe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const lce={blockquote:rBe,break:vq,code:cBe,definition:dBe,emphasis:Jle,hardBreak:vq,heading:mBe,html:Qle,image:ece,imageReference:tce,inlineCode:nce,link:ice,linkReference:oce,list:ABe,listItem:MBe,paragraph:EBe,root:PBe,strong:sce,text:kBe,thematicBreak:RBe};function DBe(){return{enter:{table:LBe,tableData:bq,tableHeader:bq,tableRow:$Be},exit:{codeText:jBe,table:FBe,tableData:D6,tableHeader:D6,tableRow:D6}}}function LBe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function FBe(e){this.exit(e),this.data.inTable=void 0}function $Be(e){this.enter({type:"tableRow",children:[]},e)}function D6(e){this.exit(e)}function bq(e){this.enter({type:"tableCell",children:[]},e)}function jBe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,zBe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function zBe(e,t){return t==="|"?t:e}function BBe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:S,table:c,tableCell:o,tableRow:h}};function c(C,P,I,N){return m(y(C,I,N),C.align)}function h(C,P,I,N){const D=v(C,I,N),k=m([D]);return k.slice(0,k.indexOf(`
`))}function o(C,P,I,N){const D=I.enter("tableCell"),k=I.enter("phrasing"),F=I.containerPhrasing(C,{...N,before:s,after:s});return k(),D(),F}function m(C,P){return tBe(C,{align:P,alignDelimiters:r,padding:n,stringLength:i})}function y(C,P,I){const N=C.children;let D=-1;const k=[],F=P.enter("table");for(;++D<N.length;)k[D]=v(N[D],P,I);return F(),k}function v(C,P,I){const N=C.children;let D=-1;const k=[],F=P.enter("tableRow");for(;++D<N.length;)k[D]=o(N[D],C,P,I);return F(),k}function S(C,P,I){let N=lce.inlineCode(C,P,I);return I.stack.includes("tableCell")&&(N=N.replace(/\|/g,"\\$&")),N}}function ZBe(){return{exit:{taskListCheckValueChecked:_q,taskListCheckValueUnchecked:_q,paragraph:HBe}}}function UBe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:VBe}}}function _q(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function HBe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,c;for(;++s<i.length;){const h=i[s];if(h.type==="paragraph"){c=h;break}}c===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function VBe(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",c="["+(e.checked?"x":" ")+"] ",h=n.createTracker(r);s&&h.move(c);let o=lce.listItem(e,t,n,{...r,...h.current()});return s&&(o=o.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),o;function m(y){return y+c}}function WBe(){return[Aze(),Vze(),qze(),DBe(),ZBe()]}function GBe(e){return{extensions:[Cze(),Wze(e),Xze(),BBe(e),UBe()]}}const KBe={tokenize:eZe,partial:!0},cce={tokenize:tZe,partial:!0},uce={tokenize:nZe,partial:!0},dce={tokenize:rZe,partial:!0},qBe={tokenize:iZe,partial:!0},hce={name:"wwwAutolink",tokenize:JBe,previous:fce},pce={name:"protocolAutolink",tokenize:QBe,previous:mce},dp={name:"emailAutolink",tokenize:YBe,previous:gce},th={};function XBe(){return{text:th}}let Ym=48;for(;Ym<123;)th[Ym]=dp,Ym++,Ym===58?Ym=65:Ym===91&&(Ym=97);th[43]=dp;th[45]=dp;th[46]=dp;th[95]=dp;th[72]=[dp,pce];th[104]=[dp,pce];th[87]=[dp,hce];th[119]=[dp,hce];function YBe(e,t,n){const r=this;let i,s;return c;function c(v){return!W8(v)||!gce.call(r,r.previous)||_9(r.events)?n(v):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),h(v))}function h(v){return W8(v)?(e.consume(v),h):v===64?(e.consume(v),o):n(v)}function o(v){return v===46?e.check(qBe,y,m)(v):v===45||v===95||Xs(v)?(s=!0,e.consume(v),o):y(v)}function m(v){return e.consume(v),i=!0,o}function y(v){return s&&i&&hl(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(v)):n(v)}}function JBe(e,t,n){const r=this;return i;function i(c){return c!==87&&c!==119||!fce.call(r,r.previous)||_9(r.events)?n(c):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(KBe,e.attempt(cce,e.attempt(uce,s),n),n)(c))}function s(c){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(c)}}function QBe(e,t,n){const r=this;let i="",s=!1;return c;function c(v){return(v===72||v===104)&&mce.call(r,r.previous)&&!_9(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(v),e.consume(v),h):n(v)}function h(v){if(hl(v)&&i.length<5)return i+=String.fromCodePoint(v),e.consume(v),h;if(v===58){const S=i.toLowerCase();if(S==="http"||S==="https")return e.consume(v),o}return n(v)}function o(v){return v===47?(e.consume(v),s?m:(s=!0,o)):n(v)}function m(v){return v===null||AT(v)||No(v)||Hg(v)||J3(v)?n(v):e.attempt(cce,e.attempt(uce,y),n)(v)}function y(v){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(v)}}function eZe(e,t,n){let r=0;return i;function i(c){return(c===87||c===119)&&r<3?(r++,e.consume(c),i):c===46&&r===3?(e.consume(c),s):n(c)}function s(c){return c===null?n(c):t(c)}}function tZe(e,t,n){let r,i,s;return c;function c(m){return m===46||m===95?e.check(dce,o,h)(m):m===null||No(m)||Hg(m)||m!==45&&J3(m)?o(m):(s=!0,e.consume(m),c)}function h(m){return m===95?r=!0:(i=r,r=void 0),e.consume(m),c}function o(m){return i||r||!s?n(m):t(m)}}function nZe(e,t){let n=0,r=0;return i;function i(c){return c===40?(n++,e.consume(c),i):c===41&&r<n?s(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?e.check(dce,t,s)(c):c===null||No(c)||Hg(c)?t(c):(e.consume(c),i)}function s(c){return c===41&&r++,e.consume(c),i}}function rZe(e,t,n){return r;function r(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(e.consume(h),r):h===38?(e.consume(h),s):h===93?(e.consume(h),i):h===60||h===null||No(h)||Hg(h)?t(h):n(h)}function i(h){return h===null||h===40||h===91||No(h)||Hg(h)?t(h):r(h)}function s(h){return hl(h)?c(h):n(h)}function c(h){return h===59?(e.consume(h),r):hl(h)?(e.consume(h),c):n(h)}}function iZe(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return Xs(s)?n(s):t(s)}}function fce(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||No(e)}function mce(e){return!hl(e)}function gce(e){return!(e===47||W8(e))}function W8(e){return e===43||e===45||e===46||e===95||Xs(e)}function _9(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const oZe={tokenize:pZe,partial:!0};function aZe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:uZe,continuation:{tokenize:dZe},exit:hZe}},text:{91:{name:"gfmFootnoteCall",tokenize:cZe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:sZe,resolveTo:lZe}}}}function sZe(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let c;for(;i--;){const o=r.events[i][1];if(o.type==="labelImage"){c=o;break}if(o.type==="gfmFootnoteCall"||o.type==="labelLink"||o.type==="label"||o.type==="image"||o.type==="link")break}return h;function h(o){if(!c||!c._balanced)return n(o);const m=Gu(r.sliceSerialize({start:c.end,end:r.now()}));return m.codePointAt(0)!==94||!s.includes(m.slice(1))?n(o):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(o),e.exit("gfmFootnoteCallLabelMarker"),t(o))}}function lZe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},h=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",c,t],["exit",c,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...h),e}function cZe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,c;return h;function h(v){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(v),e.exit("gfmFootnoteCallLabelMarker"),o}function o(v){return v!==94?n(v):(e.enter("gfmFootnoteCallMarker"),e.consume(v),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",m)}function m(v){if(s>999||v===93&&!c||v===null||v===91||No(v))return n(v);if(v===93){e.exit("chunkString");const S=e.exit("gfmFootnoteCallString");return i.includes(Gu(r.sliceSerialize(S)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(v),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(v)}return No(v)||(c=!0),s++,e.consume(v),v===92?y:m}function y(v){return v===91||v===92||v===93?(e.consume(v),s++,m):m(v)}}function uZe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,c=0,h;return o;function o(P){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(P),e.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(P){return P===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(P),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",y):n(P)}function y(P){if(c>999||P===93&&!h||P===null||P===91||No(P))return n(P);if(P===93){e.exit("chunkString");const I=e.exit("gfmFootnoteDefinitionLabelString");return s=Gu(r.sliceSerialize(I)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(P),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),S}return No(P)||(h=!0),c++,e.consume(P),P===92?v:y}function v(P){return P===91||P===92||P===93?(e.consume(P),c++,y):y(P)}function S(P){return P===58?(e.enter("definitionMarker"),e.consume(P),e.exit("definitionMarker"),i.includes(s)||i.push(s),qi(e,C,"gfmFootnoteDefinitionWhitespace")):n(P)}function C(P){return t(P)}}function dZe(e,t,n){return e.check(gA,t,e.attempt(oZe,t,n))}function hZe(e){e.exit("gfmFootnoteDefinition")}function pZe(e,t,n){const r=this;return qi(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const c=r.events[r.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?t(s):n(s)}}function fZe(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(c,h){let o=-1;for(;++o<c.length;)if(c[o][0]==="enter"&&c[o][1].type==="strikethroughSequenceTemporary"&&c[o][1]._close){let m=o;for(;m--;)if(c[m][0]==="exit"&&c[m][1].type==="strikethroughSequenceTemporary"&&c[m][1]._open&&c[o][1].end.offset-c[o][1].start.offset===c[m][1].end.offset-c[m][1].start.offset){c[o][1].type="strikethroughSequence",c[m][1].type="strikethroughSequence";const y={type:"strikethrough",start:Object.assign({},c[m][1].start),end:Object.assign({},c[o][1].end)},v={type:"strikethroughText",start:Object.assign({},c[m][1].end),end:Object.assign({},c[o][1].start)},S=[["enter",y,h],["enter",c[m][1],h],["exit",c[m][1],h],["enter",v,h]],C=h.parser.constructs.insideSpan.null;C&&Ac(S,S.length,0,Q3(C,c.slice(m+1,o),h)),Ac(S,S.length,0,[["exit",v,h],["enter",c[o][1],h],["exit",c[o][1],h],["exit",y,h]]),Ac(c,m-1,o-m+3,S),o=m+S.length-2;break}}for(o=-1;++o<c.length;)c[o][1].type==="strikethroughSequenceTemporary"&&(c[o][1].type="data");return c}function s(c,h,o){const m=this.previous,y=this.events;let v=0;return S;function S(P){return m===126&&y[y.length-1][1].type!=="characterEscape"?o(P):(c.enter("strikethroughSequenceTemporary"),C(P))}function C(P){const I=K0(m);if(P===126)return v>1?o(P):(c.consume(P),v++,C);if(v<2&&!n)return o(P);const N=c.exit("strikethroughSequenceTemporary"),D=K0(P);return N._open=!D||D===2&&!!I,N._close=!I||I===2&&!!D,h(P)}}}class mZe{constructor(){this.map=[]}add(t,n,r){gZe(this,t,n,r)}consume(t){if(this.map.sort(function(s,c){return s[0]-c[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function gZe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function yZe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function vZe(){return{flow:{null:{name:"table",tokenize:bZe,resolveAll:_Ze}}}}function bZe(e,t,n){const r=this;let i=0,s=0,c;return h;function h(ee){let re=r.events.length-1;for(;re>-1;){const be=r.events[re][1].type;if(be==="lineEnding"||be==="linePrefix")re--;else break}const oe=re>-1?r.events[re][1].type:null,he=oe==="tableHead"||oe==="tableRow"?z:o;return he===z&&r.parser.lazy[r.now().line]?n(ee):he(ee)}function o(ee){return e.enter("tableHead"),e.enter("tableRow"),m(ee)}function m(ee){return ee===124||(c=!0,s+=1),y(ee)}function y(ee){return ee===null?n(ee):Wr(ee)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(ee),e.exit("lineEnding"),C):n(ee):Ri(ee)?qi(e,y,"whitespace")(ee):(s+=1,c&&(c=!1,i+=1),ee===124?(e.enter("tableCellDivider"),e.consume(ee),e.exit("tableCellDivider"),c=!0,y):(e.enter("data"),v(ee)))}function v(ee){return ee===null||ee===124||No(ee)?(e.exit("data"),y(ee)):(e.consume(ee),ee===92?S:v)}function S(ee){return ee===92||ee===124?(e.consume(ee),v):v(ee)}function C(ee){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(ee):(e.enter("tableDelimiterRow"),c=!1,Ri(ee)?qi(e,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):P(ee))}function P(ee){return ee===45||ee===58?N(ee):ee===124?(c=!0,e.enter("tableCellDivider"),e.consume(ee),e.exit("tableCellDivider"),I):B(ee)}function I(ee){return Ri(ee)?qi(e,N,"whitespace")(ee):N(ee)}function N(ee){return ee===58?(s+=1,c=!0,e.enter("tableDelimiterMarker"),e.consume(ee),e.exit("tableDelimiterMarker"),D):ee===45?(s+=1,D(ee)):ee===null||Wr(ee)?U(ee):B(ee)}function D(ee){return ee===45?(e.enter("tableDelimiterFiller"),k(ee)):B(ee)}function k(ee){return ee===45?(e.consume(ee),k):ee===58?(c=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(ee),e.exit("tableDelimiterMarker"),F):(e.exit("tableDelimiterFiller"),F(ee))}function F(ee){return Ri(ee)?qi(e,U,"whitespace")(ee):U(ee)}function U(ee){return ee===124?P(ee):ee===null||Wr(ee)?!c||i!==s?B(ee):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(ee)):B(ee)}function B(ee){return n(ee)}function z(ee){return e.enter("tableRow"),W(ee)}function W(ee){return ee===124?(e.enter("tableCellDivider"),e.consume(ee),e.exit("tableCellDivider"),W):ee===null||Wr(ee)?(e.exit("tableRow"),t(ee)):Ri(ee)?qi(e,W,"whitespace")(ee):(e.enter("data"),Y(ee))}function Y(ee){return ee===null||ee===124||No(ee)?(e.exit("data"),W(ee)):(e.consume(ee),ee===92?K:Y)}function K(ee){return ee===92||ee===124?(e.consume(ee),Y):Y(ee)}}function _Ze(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],c=[0,0,0,0],h=!1,o=0,m,y,v;const S=new mZe;for(;++n<e.length;){const C=e[n],P=C[1];C[0]==="enter"?P.type==="tableHead"?(h=!1,o!==0&&(xq(S,t,o,m,y),y=void 0,o=0),m={type:"table",start:Object.assign({},P.start),end:Object.assign({},P.end)},S.add(n,0,[["enter",m,t]])):P.type==="tableRow"||P.type==="tableDelimiterRow"?(r=!0,v=void 0,s=[0,0,0,0],c=[0,n+1,0,0],h&&(h=!1,y={type:"tableBody",start:Object.assign({},P.start),end:Object.assign({},P.end)},S.add(n,0,[["enter",y,t]])),i=P.type==="tableDelimiterRow"?2:y?3:1):i&&(P.type==="data"||P.type==="tableDelimiterMarker"||P.type==="tableDelimiterFiller")?(r=!1,c[2]===0&&(s[1]!==0&&(c[0]=c[1],v=fM(S,t,s,i,void 0,v),s=[0,0,0,0]),c[2]=n)):P.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(c[0]=c[1],v=fM(S,t,s,i,void 0,v)),s=c,c=[s[1],n,0,0])):P.type==="tableHead"?(h=!0,o=n):P.type==="tableRow"||P.type==="tableDelimiterRow"?(o=n,s[1]!==0?(c[0]=c[1],v=fM(S,t,s,i,n,v)):c[1]!==0&&(v=fM(S,t,c,i,n,v)),i=0):i&&(P.type==="data"||P.type==="tableDelimiterMarker"||P.type==="tableDelimiterFiller")&&(c[3]=n)}for(o!==0&&xq(S,t,o,m,y),S.consume(t.events),n=-1;++n<t.events.length;){const C=t.events[n];C[0]==="enter"&&C[1].type==="table"&&(C[1]._align=yZe(t.events,n))}return e}function fM(e,t,n,r,i,s){const c=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",h="tableContent";n[0]!==0&&(s.end=Object.assign({},Ov(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const o=Ov(t.events,n[1]);if(s={type:c,start:Object.assign({},o),end:Object.assign({},o)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const m=Ov(t.events,n[2]),y=Ov(t.events,n[3]),v={type:h,start:Object.assign({},m),end:Object.assign({},y)};if(e.add(n[2],0,[["enter",v,t]]),r!==2){const S=t.events[n[2]],C=t.events[n[3]];if(S[1].end=Object.assign({},C[1].end),S[1].type="chunkText",S[1].contentType="text",n[3]>n[2]+1){const P=n[2]+1,I=n[3]-n[2]-1;e.add(P,I,[])}}e.add(n[3]+1,0,[["exit",v,t]])}return i!==void 0&&(s.end=Object.assign({},Ov(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function xq(e,t,n,r,i){const s=[],c=Ov(t.events,n);i&&(i.end=Object.assign({},c),s.push(["exit",i,t])),r.end=Object.assign({},c),s.push(["exit",r,t]),e.add(n+1,0,s)}function Ov(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const xZe={name:"tasklistCheck",tokenize:SZe};function wZe(){return{text:{91:xZe}}}function SZe(e,t,n){const r=this;return i;function i(o){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(o):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(o),e.exit("taskListCheckMarker"),s)}function s(o){return No(o)?(e.enter("taskListCheckValueUnchecked"),e.consume(o),e.exit("taskListCheckValueUnchecked"),c):o===88||o===120?(e.enter("taskListCheckValueChecked"),e.consume(o),e.exit("taskListCheckValueChecked"),c):n(o)}function c(o){return o===93?(e.enter("taskListCheckMarker"),e.consume(o),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),h):n(o)}function h(o){return Wr(o)?t(o):Ri(o)?e.check({tokenize:AZe},t,n)(o):n(o)}}function AZe(e,t,n){return qi(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function CZe(e){return Mle([XBe(),aZe(),fZe(e),vZe(),wZe()])}const MZe={};function EZe(e){const t=this,n=e||MZe,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),c=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(CZe(n)),s.push(WBe()),c.push(GBe(n))}const Ff={Accept:"application/json","Content-Type":"application/json","x-api-key":"avaJb2zvcxMWoQBKKlM1Nzm135HC5nqwJNyLnG2V"};function TZe(e){return Wo({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"5"},child:[]},{tag:"path",attr:{d:"M20 21a8 8 0 0 0-16 0"},child:[]}]})(e)}function PZe(e){return Wo({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.5 1.34558C3.58425 1.34558 3.66714 1.36687 3.74096 1.40747L22.2034 11.5618C22.4454 11.6949 22.5337 11.9989 22.4006 12.2409C22.3549 12.324 22.2865 12.3924 22.2034 12.4381L3.74096 22.5924C3.499 22.7255 3.19497 22.6372 3.06189 22.3953C3.02129 22.3214 3 22.2386 3 22.1543V1.84558C3 1.56944 3.22386 1.34558 3.5 1.34558ZM5 4.38249V10.9999H10V12.9999H5V19.6174L18.8499 11.9999L5 4.38249Z"},child:[]}]})(e)}const IZe=({className:e="",lat:t=25.425311,lng:n=51.511266})=>{const{i18n:r}=Zi(),i=r.language==="ar",s=ha(),c=A.useRef(null),[h,o]=A.useState(""),[m,y]=A.useState([]),[v,S]=A.useState(!1),[C,P]=A.useState(null),[I,N]=A.useState(""),[D,k]=A.useState([]),[F,U]=A.useState([]),[B,z]=A.useState(!0),{selectedPOI:W}=Ci(le=>le.mapData),Y=W&&W.type==="project",K=W&&W.type==="district";A.useEffect(()=>{(async()=>{try{const ye=await fetch("https://az.api.aqarat.xmap.ai/chat/",{method:"POST",headers:Ff});if(!ye.ok)throw new Error("Failed to fetch subjects");const fe=await ye.json();N(fe.message||""),k(fe.allowed_subjects||[])}catch(ye){console.error(ye)}})()},[]);const ee=le=>{U(ye=>[...ye,le]),k(ye=>ye.filter(fe=>fe.subject!==le.subject))},re=le=>{U(ye=>ye.filter(fe=>fe.subject!==le.subject)),k(ye=>[...ye,le])},oe=()=>{s(FSe())},he=async()=>{var ue;const le=h.trim();if(!le)return;S(!0),P(null),y(xe=>[...xe,{role:"user",content:le}]),o("");const ye=F.map(xe=>xe.subject).join(","),fe={query:le,lat:t,lng:n,selected_subjects:ye};Y&&(W!=null&&W.id)?fe.project_id=W.id:K&&(W!=null&&W.id)&&(fe.adm3_pcode=W.id);try{const xe=await fetch("https://az.api.aqarat.xmap.ai/chat/",{method:"POST",headers:Ff,body:JSON.stringify(fe)});if(!xe.ok){const Me=xe.status===401||xe.status===403?r.language==="ar"?"سجّل الدخول إلى الموقع للحصول على المزيد من البيانات والمعلومات.":"Please login for more information and insights.":r.language==="ar"?"هناك مشكلة في الإجابة على سؤالك، يرجى المحاولة مرة أخرى.":"There is a problem answering your question, please try again.";y(de=>[...de,{role:"assistant",content:Me}]),S(!1);return}const ae=(ue=xe.body)==null?void 0:ue.getReader();if(!ae)throw new Error("No reader available");y(Me=>[...Me,{role:"assistant",content:""}]);let Ee=!1;for(;!Ee;){const{value:Me,done:de}=await ae.read();if(de){Ee=!0;break}const ze=new TextDecoder().decode(Me);y($e=>{const et=[...$e],gt=et.length-1;return gt>=0&&et[gt].role==="assistant"&&(et[gt]={...et[gt],content:et[gt].content+ze}),et})}}catch(xe){P(xe instanceof Error?xe.message:"Something went wrong")}finally{S(!1),setTimeout(()=>{var xe;(xe=c.current)==null||xe.scrollIntoView({behavior:"smooth"})},100)}},be=()=>{y([]),P(null)};return te.jsxs("div",{className:`flex flex-col pt-6
        bg-white shadow-xl border border-gray-200 overflow-hidden 
        ${e}`,style:{width:500,height:700},children:[te.jsxs("div",{className:"border-b border-gray-300",children:[te.jsxs("button",{onClick:()=>z(!B),className:"w-full flex items-center justify-between px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 transition",children:[te.jsx("span",{children:B?r.language==="ar"?"إخفاء الفلاتر والاختيارات":"Hide Filters & Selections":r.language==="ar"?"إظهار الفلاتر والاختيارات":"Show Filters & Selections"}),te.jsx("span",{className:"text-xs text-gray-500",children:B?r.language==="ar"?"+":"–":r.language==="ar"?"–":"+"})]}),B&&te.jsxs("div",{className:"px-4 pb-3 text-sm text-gray-700",children:[m.length===0&&te.jsx("div",{className:"mb-2 text-gray-600 text-xs",children:I||(r.language==="ar"?"حدد مواضيعك أو نقطة الاهتمام المثبتة لطرح أسئلة أكثر تحديدًا.":"Select your topics or pinned POI to ask more specific questions.")}),D.length>0&&te.jsxs("div",{className:"mb-3",children:[te.jsx("p",{className:"font-semibold mb-1 text-gray-700 text-sm",children:"Select subjects:"}),te.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(le=>te.jsx("div",{onClick:()=>ee(le),className:`rounded-full bg-gray-100 px-3 py-1 text-xs 
                                 cursor-pointer hover:bg-gray-200 transition`,children:le.subject},le.subject))})]}),F.length>0&&te.jsxs("div",{className:"mb-3",children:[te.jsx("p",{className:"font-semibold mb-1 text-gray-700 text-sm",children:"Selected subjects:"}),te.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(le=>te.jsxs("div",{className:`flex items-center bg-blue-100 text-blue-700 
                                 px-2 py-1 rounded-full text-xs`,children:[le.subject,te.jsx("button",{className:"ml-1 hover:text-blue-900",onClick:()=>re(le),children:te.jsx(_6,{className:"w-4 h-4"})})]},le.subject))})]}),Y&&te.jsxs("div",{className:"mb-3",children:[te.jsx("p",{className:"font-semibold mb-1 text-gray-700 text-sm",children:"Selected Point of Interest:"}),te.jsxs("div",{className:`inline-flex items-center bg-alAdaam text-white 
                             px-2 py-1 rounded-full text-xs`,children:[W.name,te.jsx("button",{className:"ml-1 hover:text-green-900",onClick:oe,children:te.jsx(_6,{className:"w-4 h-4"})})]})]}),K&&te.jsxs("div",{className:"mb-3",children:[te.jsx("p",{className:"font-semibold mb-1 text-gray-700 text-sm",children:"Selected Point of Interest:"}),te.jsxs("div",{className:`inline-flex items-center bg-alAdaam text-white  
                             px-2 py-1 rounded-full text-xs`,children:[W.name,te.jsx("button",{className:"ml-1 hover:text-purple-900",onClick:oe,children:te.jsx(_6,{className:"w-4 h-4"})})]})]}),m.length>0&&te.jsx("button",{onClick:be,className:"mt-2 text-xs text-red-500 underline hover:text-red-700",children:"Clear Conversation"})]})]}),te.jsxs("div",{dir:i?"rtl":"ltr",className:"flex-1 overflow-y-auto py-3 space-y-3",children:[m.map((le,ye)=>{const fe=le.role==="user";return te.jsxs("div",{className:`flex items-start ${fe?"justify-end":"justify-start"}`,children:[!fe&&te.jsx("div",{className:"mr-2 mt-1 ml-1 text-gray-500",children:te.jsx("img",{src:"https://aqarat-web-assets.s3.ap-northeast-1.amazonaws.com/xmap-logo.svg",alt:"robot",className:"w-5 h-5 bg-[#5146b9] rounded-full p-0.5"})}),te.jsx("div",{className:`rounded-lg px-3 py-2 text-sm whitespace-pre-wrap max-w-[70%] ${fe?"bg-blue-100 text-blue-900":"bg-gray-100 text-gray-800"}`,children:le.content?te.jsx(yze,{remarkPlugins:[EZe],className:"prose prose-sm break-words",children:le.content}):"Thinking..."}),fe&&te.jsx("div",{className:"hidden md:block ml-2 mt-1",children:te.jsx(TZe,{className:"w-5 h-5 mr-1 bg-alAdaam rounded-full p-0.5",color:"white"})})]},ye)}),C&&te.jsx("p",{className:"text-red-500 text-sm",children:C}),te.jsx("div",{ref:c})]}),te.jsxs("div",{dir:i?"rtl":"ltr",className:"border-t border-gray-200 p-3",children:[te.jsxs("div",{className:`flex items-center bg-white 
                     px-3 py-2 rounded-full shadow-sm 
                     focus-within:shadow-md transition`,children:[te.jsx("input",{type:"text",value:h,onChange:le=>o(le.target.value),placeholder:r.language==="ar"?"اسأل xMap AI":"Ask xMap AI",className:"flex-grow focus:outline-none text-sm text-gray-700 placeholder-gray-400","aria-label":r.language==="ar"?"اسأل سؤالاً":"Ask a question",onKeyDown:le=>{le.key==="Enter"&&(le.preventDefault(),he())}}),te.jsx("button",{onClick:he,className:`ml-2 bg-alAdaam hover:bg-alAdaam opacity-80 hover:opacity-100 text-white 
                        rounded-full p-2 shadow-md transition 
                        ${v?"opacity-50 cursor-not-allowed":""}`,"aria-label":"Send question",children:te.jsx(PZe,{className:`w-5 h-5 ${i?"rotate-180":""}`})})]}),te.jsx("div",{className:"text-[10px] text-gray-500 mt-2 text-center leading-tight",children:r.language==="ar"?"سجّل الدخول إلى الموقع للحصول على المزيد من البيانات والمعلومات.":"Please login for more information and insights."})]})]})};function OZe(e){return Wo({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M5 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0"},child:[]}]})(e)}function kZe(e){return Wo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M416 128 192 384l-96-96"},child:[]}]})(e)}function NZe(e){return Wo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(e)}function RZe(e){return Wo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m184 112 144 144-144 144"},child:[]}]})(e)}function yce(e){return Wo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(e)}function DZe(e){return Wo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M80 212v236a16 16 0 0 0 16 16h96V328a24 24 0 0 1 24-24h80a24 24 0 0 1 24 24v136h96a16 16 0 0 0 16-16V212"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M480 256 266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256m368-77V64h-48v69"},child:[]}]})(e)}function LZe(e){return Wo({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"192",r:"32"},child:[]},{tag:"path",attr:{d:"M256 32c-88.22 0-160 68.65-160 153 0 40.17 18.31 93.59 54.42 158.78 29 52.34 62.55 99.67 80 123.22a31.75 31.75 0 0 0 51.22 0c17.42-23.55 51-70.88 80-123.22C397.69 278.61 416 225.19 416 185c0-84.35-71.78-153-160-153zm0 224a64 64 0 1 1 64-64 64.07 64.07 0 0 1-64 64z"},child:[]}]})(e)}const FZe=Oe.createContext({}),vce=!0;function $Ze({baseColor:e,highlightColor:t,width:n,height:r,borderRadius:i,circle:s,direction:c,duration:h,enableAnimation:o=vce,customHighlightBackground:m}){const y={};return c==="rtl"&&(y["--animation-direction"]="reverse"),typeof h=="number"&&(y["--animation-duration"]=`${h}s`),o||(y["--pseudo-element-display"]="none"),(typeof n=="string"||typeof n=="number")&&(y.width=n),(typeof r=="string"||typeof r=="number")&&(y.height=r),(typeof i=="string"||typeof i=="number")&&(y.borderRadius=i),s&&(y.borderRadius="50%"),typeof e<"u"&&(y["--base-color"]=e),typeof t<"u"&&(y["--highlight-color"]=t),typeof m=="string"&&(y["--custom-highlight-background"]=m),y}function v0({count:e=1,wrapper:t,className:n,containerClassName:r,containerTestId:i,circle:s=!1,style:c,...h}){var o,m,y;const v=Oe.useContext(FZe),S={...h};for(const[F,U]of Object.entries(h))typeof U>"u"&&delete S[F];const C={...v,...S,circle:s},P={...c,...$Ze(C)};let I="react-loading-skeleton";n&&(I+=` ${n}`);const N=(o=C.inline)!==null&&o!==void 0?o:!1,D=[],k=Math.ceil(e);for(let F=0;F<k;F++){let U=P;if(k>e&&F===k-1){const z=(m=U.width)!==null&&m!==void 0?m:"100%",W=e%1,Y=typeof z=="number"?z*W:`calc(${z} * ${W})`;U={...U,width:Y}}const B=Oe.createElement("span",{className:I,style:U,key:F},"‌");N?D.push(B):D.push(Oe.createElement(Oe.Fragment,{key:F},B,Oe.createElement("br",null)))}return Oe.createElement("span",{className:r,"data-testid":i,"aria-live":"polite","aria-busy":(y=C.enableAnimation)!==null&&y!==void 0?y:vce},t?D.map((F,U)=>Oe.createElement(t,{key:U},F)):D)}const jZe=()=>te.jsxs("div",{className:"p-2",children:[te.jsx("div",{className:"mb-1",children:te.jsx(v0,{width:"100%",height:250})}),te.jsx("div",{className:"mb-1",children:te.jsx(v0,{width:"100%",height:150})}),te.jsx("div",{className:"mb-4",children:te.jsx(v0,{height:400})})]}),zZe=({isOpen:e,onClose:t,children:n})=>{if(!e)return null;const{i18n:r}=Zi(),i=r.language==="ar";return te.jsx("div",{className:"absolute top-0 z-50 scrollbar-custom",style:{width:"600px",...i?{right:"calc(100% + 6px)"}:{left:"calc(100% + 6px)"}},children:te.jsxs("div",{className:"relative bg-white rounded-lg shadow-lg border border-gray-200",style:{overflow:"visible"},children:[te.jsx("button",{onClick:t,className:`
            absolute top-3 ${i?"left-3":"right-3"} z-10 p-1 bg-white rounded-full shadow
            hover:bg-gray-200 focus:outline-none
          `,children:te.jsx(yce,{className:"h-5 w-5"})}),te.jsx("div",{style:{maxHeight:"calc(90vh - 70px)",overflow:"auto"},children:n})]})})},Lh=()=>te.jsx("div",{className:"h-9 w-px bg-divider"});function bce(e){return Wo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(e)}function BZe(e){return Wo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"},child:[]}]})(e)}function wq(e){return Wo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"},child:[]}]})(e)}function Sq(e){return Wo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(e)}function Aq(e){return Wo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.59 18 19 16.59 14.42 12 19 7.41 17.59 6l-6 6z"},child:[]},{tag:"path",attr:{d:"m11 18 1.41-1.41L7.83 12l4.58-4.59L11 6l-6 6z"},child:[]}]})(e)}function Cq(e){return Wo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},child:[]},{tag:"path",attr:{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},child:[]}]})(e)}function ZZe(e,t,n){if(t)switch(e){case 1:return n("floor.first");case 2:return n("floor.second");case 3:return n("floor.third");case 4:return n("floor.fourth");default:return n("floor.default_ar",{floor:e})}else switch(e){case 1:return n("floor.first_en");case 2:return n("floor.second_en");case 3:return n("floor.third_en");case 4:return n("floor.fourth_en");default:return n("floor.default_en",{floor:e})}}function UZe({units:e}){const{t,i18n:n}=Zi(),r=n.language==="ar",i=Array.from(new Set(e.map(o=>o.floor))).sort((o,m)=>m-o),[s,c]=Oe.useState(i[0]),h=e.filter(o=>o.floor===s);return te.jsxs("div",{dir:r?"rtl":"ltr",className:"flex flex-col",children:[te.jsxs("div",{className:`flex gap-2 p-4 h-96 items-stretch ${r?"flex-row-reverse":""}`,children:[te.jsx("div",{className:"flex-1 p-2 rounded-md overflow-y-auto h-full",style:{backgroundColor:"#F8F8F8"},children:te.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map(o=>te.jsx(GZe,{price:o.total_price,unit_number:o.unit_number,bedrooms:o.bedrooms,area:o.area_sqm,status:HZe(o.unit_status_en),isArabic:r},o.id))})}),te.jsxs("div",{className:"flex flex-col w-28 space-y-2 h-full",children:[te.jsx(VZe,{data:e,floorsInData:i,selectedFloor:s,onSelectFloor:c,isArabic:r}),te.jsx("div",{className:"rounded-md p-2 h-48 font-light overflow-y-auto",style:{backgroundColor:"#F8F8F8"},children:i.map(o=>te.jsx(WZe,{label:ZZe(o,r,t),active:o===s,onClick:()=>c(o)},o))})]})]}),te.jsx(KZe,{units:e,isArabic:r})]})}function HZe(e){switch(e){case"available":return"available";case"sold":return"sold";case"tenant":return"tenant";default:return"available"}}function VZe({data:e,floorsInData:t,selectedFloor:n,onSelectFloor:r,isArabic:i}){const s=t.reduce((D,k)=>{const F=e.filter(U=>U.floor===k).length;return Math.max(D,F)},0),c=112,h=4,o=18,m=h*(s-1),y=c-m,v=Math.floor(y/s)||o,S=Math.min(o,v),C=Math.min(...t),P=Math.max(...t),I=[];for(let D=P;D>=C;D--)I.push(D);const{t:N}=Zi();return te.jsx("div",{className:"space-y-2 w-full h-48 rounded-md p-2 flex flex-col items-center max-h-48 overflow-hidden overflow-y-auto",style:{backgroundColor:"#F5ECEF"},children:I.map(D=>{const k=e.filter(z=>z.floor===D),F=k.length>0,B=F?D===n?"bg-alAdaam":"bg-alAdaam opacity-40":"bg-gray-200";return k.length?te.jsx("div",{className:"flex items-center",children:k.map((z,W)=>te.jsx("div",{style:{width:`${S}px`,height:`${S}px`,...i?{marginLeft:W<k.length-1?`${h}px`:0}:{marginRight:W<k.length-1?`${h}px`:0}},className:`rounded-sm cursor-pointer ${B}`,title:N("buildingMap.unitTitle",{floor:D,unit:z.unit_number}),onClick:()=>F&&r(D)},z.id))},D):null})})}function WZe({label:e,active:t,onClick:n}){return te.jsx("button",{onClick:n,className:`w-full p-2 text-xs ${t?"bg-white text-gray-900 font-semibold rounded-md border border-gray-200":""}`,children:e})}function GZe({price:e,unit_number:t,bedrooms:n,area:r,status:i,isArabic:s}){const{t:c}=Zi(),h=i==="sold",o=i==="tenant",m=h?"opacity-50":"opacity-100",y=o?"border-brown-700":"border-gray-200";return te.jsxs("div",{className:`relative bg-white border rounded-md shadow-sm overflow-hidden p-4 transition ${y} ${m}`,children:[te.jsx("div",{className:"absolute top-0 left-0 w-full h-6",style:{backgroundImage:"repeating-linear-gradient(-45deg, #f2f2f2 0, #f2f2f2 4px, #ffffff 4px, #ffffff 8px)"}}),o&&te.jsx("div",{className:"absolute left-0 top-8 bg-brown-500 text-white px-3 py-1 text-sm font-medium -rotate-12 origin-left shadow",style:{backgroundColor:"#a98d7c"},children:c("unitCard.tenant")}),te.jsx("div",{className:`absolute top-2 ${s?"left-3":"right-3"} text-sm text-gray-600 font-medium`,children:t}),te.jsx("div",{className:"mt-4 text-lg font-bold text-indigo-900",children:e!=null?`${e.toLocaleString()} ${c("unitCard.currency")}`:c("unitCard.priceNotAvailable")}),te.jsxs("div",{className:"flex justify-between items-center mt-1 text-sm text-gray-500",children:[te.jsx("span",{children:c("unitCard.bedrooms")}),te.jsx("span",{children:c("unitCard.area")})]}),te.jsxs("div",{className:"flex justify-between items-center mt-1 text-lg text-gray-800 font-semibold",children:[te.jsx("span",{children:n}),te.jsx("span",{children:r})]})]})}function KZe({units:e,isArabic:t}){const{t:n}=Zi(),r=e.filter(s=>s.unit_status_en==="available"),i=e.filter(s=>s.unit_status_en==="sold");return te.jsxs("div",{className:"space-y-8 p-4",children:[r.length>0&&te.jsxs("div",{children:[te.jsx("h2",{className:"text-xl mb-2 font-semibold",style:{color:"#324F85"},children:n("paginatedTables.availableUnits")}),te.jsx(Mq,{data:r,isArabic:t,visibleColumns:["unit_number","type","area","view","bedrooms","parking_slots","total_price"]})]}),i.length>0&&te.jsxs("div",{children:[te.jsx("h2",{className:"text-xl mb-2 font-semibold",style:{color:"#324F85"},children:n("paginatedTables.dealtUnits")}),te.jsx(Mq,{data:i,isArabic:t,visibleColumns:["unit_number","type","area","view","bedrooms","parking_slots","total_price","spa_date"]})]})]})}function Mq({data:e,isArabic:t,visibleColumns:n=["unit_number","type","area","view","bedrooms","parking_slots","total_price"]}){const{t:r,i18n:i}=Zi(),[s,c]=Oe.useState(0),h=3,o=Math.ceil(e.length/h),m=i.language,y=s*h,v=y+h,S=e.slice(y,v),C=N=>{N<0||N>=o||c(N)},I=((N,D)=>{const k=[];if(D<=5){for(let re=0;re<D;re++)k.push(re);return k}const B=0,z=D-1;k.push(B);const W=Math.max(N-1,1),Y=Math.min(N+1,z-1),K=W>2,ee=Y<z-1;if(K)k.push("...");else for(let re=1;re<W;re++)k.push(re);for(let re=W;re<=Y;re++)k.push(re);if(ee)k.push("...");else for(let re=Y+1;re<z;re++)k.push(re);return k.push(z),k})(s,o);return te.jsxs("div",{className:"p-0 overflow-x-auto rounded-md",children:[te.jsx("div",{className:"overflow-x-auto",children:te.jsxs("table",{className:"border-collapse text-sm w-full",children:[te.jsx("thead",{children:te.jsxs("tr",{className:`text-xs text-white ${t?"text-right":"text-left"}`,style:{backgroundColor:"#324F85"},children:[n.includes("unit_number")&&te.jsx("th",{className:"p-2 whitespace-nowrap",children:r("unitsTable.unit_number")}),n.includes("type")&&te.jsx("th",{className:"p-2 whitespace-nowrap",children:r("unitsTable.type")}),n.includes("area")&&te.jsx("th",{className:"p-2 whitespace-nowrap",children:r("unitsTable.area")}),n.includes("view")&&te.jsx("th",{className:"p-2 whitespace-nowrap",children:r("unitsTable.view")}),n.includes("bedrooms")&&te.jsx("th",{className:"p-2 whitespace-nowrap",children:r("unitsTable.bedrooms")}),n.includes("parking_slots")&&te.jsx("th",{className:"p-2 whitespace-nowrap",children:r("unitsTable.parking_slots")}),n.includes("total_price")&&te.jsx("th",{className:"p-2 whitespace-nowrap",children:r("unitsTable.total_price")}),n.includes("spa_date")&&te.jsx("th",{className:"p-2 whitespace-nowrap",children:r("unitsTable.spa_date")})]})}),te.jsxs("tbody",{children:[S.map((N,D)=>te.jsxs("tr",{style:{backgroundColor:"#d2d7e2"},className:`text-xs ${D<S.length-1?"border-b":""} bg-gray-50`,children:[n.includes("unit_number")&&te.jsx("td",{className:"p-1.5",children:N.unit_number}),n.includes("type")&&te.jsx("td",{className:"p-1.5",children:m==="ar"?N.unit_type_ar:N.unit_type_en}),n.includes("area")&&te.jsx("td",{className:"p-1.5",children:N.area_sqm}),n.includes("view")&&te.jsx("td",{className:"p-1.5",children:N.view}),n.includes("bedrooms")&&te.jsx("td",{className:"p-1.5",children:N.bedrooms}),n.includes("parking_slots")&&te.jsx("td",{className:"p-1.5",children:N.parking_slots}),n.includes("total_price")&&te.jsx("td",{className:"p-1.5",children:N.total_price}),n.includes("spa_date")&&te.jsx("td",{className:"p-1.5",children:new Date(N.spa_date).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric"})})]},N.id)),[...Array(h-S.length)].map((N,D)=>te.jsx("tr",{className:"bg-gray-50 border-b",children:te.jsx("td",{className:"p-1.5",colSpan:n.length,children:" "})},`empty-${D}`))]})]})}),te.jsxs("div",{className:`flex items-center ${t?"justify-start space-x-reverse":"justify-end space-x-1"} my-4 text-xs`,children:[te.jsx("button",{onClick:()=>C(0),disabled:s===0,className:"px-2 py-1 border rounded disabled:opacity-50","aria-label":r("pagination.firstPage"),children:t?te.jsx(Cq,{}):te.jsx(Aq,{})}),te.jsx("button",{onClick:()=>C(s-1),disabled:s===0,className:"px-2 py-1 border rounded disabled:opacity-50","aria-label":r("pagination.previousPage"),children:t?te.jsx(Sq,{}):te.jsx(wq,{})}),I.map((N,D)=>N==="..."?te.jsx("span",{className:"px-2 py-1",children:"..."},`ellipsis-${D}`):te.jsx("button",{onClick:()=>C(N),className:`px-3 py-1 border rounded ${N===s?"bg-[#324F85] text-white":"bg-white"}`,"aria-current":N===s?"page":void 0,children:N+1},`page-${N}`)),te.jsx("button",{onClick:()=>C(s+1),disabled:s+1>=o,className:"px-2 py-1 border rounded disabled:opacity-50","aria-label":r("pagination.nextPage"),children:t?te.jsx(wq,{}):te.jsx(Sq,{})}),te.jsx("button",{onClick:()=>C(o-1),disabled:s+1>=o,className:"px-2 py-1 border rounded disabled:opacity-50","aria-label":r("pagination.lastPage"),children:t?te.jsx(Aq,{}):te.jsx(Cq,{})})]})]})}class Bh extends Oe.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){console.error("Error caught in ErrorBoundary:",t,n)}render(){return this.state.hasError?null:this.props.children}}function qZe(e){return Wo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(e)}const XZe=({amenities:e})=>{const{t,i18n:n}=Zi(),r=n.language==="ar",i=A.useRef(null),[s,c]=A.useState(!1),[h,o]=A.useState(!1),m=()=>{if(!i.current)return;const{scrollLeft:S,scrollWidth:C,clientWidth:P}=i.current;c(S>0),o(S+P<C)};A.useEffect(()=>{i.current&&(r&&(i.current.scrollLeft=i.current.scrollWidth-i.current.clientWidth),m());const S=()=>m(),C=i.current;return C.addEventListener("scroll",S),window.addEventListener("resize",m),()=>{C.removeEventListener("scroll",S),window.removeEventListener("resize",m)}},[e,r]);const y=()=>{i.current&&i.current.scrollBy({left:-100,behavior:"smooth"})},v=()=>{i.current&&i.current.scrollBy({left:100,behavior:"smooth"})};return te.jsxs("div",{className:"rounded-md text-center text-sm mb-2 relative",children:[te.jsxs("div",{className:"w-full rounded-sm border-alAdaamBorder relative",children:[te.jsxs("div",{ref:i,className:"overflow-x-auto flex flex-row items-center flex-nowrap gap-1.5 scrollbar-hide",children:[(e||[]).map((S,C)=>te.jsxs("div",{className:"rounded bg-customBg border border-customStroke flex flex-row items-center gap-1 p-1.5 whitespace-nowrap",children:[te.jsx("b",{className:"text-alAdaam text-xs",children:S}),te.jsx(kZe,{color:"#8A1538"})]},C)),(!e||e.length===0)&&te.jsx("div",{className:"text-alAdaam",children:t("project.no_amenities")})]}),s&&te.jsx("button",{onClick:y,className:"absolute left-2 top-1/2 transform -translate-y-1/2 z-10 bg-white bg-opacity-80 rounded-full shadow p-1",children:te.jsx(NZe,{size:16})}),h&&te.jsx("button",{onClick:v,className:"absolute right-2 top-1/2 transform -translate-y-1/2 z-10 bg-white bg-opacity-80 rounded-full shadow p-1",children:te.jsx(RZe,{size:16})})]}),te.jsx("style",{children:`
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
        .scrollbar-hide {
          -ms-overflow-style: none;  /* IE and Edge */
          scrollbar-width: none;  /* Firefox */
        }
      `})]})},YZe=e=>{var Y;const[t,n]=A.useState(null),[r,i]=A.useState(!0),[s,c]=A.useState(!1),[h,o]=A.useState(!1),{t:m,i18n:y}=Zi(),v=y.language==="ar",S=K=>{if(!K)return"N/A";try{return new Date(K).getFullYear().toString()}catch{return"N/A"}};if(A.useEffect(()=>{(async()=>{i(!0);try{const ee=localStorage.getItem("token");ee&&(Ff.Authorization=`Bearer ${ee}`);const re=await fetch(`https://az.api.aqarat.xmap.ai/projects/${e.properties.id}`,{headers:Ff});if(re.status===404){console.error("Project not found (404)"),n(null),i(!1);return}if(!re.ok)throw new Error(`HTTP error! Status: ${re.status}`);const oe=await re.json();n(oe)}catch(ee){console.error("Failed to fetch project data:",ee),n(null)}finally{i(!1)}})()},[e.properties.project_number]),A.useEffect(()=>{if(t!=null&&t.images&&t.images.length>0){let K=0;t.images.forEach(ee=>{const re=new Image;re.src=ee,re.onload=()=>{K++,K===t.images.length&&c(!0)}})}else c(!0)},[t]),r||!s)return te.jsx(jZe,{});if(!t)return te.jsx("div",{className:"flex justify-center items-center h-screen",children:te.jsx("div",{className:"text-red-500 text-lg",children:m("project.project_not_found")})});const C=S(t.project_start_date),P=S(t.expected_end_date),I=v?t.project_name_ar:t.project_name_en,N=v?t.project_description_ar:t.project_description_en,D=v?t.building_name_ar:t.building_name_en,k=v?t.building_purpose_ar:t.building_purpose_en,F=v?t.units_type_ar:t.units_type_en,U=v?t.city_name_ar:t.city_name_en,B=v?t.district_name_ar:t.district_name_en,z=v?t.developer_name_ar:t.developer_name_en,W=v?t.amenities_ar:t.amenities_en;return te.jsxs("div",{className:`p-2 bg-white text-alAdaam rounded-md ${v?"text-right":"text-left"}`,children:[te.jsxs("div",{className:"w-full h-full rounded-md relative",children:[te.jsx(z6e,{autoplay:!0,dots:!0,className:"rounded-md w-full h-full",children:(t.images||[]).map((K,ee)=>te.jsx("div",{className:"h-64 bg-customBg",children:te.jsx("img",{src:K,alt:`Project Image ${ee+1}`,className:"w-full h-full object-cover rounded-md"})},ee))}),t.units&&t.units.length>0&&te.jsx("button",{onClick:()=>o(!0),className:`
              absolute bottom-4 ${v?"right-4":"left-4"} 
              px-4 py-2 
              bg-alAdaam text-white text-sm 
              rounded 
              cursor-pointer 
              transition duration-200 
              ease-in-out hover:bg-alAdaamDark 
              hover:shadow-2xl hover:scale-105
            `,"aria-label":m("project.view_units"),children:m("project.view_units")})]}),te.jsxs("div",{className:"py-4",children:[te.jsxs("div",{className:"rounded-md bg-customBg border customStroke p-4 text-base mb-2",children:[te.jsx("b",{className:"leading-10 font-bold text-xl",children:I||"N/A"}),te.jsx("div",{className:"text-sm text-alAdaam opacity-60",children:N||"N/A"})]}),te.jsx("div",{className:"rounded-md bg-customBg border border-customStroke p-4 text-center text-sm mb-2",children:te.jsxs("div",{className:"flex flex-row items-center justify-between px-8",children:[te.jsxs("div",{className:"flex flex-col items-center",children:[te.jsx(LZe,{}),te.jsx("div",{className:"text-xs",children:m("project.district_city")}),te.jsxs("b",{className:"text-sm",children:[B||"N/A",", ",U||"N/A"]})]}),te.jsxs("div",{className:"flex flex-col items-center",children:[te.jsx("div",{className:"text-xs",children:m("project.developer_name")}),te.jsx("b",{className:"text-sm",children:z||"N/A"})]}),te.jsx("div",{className:"h-8 w-px bg-gray-300"}),te.jsxs("div",{className:"flex flex-col items-center",children:[te.jsx("div",{className:"text-xs",children:m("project.expected_date")}),te.jsx("b",{className:"text-sm",children:P})]}),te.jsx("div",{className:"h-8 w-px bg-gray-300"}),te.jsxs("div",{className:"flex flex-col items-center",children:[te.jsx("div",{className:"text-xs",children:m("project.start_date")}),te.jsx("b",{className:"text-sm",children:C})]})]})}),te.jsx("div",{className:"rounded-md bg-customBg border border-customStroke p-4 mb-2",children:te.jsxs("div",{className:"flex flex-row items-center justify-between px-8",children:[te.jsxs("div",{className:"flex flex-col items-center",children:[te.jsx("div",{className:"text-xs font-bold",children:te.jsxs("div",{className:"flex gap-1",children:[m("project.developer_contact")," ",t.website?te.jsx("a",{href:t.website,className:"underline",target:"_blank",rel:"noopener noreferrer",children:te.jsx(qZe,{})}):null]})}),te.jsx("div",{className:"text-sm font-bold",children:t.contact_number?te.jsx("a",{href:`tel:${t.contact_number}`,className:"underline",children:t.contact_number}):"N/A"})]}),te.jsx("div",{className:"h-8 w-px bg-gray-300"}),te.jsxs("div",{className:"flex flex-col items-center",children:[te.jsx("div",{className:"text-xs font-bold",children:m("project.total_units")}),te.jsx("div",{className:"text-sm font-bold flex items-center",children:t.total_number_of_units??"N/A"})]}),te.jsx("div",{className:"h-8 w-px bg-gray-300"}),te.jsxs("div",{className:"flex flex-col items-center",children:[te.jsx("div",{className:"text-xs font-bold",children:m("project.completion_percentage")}),te.jsx("div",{className:"text-sm font-bold",children:t.percent_complete!=null?`${t.percent_complete}%`:"N/A"})]})]})}),te.jsxs("div",{className:"max-w-full flex flex-row items-start justify-end gap-1 text-xs flex-wrap mb-2 text-center",children:[te.jsx("div",{className:"flex-1 rounded-md bg-customBg border border-customStroke flex flex-col p-2 min-w-[146px]",children:te.jsxs("div",{className:"w-full flex flex-col gap-5",children:[te.jsx("b",{className:"text-xs font-bold opacity-50",children:m("project.number_of_floors")}),te.jsx("b",{className:"text-sm text-black-900",children:t.floors?t.floors.join(", "):"N/A"})]})}),te.jsx("div",{className:"flex-1 rounded-md bg-customBg border border-customStroke flex flex-col p-2 min-w-[146px]",children:te.jsxs("div",{className:"w-full flex flex-col gap-5",children:[te.jsx("b",{className:"text-xs font-bold opacity-50",children:m("project.unit_types")}),te.jsx("b",{className:"text-sm text-black-900 truncate",title:F||"N/A",children:F||"N/A"})]})}),te.jsx("div",{className:"flex-1 rounded-md bg-customBg border border-customStroke flex flex-col p-2 min-w-[146px]",children:te.jsxs("div",{className:"w-full flex flex-col gap-5",children:[te.jsx("b",{className:"text-xs font-bold opacity-50",children:m("project.location")}),te.jsxs("b",{className:"text-sm text-black-900 truncate",title:`${U||"N/A"}, ${B||"N/A"}`,children:[U||"N/A",", ",B||"N/A"]})]})})]}),te.jsx(XZe,{amenities:W,t:m}),te.jsxs("div",{className:"rounded-md bg-customBg border border-customStroke p-4 text-center text-sm mb-2 px-10",children:[te.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr_auto_1fr] items-center gap-4",children:[te.jsxs("div",{className:"flex flex-col items-center gap-1",children:[te.jsx("div",{className:"text-alAdaam opacity-70 text-sm",children:m("project.building_name")}),te.jsx("div",{className:"text-alAdaam text-sm font-bold",children:D||"N/A"})]}),te.jsx(Lh,{}),te.jsxs("div",{className:"flex flex-col items-center gap-1",children:[te.jsx("div",{className:"text-alAdaam opacity-70 text-sm",children:m("project.city")}),te.jsx("div",{className:"text-alAdaam text-sm font-bold",children:U||"N/A"})]}),te.jsx(Lh,{}),te.jsxs("div",{className:"flex flex-col items-center gap-1",children:[te.jsx("div",{className:"text-alAdaam opacity-70 text-sm",children:m("project.district")}),te.jsx("div",{className:"text-alAdaam text-sm font-bold",children:B||"N/A"})]})]}),te.jsx("div",{className:"w-full h-px bg-gray-300 my-5"}),te.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr_auto_1fr] items-center gap-4",children:[te.jsxs("div",{className:"flex flex-col items-center gap-1",children:[te.jsx("div",{className:"text-alAdaam opacity-70 text-sm",children:m("project.latitude")}),te.jsx("div",{className:"text-alAdaam text-sm font-bold",children:t.latitude??"N/A"})]}),te.jsx(Lh,{}),te.jsxs("div",{className:"flex flex-col items-center gap-1",children:[te.jsx("div",{className:"text-alAdaam opacity-70 text-sm",children:m("project.longitude")}),te.jsx("div",{className:"text-alAdaam text-sm font-bold",children:t.longitude??"N/A"})]}),te.jsx(Lh,{}),te.jsxs("div",{className:"flex flex-col items-center gap-1",children:[te.jsx("div",{className:"text-alAdaam opacity-70 text-sm",children:m("project.building_purpose")}),te.jsx("div",{className:"text-alAdaam text-sm font-bold",children:k||"N/A"})]})]}),te.jsx("div",{className:"w-full h-px bg-gray-300 my-5"}),te.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr_auto_1fr] items-center gap-4",children:[te.jsxs("div",{className:"flex flex-col items-center gap-1",children:[te.jsx("div",{className:"text-alAdaam opacity-70 text-sm",children:m("project.bedrooms")}),te.jsx("div",{className:"text-alAdaam text-sm font-bold",children:((Y=t.bedrooms_number)==null?void 0:Y.join(", "))||"N/A"})]}),te.jsx(Lh,{}),te.jsxs("div",{className:"flex flex-col items-center gap-1",children:[te.jsx("div",{className:"text-alAdaam opacity-70 text-sm",children:m("project.freehold")}),te.jsx("div",{className:"text-alAdaam text-sm font-bold",children:t.freehold!=null?t.freehold?m("yes"):m("no"):"N/A"})]}),te.jsx(Lh,{}),te.jsxs("div",{className:"flex flex-col items-center gap-1",children:[te.jsx("div",{className:"text-alAdaam opacity-70 text-sm",children:m("project.price")}),te.jsx("div",{className:"text-alAdaam text-sm font-bold",children:t.price!=null?t.price.toLocaleString():"N/A"})]})]})]}),t.units&&t.units.length>0&&te.jsx(zZe,{isOpen:h,onClose:()=>o(!1),children:te.jsx(Bh,{children:te.jsx(UZe,{units:t.units})})})]})]})};function JZe(e){return Wo({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M108,80a20,20,0,1,1,20,20A20,20,0,0,1,108,80ZM60,80a68,68,0,0,1,136,0c0,62.25-59.51,97-62.05,98.42a12,12,0,0,1-11.9,0C119.51,177,60,142.25,60,80Zm24,0c0,38.2,30.71,64.2,44,73.64C141.21,144.15,172,118,172,80a44,44,0,0,0-88,0Zm124.57,65.6a12,12,0,1,0-9.14,22.19C213.56,173.61,220,180.27,220,184c0,4-7.13,11.07-22.77,17.08-18.3,7-42.89,10.92-69.23,10.92s-50.93-3.88-69.23-10.92C43.12,195.07,36,188,36,184c0-3.73,6.44-10.39,20.57-16.21a12,12,0,1,0-9.14-22.19C31.27,152.25,12,164.31,12,184c0,34.14,58.36,52,116,52,29.22,0,56.86-4.44,77.85-12.52C220.1,218,244,205.59,244,184,244,164.31,224.73,152.25,208.57,145.6Z"},child:[]}]})(e)}function _ce(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=_ce(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function no(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=_ce(e))&&(r&&(r+=" "),r+=t);return r}var QZe=Array.isArray,Gl=QZe,eUe=typeof $d=="object"&&$d&&$d.Object===Object&&$d,xce=eUe,tUe=xce,nUe=typeof self=="object"&&self&&self.Object===Object&&self,rUe=tUe||nUe||Function("return this")(),nh=rUe,iUe=nh,oUe=iUe.Symbol,vA=oUe,Eq=vA,wce=Object.prototype,aUe=wce.hasOwnProperty,sUe=wce.toString,wx=Eq?Eq.toStringTag:void 0;function lUe(e){var t=aUe.call(e,wx),n=e[wx];try{e[wx]=void 0;var r=!0}catch{}var i=sUe.call(e);return r&&(t?e[wx]=n:delete e[wx]),i}var cUe=lUe,uUe=Object.prototype,dUe=uUe.toString;function hUe(e){return dUe.call(e)}var pUe=hUe,Tq=vA,fUe=cUe,mUe=pUe,gUe="[object Null]",yUe="[object Undefined]",Pq=Tq?Tq.toStringTag:void 0;function vUe(e){return e==null?e===void 0?yUe:gUe:Pq&&Pq in Object(e)?fUe(e):mUe(e)}var hp=vUe;function bUe(e){return e!=null&&typeof e=="object"}var pp=bUe,_Ue=hp,xUe=pp,wUe="[object Symbol]";function SUe(e){return typeof e=="symbol"||xUe(e)&&_Ue(e)==wUe}var Lb=SUe,AUe=Gl,CUe=Lb,MUe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,EUe=/^\w*$/;function TUe(e,t){if(AUe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||CUe(e)?!0:EUe.test(e)||!MUe.test(e)||t!=null&&e in Object(t)}var x9=TUe;function PUe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qf=PUe;const Fb=Li(qf);var IUe=hp,OUe=qf,kUe="[object AsyncFunction]",NUe="[object Function]",RUe="[object GeneratorFunction]",DUe="[object Proxy]";function LUe(e){if(!OUe(e))return!1;var t=IUe(e);return t==NUe||t==RUe||t==kUe||t==DUe}var w9=LUe;const $i=Li(w9);var FUe=nh,$Ue=FUe["__core-js_shared__"],jUe=$Ue,L6=jUe,Iq=function(){var e=/[^.]+$/.exec(L6&&L6.keys&&L6.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function zUe(e){return!!Iq&&Iq in e}var BUe=zUe,ZUe=Function.prototype,UUe=ZUe.toString;function HUe(e){if(e!=null){try{return UUe.call(e)}catch{}try{return e+""}catch{}}return""}var Sce=HUe,VUe=w9,WUe=BUe,GUe=qf,KUe=Sce,qUe=/[\\^$.*+?()[\]{}|]/g,XUe=/^\[object .+?Constructor\]$/,YUe=Function.prototype,JUe=Object.prototype,QUe=YUe.toString,eHe=JUe.hasOwnProperty,tHe=RegExp("^"+QUe.call(eHe).replace(qUe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nHe(e){if(!GUe(e)||WUe(e))return!1;var t=VUe(e)?tHe:XUe;return t.test(KUe(e))}var rHe=nHe;function iHe(e,t){return e==null?void 0:e[t]}var oHe=iHe,aHe=rHe,sHe=oHe;function lHe(e,t){var n=sHe(e,t);return aHe(n)?n:void 0}var ay=lHe,cHe=ay,uHe=cHe(Object,"create"),r4=uHe,Oq=r4;function dHe(){this.__data__=Oq?Oq(null):{},this.size=0}var hHe=dHe;function pHe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var fHe=pHe,mHe=r4,gHe="__lodash_hash_undefined__",yHe=Object.prototype,vHe=yHe.hasOwnProperty;function bHe(e){var t=this.__data__;if(mHe){var n=t[e];return n===gHe?void 0:n}return vHe.call(t,e)?t[e]:void 0}var _He=bHe,xHe=r4,wHe=Object.prototype,SHe=wHe.hasOwnProperty;function AHe(e){var t=this.__data__;return xHe?t[e]!==void 0:SHe.call(t,e)}var CHe=AHe,MHe=r4,EHe="__lodash_hash_undefined__";function THe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=MHe&&t===void 0?EHe:t,this}var PHe=THe,IHe=hHe,OHe=fHe,kHe=_He,NHe=CHe,RHe=PHe;function $b(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$b.prototype.clear=IHe;$b.prototype.delete=OHe;$b.prototype.get=kHe;$b.prototype.has=NHe;$b.prototype.set=RHe;var DHe=$b;function LHe(){this.__data__=[],this.size=0}var FHe=LHe;function $He(e,t){return e===t||e!==e&&t!==t}var S9=$He,jHe=S9;function zHe(e,t){for(var n=e.length;n--;)if(jHe(e[n][0],t))return n;return-1}var i4=zHe,BHe=i4,ZHe=Array.prototype,UHe=ZHe.splice;function HHe(e){var t=this.__data__,n=BHe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():UHe.call(t,n,1),--this.size,!0}var VHe=HHe,WHe=i4;function GHe(e){var t=this.__data__,n=WHe(t,e);return n<0?void 0:t[n][1]}var KHe=GHe,qHe=i4;function XHe(e){return qHe(this.__data__,e)>-1}var YHe=XHe,JHe=i4;function QHe(e,t){var n=this.__data__,r=JHe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var eVe=QHe,tVe=FHe,nVe=VHe,rVe=KHe,iVe=YHe,oVe=eVe;function jb(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}jb.prototype.clear=tVe;jb.prototype.delete=nVe;jb.prototype.get=rVe;jb.prototype.has=iVe;jb.prototype.set=oVe;var o4=jb,aVe=ay,sVe=nh,lVe=aVe(sVe,"Map"),A9=lVe,kq=DHe,cVe=o4,uVe=A9;function dVe(){this.size=0,this.__data__={hash:new kq,map:new(uVe||cVe),string:new kq}}var hVe=dVe;function pVe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var fVe=pVe,mVe=fVe;function gVe(e,t){var n=e.__data__;return mVe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var a4=gVe,yVe=a4;function vVe(e){var t=yVe(this,e).delete(e);return this.size-=t?1:0,t}var bVe=vVe,_Ve=a4;function xVe(e){return _Ve(this,e).get(e)}var wVe=xVe,SVe=a4;function AVe(e){return SVe(this,e).has(e)}var CVe=AVe,MVe=a4;function EVe(e,t){var n=MVe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var TVe=EVe,PVe=hVe,IVe=bVe,OVe=wVe,kVe=CVe,NVe=TVe;function zb(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zb.prototype.clear=PVe;zb.prototype.delete=IVe;zb.prototype.get=OVe;zb.prototype.has=kVe;zb.prototype.set=NVe;var C9=zb,Ace=C9,RVe="Expected a function";function M9(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(RVe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var c=e.apply(this,r);return n.cache=s.set(i,c)||s,c};return n.cache=new(M9.Cache||Ace),n}M9.Cache=Ace;var Cce=M9;const DVe=Li(Cce);var LVe=Cce,FVe=500;function $Ve(e){var t=LVe(e,function(r){return n.size===FVe&&n.clear(),r}),n=t.cache;return t}var jVe=$Ve,zVe=jVe,BVe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZVe=/\\(\\)?/g,UVe=zVe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(BVe,function(n,r,i,s){t.push(i?s.replace(ZVe,"$1"):r||n)}),t}),HVe=UVe;function VVe(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var E9=VVe,Nq=vA,WVe=E9,GVe=Gl,KVe=Lb,Rq=Nq?Nq.prototype:void 0,Dq=Rq?Rq.toString:void 0;function Mce(e){if(typeof e=="string")return e;if(GVe(e))return WVe(e,Mce)+"";if(KVe(e))return Dq?Dq.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var qVe=Mce,XVe=qVe;function YVe(e){return e==null?"":XVe(e)}var Ece=YVe,JVe=Gl,QVe=x9,eWe=HVe,tWe=Ece;function nWe(e,t){return JVe(e)?e:QVe(e,t)?[e]:eWe(tWe(e))}var Tce=nWe,rWe=Lb;function iWe(e){if(typeof e=="string"||rWe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var s4=iWe,oWe=Tce,aWe=s4;function sWe(e,t){t=oWe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[aWe(t[n++])];return n&&n==r?e:void 0}var T9=sWe,lWe=T9;function cWe(e,t,n){var r=e==null?void 0:lWe(e,t);return r===void 0?n:r}var Pce=cWe;const Qc=Li(Pce);function uWe(e){return e==null}var dWe=uWe;const zi=Li(dWe);var hWe=hp,pWe=Gl,fWe=pp,mWe="[object String]";function gWe(e){return typeof e=="string"||!pWe(e)&&fWe(e)&&hWe(e)==mWe}var yWe=gWe;const bA=Li(yWe);var vWe=hp,bWe=pp,_We="[object Number]";function xWe(e){return typeof e=="number"||bWe(e)&&vWe(e)==_We}var Ice=xWe;const wWe=Li(Ice);var SWe=Ice;function AWe(e){return SWe(e)&&e!=+e}var CWe=AWe;const _A=Li(CWe);var Zu=function(t){return t===0?0:t>0?1:-1},vg=function(t){return bA(t)&&t.indexOf("%")===t.length-1},yr=function(t){return wWe(t)&&!_A(t)},ts=function(t){return yr(t)||bA(t)},MWe=0,xA=function(t){var n=++MWe;return"".concat(t||"").concat(n)},Vg=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!yr(t)&&!bA(t))return r;var s;if(vg(t)){var c=t.indexOf("%");s=n*parseFloat(t.slice(0,c))/100}else s=+t;return _A(s)&&(s=r),i&&s>n&&(s=n),s},kv=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},EWe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},$u=function(t,n){return yr(t)&&yr(n)?function(r){return t+r*(n-t)}:function(){return n}};function TT(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Qc(r,t))===n})}function b0(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function G8(e){"@babel/helpers - typeof";return G8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G8(e)}var TWe=["viewBox","children"],PWe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Lq=["points","pathLength"],F6={svg:TWe,polygon:Lq,polyline:Lq},P9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],PT=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(A.isValidElement(t)&&(r=t.props),!Fb(r))return null;var i={};return Object.keys(r).forEach(function(s){P9.includes(s)&&(i[s]=n||function(c){return r[s](r,c)})}),i},IWe=function(t,n,r){return function(i){return t(n,r,i),null}},IT=function(t,n,r){if(!Fb(t)||G8(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var c=t[s];P9.includes(s)&&typeof c=="function"&&(i||(i={}),i[s]=IWe(c,n,r))}),i},OWe=["children"],kWe=["children"];function Fq(e,t){if(e==null)return{};var n=NWe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NWe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function K8(e){"@babel/helpers - typeof";return K8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K8(e)}var $q={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qh=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},jq=null,$6=null,I9=function e(t){if(t===jq&&Array.isArray($6))return $6;var n=[];return A.Children.forEach(t,function(r){zi(r)||(JM.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),$6=n,jq=t,n};function eu(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return qh(i)}):r=[qh(t)],I9(e).forEach(function(i){var s=Qc(i,"type.displayName")||Qc(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function mc(e,t){var n=eu(e,t);return n&&n[0]}var zq=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!yr(r)||r<=0||!yr(i)||i<=0)},RWe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],DWe=function(t){return t&&t.type&&bA(t.type)&&RWe.indexOf(t.type)>=0},LWe=function(t){return t&&K8(t)==="object"&&"clipDot"in t},FWe=function(t,n,r,i){var s,c=(s=F6==null?void 0:F6[i])!==null&&s!==void 0?s:[];return!$i(t)&&(i&&c.includes(n)||PWe.includes(n))||r&&P9.includes(n)},Xi=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(A.isValidElement(t)&&(i=t.props),!Fb(i))return null;var s={};return Object.keys(i).forEach(function(c){var h;FWe((h=i)===null||h===void 0?void 0:h[c],c,n,r)&&(s[c]=i[c])}),s},q8=function e(t,n){if(t===n)return!0;var r=A.Children.count(t);if(r!==A.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Bq(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=t[i],c=n[i];if(Array.isArray(s)||Array.isArray(c)){if(!e(s,c))return!1}else if(!Bq(s,c))return!1}return!0},Bq=function(t,n){if(zi(t)&&zi(n))return!0;if(!zi(t)&&!zi(n)){var r=t.props||{},i=r.children,s=Fq(r,OWe),c=n.props||{},h=c.children,o=Fq(c,kWe);return i&&h?b0(s,o)&&q8(i,h):!i&&!h?b0(s,o):!1}return!1},Zq=function(t,n){var r=[],i={};return I9(t).forEach(function(s,c){if(DWe(s))r.push(s);else if(s){var h=qh(s.type),o=n[h]||{},m=o.handler,y=o.once;if(m&&(!y||!i[h])){var v=m(s,h,c);r.push(v),i[h]=!0}}}),r},$We=function(t){var n=t&&t.type;return n&&$q[n]?$q[n]:null},jWe=function(t,n){return I9(n).indexOf(t)},zWe=["children","width","height","viewBox","className","style","title","desc"];function X8(){return X8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X8.apply(this,arguments)}function BWe(e,t){if(e==null)return{};var n=ZWe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZWe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Y8(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,s=e.className,c=e.style,h=e.title,o=e.desc,m=BWe(e,zWe),y=i||{width:n,height:r,x:0,y:0},v=no("recharts-surface",s);return Oe.createElement("svg",X8({},Xi(m,!0,"svg"),{className:v,width:n,height:r,style:c,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height)}),Oe.createElement("title",null,h),Oe.createElement("desc",null,o),t)}var UWe=["children","className"];function J8(){return J8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J8.apply(this,arguments)}function HWe(e,t){if(e==null)return{};var n=VWe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function VWe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ka=Oe.forwardRef(function(e,t){var n=e.children,r=e.className,i=HWe(e,UWe),s=no("recharts-layer",r);return Oe.createElement("g",J8({className:s},Xi(i,!0),{ref:t}),n)}),Ig=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function WWe(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}var GWe=WWe,KWe=GWe;function qWe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:KWe(e,t,n)}var XWe=qWe,YWe="\\ud800-\\udfff",JWe="\\u0300-\\u036f",QWe="\\ufe20-\\ufe2f",eGe="\\u20d0-\\u20ff",tGe=JWe+QWe+eGe,nGe="\\ufe0e\\ufe0f",rGe="\\u200d",iGe=RegExp("["+rGe+YWe+tGe+nGe+"]");function oGe(e){return iGe.test(e)}var Oce=oGe;function aGe(e){return e.split("")}var sGe=aGe,kce="\\ud800-\\udfff",lGe="\\u0300-\\u036f",cGe="\\ufe20-\\ufe2f",uGe="\\u20d0-\\u20ff",dGe=lGe+cGe+uGe,hGe="\\ufe0e\\ufe0f",pGe="["+kce+"]",Q8="["+dGe+"]",eR="\\ud83c[\\udffb-\\udfff]",fGe="(?:"+Q8+"|"+eR+")",Nce="[^"+kce+"]",Rce="(?:\\ud83c[\\udde6-\\uddff]){2}",Dce="[\\ud800-\\udbff][\\udc00-\\udfff]",mGe="\\u200d",Lce=fGe+"?",Fce="["+hGe+"]?",gGe="(?:"+mGe+"(?:"+[Nce,Rce,Dce].join("|")+")"+Fce+Lce+")*",yGe=Fce+Lce+gGe,vGe="(?:"+[Nce+Q8+"?",Q8,Rce,Dce,pGe].join("|")+")",bGe=RegExp(eR+"(?="+eR+")|"+vGe+yGe,"g");function _Ge(e){return e.match(bGe)||[]}var xGe=_Ge,wGe=sGe,SGe=Oce,AGe=xGe;function CGe(e){return SGe(e)?AGe(e):wGe(e)}var MGe=CGe,EGe=XWe,TGe=Oce,PGe=MGe,IGe=Ece;function OGe(e){return function(t){t=IGe(t);var n=TGe(t)?PGe(t):void 0,r=n?n[0]:t.charAt(0),i=n?EGe(n,1).join(""):t.slice(1);return r[e]()+i}}var kGe=OGe,NGe=kGe,RGe=NGe("toUpperCase"),DGe=RGe;const l4=Li(DGe);function Lo(e){return function(){return e}}const $ce=Math.cos,OT=Math.sin,od=Math.sqrt,kT=Math.PI,c4=2*kT,tR=Math.PI,nR=2*tR,rg=1e-6,LGe=nR-rg;function jce(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function FGe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return jce;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class $Ge{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?jce:FGe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,c){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,h=this._y1,o=r-t,m=i-n,y=c-t,v=h-n,S=y*y+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(S>rg)if(!(Math.abs(v*o-m*y)>rg)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let C=r-c,P=i-h,I=o*o+m*m,N=C*C+P*P,D=Math.sqrt(I),k=Math.sqrt(S),F=s*Math.tan((tR-Math.acos((I+S-N)/(2*D*k)))/2),U=F/k,B=F/D;Math.abs(U-1)>rg&&this._append`L${t+U*y},${n+U*v}`,this._append`A${s},${s},0,0,${+(v*C>y*P)},${this._x1=t+B*o},${this._y1=n+B*m}`}}arc(t,n,r,i,s,c){if(t=+t,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let h=r*Math.cos(i),o=r*Math.sin(i),m=t+h,y=n+o,v=1^c,S=c?i-s:s-i;this._x1===null?this._append`M${m},${y}`:(Math.abs(this._x1-m)>rg||Math.abs(this._y1-y)>rg)&&this._append`L${m},${y}`,r&&(S<0&&(S=S%nR+nR),S>LGe?this._append`A${r},${r},0,1,${v},${t-h},${n-o}A${r},${r},0,1,${v},${this._x1=m},${this._y1=y}`:S>rg&&this._append`A${r},${r},0,${+(S>=tR)},${v},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function O9(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new $Ge(t)}function k9(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zce(e){this._context=e}zce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function u4(e){return new zce(e)}function Bce(e){return e[0]}function Zce(e){return e[1]}function Uce(e,t){var n=Lo(!0),r=null,i=u4,s=null,c=O9(h);e=typeof e=="function"?e:e===void 0?Bce:Lo(e),t=typeof t=="function"?t:t===void 0?Zce:Lo(t);function h(o){var m,y=(o=k9(o)).length,v,S=!1,C;for(r==null&&(s=i(C=c())),m=0;m<=y;++m)!(m<y&&n(v=o[m],m,o))===S&&((S=!S)?s.lineStart():s.lineEnd()),S&&s.point(+e(v,m,o),+t(v,m,o));if(C)return s=null,C+""||null}return h.x=function(o){return arguments.length?(e=typeof o=="function"?o:Lo(+o),h):e},h.y=function(o){return arguments.length?(t=typeof o=="function"?o:Lo(+o),h):t},h.defined=function(o){return arguments.length?(n=typeof o=="function"?o:Lo(!!o),h):n},h.curve=function(o){return arguments.length?(i=o,r!=null&&(s=i(r)),h):i},h.context=function(o){return arguments.length?(o==null?r=s=null:s=i(r=o),h):r},h}function mM(e,t,n){var r=null,i=Lo(!0),s=null,c=u4,h=null,o=O9(m);e=typeof e=="function"?e:e===void 0?Bce:Lo(+e),t=typeof t=="function"?t:Lo(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Zce:Lo(+n);function m(v){var S,C,P,I=(v=k9(v)).length,N,D=!1,k,F=new Array(I),U=new Array(I);for(s==null&&(h=c(k=o())),S=0;S<=I;++S){if(!(S<I&&i(N=v[S],S,v))===D)if(D=!D)C=S,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),P=S-1;P>=C;--P)h.point(F[P],U[P]);h.lineEnd(),h.areaEnd()}D&&(F[S]=+e(N,S,v),U[S]=+t(N,S,v),h.point(r?+r(N,S,v):F[S],n?+n(N,S,v):U[S]))}if(k)return h=null,k+""||null}function y(){return Uce().defined(i).curve(c).context(s)}return m.x=function(v){return arguments.length?(e=typeof v=="function"?v:Lo(+v),r=null,m):e},m.x0=function(v){return arguments.length?(e=typeof v=="function"?v:Lo(+v),m):e},m.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:Lo(+v),m):r},m.y=function(v){return arguments.length?(t=typeof v=="function"?v:Lo(+v),n=null,m):t},m.y0=function(v){return arguments.length?(t=typeof v=="function"?v:Lo(+v),m):t},m.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Lo(+v),m):n},m.lineX0=m.lineY0=function(){return y().x(e).y(t)},m.lineY1=function(){return y().x(e).y(n)},m.lineX1=function(){return y().x(r).y(t)},m.defined=function(v){return arguments.length?(i=typeof v=="function"?v:Lo(!!v),m):i},m.curve=function(v){return arguments.length?(c=v,s!=null&&(h=c(s)),m):c},m.context=function(v){return arguments.length?(v==null?s=h=null:h=c(s=v),m):s},m}class Hce{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function jGe(e){return new Hce(e,!0)}function zGe(e){return new Hce(e,!1)}const N9={draw(e,t){const n=od(t/kT);e.moveTo(n,0),e.arc(0,0,n,0,c4)}},BGe={draw(e,t){const n=od(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Vce=od(1/3),ZGe=Vce*2,UGe={draw(e,t){const n=od(t/ZGe),r=n*Vce;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},HGe={draw(e,t){const n=od(t),r=-n/2;e.rect(r,r,n,n)}},VGe=.8908130915292852,Wce=OT(kT/10)/OT(7*kT/10),WGe=OT(c4/10)*Wce,GGe=-$ce(c4/10)*Wce,KGe={draw(e,t){const n=od(t*VGe),r=WGe*n,i=GGe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const c=c4*s/5,h=$ce(c),o=OT(c);e.lineTo(o*n,-h*n),e.lineTo(h*r-o*i,o*r+h*i)}e.closePath()}},j6=od(3),qGe={draw(e,t){const n=-od(t/(j6*3));e.moveTo(0,n*2),e.lineTo(-j6*n,-n),e.lineTo(j6*n,-n),e.closePath()}},Zc=-.5,Uc=od(3)/2,rR=1/od(12),XGe=(rR/2+1)*3,YGe={draw(e,t){const n=od(t/XGe),r=n/2,i=n*rR,s=r,c=n*rR+n,h=-s,o=c;e.moveTo(r,i),e.lineTo(s,c),e.lineTo(h,o),e.lineTo(Zc*r-Uc*i,Uc*r+Zc*i),e.lineTo(Zc*s-Uc*c,Uc*s+Zc*c),e.lineTo(Zc*h-Uc*o,Uc*h+Zc*o),e.lineTo(Zc*r+Uc*i,Zc*i-Uc*r),e.lineTo(Zc*s+Uc*c,Zc*c-Uc*s),e.lineTo(Zc*h+Uc*o,Zc*o-Uc*h),e.closePath()}};function JGe(e,t){let n=null,r=O9(i);e=typeof e=="function"?e:Lo(e||N9),t=typeof t=="function"?t:Lo(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Lo(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Lo(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function NT(){}function RT(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Gce(e){this._context=e}Gce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:RT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:RT(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QGe(e){return new Gce(e)}function Kce(e){this._context=e}Kce.prototype={areaStart:NT,areaEnd:NT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:RT(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eKe(e){return new Kce(e)}function qce(e){this._context=e}qce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:RT(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tKe(e){return new qce(e)}function Xce(e){this._context=e}Xce.prototype={areaStart:NT,areaEnd:NT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function nKe(e){return new Xce(e)}function Uq(e){return e<0?-1:1}function Hq(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),c=(n-e._y1)/(i||r<0&&-0),h=(s*i+c*r)/(r+i);return(Uq(s)+Uq(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(h))||0}function Vq(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function z6(e,t,n){var r=e._x0,i=e._y0,s=e._x1,c=e._y1,h=(s-r)/3;e._context.bezierCurveTo(r+h,i+h*t,s-h,c-h*n,s,c)}function DT(e){this._context=e}DT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:z6(this,this._t0,Vq(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,z6(this,Vq(this,n=Hq(this,e,t)),n);break;default:z6(this,this._t0,n=Hq(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Yce(e){this._context=new Jce(e)}(Yce.prototype=Object.create(DT.prototype)).point=function(e,t){DT.prototype.point.call(this,t,e)};function Jce(e){this._context=e}Jce.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function rKe(e){return new DT(e)}function iKe(e){return new Yce(e)}function Qce(e){this._context=e}Qce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Wq(e),i=Wq(t),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Wq(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),c=new Array(n);for(i[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,c[t]-=r*c[t-1];for(i[n-1]=c[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(c[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function oKe(e){return new Qce(e)}function d4(e,t){this._context=e,this._t=t}d4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function aKe(e){return new d4(e,.5)}function sKe(e){return new d4(e,0)}function lKe(e){return new d4(e,1)}function q0(e,t){if((c=e.length)>1)for(var n=1,r,i,s=e[t[0]],c,h=s.length;n<c;++n)for(i=s,s=e[t[n]],r=0;r<h;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function iR(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function cKe(e,t){return e[t]}function uKe(e){const t=[];return t.key=e,t}function dKe(){var e=Lo([]),t=iR,n=q0,r=cKe;function i(s){var c=Array.from(e.apply(this,arguments),uKe),h,o=c.length,m=-1,y;for(const v of s)for(h=0,++m;h<o;++h)(c[h][m]=[0,+r(v,c[h].key,m,s)]).data=v;for(h=0,y=k9(t(c));h<o;++h)c[y[h]].index=h;return n(c,y),c}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Lo(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Lo(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?iR:typeof s=="function"?s:Lo(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??q0,i):n},i}function hKe(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,c;i<s;++i){for(c=n=0;n<r;++n)c+=e[n][i][1]||0;if(c)for(n=0;n<r;++n)e[n][i][1]/=c}q0(e,t)}}function pKe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var c=0,h=0;c<i;++c)h+=e[c][n][1]||0;r[n][1]+=r[n][0]=-h/2}q0(e,t)}}function fKe(e,t){if(!(!((c=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,c;r<s;++r){for(var h=0,o=0,m=0;h<c;++h){for(var y=e[t[h]],v=y[r][1]||0,S=y[r-1][1]||0,C=(v-S)/2,P=0;P<h;++P){var I=e[t[P]],N=I[r][1]||0,D=I[r-1][1]||0;C+=N-D}o+=v,m+=C*v}i[r-1][1]+=i[r-1][0]=n,o&&(n-=m/o)}i[r-1][1]+=i[r-1][0]=n,q0(e,t)}}function lS(e){"@babel/helpers - typeof";return lS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lS(e)}var mKe=["type","size","sizeType"];function oR(){return oR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oR.apply(this,arguments)}function Gq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gq(Object(n),!0).forEach(function(r){gKe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gKe(e,t,n){return t=yKe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yKe(e){var t=vKe(e,"string");return lS(t)=="symbol"?t:t+""}function vKe(e,t){if(lS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bKe(e,t){if(e==null)return{};var n=_Ke(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _Ke(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var eue={symbolCircle:N9,symbolCross:BGe,symbolDiamond:UGe,symbolSquare:HGe,symbolStar:KGe,symbolTriangle:qGe,symbolWye:YGe},xKe=Math.PI/180,wKe=function(t){var n="symbol".concat(l4(t));return eue[n]||N9},SKe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*xKe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},AKe=function(t,n){eue["symbol".concat(l4(t))]=n},R9=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,s=i===void 0?64:i,c=t.sizeType,h=c===void 0?"area":c,o=bKe(t,mKe),m=Kq(Kq({},o),{},{type:r,size:s,sizeType:h}),y=function(){var N=wKe(r),D=JGe().type(N).size(SKe(s,h,r));return D()},v=m.className,S=m.cx,C=m.cy,P=Xi(m,!0);return S===+S&&C===+C&&s===+s?Oe.createElement("path",oR({},P,{className:no("recharts-symbols",v),transform:"translate(".concat(S,", ").concat(C,")"),d:y()})):null};R9.registerSymbol=AKe;function X0(e){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}function aR(){return aR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aR.apply(this,arguments)}function qq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CKe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qq(Object(n),!0).forEach(function(r){cS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EKe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nue(r.key),r)}}function TKe(e,t,n){return t&&EKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PKe(e,t,n){return t=LT(t),IKe(e,tue()?Reflect.construct(t,n||[],LT(e).constructor):t.apply(e,n))}function IKe(e,t){if(t&&(X0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OKe(e)}function OKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tue=function(){return!!e})()}function LT(e){return LT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},LT(e)}function kKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sR(e,t)}function sR(e,t){return sR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sR(e,t)}function cS(e,t,n){return t=nue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nue(e){var t=NKe(e,"string");return X0(t)=="symbol"?t:t+""}function NKe(e,t){if(X0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(X0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cu=32,D9=function(e){function t(){return MKe(this,t),PKe(this,t,arguments)}return kKe(t,e),TKe(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Cu/2,c=Cu/6,h=Cu/3,o=r.inactive?i:r.color;if(r.type==="plainline")return Oe.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Cu,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return Oe.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(s,"h").concat(h,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*h,",").concat(s,`
            H`).concat(Cu,"M").concat(2*h,",").concat(s,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(h,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return Oe.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Cu/8,"h").concat(Cu,"v").concat(Cu*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(Oe.isValidElement(r.legendIcon)){var m=CKe({},r);return delete m.legendIcon,Oe.cloneElement(r.legendIcon,m)}return Oe.createElement(R9,{fill:o,cx:s,cy:s,size:Cu,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,c=i.iconSize,h=i.layout,o=i.formatter,m=i.inactiveColor,y={x:0,y:0,width:Cu,height:Cu},v={display:h==="horizontal"?"inline-block":"block",marginRight:10},S={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(C,P){var I=C.formatter||o,N=no(cS(cS({"recharts-legend-item":!0},"legend-item-".concat(P),!0),"inactive",C.inactive));if(C.type==="none")return null;var D=$i(C.value)?null:C.value;Ig(!$i(C.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=C.inactive?m:C.color;return Oe.createElement("li",aR({className:N,style:v,key:"legend-item-".concat(P)},IT(r.props,C,P)),Oe.createElement(Y8,{width:c,height:c,viewBox:y,style:S},r.renderIcon(C)),Oe.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},I?I(D,C,P):D))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,c=r.align;if(!i||!i.length)return null;var h={padding:0,margin:0,textAlign:s==="horizontal"?c:"left"};return Oe.createElement("ul",{className:"recharts-default-legend",style:h},this.renderItems())}}])}(A.PureComponent);cS(D9,"displayName","Legend");cS(D9,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var RKe=o4;function DKe(){this.__data__=new RKe,this.size=0}var LKe=DKe;function FKe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var $Ke=FKe;function jKe(e){return this.__data__.get(e)}var zKe=jKe;function BKe(e){return this.__data__.has(e)}var ZKe=BKe,UKe=o4,HKe=A9,VKe=C9,WKe=200;function GKe(e,t){var n=this.__data__;if(n instanceof UKe){var r=n.__data__;if(!HKe||r.length<WKe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new VKe(r)}return n.set(e,t),this.size=n.size,this}var KKe=GKe,qKe=o4,XKe=LKe,YKe=$Ke,JKe=zKe,QKe=ZKe,eqe=KKe;function Bb(e){var t=this.__data__=new qKe(e);this.size=t.size}Bb.prototype.clear=XKe;Bb.prototype.delete=YKe;Bb.prototype.get=JKe;Bb.prototype.has=QKe;Bb.prototype.set=eqe;var rue=Bb,tqe="__lodash_hash_undefined__";function nqe(e){return this.__data__.set(e,tqe),this}var rqe=nqe;function iqe(e){return this.__data__.has(e)}var oqe=iqe,aqe=C9,sqe=rqe,lqe=oqe;function FT(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new aqe;++t<n;)this.add(e[t])}FT.prototype.add=FT.prototype.push=sqe;FT.prototype.has=lqe;var iue=FT;function cqe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var oue=cqe;function uqe(e,t){return e.has(t)}var aue=uqe,dqe=iue,hqe=oue,pqe=aue,fqe=1,mqe=2;function gqe(e,t,n,r,i,s){var c=n&fqe,h=e.length,o=t.length;if(h!=o&&!(c&&o>h))return!1;var m=s.get(e),y=s.get(t);if(m&&y)return m==t&&y==e;var v=-1,S=!0,C=n&mqe?new dqe:void 0;for(s.set(e,t),s.set(t,e);++v<h;){var P=e[v],I=t[v];if(r)var N=c?r(I,P,v,t,e,s):r(P,I,v,e,t,s);if(N!==void 0){if(N)continue;S=!1;break}if(C){if(!hqe(t,function(D,k){if(!pqe(C,k)&&(P===D||i(P,D,n,r,s)))return C.push(k)})){S=!1;break}}else if(!(P===I||i(P,I,n,r,s))){S=!1;break}}return s.delete(e),s.delete(t),S}var sue=gqe,yqe=nh,vqe=yqe.Uint8Array,bqe=vqe;function _qe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var xqe=_qe;function wqe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var L9=wqe,Xq=vA,Yq=bqe,Sqe=S9,Aqe=sue,Cqe=xqe,Mqe=L9,Eqe=1,Tqe=2,Pqe="[object Boolean]",Iqe="[object Date]",Oqe="[object Error]",kqe="[object Map]",Nqe="[object Number]",Rqe="[object RegExp]",Dqe="[object Set]",Lqe="[object String]",Fqe="[object Symbol]",$qe="[object ArrayBuffer]",jqe="[object DataView]",Jq=Xq?Xq.prototype:void 0,B6=Jq?Jq.valueOf:void 0;function zqe(e,t,n,r,i,s,c){switch(n){case jqe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case $qe:return!(e.byteLength!=t.byteLength||!s(new Yq(e),new Yq(t)));case Pqe:case Iqe:case Nqe:return Sqe(+e,+t);case Oqe:return e.name==t.name&&e.message==t.message;case Rqe:case Lqe:return e==t+"";case kqe:var h=Cqe;case Dqe:var o=r&Eqe;if(h||(h=Mqe),e.size!=t.size&&!o)return!1;var m=c.get(e);if(m)return m==t;r|=Tqe,c.set(e,t);var y=Aqe(h(e),h(t),r,i,s,c);return c.delete(e),y;case Fqe:if(B6)return B6.call(e)==B6.call(t)}return!1}var Bqe=zqe;function Zqe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var lue=Zqe,Uqe=lue,Hqe=Gl;function Vqe(e,t,n){var r=t(e);return Hqe(e)?r:Uqe(r,n(e))}var Wqe=Vqe;function Gqe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var c=e[n];t(c,n,e)&&(s[i++]=c)}return s}var Kqe=Gqe;function qqe(){return[]}var Xqe=qqe,Yqe=Kqe,Jqe=Xqe,Qqe=Object.prototype,eXe=Qqe.propertyIsEnumerable,Qq=Object.getOwnPropertySymbols,tXe=Qq?function(e){return e==null?[]:(e=Object(e),Yqe(Qq(e),function(t){return eXe.call(e,t)}))}:Jqe,nXe=tXe;function rXe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var iXe=rXe,oXe=hp,aXe=pp,sXe="[object Arguments]";function lXe(e){return aXe(e)&&oXe(e)==sXe}var cXe=lXe,eX=cXe,uXe=pp,cue=Object.prototype,dXe=cue.hasOwnProperty,hXe=cue.propertyIsEnumerable,pXe=eX(function(){return arguments}())?eX:function(e){return uXe(e)&&dXe.call(e,"callee")&&!hXe.call(e,"callee")},F9=pXe,$T={exports:{}};function fXe(){return!1}var mXe=fXe;$T.exports;(function(e,t){var n=nh,r=mXe,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,c=s&&s.exports===i,h=c?n.Buffer:void 0,o=h?h.isBuffer:void 0,m=o||r;e.exports=m})($T,$T.exports);var uue=$T.exports,gXe=9007199254740991,yXe=/^(?:0|[1-9]\d*)$/;function vXe(e,t){var n=typeof e;return t=t??gXe,!!t&&(n=="number"||n!="symbol"&&yXe.test(e))&&e>-1&&e%1==0&&e<t}var $9=vXe,bXe=9007199254740991;function _Xe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=bXe}var j9=_Xe,xXe=hp,wXe=j9,SXe=pp,AXe="[object Arguments]",CXe="[object Array]",MXe="[object Boolean]",EXe="[object Date]",TXe="[object Error]",PXe="[object Function]",IXe="[object Map]",OXe="[object Number]",kXe="[object Object]",NXe="[object RegExp]",RXe="[object Set]",DXe="[object String]",LXe="[object WeakMap]",FXe="[object ArrayBuffer]",$Xe="[object DataView]",jXe="[object Float32Array]",zXe="[object Float64Array]",BXe="[object Int8Array]",ZXe="[object Int16Array]",UXe="[object Int32Array]",HXe="[object Uint8Array]",VXe="[object Uint8ClampedArray]",WXe="[object Uint16Array]",GXe="[object Uint32Array]",Zo={};Zo[jXe]=Zo[zXe]=Zo[BXe]=Zo[ZXe]=Zo[UXe]=Zo[HXe]=Zo[VXe]=Zo[WXe]=Zo[GXe]=!0;Zo[AXe]=Zo[CXe]=Zo[FXe]=Zo[MXe]=Zo[$Xe]=Zo[EXe]=Zo[TXe]=Zo[PXe]=Zo[IXe]=Zo[OXe]=Zo[kXe]=Zo[NXe]=Zo[RXe]=Zo[DXe]=Zo[LXe]=!1;function KXe(e){return SXe(e)&&wXe(e.length)&&!!Zo[xXe(e)]}var qXe=KXe;function XXe(e){return function(t){return e(t)}}var due=XXe,jT={exports:{}};jT.exports;(function(e,t){var n=xce,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,c=s&&n.process,h=function(){try{var o=i&&i.require&&i.require("util").types;return o||c&&c.binding&&c.binding("util")}catch{}}();e.exports=h})(jT,jT.exports);var YXe=jT.exports,JXe=qXe,QXe=due,tX=YXe,nX=tX&&tX.isTypedArray,eYe=nX?QXe(nX):JXe,hue=eYe,tYe=iXe,nYe=F9,rYe=Gl,iYe=uue,oYe=$9,aYe=hue,sYe=Object.prototype,lYe=sYe.hasOwnProperty;function cYe(e,t){var n=rYe(e),r=!n&&nYe(e),i=!n&&!r&&iYe(e),s=!n&&!r&&!i&&aYe(e),c=n||r||i||s,h=c?tYe(e.length,String):[],o=h.length;for(var m in e)(t||lYe.call(e,m))&&!(c&&(m=="length"||i&&(m=="offset"||m=="parent")||s&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||oYe(m,o)))&&h.push(m);return h}var uYe=cYe,dYe=Object.prototype;function hYe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||dYe;return e===n}var pYe=hYe;function fYe(e,t){return function(n){return e(t(n))}}var pue=fYe,mYe=pue,gYe=mYe(Object.keys,Object),yYe=gYe,vYe=pYe,bYe=yYe,_Ye=Object.prototype,xYe=_Ye.hasOwnProperty;function wYe(e){if(!vYe(e))return bYe(e);var t=[];for(var n in Object(e))xYe.call(e,n)&&n!="constructor"&&t.push(n);return t}var SYe=wYe,AYe=w9,CYe=j9;function MYe(e){return e!=null&&CYe(e.length)&&!AYe(e)}var h4=MYe,EYe=uYe,TYe=SYe,PYe=h4;function IYe(e){return PYe(e)?EYe(e):TYe(e)}var z9=IYe,OYe=Wqe,kYe=nXe,NYe=z9;function RYe(e){return OYe(e,NYe,kYe)}var DYe=RYe,rX=DYe,LYe=1,FYe=Object.prototype,$Ye=FYe.hasOwnProperty;function jYe(e,t,n,r,i,s){var c=n&LYe,h=rX(e),o=h.length,m=rX(t),y=m.length;if(o!=y&&!c)return!1;for(var v=o;v--;){var S=h[v];if(!(c?S in t:$Ye.call(t,S)))return!1}var C=s.get(e),P=s.get(t);if(C&&P)return C==t&&P==e;var I=!0;s.set(e,t),s.set(t,e);for(var N=c;++v<o;){S=h[v];var D=e[S],k=t[S];if(r)var F=c?r(k,D,S,t,e,s):r(D,k,S,e,t,s);if(!(F===void 0?D===k||i(D,k,n,r,s):F)){I=!1;break}N||(N=S=="constructor")}if(I&&!N){var U=e.constructor,B=t.constructor;U!=B&&"constructor"in e&&"constructor"in t&&!(typeof U=="function"&&U instanceof U&&typeof B=="function"&&B instanceof B)&&(I=!1)}return s.delete(e),s.delete(t),I}var zYe=jYe,BYe=ay,ZYe=nh,UYe=BYe(ZYe,"DataView"),HYe=UYe,VYe=ay,WYe=nh,GYe=VYe(WYe,"Promise"),KYe=GYe,qYe=ay,XYe=nh,YYe=qYe(XYe,"Set"),fue=YYe,JYe=ay,QYe=nh,eJe=JYe(QYe,"WeakMap"),tJe=eJe,lR=HYe,cR=A9,uR=KYe,dR=fue,hR=tJe,mue=hp,Zb=Sce,iX="[object Map]",nJe="[object Object]",oX="[object Promise]",aX="[object Set]",sX="[object WeakMap]",lX="[object DataView]",rJe=Zb(lR),iJe=Zb(cR),oJe=Zb(uR),aJe=Zb(dR),sJe=Zb(hR),ig=mue;(lR&&ig(new lR(new ArrayBuffer(1)))!=lX||cR&&ig(new cR)!=iX||uR&&ig(uR.resolve())!=oX||dR&&ig(new dR)!=aX||hR&&ig(new hR)!=sX)&&(ig=function(e){var t=mue(e),n=t==nJe?e.constructor:void 0,r=n?Zb(n):"";if(r)switch(r){case rJe:return lX;case iJe:return iX;case oJe:return oX;case aJe:return aX;case sJe:return sX}return t});var lJe=ig,Z6=rue,cJe=sue,uJe=Bqe,dJe=zYe,cX=lJe,uX=Gl,dX=uue,hJe=hue,pJe=1,hX="[object Arguments]",pX="[object Array]",gM="[object Object]",fJe=Object.prototype,fX=fJe.hasOwnProperty;function mJe(e,t,n,r,i,s){var c=uX(e),h=uX(t),o=c?pX:cX(e),m=h?pX:cX(t);o=o==hX?gM:o,m=m==hX?gM:m;var y=o==gM,v=m==gM,S=o==m;if(S&&dX(e)){if(!dX(t))return!1;c=!0,y=!1}if(S&&!y)return s||(s=new Z6),c||hJe(e)?cJe(e,t,n,r,i,s):uJe(e,t,o,n,r,i,s);if(!(n&pJe)){var C=y&&fX.call(e,"__wrapped__"),P=v&&fX.call(t,"__wrapped__");if(C||P){var I=C?e.value():e,N=P?t.value():t;return s||(s=new Z6),i(I,N,n,r,s)}}return S?(s||(s=new Z6),dJe(e,t,n,r,i,s)):!1}var gJe=mJe,yJe=gJe,mX=pp;function gue(e,t,n,r,i){return e===t?!0:e==null||t==null||!mX(e)&&!mX(t)?e!==e&&t!==t:yJe(e,t,n,r,gue,i)}var B9=gue,vJe=rue,bJe=B9,_Je=1,xJe=2;function wJe(e,t,n,r){var i=n.length,s=i,c=!r;if(e==null)return!s;for(e=Object(e);i--;){var h=n[i];if(c&&h[2]?h[1]!==e[h[0]]:!(h[0]in e))return!1}for(;++i<s;){h=n[i];var o=h[0],m=e[o],y=h[1];if(c&&h[2]){if(m===void 0&&!(o in e))return!1}else{var v=new vJe;if(r)var S=r(m,y,o,e,t,v);if(!(S===void 0?bJe(y,m,_Je|xJe,r,v):S))return!1}}return!0}var SJe=wJe,AJe=qf;function CJe(e){return e===e&&!AJe(e)}var yue=CJe,MJe=yue,EJe=z9;function TJe(e){for(var t=EJe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,MJe(i)]}return t}var PJe=TJe;function IJe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var vue=IJe,OJe=SJe,kJe=PJe,NJe=vue;function RJe(e){var t=kJe(e);return t.length==1&&t[0][2]?NJe(t[0][0],t[0][1]):function(n){return n===e||OJe(n,e,t)}}var DJe=RJe;function LJe(e,t){return e!=null&&t in Object(e)}var FJe=LJe,$Je=Tce,jJe=F9,zJe=Gl,BJe=$9,ZJe=j9,UJe=s4;function HJe(e,t,n){t=$Je(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var c=UJe(t[r]);if(!(s=e!=null&&n(e,c)))break;e=e[c]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&ZJe(i)&&BJe(c,i)&&(zJe(e)||jJe(e)))}var VJe=HJe,WJe=FJe,GJe=VJe;function KJe(e,t){return e!=null&&GJe(e,t,WJe)}var qJe=KJe,XJe=B9,YJe=Pce,JJe=qJe,QJe=x9,eQe=yue,tQe=vue,nQe=s4,rQe=1,iQe=2;function oQe(e,t){return QJe(e)&&eQe(t)?tQe(nQe(e),t):function(n){var r=YJe(n,e);return r===void 0&&r===t?JJe(n,e):XJe(t,r,rQe|iQe)}}var aQe=oQe;function sQe(e){return e}var Ub=sQe;function lQe(e){return function(t){return t==null?void 0:t[e]}}var cQe=lQe,uQe=T9;function dQe(e){return function(t){return uQe(t,e)}}var hQe=dQe,pQe=cQe,fQe=hQe,mQe=x9,gQe=s4;function yQe(e){return mQe(e)?pQe(gQe(e)):fQe(e)}var vQe=yQe,bQe=DJe,_Qe=aQe,xQe=Ub,wQe=Gl,SQe=vQe;function AQe(e){return typeof e=="function"?e:e==null?xQe:typeof e=="object"?wQe(e)?_Qe(e[0],e[1]):bQe(e):SQe(e)}var Hb=AQe;function CQe(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var MQe=CQe;function EQe(e){return e!==e}var TQe=EQe;function PQe(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var IQe=PQe,OQe=MQe,kQe=TQe,NQe=IQe;function RQe(e,t,n){return t===t?NQe(e,t,n):OQe(e,kQe,n)}var DQe=RQe,LQe=DQe;function FQe(e,t){var n=e==null?0:e.length;return!!n&&LQe(e,t,0)>-1}var $Qe=FQe;function jQe(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var zQe=jQe;function BQe(){}var ZQe=BQe,U6=fue,UQe=ZQe,HQe=L9,VQe=1/0,WQe=U6&&1/HQe(new U6([,-0]))[1]==VQe?function(e){return new U6(e)}:UQe,GQe=WQe,KQe=iue,qQe=$Qe,XQe=zQe,YQe=aue,JQe=GQe,QQe=L9,eet=200;function tet(e,t,n){var r=-1,i=qQe,s=e.length,c=!0,h=[],o=h;if(n)c=!1,i=XQe;else if(s>=eet){var m=t?null:JQe(e);if(m)return QQe(m);c=!1,i=YQe,o=new KQe}else o=t?[]:h;e:for(;++r<s;){var y=e[r],v=t?t(y):y;if(y=n||y!==0?y:0,c&&v===v){for(var S=o.length;S--;)if(o[S]===v)continue e;t&&o.push(v),h.push(y)}else i(o,v,n)||(o!==h&&o.push(v),h.push(y))}return h}var net=tet,ret=Hb,iet=net;function oet(e,t){return e&&e.length?iet(e,ret(t)):[]}var aet=oet;const gX=Li(aet);function bue(e,t,n){return t===!0?gX(e,n):$i(t)?gX(e,t):e}function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}var set=["ref"];function yX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yX(Object(n),!0).forEach(function(r){p4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cet(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xue(r.key),r)}}function uet(e,t,n){return t&&vX(e.prototype,t),n&&vX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function det(e,t,n){return t=zT(t),het(e,_ue()?Reflect.construct(t,n||[],zT(e).constructor):t.apply(e,n))}function het(e,t){if(t&&(Y0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pet(e)}function pet(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _ue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_ue=function(){return!!e})()}function zT(e){return zT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zT(e)}function fet(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pR(e,t)}function pR(e,t){return pR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pR(e,t)}function p4(e,t,n){return t=xue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xue(e){var t=met(e,"string");return Y0(t)=="symbol"?t:t+""}function met(e,t){if(Y0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Y0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function get(e,t){if(e==null)return{};var n=yet(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yet(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function vet(e){return e.value}function bet(e,t){if(Oe.isValidElement(e))return Oe.cloneElement(e,t);if(typeof e=="function")return Oe.createElement(e,t);t.ref;var n=get(t,set);return Oe.createElement(D9,n)}var bX=1,Kd=function(e){function t(){var n;cet(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=det(this,t,[].concat(i)),p4(n,"lastBoundingBox",{width:-1,height:-1}),n}return fet(t,e),uet(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>bX||Math.abs(i.height-this.lastBoundingBox.height)>bX)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ph({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,c=i.align,h=i.verticalAlign,o=i.margin,m=i.chartWidth,y=i.chartHeight,v,S;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(c==="center"&&s==="vertical"){var C=this.getBBoxSnapshot();v={left:((m||0)-C.width)/2}}else v=c==="right"?{right:o&&o.right||0}:{left:o&&o.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(h==="middle"){var P=this.getBBoxSnapshot();S={top:((y||0)-P.height)/2}}else S=h==="bottom"?{bottom:o&&o.bottom||0}:{top:o&&o.top||0};return Ph(Ph({},v),S)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,c=i.width,h=i.height,o=i.wrapperStyle,m=i.payloadUniqBy,y=i.payload,v=Ph(Ph({position:"absolute",width:c||"auto",height:h||"auto"},this.getDefaultPosition(o)),o);return Oe.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:function(C){r.wrapperNode=C}},bet(s,Ph(Ph({},this.props),{},{payload:bue(y,m,vet)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Ph(Ph({},this.defaultProps),r.props),c=s.layout;return c==="vertical"&&yr(r.props.height)?{height:r.props.height}:c==="horizontal"?{width:r.props.width||i}:null}}])}(A.PureComponent);p4(Kd,"displayName","Legend");p4(Kd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _X=vA,_et=F9,xet=Gl,xX=_X?_X.isConcatSpreadable:void 0;function wet(e){return xet(e)||_et(e)||!!(xX&&e&&e[xX])}var Aet=wet,Cet=lue,Met=Aet;function wue(e,t,n,r,i){var s=-1,c=e.length;for(n||(n=Met),i||(i=[]);++s<c;){var h=e[s];t>0&&n(h)?t>1?wue(h,t-1,n,r,i):Cet(i,h):r||(i[i.length]=h)}return i}var Sue=wue;function Eet(e){return function(t,n,r){for(var i=-1,s=Object(t),c=r(t),h=c.length;h--;){var o=c[e?h:++i];if(n(s[o],o,s)===!1)break}return t}}var Tet=Eet,Pet=Tet,Iet=Pet(),Oet=Iet,ket=Oet,Net=z9;function Ret(e,t){return e&&ket(e,t,Net)}var Aue=Ret,Det=h4;function Let(e,t){return function(n,r){if(n==null)return n;if(!Det(n))return e(n,r);for(var i=n.length,s=t?i:-1,c=Object(n);(t?s--:++s<i)&&r(c[s],s,c)!==!1;);return n}}var Fet=Let,$et=Aue,jet=Fet,zet=jet($et),Z9=zet,Bet=Z9,Zet=h4;function Uet(e,t){var n=-1,r=Zet(e)?Array(e.length):[];return Bet(e,function(i,s,c){r[++n]=t(i,s,c)}),r}var Cue=Uet;function Het(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Vet=Het,wX=Lb;function Wet(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,s=wX(e),c=t!==void 0,h=t===null,o=t===t,m=wX(t);if(!h&&!m&&!s&&e>t||s&&c&&o&&!h&&!m||r&&c&&o||!n&&o||!i)return 1;if(!r&&!s&&!m&&e<t||m&&n&&i&&!r&&!s||h&&n&&i||!c&&i||!o)return-1}return 0}var Get=Wet,Ket=Get;function qet(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,c=i.length,h=n.length;++r<c;){var o=Ket(i[r],s[r]);if(o){if(r>=h)return o;var m=n[r];return o*(m=="desc"?-1:1)}}return e.index-t.index}var Xet=qet,H6=E9,Yet=T9,Jet=Hb,Qet=Cue,ett=Vet,ttt=due,ntt=Xet,rtt=Ub,itt=Gl;function ott(e,t,n){t.length?t=H6(t,function(s){return itt(s)?function(c){return Yet(c,s.length===1?s[0]:s)}:s}):t=[rtt];var r=-1;t=H6(t,ttt(Jet));var i=Qet(e,function(s,c,h){var o=H6(t,function(m){return m(s)});return{criteria:o,index:++r,value:s}});return ett(i,function(s,c){return ntt(s,c,n)})}var att=ott;function stt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var ltt=stt,ctt=ltt,SX=Math.max;function utt(e,t,n){return t=SX(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=SX(r.length-t,0),c=Array(s);++i<s;)c[i]=r[t+i];i=-1;for(var h=Array(t+1);++i<t;)h[i]=r[i];return h[t]=n(c),ctt(e,this,h)}}var dtt=utt;function htt(e){return function(){return e}}var ptt=htt,ftt=ay,mtt=function(){try{var e=ftt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Mue=mtt,gtt=ptt,AX=Mue,ytt=Ub,vtt=AX?function(e,t){return AX(e,"toString",{configurable:!0,enumerable:!1,value:gtt(t),writable:!0})}:ytt,btt=vtt,_tt=800,xtt=16,wtt=Date.now;function Stt(e){var t=0,n=0;return function(){var r=wtt(),i=xtt-(r-n);if(n=r,i>0){if(++t>=_tt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Att=Stt,Ctt=btt,Mtt=Att,Ett=Mtt(Ctt),Ttt=Ett,Ptt=Ub,Itt=dtt,Ott=Ttt;function ktt(e,t){return Ott(Itt(e,t,Ptt),e+"")}var Ntt=ktt,Rtt=S9,Dtt=h4,Ltt=$9,Ftt=qf;function $tt(e,t,n){if(!Ftt(n))return!1;var r=typeof t;return(r=="number"?Dtt(n)&&Ltt(t,n.length):r=="string"&&t in n)?Rtt(n[t],e):!1}var f4=$tt,jtt=Sue,ztt=att,Btt=Ntt,CX=f4,Ztt=Btt(function(e,t){if(e==null)return[];var n=t.length;return n>1&&CX(e,t[0],t[1])?t=[]:n>2&&CX(t[0],t[1],t[2])&&(t=[t[0]]),ztt(e,jtt(t,1),[])}),Utt=Ztt;const U9=Li(Utt);function uS(e){"@babel/helpers - typeof";return uS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uS(e)}function fR(){return fR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fR.apply(this,arguments)}function Htt(e,t){return Ktt(e)||Gtt(e,t)||Wtt(e,t)||Vtt()}function Vtt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wtt(e,t){if(e){if(typeof e=="string")return MX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MX(e,t)}}function MX(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gtt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,c,h=[],o=!0,m=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(o=(r=s.call(n)).done)&&(h.push(r.value),h.length!==t);o=!0);}catch(y){m=!0,i=y}finally{try{if(!o&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw i}}return h}}function Ktt(e){if(Array.isArray(e))return e}function EX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EX(Object(n),!0).forEach(function(r){qtt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qtt(e,t,n){return t=Xtt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xtt(e){var t=Ytt(e,"string");return uS(t)=="symbol"?t:t+""}function Ytt(e,t){if(uS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jtt(e){return Array.isArray(e)&&ts(e[0])&&ts(e[1])?e.join(" ~ "):e}var Qtt=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,s=i===void 0?{}:i,c=t.itemStyle,h=c===void 0?{}:c,o=t.labelStyle,m=o===void 0?{}:o,y=t.payload,v=t.formatter,S=t.itemSorter,C=t.wrapperClassName,P=t.labelClassName,I=t.label,N=t.labelFormatter,D=t.accessibilityLayer,k=D===void 0?!1:D,F=function(){if(y&&y.length){var oe={padding:0,margin:0},he=(S?U9(y,S):y).map(function(be,le){if(be.type==="none")return null;var ye=V6({display:"block",paddingTop:4,paddingBottom:4,color:be.color||"#000"},h),fe=be.formatter||v||Jtt,ue=be.value,xe=be.name,ae=ue,Ee=xe;if(fe&&ae!=null&&Ee!=null){var Me=fe(ue,xe,be,le,y);if(Array.isArray(Me)){var de=Htt(Me,2);ae=de[0],Ee=de[1]}else ae=Me}return Oe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(le),style:ye},ts(Ee)?Oe.createElement("span",{className:"recharts-tooltip-item-name"},Ee):null,ts(Ee)?Oe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Oe.createElement("span",{className:"recharts-tooltip-item-value"},ae),Oe.createElement("span",{className:"recharts-tooltip-item-unit"},be.unit||""))});return Oe.createElement("ul",{className:"recharts-tooltip-item-list",style:oe},he)}return null},U=V6({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),B=V6({margin:0},m),z=!zi(I),W=z?I:"",Y=no("recharts-default-tooltip",C),K=no("recharts-tooltip-label",P);z&&N&&y!==void 0&&y!==null&&(W=N(I,y));var ee=k?{role:"status","aria-live":"assertive"}:{};return Oe.createElement("div",fR({className:Y,style:U},ee),Oe.createElement("p",{className:K,style:B},Oe.isValidElement(W)?W:"".concat(W)),F())};function dS(e){"@babel/helpers - typeof";return dS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dS(e)}function yM(e,t,n){return t=ent(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ent(e){var t=tnt(e,"string");return dS(t)=="symbol"?t:t+""}function tnt(e,t){if(dS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sx="recharts-tooltip-wrapper",nnt={visibility:"hidden"};function rnt(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return no(Sx,yM(yM(yM(yM({},"".concat(Sx,"-right"),yr(n)&&t&&yr(t.x)&&n>=t.x),"".concat(Sx,"-left"),yr(n)&&t&&yr(t.x)&&n<t.x),"".concat(Sx,"-bottom"),yr(r)&&t&&yr(t.y)&&r>=t.y),"".concat(Sx,"-top"),yr(r)&&t&&yr(t.y)&&r<t.y))}function TX(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,s=e.position,c=e.reverseDirection,h=e.tooltipDimension,o=e.viewBox,m=e.viewBoxDimension;if(s&&yr(s[r]))return s[r];var y=n[r]-h-i,v=n[r]+i;if(t[r])return c[r]?y:v;if(c[r]){var S=y,C=o[r];return S<C?Math.max(v,o[r]):Math.max(y,o[r])}var P=v+h,I=o[r]+m;return P>I?Math.max(y,o[r]):Math.max(v,o[r])}function int(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function ont(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,s=e.reverseDirection,c=e.tooltipBox,h=e.useTranslate3d,o=e.viewBox,m,y,v;return c.height>0&&c.width>0&&n?(y=TX({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:c.width,viewBox:o,viewBoxDimension:o.width}),v=TX({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:c.height,viewBox:o,viewBoxDimension:o.height}),m=int({translateX:y,translateY:v,useTranslate3d:h})):m=nnt,{cssProperties:m,cssClasses:rnt({translateX:y,translateY:v,coordinate:n})}}function J0(e){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}function PX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PX(Object(n),!0).forEach(function(r){gR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ant(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function snt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tue(r.key),r)}}function lnt(e,t,n){return t&&snt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cnt(e,t,n){return t=BT(t),unt(e,Eue()?Reflect.construct(t,n||[],BT(e).constructor):t.apply(e,n))}function unt(e,t){if(t&&(J0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dnt(e)}function dnt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eue=function(){return!!e})()}function BT(e){return BT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},BT(e)}function hnt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mR(e,t)}function mR(e,t){return mR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mR(e,t)}function gR(e,t,n){return t=Tue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tue(e){var t=pnt(e,"string");return J0(t)=="symbol"?t:t+""}function pnt(e,t){if(J0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(J0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var OX=1,fnt=function(e){function t(){var n;ant(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=cnt(this,t,[].concat(i)),gR(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gR(n,"handleKeyDown",function(c){if(c.key==="Escape"){var h,o,m,y;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(h=(o=n.props.coordinate)===null||o===void 0?void 0:o.x)!==null&&h!==void 0?h:0,y:(m=(y=n.props.coordinate)===null||y===void 0?void 0:y.y)!==null&&m!==void 0?m:0}})}}),n}return hnt(t,e),lnt(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>OX||Math.abs(r.height-this.state.lastBoundingBox.height)>OX)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,c=i.allowEscapeViewBox,h=i.animationDuration,o=i.animationEasing,m=i.children,y=i.coordinate,v=i.hasPayload,S=i.isAnimationActive,C=i.offset,P=i.position,I=i.reverseDirection,N=i.useTranslate3d,D=i.viewBox,k=i.wrapperStyle,F=ont({allowEscapeViewBox:c,coordinate:y,offsetTopLeft:C,position:P,reverseDirection:I,tooltipBox:this.state.lastBoundingBox,useTranslate3d:N,viewBox:D}),U=F.cssClasses,B=F.cssProperties,z=IX(IX({transition:S&&s?"transform ".concat(h,"ms ").concat(o):void 0},B),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&v?"visible":"hidden",position:"absolute",top:0,left:0},k);return Oe.createElement("div",{tabIndex:-1,className:U,style:z,ref:function(Y){r.wrapperNode=Y}},m)}}])}(A.PureComponent),mnt=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Vb={isSsr:mnt()};function Q0(e){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q0(e)}function kX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kX(Object(n),!0).forEach(function(r){H9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gnt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ynt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Iue(r.key),r)}}function vnt(e,t,n){return t&&ynt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bnt(e,t,n){return t=ZT(t),_nt(e,Pue()?Reflect.construct(t,n||[],ZT(e).constructor):t.apply(e,n))}function _nt(e,t){if(t&&(Q0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xnt(e)}function xnt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pue=function(){return!!e})()}function ZT(e){return ZT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ZT(e)}function wnt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yR(e,t)}function yR(e,t){return yR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yR(e,t)}function H9(e,t,n){return t=Iue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iue(e){var t=Snt(e,"string");return Q0(t)=="symbol"?t:t+""}function Snt(e,t){if(Q0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ant(e){return e.dataKey}function Cnt(e,t){return Oe.isValidElement(e)?Oe.cloneElement(e,t):typeof e=="function"?Oe.createElement(e,t):Oe.createElement(Qtt,t)}var dl=function(e){function t(){return gnt(this,t),bnt(this,t,arguments)}return wnt(t,e),vnt(t,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,c=i.allowEscapeViewBox,h=i.animationDuration,o=i.animationEasing,m=i.content,y=i.coordinate,v=i.filterNull,S=i.isAnimationActive,C=i.offset,P=i.payload,I=i.payloadUniqBy,N=i.position,D=i.reverseDirection,k=i.useTranslate3d,F=i.viewBox,U=i.wrapperStyle,B=P??[];v&&B.length&&(B=bue(P.filter(function(W){return W.value!=null&&(W.hide!==!0||r.props.includeHidden)}),I,Ant));var z=B.length>0;return Oe.createElement(fnt,{allowEscapeViewBox:c,animationDuration:h,animationEasing:o,isAnimationActive:S,active:s,coordinate:y,hasPayload:z,offset:C,position:N,reverseDirection:D,useTranslate3d:k,viewBox:F,wrapperStyle:U},Cnt(m,NX(NX({},this.props),{},{payload:B})))}}])}(A.PureComponent);H9(dl,"displayName","Tooltip");H9(dl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Vb.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Mnt=nh,Ent=function(){return Mnt.Date.now()},Tnt=Ent,Pnt=/\s/;function Int(e){for(var t=e.length;t--&&Pnt.test(e.charAt(t)););return t}var Ont=Int,knt=Ont,Nnt=/^\s+/;function Rnt(e){return e&&e.slice(0,knt(e)+1).replace(Nnt,"")}var Dnt=Rnt,Lnt=Dnt,RX=qf,Fnt=Lb,DX=NaN,$nt=/^[-+]0x[0-9a-f]+$/i,jnt=/^0b[01]+$/i,znt=/^0o[0-7]+$/i,Bnt=parseInt;function Znt(e){if(typeof e=="number")return e;if(Fnt(e))return DX;if(RX(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=RX(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Lnt(e);var n=jnt.test(e);return n||znt.test(e)?Bnt(e.slice(2),n?2:8):$nt.test(e)?DX:+e}var Oue=Znt,Unt=qf,W6=Tnt,LX=Oue,Hnt="Expected a function",Vnt=Math.max,Wnt=Math.min;function Gnt(e,t,n){var r,i,s,c,h,o,m=0,y=!1,v=!1,S=!0;if(typeof e!="function")throw new TypeError(Hnt);t=LX(t)||0,Unt(n)&&(y=!!n.leading,v="maxWait"in n,s=v?Vnt(LX(n.maxWait)||0,t):s,S="trailing"in n?!!n.trailing:S);function C(z){var W=r,Y=i;return r=i=void 0,m=z,c=e.apply(Y,W),c}function P(z){return m=z,h=setTimeout(D,t),y?C(z):c}function I(z){var W=z-o,Y=z-m,K=t-W;return v?Wnt(K,s-Y):K}function N(z){var W=z-o,Y=z-m;return o===void 0||W>=t||W<0||v&&Y>=s}function D(){var z=W6();if(N(z))return k(z);h=setTimeout(D,I(z))}function k(z){return h=void 0,S&&r?C(z):(r=i=void 0,c)}function F(){h!==void 0&&clearTimeout(h),m=0,r=o=i=h=void 0}function U(){return h===void 0?c:k(W6())}function B(){var z=W6(),W=N(z);if(r=arguments,i=this,o=z,W){if(h===void 0)return P(o);if(v)return clearTimeout(h),h=setTimeout(D,t),C(o)}return h===void 0&&(h=setTimeout(D,t)),c}return B.cancel=F,B.flush=U,B}var Knt=Gnt,qnt=Knt,Xnt=qf,Ynt="Expected a function";function Jnt(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(Ynt);return Xnt(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),qnt(e,t,{leading:r,maxWait:t,trailing:i})}var Qnt=Jnt;const kue=Li(Qnt);function hS(e){"@babel/helpers - typeof";return hS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hS(e)}function FX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FX(Object(n),!0).forEach(function(r){ert(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ert(e,t,n){return t=trt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function trt(e){var t=nrt(e,"string");return hS(t)=="symbol"?t:t+""}function nrt(e,t){if(hS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rrt(e,t){return srt(e)||art(e,t)||ort(e,t)||irt()}function irt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ort(e,t){if(e){if(typeof e=="string")return $X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $X(e,t)}}function $X(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function art(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,c,h=[],o=!0,m=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(o=(r=s.call(n)).done)&&(h.push(r.value),h.length!==t);o=!0);}catch(y){m=!0,i=y}finally{try{if(!o&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw i}}return h}}function srt(e){if(Array.isArray(e))return e}var Wb=A.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=e.width,c=s===void 0?"100%":s,h=e.height,o=h===void 0?"100%":h,m=e.minWidth,y=m===void 0?0:m,v=e.minHeight,S=e.maxHeight,C=e.children,P=e.debounce,I=P===void 0?0:P,N=e.id,D=e.className,k=e.onResize,F=e.style,U=F===void 0?{}:F,B=A.useRef(null),z=A.useRef();z.current=k,A.useImperativeHandle(t,function(){return Object.defineProperty(B.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),B.current},configurable:!0})});var W=A.useState({containerWidth:i.width,containerHeight:i.height}),Y=rrt(W,2),K=Y[0],ee=Y[1],re=A.useCallback(function(he,be){ee(function(le){var ye=Math.round(he),fe=Math.round(be);return le.containerWidth===ye&&le.containerHeight===fe?le:{containerWidth:ye,containerHeight:fe}})},[]);A.useEffect(function(){var he=function(xe){var ae,Ee=xe[0].contentRect,Me=Ee.width,de=Ee.height;re(Me,de),(ae=z.current)===null||ae===void 0||ae.call(z,Me,de)};I>0&&(he=kue(he,I,{trailing:!0,leading:!1}));var be=new ResizeObserver(he),le=B.current.getBoundingClientRect(),ye=le.width,fe=le.height;return re(ye,fe),be.observe(B.current),function(){be.disconnect()}},[re,I]);var oe=A.useMemo(function(){var he=K.containerWidth,be=K.containerHeight;if(he<0||be<0)return null;Ig(vg(c)||vg(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,o),Ig(!n||n>0,"The aspect(%s) must be greater than zero.",n);var le=vg(c)?he:c,ye=vg(o)?be:o;n&&n>0&&(le?ye=le/n:ye&&(le=ye*n),S&&ye>S&&(ye=S)),Ig(le>0||ye>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,le,ye,c,o,y,v,n);var fe=!Array.isArray(C)&&qh(C.type).endsWith("Chart");return Oe.Children.map(C,function(ue){return Oe.isValidElement(ue)?A.cloneElement(ue,vM({width:le,height:ye},fe?{style:vM({height:"100%",width:"100%",maxHeight:ye,maxWidth:le},ue.props.style)}:{})):ue})},[n,C,o,S,v,y,K,c]);return Oe.createElement("div",{id:N?"".concat(N):void 0,className:no("recharts-responsive-container",D),style:vM(vM({},U),{},{width:c,height:o,minWidth:y,minHeight:v,maxHeight:S}),ref:B},oe)}),Nue=function(t){return null};Nue.displayName="Cell";function pS(e){"@babel/helpers - typeof";return pS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pS(e)}function jX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jX(Object(n),!0).forEach(function(r){lrt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lrt(e,t,n){return t=crt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function crt(e){var t=urt(e,"string");return pS(t)=="symbol"?t:t+""}function urt(e,t){if(pS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Av={widthCache:{},cacheCount:0},drt=2e3,hrt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zX="recharts_measurement_span";function prt(e){var t=vR({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var uw=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Vb.isSsr)return{width:0,height:0};var r=prt(n),i=JSON.stringify({text:t,copyStyle:r});if(Av.widthCache[i])return Av.widthCache[i];try{var s=document.getElementById(zX);s||(s=document.createElement("span"),s.setAttribute("id",zX),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var c=vR(vR({},hrt),r);Object.assign(s.style,c),s.textContent="".concat(t);var h=s.getBoundingClientRect(),o={width:h.width,height:h.height};return Av.widthCache[i]=o,++Av.cacheCount>drt&&(Av.cacheCount=0,Av.widthCache={}),o}catch{return{width:0,height:0}}},frt=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function fS(e){"@babel/helpers - typeof";return fS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fS(e)}function UT(e,t){return vrt(e)||yrt(e,t)||grt(e,t)||mrt()}function mrt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function grt(e,t){if(e){if(typeof e=="string")return BX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BX(e,t)}}function BX(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yrt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,c,h=[],o=!0,m=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;o=!1}else for(;!(o=(r=s.call(n)).done)&&(h.push(r.value),h.length!==t);o=!0);}catch(y){m=!0,i=y}finally{try{if(!o&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw i}}return h}}function vrt(e){if(Array.isArray(e))return e}function brt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xrt(r.key),r)}}function _rt(e,t,n){return t&&ZX(e.prototype,t),n&&ZX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xrt(e){var t=wrt(e,"string");return fS(t)=="symbol"?t:t+""}function wrt(e,t){if(fS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var UX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Srt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Art=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Rue={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Crt=Object.keys(Rue),e0="NaN";function Mrt(e,t){return e*Rue[t]}var bM=function(){function e(t,n){brt(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Srt.test(n)&&(this.num=NaN,this.unit=""),Crt.includes(n)&&(this.num=Mrt(t,n),this.unit="px")}return _rt(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Art.exec(n))!==null&&r!==void 0?r:[],s=UT(i,3),c=s[1],h=s[2];return new e(parseFloat(c),h??"")}}])}();function Due(e){if(e.includes(e0))return e0;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=UX.exec(t))!==null&&n!==void 0?n:[],i=UT(r,4),s=i[1],c=i[2],h=i[3],o=bM.parse(s??""),m=bM.parse(h??""),y=c==="*"?o.multiply(m):o.divide(m);if(y.isNaN())return e0;t=t.replace(UX,y.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var v,S=(v=HX.exec(t))!==null&&v!==void 0?v:[],C=UT(S,4),P=C[1],I=C[2],N=C[3],D=bM.parse(P??""),k=bM.parse(N??""),F=I==="+"?D.add(k):D.subtract(k);if(F.isNaN())return e0;t=t.replace(HX,F.toString())}return t}var VX=/\(([^()]*)\)/;function Ert(e){for(var t=e;t.includes("(");){var n=VX.exec(t),r=UT(n,2),i=r[1];t=t.replace(VX,Due(i))}return t}function Trt(e){var t=e.replace(/\s+/g,"");return t=Ert(t),t=Due(t),t}function Prt(e){try{return Trt(e)}catch{return e0}}function G6(e){var t=Prt(e.slice(5,-1));return t===e0?"":t}var Irt=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ort=["dx","dy","angle","className","breakAll"];function bR(){return bR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bR.apply(this,arguments)}function WX(e,t){if(e==null)return{};var n=krt(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function krt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function GX(e,t){return Lrt(e)||Drt(e,t)||Rrt(e,t)||Nrt()}function Nrt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rrt(e,t){if(e){if(typeof e=="string")return KX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KX(e,t)}}function KX(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Drt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,c,h=[],o=!0,m=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;o=!1}else for(;!(o=(r=s.call(n)).done)&&(h.push(r.value),h.length!==t);o=!0);}catch(y){m=!0,i=y}finally{try{if(!o&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw i}}return h}}function Lrt(e){if(Array.isArray(e))return e}var Lue=/[ \f\n\r\t\v\u2028\u2029]+/,Fue=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var s=[];zi(n)||(r?s=n.toString().split(""):s=n.toString().split(Lue));var c=s.map(function(o){return{word:o,width:uw(o,i).width}}),h=r?0:uw(" ",i).width;return{wordsWithComputedWidth:c,spaceWidth:h}}catch{return null}},Frt=function(t,n,r,i,s){var c=t.maxLines,h=t.children,o=t.style,m=t.breakAll,y=yr(c),v=h,S=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return le.reduce(function(ye,fe){var ue=fe.word,xe=fe.width,ae=ye[ye.length-1];if(ae&&(i==null||s||ae.width+xe+r<Number(i)))ae.words.push(ue),ae.width+=xe+r;else{var Ee={words:[ue],width:xe};ye.push(Ee)}return ye},[])},C=S(n),P=function(le){return le.reduce(function(ye,fe){return ye.width>fe.width?ye:fe})};if(!y)return C;for(var I="…",N=function(le){var ye=v.slice(0,le),fe=Fue({breakAll:m,style:o,children:ye+I}).wordsWithComputedWidth,ue=S(fe),xe=ue.length>c||P(ue).width>Number(i);return[xe,ue]},D=0,k=v.length-1,F=0,U;D<=k&&F<=v.length-1;){var B=Math.floor((D+k)/2),z=B-1,W=N(z),Y=GX(W,2),K=Y[0],ee=Y[1],re=N(B),oe=GX(re,1),he=oe[0];if(!K&&!he&&(D=B+1),K&&he&&(k=B-1),!K&&he){U=ee;break}F++}return U||C},qX=function(t){var n=zi(t)?[]:t.toString().split(Lue);return[{words:n}]},$rt=function(t){var n=t.width,r=t.scaleToFit,i=t.children,s=t.style,c=t.breakAll,h=t.maxLines;if((n||r)&&!Vb.isSsr){var o,m,y=Fue({breakAll:c,children:i,style:s});if(y){var v=y.wordsWithComputedWidth,S=y.spaceWidth;o=v,m=S}else return qX(i);return Frt({breakAll:c,children:i,maxLines:h,style:s},o,m,n,r)}return qX(i)},XX="#808080",HT=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,s=i===void 0?0:i,c=t.lineHeight,h=c===void 0?"1em":c,o=t.capHeight,m=o===void 0?"0.71em":o,y=t.scaleToFit,v=y===void 0?!1:y,S=t.textAnchor,C=S===void 0?"start":S,P=t.verticalAnchor,I=P===void 0?"end":P,N=t.fill,D=N===void 0?XX:N,k=WX(t,Irt),F=A.useMemo(function(){return $rt({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:v,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,v,k.style,k.width]),U=k.dx,B=k.dy,z=k.angle,W=k.className,Y=k.breakAll,K=WX(k,Ort);if(!ts(r)||!ts(s))return null;var ee=r+(yr(U)?U:0),re=s+(yr(B)?B:0),oe;switch(I){case"start":oe=G6("calc(".concat(m,")"));break;case"middle":oe=G6("calc(".concat((F.length-1)/2," * -").concat(h," + (").concat(m," / 2))"));break;default:oe=G6("calc(".concat(F.length-1," * -").concat(h,")"));break}var he=[];if(v){var be=F[0].width,le=k.width;he.push("scale(".concat((yr(le)?le/be:1)/be,")"))}return z&&he.push("rotate(".concat(z,", ").concat(ee,", ").concat(re,")")),he.length&&(K.transform=he.join(" ")),Oe.createElement("text",bR({},Xi(K,!0),{x:ee,y:re,className:no("recharts-text",W),textAnchor:C,fill:D.includes("url")?XX:D}),F.map(function(ye,fe){var ue=ye.words.join(Y?"":" ");return Oe.createElement("tspan",{x:ee,dy:fe===0?oe:h,key:"".concat(ue,"-").concat(fe)},ue)}))};function Ef(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jrt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function V9(e){let t,n,r;e.length!==2?(t=Ef,n=(h,o)=>Ef(e(h),o),r=(h,o)=>e(h)-o):(t=e===Ef||e===jrt?e:zrt,n=e,r=e);function i(h,o,m=0,y=h.length){if(m<y){if(t(o,o)!==0)return y;do{const v=m+y>>>1;n(h[v],o)<0?m=v+1:y=v}while(m<y)}return m}function s(h,o,m=0,y=h.length){if(m<y){if(t(o,o)!==0)return y;do{const v=m+y>>>1;n(h[v],o)<=0?m=v+1:y=v}while(m<y)}return m}function c(h,o,m=0,y=h.length){const v=i(h,o,m,y-1);return v>m&&r(h[v-1],o)>-r(h[v],o)?v-1:v}return{left:i,center:c,right:s}}function zrt(){return 0}function $ue(e){return e===null?NaN:+e}function*Brt(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Zrt=V9(Ef),wA=Zrt.right;V9($ue).center;class YX extends Map{constructor(t,n=Vrt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(JX(this,t))}has(t){return super.has(JX(this,t))}set(t,n){return super.set(Urt(this,t),n)}delete(t){return super.delete(Hrt(this,t))}}function JX({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Urt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Hrt({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Vrt(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Wrt(e=Ef){if(e===Ef)return jue;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function jue(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Grt=Math.sqrt(50),Krt=Math.sqrt(10),qrt=Math.sqrt(2);function VT(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),c=s>=Grt?10:s>=Krt?5:s>=qrt?2:1;let h,o,m;return i<0?(m=Math.pow(10,-i)/c,h=Math.round(e*m),o=Math.round(t*m),h/m<e&&++h,o/m>t&&--o,m=-m):(m=Math.pow(10,i)*c,h=Math.round(e/m),o=Math.round(t/m),h*m<e&&++h,o*m>t&&--o),o<h&&.5<=n&&n<2?VT(e,t,n*2):[h,o,m]}function _R(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,c]=r?VT(t,e,n):VT(e,t,n);if(!(s>=i))return[];const h=s-i+1,o=new Array(h);if(r)if(c<0)for(let m=0;m<h;++m)o[m]=(s-m)/-c;else for(let m=0;m<h;++m)o[m]=(s-m)*c;else if(c<0)for(let m=0;m<h;++m)o[m]=(i+m)/-c;else for(let m=0;m<h;++m)o[m]=(i+m)*c;return o}function xR(e,t,n){return t=+t,e=+e,n=+n,VT(e,t,n)[2]}function wR(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?xR(t,e,n):xR(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function QX(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function eY(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function zue(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?jue:Wrt(i);r>n;){if(r-n>600){const o=r-n+1,m=t-n+1,y=Math.log(o),v=.5*Math.exp(2*y/3),S=.5*Math.sqrt(y*v*(o-v)/o)*(m-o/2<0?-1:1),C=Math.max(n,Math.floor(t-m*v/o+S)),P=Math.min(r,Math.floor(t+(o-m)*v/o+S));zue(e,t,C,P,i)}const s=e[t];let c=n,h=r;for(Ax(e,n,t),i(e[r],s)>0&&Ax(e,n,r);c<h;){for(Ax(e,c,h),++c,--h;i(e[c],s)<0;)++c;for(;i(e[h],s)>0;)--h}i(e[n],s)===0?Ax(e,n,h):(++h,Ax(e,h,r)),h<=t&&(n=h+1),t<=h&&(r=h-1)}return e}function Ax(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Xrt(e,t,n){if(e=Float64Array.from(Brt(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return eY(e);if(t>=1)return QX(e);var r,i=(r-1)*t,s=Math.floor(i),c=QX(zue(e,s).subarray(0,s+1)),h=eY(e.subarray(s+1));return c+(h-c)*(i-s)}}function Yrt(e,t,n=$ue){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),c=+n(e[s],s,e),h=+n(e[s+1],s+1,e);return c+(h-c)*(i-s)}}function Jrt(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function au(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fp(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const SR=Symbol("implicit");function W9(){var e=new YX,t=[],n=[],r=SR;function i(s){let c=e.get(s);if(c===void 0){if(r!==SR)return r;e.set(s,c=t.push(s)-1)}return n[c%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new YX;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return W9(t,n).unknown(r)},au.apply(i,arguments),i}function mS(){var e=W9().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,c,h=!1,o=0,m=0,y=.5;delete e.unknown;function v(){var S=t().length,C=i<r,P=C?i:r,I=C?r:i;s=(I-P)/Math.max(1,S-o+m*2),h&&(s=Math.floor(s)),P+=(I-P-s*(S-o))*y,c=s*(1-o),h&&(P=Math.round(P),c=Math.round(c));var N=Jrt(S).map(function(D){return P+s*D});return n(C?N.reverse():N)}return e.domain=function(S){return arguments.length?(t(S),v()):t()},e.range=function(S){return arguments.length?([r,i]=S,r=+r,i=+i,v()):[r,i]},e.rangeRound=function(S){return[r,i]=S,r=+r,i=+i,h=!0,v()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(S){return arguments.length?(h=!!S,v()):h},e.padding=function(S){return arguments.length?(o=Math.min(1,m=+S),v()):o},e.paddingInner=function(S){return arguments.length?(o=Math.min(1,S),v()):o},e.paddingOuter=function(S){return arguments.length?(m=+S,v()):m},e.align=function(S){return arguments.length?(y=Math.max(0,Math.min(1,S)),v()):y},e.copy=function(){return mS(t(),[r,i]).round(h).paddingInner(o).paddingOuter(m).align(y)},au.apply(v(),arguments)}function Bue(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Bue(t())},e}function dw(){return Bue(mS.apply(null,arguments).paddingInner(1))}function G9(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Zue(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function SA(){}var gS=.7,WT=1/gS,_0="\\s*([+-]?\\d+)\\s*",yS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qrt=/^#([0-9a-f]{3,8})$/,eit=new RegExp(`^rgb\\(${_0},${_0},${_0}\\)$`),tit=new RegExp(`^rgb\\(${qd},${qd},${qd}\\)$`),nit=new RegExp(`^rgba\\(${_0},${_0},${_0},${yS}\\)$`),rit=new RegExp(`^rgba\\(${qd},${qd},${qd},${yS}\\)$`),iit=new RegExp(`^hsl\\(${yS},${qd},${qd}\\)$`),oit=new RegExp(`^hsla\\(${yS},${qd},${qd},${yS}\\)$`),tY={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};G9(SA,vS,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nY,formatHex:nY,formatHex8:ait,formatHsl:sit,formatRgb:rY,toString:rY});function nY(){return this.rgb().formatHex()}function ait(){return this.rgb().formatHex8()}function sit(){return Uue(this).formatHsl()}function rY(){return this.rgb().formatRgb()}function vS(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Qrt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?iY(t):n===3?new Fl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_M(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_M(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=eit.exec(e))?new Fl(t[1],t[2],t[3],1):(t=tit.exec(e))?new Fl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nit.exec(e))?_M(t[1],t[2],t[3],t[4]):(t=rit.exec(e))?_M(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=iit.exec(e))?sY(t[1],t[2]/100,t[3]/100,1):(t=oit.exec(e))?sY(t[1],t[2]/100,t[3]/100,t[4]):tY.hasOwnProperty(e)?iY(tY[e]):e==="transparent"?new Fl(NaN,NaN,NaN,0):null}function iY(e){return new Fl(e>>16&255,e>>8&255,e&255,1)}function _M(e,t,n,r){return r<=0&&(e=t=n=NaN),new Fl(e,t,n,r)}function lit(e){return e instanceof SA||(e=vS(e)),e?(e=e.rgb(),new Fl(e.r,e.g,e.b,e.opacity)):new Fl}function AR(e,t,n,r){return arguments.length===1?lit(e):new Fl(e,t,n,r??1)}function Fl(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}G9(Fl,AR,Zue(SA,{brighter(e){return e=e==null?WT:Math.pow(WT,e),new Fl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gS:Math.pow(gS,e),new Fl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fl(Og(this.r),Og(this.g),Og(this.b),GT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oY,formatHex:oY,formatHex8:cit,formatRgb:aY,toString:aY}));function oY(){return`#${bg(this.r)}${bg(this.g)}${bg(this.b)}`}function cit(){return`#${bg(this.r)}${bg(this.g)}${bg(this.b)}${bg((isNaN(this.opacity)?1:this.opacity)*255)}`}function aY(){const e=GT(this.opacity);return`${e===1?"rgb(":"rgba("}${Og(this.r)}, ${Og(this.g)}, ${Og(this.b)}${e===1?")":`, ${e})`}`}function GT(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Og(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bg(e){return e=Og(e),(e<16?"0":"")+e.toString(16)}function sY(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new zu(e,t,n,r)}function Uue(e){if(e instanceof zu)return new zu(e.h,e.s,e.l,e.opacity);if(e instanceof SA||(e=vS(e)),!e)return new zu;if(e instanceof zu)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),c=NaN,h=s-i,o=(s+i)/2;return h?(t===s?c=(n-r)/h+(n<r)*6:n===s?c=(r-t)/h+2:c=(t-n)/h+4,h/=o<.5?s+i:2-s-i,c*=60):h=o>0&&o<1?0:c,new zu(c,h,o,e.opacity)}function uit(e,t,n,r){return arguments.length===1?Uue(e):new zu(e,t,n,r??1)}function zu(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}G9(zu,uit,Zue(SA,{brighter(e){return e=e==null?WT:Math.pow(WT,e),new zu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gS:Math.pow(gS,e),new zu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Fl(K6(e>=240?e-240:e+120,i,r),K6(e,i,r),K6(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new zu(lY(this.h),xM(this.s),xM(this.l),GT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=GT(this.opacity);return`${e===1?"hsl(":"hsla("}${lY(this.h)}, ${xM(this.s)*100}%, ${xM(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lY(e){return e=(e||0)%360,e<0?e+360:e}function xM(e){return Math.max(0,Math.min(1,e||0))}function K6(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const K9=e=>()=>e;function dit(e,t){return function(n){return e+n*t}}function hit(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function pit(e){return(e=+e)==1?Hue:function(t,n){return n-t?hit(t,n,e):K9(isNaN(t)?n:t)}}function Hue(e,t){var n=t-e;return n?dit(e,n):K9(isNaN(e)?t:e)}const cY=function e(t){var n=pit(t);function r(i,s){var c=n((i=AR(i)).r,(s=AR(s)).r),h=n(i.g,s.g),o=n(i.b,s.b),m=Hue(i.opacity,s.opacity);return function(y){return i.r=c(y),i.g=h(y),i.b=o(y),i.opacity=m(y),i+""}}return r.gamma=e,r}(1);function fit(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function mit(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function git(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)i[c]=Gb(e[c],t[c]);for(;c<n;++c)s[c]=t[c];return function(h){for(c=0;c<r;++c)s[c]=i[c](h);return s}}function yit(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function KT(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vit(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Gb(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var CR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,q6=new RegExp(CR.source,"g");function bit(e){return function(){return e}}function _it(e){return function(t){return e(t)+""}}function xit(e,t){var n=CR.lastIndex=q6.lastIndex=0,r,i,s,c=-1,h=[],o=[];for(e=e+"",t=t+"";(r=CR.exec(e))&&(i=q6.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),h[c]?h[c]+=s:h[++c]=s),(r=r[0])===(i=i[0])?h[c]?h[c]+=i:h[++c]=i:(h[++c]=null,o.push({i:c,x:KT(r,i)})),n=q6.lastIndex;return n<t.length&&(s=t.slice(n),h[c]?h[c]+=s:h[++c]=s),h.length<2?o[0]?_it(o[0].x):bit(t):(t=o.length,function(m){for(var y=0,v;y<t;++y)h[(v=o[y]).i]=v.x(m);return h.join("")})}function Gb(e,t){var n=typeof t,r;return t==null||n==="boolean"?K9(t):(n==="number"?KT:n==="string"?(r=vS(t))?(t=r,cY):xit:t instanceof vS?cY:t instanceof Date?yit:mit(t)?fit:Array.isArray(t)?git:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vit:KT)(e,t)}function q9(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function wit(e,t){t===void 0&&(t=e,e=Gb);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(c){var h=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[h](c-h)}}function Sit(e){return function(){return e}}function qT(e){return+e}var uY=[0,1];function fl(e){return e}function MR(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Sit(isNaN(t)?NaN:.5)}function Ait(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Cit(e,t,n){var r=e[0],i=e[1],s=t[0],c=t[1];return i<r?(r=MR(i,r),s=n(c,s)):(r=MR(r,i),s=n(s,c)),function(h){return s(r(h))}}function Mit(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)i[c]=MR(e[c],e[c+1]),s[c]=n(t[c],t[c+1]);return function(h){var o=wA(e,h,1,r)-1;return s[o](i[o](h))}}function AA(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function m4(){var e=uY,t=uY,n=Gb,r,i,s,c=fl,h,o,m;function y(){var S=Math.min(e.length,t.length);return c!==fl&&(c=Ait(e[0],e[S-1])),h=S>2?Mit:Cit,o=m=null,v}function v(S){return S==null||isNaN(S=+S)?s:(o||(o=h(e.map(r),t,n)))(r(c(S)))}return v.invert=function(S){return c(i((m||(m=h(t,e.map(r),KT)))(S)))},v.domain=function(S){return arguments.length?(e=Array.from(S,qT),y()):e.slice()},v.range=function(S){return arguments.length?(t=Array.from(S),y()):t.slice()},v.rangeRound=function(S){return t=Array.from(S),n=q9,y()},v.clamp=function(S){return arguments.length?(c=S?!0:fl,y()):c!==fl},v.interpolate=function(S){return arguments.length?(n=S,y()):n},v.unknown=function(S){return arguments.length?(s=S,v):s},function(S,C){return r=S,i=C,y()}}function X9(){return m4()(fl,fl)}function Eit(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function XT(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function eb(e){return e=XT(Math.abs(e)),e?e[1]:NaN}function Tit(e,t){return function(n,r){for(var i=n.length,s=[],c=0,h=e[0],o=0;i>0&&h>0&&(o+h+1>r&&(h=Math.max(1,r-o)),s.push(n.substring(i-=h,i+h)),!((o+=h+1)>r));)h=e[c=(c+1)%e.length];return s.reverse().join(t)}}function Pit(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Iit=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bS(e){if(!(t=Iit.exec(e)))throw new Error("invalid format: "+e);var t;return new Y9({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bS.prototype=Y9.prototype;function Y9(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Y9.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Oit(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Vue;function kit(e,t){var n=XT(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Vue=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+XT(e,Math.max(0,t+s-1))[0]}function dY(e,t){var n=XT(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const hY={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Eit,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dY(e*100,t),r:dY,s:kit,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pY(e){return e}var fY=Array.prototype.map,mY=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Nit(e){var t=e.grouping===void 0||e.thousands===void 0?pY:Tit(fY.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?pY:Pit(fY.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",h=e.minus===void 0?"−":e.minus+"",o=e.nan===void 0?"NaN":e.nan+"";function m(v){v=bS(v);var S=v.fill,C=v.align,P=v.sign,I=v.symbol,N=v.zero,D=v.width,k=v.comma,F=v.precision,U=v.trim,B=v.type;B==="n"?(k=!0,B="g"):hY[B]||(F===void 0&&(F=12),U=!0,B="g"),(N||S==="0"&&C==="=")&&(N=!0,S="0",C="=");var z=I==="$"?n:I==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",W=I==="$"?r:/[%p]/.test(B)?c:"",Y=hY[B],K=/[defgprs%]/.test(B);F=F===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function ee(re){var oe=z,he=W,be,le,ye;if(B==="c")he=Y(re)+he,re="";else{re=+re;var fe=re<0||1/re<0;if(re=isNaN(re)?o:Y(Math.abs(re),F),U&&(re=Oit(re)),fe&&+re==0&&P!=="+"&&(fe=!1),oe=(fe?P==="("?P:h:P==="-"||P==="("?"":P)+oe,he=(B==="s"?mY[8+Vue/3]:"")+he+(fe&&P==="("?")":""),K){for(be=-1,le=re.length;++be<le;)if(ye=re.charCodeAt(be),48>ye||ye>57){he=(ye===46?i+re.slice(be+1):re.slice(be))+he,re=re.slice(0,be);break}}}k&&!N&&(re=t(re,1/0));var ue=oe.length+re.length+he.length,xe=ue<D?new Array(D-ue+1).join(S):"";switch(k&&N&&(re=t(xe+re,xe.length?D-he.length:1/0),xe=""),C){case"<":re=oe+re+he+xe;break;case"=":re=oe+xe+re+he;break;case"^":re=xe.slice(0,ue=xe.length>>1)+oe+re+he+xe.slice(ue);break;default:re=xe+oe+re+he;break}return s(re)}return ee.toString=function(){return v+""},ee}function y(v,S){var C=m((v=bS(v),v.type="f",v)),P=Math.max(-8,Math.min(8,Math.floor(eb(S)/3)))*3,I=Math.pow(10,-P),N=mY[8+P/3];return function(D){return C(I*D)+N}}return{format:m,formatPrefix:y}}var wM,J9,Wue;Rit({thousands:",",grouping:[3],currency:["$",""]});function Rit(e){return wM=Nit(e),J9=wM.format,Wue=wM.formatPrefix,wM}function Dit(e){return Math.max(0,-eb(Math.abs(e)))}function Lit(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(eb(t)/3)))*3-eb(Math.abs(e)))}function Fit(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,eb(t)-eb(e))+1}function Gue(e,t,n,r){var i=wR(e,t,n),s;switch(r=bS(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Lit(i,c))&&(r.precision=s),Wue(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Fit(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Dit(i))&&(r.precision=s-(r.type==="%")*2);break}}return J9(r)}function Xf(e){var t=e.domain;return e.ticks=function(n){var r=t();return _R(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Gue(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,c=r[i],h=r[s],o,m,y=10;for(h<c&&(m=c,c=h,h=m,m=i,i=s,s=m);y-- >0;){if(m=xR(c,h,n),m===o)return r[i]=c,r[s]=h,t(r);if(m>0)c=Math.floor(c/m)*m,h=Math.ceil(h/m)*m;else if(m<0)c=Math.ceil(c*m)/m,h=Math.floor(h*m)/m;else break;o=m}return e},e}function YT(){var e=X9();return e.copy=function(){return AA(e,YT())},au.apply(e,arguments),Xf(e)}function Kue(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,qT),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Kue(e).unknown(t)},e=arguments.length?Array.from(e,qT):[0,1],Xf(n)}function que(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],c;return s<i&&(c=n,n=r,r=c,c=i,i=s,s=c),e[n]=t.floor(i),e[r]=t.ceil(s),e}function gY(e){return Math.log(e)}function yY(e){return Math.exp(e)}function $it(e){return-Math.log(-e)}function jit(e){return-Math.exp(-e)}function zit(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Bit(e){return e===10?zit:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Zit(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function vY(e){return(t,n)=>-e(-t,n)}function Q9(e){const t=e(gY,yY),n=t.domain;let r=10,i,s;function c(){return i=Zit(r),s=Bit(r),n()[0]<0?(i=vY(i),s=vY(s),e($it,jit)):e(gY,yY),t}return t.base=function(h){return arguments.length?(r=+h,c()):r},t.domain=function(h){return arguments.length?(n(h),c()):n()},t.ticks=h=>{const o=n();let m=o[0],y=o[o.length-1];const v=y<m;v&&([m,y]=[y,m]);let S=i(m),C=i(y),P,I;const N=h==null?10:+h;let D=[];if(!(r%1)&&C-S<N){if(S=Math.floor(S),C=Math.ceil(C),m>0){for(;S<=C;++S)for(P=1;P<r;++P)if(I=S<0?P/s(-S):P*s(S),!(I<m)){if(I>y)break;D.push(I)}}else for(;S<=C;++S)for(P=r-1;P>=1;--P)if(I=S>0?P/s(-S):P*s(S),!(I<m)){if(I>y)break;D.push(I)}D.length*2<N&&(D=_R(m,y,N))}else D=_R(S,C,Math.min(C-S,N)).map(s);return v?D.reverse():D},t.tickFormat=(h,o)=>{if(h==null&&(h=10),o==null&&(o=r===10?"s":","),typeof o!="function"&&(!(r%1)&&(o=bS(o)).precision==null&&(o.trim=!0),o=J9(o)),h===1/0)return o;const m=Math.max(1,r*h/t.ticks().length);return y=>{let v=y/s(Math.round(i(y)));return v*r<r-.5&&(v*=r),v<=m?o(y):""}},t.nice=()=>n(que(n(),{floor:h=>s(Math.floor(i(h))),ceil:h=>s(Math.ceil(i(h)))})),t}function Xue(){const e=Q9(m4()).domain([1,10]);return e.copy=()=>AA(e,Xue()).base(e.base()),au.apply(e,arguments),e}function bY(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _Y(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function eF(e){var t=1,n=e(bY(t),_Y(t));return n.constant=function(r){return arguments.length?e(bY(t=+r),_Y(t)):t},Xf(n)}function Yue(){var e=eF(m4());return e.copy=function(){return AA(e,Yue()).constant(e.constant())},au.apply(e,arguments)}function xY(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Uit(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Hit(e){return e<0?-e*e:e*e}function tF(e){var t=e(fl,fl),n=1;function r(){return n===1?e(fl,fl):n===.5?e(Uit,Hit):e(xY(n),xY(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Xf(t)}function nF(){var e=tF(m4());return e.copy=function(){return AA(e,nF()).exponent(e.exponent())},au.apply(e,arguments),e}function Vit(){return nF.apply(null,arguments).exponent(.5)}function wY(e){return Math.sign(e)*e*e}function Wit(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Jue(){var e=X9(),t=[0,1],n=!1,r;function i(s){var c=Wit(e(s));return isNaN(c)?r:n?Math.round(c):c}return i.invert=function(s){return e.invert(wY(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,qT)).map(wY)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Jue(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},au.apply(i,arguments),Xf(i)}function Que(){var e=[],t=[],n=[],r;function i(){var c=0,h=Math.max(1,t.length);for(n=new Array(h-1);++c<h;)n[c-1]=Yrt(e,c/h);return s}function s(c){return c==null||isNaN(c=+c)?r:t[wA(n,c)]}return s.invertExtent=function(c){var h=t.indexOf(c);return h<0?[NaN,NaN]:[h>0?n[h-1]:e[0],h<n.length?n[h]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let h of c)h!=null&&!isNaN(h=+h)&&e.push(h);return e.sort(Ef),i()},s.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return Que().domain(e).range(t).unknown(r)},au.apply(s,arguments)}function ede(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function c(o){return o!=null&&o<=o?i[wA(r,o,0,n)]:s}function h(){var o=-1;for(r=new Array(n);++o<n;)r[o]=((o+1)*t-(o-n)*e)/(n+1);return c}return c.domain=function(o){return arguments.length?([e,t]=o,e=+e,t=+t,h()):[e,t]},c.range=function(o){return arguments.length?(n=(i=Array.from(o)).length-1,h()):i.slice()},c.invertExtent=function(o){var m=i.indexOf(o);return m<0?[NaN,NaN]:m<1?[e,r[0]]:m>=n?[r[n-1],t]:[r[m-1],r[m]]},c.unknown=function(o){return arguments.length&&(s=o),c},c.thresholds=function(){return r.slice()},c.copy=function(){return ede().domain([e,t]).range(i).unknown(s)},au.apply(Xf(c),arguments)}function tde(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[wA(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return tde().domain(e).range(t).unknown(n)},au.apply(i,arguments)}const X6=new Date,Y6=new Date;function as(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const c=i(s),h=i.ceil(s);return s-c<h-s?c:h},i.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,h)=>{const o=[];if(s=i.ceil(s),h=h==null?1:Math.floor(h),!(s<c)||!(h>0))return o;let m;do o.push(m=new Date(+s)),t(s,h),e(s);while(m<s&&s<c);return o},i.filter=s=>as(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,h)=>{if(c>=c)if(h<0)for(;++h<=0;)for(;t(c,-1),!s(c););else for(;--h>=0;)for(;t(c,1),!s(c););}),n&&(i.count=(s,c)=>(X6.setTime(+s),Y6.setTime(+c),e(X6),e(Y6),Math.floor(n(X6,Y6))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?c=>r(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const JT=as(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);JT.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?as(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):JT);JT.range;const Zh=1e3,Xc=Zh*60,Uh=Xc*60,op=Uh*24,rF=op*7,SY=op*30,J6=op*365,_g=as(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zh)},(e,t)=>(t-e)/Zh,e=>e.getUTCSeconds());_g.range;const iF=as(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zh)},(e,t)=>{e.setTime(+e+t*Xc)},(e,t)=>(t-e)/Xc,e=>e.getMinutes());iF.range;const oF=as(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xc)},(e,t)=>(t-e)/Xc,e=>e.getUTCMinutes());oF.range;const aF=as(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zh-e.getMinutes()*Xc)},(e,t)=>{e.setTime(+e+t*Uh)},(e,t)=>(t-e)/Uh,e=>e.getHours());aF.range;const sF=as(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Uh)},(e,t)=>(t-e)/Uh,e=>e.getUTCHours());sF.range;const CA=as(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xc)/op,e=>e.getDate()-1);CA.range;const g4=as(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/op,e=>e.getUTCDate()-1);g4.range;const nde=as(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/op,e=>Math.floor(e/op));nde.range;function sy(e){return as(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Xc)/rF)}const y4=sy(0),QT=sy(1),Git=sy(2),Kit=sy(3),tb=sy(4),qit=sy(5),Xit=sy(6);y4.range;QT.range;Git.range;Kit.range;tb.range;qit.range;Xit.range;function ly(e){return as(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/rF)}const v4=ly(0),eP=ly(1),Yit=ly(2),Jit=ly(3),nb=ly(4),Qit=ly(5),eot=ly(6);v4.range;eP.range;Yit.range;Jit.range;nb.range;Qit.range;eot.range;const lF=as(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());lF.range;const cF=as(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());cF.range;const ap=as(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ap.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:as(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ap.range;const sp=as(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());sp.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:as(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});sp.range;function rde(e,t,n,r,i,s){const c=[[_g,1,Zh],[_g,5,5*Zh],[_g,15,15*Zh],[_g,30,30*Zh],[s,1,Xc],[s,5,5*Xc],[s,15,15*Xc],[s,30,30*Xc],[i,1,Uh],[i,3,3*Uh],[i,6,6*Uh],[i,12,12*Uh],[r,1,op],[r,2,2*op],[n,1,rF],[t,1,SY],[t,3,3*SY],[e,1,J6]];function h(m,y,v){const S=y<m;S&&([m,y]=[y,m]);const C=v&&typeof v.range=="function"?v:o(m,y,v),P=C?C.range(m,+y+1):[];return S?P.reverse():P}function o(m,y,v){const S=Math.abs(y-m)/v,C=V9(([,,N])=>N).right(c,S);if(C===c.length)return e.every(wR(m/J6,y/J6,v));if(C===0)return JT.every(Math.max(wR(m,y,v),1));const[P,I]=c[S/c[C-1][2]<c[C][2]/S?C-1:C];return P.every(I)}return[h,o]}const[tot,not]=rde(sp,cF,v4,nde,sF,oF),[rot,iot]=rde(ap,lF,y4,CA,aF,iF);function Q6(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ek(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cx(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function oot(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,c=e.shortDays,h=e.months,o=e.shortMonths,m=Mx(i),y=Ex(i),v=Mx(s),S=Ex(s),C=Mx(c),P=Ex(c),I=Mx(h),N=Ex(h),D=Mx(o),k=Ex(o),F={a:fe,A:ue,b:xe,B:ae,c:null,d:PY,e:PY,f:Tot,g:$ot,G:zot,H:Cot,I:Mot,j:Eot,L:ide,m:Pot,M:Iot,p:Ee,q:Me,Q:kY,s:NY,S:Oot,u:kot,U:Not,V:Rot,w:Dot,W:Lot,x:null,X:null,y:Fot,Y:jot,Z:Bot,"%":OY},U={a:de,A:ze,b:$e,B:et,c:null,d:IY,e:IY,f:Vot,g:tat,G:rat,H:Zot,I:Uot,j:Hot,L:ade,m:Wot,M:Got,p:gt,q:lt,Q:kY,s:NY,S:Kot,u:qot,U:Xot,V:Yot,w:Jot,W:Qot,x:null,X:null,y:eat,Y:nat,Z:iat,"%":OY},B={a:ee,A:re,b:oe,B:he,c:be,d:EY,e:EY,f:xot,g:MY,G:CY,H:TY,I:TY,j:yot,L:_ot,m:got,M:vot,p:K,q:mot,Q:Sot,s:Aot,S:bot,u:uot,U:dot,V:hot,w:cot,W:pot,x:le,X:ye,y:MY,Y:CY,Z:fot,"%":wot};F.x=z(n,F),F.X=z(r,F),F.c=z(t,F),U.x=z(n,U),U.X=z(r,U),U.c=z(t,U);function z(We,qe){return function(Qe){var Ve=[],yt=-1,it=0,pt=We.length,$t,Jt,on;for(Qe instanceof Date||(Qe=new Date(+Qe));++yt<pt;)We.charCodeAt(yt)===37&&(Ve.push(We.slice(it,yt)),(Jt=AY[$t=We.charAt(++yt)])!=null?$t=We.charAt(++yt):Jt=$t==="e"?" ":"0",(on=qe[$t])&&($t=on(Qe,Jt)),Ve.push($t),it=yt+1);return Ve.push(We.slice(it,yt)),Ve.join("")}}function W(We,qe){return function(Qe){var Ve=Cx(1900,void 0,1),yt=Y(Ve,We,Qe+="",0),it,pt;if(yt!=Qe.length)return null;if("Q"in Ve)return new Date(Ve.Q);if("s"in Ve)return new Date(Ve.s*1e3+("L"in Ve?Ve.L:0));if(qe&&!("Z"in Ve)&&(Ve.Z=0),"p"in Ve&&(Ve.H=Ve.H%12+Ve.p*12),Ve.m===void 0&&(Ve.m="q"in Ve?Ve.q:0),"V"in Ve){if(Ve.V<1||Ve.V>53)return null;"w"in Ve||(Ve.w=1),"Z"in Ve?(it=ek(Cx(Ve.y,0,1)),pt=it.getUTCDay(),it=pt>4||pt===0?eP.ceil(it):eP(it),it=g4.offset(it,(Ve.V-1)*7),Ve.y=it.getUTCFullYear(),Ve.m=it.getUTCMonth(),Ve.d=it.getUTCDate()+(Ve.w+6)%7):(it=Q6(Cx(Ve.y,0,1)),pt=it.getDay(),it=pt>4||pt===0?QT.ceil(it):QT(it),it=CA.offset(it,(Ve.V-1)*7),Ve.y=it.getFullYear(),Ve.m=it.getMonth(),Ve.d=it.getDate()+(Ve.w+6)%7)}else("W"in Ve||"U"in Ve)&&("w"in Ve||(Ve.w="u"in Ve?Ve.u%7:"W"in Ve?1:0),pt="Z"in Ve?ek(Cx(Ve.y,0,1)).getUTCDay():Q6(Cx(Ve.y,0,1)).getDay(),Ve.m=0,Ve.d="W"in Ve?(Ve.w+6)%7+Ve.W*7-(pt+5)%7:Ve.w+Ve.U*7-(pt+6)%7);return"Z"in Ve?(Ve.H+=Ve.Z/100|0,Ve.M+=Ve.Z%100,ek(Ve)):Q6(Ve)}}function Y(We,qe,Qe,Ve){for(var yt=0,it=qe.length,pt=Qe.length,$t,Jt;yt<it;){if(Ve>=pt)return-1;if($t=qe.charCodeAt(yt++),$t===37){if($t=qe.charAt(yt++),Jt=B[$t in AY?qe.charAt(yt++):$t],!Jt||(Ve=Jt(We,Qe,Ve))<0)return-1}else if($t!=Qe.charCodeAt(Ve++))return-1}return Ve}function K(We,qe,Qe){var Ve=m.exec(qe.slice(Qe));return Ve?(We.p=y.get(Ve[0].toLowerCase()),Qe+Ve[0].length):-1}function ee(We,qe,Qe){var Ve=C.exec(qe.slice(Qe));return Ve?(We.w=P.get(Ve[0].toLowerCase()),Qe+Ve[0].length):-1}function re(We,qe,Qe){var Ve=v.exec(qe.slice(Qe));return Ve?(We.w=S.get(Ve[0].toLowerCase()),Qe+Ve[0].length):-1}function oe(We,qe,Qe){var Ve=D.exec(qe.slice(Qe));return Ve?(We.m=k.get(Ve[0].toLowerCase()),Qe+Ve[0].length):-1}function he(We,qe,Qe){var Ve=I.exec(qe.slice(Qe));return Ve?(We.m=N.get(Ve[0].toLowerCase()),Qe+Ve[0].length):-1}function be(We,qe,Qe){return Y(We,t,qe,Qe)}function le(We,qe,Qe){return Y(We,n,qe,Qe)}function ye(We,qe,Qe){return Y(We,r,qe,Qe)}function fe(We){return c[We.getDay()]}function ue(We){return s[We.getDay()]}function xe(We){return o[We.getMonth()]}function ae(We){return h[We.getMonth()]}function Ee(We){return i[+(We.getHours()>=12)]}function Me(We){return 1+~~(We.getMonth()/3)}function de(We){return c[We.getUTCDay()]}function ze(We){return s[We.getUTCDay()]}function $e(We){return o[We.getUTCMonth()]}function et(We){return h[We.getUTCMonth()]}function gt(We){return i[+(We.getUTCHours()>=12)]}function lt(We){return 1+~~(We.getUTCMonth()/3)}return{format:function(We){var qe=z(We+="",F);return qe.toString=function(){return We},qe},parse:function(We){var qe=W(We+="",!1);return qe.toString=function(){return We},qe},utcFormat:function(We){var qe=z(We+="",U);return qe.toString=function(){return We},qe},utcParse:function(We){var qe=W(We+="",!0);return qe.toString=function(){return We},qe}}}var AY={"-":"",_:" ",0:"0"},_s=/^\s*\d+/,aot=/^%/,sot=/[\\^$*+?|[\]().{}]/g;function ro(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function lot(e){return e.replace(sot,"\\$&")}function Mx(e){return new RegExp("^(?:"+e.map(lot).join("|")+")","i")}function Ex(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function cot(e,t,n){var r=_s.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function uot(e,t,n){var r=_s.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dot(e,t,n){var r=_s.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function hot(e,t,n){var r=_s.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function pot(e,t,n){var r=_s.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function CY(e,t,n){var r=_s.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function MY(e,t,n){var r=_s.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fot(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mot(e,t,n){var r=_s.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function got(e,t,n){var r=_s.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function EY(e,t,n){var r=_s.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function yot(e,t,n){var r=_s.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function TY(e,t,n){var r=_s.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function vot(e,t,n){var r=_s.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function bot(e,t,n){var r=_s.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function _ot(e,t,n){var r=_s.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function xot(e,t,n){var r=_s.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wot(e,t,n){var r=aot.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Sot(e,t,n){var r=_s.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Aot(e,t,n){var r=_s.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function PY(e,t){return ro(e.getDate(),t,2)}function Cot(e,t){return ro(e.getHours(),t,2)}function Mot(e,t){return ro(e.getHours()%12||12,t,2)}function Eot(e,t){return ro(1+CA.count(ap(e),e),t,3)}function ide(e,t){return ro(e.getMilliseconds(),t,3)}function Tot(e,t){return ide(e,t)+"000"}function Pot(e,t){return ro(e.getMonth()+1,t,2)}function Iot(e,t){return ro(e.getMinutes(),t,2)}function Oot(e,t){return ro(e.getSeconds(),t,2)}function kot(e){var t=e.getDay();return t===0?7:t}function Not(e,t){return ro(y4.count(ap(e)-1,e),t,2)}function ode(e){var t=e.getDay();return t>=4||t===0?tb(e):tb.ceil(e)}function Rot(e,t){return e=ode(e),ro(tb.count(ap(e),e)+(ap(e).getDay()===4),t,2)}function Dot(e){return e.getDay()}function Lot(e,t){return ro(QT.count(ap(e)-1,e),t,2)}function Fot(e,t){return ro(e.getFullYear()%100,t,2)}function $ot(e,t){return e=ode(e),ro(e.getFullYear()%100,t,2)}function jot(e,t){return ro(e.getFullYear()%1e4,t,4)}function zot(e,t){var n=e.getDay();return e=n>=4||n===0?tb(e):tb.ceil(e),ro(e.getFullYear()%1e4,t,4)}function Bot(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ro(t/60|0,"0",2)+ro(t%60,"0",2)}function IY(e,t){return ro(e.getUTCDate(),t,2)}function Zot(e,t){return ro(e.getUTCHours(),t,2)}function Uot(e,t){return ro(e.getUTCHours()%12||12,t,2)}function Hot(e,t){return ro(1+g4.count(sp(e),e),t,3)}function ade(e,t){return ro(e.getUTCMilliseconds(),t,3)}function Vot(e,t){return ade(e,t)+"000"}function Wot(e,t){return ro(e.getUTCMonth()+1,t,2)}function Got(e,t){return ro(e.getUTCMinutes(),t,2)}function Kot(e,t){return ro(e.getUTCSeconds(),t,2)}function qot(e){var t=e.getUTCDay();return t===0?7:t}function Xot(e,t){return ro(v4.count(sp(e)-1,e),t,2)}function sde(e){var t=e.getUTCDay();return t>=4||t===0?nb(e):nb.ceil(e)}function Yot(e,t){return e=sde(e),ro(nb.count(sp(e),e)+(sp(e).getUTCDay()===4),t,2)}function Jot(e){return e.getUTCDay()}function Qot(e,t){return ro(eP.count(sp(e)-1,e),t,2)}function eat(e,t){return ro(e.getUTCFullYear()%100,t,2)}function tat(e,t){return e=sde(e),ro(e.getUTCFullYear()%100,t,2)}function nat(e,t){return ro(e.getUTCFullYear()%1e4,t,4)}function rat(e,t){var n=e.getUTCDay();return e=n>=4||n===0?nb(e):nb.ceil(e),ro(e.getUTCFullYear()%1e4,t,4)}function iat(){return"+0000"}function OY(){return"%"}function kY(e){return+e}function NY(e){return Math.floor(+e/1e3)}var Cv,lde,cde;oat({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oat(e){return Cv=oot(e),lde=Cv.format,Cv.parse,cde=Cv.utcFormat,Cv.utcParse,Cv}function aat(e){return new Date(e)}function sat(e){return e instanceof Date?+e:+new Date(+e)}function uF(e,t,n,r,i,s,c,h,o,m){var y=X9(),v=y.invert,S=y.domain,C=m(".%L"),P=m(":%S"),I=m("%I:%M"),N=m("%I %p"),D=m("%a %d"),k=m("%b %d"),F=m("%B"),U=m("%Y");function B(z){return(o(z)<z?C:h(z)<z?P:c(z)<z?I:s(z)<z?N:r(z)<z?i(z)<z?D:k:n(z)<z?F:U)(z)}return y.invert=function(z){return new Date(v(z))},y.domain=function(z){return arguments.length?S(Array.from(z,sat)):S().map(aat)},y.ticks=function(z){var W=S();return e(W[0],W[W.length-1],z??10)},y.tickFormat=function(z,W){return W==null?B:m(W)},y.nice=function(z){var W=S();return(!z||typeof z.range!="function")&&(z=t(W[0],W[W.length-1],z??10)),z?S(que(W,z)):y},y.copy=function(){return AA(y,uF(e,t,n,r,i,s,c,h,o,m))},y}function lat(){return au.apply(uF(rot,iot,ap,lF,y4,CA,aF,iF,_g,lde).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cat(){return au.apply(uF(tot,not,sp,cF,v4,g4,sF,oF,_g,cde).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function b4(){var e=0,t=1,n,r,i,s,c=fl,h=!1,o;function m(v){return v==null||isNaN(v=+v)?o:c(i===0?.5:(v=(s(v)-n)*i,h?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t]=v,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),m):[e,t]},m.clamp=function(v){return arguments.length?(h=!!v,m):h},m.interpolator=function(v){return arguments.length?(c=v,m):c};function y(v){return function(S){var C,P;return arguments.length?([C,P]=S,c=v(C,P),m):[c(0),c(1)]}}return m.range=y(Gb),m.rangeRound=y(q9),m.unknown=function(v){return arguments.length?(o=v,m):o},function(v){return s=v,n=v(e),r=v(t),i=n===r?0:1/(r-n),m}}function Yf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ude(){var e=Xf(b4()(fl));return e.copy=function(){return Yf(e,ude())},fp.apply(e,arguments)}function dde(){var e=Q9(b4()).domain([1,10]);return e.copy=function(){return Yf(e,dde()).base(e.base())},fp.apply(e,arguments)}function hde(){var e=eF(b4());return e.copy=function(){return Yf(e,hde()).constant(e.constant())},fp.apply(e,arguments)}function dF(){var e=tF(b4());return e.copy=function(){return Yf(e,dF()).exponent(e.exponent())},fp.apply(e,arguments)}function uat(){return dF.apply(null,arguments).exponent(.5)}function pde(){var e=[],t=fl;function n(r){if(r!=null&&!isNaN(r=+r))return t((wA(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ef),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Xrt(e,s/r))},n.copy=function(){return pde(t).domain(e)},fp.apply(n,arguments)}function _4(){var e=0,t=.5,n=1,r=1,i,s,c,h,o,m=fl,y,v=!1,S;function C(I){return isNaN(I=+I)?S:(I=.5+((I=+y(I))-s)*(r*I<r*s?h:o),m(v?Math.max(0,Math.min(1,I)):I))}C.domain=function(I){return arguments.length?([e,t,n]=I,i=y(e=+e),s=y(t=+t),c=y(n=+n),h=i===s?0:.5/(s-i),o=s===c?0:.5/(c-s),r=s<i?-1:1,C):[e,t,n]},C.clamp=function(I){return arguments.length?(v=!!I,C):v},C.interpolator=function(I){return arguments.length?(m=I,C):m};function P(I){return function(N){var D,k,F;return arguments.length?([D,k,F]=N,m=wit(I,[D,k,F]),C):[m(0),m(.5),m(1)]}}return C.range=P(Gb),C.rangeRound=P(q9),C.unknown=function(I){return arguments.length?(S=I,C):S},function(I){return y=I,i=I(e),s=I(t),c=I(n),h=i===s?0:.5/(s-i),o=s===c?0:.5/(c-s),r=s<i?-1:1,C}}function fde(){var e=Xf(_4()(fl));return e.copy=function(){return Yf(e,fde())},fp.apply(e,arguments)}function mde(){var e=Q9(_4()).domain([.1,1,10]);return e.copy=function(){return Yf(e,mde()).base(e.base())},fp.apply(e,arguments)}function gde(){var e=eF(_4());return e.copy=function(){return Yf(e,gde()).constant(e.constant())},fp.apply(e,arguments)}function hF(){var e=tF(_4());return e.copy=function(){return Yf(e,hF()).exponent(e.exponent())},fp.apply(e,arguments)}function dat(){return hF.apply(null,arguments).exponent(.5)}const RY=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mS,scaleDiverging:fde,scaleDivergingLog:mde,scaleDivergingPow:hF,scaleDivergingSqrt:dat,scaleDivergingSymlog:gde,scaleIdentity:Kue,scaleImplicit:SR,scaleLinear:YT,scaleLog:Xue,scaleOrdinal:W9,scalePoint:dw,scalePow:nF,scaleQuantile:Que,scaleQuantize:ede,scaleRadial:Jue,scaleSequential:ude,scaleSequentialLog:dde,scaleSequentialPow:dF,scaleSequentialQuantile:pde,scaleSequentialSqrt:uat,scaleSequentialSymlog:hde,scaleSqrt:Vit,scaleSymlog:Yue,scaleThreshold:tde,scaleTime:lat,scaleUtc:cat,tickFormat:Gue},Symbol.toStringTag,{value:"Module"}));var hat=Lb;function pat(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],c=t(s);if(c!=null&&(h===void 0?c===c&&!hat(c):n(c,h)))var h=c,o=s}return o}var yde=pat;function fat(e,t){return e>t}var mat=fat,gat=yde,yat=mat,vat=Ub;function bat(e){return e&&e.length?gat(e,vat,yat):void 0}var _at=bat;const x4=Li(_at);function xat(e,t){return e<t}var wat=xat,Sat=yde,Aat=wat,Cat=Ub;function Mat(e){return e&&e.length?Sat(e,Cat,Aat):void 0}var Eat=Mat;const w4=Li(Eat);var Tat=E9,Pat=Hb,Iat=Cue,Oat=Gl;function kat(e,t){var n=Oat(e)?Tat:Iat;return n(e,Pat(t))}var Nat=kat,Rat=Sue,Dat=Nat;function Lat(e,t){return Rat(Dat(e,t),1)}var Fat=Lat;const $at=Li(Fat);var jat=B9;function zat(e,t){return jat(e,t)}var Bat=zat;const S4=Li(Bat);var Kb=1e9,Zat={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fF,na=!0,iu="[DecimalError] ",kg=iu+"Invalid argument: ",pF=iu+"Exponent out of range: ",qb=Math.floor,og=Math.pow,Uat=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vc,ms=1e7,Uo=7,vde=9007199254740991,tP=qb(vde/Uo),xr={};xr.absoluteValue=xr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};xr.comparedTo=xr.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};xr.decimalPlaces=xr.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Uo;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};xr.dividedBy=xr.div=function(e){return Xh(this,new this.constructor(e))};xr.dividedToIntegerBy=xr.idiv=function(e){var t=this,n=t.constructor;return ko(Xh(t,new n(e),0,1),n.precision)};xr.equals=xr.eq=function(e){return!this.cmp(e)};xr.exponent=function(){return Ga(this)};xr.greaterThan=xr.gt=function(e){return this.cmp(e)>0};xr.greaterThanOrEqualTo=xr.gte=function(e){return this.cmp(e)>=0};xr.isInteger=xr.isint=function(){return this.e>this.d.length-2};xr.isNegative=xr.isneg=function(){return this.s<0};xr.isPositive=xr.ispos=function(){return this.s>0};xr.isZero=function(){return this.s===0};xr.lessThan=xr.lt=function(e){return this.cmp(e)<0};xr.lessThanOrEqualTo=xr.lte=function(e){return this.cmp(e)<1};xr.logarithm=xr.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(vc))throw Error(iu+"NaN");if(n.s<1)throw Error(iu+(n.s?"NaN":"-Infinity"));return n.eq(vc)?new r(0):(na=!1,t=Xh(_S(n,s),_S(e,s),s),na=!0,ko(t,i))};xr.minus=xr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xde(t,e):bde(t,(e.s=-e.s,e))};xr.modulo=xr.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(iu+"NaN");return n.s?(na=!1,t=Xh(n,e,0,1).times(e),na=!0,n.minus(t)):ko(new r(n),i)};xr.naturalExponential=xr.exp=function(){return _de(this)};xr.naturalLogarithm=xr.ln=function(){return _S(this)};xr.negated=xr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};xr.plus=xr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bde(t,e):xde(t,(e.s=-e.s,e))};xr.precision=xr.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(kg+e);if(t=Ga(i)+1,r=i.d.length-1,n=r*Uo+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};xr.squareRoot=xr.sqrt=function(){var e,t,n,r,i,s,c,h=this,o=h.constructor;if(h.s<1){if(!h.s)return new o(0);throw Error(iu+"NaN")}for(e=Ga(h),na=!1,i=Math.sqrt(+h),i==0||i==1/0?(t=Zd(h.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=qb((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new o(t)):r=new o(i.toString()),n=o.precision,i=c=n+3;;)if(s=r,r=s.plus(Xh(h,s,c+2)).times(.5),Zd(s.d).slice(0,c)===(t=Zd(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(ko(s,n+1,0),s.times(s).eq(h)){r=s;break}}else if(t!="9999")break;c+=4}return na=!0,ko(r,n)};xr.times=xr.mul=function(e){var t,n,r,i,s,c,h,o,m,y=this,v=y.constructor,S=y.d,C=(e=new v(e)).d;if(!y.s||!e.s)return new v(0);for(e.s*=y.s,n=y.e+e.e,o=S.length,m=C.length,o<m&&(s=S,S=C,C=s,c=o,o=m,m=c),s=[],c=o+m,r=c;r--;)s.push(0);for(r=m;--r>=0;){for(t=0,i=o+r;i>r;)h=s[i]+C[r]*S[i-r-1]+t,s[i--]=h%ms|0,t=h/ms|0;s[i]=(s[i]+t)%ms|0}for(;!s[--c];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,na?ko(e,v.precision):e};xr.toDecimalPlaces=xr.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Qd(e,0,Kb),t===void 0?t=r.rounding:Qd(t,0,8),ko(n,e+Ga(n)+1,t))};xr.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Wg(r,!0):(Qd(e,0,Kb),t===void 0?t=i.rounding:Qd(t,0,8),r=ko(new i(r),e+1,t),n=Wg(r,!0,e+1)),n};xr.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?Wg(i):(Qd(e,0,Kb),t===void 0?t=s.rounding:Qd(t,0,8),r=ko(new s(i),e+Ga(i)+1,t),n=Wg(r.abs(),!1,e+Ga(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};xr.toInteger=xr.toint=function(){var e=this,t=e.constructor;return ko(new t(e),Ga(e)+1,t.rounding)};xr.toNumber=function(){return+this};xr.toPower=xr.pow=function(e){var t,n,r,i,s,c,h=this,o=h.constructor,m=12,y=+(e=new o(e));if(!e.s)return new o(vc);if(h=new o(h),!h.s){if(e.s<1)throw Error(iu+"Infinity");return h}if(h.eq(vc))return h;if(r=o.precision,e.eq(vc))return ko(h,r);if(t=e.e,n=e.d.length-1,c=t>=n,s=h.s,c){if((n=y<0?-y:y)<=vde){for(i=new o(vc),t=Math.ceil(r/Uo+4),na=!1;n%2&&(i=i.times(h),LY(i.d,t)),n=qb(n/2),n!==0;)h=h.times(h),LY(h.d,t);return na=!0,e.s<0?new o(vc).div(i):ko(i,r)}}else if(s<0)throw Error(iu+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,h.s=1,na=!1,i=e.times(_S(h,r+m)),na=!0,i=_de(i),i.s=s,i};xr.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=Ga(i),r=Wg(i,n<=s.toExpNeg||n>=s.toExpPos)):(Qd(e,1,Kb),t===void 0?t=s.rounding:Qd(t,0,8),i=ko(new s(i),e,t),n=Ga(i),r=Wg(i,e<=n||n<=s.toExpNeg,e)),r};xr.toSignificantDigits=xr.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Qd(e,1,Kb),t===void 0?t=r.rounding:Qd(t,0,8)),ko(new r(n),e,t)};xr.toString=xr.valueOf=xr.val=xr.toJSON=xr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ga(e),n=e.constructor;return Wg(e,t<=n.toExpNeg||t>=n.toExpPos)};function bde(e,t){var n,r,i,s,c,h,o,m,y=e.constructor,v=y.precision;if(!e.s||!t.s)return t.s||(t=new y(e)),na?ko(t,v):t;if(o=e.d,m=t.d,c=e.e,i=t.e,o=o.slice(),s=c-i,s){for(s<0?(r=o,s=-s,h=m.length):(r=m,i=c,h=o.length),c=Math.ceil(v/Uo),h=c>h?c+1:h+1,s>h&&(s=h,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(h=o.length,s=m.length,h-s<0&&(s=h,r=m,m=o,o=r),n=0;s;)n=(o[--s]=o[s]+m[s]+n)/ms|0,o[s]%=ms;for(n&&(o.unshift(n),++i),h=o.length;o[--h]==0;)o.pop();return t.d=o,t.e=i,na?ko(t,v):t}function Qd(e,t,n){if(e!==~~e||e<t||e>n)throw Error(kg+e)}function Zd(e){var t,n,r,i=e.length-1,s="",c=e[0];if(i>0){for(s+=c,t=1;t<i;t++)r=e[t]+"",n=Uo-r.length,n&&(s+=af(n)),s+=r;c=e[t],r=c+"",n=Uo-r.length,n&&(s+=af(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Xh=function(){function e(r,i){var s,c=0,h=r.length;for(r=r.slice();h--;)s=r[h]*i+c,r[h]=s%ms|0,c=s/ms|0;return c&&r.unshift(c),r}function t(r,i,s,c){var h,o;if(s!=c)o=s>c?1:-1;else for(h=o=0;h<s;h++)if(r[h]!=i[h]){o=r[h]>i[h]?1:-1;break}return o}function n(r,i,s){for(var c=0;s--;)r[s]-=c,c=r[s]<i[s]?1:0,r[s]=c*ms+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,c){var h,o,m,y,v,S,C,P,I,N,D,k,F,U,B,z,W,Y,K=r.constructor,ee=r.s==i.s?1:-1,re=r.d,oe=i.d;if(!r.s)return new K(r);if(!i.s)throw Error(iu+"Division by zero");for(o=r.e-i.e,W=oe.length,B=re.length,C=new K(ee),P=C.d=[],m=0;oe[m]==(re[m]||0);)++m;if(oe[m]>(re[m]||0)&&--o,s==null?k=s=K.precision:c?k=s+(Ga(r)-Ga(i))+1:k=s,k<0)return new K(0);if(k=k/Uo+2|0,m=0,W==1)for(y=0,oe=oe[0],k++;(m<B||y)&&k--;m++)F=y*ms+(re[m]||0),P[m]=F/oe|0,y=F%oe|0;else{for(y=ms/(oe[0]+1)|0,y>1&&(oe=e(oe,y),re=e(re,y),W=oe.length,B=re.length),U=W,I=re.slice(0,W),N=I.length;N<W;)I[N++]=0;Y=oe.slice(),Y.unshift(0),z=oe[0],oe[1]>=ms/2&&++z;do y=0,h=t(oe,I,W,N),h<0?(D=I[0],W!=N&&(D=D*ms+(I[1]||0)),y=D/z|0,y>1?(y>=ms&&(y=ms-1),v=e(oe,y),S=v.length,N=I.length,h=t(v,I,S,N),h==1&&(y--,n(v,W<S?Y:oe,S))):(y==0&&(h=y=1),v=oe.slice()),S=v.length,S<N&&v.unshift(0),n(I,v,N),h==-1&&(N=I.length,h=t(oe,I,W,N),h<1&&(y++,n(I,W<N?Y:oe,N))),N=I.length):h===0&&(y++,I=[0]),P[m++]=y,h&&I[0]?I[N++]=re[U]||0:(I=[re[U]],N=1);while((U++<B||I[0]!==void 0)&&k--)}return P[0]||P.shift(),C.e=o,ko(C,c?s+Ga(C)+1:s)}}();function _de(e,t){var n,r,i,s,c,h,o=0,m=0,y=e.constructor,v=y.precision;if(Ga(e)>16)throw Error(pF+Ga(e));if(!e.s)return new y(vc);for(na=!1,h=v,c=new y(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(r=Math.log(og(2,m))/Math.LN10*2+5|0,h+=r,n=i=s=new y(vc),y.precision=h;;){if(i=ko(i.times(e),h),n=n.times(++o),c=s.plus(Xh(i,n,h)),Zd(c.d).slice(0,h)===Zd(s.d).slice(0,h)){for(;m--;)s=ko(s.times(s),h);return y.precision=v,t==null?(na=!0,ko(s,v)):s}s=c}}function Ga(e){for(var t=e.e*Uo,n=e.d[0];n>=10;n/=10)t++;return t}function tk(e,t,n){if(t>e.LN10.sd())throw na=!0,n&&(e.precision=n),Error(iu+"LN10 precision limit exceeded");return ko(new e(e.LN10),t)}function af(e){for(var t="";e--;)t+="0";return t}function _S(e,t){var n,r,i,s,c,h,o,m,y,v=1,S=10,C=e,P=C.d,I=C.constructor,N=I.precision;if(C.s<1)throw Error(iu+(C.s?"NaN":"-Infinity"));if(C.eq(vc))return new I(0);if(t==null?(na=!1,m=N):m=t,C.eq(10))return t==null&&(na=!0),tk(I,m);if(m+=S,I.precision=m,n=Zd(P),r=n.charAt(0),s=Ga(C),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)C=C.times(e),n=Zd(C.d),r=n.charAt(0),v++;s=Ga(C),r>1?(C=new I("0."+n),s++):C=new I(r+"."+n.slice(1))}else return o=tk(I,m+2,N).times(s+""),C=_S(new I(r+"."+n.slice(1)),m-S).plus(o),I.precision=N,t==null?(na=!0,ko(C,N)):C;for(h=c=C=Xh(C.minus(vc),C.plus(vc),m),y=ko(C.times(C),m),i=3;;){if(c=ko(c.times(y),m),o=h.plus(Xh(c,new I(i),m)),Zd(o.d).slice(0,m)===Zd(h.d).slice(0,m))return h=h.times(2),s!==0&&(h=h.plus(tk(I,m+2,N).times(s+""))),h=Xh(h,new I(v),m),I.precision=N,t==null?(na=!0,ko(h,N)):h;h=o,i+=2}}function DY(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=qb(n/Uo),e.d=[],r=(n+1)%Uo,n<0&&(r+=Uo),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Uo;r<i;)e.d.push(+t.slice(r,r+=Uo));t=t.slice(r),r=Uo-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),na&&(e.e>tP||e.e<-tP))throw Error(pF+n)}else e.s=0,e.e=0,e.d=[0];return e}function ko(e,t,n){var r,i,s,c,h,o,m,y,v=e.d;for(c=1,s=v[0];s>=10;s/=10)c++;if(r=t-c,r<0)r+=Uo,i=t,m=v[y=0];else{if(y=Math.ceil((r+1)/Uo),s=v.length,y>=s)return e;for(m=s=v[y],c=1;s>=10;s/=10)c++;r%=Uo,i=r-Uo+c}if(n!==void 0&&(s=og(10,c-i-1),h=m/s%10|0,o=t<0||v[y+1]!==void 0||m%s,o=n<4?(h||o)&&(n==0||n==(e.s<0?3:2)):h>5||h==5&&(n==4||o||n==6&&(r>0?i>0?m/og(10,c-i):0:v[y-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return o?(s=Ga(e),v.length=1,t=t-s-1,v[0]=og(10,(Uo-t%Uo)%Uo),e.e=qb(-t/Uo)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(r==0?(v.length=y,s=1,y--):(v.length=y+1,s=og(10,Uo-r),v[y]=i>0?(m/og(10,c-i)%og(10,i)|0)*s:0),o)for(;;)if(y==0){(v[0]+=s)==ms&&(v[0]=1,++e.e);break}else{if(v[y]+=s,v[y]!=ms)break;v[y--]=0,s=1}for(r=v.length;v[--r]===0;)v.pop();if(na&&(e.e>tP||e.e<-tP))throw Error(pF+Ga(e));return e}function xde(e,t){var n,r,i,s,c,h,o,m,y,v,S=e.constructor,C=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),na?ko(t,C):t;if(o=e.d,v=t.d,r=t.e,m=e.e,o=o.slice(),c=m-r,c){for(y=c<0,y?(n=o,c=-c,h=v.length):(n=v,r=m,h=o.length),i=Math.max(Math.ceil(C/Uo),h)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=o.length,h=v.length,y=i<h,y&&(h=i),i=0;i<h;i++)if(o[i]!=v[i]){y=o[i]<v[i];break}c=0}for(y&&(n=o,o=v,v=n,t.s=-t.s),h=o.length,i=v.length-h;i>0;--i)o[h++]=0;for(i=v.length;i>c;){if(o[--i]<v[i]){for(s=i;s&&o[--s]===0;)o[s]=ms-1;--o[s],o[i]+=ms}o[i]-=v[i]}for(;o[--h]===0;)o.pop();for(;o[0]===0;o.shift())--r;return o[0]?(t.d=o,t.e=r,na?ko(t,C):t):new S(0)}function Wg(e,t,n){var r,i=Ga(e),s=Zd(e.d),c=s.length;return t?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+af(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+af(-i-1)+s,n&&(r=n-c)>0&&(s+=af(r))):i>=c?(s+=af(i+1-c),n&&(r=n-i-1)>0&&(s=s+"."+af(r))):((r=i+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(i+1===c&&(s+="."),s+=af(r))),e.s<0?"-"+s:s}function LY(e,t){if(e.length>t)return e.length=t,!0}function wde(e){var t,n,r;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(kg+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return DY(c,s.toString())}else if(typeof s!="string")throw Error(kg+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,Uat.test(s))DY(c,s);else throw Error(kg+s)}if(i.prototype=xr,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=wde,i.config=i.set=Hat,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Hat(e){if(!e||typeof e!="object")throw Error(iu+"Object expected");var t,n,r,i=["precision",1,Kb,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(qb(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(kg+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(kg+n+": "+r);return this}var fF=wde(Zat);vc=new fF(1);const Eo=fF;function Vat(e){return qat(e)||Kat(e)||Gat(e)||Wat()}function Wat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gat(e,t){if(e){if(typeof e=="string")return ER(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ER(e,t)}}function Kat(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qat(e){if(Array.isArray(e))return ER(e)}function ER(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xat=function(t){return t},Sde={},Ade=function(t){return t===Sde},FY=function(t){return function n(){return arguments.length===0||arguments.length===1&&Ade(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Yat=function e(t,n){return t===1?n:FY(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var c=i.filter(function(h){return h!==Sde}).length;return c>=t?n.apply(void 0,i):e(t-c,FY(function(){for(var h=arguments.length,o=new Array(h),m=0;m<h;m++)o[m]=arguments[m];var y=i.map(function(v){return Ade(v)?o.shift():v});return n.apply(void 0,Vat(y).concat(o))}))})},A4=function(t){return Yat(t.length,t)},TR=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},Jat=A4(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Qat=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Xat;var i=n.reverse(),s=i[0],c=i.slice(1);return function(){return c.reduce(function(h,o){return o(h)},s.apply(void 0,arguments))}},PR=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Cde=function(t){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return n&&s.every(function(h,o){return h===n[o]})||(n=s,r=t.apply(void 0,s)),r}};function est(e){var t;return e===0?t=1:t=Math.floor(new Eo(e).abs().log(10).toNumber())+1,t}function tst(e,t,n){for(var r=new Eo(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var nst=A4(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),rst=A4(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),ist=A4(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const C4={rangeStep:tst,getDigitCount:est,interpolateNumber:nst,uninterpolateNumber:rst,uninterpolateTruncation:ist};function IR(e){return sst(e)||ast(e)||Mde(e)||ost()}function ost(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ast(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function sst(e){if(Array.isArray(e))return OR(e)}function xS(e,t){return ust(e)||cst(e,t)||Mde(e,t)||lst()}function lst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mde(e,t){if(e){if(typeof e=="string")return OR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OR(e,t)}}function OR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cst(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,s=void 0;try{for(var c=e[Symbol.iterator](),h;!(r=(h=c.next()).done)&&(n.push(h.value),!(t&&n.length===t));r=!0);}catch(o){i=!0,s=o}finally{try{!r&&c.return!=null&&c.return()}finally{if(i)throw s}}return n}}function ust(e){if(Array.isArray(e))return e}function Ede(e){var t=xS(e,2),n=t[0],r=t[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function Tde(e,t,n){if(e.lte(0))return new Eo(0);var r=C4.getDigitCount(e.toNumber()),i=new Eo(10).pow(r),s=e.div(i),c=r!==1?.05:.1,h=new Eo(Math.ceil(s.div(c).toNumber())).add(n).mul(c),o=h.mul(i);return t?o:new Eo(Math.ceil(o))}function dst(e,t,n){var r=1,i=new Eo(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new Eo(10).pow(C4.getDigitCount(e)-1),i=new Eo(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Eo(Math.floor(e)))}else e===0?i=new Eo(Math.floor((t-1)/2)):n||(i=new Eo(Math.floor(e)));var c=Math.floor((t-1)/2),h=Qat(Jat(function(o){return i.add(new Eo(o-c).mul(r)).toNumber()}),TR);return h(0,t)}function Pde(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Eo(0),tickMin:new Eo(0),tickMax:new Eo(0)};var s=Tde(new Eo(t).sub(e).div(n-1),r,i),c;e<=0&&t>=0?c=new Eo(0):(c=new Eo(e).add(t).div(2),c=c.sub(new Eo(c).mod(s)));var h=Math.ceil(c.sub(e).div(s).toNumber()),o=Math.ceil(new Eo(t).sub(c).div(s).toNumber()),m=h+o+1;return m>n?Pde(e,t,n,r,i+1):(m<n&&(o=t>0?o+(n-m):o,h=t>0?h:h+(n-m)),{step:s,tickMin:c.sub(new Eo(h).mul(s)),tickMax:c.add(new Eo(o).mul(s))})}function hst(e){var t=xS(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),h=Ede([n,r]),o=xS(h,2),m=o[0],y=o[1];if(m===-1/0||y===1/0){var v=y===1/0?[m].concat(IR(TR(0,i-1).map(function(){return 1/0}))):[].concat(IR(TR(0,i-1).map(function(){return-1/0})),[y]);return n>r?PR(v):v}if(m===y)return dst(m,i,s);var S=Pde(m,y,c,s),C=S.step,P=S.tickMin,I=S.tickMax,N=C4.rangeStep(P,I.add(new Eo(.1).mul(C)),C);return n>r?PR(N):N}function pst(e,t){var n=xS(e,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Ede([r,i]),h=xS(c,2),o=h[0],m=h[1];if(o===-1/0||m===1/0)return[r,i];if(o===m)return[o];var y=Math.max(t,2),v=Tde(new Eo(m).sub(o).div(y-1),s,0),S=[].concat(IR(C4.rangeStep(new Eo(o),new Eo(m).sub(new Eo(.99).mul(v)),v)),[m]);return r>i?PR(S):S}var fst=Cde(hst),mst=Cde(pst),gst="Invariant failed";function Gg(e,t){throw new Error(gst)}var yst=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function rb(e){"@babel/helpers - typeof";return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rb(e)}function nP(){return nP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nP.apply(this,arguments)}function vst(e,t){return wst(e)||xst(e,t)||_st(e,t)||bst()}function bst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _st(e,t){if(e){if(typeof e=="string")return $Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $Y(e,t)}}function $Y(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xst(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,c,h=[],o=!0,m=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(o=(r=s.call(n)).done)&&(h.push(r.value),h.length!==t);o=!0);}catch(y){m=!0,i=y}finally{try{if(!o&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw i}}return h}}function wst(e){if(Array.isArray(e))return e}function Sst(e,t){if(e==null)return{};var n=Ast(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ast(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Cst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mst(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kde(r.key),r)}}function Est(e,t,n){return t&&Mst(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tst(e,t,n){return t=rP(t),Pst(e,Ide()?Reflect.construct(t,n||[],rP(e).constructor):t.apply(e,n))}function Pst(e,t){if(t&&(rb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ist(e)}function Ist(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ide(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ide=function(){return!!e})()}function rP(e){return rP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rP(e)}function Ost(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kR(e,t)}function kR(e,t){return kR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kR(e,t)}function Ode(e,t,n){return t=kde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kde(e){var t=kst(e,"string");return rb(t)=="symbol"?t:t+""}function kst(e,t){if(rb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MA=function(e){function t(){return Cst(this,t),Tst(this,t,arguments)}return Ost(t,e),Est(t,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,c=r.width,h=r.dataKey,o=r.data,m=r.dataPointFormatter,y=r.xAxis,v=r.yAxis,S=Sst(r,yst),C=Xi(S,!1);this.props.direction==="x"&&y.type!=="number"&&Gg();var P=o.map(function(I){var N=m(I,h),D=N.x,k=N.y,F=N.value,U=N.errorVal;if(!U)return null;var B=[],z,W;if(Array.isArray(U)){var Y=vst(U,2);z=Y[0],W=Y[1]}else z=W=U;if(s==="vertical"){var K=y.scale,ee=k+i,re=ee+c,oe=ee-c,he=K(F-z),be=K(F+W);B.push({x1:be,y1:re,x2:be,y2:oe}),B.push({x1:he,y1:ee,x2:be,y2:ee}),B.push({x1:he,y1:re,x2:he,y2:oe})}else if(s==="horizontal"){var le=v.scale,ye=D+i,fe=ye-c,ue=ye+c,xe=le(F-z),ae=le(F+W);B.push({x1:fe,y1:ae,x2:ue,y2:ae}),B.push({x1:ye,y1:xe,x2:ye,y2:ae}),B.push({x1:fe,y1:xe,x2:ue,y2:xe})}return Oe.createElement(ka,nP({className:"recharts-errorBar",key:"bar-".concat(B.map(function(Ee){return"".concat(Ee.x1,"-").concat(Ee.x2,"-").concat(Ee.y1,"-").concat(Ee.y2)}))},C),B.map(function(Ee){return Oe.createElement("line",nP({},Ee,{key:"line-".concat(Ee.x1,"-").concat(Ee.x2,"-").concat(Ee.y1,"-").concat(Ee.y2)}))}))});return Oe.createElement(ka,{className:"recharts-errorBars"},P)}}])}(Oe.Component);Ode(MA,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Ode(MA,"displayName","ErrorBar");function wS(e){"@babel/helpers - typeof";return wS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wS(e)}function jY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jY(Object(n),!0).forEach(function(r){Nst(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jY(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nst(e,t,n){return t=Rst(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rst(e){var t=Dst(e,"string");return wS(t)=="symbol"?t:t+""}function Dst(e,t){if(wS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nde=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,c=mc(n,Kd);if(!c)return null;var h=Kd.defaultProps,o=h!==void 0?Jm(Jm({},h),c.props):{},m;return c.props&&c.props.payload?m=c.props&&c.props.payload:s==="children"?m=(r||[]).reduce(function(y,v){var S=v.item,C=v.props,P=C.sectors||C.data||[];return y.concat(P.map(function(I){return{type:c.props.iconType||S.props.legendType,value:I.name,color:I.fill,payload:I}}))},[]):m=(r||[]).map(function(y){var v=y.item,S=v.type.defaultProps,C=S!==void 0?Jm(Jm({},S),v.props):{},P=C.dataKey,I=C.name,N=C.legendType,D=C.hide;return{inactive:D,dataKey:P,type:o.iconType||N||"square",color:mF(v),value:I||P,payload:C}}),Jm(Jm(Jm({},o),Kd.getWithHeight(c,i)),{},{payload:m,item:c})};function SS(e){"@babel/helpers - typeof";return SS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SS(e)}function zY(e){return jst(e)||$st(e)||Fst(e)||Lst()}function Lst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fst(e,t){if(e){if(typeof e=="string")return NR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NR(e,t)}}function $st(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jst(e){if(Array.isArray(e))return NR(e)}function NR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BY(Object(n),!0).forEach(function(r){x0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BY(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x0(e,t,n){return t=zst(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zst(e){var t=Bst(e,"string");return SS(t)=="symbol"?t:t+""}function Bst(e,t){if(SS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(SS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oc(e,t,n){return zi(e)||zi(t)?n:ts(t)?Qc(e,t,n):$i(t)?t(e):n}function hw(e,t,n,r){var i=$at(e,function(h){return Oc(h,t)});if(n==="number"){var s=i.filter(function(h){return yr(h)||parseFloat(h)});return s.length?[w4(s),x4(s)]:[1/0,-1/0]}var c=r?i.filter(function(h){return!zi(h)}):i;return c.map(function(h){return ts(h)||h instanceof Date?h:""})}var Zst=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=-1,h=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(h<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var o=s.range,m=0;m<h;m++){var y=m>0?i[m-1].coordinate:i[h-1].coordinate,v=i[m].coordinate,S=m>=h-1?i[0].coordinate:i[m+1].coordinate,C=void 0;if(Zu(v-y)!==Zu(S-v)){var P=[];if(Zu(S-v)===Zu(o[1]-o[0])){C=S;var I=v+o[1]-o[0];P[0]=Math.min(I,(I+y)/2),P[1]=Math.max(I,(I+y)/2)}else{C=y;var N=S+o[1]-o[0];P[0]=Math.min(v,(N+v)/2),P[1]=Math.max(v,(N+v)/2)}var D=[Math.min(v,(C+v)/2),Math.max(v,(C+v)/2)];if(t>D[0]&&t<=D[1]||t>=P[0]&&t<=P[1]){c=i[m].index;break}}else{var k=Math.min(y,S),F=Math.max(y,S);if(t>(k+v)/2&&t<=(F+v)/2){c=i[m].index;break}}}else for(var U=0;U<h;U++)if(U===0&&t<=(r[U].coordinate+r[U+1].coordinate)/2||U>0&&U<h-1&&t>(r[U].coordinate+r[U-1].coordinate)/2&&t<=(r[U].coordinate+r[U+1].coordinate)/2||U===h-1&&t>(r[U].coordinate+r[U-1].coordinate)/2){c=r[U].index;break}return c},mF=function(t){var n,r=t,i=r.type.displayName,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ba(ba({},t.type.defaultProps),t.props):t.props,c=s.stroke,h=s.fill,o;switch(i){case"Line":o=c;break;case"Area":case"Radar":o=c&&c!=="none"?c:h;break;default:o=h;break}return o},Ust=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var c={},h=Object.keys(s),o=0,m=h.length;o<m;o++)for(var y=s[h[o]].stackGroups,v=Object.keys(y),S=0,C=v.length;S<C;S++){var P=y[v[S]],I=P.items,N=P.cateAxisId,D=I.filter(function(W){return qh(W.type).indexOf("Bar")>=0});if(D&&D.length){var k=D[0].type.defaultProps,F=k!==void 0?ba(ba({},k),D[0].props):D[0].props,U=F.barSize,B=F[N];c[B]||(c[B]=[]);var z=zi(U)?n:U;c[B].push({item:D[0],stackList:D.slice(1),barSize:zi(z)?void 0:Vg(z,r,0)})}}return c},Hst=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,s=t.sizeList,c=s===void 0?[]:s,h=t.maxBarSize,o=c.length;if(o<1)return null;var m=Vg(n,i,0,!0),y,v=[];if(c[0].barSize===+c[0].barSize){var S=!1,C=i/o,P=c.reduce(function(U,B){return U+B.barSize||0},0);P+=(o-1)*m,P>=i&&(P-=(o-1)*m,m=0),P>=i&&C>0&&(S=!0,C*=.9,P=o*C);var I=(i-P)/2>>0,N={offset:I-m,size:0};y=c.reduce(function(U,B){var z={item:B.item,position:{offset:N.offset+N.size+m,size:S?C:B.barSize}},W=[].concat(zY(U),[z]);return N=W[W.length-1].position,B.stackList&&B.stackList.length&&B.stackList.forEach(function(Y){W.push({item:Y,position:N})}),W},v)}else{var D=Vg(r,i,0,!0);i-2*D-(o-1)*m<=0&&(m=0);var k=(i-2*D-(o-1)*m)/o;k>1&&(k>>=0);var F=h===+h?Math.min(k,h):k;y=c.reduce(function(U,B,z){var W=[].concat(zY(U),[{item:B.item,position:{offset:D+(k+m)*z+(k-F)/2,size:F}}]);return B.stackList&&B.stackList.length&&B.stackList.forEach(function(Y){W.push({item:Y,position:W[W.length-1].position})}),W},v)}return y},Vst=function(t,n,r,i){var s=r.children,c=r.width,h=r.margin,o=c-(h.left||0)-(h.right||0),m=Nde({children:s,legendWidth:o});if(m){var y=i||{},v=y.width,S=y.height,C=m.align,P=m.verticalAlign,I=m.layout;if((I==="vertical"||I==="horizontal"&&P==="middle")&&C!=="center"&&yr(t[C]))return ba(ba({},t),{},x0({},C,t[C]+(v||0)));if((I==="horizontal"||I==="vertical"&&C==="center")&&P!=="middle"&&yr(t[P]))return ba(ba({},t),{},x0({},P,t[P]+(S||0)))}return t},Wst=function(t,n,r){return zi(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Rde=function(t,n,r,i,s){var c=n.props.children,h=eu(c,MA).filter(function(m){return Wst(i,s,m.props.direction)});if(h&&h.length){var o=h.map(function(m){return m.props.dataKey});return t.reduce(function(m,y){var v=Oc(y,r);if(zi(v))return m;var S=Array.isArray(v)?[w4(v),x4(v)]:[v,v],C=o.reduce(function(P,I){var N=Oc(y,I,0),D=S[0]-Math.abs(Array.isArray(N)?N[0]:N),k=S[1]+Math.abs(Array.isArray(N)?N[1]:N);return[Math.min(D,P[0]),Math.max(k,P[1])]},[1/0,-1/0]);return[Math.min(C[0],m[0]),Math.max(C[1],m[1])]},[1/0,-1/0])}return null},Gst=function(t,n,r,i,s){var c=n.map(function(h){return Rde(t,h,r,s,i)}).filter(function(h){return!zi(h)});return c&&c.length?c.reduce(function(h,o){return[Math.min(h[0],o[0]),Math.max(h[1],o[1])]},[1/0,-1/0]):null},Dde=function(t,n,r,i,s){var c=n.map(function(o){var m=o.props.dataKey;return r==="number"&&m&&Rde(t,o,m,i)||hw(t,m,r,s)});if(r==="number")return c.reduce(function(o,m){return[Math.min(o[0],m[0]),Math.max(o[1],m[1])]},[1/0,-1/0]);var h={};return c.reduce(function(o,m){for(var y=0,v=m.length;y<v;y++)h[m[y]]||(h[m[y]]=!0,o.push(m[y]));return o},[])},Lde=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},xg=function(t,n,r){if(!t)return null;var i=t.scale,s=t.duplicateDomain,c=t.type,h=t.range,o=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,m=(n||r)&&c==="category"&&i.bandwidth?i.bandwidth()/o:0;if(m=t.axisType==="angleAxis"&&(h==null?void 0:h.length)>=2?Zu(h[0]-h[1])*2*m:m,n&&(t.ticks||t.niceTicks)){var y=(t.ticks||t.niceTicks).map(function(v){var S=s?s.indexOf(v):v;return{coordinate:i(S)+m,value:v,offset:m}});return y.filter(function(v){return!_A(v.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(v,S){return{coordinate:i(v)+m,value:v,index:S,offset:m}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(v){return{coordinate:i(v)+m,value:v,offset:m}}):i.domain().map(function(v,S){return{coordinate:i(v)+m,value:s?s[v]:v,index:S,offset:m}})},nk=new WeakMap,SM=function(t,n){if(typeof n!="function")return t;nk.has(t)||nk.set(t,new WeakMap);var r=nk.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Kst=function(t,n,r){var i=t.scale,s=t.type,c=t.layout,h=t.axisType;if(i==="auto")return c==="radial"&&h==="radiusAxis"?{scale:mS(),realScaleType:"band"}:c==="radial"&&h==="angleAxis"?{scale:YT(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:dw(),realScaleType:"point"}:s==="category"?{scale:mS(),realScaleType:"band"}:{scale:YT(),realScaleType:"linear"};if(bA(i)){var o="scale".concat(l4(i));return{scale:(RY[o]||dw)(),realScaleType:RY[o]?o:"point"}}return $i(i)?{scale:i}:{scale:dw(),realScaleType:"point"}},ZY=1e-4,qst=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),s=Math.min(i[0],i[1])-ZY,c=Math.max(i[0],i[1])+ZY,h=t(n[0]),o=t(n[r-1]);(h<s||h>c||o<s||o>c)&&t.domain([n[0],n[r-1]])}},Xst=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},Yst=function(t,n){if(!n||n.length!==2||!yr(n[0])||!yr(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[t[0],t[1]];return(!yr(t[0])||t[0]<r)&&(s[0]=r),(!yr(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},Jst=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var s=0,c=0,h=0;h<n;++h){var o=_A(t[h][r][1])?t[h][r][0]:t[h][r][1];o>=0?(t[h][r][0]=s,t[h][r][1]=s+o,s=t[h][r][1]):(t[h][r][0]=c,t[h][r][1]=c+o,c=t[h][r][1])}},Qst=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var s=0,c=0;c<n;++c){var h=_A(t[c][r][1])?t[c][r][0]:t[c][r][1];h>=0?(t[c][r][0]=s,t[c][r][1]=s+h,s=t[c][r][1]):(t[c][r][0]=0,t[c][r][1]=0)}},elt={sign:Jst,expand:hKe,none:q0,silhouette:pKe,wiggle:fKe,positive:Qst},tlt=function(t,n,r){var i=n.map(function(h){return h.props.dataKey}),s=elt[r],c=dKe().keys(i).value(function(h,o){return+Oc(h,o,0)}).order(iR).offset(s);return c(t)},nlt=function(t,n,r,i,s,c){if(!t)return null;var h=c?n.reverse():n,o={},m=h.reduce(function(v,S){var C,P=(C=S.type)!==null&&C!==void 0&&C.defaultProps?ba(ba({},S.type.defaultProps),S.props):S.props,I=P.stackId,N=P.hide;if(N)return v;var D=P[r],k=v[D]||{hasStack:!1,stackGroups:{}};if(ts(I)){var F=k.stackGroups[I]||{numericAxisId:r,cateAxisId:i,items:[]};F.items.push(S),k.hasStack=!0,k.stackGroups[I]=F}else k.stackGroups[xA("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[S]};return ba(ba({},v),{},x0({},D,k))},o),y={};return Object.keys(m).reduce(function(v,S){var C=m[S];if(C.hasStack){var P={};C.stackGroups=Object.keys(C.stackGroups).reduce(function(I,N){var D=C.stackGroups[N];return ba(ba({},I),{},x0({},N,{numericAxisId:r,cateAxisId:i,items:D.items,stackedData:tlt(t,D.items,s)}))},P)}return ba(ba({},v),{},x0({},S,C))},y)},rlt=function(t,n){var r=n.realScaleType,i=n.type,s=n.tickCount,c=n.originalDomain,h=n.allowDecimals,o=r||n.scale;if(o!=="auto"&&o!=="linear")return null;if(s&&i==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var m=t.domain();if(!m.length)return null;var y=fst(m,s,h);return t.domain([w4(y),x4(y)]),{niceTicks:y}}if(s&&i==="number"){var v=t.domain(),S=mst(v,s,h);return{niceTicks:S}}return null};function UY(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,s=e.index,c=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!zi(i[t.dataKey])){var h=TT(n,"value",i[t.dataKey]);if(h)return h.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var o=Oc(i,zi(c)?t.dataKey:c);return zi(o)?null:t.scale(o)}var HY=function(t){var n=t.axis,r=t.ticks,i=t.offset,s=t.bandSize,c=t.entry,h=t.index;if(n.type==="category")return r[h]?r[h].coordinate+i:null;var o=Oc(c,n.dataKey,n.domain[h]);return zi(o)?null:n.scale(o)-s/2+i},ilt=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},olt=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ba(ba({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(ts(s)){var c=n[s];if(c){var h=c.items.indexOf(t);return h>=0?c.stackedData[h]:null}}return null},alt=function(t){return t.reduce(function(n,r){return[w4(r.concat([n[0]]).filter(yr)),x4(r.concat([n[1]]).filter(yr))]},[1/0,-1/0])},Fde=function(t,n,r){return Object.keys(t).reduce(function(i,s){var c=t[s],h=c.stackedData,o=h.reduce(function(m,y){var v=alt(y.slice(n,r+1));return[Math.min(m[0],v[0]),Math.max(m[1],v[1])]},[1/0,-1/0]);return[Math.min(o[0],i[0]),Math.max(o[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},VY=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WY=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RR=function(t,n,r){if($i(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(yr(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(VY.test(t[0])){var s=+VY.exec(t[0])[1];i[0]=n[0]-s}else $i(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(yr(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(WY.test(t[1])){var c=+WY.exec(t[1])[1];i[1]=n[1]+c}else $i(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},iP=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var s=U9(n,function(v){return v.coordinate}),c=1/0,h=1,o=s.length;h<o;h++){var m=s[h],y=s[h-1];c=Math.min((m.coordinate||0)-(y.coordinate||0),c)}return c===1/0?0:c}return r?void 0:0},GY=function(t,n,r){return!t||!t.length||S4(t,Qc(r,"type.defaultProps.domain"))?n:t},$de=function(t,n){var r=t.type.defaultProps?ba(ba({},t.type.defaultProps),t.props):t.props,i=r.dataKey,s=r.name,c=r.unit,h=r.formatter,o=r.tooltipType,m=r.chartType,y=r.hide;return ba(ba({},Xi(t,!1)),{},{dataKey:i,unit:c,formatter:h,name:s||i,color:mF(t),value:Oc(n,i),type:o,payload:n,chartType:m,hide:y})};function AS(e){"@babel/helpers - typeof";return AS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AS(e)}function KY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KY(Object(n),!0).forEach(function(r){slt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KY(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function slt(e,t,n){return t=llt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function llt(e){var t=clt(e,"string");return AS(t)=="symbol"?t:t+""}function clt(e,t){if(AS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(AS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oP=Math.PI/180,ult=function(t){return t*180/Math.PI},Is=function(t,n,r,i){return{x:t+Math.cos(-oP*i)*r,y:n+Math.sin(-oP*i)*r}},dlt=function(t,n){var r=t.x,i=t.y,s=n.x,c=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-c,2))},hlt=function(t,n){var r=t.x,i=t.y,s=n.cx,c=n.cy,h=dlt({x:r,y:i},{x:s,y:c});if(h<=0)return{radius:h};var o=(r-s)/h,m=Math.acos(o);return i>c&&(m=2*Math.PI-m),{radius:h,angle:ult(m),angleInRadian:m}},plt=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(i,s);return{startAngle:n-c*360,endAngle:r-c*360}},flt=function(t,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),c=Math.floor(i/360),h=Math.min(s,c);return t+h*360},XY=function(t,n){var r=t.x,i=t.y,s=hlt({x:r,y:i},n),c=s.radius,h=s.angle,o=n.innerRadius,m=n.outerRadius;if(c<o||c>m)return!1;if(c===0)return!0;var y=plt(n),v=y.startAngle,S=y.endAngle,C=h,P;if(v<=S){for(;C>S;)C-=360;for(;C<v;)C+=360;P=C>=v&&C<=S}else{for(;C>v;)C-=360;for(;C<S;)C+=360;P=C>=S&&C<=v}return P?qY(qY({},n),{},{radius:c,angle:flt(C,n)}):null};function CS(e){"@babel/helpers - typeof";return CS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CS(e)}var mlt=["offset"];function glt(e){return _lt(e)||blt(e)||vlt(e)||ylt()}function ylt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vlt(e,t){if(e){if(typeof e=="string")return DR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DR(e,t)}}function blt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _lt(e){if(Array.isArray(e))return DR(e)}function DR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xlt(e,t){if(e==null)return{};var n=wlt(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wlt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function YY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YY(Object(n),!0).forEach(function(r){Slt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YY(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Slt(e,t,n){return t=Alt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Alt(e){var t=Clt(e,"string");return CS(t)=="symbol"?t:t+""}function Clt(e,t){if(CS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(CS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MS.apply(this,arguments)}var Mlt=function(t){var n=t.value,r=t.formatter,i=zi(t.children)?n:t.children;return $i(r)?r(i):i},Elt=function(t,n){var r=Zu(n-t),i=Math.min(Math.abs(n-t),360);return r*i},Tlt=function(t,n,r){var i=t.position,s=t.viewBox,c=t.offset,h=t.className,o=s,m=o.cx,y=o.cy,v=o.innerRadius,S=o.outerRadius,C=o.startAngle,P=o.endAngle,I=o.clockWise,N=(v+S)/2,D=Elt(C,P),k=D>=0?1:-1,F,U;i==="insideStart"?(F=C+k*c,U=I):i==="insideEnd"?(F=P-k*c,U=!I):i==="end"&&(F=P+k*c,U=I),U=D<=0?U:!U;var B=Is(m,y,N,F),z=Is(m,y,N,F+(U?1:-1)*359),W="M".concat(B.x,",").concat(B.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(U?0:1,`,
    `).concat(z.x,",").concat(z.y),Y=zi(t.id)?xA("recharts-radial-line-"):t.id;return Oe.createElement("text",MS({},r,{dominantBaseline:"central",className:no("recharts-radial-bar-label",h)}),Oe.createElement("defs",null,Oe.createElement("path",{id:Y,d:W})),Oe.createElement("textPath",{xlinkHref:"#".concat(Y)},n))},Plt=function(t){var n=t.viewBox,r=t.offset,i=t.position,s=n,c=s.cx,h=s.cy,o=s.innerRadius,m=s.outerRadius,y=s.startAngle,v=s.endAngle,S=(y+v)/2;if(i==="outside"){var C=Is(c,h,m+r,S),P=C.x,I=C.y;return{x:P,y:I,textAnchor:P>=c?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:c,y:h,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:c,y:h,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:c,y:h,textAnchor:"middle",verticalAnchor:"end"};var N=(o+m)/2,D=Is(c,h,N,S),k=D.x,F=D.y;return{x:k,y:F,textAnchor:"middle",verticalAnchor:"middle"}},Ilt=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,s=t.position,c=n,h=c.x,o=c.y,m=c.width,y=c.height,v=y>=0?1:-1,S=v*i,C=v>0?"end":"start",P=v>0?"start":"end",I=m>=0?1:-1,N=I*i,D=I>0?"end":"start",k=I>0?"start":"end";if(s==="top"){var F={x:h+m/2,y:o-v*i,textAnchor:"middle",verticalAnchor:C};return Ya(Ya({},F),r?{height:Math.max(o-r.y,0),width:m}:{})}if(s==="bottom"){var U={x:h+m/2,y:o+y+S,textAnchor:"middle",verticalAnchor:P};return Ya(Ya({},U),r?{height:Math.max(r.y+r.height-(o+y),0),width:m}:{})}if(s==="left"){var B={x:h-N,y:o+y/2,textAnchor:D,verticalAnchor:"middle"};return Ya(Ya({},B),r?{width:Math.max(B.x-r.x,0),height:y}:{})}if(s==="right"){var z={x:h+m+N,y:o+y/2,textAnchor:k,verticalAnchor:"middle"};return Ya(Ya({},z),r?{width:Math.max(r.x+r.width-z.x,0),height:y}:{})}var W=r?{width:m,height:y}:{};return s==="insideLeft"?Ya({x:h+N,y:o+y/2,textAnchor:k,verticalAnchor:"middle"},W):s==="insideRight"?Ya({x:h+m-N,y:o+y/2,textAnchor:D,verticalAnchor:"middle"},W):s==="insideTop"?Ya({x:h+m/2,y:o+S,textAnchor:"middle",verticalAnchor:P},W):s==="insideBottom"?Ya({x:h+m/2,y:o+y-S,textAnchor:"middle",verticalAnchor:C},W):s==="insideTopLeft"?Ya({x:h+N,y:o+S,textAnchor:k,verticalAnchor:P},W):s==="insideTopRight"?Ya({x:h+m-N,y:o+S,textAnchor:D,verticalAnchor:P},W):s==="insideBottomLeft"?Ya({x:h+N,y:o+y-S,textAnchor:k,verticalAnchor:C},W):s==="insideBottomRight"?Ya({x:h+m-N,y:o+y-S,textAnchor:D,verticalAnchor:C},W):Fb(s)&&(yr(s.x)||vg(s.x))&&(yr(s.y)||vg(s.y))?Ya({x:h+Vg(s.x,m),y:o+Vg(s.y,y),textAnchor:"end",verticalAnchor:"end"},W):Ya({x:h+m/2,y:o+y/2,textAnchor:"middle",verticalAnchor:"middle"},W)},Olt=function(t){return"cx"in t&&yr(t.cx)};function Ks(e){var t=e.offset,n=t===void 0?5:t,r=xlt(e,mlt),i=Ya({offset:n},r),s=i.viewBox,c=i.position,h=i.value,o=i.children,m=i.content,y=i.className,v=y===void 0?"":y,S=i.textBreakAll;if(!s||zi(h)&&zi(o)&&!A.isValidElement(m)&&!$i(m))return null;if(A.isValidElement(m))return A.cloneElement(m,i);var C;if($i(m)){if(C=A.createElement(m,i),A.isValidElement(C))return C}else C=Mlt(i);var P=Olt(s),I=Xi(i,!0);if(P&&(c==="insideStart"||c==="insideEnd"||c==="end"))return Tlt(i,C,I);var N=P?Plt(i):Ilt(i);return Oe.createElement(HT,MS({className:no("recharts-label",v)},I,N,{breakAll:S}),C)}Ks.displayName="Label";var jde=function(t){var n=t.cx,r=t.cy,i=t.angle,s=t.startAngle,c=t.endAngle,h=t.r,o=t.radius,m=t.innerRadius,y=t.outerRadius,v=t.x,S=t.y,C=t.top,P=t.left,I=t.width,N=t.height,D=t.clockWise,k=t.labelViewBox;if(k)return k;if(yr(I)&&yr(N)){if(yr(v)&&yr(S))return{x:v,y:S,width:I,height:N};if(yr(C)&&yr(P))return{x:C,y:P,width:I,height:N}}return yr(v)&&yr(S)?{x:v,y:S,width:0,height:0}:yr(n)&&yr(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:c||i||0,innerRadius:m||0,outerRadius:y||o||h||0,clockWise:D}:t.viewBox?t.viewBox:{}},klt=function(t,n){return t?t===!0?Oe.createElement(Ks,{key:"label-implicit",viewBox:n}):ts(t)?Oe.createElement(Ks,{key:"label-implicit",viewBox:n,value:t}):A.isValidElement(t)?t.type===Ks?A.cloneElement(t,{key:"label-implicit",viewBox:n}):Oe.createElement(Ks,{key:"label-implicit",content:t,viewBox:n}):$i(t)?Oe.createElement(Ks,{key:"label-implicit",content:t,viewBox:n}):Fb(t)?Oe.createElement(Ks,MS({viewBox:n},t,{key:"label-implicit"})):null:null},Nlt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,s=jde(t),c=eu(i,Ks).map(function(o,m){return A.cloneElement(o,{viewBox:n||s,key:"label-".concat(m)})});if(!r)return c;var h=klt(t.label,n||s);return[h].concat(glt(c))};Ks.parseViewBox=jde;Ks.renderCallByParent=Nlt;function Rlt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Dlt=Rlt;const Llt=Li(Dlt);function ES(e){"@babel/helpers - typeof";return ES=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ES(e)}var Flt=["valueAccessor"],$lt=["data","dataKey","clockWise","id","textBreakAll"];function jlt(e){return Ult(e)||Zlt(e)||Blt(e)||zlt()}function zlt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Blt(e,t){if(e){if(typeof e=="string")return LR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LR(e,t)}}function Zlt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ult(e){if(Array.isArray(e))return LR(e)}function LR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aP(){return aP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aP.apply(this,arguments)}function JY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JY(Object(n),!0).forEach(function(r){Hlt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JY(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hlt(e,t,n){return t=Vlt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vlt(e){var t=Wlt(e,"string");return ES(t)=="symbol"?t:t+""}function Wlt(e,t){if(ES(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ES(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eJ(e,t){if(e==null)return{};var n=Glt(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Glt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Klt=function(t){return Array.isArray(t.value)?Llt(t.value):t.value};function Tf(e){var t=e.valueAccessor,n=t===void 0?Klt:t,r=eJ(e,Flt),i=r.data,s=r.dataKey,c=r.clockWise,h=r.id,o=r.textBreakAll,m=eJ(r,$lt);return!i||!i.length?null:Oe.createElement(ka,{className:"recharts-label-list"},i.map(function(y,v){var S=zi(s)?n(y,v):Oc(y&&y.payload,s),C=zi(h)?{}:{id:"".concat(h,"-").concat(v)};return Oe.createElement(Ks,aP({},Xi(y,!0),m,C,{parentViewBox:y.parentViewBox,value:S,textBreakAll:o,viewBox:Ks.parseViewBox(zi(c)?y:QY(QY({},y),{},{clockWise:c})),key:"label-".concat(v),index:v}))}))}Tf.displayName="LabelList";function qlt(e,t){return e?e===!0?Oe.createElement(Tf,{key:"labelList-implicit",data:t}):Oe.isValidElement(e)||$i(e)?Oe.createElement(Tf,{key:"labelList-implicit",data:t,content:e}):Fb(e)?Oe.createElement(Tf,aP({data:t},e,{key:"labelList-implicit"})):null:null}function Xlt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=eu(r,Tf).map(function(c,h){return A.cloneElement(c,{data:t,key:"labelList-".concat(h)})});if(!n)return i;var s=qlt(e.label,t);return[s].concat(jlt(i))}Tf.renderCallByParent=Xlt;function TS(e){"@babel/helpers - typeof";return TS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TS(e)}function FR(){return FR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FR.apply(this,arguments)}function tJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tJ(Object(n),!0).forEach(function(r){Ylt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ylt(e,t,n){return t=Jlt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jlt(e){var t=Qlt(e,"string");return TS(t)=="symbol"?t:t+""}function Qlt(e,t){if(TS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(TS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ect=function(t,n){var r=Zu(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},AM=function(t){var n=t.cx,r=t.cy,i=t.radius,s=t.angle,c=t.sign,h=t.isExternal,o=t.cornerRadius,m=t.cornerIsExternal,y=o*(h?1:-1)+i,v=Math.asin(o/y)/oP,S=m?s:s+c*v,C=Is(n,r,y,S),P=Is(n,r,i,S),I=m?s-c*v:s,N=Is(n,r,y*Math.cos(v*oP),I);return{center:C,circleTangency:P,lineTangency:N,theta:v}},zde=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,s=t.outerRadius,c=t.startAngle,h=t.endAngle,o=ect(c,h),m=c+o,y=Is(n,r,s,c),v=Is(n,r,s,m),S="M ".concat(y.x,",").concat(y.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(c>m),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(i>0){var C=Is(n,r,i,c),P=Is(n,r,i,m);S+="L ".concat(P.x,",").concat(P.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(c<=m),`,
            `).concat(C.x,",").concat(C.y," Z")}else S+="L ".concat(n,",").concat(r," Z");return S},tct=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,s=t.outerRadius,c=t.cornerRadius,h=t.forceCornerRadius,o=t.cornerIsExternal,m=t.startAngle,y=t.endAngle,v=Zu(y-m),S=AM({cx:n,cy:r,radius:s,angle:m,sign:v,cornerRadius:c,cornerIsExternal:o}),C=S.circleTangency,P=S.lineTangency,I=S.theta,N=AM({cx:n,cy:r,radius:s,angle:y,sign:-v,cornerRadius:c,cornerIsExternal:o}),D=N.circleTangency,k=N.lineTangency,F=N.theta,U=o?Math.abs(m-y):Math.abs(m-y)-I-F;if(U<0)return h?"M ".concat(P.x,",").concat(P.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):zde({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:m,endAngle:y});var B="M ".concat(P.x,",").concat(P.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(v<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(U>180),",").concat(+(v<0),",").concat(D.x,",").concat(D.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(v<0),",").concat(k.x,",").concat(k.y,`
  `);if(i>0){var z=AM({cx:n,cy:r,radius:i,angle:m,sign:v,isExternal:!0,cornerRadius:c,cornerIsExternal:o}),W=z.circleTangency,Y=z.lineTangency,K=z.theta,ee=AM({cx:n,cy:r,radius:i,angle:y,sign:-v,isExternal:!0,cornerRadius:c,cornerIsExternal:o}),re=ee.circleTangency,oe=ee.lineTangency,he=ee.theta,be=o?Math.abs(m-y):Math.abs(m-y)-K-he;if(be<0&&c===0)return"".concat(B,"L").concat(n,",").concat(r,"Z");B+="L".concat(oe.x,",").concat(oe.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(v<0),",").concat(re.x,",").concat(re.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(be>180),",").concat(+(v>0),",").concat(W.x,",").concat(W.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(v<0),",").concat(Y.x,",").concat(Y.y,"Z")}else B+="L".concat(n,",").concat(r,"Z");return B},nct={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Bde=function(t){var n=nJ(nJ({},nct),t),r=n.cx,i=n.cy,s=n.innerRadius,c=n.outerRadius,h=n.cornerRadius,o=n.forceCornerRadius,m=n.cornerIsExternal,y=n.startAngle,v=n.endAngle,S=n.className;if(c<s||y===v)return null;var C=no("recharts-sector",S),P=c-s,I=Vg(h,P,0,!0),N;return I>0&&Math.abs(y-v)<360?N=tct({cx:r,cy:i,innerRadius:s,outerRadius:c,cornerRadius:Math.min(I,P/2),forceCornerRadius:o,cornerIsExternal:m,startAngle:y,endAngle:v}):N=zde({cx:r,cy:i,innerRadius:s,outerRadius:c,startAngle:y,endAngle:v}),Oe.createElement("path",FR({},Xi(n,!0),{className:C,d:N,role:"img"}))};function PS(e){"@babel/helpers - typeof";return PS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PS(e)}function $R(){return $R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$R.apply(this,arguments)}function rJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rJ(Object(n),!0).forEach(function(r){rct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rct(e,t,n){return t=ict(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ict(e){var t=oct(e,"string");return PS(t)=="symbol"?t:t+""}function oct(e,t){if(PS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(PS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oJ={curveBasisClosed:eKe,curveBasisOpen:tKe,curveBasis:QGe,curveBumpX:jGe,curveBumpY:zGe,curveLinearClosed:nKe,curveLinear:u4,curveMonotoneX:rKe,curveMonotoneY:iKe,curveNatural:oKe,curveStep:aKe,curveStepAfter:lKe,curveStepBefore:sKe},CM=function(t){return t.x===+t.x&&t.y===+t.y},Tx=function(t){return t.x},Px=function(t){return t.y},act=function(t,n){if($i(t))return t;var r="curve".concat(l4(t));return(r==="curveMonotone"||r==="curveBump")&&n?oJ["".concat(r).concat(n==="vertical"?"Y":"X")]:oJ[r]||u4},sct=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,s=i===void 0?[]:i,c=t.baseLine,h=t.layout,o=t.connectNulls,m=o===void 0?!1:o,y=act(r,h),v=m?s.filter(function(I){return CM(I)}):s,S;if(Array.isArray(c)){var C=m?c.filter(function(I){return CM(I)}):c,P=v.map(function(I,N){return iJ(iJ({},I),{},{base:C[N]})});return h==="vertical"?S=mM().y(Px).x1(Tx).x0(function(I){return I.base.x}):S=mM().x(Tx).y1(Px).y0(function(I){return I.base.y}),S.defined(CM).curve(y),S(P)}return h==="vertical"&&yr(c)?S=mM().y(Px).x1(Tx).x0(c):yr(c)?S=mM().x(Tx).y1(Px).y0(c):S=Uce().x(Tx).y(Px),S.defined(CM).curve(y),S(v)},jR=function(t){var n=t.className,r=t.points,i=t.path,s=t.pathRef;if((!r||!r.length)&&!i)return null;var c=r&&r.length?sct(t):i;return Oe.createElement("path",$R({},Xi(t,!1),PT(t),{className:no("recharts-curve",n),d:c,ref:s}))},lct=Object.getOwnPropertyNames,cct=Object.getOwnPropertySymbols,uct=Object.prototype.hasOwnProperty;function aJ(e,t){return function(r,i,s){return e(r,i,s)&&t(r,i,s)}}function MM(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var s=i.cache,c=s.get(n),h=s.get(r);if(c&&h)return c===r&&h===n;s.set(n,r),s.set(r,n);var o=e(n,r,i);return s.delete(n),s.delete(r),o}}function sJ(e){return lct(e).concat(cct(e))}var dct=Object.hasOwn||function(e,t){return uct.call(e,t)};function cy(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var hct="__v",pct="__o",fct="_owner",lJ=Object.getOwnPropertyDescriptor,cJ=Object.keys;function mct(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function gct(e,t){return cy(e.getTime(),t.getTime())}function yct(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function vct(e,t){return e===t}function uJ(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),s=e.entries(),c,h,o=0;(c=s.next())&&!c.done;){for(var m=t.entries(),y=!1,v=0;(h=m.next())&&!h.done;){if(i[v]){v++;continue}var S=c.value,C=h.value;if(n.equals(S[0],C[0],o,v,e,t,n)&&n.equals(S[1],C[1],S[0],C[0],e,t,n)){y=i[v]=!0;break}v++}if(!y)return!1;o++}return!0}var bct=cy;function _ct(e,t,n){var r=cJ(e),i=r.length;if(cJ(t).length!==i)return!1;for(;i-- >0;)if(!Zde(e,t,n,r[i]))return!1;return!0}function Ix(e,t,n){var r=sJ(e),i=r.length;if(sJ(t).length!==i)return!1;for(var s,c,h;i-- >0;)if(s=r[i],!Zde(e,t,n,s)||(c=lJ(e,s),h=lJ(t,s),(c||h)&&(!c||!h||c.configurable!==h.configurable||c.enumerable!==h.enumerable||c.writable!==h.writable)))return!1;return!0}function xct(e,t){return cy(e.valueOf(),t.valueOf())}function wct(e,t){return e.source===t.source&&e.flags===t.flags}function dJ(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),s=e.values(),c,h;(c=s.next())&&!c.done;){for(var o=t.values(),m=!1,y=0;(h=o.next())&&!h.done;){if(!i[y]&&n.equals(c.value,h.value,c.value,h.value,e,t,n)){m=i[y]=!0;break}y++}if(!m)return!1}return!0}function Sct(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Act(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Zde(e,t,n,r){return(r===fct||r===pct||r===hct)&&(e.$$typeof||t.$$typeof)?!0:dct(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Cct="[object Arguments]",Mct="[object Boolean]",Ect="[object Date]",Tct="[object Error]",Pct="[object Map]",Ict="[object Number]",Oct="[object Object]",kct="[object RegExp]",Nct="[object Set]",Rct="[object String]",Dct="[object URL]",Lct=Array.isArray,hJ=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,pJ=Object.assign,Fct=Object.prototype.toString.call.bind(Object.prototype.toString);function $ct(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,c=e.areNumbersEqual,h=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,m=e.areRegExpsEqual,y=e.areSetsEqual,v=e.areTypedArraysEqual,S=e.areUrlsEqual;return function(P,I,N){if(P===I)return!0;if(P==null||I==null)return!1;var D=typeof P;if(D!==typeof I)return!1;if(D!=="object")return D==="number"?c(P,I,N):D==="function"?i(P,I,N):!1;var k=P.constructor;if(k!==I.constructor)return!1;if(k===Object)return h(P,I,N);if(Lct(P))return t(P,I,N);if(hJ!=null&&hJ(P))return v(P,I,N);if(k===Date)return n(P,I,N);if(k===RegExp)return m(P,I,N);if(k===Map)return s(P,I,N);if(k===Set)return y(P,I,N);var F=Fct(P);return F===Ect?n(P,I,N):F===kct?m(P,I,N):F===Pct?s(P,I,N):F===Nct?y(P,I,N):F===Oct?typeof P.then!="function"&&typeof I.then!="function"&&h(P,I,N):F===Dct?S(P,I,N):F===Tct?r(P,I,N):F===Cct?h(P,I,N):F===Mct||F===Ict||F===Rct?o(P,I,N):!1}}function jct(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?Ix:mct,areDatesEqual:gct,areErrorsEqual:yct,areFunctionsEqual:vct,areMapsEqual:r?aJ(uJ,Ix):uJ,areNumbersEqual:bct,areObjectsEqual:r?Ix:_ct,arePrimitiveWrappersEqual:xct,areRegExpsEqual:wct,areSetsEqual:r?aJ(dJ,Ix):dJ,areTypedArraysEqual:r?Ix:Sct,areUrlsEqual:Act};if(n&&(i=pJ({},i,n(i))),t){var s=MM(i.areArraysEqual),c=MM(i.areMapsEqual),h=MM(i.areObjectsEqual),o=MM(i.areSetsEqual);i=pJ({},i,{areArraysEqual:s,areMapsEqual:c,areObjectsEqual:h,areSetsEqual:o})}return i}function zct(e){return function(t,n,r,i,s,c,h){return e(t,n,h)}}function Bct(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,s=e.strict;if(r)return function(o,m){var y=r(),v=y.cache,S=v===void 0?t?new WeakMap:void 0:v,C=y.meta;return n(o,m,{cache:S,equals:i,meta:C,strict:s})};if(t)return function(o,m){return n(o,m,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var c={cache:void 0,equals:i,meta:void 0,strict:s};return function(o,m){return n(o,m,c)}}var Zct=Jf();Jf({strict:!0});Jf({circular:!0});Jf({circular:!0,strict:!0});Jf({createInternalComparator:function(){return cy}});Jf({strict:!0,createInternalComparator:function(){return cy}});Jf({circular:!0,createInternalComparator:function(){return cy}});Jf({circular:!0,createInternalComparator:function(){return cy},strict:!0});function Jf(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,s=e.strict,c=s===void 0?!1:s,h=jct(e),o=$ct(h),m=r?r(o):zct(o);return Bct({circular:n,comparator:o,createState:i,equals:m,strict:c})}function Uct(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function fJ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>t?(e(s),n=-1):Uct(i)};requestAnimationFrame(r)}function zR(e){"@babel/helpers - typeof";return zR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zR(e)}function Hct(e){return Kct(e)||Gct(e)||Wct(e)||Vct()}function Vct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wct(e,t){if(e){if(typeof e=="string")return mJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mJ(e,t)}}function mJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gct(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kct(e){if(Array.isArray(e))return e}function qct(){var e={},t=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var c=s,h=Hct(c),o=h[0],m=h.slice(1);if(typeof o=="number"){fJ(i.bind(null,m),o);return}i(o),fJ(i.bind(null,m));return}zR(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function IS(e){"@babel/helpers - typeof";return IS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IS(e)}function gJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gJ(Object(n),!0).forEach(function(r){Ude(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ude(e,t,n){return t=Xct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xct(e){var t=Yct(e,"string");return IS(t)==="symbol"?t:String(t)}function Yct(e,t){if(IS(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(IS(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jct=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},Qct=function(t){return t},eut=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},pw=function(t,n){return Object.keys(n).reduce(function(r,i){return yJ(yJ({},r),{},Ude({},i,t(i,n[i])))},{})},vJ=function(t,n,r){return t.map(function(i){return"".concat(eut(i)," ").concat(n,"ms ").concat(r)}).join(",")};function tut(e,t){return iut(e)||rut(e,t)||Hde(e,t)||nut()}function nut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rut(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,c,h=[],o=!0,m=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(o=(r=s.call(n)).done)&&(h.push(r.value),h.length!==t);o=!0);}catch(y){m=!0,i=y}finally{try{if(!o&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw i}}return h}}function iut(e){if(Array.isArray(e))return e}function out(e){return lut(e)||sut(e)||Hde(e)||aut()}function aut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hde(e,t){if(e){if(typeof e=="string")return BR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BR(e,t)}}function sut(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lut(e){if(Array.isArray(e))return BR(e)}function BR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sP=1e-4,Vde=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Wde=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},bJ=function(t,n){return function(r){var i=Vde(t,n);return Wde(i,r)}},cut=function(t,n){return function(r){var i=Vde(t,n),s=[].concat(out(i.map(function(c,h){return c*h}).slice(1)),[0]);return Wde(s,r)}},_J=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],s=n[1],c=n[2],h=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,c=1,h=1;break;case"ease":i=.25,s=.1,c=.25,h=1;break;case"ease-in":i=.42,s=0,c=1,h=1;break;case"ease-out":i=.42,s=0,c=.58,h=1;break;case"ease-in-out":i=0,s=0,c=.58,h=1;break;default:{var o=n[0].split("(");if(o[0]==="cubic-bezier"&&o[1].split(")")[0].split(",").length===4){var m=o[1].split(")")[0].split(",").map(function(N){return parseFloat(N)}),y=tut(m,4);i=y[0],s=y[1],c=y[2],h=y[3]}}}var v=bJ(i,c),S=bJ(s,h),C=cut(i,c),P=function(D){return D>1?1:D<0?0:D},I=function(D){for(var k=D>1?1:D,F=k,U=0;U<8;++U){var B=v(F)-k,z=C(F);if(Math.abs(B-k)<sP||z<sP)return S(F);F=P(F-B/z)}return S(F)};return I.isStepper=!1,I},uut=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,s=i===void 0?8:i,c=t.dt,h=c===void 0?17:c,o=function(y,v,S){var C=-(y-v)*r,P=S*s,I=S+(C-P)*h/1e3,N=S*h/1e3+y;return Math.abs(N-v)<sP&&Math.abs(I)<sP?[v,0]:[N,I]};return o.isStepper=!0,o.dt=h,o},dut=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _J(i);case"spring":return uut();default:if(i.split("(")[0]==="cubic-bezier")return _J(i)}return typeof i=="function"?i:null};function OS(e){"@babel/helpers - typeof";return OS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OS(e)}function xJ(e){return fut(e)||put(e)||Gde(e)||hut()}function hut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function put(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fut(e){if(Array.isArray(e))return UR(e)}function wJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wJ(Object(n),!0).forEach(function(r){ZR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZR(e,t,n){return t=mut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mut(e){var t=gut(e,"string");return OS(t)==="symbol"?t:String(t)}function gut(e,t){if(OS(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(OS(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yut(e,t){return _ut(e)||but(e,t)||Gde(e,t)||vut()}function vut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gde(e,t){if(e){if(typeof e=="string")return UR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UR(e,t)}}function UR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function but(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,c,h=[],o=!0,m=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(o=(r=s.call(n)).done)&&(h.push(r.value),h.length!==t);o=!0);}catch(y){m=!0,i=y}finally{try{if(!o&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw i}}return h}}function _ut(e){if(Array.isArray(e))return e}var lP=function(t,n,r){return t+(n-t)*r},HR=function(t){var n=t.from,r=t.to;return n!==r},xut=function e(t,n,r){var i=pw(function(s,c){if(HR(c)){var h=t(c.from,c.to,c.velocity),o=yut(h,2),m=o[0],y=o[1];return Ts(Ts({},c),{},{from:m,velocity:y})}return c},n);return r<1?pw(function(s,c){return HR(c)?Ts(Ts({},c),{},{velocity:lP(c.velocity,i[s].velocity,r),from:lP(c.from,i[s].from,r)}):c},n):e(t,i,r-1)};const wut=function(e,t,n,r,i){var s=Jct(e,t),c=s.reduce(function(N,D){return Ts(Ts({},N),{},ZR({},D,[e[D],t[D]]))},{}),h=s.reduce(function(N,D){return Ts(Ts({},N),{},ZR({},D,{from:e[D],velocity:0,to:t[D]}))},{}),o=-1,m,y,v=function(){return null},S=function(){return pw(function(D,k){return k.from},h)},C=function(){return!Object.values(h).filter(HR).length},P=function(D){m||(m=D);var k=D-m,F=k/n.dt;h=xut(n,h,F),i(Ts(Ts(Ts({},e),t),S())),m=D,C()||(o=requestAnimationFrame(v))},I=function(D){y||(y=D);var k=(D-y)/r,F=pw(function(B,z){return lP.apply(void 0,xJ(z).concat([n(k)]))},c);if(i(Ts(Ts(Ts({},e),t),F)),k<1)o=requestAnimationFrame(v);else{var U=pw(function(B,z){return lP.apply(void 0,xJ(z).concat([n(1)]))},c);i(Ts(Ts(Ts({},e),t),U))}};return v=n.isStepper?P:I,function(){return requestAnimationFrame(v),function(){cancelAnimationFrame(o)}}};function ib(e){"@babel/helpers - typeof";return ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ib(e)}var Sut=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Aut(e,t){if(e==null)return{};var n=Cut(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cut(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function rk(e){return Put(e)||Tut(e)||Eut(e)||Mut()}function Mut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eut(e,t){if(e){if(typeof e=="string")return VR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VR(e,t)}}function Tut(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Put(e){if(Array.isArray(e))return VR(e)}function VR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SJ(Object(n),!0).forEach(function(r){Ux(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ux(e,t,n){return t=Kde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Out(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kde(r.key),r)}}function kut(e,t,n){return t&&Out(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kde(e){var t=Nut(e,"string");return ib(t)==="symbol"?t:String(t)}function Nut(e,t){if(ib(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ib(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WR(e,t)}function WR(e,t){return WR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WR(e,t)}function Dut(e){var t=Lut();return function(){var r=cP(e),i;if(t){var s=cP(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return GR(this,i)}}function GR(e,t){if(t&&(ib(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KR(e)}function KR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lut(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cP(e){return cP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cP(e)}var lp=function(e){Rut(n,e);var t=Dut(n);function n(r,i){var s;Iut(this,n),s=t.call(this,r,i);var c=s.props,h=c.isActive,o=c.attributeName,m=c.from,y=c.to,v=c.steps,S=c.children,C=c.duration;if(s.handleStyleChange=s.handleStyleChange.bind(KR(s)),s.changeStyle=s.changeStyle.bind(KR(s)),!h||C<=0)return s.state={style:{}},typeof S=="function"&&(s.state={style:y}),GR(s);if(v&&v.length)s.state={style:v[0].style};else if(m){if(typeof S=="function")return s.state={style:m},GR(s);s.state={style:o?Ux({},o,m):m}}else s.state={style:{}};return s}return kut(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,c=i.canBegin;this.mounted=!0,!(!s||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,c=s.isActive,h=s.canBegin,o=s.attributeName,m=s.shouldReAnimate,y=s.to,v=s.from,S=this.state.style;if(h){if(!c){var C={style:o?Ux({},o,y):y};this.state&&S&&(o&&S[o]!==y||!o&&S!==y)&&this.setState(C);return}if(!(Zct(i.to,y)&&i.canBegin&&i.isActive)){var P=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var I=P||m?v:i.to;if(this.state&&S){var N={style:o?Ux({},o,I):I};(o&&S[o]!==I||!o&&S!==I)&&this.setState(N)}this.runAnimation(Mu(Mu({},this.props),{},{from:I,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,c=i.from,h=i.to,o=i.duration,m=i.easing,y=i.begin,v=i.onAnimationEnd,S=i.onAnimationStart,C=wut(c,h,dut(m),o,this.changeStyle),P=function(){s.stopJSAnimation=C()};this.manager.start([S,y,P,o,v])}},{key:"runStepAnimation",value:function(i){var s=this,c=i.steps,h=i.begin,o=i.onAnimationStart,m=c[0],y=m.style,v=m.duration,S=v===void 0?0:v,C=function(I,N,D){if(D===0)return I;var k=N.duration,F=N.easing,U=F===void 0?"ease":F,B=N.style,z=N.properties,W=N.onAnimationEnd,Y=D>0?c[D-1]:N,K=z||Object.keys(B);if(typeof U=="function"||U==="spring")return[].concat(rk(I),[s.runJSAnimation.bind(s,{from:Y.style,to:B,duration:k,easing:U}),k]);var ee=vJ(K,k,U),re=Mu(Mu(Mu({},Y.style),B),{},{transition:ee});return[].concat(rk(I),[re,k,W]).filter(Qct)};return this.manager.start([o].concat(rk(c.reduce(C,[y,Math.max(S,h)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=qct());var s=i.begin,c=i.duration,h=i.attributeName,o=i.to,m=i.easing,y=i.onAnimationStart,v=i.onAnimationEnd,S=i.steps,C=i.children,P=this.manager;if(this.unSubscribe=P.subscribe(this.handleStyleChange),typeof m=="function"||typeof C=="function"||m==="spring"){this.runJSAnimation(i);return}if(S.length>1){this.runStepAnimation(i);return}var I=h?Ux({},h,o):o,N=vJ(Object.keys(I),c,m);P.start([y,s,Mu(Mu({},I),{},{transition:N}),c,v])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var c=i.duration;i.attributeName,i.easing;var h=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var o=Aut(i,Sut),m=A.Children.count(s),y=this.state.style;if(typeof s=="function")return s(y);if(!h||m===0||c<=0)return s;var v=function(C){var P=C.props,I=P.style,N=I===void 0?{}:I,D=P.className,k=A.cloneElement(C,Mu(Mu({},o),{},{style:Mu(Mu({},N),y),className:D}));return k};return m===1?v(A.Children.only(s)):Oe.createElement("div",null,A.Children.map(s,function(S){return v(S)}))}}]),n}(A.PureComponent);lp.displayName="Animate";lp.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};lp.propTypes={from:An.oneOfType([An.object,An.string]),to:An.oneOfType([An.object,An.string]),attributeName:An.string,duration:An.number,begin:An.number,easing:An.oneOfType([An.string,An.func]),steps:An.arrayOf(An.shape({duration:An.number.isRequired,style:An.object.isRequired,easing:An.oneOfType([An.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),An.func]),properties:An.arrayOf("string"),onAnimationEnd:An.func})),children:An.oneOfType([An.node,An.func]),isActive:An.bool,canBegin:An.bool,onAnimationEnd:An.func,shouldReAnimate:An.bool,onAnimationStart:An.func,onAnimationReStart:An.func};function kS(e){"@babel/helpers - typeof";return kS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kS(e)}function uP(){return uP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uP.apply(this,arguments)}function Fut(e,t){return But(e)||zut(e,t)||jut(e,t)||$ut()}function $ut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jut(e,t){if(e){if(typeof e=="string")return AJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AJ(e,t)}}function AJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zut(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,c,h=[],o=!0,m=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(o=(r=s.call(n)).done)&&(h.push(r.value),h.length!==t);o=!0);}catch(y){m=!0,i=y}finally{try{if(!o&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw i}}return h}}function But(e){if(Array.isArray(e))return e}function CJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CJ(Object(n),!0).forEach(function(r){Zut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zut(e,t,n){return t=Uut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uut(e){var t=Hut(e,"string");return kS(t)=="symbol"?t:t+""}function Hut(e,t){if(kS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EJ=function(t,n,r,i,s){var c=Math.min(Math.abs(r)/2,Math.abs(i)/2),h=i>=0?1:-1,o=r>=0?1:-1,m=i>=0&&r>=0||i<0&&r<0?1:0,y;if(c>0&&s instanceof Array){for(var v=[0,0,0,0],S=0,C=4;S<C;S++)v[S]=s[S]>c?c:s[S];y="M".concat(t,",").concat(n+h*v[0]),v[0]>0&&(y+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(m,",").concat(t+o*v[0],",").concat(n)),y+="L ".concat(t+r-o*v[1],",").concat(n),v[1]>0&&(y+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(m,`,
        `).concat(t+r,",").concat(n+h*v[1])),y+="L ".concat(t+r,",").concat(n+i-h*v[2]),v[2]>0&&(y+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(m,`,
        `).concat(t+r-o*v[2],",").concat(n+i)),y+="L ".concat(t+o*v[3],",").concat(n+i),v[3]>0&&(y+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(m,`,
        `).concat(t,",").concat(n+i-h*v[3])),y+="Z"}else if(c>0&&s===+s&&s>0){var P=Math.min(c,s);y="M ".concat(t,",").concat(n+h*P,`
            A `).concat(P,",").concat(P,",0,0,").concat(m,",").concat(t+o*P,",").concat(n,`
            L `).concat(t+r-o*P,",").concat(n,`
            A `).concat(P,",").concat(P,",0,0,").concat(m,",").concat(t+r,",").concat(n+h*P,`
            L `).concat(t+r,",").concat(n+i-h*P,`
            A `).concat(P,",").concat(P,",0,0,").concat(m,",").concat(t+r-o*P,",").concat(n+i,`
            L `).concat(t+o*P,",").concat(n+i,`
            A `).concat(P,",").concat(P,",0,0,").concat(m,",").concat(t,",").concat(n+i-h*P," Z")}else y="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return y},Vut=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,s=n.x,c=n.y,h=n.width,o=n.height;if(Math.abs(h)>0&&Math.abs(o)>0){var m=Math.min(s,s+h),y=Math.max(s,s+h),v=Math.min(c,c+o),S=Math.max(c,c+o);return r>=m&&r<=y&&i>=v&&i<=S}return!1},Wut={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gF=function(t){var n=MJ(MJ({},Wut),t),r=A.useRef(),i=A.useState(-1),s=Fut(i,2),c=s[0],h=s[1];A.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var U=r.current.getTotalLength();U&&h(U)}catch{}},[]);var o=n.x,m=n.y,y=n.width,v=n.height,S=n.radius,C=n.className,P=n.animationEasing,I=n.animationDuration,N=n.animationBegin,D=n.isAnimationActive,k=n.isUpdateAnimationActive;if(o!==+o||m!==+m||y!==+y||v!==+v||y===0||v===0)return null;var F=no("recharts-rectangle",C);return k?Oe.createElement(lp,{canBegin:c>0,from:{width:y,height:v,x:o,y:m},to:{width:y,height:v,x:o,y:m},duration:I,animationEasing:P,isActive:k},function(U){var B=U.width,z=U.height,W=U.x,Y=U.y;return Oe.createElement(lp,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:I,isActive:D,easing:P},Oe.createElement("path",uP({},Xi(n,!0),{className:F,d:EJ(W,Y,B,z,S),ref:r})))}):Oe.createElement("path",uP({},Xi(n,!0),{className:F,d:EJ(o,m,y,v,S)}))};function qR(){return qR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qR.apply(this,arguments)}var yF=function(t){var n=t.cx,r=t.cy,i=t.r,s=t.className,c=no("recharts-dot",s);return n===+n&&r===+r&&i===+i?Oe.createElement("circle",qR({},Xi(t,!1),PT(t),{className:c,cx:n,cy:r,r:i})):null};function NS(e){"@babel/helpers - typeof";return NS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NS(e)}var Gut=["x","y","top","left","width","height","className"];function XR(){return XR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XR.apply(this,arguments)}function TJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TJ(Object(n),!0).forEach(function(r){qut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qut(e,t,n){return t=Xut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xut(e){var t=Yut(e,"string");return NS(t)=="symbol"?t:t+""}function Yut(e,t){if(NS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(NS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jut(e,t){if(e==null)return{};var n=Qut(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Qut(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var edt=function(t,n,r,i,s,c){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(c,",").concat(n,"h").concat(r)},tdt=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,s=i===void 0?0:i,c=t.top,h=c===void 0?0:c,o=t.left,m=o===void 0?0:o,y=t.width,v=y===void 0?0:y,S=t.height,C=S===void 0?0:S,P=t.className,I=Jut(t,Gut),N=Kut({x:r,y:s,top:h,left:m,width:v,height:C},I);return!yr(r)||!yr(s)||!yr(v)||!yr(C)||!yr(h)||!yr(m)?null:Oe.createElement("path",XR({},Xi(N,!0),{className:no("recharts-cross",P),d:edt(r,s,v,C,h,m)}))},ndt=pue,rdt=ndt(Object.getPrototypeOf,Object),idt=rdt,odt=hp,adt=idt,sdt=pp,ldt="[object Object]",cdt=Function.prototype,udt=Object.prototype,qde=cdt.toString,ddt=udt.hasOwnProperty,hdt=qde.call(Object);function pdt(e){if(!sdt(e)||odt(e)!=ldt)return!1;var t=adt(e);if(t===null)return!0;var n=ddt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&qde.call(n)==hdt}var fdt=pdt;const mdt=Li(fdt);var gdt=hp,ydt=pp,vdt="[object Boolean]";function bdt(e){return e===!0||e===!1||ydt(e)&&gdt(e)==vdt}var _dt=bdt;const xdt=Li(_dt);function RS(e){"@babel/helpers - typeof";return RS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RS(e)}function dP(){return dP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dP.apply(this,arguments)}function wdt(e,t){return Mdt(e)||Cdt(e,t)||Adt(e,t)||Sdt()}function Sdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Adt(e,t){if(e){if(typeof e=="string")return PJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PJ(e,t)}}function PJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cdt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,c,h=[],o=!0,m=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(o=(r=s.call(n)).done)&&(h.push(r.value),h.length!==t);o=!0);}catch(y){m=!0,i=y}finally{try{if(!o&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw i}}return h}}function Mdt(e){if(Array.isArray(e))return e}function IJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IJ(Object(n),!0).forEach(function(r){Edt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Edt(e,t,n){return t=Tdt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tdt(e){var t=Pdt(e,"string");return RS(t)=="symbol"?t:t+""}function Pdt(e,t){if(RS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(RS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kJ=function(t,n,r,i,s){var c=r-i,h;return h="M ".concat(t,",").concat(n),h+="L ".concat(t+r,",").concat(n),h+="L ".concat(t+r-c/2,",").concat(n+s),h+="L ".concat(t+r-c/2-i,",").concat(n+s),h+="L ".concat(t,",").concat(n," Z"),h},Idt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Odt=function(t){var n=OJ(OJ({},Idt),t),r=A.useRef(),i=A.useState(-1),s=wdt(i,2),c=s[0],h=s[1];A.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var F=r.current.getTotalLength();F&&h(F)}catch{}},[]);var o=n.x,m=n.y,y=n.upperWidth,v=n.lowerWidth,S=n.height,C=n.className,P=n.animationEasing,I=n.animationDuration,N=n.animationBegin,D=n.isUpdateAnimationActive;if(o!==+o||m!==+m||y!==+y||v!==+v||S!==+S||y===0&&v===0||S===0)return null;var k=no("recharts-trapezoid",C);return D?Oe.createElement(lp,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:S,x:o,y:m},to:{upperWidth:y,lowerWidth:v,height:S,x:o,y:m},duration:I,animationEasing:P,isActive:D},function(F){var U=F.upperWidth,B=F.lowerWidth,z=F.height,W=F.x,Y=F.y;return Oe.createElement(lp,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:I,easing:P},Oe.createElement("path",dP({},Xi(n,!0),{className:k,d:kJ(W,Y,U,B,z),ref:r})))}):Oe.createElement("g",null,Oe.createElement("path",dP({},Xi(n,!0),{className:k,d:kJ(o,m,y,v,S)})))},kdt=["option","shapeType","propTransformer","activeClassName","isActive"];function DS(e){"@babel/helpers - typeof";return DS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DS(e)}function Ndt(e,t){if(e==null)return{};var n=Rdt(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Rdt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function NJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NJ(Object(n),!0).forEach(function(r){Ddt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ddt(e,t,n){return t=Ldt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ldt(e){var t=Fdt(e,"string");return DS(t)=="symbol"?t:t+""}function Fdt(e,t){if(DS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(DS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $dt(e,t){return hP(hP({},t),e)}function jdt(e,t){return e==="symbols"}function RJ(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Oe.createElement(gF,n);case"trapezoid":return Oe.createElement(Odt,n);case"sector":return Oe.createElement(Bde,n);case"symbols":if(jdt(t))return Oe.createElement(R9,n);break;default:return null}}function zdt(e){return A.isValidElement(e)?e.props:e}function Bdt(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?$dt:r,s=e.activeClassName,c=s===void 0?"recharts-active-shape":s,h=e.isActive,o=Ndt(e,kdt),m;if(A.isValidElement(t))m=A.cloneElement(t,hP(hP({},o),zdt(t)));else if($i(t))m=t(o);else if(mdt(t)&&!xdt(t)){var y=i(t,o);m=Oe.createElement(RJ,{shapeType:n,elementProps:y})}else{var v=o;m=Oe.createElement(RJ,{shapeType:n,elementProps:v})}return h?Oe.createElement(ka,{className:c},m):m}function M4(e,t){return t!=null&&"trapezoids"in e.props}function E4(e,t){return t!=null&&"sectors"in e.props}function LS(e,t){return t!=null&&"points"in e.props}function Zdt(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,s=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&s}function Udt(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Hdt(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function Vdt(e,t){var n;return M4(e,t)?n=Zdt:E4(e,t)?n=Udt:LS(e,t)&&(n=Hdt),n}function Wdt(e,t){var n;return M4(e,t)?n="trapezoids":E4(e,t)?n="sectors":LS(e,t)&&(n="points"),n}function Gdt(e,t){if(M4(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(E4(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return LS(e,t)?t.payload:{}}function Kdt(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=Wdt(n,t),s=Gdt(n,t),c=r.filter(function(o,m){var y=S4(s,o),v=n.props[i].filter(function(P){var I=Vdt(n,t);return I(P,t)}),S=n.props[i].indexOf(v[v.length-1]),C=m===S;return y&&C}),h=r.indexOf(c[c.length-1]);return h}var qdt=Math.ceil,Xdt=Math.max;function Ydt(e,t,n,r){for(var i=-1,s=Xdt(qdt((t-e)/(n||1)),0),c=Array(s);s--;)c[r?s:++i]=e,e+=n;return c}var Jdt=Ydt,Qdt=Oue,eht=1/0,tht=17976931348623157e292;function nht(e){if(!e)return e===0?e:0;if(e=Qdt(e),e===eht||e===-1/0){var t=e<0?-1:1;return t*tht}return e===e?e:0}var rht=nht,iht=Jdt,oht=f4,ik=rht;function aht(e){return function(t,n,r){return r&&typeof r!="number"&&oht(t,n,r)&&(n=r=void 0),t=ik(t),n===void 0?(n=t,t=0):n=ik(n),r=r===void 0?t<n?1:-1:ik(r),iht(t,n,r,e)}}var sht=aht,lht=sht,cht=lht(),uht=cht;const pP=Li(uht);function FS(e){"@babel/helpers - typeof";return FS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FS(e)}function DJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DJ(Object(n),!0).forEach(function(r){Xde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xde(e,t,n){return t=dht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dht(e){var t=hht(e,"string");return FS(t)=="symbol"?t:t+""}function hht(e,t){if(FS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(FS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pht=["Webkit","Moz","O","ms"],fht=function(t,n){var r=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=pht.reduce(function(s,c){return LJ(LJ({},s),{},Xde({},c+r,n))},{});return i[t]=n,i};function ob(e){"@babel/helpers - typeof";return ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ob(e)}function fP(){return fP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fP.apply(this,arguments)}function FJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ok(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FJ(Object(n),!0).forEach(function(r){hc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jde(r.key),r)}}function ght(e,t,n){return t&&$J(e.prototype,t),n&&$J(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yht(e,t,n){return t=mP(t),vht(e,Yde()?Reflect.construct(t,n||[],mP(e).constructor):t.apply(e,n))}function vht(e,t){if(t&&(ob(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bht(e)}function bht(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yde=function(){return!!e})()}function mP(e){return mP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mP(e)}function _ht(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YR(e,t)}function YR(e,t){return YR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YR(e,t)}function hc(e,t,n){return t=Jde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jde(e){var t=xht(e,"string");return ob(t)=="symbol"?t:t+""}function xht(e,t){if(ob(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ob(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wht=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,s=t.x,c=t.width,h=t.travellerWidth;if(!n||!n.length)return{};var o=n.length,m=dw().domain(pP(0,o)).range([s,s+c-h]),y=m.domain().map(function(v){return m(v)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:m(r),endX:m(i),scale:m,scaleValues:y}},jJ=function(t){return t.changedTouches&&!!t.changedTouches.length},ab=function(e){function t(n){var r;return mht(this,t),r=yht(this,t,[n]),hc(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),hc(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),hc(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,c=i.onDragEnd,h=i.startIndex;c==null||c({endIndex:s,startIndex:h})}),r.detachDragEndListener()}),hc(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),hc(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),hc(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),hc(r,"handleSlideDragStart",function(i){var s=jJ(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return _ht(t,e),ght(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,c=this.state.scaleValues,h=this.props,o=h.gap,m=h.data,y=m.length-1,v=Math.min(i,s),S=Math.max(i,s),C=t.getIndexInRange(c,v),P=t.getIndexInRange(c,S);return{startIndex:C-C%o,endIndex:P===y?y:P-P%o}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,c=i.tickFormatter,h=i.dataKey,o=Oc(s[r],h,r);return $i(c)?c(o,r):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,c=i.startX,h=i.endX,o=this.props,m=o.x,y=o.width,v=o.travellerWidth,S=o.startIndex,C=o.endIndex,P=o.onChange,I=r.pageX-s;I>0?I=Math.min(I,m+y-v-h,m+y-v-c):I<0&&(I=Math.max(I,m-c,m-h));var N=this.getIndex({startX:c+I,endX:h+I});(N.startIndex!==S||N.endIndex!==C)&&P&&P(N),this.setState({startX:c+I,endX:h+I,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=jJ(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,c=i.movingTravellerId,h=i.endX,o=i.startX,m=this.state[c],y=this.props,v=y.x,S=y.width,C=y.travellerWidth,P=y.onChange,I=y.gap,N=y.data,D={startX:this.state.startX,endX:this.state.endX},k=r.pageX-s;k>0?k=Math.min(k,v+S-C-m):k<0&&(k=Math.max(k,v-m)),D[c]=m+k;var F=this.getIndex(D),U=F.startIndex,B=F.endIndex,z=function(){var Y=N.length-1;return c==="startX"&&(h>o?U%I===0:B%I===0)||h<o&&B===Y||c==="endX"&&(h>o?B%I===0:U%I===0)||h>o&&B===Y};this.setState(hc(hc({},c,m+k),"brushMoveStartX",r.pageX),function(){P&&z()&&P(F)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,c=this.state,h=c.scaleValues,o=c.startX,m=c.endX,y=this.state[i],v=h.indexOf(y);if(v!==-1){var S=v+r;if(!(S===-1||S>=h.length)){var C=h[S];i==="startX"&&C>=m||i==="endX"&&C<=o||this.setState(hc({},i,C),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,c=r.width,h=r.height,o=r.fill,m=r.stroke;return Oe.createElement("rect",{stroke:m,fill:o,x:i,y:s,width:c,height:h})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,c=r.width,h=r.height,o=r.data,m=r.children,y=r.padding,v=A.Children.only(m);return v?Oe.cloneElement(v,{x:i,y:s,width:c,height:h,margin:y,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,c,h=this,o=this.props,m=o.y,y=o.travellerWidth,v=o.height,S=o.traveller,C=o.ariaLabel,P=o.data,I=o.startIndex,N=o.endIndex,D=Math.max(r,this.props.x),k=ok(ok({},Xi(this.props,!1)),{},{x:D,y:m,width:y,height:v}),F=C||"Min value: ".concat((s=P[I])===null||s===void 0?void 0:s.name,", Max value: ").concat((c=P[N])===null||c===void 0?void 0:c.name);return Oe.createElement(ka,{tabIndex:0,role:"slider","aria-label":F,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(B){["ArrowLeft","ArrowRight"].includes(B.key)&&(B.preventDefault(),B.stopPropagation(),h.handleTravellerMoveKeyboard(B.key==="ArrowRight"?1:-1,i))},onFocus:function(){h.setState({isTravellerFocused:!0})},onBlur:function(){h.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(S,k))}},{key:"renderSlide",value:function(r,i){var s=this.props,c=s.y,h=s.height,o=s.stroke,m=s.travellerWidth,y=Math.min(r,i)+m,v=Math.max(Math.abs(i-r)-m,0);return Oe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:y,y:c,width:v,height:h})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,c=r.y,h=r.height,o=r.travellerWidth,m=r.stroke,y=this.state,v=y.startX,S=y.endX,C=5,P={pointerEvents:"none",fill:m};return Oe.createElement(ka,{className:"recharts-brush-texts"},Oe.createElement(HT,fP({textAnchor:"end",verticalAnchor:"middle",x:Math.min(v,S)-C,y:c+h/2},P),this.getTextOfTick(i)),Oe.createElement(HT,fP({textAnchor:"start",verticalAnchor:"middle",x:Math.max(v,S)+o+C,y:c+h/2},P),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,c=r.children,h=r.x,o=r.y,m=r.width,y=r.height,v=r.alwaysShowText,S=this.state,C=S.startX,P=S.endX,I=S.isTextActive,N=S.isSlideMoving,D=S.isTravellerMoving,k=S.isTravellerFocused;if(!i||!i.length||!yr(h)||!yr(o)||!yr(m)||!yr(y)||m<=0||y<=0)return null;var F=no("recharts-brush",s),U=Oe.Children.count(c)===1,B=fht("userSelect","none");return Oe.createElement(ka,{className:F,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:B},this.renderBackground(),U&&this.renderPanorama(),this.renderSlide(C,P),this.renderTravellerLayer(C,"startX"),this.renderTravellerLayer(P,"endX"),(I||N||D||k||v)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,c=r.width,h=r.height,o=r.stroke,m=Math.floor(s+h/2)-1;return Oe.createElement(Oe.Fragment,null,Oe.createElement("rect",{x:i,y:s,width:c,height:h,fill:o,stroke:"none"}),Oe.createElement("line",{x1:i+1,y1:m,x2:i+c-1,y2:m,fill:"none",stroke:"#fff"}),Oe.createElement("line",{x1:i+1,y1:m+2,x2:i+c-1,y2:m+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return Oe.isValidElement(r)?s=Oe.cloneElement(r,i):$i(r)?s=r(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,c=r.width,h=r.x,o=r.travellerWidth,m=r.updateId,y=r.startIndex,v=r.endIndex;if(s!==i.prevData||m!==i.prevUpdateId)return ok({prevData:s,prevTravellerWidth:o,prevUpdateId:m,prevX:h,prevWidth:c},s&&s.length?wht({data:s,width:c,x:h,travellerWidth:o,startIndex:y,endIndex:v}):{scale:null,scaleValues:null});if(i.scale&&(c!==i.prevWidth||h!==i.prevX||o!==i.prevTravellerWidth)){i.scale.range([h,h+c-o]);var S=i.scale.domain().map(function(C){return i.scale(C)});return{prevData:s,prevTravellerWidth:o,prevUpdateId:m,prevX:h,prevWidth:c,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:S}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,c=0,h=s-1;h-c>1;){var o=Math.floor((c+h)/2);r[o]>i?h=o:c=o}return i>=r[h]?h:c}}])}(A.PureComponent);hc(ab,"displayName","Brush");hc(ab,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Sht=Z9;function Aht(e,t){var n;return Sht(e,function(r,i,s){return n=t(r,i,s),!n}),!!n}var Cht=Aht,Mht=oue,Eht=Hb,Tht=Cht,Pht=Gl,Iht=f4;function Oht(e,t,n){var r=Pht(e)?Mht:Tht;return n&&Iht(e,t,n)&&(t=void 0),r(e,Eht(t))}var kht=Oht;const Nht=Li(kht);var Xd=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},zJ=Mue;function Rht(e,t,n){t=="__proto__"&&zJ?zJ(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Dht=Rht,Lht=Dht,Fht=Aue,$ht=Hb;function jht(e,t){var n={};return t=$ht(t),Fht(e,function(r,i,s){Lht(n,i,t(r,i,s))}),n}var zht=jht;const Bht=Li(zht);function Zht(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var Uht=Zht,Hht=Z9;function Vht(e,t){var n=!0;return Hht(e,function(r,i,s){return n=!!t(r,i,s),n}),n}var Wht=Vht,Ght=Uht,Kht=Wht,qht=Hb,Xht=Gl,Yht=f4;function Jht(e,t,n){var r=Xht(e)?Ght:Kht;return n&&Yht(e,t,n)&&(t=void 0),r(e,qht(t))}var Qht=Jht;const ept=Li(Qht);var tpt=["x","y"];function $S(e){"@babel/helpers - typeof";return $S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$S(e)}function JR(){return JR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JR.apply(this,arguments)}function BJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ox(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BJ(Object(n),!0).forEach(function(r){npt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function npt(e,t,n){return t=rpt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rpt(e){var t=ipt(e,"string");return $S(t)=="symbol"?t:t+""}function ipt(e,t){if($S(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($S(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function opt(e,t){if(e==null)return{};var n=apt(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function apt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function spt(e,t){var n=e.x,r=e.y,i=opt(e,tpt),s="".concat(n),c=parseInt(s,10),h="".concat(r),o=parseInt(h,10),m="".concat(t.height||i.height),y=parseInt(m,10),v="".concat(t.width||i.width),S=parseInt(v,10);return Ox(Ox(Ox(Ox(Ox({},t),i),c?{x:c}:{}),o?{y:o}:{}),{},{height:y,width:S,name:t.name,radius:t.radius})}function ZJ(e){return Oe.createElement(Bdt,JR({shapeType:"rectangle",propTransformer:spt,activeClassName:"recharts-active-bar"},e))}var lpt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var s=typeof r=="number";return s?t(r,i):(s||Gg(),n)}},cpt=["value","background"],Qde;function sb(e){"@babel/helpers - typeof";return sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sb(e)}function upt(e,t){if(e==null)return{};var n=dpt(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dpt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function gP(){return gP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gP.apply(this,arguments)}function UJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Za(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UJ(Object(n),!0).forEach(function(r){yf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,the(r.key),r)}}function ppt(e,t,n){return t&&HJ(e.prototype,t),n&&HJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fpt(e,t,n){return t=yP(t),mpt(e,ehe()?Reflect.construct(t,n||[],yP(e).constructor):t.apply(e,n))}function mpt(e,t){if(t&&(sb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gpt(e)}function gpt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ehe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ehe=function(){return!!e})()}function yP(e){return yP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yP(e)}function ypt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QR(e,t)}function QR(e,t){return QR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QR(e,t)}function yf(e,t,n){return t=the(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function the(e){var t=vpt(e,"string");return sb(t)=="symbol"?t:t+""}function vpt(e,t){if(sb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qf=function(e){function t(){var n;hpt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=fpt(this,t,[].concat(i)),yf(n,"state",{isAnimationFinished:!1}),yf(n,"id",xA("recharts-bar-")),yf(n,"handleAnimationEnd",function(){var c=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),c&&c()}),yf(n,"handleAnimationStart",function(){var c=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),c&&c()}),n}return ypt(t,e),ppt(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,c=s.shape,h=s.dataKey,o=s.activeIndex,m=s.activeBar,y=Xi(this.props,!1);return r&&r.map(function(v,S){var C=S===o,P=C?m:c,I=Za(Za(Za({},y),v),{},{isActive:C,option:P,index:S,dataKey:h,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Oe.createElement(ka,gP({className:"recharts-bar-rectangle"},IT(i.props,v,S),{key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value)}),Oe.createElement(ZJ,I))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,c=i.layout,h=i.isAnimationActive,o=i.animationBegin,m=i.animationDuration,y=i.animationEasing,v=i.animationId,S=this.state.prevData;return Oe.createElement(lp,{begin:o,duration:m,isActive:h,easing:y,from:{t:0},to:{t:1},key:"bar-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var P=C.t,I=s.map(function(N,D){var k=S&&S[D];if(k){var F=$u(k.x,N.x),U=$u(k.y,N.y),B=$u(k.width,N.width),z=$u(k.height,N.height);return Za(Za({},N),{},{x:F(P),y:U(P),width:B(P),height:z(P)})}if(c==="horizontal"){var W=$u(0,N.height),Y=W(P);return Za(Za({},N),{},{y:N.y+N.height-Y,height:Y})}var K=$u(0,N.width),ee=K(P);return Za(Za({},N),{},{width:ee})});return Oe.createElement(ka,null,r.renderRectanglesStatically(I))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,c=this.state.prevData;return s&&i&&i.length&&(!c||!S4(c,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,c=i.dataKey,h=i.activeIndex,o=Xi(this.props.background,!1);return s.map(function(m,y){m.value;var v=m.background,S=upt(m,cpt);if(!v)return null;var C=Za(Za(Za(Za(Za({},S),{},{fill:"#eee"},v),o),IT(r.props,m,y)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:c,index:y,className:"recharts-bar-background-rectangle"});return Oe.createElement(ZJ,gP({key:"background-bar-".concat(y),option:r.props.background,isActive:y===h},C))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.data,h=s.xAxis,o=s.yAxis,m=s.layout,y=s.children,v=eu(y,MA);if(!v)return null;var S=m==="vertical"?c[0].height/2:c[0].width/2,C=function(N,D){var k=Array.isArray(N.value)?N.value[1]:N.value;return{x:N.x,y:N.y,value:k,errorVal:Oc(N,D)}},P={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Oe.createElement(ka,P,v.map(function(I){return Oe.cloneElement(I,{key:"error-bar-".concat(i,"-").concat(I.props.dataKey),data:c,xAxis:h,yAxis:o,layout:m,offset:S,dataPointFormatter:C})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,c=r.className,h=r.xAxis,o=r.yAxis,m=r.left,y=r.top,v=r.width,S=r.height,C=r.isAnimationActive,P=r.background,I=r.id;if(i||!s||!s.length)return null;var N=this.state.isAnimationFinished,D=no("recharts-bar",c),k=h&&h.allowDataOverflow,F=o&&o.allowDataOverflow,U=k||F,B=zi(I)?this.id:I;return Oe.createElement(ka,{className:D},k||F?Oe.createElement("defs",null,Oe.createElement("clipPath",{id:"clipPath-".concat(B)},Oe.createElement("rect",{x:k?m:m-v/2,y:F?y:y-S/2,width:k?v:v*2,height:F?S:S*2}))):null,Oe.createElement(ka,{className:"recharts-bar-rectangles",clipPath:U?"url(#clipPath-".concat(B,")"):null},P?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(U,B),(!C||N)&&Tf.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(A.PureComponent);Qde=Qf;yf(Qf,"displayName","Bar");yf(Qf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Vb.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});yf(Qf,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,s=e.xAxis,c=e.yAxis,h=e.xAxisTicks,o=e.yAxisTicks,m=e.stackedData,y=e.dataStartIndex,v=e.displayedData,S=e.offset,C=Xst(r,n);if(!C)return null;var P=t.layout,I=n.type.defaultProps,N=I!==void 0?Za(Za({},I),n.props):n.props,D=N.dataKey,k=N.children,F=N.minPointSize,U=P==="horizontal"?c:s,B=m?U.scale.domain():null,z=ilt({numericAxis:U}),W=eu(k,Nue),Y=v.map(function(K,ee){var re,oe,he,be,le,ye;m?re=Yst(m[y+ee],B):(re=Oc(K,D),Array.isArray(re)||(re=[z,re]));var fe=lpt(F,Qde.defaultProps.minPointSize)(re[1],ee);if(P==="horizontal"){var ue,xe=[c.scale(re[0]),c.scale(re[1])],ae=xe[0],Ee=xe[1];oe=HY({axis:s,ticks:h,bandSize:i,offset:C.offset,entry:K,index:ee}),he=(ue=Ee??ae)!==null&&ue!==void 0?ue:void 0,be=C.size;var Me=ae-Ee;if(le=Number.isNaN(Me)?0:Me,ye={x:oe,y:c.y,width:be,height:c.height},Math.abs(fe)>0&&Math.abs(le)<Math.abs(fe)){var de=Zu(le||fe)*(Math.abs(fe)-Math.abs(le));he-=de,le+=de}}else{var ze=[s.scale(re[0]),s.scale(re[1])],$e=ze[0],et=ze[1];if(oe=$e,he=HY({axis:c,ticks:o,bandSize:i,offset:C.offset,entry:K,index:ee}),be=et-$e,le=C.size,ye={x:s.x,y:he,width:s.width,height:le},Math.abs(fe)>0&&Math.abs(be)<Math.abs(fe)){var gt=Zu(be||fe)*(Math.abs(fe)-Math.abs(be));be+=gt}}return Za(Za(Za({},K),{},{x:oe,y:he,width:be,height:le,value:m?re:re[1],payload:K,background:ye},W&&W[ee]&&W[ee].props),{},{tooltipPayload:[$de(n,K)],tooltipPosition:{x:oe+be/2,y:he+le/2}})});return Za({data:Y,layout:P},S)});function jS(e){"@babel/helpers - typeof";return jS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jS(e)}function bpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nhe(r.key),r)}}function _pt(e,t,n){return t&&VJ(e.prototype,t),n&&VJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WJ(Object(n),!0).forEach(function(r){T4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T4(e,t,n){return t=nhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nhe(e){var t=xpt(e,"string");return jS(t)=="symbol"?t:t+""}function xpt(e,t){if(jS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rhe=function(t,n,r,i,s){var c=t.width,h=t.height,o=t.layout,m=t.children,y=Object.keys(n),v={left:r.left,leftMirror:r.left,right:c-r.right,rightMirror:c-r.right,top:r.top,topMirror:r.top,bottom:h-r.bottom,bottomMirror:h-r.bottom},S=!!mc(m,Qf);return y.reduce(function(C,P){var I=n[P],N=I.orientation,D=I.domain,k=I.padding,F=k===void 0?{}:k,U=I.mirror,B=I.reversed,z="".concat(N).concat(U?"Mirror":""),W,Y,K,ee,re;if(I.type==="number"&&(I.padding==="gap"||I.padding==="no-gap")){var oe=D[1]-D[0],he=1/0,be=I.categoricalDomain.sort();if(be.forEach(function(ze,$e){$e>0&&(he=Math.min((ze||0)-(be[$e-1]||0),he))}),Number.isFinite(he)){var le=he/oe,ye=I.layout==="vertical"?r.height:r.width;if(I.padding==="gap"&&(W=le*ye/2),I.padding==="no-gap"){var fe=Vg(t.barCategoryGap,le*ye),ue=le*ye/2;W=ue-fe-(ue-fe)/ye*fe}}}i==="xAxis"?Y=[r.left+(F.left||0)+(W||0),r.left+r.width-(F.right||0)-(W||0)]:i==="yAxis"?Y=o==="horizontal"?[r.top+r.height-(F.bottom||0),r.top+(F.top||0)]:[r.top+(F.top||0)+(W||0),r.top+r.height-(F.bottom||0)-(W||0)]:Y=I.range,B&&(Y=[Y[1],Y[0]]);var xe=Kst(I,s,S),ae=xe.scale,Ee=xe.realScaleType;ae.domain(D).range(Y),qst(ae);var Me=rlt(ae,Nu(Nu({},I),{},{realScaleType:Ee}));i==="xAxis"?(re=N==="top"&&!U||N==="bottom"&&U,K=r.left,ee=v[z]-re*I.height):i==="yAxis"&&(re=N==="left"&&!U||N==="right"&&U,K=v[z]-re*I.width,ee=r.top);var de=Nu(Nu(Nu({},I),Me),{},{realScaleType:Ee,x:K,y:ee,scale:ae,width:i==="xAxis"?r.width:I.width,height:i==="yAxis"?r.height:I.height});return de.bandSize=iP(de,Me),!I.hide&&i==="xAxis"?v[z]+=(re?-1:1)*de.height:I.hide||(v[z]+=(re?-1:1)*de.width),Nu(Nu({},C),{},T4({},P,de))},{})},ihe=function(t,n){var r=t.x,i=t.y,s=n.x,c=n.y;return{x:Math.min(r,s),y:Math.min(i,c),width:Math.abs(s-r),height:Math.abs(c-i)}},wpt=function(t){var n=t.x1,r=t.y1,i=t.x2,s=t.y2;return ihe({x:n,y:r},{x:i,y:s})},ohe=function(){function e(t){bpt(this,e),this.scale=t}return _pt(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}case"end":{var h=this.bandwidth?this.bandwidth():0;return this.scale(n)+h}default:return this.scale(n)}if(i){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();T4(ohe,"EPS",1e-4);var vF=function(t){var n=Object.keys(t).reduce(function(r,i){return Nu(Nu({},r),{},T4({},i,ohe.create(t[i])))},{});return Nu(Nu({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=s.bandAware,h=s.position;return Bht(i,function(o,m){return n[m].apply(o,{bandAware:c,position:h})})},isInRange:function(i){return ept(i,function(s,c){return n[c].isInRange(s)})}})};function Spt(e){return(e%180+180)%180}var Apt=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Spt(i),c=s*Math.PI/180,h=Math.atan(r/n),o=c>h&&c<Math.PI-h?r/Math.sin(c):n/Math.cos(c);return Math.abs(o)},Cpt=DVe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),ahe=A.createContext(void 0),she=A.createContext(void 0),lhe=A.createContext(void 0),Mpt=A.createContext({}),che=A.createContext(void 0),uhe=A.createContext(0),dhe=A.createContext(0),GJ=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,c=t.clipPathId,h=t.children,o=t.width,m=t.height,y=Cpt(s);return Oe.createElement(ahe.Provider,{value:r},Oe.createElement(she.Provider,{value:i},Oe.createElement(Mpt.Provider,{value:s},Oe.createElement(lhe.Provider,{value:y},Oe.createElement(che.Provider,{value:c},Oe.createElement(uhe.Provider,{value:m},Oe.createElement(dhe.Provider,{value:o},h)))))))},Ept=function(){return A.useContext(che)},hhe=function(t){var n=A.useContext(ahe);n==null&&Gg();var r=n[t];return r==null&&Gg(),r},phe=function(t){var n=A.useContext(she);n==null&&Gg();var r=n[t];return r==null&&Gg(),r},Tpt=function(){var t=A.useContext(lhe);return t},fhe=function(){return A.useContext(dhe)},mhe=function(){return A.useContext(uhe)};function lb(e){"@babel/helpers - typeof";return lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lb(e)}function Ppt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ipt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yhe(r.key),r)}}function Opt(e,t,n){return t&&Ipt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kpt(e,t,n){return t=vP(t),Npt(e,ghe()?Reflect.construct(t,n||[],vP(e).constructor):t.apply(e,n))}function Npt(e,t){if(t&&(lb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rpt(e)}function Rpt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ghe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ghe=function(){return!!e})()}function vP(e){return vP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vP(e)}function Dpt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eD(e,t)}function eD(e,t){return eD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eD(e,t)}function KJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KJ(Object(n),!0).forEach(function(r){bF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bF(e,t,n){return t=yhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yhe(e){var t=Lpt(e,"string");return lb(t)=="symbol"?t:t+""}function Lpt(e,t){if(lb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Fpt(e,t){return Bpt(e)||zpt(e,t)||jpt(e,t)||$pt()}function $pt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jpt(e,t){if(e){if(typeof e=="string")return XJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XJ(e,t)}}function XJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zpt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,c,h=[],o=!0,m=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(o=(r=s.call(n)).done)&&(h.push(r.value),h.length!==t);o=!0);}catch(y){m=!0,i=y}finally{try{if(!o&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw i}}return h}}function Bpt(e){if(Array.isArray(e))return e}function tD(){return tD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tD.apply(this,arguments)}var Zpt=function(t,n){var r;return Oe.isValidElement(t)?r=Oe.cloneElement(t,n):$i(t)?r=t(n):r=Oe.createElement("line",tD({},n,{className:"recharts-reference-line-line"})),r},Upt=function(t,n,r,i,s,c,h,o,m){var y=s.x,v=s.y,S=s.width,C=s.height;if(r){var P=m.y,I=t.y.apply(P,{position:c});if(Xd(m,"discard")&&!t.y.isInRange(I))return null;var N=[{x:y+S,y:I},{x:y,y:I}];return o==="left"?N.reverse():N}if(n){var D=m.x,k=t.x.apply(D,{position:c});if(Xd(m,"discard")&&!t.x.isInRange(k))return null;var F=[{x:k,y:v+C},{x:k,y:v}];return h==="top"?F.reverse():F}if(i){var U=m.segment,B=U.map(function(z){return t.apply(z,{position:c})});return Xd(m,"discard")&&Nht(B,function(z){return!t.isInRange(z)})?null:B}return null};function Hpt(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,s=e.yAxisId,c=e.shape,h=e.className,o=e.alwaysShow,m=Ept(),y=hhe(i),v=phe(s),S=Tpt();if(!m||!S)return null;Ig(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var C=vF({x:y.scale,y:v.scale}),P=ts(t),I=ts(n),N=r&&r.length===2,D=Upt(C,P,I,N,S,e.position,y.orientation,v.orientation,e);if(!D)return null;var k=Fpt(D,2),F=k[0],U=F.x,B=F.y,z=k[1],W=z.x,Y=z.y,K=Xd(e,"hidden")?"url(#".concat(m,")"):void 0,ee=qJ(qJ({clipPath:K},Xi(e,!0)),{},{x1:U,y1:B,x2:W,y2:Y});return Oe.createElement(ka,{className:no("recharts-reference-line",h)},Zpt(c,ee),Ks.renderCallByParent(e,wpt({x1:U,y1:B,x2:W,y2:Y})))}var _F=function(e){function t(){return Ppt(this,t),kpt(this,t,arguments)}return Dpt(t,e),Opt(t,[{key:"render",value:function(){return Oe.createElement(Hpt,this.props)}}])}(Oe.Component);bF(_F,"displayName","ReferenceLine");bF(_F,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function nD(){return nD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nD.apply(this,arguments)}function cb(e){"@babel/helpers - typeof";return cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cb(e)}function YJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YJ(Object(n),!0).forEach(function(r){P4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wpt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bhe(r.key),r)}}function Gpt(e,t,n){return t&&Wpt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kpt(e,t,n){return t=bP(t),qpt(e,vhe()?Reflect.construct(t,n||[],bP(e).constructor):t.apply(e,n))}function qpt(e,t){if(t&&(cb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xpt(e)}function Xpt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vhe=function(){return!!e})()}function bP(e){return bP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bP(e)}function Ypt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rD(e,t)}function rD(e,t){return rD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rD(e,t)}function P4(e,t,n){return t=bhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bhe(e){var t=Jpt(e,"string");return cb(t)=="symbol"?t:t+""}function Jpt(e,t){if(cb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qpt=function(t){var n=t.x,r=t.y,i=t.xAxis,s=t.yAxis,c=vF({x:i.scale,y:s.scale}),h=c.apply({x:n,y:r},{bandAware:!0});return Xd(t,"discard")&&!c.isInRange(h)?null:h},I4=function(e){function t(){return Vpt(this,t),Kpt(this,t,arguments)}return Ypt(t,e),Gpt(t,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,c=r.r,h=r.alwaysShow,o=r.clipPathId,m=ts(i),y=ts(s);if(Ig(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!m||!y)return null;var v=Qpt(this.props);if(!v)return null;var S=v.x,C=v.y,P=this.props,I=P.shape,N=P.className,D=Xd(this.props,"hidden")?"url(#".concat(o,")"):void 0,k=JJ(JJ({clipPath:D},Xi(this.props,!0)),{},{cx:S,cy:C});return Oe.createElement(ka,{className:no("recharts-reference-dot",N)},t.renderDot(I,k),Ks.renderCallByParent(this.props,{x:S-c,y:C-c,width:2*c,height:2*c}))}}])}(Oe.Component);P4(I4,"displayName","ReferenceDot");P4(I4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});P4(I4,"renderDot",function(e,t){var n;return Oe.isValidElement(e)?n=Oe.cloneElement(e,t):$i(e)?n=e(t):n=Oe.createElement(yF,nD({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function iD(){return iD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iD.apply(this,arguments)}function ub(e){"@babel/helpers - typeof";return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ub(e)}function QJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QJ(Object(n),!0).forEach(function(r){O4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xhe(r.key),r)}}function nft(e,t,n){return t&&tft(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rft(e,t,n){return t=_P(t),ift(e,_he()?Reflect.construct(t,n||[],_P(e).constructor):t.apply(e,n))}function ift(e,t){if(t&&(ub(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oft(e)}function oft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _he(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_he=function(){return!!e})()}function _P(e){return _P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_P(e)}function aft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oD(e,t)}function oD(e,t){return oD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oD(e,t)}function O4(e,t,n){return t=xhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xhe(e){var t=sft(e,"string");return ub(t)=="symbol"?t:t+""}function sft(e,t){if(ub(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ub(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lft=function(t,n,r,i,s){var c=s.x1,h=s.x2,o=s.y1,m=s.y2,y=s.xAxis,v=s.yAxis;if(!y||!v)return null;var S=vF({x:y.scale,y:v.scale}),C={x:t?S.x.apply(c,{position:"start"}):S.x.rangeMin,y:r?S.y.apply(o,{position:"start"}):S.y.rangeMin},P={x:n?S.x.apply(h,{position:"end"}):S.x.rangeMax,y:i?S.y.apply(m,{position:"end"}):S.y.rangeMax};return Xd(s,"discard")&&(!S.isInRange(C)||!S.isInRange(P))?null:ihe(C,P)},k4=function(e){function t(){return eft(this,t),rft(this,t,arguments)}return aft(t,e),nft(t,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,c=r.y1,h=r.y2,o=r.className,m=r.alwaysShow,y=r.clipPathId;Ig(m===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=ts(i),S=ts(s),C=ts(c),P=ts(h),I=this.props.shape;if(!v&&!S&&!C&&!P&&!I)return null;var N=lft(v,S,C,P,this.props);if(!N&&!I)return null;var D=Xd(this.props,"hidden")?"url(#".concat(y,")"):void 0;return Oe.createElement(ka,{className:no("recharts-reference-area",o)},t.renderRect(I,eQ(eQ({clipPath:D},Xi(this.props,!0)),N)),Ks.renderCallByParent(this.props,N))}}])}(Oe.Component);O4(k4,"displayName","ReferenceArea");O4(k4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});O4(k4,"renderRect",function(e,t){var n;return Oe.isValidElement(e)?n=Oe.cloneElement(e,t):$i(e)?n=e(t):n=Oe.createElement(gF,iD({},t,{className:"recharts-reference-area-rect"})),n});function whe(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function cft(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Apt(r,n)}function uft(e,t,n){var r=n==="width",i=e.x,s=e.y,c=e.width,h=e.height;return t===1?{start:r?i:s,end:r?i+c:s+h}:{start:r?i+c:s+h,end:r?i:s}}function xP(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function dft(e,t){return whe(e,t+1)}function hft(e,t,n,r,i){for(var s=(r||[]).slice(),c=t.start,h=t.end,o=0,m=1,y=c,v=function(){var P=r==null?void 0:r[o];if(P===void 0)return{v:whe(r,m)};var I=o,N,D=function(){return N===void 0&&(N=n(P,I)),N},k=P.coordinate,F=o===0||xP(e,k,D,y,h);F||(o=0,y=c,m+=1),F&&(y=k+e*(D()/2+i),o+=m)},S;m<=s.length;)if(S=v(),S)return S.v;return[]}function zS(e){"@babel/helpers - typeof";return zS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zS(e)}function tQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tQ(Object(n),!0).forEach(function(r){pft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pft(e,t,n){return t=fft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fft(e){var t=mft(e,"string");return zS(t)=="symbol"?t:t+""}function mft(e,t){if(zS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gft(e,t,n,r,i){for(var s=(r||[]).slice(),c=s.length,h=t.start,o=t.end,m=function(S){var C=s[S],P,I=function(){return P===void 0&&(P=n(C,S)),P};if(S===c-1){var N=e*(C.coordinate+e*I()/2-o);s[S]=C=Us(Us({},C),{},{tickCoord:N>0?C.coordinate-N*e:C.coordinate})}else s[S]=C=Us(Us({},C),{},{tickCoord:C.coordinate});var D=xP(e,C.tickCoord,I,h,o);D&&(o=C.tickCoord-e*(I()/2+i),s[S]=Us(Us({},C),{},{isShow:!0}))},y=c-1;y>=0;y--)m(y);return s}function yft(e,t,n,r,i,s){var c=(r||[]).slice(),h=c.length,o=t.start,m=t.end;if(s){var y=r[h-1],v=n(y,h-1),S=e*(y.coordinate+e*v/2-m);c[h-1]=y=Us(Us({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate});var C=xP(e,y.tickCoord,function(){return v},o,m);C&&(m=y.tickCoord-e*(v/2+i),c[h-1]=Us(Us({},y),{},{isShow:!0}))}for(var P=s?h-1:h,I=function(k){var F=c[k],U,B=function(){return U===void 0&&(U=n(F,k)),U};if(k===0){var z=e*(F.coordinate-e*B()/2-o);c[k]=F=Us(Us({},F),{},{tickCoord:z<0?F.coordinate-z*e:F.coordinate})}else c[k]=F=Us(Us({},F),{},{tickCoord:F.coordinate});var W=xP(e,F.tickCoord,B,o,m);W&&(o=F.tickCoord+e*(B()/2+i),c[k]=Us(Us({},F),{},{isShow:!0}))},N=0;N<P;N++)I(N);return c}function vft(e,t,n){var r=e.tick,i=e.ticks,s=e.viewBox,c=e.minTickGap,h=e.orientation,o=e.interval,m=e.tickFormatter,y=e.unit,v=e.angle;if(!i||!i.length||!r)return[];if(yr(o)||Vb.isSsr)return dft(i,typeof o=="number"&&yr(o)?o:0);var S=[],C=h==="top"||h==="bottom"?"width":"height",P=y&&C==="width"?uw(y,{fontSize:t,letterSpacing:n}):{width:0,height:0},I=function(F,U){var B=$i(m)?m(F.value,U):F.value;return C==="width"?cft(uw(B,{fontSize:t,letterSpacing:n}),P,v):uw(B,{fontSize:t,letterSpacing:n})[C]},N=i.length>=2?Zu(i[1].coordinate-i[0].coordinate):1,D=uft(s,N,C);return o==="equidistantPreserveStart"?hft(N,D,I,i,c):(o==="preserveStart"||o==="preserveStartEnd"?S=yft(N,D,I,i,c,o==="preserveStartEnd"):S=gft(N,D,I,i,c),S.filter(function(k){return k.isShow}))}var bft=["viewBox"],_ft=["viewBox"],xft=["ticks"];function db(e){"@babel/helpers - typeof";return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},db(e)}function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t0.apply(this,arguments)}function nQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nQ(Object(n),!0).forEach(function(r){xF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ak(e,t){if(e==null)return{};var n=wft(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wft(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Sft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ahe(r.key),r)}}function Aft(e,t,n){return t&&rQ(e.prototype,t),n&&rQ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cft(e,t,n){return t=wP(t),Mft(e,She()?Reflect.construct(t,n||[],wP(e).constructor):t.apply(e,n))}function Mft(e,t){if(t&&(db(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eft(e)}function Eft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function She(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(She=function(){return!!e})()}function wP(e){return wP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wP(e)}function Tft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aD(e,t)}function aD(e,t){return aD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aD(e,t)}function xF(e,t,n){return t=Ahe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ahe(e){var t=Pft(e,"string");return db(t)=="symbol"?t:t+""}function Pft(e,t){if(db(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(db(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var N4=function(e){function t(n){var r;return Sft(this,t),r=Cft(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return Tft(t,e),Aft(t,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,c=ak(r,bft),h=this.props,o=h.viewBox,m=ak(h,_ft);return!b0(s,o)||!b0(c,m)||!b0(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,c=i.y,h=i.width,o=i.height,m=i.orientation,y=i.tickSize,v=i.mirror,S=i.tickMargin,C,P,I,N,D,k,F=v?-1:1,U=r.tickSize||y,B=yr(r.tickCoord)?r.tickCoord:r.coordinate;switch(m){case"top":C=P=r.coordinate,N=c+ +!v*o,I=N-F*U,k=I-F*S,D=B;break;case"left":I=N=r.coordinate,P=s+ +!v*h,C=P-F*U,D=C-F*S,k=B;break;case"right":I=N=r.coordinate,P=s+ +v*h,C=P+F*U,D=C+F*S,k=B;break;default:C=P=r.coordinate,N=c+ +v*o,I=N+F*U,k=I+F*S,D=B;break}return{line:{x1:C,y1:I,x2:P,y2:N},tick:{x:D,y:k}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,c;switch(i){case"left":c=s?"start":"end";break;case"right":c=s?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,c="end";switch(i){case"left":case"right":c="middle";break;case"top":c=s?"start":"end";break;default:c=s?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,c=r.width,h=r.height,o=r.orientation,m=r.mirror,y=r.axisLine,v=ll(ll(ll({},Xi(this.props,!1)),Xi(y,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var S=+(o==="top"&&!m||o==="bottom"&&m);v=ll(ll({},v),{},{x1:i,y1:s+S*h,x2:i+c,y2:s+S*h})}else{var C=+(o==="left"&&!m||o==="right"&&m);v=ll(ll({},v),{},{x1:i+C*c,y1:s,x2:i+C*c,y2:s+h})}return Oe.createElement("line",t0({},v,{className:no("recharts-cartesian-axis-line",Qc(y,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var c=this,h=this.props,o=h.tickLine,m=h.stroke,y=h.tick,v=h.tickFormatter,S=h.unit,C=vft(ll(ll({},this.props),{},{ticks:r}),i,s),P=this.getTickTextAnchor(),I=this.getTickVerticalAnchor(),N=Xi(this.props,!1),D=Xi(y,!1),k=ll(ll({},N),{},{fill:"none"},Xi(o,!1)),F=C.map(function(U,B){var z=c.getTickLineCoord(U),W=z.line,Y=z.tick,K=ll(ll(ll(ll({textAnchor:P,verticalAnchor:I},N),{},{stroke:"none",fill:m},D),Y),{},{index:B,payload:U,visibleTicksCount:C.length,tickFormatter:v});return Oe.createElement(ka,t0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},IT(c.props,U,B)),o&&Oe.createElement("line",t0({},k,W,{className:no("recharts-cartesian-axis-tick-line",Qc(o,"className"))})),y&&t.renderTickItem(y,K,"".concat($i(v)?v(U.value,B):U.value).concat(S||"")))});return Oe.createElement("g",{className:"recharts-cartesian-axis-ticks"},F)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,c=i.width,h=i.height,o=i.ticksGenerator,m=i.className,y=i.hide;if(y)return null;var v=this.props,S=v.ticks,C=ak(v,xft),P=S;return $i(o)&&(P=S&&S.length>0?o(this.props):o(C)),c<=0||h<=0||!P||!P.length?null:Oe.createElement(ka,{className:no("recharts-cartesian-axis",m),ref:function(N){r.layerReference=N}},s&&this.renderAxisLine(),this.renderTicks(P,this.state.fontSize,this.state.letterSpacing),Ks.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var c;return Oe.isValidElement(r)?c=Oe.cloneElement(r,i):$i(r)?c=r(i):c=Oe.createElement(HT,t0({},i,{className:"recharts-cartesian-axis-tick-value"}),s),c}}])}(A.Component);xF(N4,"displayName","CartesianAxis");xF(N4,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ift=["type","layout","connectNulls","ref"],Oft=["key"];function hb(e){"@babel/helpers - typeof";return hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hb(e)}function iQ(e,t){if(e==null)return{};var n=kft(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kft(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fw.apply(this,arguments)}function oQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oQ(Object(n),!0).forEach(function(r){Ru(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mv(e){return Lft(e)||Dft(e)||Rft(e)||Nft()}function Nft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rft(e,t){if(e){if(typeof e=="string")return sD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sD(e,t)}}function Dft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lft(e){if(Array.isArray(e))return sD(e)}function sD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mhe(r.key),r)}}function $ft(e,t,n){return t&&aQ(e.prototype,t),n&&aQ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jft(e,t,n){return t=SP(t),zft(e,Che()?Reflect.construct(t,n||[],SP(e).constructor):t.apply(e,n))}function zft(e,t){if(t&&(hb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bft(e)}function Bft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Che(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Che=function(){return!!e})()}function SP(e){return SP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SP(e)}function Zft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lD(e,t)}function lD(e,t){return lD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lD(e,t)}function Ru(e,t,n){return t=Mhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mhe(e){var t=Uft(e,"string");return hb(t)=="symbol"?t:t+""}function Uft(e,t){if(hb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var em=function(e){function t(){var n;Fft(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=jft(this,t,[].concat(i)),Ru(n,"state",{isAnimationFinished:!0,totalLength:0}),Ru(n,"generateSimpleStrokeDasharray",function(c,h){return"".concat(h,"px ").concat(c-h,"px")}),Ru(n,"getStrokeDasharray",function(c,h,o){var m=o.reduce(function(D,k){return D+k});if(!m)return n.generateSimpleStrokeDasharray(h,c);for(var y=Math.floor(c/m),v=c%m,S=h-c,C=[],P=0,I=0;P<o.length;I+=o[P],++P)if(I+o[P]>v){C=[].concat(Mv(o.slice(0,P)),[v-I]);break}var N=C.length%2===0?[0,S]:[S];return[].concat(Mv(t.repeat(o,y)),Mv(C),N).map(function(D){return"".concat(D,"px")}).join(", ")}),Ru(n,"id",xA("recharts-line-")),Ru(n,"pathRef",function(c){n.mainCurve=c}),Ru(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ru(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Zft(t,e),$ft(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.points,h=s.xAxis,o=s.yAxis,m=s.layout,y=s.children,v=eu(y,MA);if(!v)return null;var S=function(I,N){return{x:I.x,y:I.y,value:I.value,errorVal:Oc(I.payload,N)}},C={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Oe.createElement(ka,C,v.map(function(P){return Oe.cloneElement(P,{key:"bar-".concat(P.props.dataKey),data:c,xAxis:h,yAxis:o,layout:m,dataPointFormatter:S})}))}},{key:"renderDots",value:function(r,i,s){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var h=this.props,o=h.dot,m=h.points,y=h.dataKey,v=Xi(this.props,!1),S=Xi(o,!0),C=m.map(function(I,N){var D=uc(uc(uc({key:"dot-".concat(N),r:3},v),S),{},{value:I.value,dataKey:y,cx:I.x,cy:I.y,index:N,payload:I.payload});return t.renderDotItem(o,D)}),P={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return Oe.createElement(ka,fw({className:"recharts-line-dots",key:"dots"},P),C)}},{key:"renderCurveStatically",value:function(r,i,s,c){var h=this.props,o=h.type,m=h.layout,y=h.connectNulls;h.ref;var v=iQ(h,Ift),S=uc(uc(uc({},Xi(v,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},c),{},{type:o,layout:m,connectNulls:y});return Oe.createElement(jR,fw({},S,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,c=this.props,h=c.points,o=c.strokeDasharray,m=c.isAnimationActive,y=c.animationBegin,v=c.animationDuration,S=c.animationEasing,C=c.animationId,P=c.animateNewValues,I=c.width,N=c.height,D=this.state,k=D.prevPoints,F=D.totalLength;return Oe.createElement(lp,{begin:y,duration:v,isActive:m,easing:S,from:{t:0},to:{t:1},key:"line-".concat(C),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(U){var B=U.t;if(k){var z=k.length/h.length,W=h.map(function(oe,he){var be=Math.floor(he*z);if(k[be]){var le=k[be],ye=$u(le.x,oe.x),fe=$u(le.y,oe.y);return uc(uc({},oe),{},{x:ye(B),y:fe(B)})}if(P){var ue=$u(I*2,oe.x),xe=$u(N/2,oe.y);return uc(uc({},oe),{},{x:ue(B),y:xe(B)})}return uc(uc({},oe),{},{x:oe.x,y:oe.y})});return s.renderCurveStatically(W,r,i)}var Y=$u(0,F),K=Y(B),ee;if(o){var re="".concat(o).split(/[,\s]+/gim).map(function(oe){return parseFloat(oe)});ee=s.getStrokeDasharray(K,F,re)}else ee=s.generateSimpleStrokeDasharray(F,K);return s.renderCurveStatically(h,r,i,{strokeDasharray:ee})})}},{key:"renderCurve",value:function(r,i){var s=this.props,c=s.points,h=s.isAnimationActive,o=this.state,m=o.prevPoints,y=o.totalLength;return h&&c&&c.length&&(!m&&y>0||!S4(m,c))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(c,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,c=i.dot,h=i.points,o=i.className,m=i.xAxis,y=i.yAxis,v=i.top,S=i.left,C=i.width,P=i.height,I=i.isAnimationActive,N=i.id;if(s||!h||!h.length)return null;var D=this.state.isAnimationFinished,k=h.length===1,F=no("recharts-line",o),U=m&&m.allowDataOverflow,B=y&&y.allowDataOverflow,z=U||B,W=zi(N)?this.id:N,Y=(r=Xi(c,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},K=Y.r,ee=K===void 0?3:K,re=Y.strokeWidth,oe=re===void 0?2:re,he=LWe(c)?c:{},be=he.clipDot,le=be===void 0?!0:be,ye=ee*2+oe;return Oe.createElement(ka,{className:F},U||B?Oe.createElement("defs",null,Oe.createElement("clipPath",{id:"clipPath-".concat(W)},Oe.createElement("rect",{x:U?S:S-C/2,y:B?v:v-P/2,width:U?C:C*2,height:B?P:P*2})),!le&&Oe.createElement("clipPath",{id:"clipPath-dots-".concat(W)},Oe.createElement("rect",{x:S-ye/2,y:v-ye/2,width:C+ye,height:P+ye}))):null,!k&&this.renderCurve(z,W),this.renderErrorBar(z,W),(k||c)&&this.renderDots(z,le,W),(!I||D)&&Tf.renderCallByParent(this.props,h))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Mv(r),[0]):r,c=[],h=0;h<i;++h)c=[].concat(Mv(c),Mv(s));return c}},{key:"renderDotItem",value:function(r,i){var s;if(Oe.isValidElement(r))s=Oe.cloneElement(r,i);else if($i(r))s=r(i);else{var c=i.key,h=iQ(i,Oft),o=no("recharts-line-dot",typeof r!="boolean"?r.className:"");s=Oe.createElement(yF,fw({key:c},h,{className:o}))}return s}}])}(A.PureComponent);Ru(em,"displayName","Line");Ru(em,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Vb.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ru(em,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,c=e.dataKey,h=e.bandSize,o=e.displayedData,m=e.offset,y=t.layout,v=o.map(function(S,C){var P=Oc(S,c);return y==="horizontal"?{x:UY({axis:n,ticks:i,bandSize:h,entry:S,index:C}),y:zi(P)?null:r.scale(P),value:P,payload:S}:{x:zi(P)?null:n.scale(P),y:UY({axis:r,ticks:s,bandSize:h,entry:S,index:C}),value:P,payload:S}});return uc({points:v,layout:y},m)});function pb(e){"@babel/helpers - typeof";return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pb(e)}function Hft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Phe(r.key),r)}}function Wft(e,t,n){return t&&Vft(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gft(e,t,n){return t=AP(t),Kft(e,Ehe()?Reflect.construct(t,n||[],AP(e).constructor):t.apply(e,n))}function Kft(e,t){if(t&&(pb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qft(e)}function qft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ehe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ehe=function(){return!!e})()}function AP(e){return AP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},AP(e)}function Xft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cD(e,t)}function cD(e,t){return cD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cD(e,t)}function The(e,t,n){return t=Phe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Phe(e){var t=Yft(e,"string");return pb(t)=="symbol"?t:t+""}function Yft(e,t){if(pb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uD(){return uD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uD.apply(this,arguments)}function Jft(e){var t=e.xAxisId,n=fhe(),r=mhe(),i=hhe(t);return i==null?null:Oe.createElement(N4,uD({},i,{className:no("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(c){return xg(c,!0)}}))}var rh=function(e){function t(){return Hft(this,t),Gft(this,t,arguments)}return Xft(t,e),Wft(t,[{key:"render",value:function(){return Oe.createElement(Jft,this.props)}}])}(Oe.Component);The(rh,"displayName","XAxis");The(rh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function fb(e){"@babel/helpers - typeof";return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fb(e)}function Qft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function emt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,khe(r.key),r)}}function tmt(e,t,n){return t&&emt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nmt(e,t,n){return t=CP(t),rmt(e,Ihe()?Reflect.construct(t,n||[],CP(e).constructor):t.apply(e,n))}function rmt(e,t){if(t&&(fb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return imt(e)}function imt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ihe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ihe=function(){return!!e})()}function CP(e){return CP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},CP(e)}function omt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dD(e,t)}function dD(e,t){return dD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dD(e,t)}function Ohe(e,t,n){return t=khe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function khe(e){var t=amt(e,"string");return fb(t)=="symbol"?t:t+""}function amt(e,t){if(fb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hD(){return hD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hD.apply(this,arguments)}var smt=function(t){var n=t.yAxisId,r=fhe(),i=mhe(),s=phe(n);return s==null?null:Oe.createElement(N4,hD({},s,{className:no("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(h){return xg(h,!0)}}))},ih=function(e){function t(){return Qft(this,t),nmt(this,t,arguments)}return omt(t,e),tmt(t,[{key:"render",value:function(){return Oe.createElement(smt,this.props)}}])}(Oe.Component);Ohe(ih,"displayName","YAxis");Ohe(ih,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function sQ(e){return dmt(e)||umt(e)||cmt(e)||lmt()}function lmt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cmt(e,t){if(e){if(typeof e=="string")return pD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pD(e,t)}}function umt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dmt(e){if(Array.isArray(e))return pD(e)}function pD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fD=function(t,n,r,i,s){var c=eu(t,_F),h=eu(t,I4),o=[].concat(sQ(c),sQ(h)),m=eu(t,k4),y="".concat(i,"Id"),v=i[0],S=n;if(o.length&&(S=o.reduce(function(I,N){if(N.props[y]===r&&Xd(N.props,"extendDomain")&&yr(N.props[v])){var D=N.props[v];return[Math.min(I[0],D),Math.max(I[1],D)]}return I},S)),m.length){var C="".concat(v,"1"),P="".concat(v,"2");S=m.reduce(function(I,N){if(N.props[y]===r&&Xd(N.props,"extendDomain")&&yr(N.props[C])&&yr(N.props[P])){var D=N.props[C],k=N.props[P];return[Math.min(I[0],D,k),Math.max(I[1],D,k)]}return I},S)}return s&&s.length&&(S=s.reduce(function(I,N){return yr(N)?[Math.min(I[0],N),Math.max(I[1],N)]:I},S)),S},Nhe={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(o,m,y){this.fn=o,this.context=m,this.once=y||!1}function s(o,m,y,v,S){if(typeof y!="function")throw new TypeError("The listener must be a function");var C=new i(y,v||o,S),P=n?n+m:m;return o._events[P]?o._events[P].fn?o._events[P]=[o._events[P],C]:o._events[P].push(C):(o._events[P]=C,o._eventsCount++),o}function c(o,m){--o._eventsCount===0?o._events=new r:delete o._events[m]}function h(){this._events=new r,this._eventsCount=0}h.prototype.eventNames=function(){var m=[],y,v;if(this._eventsCount===0)return m;for(v in y=this._events)t.call(y,v)&&m.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(y)):m},h.prototype.listeners=function(m){var y=n?n+m:m,v=this._events[y];if(!v)return[];if(v.fn)return[v.fn];for(var S=0,C=v.length,P=new Array(C);S<C;S++)P[S]=v[S].fn;return P},h.prototype.listenerCount=function(m){var y=n?n+m:m,v=this._events[y];return v?v.fn?1:v.length:0},h.prototype.emit=function(m,y,v,S,C,P){var I=n?n+m:m;if(!this._events[I])return!1;var N=this._events[I],D=arguments.length,k,F;if(N.fn){switch(N.once&&this.removeListener(m,N.fn,void 0,!0),D){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,y),!0;case 3:return N.fn.call(N.context,y,v),!0;case 4:return N.fn.call(N.context,y,v,S),!0;case 5:return N.fn.call(N.context,y,v,S,C),!0;case 6:return N.fn.call(N.context,y,v,S,C,P),!0}for(F=1,k=new Array(D-1);F<D;F++)k[F-1]=arguments[F];N.fn.apply(N.context,k)}else{var U=N.length,B;for(F=0;F<U;F++)switch(N[F].once&&this.removeListener(m,N[F].fn,void 0,!0),D){case 1:N[F].fn.call(N[F].context);break;case 2:N[F].fn.call(N[F].context,y);break;case 3:N[F].fn.call(N[F].context,y,v);break;case 4:N[F].fn.call(N[F].context,y,v,S);break;default:if(!k)for(B=1,k=new Array(D-1);B<D;B++)k[B-1]=arguments[B];N[F].fn.apply(N[F].context,k)}}return!0},h.prototype.on=function(m,y,v){return s(this,m,y,v,!1)},h.prototype.once=function(m,y,v){return s(this,m,y,v,!0)},h.prototype.removeListener=function(m,y,v,S){var C=n?n+m:m;if(!this._events[C])return this;if(!y)return c(this,C),this;var P=this._events[C];if(P.fn)P.fn===y&&(!S||P.once)&&(!v||P.context===v)&&c(this,C);else{for(var I=0,N=[],D=P.length;I<D;I++)(P[I].fn!==y||S&&!P[I].once||v&&P[I].context!==v)&&N.push(P[I]);N.length?this._events[C]=N.length===1?N[0]:N:c(this,C)}return this},h.prototype.removeAllListeners=function(m){var y;return m?(y=n?n+m:m,this._events[y]&&c(this,y)):(this._events=new r,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=n,h.EventEmitter=h,e.exports=h})(Nhe);var hmt=Nhe.exports;const pmt=Li(hmt);var sk=new pmt,lk="recharts.syncMouseEvents";function BS(e){"@babel/helpers - typeof";return BS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BS(e)}function fmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mmt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rhe(r.key),r)}}function gmt(e,t,n){return t&&mmt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ck(e,t,n){return t=Rhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rhe(e){var t=ymt(e,"string");return BS(t)=="symbol"?t:t+""}function ymt(e,t){if(BS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(BS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vmt=function(){function e(){fmt(this,e),ck(this,"activeIndex",0),ck(this,"coordinateList",[]),ck(this,"layout","horizontal")}return gmt(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,c=n.container,h=c===void 0?null:c,o=n.layout,m=o===void 0?null:o,y=n.offset,v=y===void 0?null:y,S=n.mouseHandlerCallback,C=S===void 0?null:S;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=h??this.container,this.layout=m??this.layout,this.offset=v??this.offset,this.mouseHandlerCallback=C??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,c=i.y,h=i.height,o=this.coordinateList[this.activeIndex].coordinate,m=((n=window)===null||n===void 0?void 0:n.scrollX)||0,y=((r=window)===null||r===void 0?void 0:r.scrollY)||0,v=s+o+m,S=c+this.offset.top+h/2+y;this.mouseHandlerCallback({pageX:v,pageY:S})}}}])}();function bmt(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&yr(r)&&yr(i))return!0}return!1}function _mt(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Dhe(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,s=e.endAngle,c=Is(t,n,r,i),h=Is(t,n,r,s);return{points:[c,h],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function xmt(e,t,n){var r,i,s,c;if(e==="horizontal")r=t.x,s=r,i=n.top,c=n.top+n.height;else if(e==="vertical")i=t.y,c=i,r=n.left,s=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var h=t.cx,o=t.cy,m=t.innerRadius,y=t.outerRadius,v=t.angle,S=Is(h,o,m,v),C=Is(h,o,y,v);r=S.x,i=S.y,s=C.x,c=C.y}else return Dhe(t);return[{x:r,y:i},{x:s,y:c}]}function ZS(e){"@babel/helpers - typeof";return ZS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZS(e)}function lQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lQ(Object(n),!0).forEach(function(r){wmt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wmt(e,t,n){return t=Smt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Smt(e){var t=Amt(e,"string");return ZS(t)=="symbol"?t:t+""}function Amt(e,t){if(ZS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ZS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cmt(e){var t,n,r=e.element,i=e.tooltipEventType,s=e.isActive,c=e.activeCoordinate,h=e.activePayload,o=e.offset,m=e.activeTooltipIndex,y=e.tooltipAxisBandSize,v=e.layout,S=e.chartName,C=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!C||!s||!c||S!=="ScatterChart"&&i!=="axis")return null;var P,I=jR;if(S==="ScatterChart")P=c,I=tdt;else if(S==="BarChart")P=_mt(v,c,o,y),I=gF;else if(v==="radial"){var N=Dhe(c),D=N.cx,k=N.cy,F=N.radius,U=N.startAngle,B=N.endAngle;P={cx:D,cy:k,startAngle:U,endAngle:B,innerRadius:F,outerRadius:F},I=Bde}else P={points:xmt(v,c,o)},I=jR;var z=EM(EM(EM(EM({stroke:"#ccc",pointerEvents:"none"},o),P),Xi(C,!1)),{},{payload:h,payloadIndex:m,className:no("recharts-tooltip-cursor",C.className)});return A.isValidElement(C)?A.cloneElement(C,z):A.createElement(I,z)}var Mmt=["item"],Emt=["children","className","width","height","style","compact","title","desc"];function mb(e){"@babel/helpers - typeof";return mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mb(e)}function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(this,arguments)}function cQ(e,t){return Imt(e)||Pmt(e,t)||Fhe(e,t)||Tmt()}function Tmt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pmt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,c,h=[],o=!0,m=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(o=(r=s.call(n)).done)&&(h.push(r.value),h.length!==t);o=!0);}catch(y){m=!0,i=y}finally{try{if(!o&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw i}}return h}}function Imt(e){if(Array.isArray(e))return e}function uQ(e,t){if(e==null)return{};var n=Omt(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Omt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function kmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nmt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$he(r.key),r)}}function Rmt(e,t,n){return t&&Nmt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dmt(e,t,n){return t=MP(t),Lmt(e,Lhe()?Reflect.construct(t,n||[],MP(e).constructor):t.apply(e,n))}function Lmt(e,t){if(t&&(mb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fmt(e)}function Fmt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lhe=function(){return!!e})()}function MP(e){return MP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},MP(e)}function $mt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mD(e,t)}function mD(e,t){return mD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mD(e,t)}function gb(e){return Bmt(e)||zmt(e)||Fhe(e)||jmt()}function jmt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fhe(e,t){if(e){if(typeof e=="string")return gD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gD(e,t)}}function zmt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bmt(e){if(Array.isArray(e))return gD(e)}function gD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dQ(Object(n),!0).forEach(function(r){Qr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qr(e,t,n){return t=$he(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $he(e){var t=Zmt(e,"string");return mb(t)=="symbol"?t:t+""}function Zmt(e,t){if(mb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Umt={xAxis:["bottom","top"],yAxis:["left","right"]},Hmt={width:"100%",height:"100%"},jhe={x:0,y:0};function TM(e){return e}var Vmt=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Wmt=function(t,n,r,i){var s=n.find(function(y){return y&&y.index===r});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var c=s.coordinate,h=i.radius;return gn(gn(gn({},i),Is(i.cx,i.cy,h,c)),{},{angle:c,radius:h})}var o=s.coordinate,m=i.angle;return gn(gn(gn({},i),Is(i.cx,i.cy,o,m)),{},{angle:m,radius:o})}return jhe},R4=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,c=(r??[]).reduce(function(h,o){var m=o.props.data;return m&&m.length?[].concat(gb(h),gb(m)):h},[]);return c.length>0?c:t&&t.length&&yr(i)&&yr(s)?t.slice(i,s+1):[]};function zhe(e){return e==="number"?[0,"auto"]:void 0}var yD=function(t,n,r,i){var s=t.graphicalItems,c=t.tooltipAxis,h=R4(n,t);return r<0||!s||!s.length||r>=h.length?null:s.reduce(function(o,m){var y,v=(y=m.props.data)!==null&&y!==void 0?y:n;v&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(v=v.slice(t.dataStartIndex,t.dataEndIndex+1));var S;if(c.dataKey&&!c.allowDuplicatedCategory){var C=v===void 0?h:v;S=TT(C,c.dataKey,i)}else S=v&&v[r]||h[r];return S?[].concat(gb(o),[$de(m,S)]):o},[])},hQ=function(t,n,r,i){var s=i||{x:t.chartX,y:t.chartY},c=Vmt(s,r),h=t.orderedTooltipTicks,o=t.tooltipAxis,m=t.tooltipTicks,y=Zst(c,h,m,o);if(y>=0&&m){var v=m[y]&&m[y].value,S=yD(t,n,y,v),C=Wmt(r,h,y,s);return{activeTooltipIndex:y,activeLabel:v,activePayload:S,activeCoordinate:C}}return null},Gmt=function(t,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,c=n.axisIdKey,h=n.stackGroups,o=n.dataStartIndex,m=n.dataEndIndex,y=t.layout,v=t.children,S=t.stackOffset,C=Lde(y,s);return r.reduce(function(P,I){var N,D=I.type.defaultProps!==void 0?gn(gn({},I.type.defaultProps),I.props):I.props,k=D.type,F=D.dataKey,U=D.allowDataOverflow,B=D.allowDuplicatedCategory,z=D.scale,W=D.ticks,Y=D.includeHidden,K=D[c];if(P[K])return P;var ee=R4(t.data,{graphicalItems:i.filter(function(Me){var de,ze=c in Me.props?Me.props[c]:(de=Me.type.defaultProps)===null||de===void 0?void 0:de[c];return ze===K}),dataStartIndex:o,dataEndIndex:m}),re=ee.length,oe,he,be;bmt(D.domain,U,k)&&(oe=RR(D.domain,null,U),C&&(k==="number"||z!=="auto")&&(be=hw(ee,F,"category")));var le=zhe(k);if(!oe||oe.length===0){var ye,fe=(ye=D.domain)!==null&&ye!==void 0?ye:le;if(F){if(oe=hw(ee,F,k),k==="category"&&C){var ue=EWe(oe);B&&ue?(he=oe,oe=pP(0,re)):B||(oe=GY(fe,oe,I).reduce(function(Me,de){return Me.indexOf(de)>=0?Me:[].concat(gb(Me),[de])},[]))}else if(k==="category")B?oe=oe.filter(function(Me){return Me!==""&&!zi(Me)}):oe=GY(fe,oe,I).reduce(function(Me,de){return Me.indexOf(de)>=0||de===""||zi(de)?Me:[].concat(gb(Me),[de])},[]);else if(k==="number"){var xe=Gst(ee,i.filter(function(Me){var de,ze,$e=c in Me.props?Me.props[c]:(de=Me.type.defaultProps)===null||de===void 0?void 0:de[c],et="hide"in Me.props?Me.props.hide:(ze=Me.type.defaultProps)===null||ze===void 0?void 0:ze.hide;return $e===K&&(Y||!et)}),F,s,y);xe&&(oe=xe)}C&&(k==="number"||z!=="auto")&&(be=hw(ee,F,"category"))}else C?oe=pP(0,re):h&&h[K]&&h[K].hasStack&&k==="number"?oe=S==="expand"?[0,1]:Fde(h[K].stackGroups,o,m):oe=Dde(ee,i.filter(function(Me){var de=c in Me.props?Me.props[c]:Me.type.defaultProps[c],ze="hide"in Me.props?Me.props.hide:Me.type.defaultProps.hide;return de===K&&(Y||!ze)}),k,y,!0);if(k==="number")oe=fD(v,oe,K,s,W),fe&&(oe=RR(fe,oe,U));else if(k==="category"&&fe){var ae=fe,Ee=oe.every(function(Me){return ae.indexOf(Me)>=0});Ee&&(oe=ae)}}return gn(gn({},P),{},Qr({},K,gn(gn({},D),{},{axisType:s,domain:oe,categoricalDomain:be,duplicateDomain:he,originalDomain:(N=D.domain)!==null&&N!==void 0?N:le,isCategorical:C,layout:y})))},{})},Kmt=function(t,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,c=n.axisIdKey,h=n.stackGroups,o=n.dataStartIndex,m=n.dataEndIndex,y=t.layout,v=t.children,S=R4(t.data,{graphicalItems:r,dataStartIndex:o,dataEndIndex:m}),C=S.length,P=Lde(y,s),I=-1;return r.reduce(function(N,D){var k=D.type.defaultProps!==void 0?gn(gn({},D.type.defaultProps),D.props):D.props,F=k[c],U=zhe("number");if(!N[F]){I++;var B;return P?B=pP(0,C):h&&h[F]&&h[F].hasStack?(B=Fde(h[F].stackGroups,o,m),B=fD(v,B,F,s)):(B=RR(U,Dde(S,r.filter(function(z){var W,Y,K=c in z.props?z.props[c]:(W=z.type.defaultProps)===null||W===void 0?void 0:W[c],ee="hide"in z.props?z.props.hide:(Y=z.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return K===F&&!ee}),"number",y),i.defaultProps.allowDataOverflow),B=fD(v,B,F,s)),gn(gn({},N),{},Qr({},F,gn(gn({axisType:s},i.defaultProps),{},{hide:!0,orientation:Qc(Umt,"".concat(s,".").concat(I%2),null),domain:B,originalDomain:U,isCategorical:P,layout:y})))}return N},{})},qmt=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,c=n.graphicalItems,h=n.stackGroups,o=n.dataStartIndex,m=n.dataEndIndex,y=t.children,v="".concat(i,"Id"),S=eu(y,s),C={};return S&&S.length?C=Gmt(t,{axes:S,graphicalItems:c,axisType:i,axisIdKey:v,stackGroups:h,dataStartIndex:o,dataEndIndex:m}):c&&c.length&&(C=Kmt(t,{Axis:s,graphicalItems:c,axisType:i,axisIdKey:v,stackGroups:h,dataStartIndex:o,dataEndIndex:m})),C},Xmt=function(t){var n=kv(t),r=xg(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:U9(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:iP(n,r)}},pQ=function(t){var n=t.children,r=t.defaultShowTooltip,i=mc(n,ab),s=0,c=0;return t.data&&t.data.length!==0&&(c=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(c=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!r}},Ymt=function(t){return!t||!t.length?!1:t.some(function(n){var r=qh(n&&n.type);return r&&r.indexOf("Bar")>=0})},fQ=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Jmt=function(t,n){var r=t.props,i=t.graphicalItems,s=t.xAxisMap,c=s===void 0?{}:s,h=t.yAxisMap,o=h===void 0?{}:h,m=r.width,y=r.height,v=r.children,S=r.margin||{},C=mc(v,ab),P=mc(v,Kd),I=Object.keys(o).reduce(function(B,z){var W=o[z],Y=W.orientation;return!W.mirror&&!W.hide?gn(gn({},B),{},Qr({},Y,B[Y]+W.width)):B},{left:S.left||0,right:S.right||0}),N=Object.keys(c).reduce(function(B,z){var W=c[z],Y=W.orientation;return!W.mirror&&!W.hide?gn(gn({},B),{},Qr({},Y,Qc(B,"".concat(Y))+W.height)):B},{top:S.top||0,bottom:S.bottom||0}),D=gn(gn({},N),I),k=D.bottom;C&&(D.bottom+=C.props.height||ab.defaultProps.height),P&&n&&(D=Vst(D,i,r,n));var F=m-D.left-D.right,U=y-D.top-D.bottom;return gn(gn({brushBottom:k},D),{},{width:Math.max(F,0),height:Math.max(U,0)})},Qmt=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Bhe=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,c=t.validateTooltipEventTypes,h=c===void 0?["axis"]:c,o=t.axisComponents,m=t.legendContent,y=t.formatAxisMap,v=t.defaultProps,S=function(D,k){var F=k.graphicalItems,U=k.stackGroups,B=k.offset,z=k.updateId,W=k.dataStartIndex,Y=k.dataEndIndex,K=D.barSize,ee=D.layout,re=D.barGap,oe=D.barCategoryGap,he=D.maxBarSize,be=fQ(ee),le=be.numericAxisName,ye=be.cateAxisName,fe=Ymt(F),ue=[];return F.forEach(function(xe,ae){var Ee=R4(D.data,{graphicalItems:[xe],dataStartIndex:W,dataEndIndex:Y}),Me=xe.type.defaultProps!==void 0?gn(gn({},xe.type.defaultProps),xe.props):xe.props,de=Me.dataKey,ze=Me.maxBarSize,$e=Me["".concat(le,"Id")],et=Me["".concat(ye,"Id")],gt={},lt=o.reduce(function(en,Kt){var Zt=k["".concat(Kt.axisType,"Map")],En=Me["".concat(Kt.axisType,"Id")];Zt&&Zt[En]||Kt.axisType==="zAxis"||Gg();var Fn=Zt[En];return gn(gn({},en),{},Qr(Qr({},Kt.axisType,Fn),"".concat(Kt.axisType,"Ticks"),xg(Fn)))},gt),We=lt[ye],qe=lt["".concat(ye,"Ticks")],Qe=U&&U[$e]&&U[$e].hasStack&&olt(xe,U[$e].stackGroups),Ve=qh(xe.type).indexOf("Bar")>=0,yt=iP(We,qe),it=[],pt=fe&&Ust({barSize:K,stackGroups:U,totalSize:Qmt(lt,ye)});if(Ve){var $t,Jt,on=zi(ze)?he:ze,ln=($t=(Jt=iP(We,qe,!0))!==null&&Jt!==void 0?Jt:on)!==null&&$t!==void 0?$t:0;it=Hst({barGap:re,barCategoryGap:oe,bandSize:ln!==yt?ln:yt,sizeList:pt[et],maxBarSize:on}),ln!==yt&&(it=it.map(function(en){return gn(gn({},en),{},{position:gn(gn({},en.position),{},{offset:en.position.offset-ln/2})})}))}var Lt=xe&&xe.type&&xe.type.getComposedData;Lt&&ue.push({props:gn(gn({},Lt(gn(gn({},lt),{},{displayedData:Ee,props:D,dataKey:de,item:xe,bandSize:yt,barPosition:it,offset:B,stackedData:Qe,layout:ee,dataStartIndex:W,dataEndIndex:Y}))),{},Qr(Qr(Qr({key:xe.key||"item-".concat(ae)},le,lt[le]),ye,lt[ye]),"animationId",z)),childIndex:jWe(xe,D.children),item:xe})}),ue},C=function(D,k){var F=D.props,U=D.dataStartIndex,B=D.dataEndIndex,z=D.updateId;if(!zq({props:F}))return null;var W=F.children,Y=F.layout,K=F.stackOffset,ee=F.data,re=F.reverseStackOrder,oe=fQ(Y),he=oe.numericAxisName,be=oe.cateAxisName,le=eu(W,r),ye=nlt(ee,le,"".concat(he,"Id"),"".concat(be,"Id"),K,re),fe=o.reduce(function(Me,de){var ze="".concat(de.axisType,"Map");return gn(gn({},Me),{},Qr({},ze,qmt(F,gn(gn({},de),{},{graphicalItems:le,stackGroups:de.axisType===he&&ye,dataStartIndex:U,dataEndIndex:B}))))},{}),ue=Jmt(gn(gn({},fe),{},{props:F,graphicalItems:le}),k==null?void 0:k.legendBBox);Object.keys(fe).forEach(function(Me){fe[Me]=y(F,fe[Me],ue,Me.replace("Map",""),n)});var xe=fe["".concat(be,"Map")],ae=Xmt(xe),Ee=S(F,gn(gn({},fe),{},{dataStartIndex:U,dataEndIndex:B,updateId:z,graphicalItems:le,stackGroups:ye,offset:ue}));return gn(gn({formattedGraphicalItems:Ee,graphicalItems:le,offset:ue,stackGroups:ye},ae),fe)},P=function(N){function D(k){var F,U,B;return kmt(this,D),B=Dmt(this,D,[k]),Qr(B,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Qr(B,"accessibilityManager",new vmt),Qr(B,"handleLegendBBoxUpdate",function(z){if(z){var W=B.state,Y=W.dataStartIndex,K=W.dataEndIndex,ee=W.updateId;B.setState(gn({legendBBox:z},C({props:B.props,dataStartIndex:Y,dataEndIndex:K,updateId:ee},gn(gn({},B.state),{},{legendBBox:z}))))}}),Qr(B,"handleReceiveSyncEvent",function(z,W,Y){if(B.props.syncId===z){if(Y===B.eventEmitterSymbol&&typeof B.props.syncMethod!="function")return;B.applySyncEvent(W)}}),Qr(B,"handleBrushChange",function(z){var W=z.startIndex,Y=z.endIndex;if(W!==B.state.dataStartIndex||Y!==B.state.dataEndIndex){var K=B.state.updateId;B.setState(function(){return gn({dataStartIndex:W,dataEndIndex:Y},C({props:B.props,dataStartIndex:W,dataEndIndex:Y,updateId:K},B.state))}),B.triggerSyncEvent({dataStartIndex:W,dataEndIndex:Y})}}),Qr(B,"handleMouseEnter",function(z){var W=B.getMouseInfo(z);if(W){var Y=gn(gn({},W),{},{isTooltipActive:!0});B.setState(Y),B.triggerSyncEvent(Y);var K=B.props.onMouseEnter;$i(K)&&K(Y,z)}}),Qr(B,"triggeredAfterMouseMove",function(z){var W=B.getMouseInfo(z),Y=W?gn(gn({},W),{},{isTooltipActive:!0}):{isTooltipActive:!1};B.setState(Y),B.triggerSyncEvent(Y);var K=B.props.onMouseMove;$i(K)&&K(Y,z)}),Qr(B,"handleItemMouseEnter",function(z){B.setState(function(){return{isTooltipActive:!0,activeItem:z,activePayload:z.tooltipPayload,activeCoordinate:z.tooltipPosition||{x:z.cx,y:z.cy}}})}),Qr(B,"handleItemMouseLeave",function(){B.setState(function(){return{isTooltipActive:!1}})}),Qr(B,"handleMouseMove",function(z){z.persist(),B.throttleTriggeredAfterMouseMove(z)}),Qr(B,"handleMouseLeave",function(z){B.throttleTriggeredAfterMouseMove.cancel();var W={isTooltipActive:!1};B.setState(W),B.triggerSyncEvent(W);var Y=B.props.onMouseLeave;$i(Y)&&Y(W,z)}),Qr(B,"handleOuterEvent",function(z){var W=$We(z),Y=Qc(B.props,"".concat(W));if(W&&$i(Y)){var K,ee;/.*touch.*/i.test(W)?ee=B.getMouseInfo(z.changedTouches[0]):ee=B.getMouseInfo(z),Y((K=ee)!==null&&K!==void 0?K:{},z)}}),Qr(B,"handleClick",function(z){var W=B.getMouseInfo(z);if(W){var Y=gn(gn({},W),{},{isTooltipActive:!0});B.setState(Y),B.triggerSyncEvent(Y);var K=B.props.onClick;$i(K)&&K(Y,z)}}),Qr(B,"handleMouseDown",function(z){var W=B.props.onMouseDown;if($i(W)){var Y=B.getMouseInfo(z);W(Y,z)}}),Qr(B,"handleMouseUp",function(z){var W=B.props.onMouseUp;if($i(W)){var Y=B.getMouseInfo(z);W(Y,z)}}),Qr(B,"handleTouchMove",function(z){z.changedTouches!=null&&z.changedTouches.length>0&&B.throttleTriggeredAfterMouseMove(z.changedTouches[0])}),Qr(B,"handleTouchStart",function(z){z.changedTouches!=null&&z.changedTouches.length>0&&B.handleMouseDown(z.changedTouches[0])}),Qr(B,"handleTouchEnd",function(z){z.changedTouches!=null&&z.changedTouches.length>0&&B.handleMouseUp(z.changedTouches[0])}),Qr(B,"handleDoubleClick",function(z){var W=B.props.onDoubleClick;if($i(W)){var Y=B.getMouseInfo(z);W(Y,z)}}),Qr(B,"handleContextMenu",function(z){var W=B.props.onContextMenu;if($i(W)){var Y=B.getMouseInfo(z);W(Y,z)}}),Qr(B,"triggerSyncEvent",function(z){B.props.syncId!==void 0&&sk.emit(lk,B.props.syncId,z,B.eventEmitterSymbol)}),Qr(B,"applySyncEvent",function(z){var W=B.props,Y=W.layout,K=W.syncMethod,ee=B.state.updateId,re=z.dataStartIndex,oe=z.dataEndIndex;if(z.dataStartIndex!==void 0||z.dataEndIndex!==void 0)B.setState(gn({dataStartIndex:re,dataEndIndex:oe},C({props:B.props,dataStartIndex:re,dataEndIndex:oe,updateId:ee},B.state)));else if(z.activeTooltipIndex!==void 0){var he=z.chartX,be=z.chartY,le=z.activeTooltipIndex,ye=B.state,fe=ye.offset,ue=ye.tooltipTicks;if(!fe)return;if(typeof K=="function")le=K(ue,z);else if(K==="value"){le=-1;for(var xe=0;xe<ue.length;xe++)if(ue[xe].value===z.activeLabel){le=xe;break}}var ae=gn(gn({},fe),{},{x:fe.left,y:fe.top}),Ee=Math.min(he,ae.x+ae.width),Me=Math.min(be,ae.y+ae.height),de=ue[le]&&ue[le].value,ze=yD(B.state,B.props.data,le),$e=ue[le]?{x:Y==="horizontal"?ue[le].coordinate:Ee,y:Y==="horizontal"?Me:ue[le].coordinate}:jhe;B.setState(gn(gn({},z),{},{activeLabel:de,activeCoordinate:$e,activePayload:ze,activeTooltipIndex:le}))}else B.setState(z)}),Qr(B,"renderCursor",function(z){var W,Y=B.state,K=Y.isTooltipActive,ee=Y.activeCoordinate,re=Y.activePayload,oe=Y.offset,he=Y.activeTooltipIndex,be=Y.tooltipAxisBandSize,le=B.getTooltipEventType(),ye=(W=z.props.active)!==null&&W!==void 0?W:K,fe=B.props.layout,ue=z.key||"_recharts-cursor";return Oe.createElement(Cmt,{key:ue,activeCoordinate:ee,activePayload:re,activeTooltipIndex:he,chartName:n,element:z,isActive:ye,layout:fe,offset:oe,tooltipAxisBandSize:be,tooltipEventType:le})}),Qr(B,"renderPolarAxis",function(z,W,Y){var K=Qc(z,"type.axisType"),ee=Qc(B.state,"".concat(K,"Map")),re=z.type.defaultProps,oe=re!==void 0?gn(gn({},re),z.props):z.props,he=ee&&ee[oe["".concat(K,"Id")]];return A.cloneElement(z,gn(gn({},he),{},{className:no(K,he.className),key:z.key||"".concat(W,"-").concat(Y),ticks:xg(he,!0)}))}),Qr(B,"renderPolarGrid",function(z){var W=z.props,Y=W.radialLines,K=W.polarAngles,ee=W.polarRadius,re=B.state,oe=re.radiusAxisMap,he=re.angleAxisMap,be=kv(oe),le=kv(he),ye=le.cx,fe=le.cy,ue=le.innerRadius,xe=le.outerRadius;return A.cloneElement(z,{polarAngles:Array.isArray(K)?K:xg(le,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(ee)?ee:xg(be,!0).map(function(ae){return ae.coordinate}),cx:ye,cy:fe,innerRadius:ue,outerRadius:xe,key:z.key||"polar-grid",radialLines:Y})}),Qr(B,"renderLegend",function(){var z=B.state.formattedGraphicalItems,W=B.props,Y=W.children,K=W.width,ee=W.height,re=B.props.margin||{},oe=K-(re.left||0)-(re.right||0),he=Nde({children:Y,formattedGraphicalItems:z,legendWidth:oe,legendContent:m});if(!he)return null;var be=he.item,le=uQ(he,Mmt);return A.cloneElement(be,gn(gn({},le),{},{chartWidth:K,chartHeight:ee,margin:re,onBBoxUpdate:B.handleLegendBBoxUpdate}))}),Qr(B,"renderTooltip",function(){var z,W=B.props,Y=W.children,K=W.accessibilityLayer,ee=mc(Y,dl);if(!ee)return null;var re=B.state,oe=re.isTooltipActive,he=re.activeCoordinate,be=re.activePayload,le=re.activeLabel,ye=re.offset,fe=(z=ee.props.active)!==null&&z!==void 0?z:oe;return A.cloneElement(ee,{viewBox:gn(gn({},ye),{},{x:ye.left,y:ye.top}),active:fe,label:le,payload:fe?be:[],coordinate:he,accessibilityLayer:K})}),Qr(B,"renderBrush",function(z){var W=B.props,Y=W.margin,K=W.data,ee=B.state,re=ee.offset,oe=ee.dataStartIndex,he=ee.dataEndIndex,be=ee.updateId;return A.cloneElement(z,{key:z.key||"_recharts-brush",onChange:SM(B.handleBrushChange,z.props.onChange),data:K,x:yr(z.props.x)?z.props.x:re.left,y:yr(z.props.y)?z.props.y:re.top+re.height+re.brushBottom-(Y.bottom||0),width:yr(z.props.width)?z.props.width:re.width,startIndex:oe,endIndex:he,updateId:"brush-".concat(be)})}),Qr(B,"renderReferenceElement",function(z,W,Y){if(!z)return null;var K=B,ee=K.clipPathId,re=B.state,oe=re.xAxisMap,he=re.yAxisMap,be=re.offset,le=z.type.defaultProps||{},ye=z.props,fe=ye.xAxisId,ue=fe===void 0?le.xAxisId:fe,xe=ye.yAxisId,ae=xe===void 0?le.yAxisId:xe;return A.cloneElement(z,{key:z.key||"".concat(W,"-").concat(Y),xAxis:oe[ue],yAxis:he[ae],viewBox:{x:be.left,y:be.top,width:be.width,height:be.height},clipPathId:ee})}),Qr(B,"renderActivePoints",function(z){var W=z.item,Y=z.activePoint,K=z.basePoint,ee=z.childIndex,re=z.isRange,oe=[],he=W.props.key,be=W.item.type.defaultProps!==void 0?gn(gn({},W.item.type.defaultProps),W.item.props):W.item.props,le=be.activeDot,ye=be.dataKey,fe=gn(gn({index:ee,dataKey:ye,cx:Y.x,cy:Y.y,r:4,fill:mF(W.item),strokeWidth:2,stroke:"#fff",payload:Y.payload,value:Y.value},Xi(le,!1)),PT(le));return oe.push(D.renderActiveDot(le,fe,"".concat(he,"-activePoint-").concat(ee))),K?oe.push(D.renderActiveDot(le,gn(gn({},fe),{},{cx:K.x,cy:K.y}),"".concat(he,"-basePoint-").concat(ee))):re&&oe.push(null),oe}),Qr(B,"renderGraphicChild",function(z,W,Y){var K=B.filterFormatItem(z,W,Y);if(!K)return null;var ee=B.getTooltipEventType(),re=B.state,oe=re.isTooltipActive,he=re.tooltipAxis,be=re.activeTooltipIndex,le=re.activeLabel,ye=B.props.children,fe=mc(ye,dl),ue=K.props,xe=ue.points,ae=ue.isRange,Ee=ue.baseLine,Me=K.item.type.defaultProps!==void 0?gn(gn({},K.item.type.defaultProps),K.item.props):K.item.props,de=Me.activeDot,ze=Me.hide,$e=Me.activeBar,et=Me.activeShape,gt=!!(!ze&&oe&&fe&&(de||$e||et)),lt={};ee!=="axis"&&fe&&fe.props.trigger==="click"?lt={onClick:SM(B.handleItemMouseEnter,z.props.onClick)}:ee!=="axis"&&(lt={onMouseLeave:SM(B.handleItemMouseLeave,z.props.onMouseLeave),onMouseEnter:SM(B.handleItemMouseEnter,z.props.onMouseEnter)});var We=A.cloneElement(z,gn(gn({},K.props),lt));function qe(Kt){return typeof he.dataKey=="function"?he.dataKey(Kt.payload):null}if(gt)if(be>=0){var Qe,Ve;if(he.dataKey&&!he.allowDuplicatedCategory){var yt=typeof he.dataKey=="function"?qe:"payload.".concat(he.dataKey.toString());Qe=TT(xe,yt,le),Ve=ae&&Ee&&TT(Ee,yt,le)}else Qe=xe==null?void 0:xe[be],Ve=ae&&Ee&&Ee[be];if(et||$e){var it=z.props.activeIndex!==void 0?z.props.activeIndex:be;return[A.cloneElement(z,gn(gn(gn({},K.props),lt),{},{activeIndex:it})),null,null]}if(!zi(Qe))return[We].concat(gb(B.renderActivePoints({item:K,activePoint:Qe,basePoint:Ve,childIndex:be,isRange:ae})))}else{var pt,$t=(pt=B.getItemByXY(B.state.activeCoordinate))!==null&&pt!==void 0?pt:{graphicalItem:We},Jt=$t.graphicalItem,on=Jt.item,ln=on===void 0?z:on,Lt=Jt.childIndex,en=gn(gn(gn({},K.props),lt),{},{activeIndex:Lt});return[A.cloneElement(ln,en),null,null]}return ae?[We,null,null]:[We,null]}),Qr(B,"renderCustomized",function(z,W,Y){return A.cloneElement(z,gn(gn({key:"recharts-customized-".concat(Y)},B.props),B.state))}),Qr(B,"renderMap",{CartesianGrid:{handler:TM,once:!0},ReferenceArea:{handler:B.renderReferenceElement},ReferenceLine:{handler:TM},ReferenceDot:{handler:B.renderReferenceElement},XAxis:{handler:TM},YAxis:{handler:TM},Brush:{handler:B.renderBrush,once:!0},Bar:{handler:B.renderGraphicChild},Line:{handler:B.renderGraphicChild},Area:{handler:B.renderGraphicChild},Radar:{handler:B.renderGraphicChild},RadialBar:{handler:B.renderGraphicChild},Scatter:{handler:B.renderGraphicChild},Pie:{handler:B.renderGraphicChild},Funnel:{handler:B.renderGraphicChild},Tooltip:{handler:B.renderCursor,once:!0},PolarGrid:{handler:B.renderPolarGrid,once:!0},PolarAngleAxis:{handler:B.renderPolarAxis},PolarRadiusAxis:{handler:B.renderPolarAxis},Customized:{handler:B.renderCustomized}}),B.clipPathId="".concat((F=k.id)!==null&&F!==void 0?F:xA("recharts"),"-clip"),B.throttleTriggeredAfterMouseMove=kue(B.triggeredAfterMouseMove,(U=k.throttleDelay)!==null&&U!==void 0?U:1e3/60),B.state={},B}return $mt(D,N),Rmt(D,[{key:"componentDidMount",value:function(){var F,U;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(F=this.props.margin.left)!==null&&F!==void 0?F:0,top:(U=this.props.margin.top)!==null&&U!==void 0?U:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var F=this.props,U=F.children,B=F.data,z=F.height,W=F.layout,Y=mc(U,dl);if(Y){var K=Y.props.defaultIndex;if(!(typeof K!="number"||K<0||K>this.state.tooltipTicks.length-1)){var ee=this.state.tooltipTicks[K]&&this.state.tooltipTicks[K].value,re=yD(this.state,B,K,ee),oe=this.state.tooltipTicks[K].coordinate,he=(this.state.offset.top+z)/2,be=W==="horizontal",le=be?{x:oe,y:he}:{y:oe,x:he},ye=this.state.formattedGraphicalItems.find(function(ue){var xe=ue.item;return xe.type.name==="Scatter"});ye&&(le=gn(gn({},le),ye.props.points[K].tooltipPosition),re=ye.props.points[K].tooltipPayload);var fe={activeTooltipIndex:K,isTooltipActive:!0,activeLabel:ee,activePayload:re,activeCoordinate:le};this.setState(fe),this.renderCursor(Y),this.accessibilityManager.setIndex(K)}}}},{key:"getSnapshotBeforeUpdate",value:function(F,U){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==U.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==F.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==F.margin){var B,z;this.accessibilityManager.setDetails({offset:{left:(B=this.props.margin.left)!==null&&B!==void 0?B:0,top:(z=this.props.margin.top)!==null&&z!==void 0?z:0}})}return null}},{key:"componentDidUpdate",value:function(F){q8([mc(F.children,dl)],[mc(this.props.children,dl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var F=mc(this.props.children,dl);if(F&&typeof F.props.shared=="boolean"){var U=F.props.shared?"axis":"item";return h.indexOf(U)>=0?U:s}return s}},{key:"getMouseInfo",value:function(F){if(!this.container)return null;var U=this.container,B=U.getBoundingClientRect(),z=frt(B),W={chartX:Math.round(F.pageX-z.left),chartY:Math.round(F.pageY-z.top)},Y=B.width/U.offsetWidth||1,K=this.inRange(W.chartX,W.chartY,Y);if(!K)return null;var ee=this.state,re=ee.xAxisMap,oe=ee.yAxisMap,he=this.getTooltipEventType();if(he!=="axis"&&re&&oe){var be=kv(re).scale,le=kv(oe).scale,ye=be&&be.invert?be.invert(W.chartX):null,fe=le&&le.invert?le.invert(W.chartY):null;return gn(gn({},W),{},{xValue:ye,yValue:fe})}var ue=hQ(this.state,this.props.data,this.props.layout,K);return ue?gn(gn({},W),ue):null}},{key:"inRange",value:function(F,U){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,z=this.props.layout,W=F/B,Y=U/B;if(z==="horizontal"||z==="vertical"){var K=this.state.offset,ee=W>=K.left&&W<=K.left+K.width&&Y>=K.top&&Y<=K.top+K.height;return ee?{x:W,y:Y}:null}var re=this.state,oe=re.angleAxisMap,he=re.radiusAxisMap;if(oe&&he){var be=kv(oe);return XY({x:W,y:Y},be)}return null}},{key:"parseEventsOfWrapper",value:function(){var F=this.props.children,U=this.getTooltipEventType(),B=mc(F,dl),z={};B&&U==="axis"&&(B.props.trigger==="click"?z={onClick:this.handleClick}:z={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var W=PT(this.props,this.handleOuterEvent);return gn(gn({},W),z)}},{key:"addListener",value:function(){sk.on(lk,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){sk.removeListener(lk,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(F,U,B){for(var z=this.state.formattedGraphicalItems,W=0,Y=z.length;W<Y;W++){var K=z[W];if(K.item===F||K.props.key===F.key||U===qh(K.item.type)&&B===K.childIndex)return K}return null}},{key:"renderClipPath",value:function(){var F=this.clipPathId,U=this.state.offset,B=U.left,z=U.top,W=U.height,Y=U.width;return Oe.createElement("defs",null,Oe.createElement("clipPath",{id:F},Oe.createElement("rect",{x:B,y:z,height:W,width:Y})))}},{key:"getXScales",value:function(){var F=this.state.xAxisMap;return F?Object.entries(F).reduce(function(U,B){var z=cQ(B,2),W=z[0],Y=z[1];return gn(gn({},U),{},Qr({},W,Y.scale))},{}):null}},{key:"getYScales",value:function(){var F=this.state.yAxisMap;return F?Object.entries(F).reduce(function(U,B){var z=cQ(B,2),W=z[0],Y=z[1];return gn(gn({},U),{},Qr({},W,Y.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(F){var U;return(U=this.state.xAxisMap)===null||U===void 0||(U=U[F])===null||U===void 0?void 0:U.scale}},{key:"getYScaleByAxisId",value:function(F){var U;return(U=this.state.yAxisMap)===null||U===void 0||(U=U[F])===null||U===void 0?void 0:U.scale}},{key:"getItemByXY",value:function(F){var U=this.state,B=U.formattedGraphicalItems,z=U.activeItem;if(B&&B.length)for(var W=0,Y=B.length;W<Y;W++){var K=B[W],ee=K.props,re=K.item,oe=re.type.defaultProps!==void 0?gn(gn({},re.type.defaultProps),re.props):re.props,he=qh(re.type);if(he==="Bar"){var be=(ee.data||[]).find(function(ue){return Vut(F,ue)});if(be)return{graphicalItem:K,payload:be}}else if(he==="RadialBar"){var le=(ee.data||[]).find(function(ue){return XY(F,ue)});if(le)return{graphicalItem:K,payload:le}}else if(M4(K,z)||E4(K,z)||LS(K,z)){var ye=Kdt({graphicalItem:K,activeTooltipItem:z,itemData:oe.data}),fe=oe.activeIndex===void 0?ye:oe.activeIndex;return{graphicalItem:gn(gn({},K),{},{childIndex:fe}),payload:LS(K,z)?oe.data[ye]:K.props.data[ye]}}}return null}},{key:"render",value:function(){var F=this;if(!zq(this))return null;var U=this.props,B=U.children,z=U.className,W=U.width,Y=U.height,K=U.style,ee=U.compact,re=U.title,oe=U.desc,he=uQ(U,Emt),be=Xi(he,!1);if(ee)return Oe.createElement(GJ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Oe.createElement(Y8,n0({},be,{width:W,height:Y,title:re,desc:oe}),this.renderClipPath(),Zq(B,this.renderMap)));if(this.props.accessibilityLayer){var le,ye;be.tabIndex=(le=this.props.tabIndex)!==null&&le!==void 0?le:0,be.role=(ye=this.props.role)!==null&&ye!==void 0?ye:"application",be.onKeyDown=function(ue){F.accessibilityManager.keyboardEvent(ue)},be.onFocus=function(){F.accessibilityManager.focus()}}var fe=this.parseEventsOfWrapper();return Oe.createElement(GJ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Oe.createElement("div",n0({className:no("recharts-wrapper",z),style:gn({position:"relative",cursor:"default",width:W,height:Y},K)},fe,{ref:function(xe){F.container=xe}}),Oe.createElement(Y8,n0({},be,{width:W,height:Y,title:re,desc:oe,style:Hmt}),this.renderClipPath(),Zq(B,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(A.Component);Qr(P,"displayName",n),Qr(P,"defaultProps",gn({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},v)),Qr(P,"getDerivedStateFromProps",function(N,D){var k=N.dataKey,F=N.data,U=N.children,B=N.width,z=N.height,W=N.layout,Y=N.stackOffset,K=N.margin,ee=D.dataStartIndex,re=D.dataEndIndex;if(D.updateId===void 0){var oe=pQ(N);return gn(gn(gn({},oe),{},{updateId:0},C(gn(gn({props:N},oe),{},{updateId:0}),D)),{},{prevDataKey:k,prevData:F,prevWidth:B,prevHeight:z,prevLayout:W,prevStackOffset:Y,prevMargin:K,prevChildren:U})}if(k!==D.prevDataKey||F!==D.prevData||B!==D.prevWidth||z!==D.prevHeight||W!==D.prevLayout||Y!==D.prevStackOffset||!b0(K,D.prevMargin)){var he=pQ(N),be={chartX:D.chartX,chartY:D.chartY,isTooltipActive:D.isTooltipActive},le=gn(gn({},hQ(D,F,W)),{},{updateId:D.updateId+1}),ye=gn(gn(gn({},he),be),le);return gn(gn(gn({},ye),C(gn({props:N},ye),D)),{},{prevDataKey:k,prevData:F,prevWidth:B,prevHeight:z,prevLayout:W,prevStackOffset:Y,prevMargin:K,prevChildren:U})}if(!q8(U,D.prevChildren)){var fe,ue,xe,ae,Ee=mc(U,ab),Me=Ee&&(fe=(ue=Ee.props)===null||ue===void 0?void 0:ue.startIndex)!==null&&fe!==void 0?fe:ee,de=Ee&&(xe=(ae=Ee.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&xe!==void 0?xe:re,ze=Me!==ee||de!==re,$e=!zi(F),et=$e&&!ze?D.updateId:D.updateId+1;return gn(gn({updateId:et},C(gn(gn({props:N},D),{},{updateId:et,dataStartIndex:Me,dataEndIndex:de}),D)),{},{prevChildren:U,dataStartIndex:Me,dataEndIndex:de})}return null}),Qr(P,"renderActiveDot",function(N,D,k){var F;return A.isValidElement(N)?F=A.cloneElement(N,D):$i(N)?F=N(D):F=Oe.createElement(yF,D),Oe.createElement(ka,{className:"recharts-active-dot",key:k},F)});var I=A.forwardRef(function(D,k){return Oe.createElement(P,n0({},D,{ref:k}))});return I.displayName=P.displayName,I},D4=Bhe({chartName:"LineChart",GraphicalChild:em,axisComponents:[{axisType:"xAxis",AxisComp:rh},{axisType:"yAxis",AxisComp:ih}],formatAxisMap:rhe}),Zhe=Bhe({chartName:"BarChart",GraphicalChild:Qf,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:rh},{axisType:"yAxis",AxisComp:ih}],formatAxisMap:rhe});const Uhe=({data:e,tx_type:t})=>{const{t:n,i18n:r}=Zi(),i=r.language==="ar",s=Object.keys(e),[c,h]=A.useState(s[0]||""),o=Object.entries(e[c]||{}).map(([y,v])=>({year:y,count:v})).sort((y,v)=>Number(y.year)-Number(v.year)),m=n(t==="sell"?"gis_panel.headings.sell_count_by_year_category":"gis_panel.headings.rent_count_by_year_category");return te.jsxs("div",{className:"py-4 my-4 bg-customBg rounded-md border border-alAdaamBorder",children:[te.jsx("h2",{className:`px-2 pb-4 text-lg text-alAdaam font-bold ${i?"text-right":"text-left"}`,children:m}),te.jsx("div",{className:"flex gap-2 px-2 pb-4",children:s.map(y=>{const v=y===c;return te.jsx("button",{onClick:()=>h(y),className:`p-1 rounded-md text-sm ${v?"bg-alAdaam text-white":"bg-gray-200 text-gray-800"}`,children:y},y)})}),te.jsx("div",{className:"px-2",children:te.jsx(Wb,{width:500,height:300,children:te.jsxs(Zhe,{data:o,children:[te.jsx(rh,{dataKey:"year"}),te.jsx(ih,{}),te.jsx(dl,{}),te.jsx(Qf,{dataKey:"count",fill:"#9D3D56"})]})})})]})},Hhe=({data:e,tx_type:t})=>{const{t:n,i18n:r}=Zi(),i=r.language==="ar",s=Object.entries(e).map(([h,o])=>({year:h,count:o})),c=n(t==="sell"?"gis_panel.headings.sell_count_by_year":"gis_panel.headings.rent_count_by_year");return te.jsxs("div",{className:"py-4 my-4 bg-customBg rounded-md border border-alAdaamBorder",children:[te.jsx("h2",{className:`px-2 pb-4 text-lg text-alAdaam font-bold ${i?"text-right":"text-left"}`,children:c}),te.jsx(Wb,{width:500,height:300,children:te.jsxs(Zhe,{data:s,children:[te.jsx(rh,{dataKey:"year"}),te.jsx(ih,{}),te.jsx(dl,{}),te.jsx(Qf,{dataKey:"count",fill:"#9D3D56"})]})})]})},$f=["#324F85","#8A1538","#404041","#0D4261","#A98A6C","#5A7A9F","#B34D68","#667163","#2D6F8E","#C7A991","#725D78","#8B4B2C","#4B6455"];function L4(e,t){const n=new Array(e.length),r=[];e.forEach(s=>{t.hasOwnProperty(s)?n[t[s]]=s:r.push(s)});let i=0;for(let s=0;s<n.length;s++)n[s]===void 0&&(n[s]=r[i++]);return n}const egt=({data:e})=>{const{t,i18n:n}=Zi(),r=n.language==="ar",i=L4(Object.keys(e),{"Resedential Complex":0,"Commercial Shop":1,Other:Object.keys(e).length-1}),[s,c]=A.useState(i[0]??""),h=new Set;for(const S in e)Object.keys(e[S]).forEach(P=>{h.add(Number(P))});const m=Array.from(h).sort((S,C)=>S-C).map(S=>{const C=e[s][S];return{year:S,mean:C?C.mean:null}}),y=i.indexOf(s),v=$f[y%$f.length];return te.jsxs("div",{className:"py-4 my-4 bg-customBg rounded-md border border-alAdaamBorder",children:[te.jsx("h2",{className:`px-2 pb-4 text-lg text-alAdaam font-bold ${r?"text-right":"text-left"}`,children:t("gis_panel.headings.price_per_m2_category")}),te.jsx("div",{className:"flex gap-2 px-2 pb-4",children:i.map(S=>{const C=S===s;return te.jsx("button",{onClick:()=>c(S),className:`p-1 rounded-md text-sm ${C?"bg-alAdaam text-white":"bg-gray-200 text-gray-800"}`,children:S},S)})}),te.jsx("div",{className:"px-2",children:te.jsx(Wb,{width:500,height:300,children:te.jsxs(D4,{data:m,children:[te.jsx(rh,{dataKey:"year"}),te.jsx(ih,{}),te.jsx(dl,{}),te.jsx(Kd,{}),te.jsx(em,{type:"monotone",dataKey:"mean",stroke:v,dot:!1,name:s})]})})})]})},tgt=({data:e})=>{const{t,i18n:n}=Zi(),r=n.language==="ar",i=L4(Object.keys(e),{"Residential Investment":0,Others:Object.keys(e).length-1}),[s,c]=A.useState(i[0]),h=new Set;for(const S in e)Object.keys(e[S]).forEach(P=>h.add(Number(P)));const m=Array.from(h).sort((S,C)=>S-C).map(S=>{const C=e[s][S];return{year:S,mean:C?C.mean:null}}),y=i.indexOf(s),v=$f[y%$f.length];return te.jsxs("div",{className:"my-4 bg-customBg py-4 rounded-md border border-alAdaamBorder",children:[te.jsx("h2",{className:`px-2 pb-4 text-lg text-alAdaam font-bold ${r?"text-right":"text-left"}`,children:t("gis_panel.headings.price_per_m2_purpose")}),te.jsx("div",{className:"flex gap-2 px-2 pb-4",children:i.map(S=>{const C=S===s;return te.jsx("button",{onClick:()=>c(S),className:`p-1 rounded-md text-sm ${C?"bg-alAdaam text-white":"bg-gray-200 text-gray-800"}`,children:S},S)})}),te.jsx("div",{className:"px-2",children:te.jsx(Wb,{width:500,height:300,children:te.jsxs(D4,{data:m,children:[te.jsx(rh,{dataKey:"year"}),te.jsx(ih,{}),te.jsx(dl,{}),te.jsx(Kd,{}),te.jsx(em,{type:"monotone",dataKey:"mean",stroke:v,dot:!1,name:s})]})})})]})},ngt=({salesTransactions:e})=>{const{t,i18n:n}=Zi(),r=n.language==="ar",{count:i,charts:{count_by_year:s,price_per_m2_by_year_purpose:c,price_per_m2_by_year_category:h,category_counts_per_year:o}}=e;return te.jsxs("div",{className:"p-2 rounded-lg border-2 border-alAdaamBorder",children:[te.jsxs("div",{className:`${r?"text-right":"text-left"}`,children:[te.jsx("h2",{className:`text-alAdaam text-xl font-semibold ${r?"text-right":"text-left"}`,children:t("gis_panel.headings.sales_transactions")}),te.jsxs("div",{className:"pt-4",children:[te.jsxs("div",{className:`flex items-center ${r?"flex-row-reverse":""}`,children:[te.jsx("span",{className:"text-xs text-alAdaam font-bold opacity-50",children:t("gis_panel.headings.sell_count")}),te.jsx("span",{className:"text-xs text-alAdaam font-bold opacity-50",children:":"})]}),te.jsx("span",{className:"text-xl text-alAdaam font-bold",children:i})]})]}),te.jsx(Bh,{children:te.jsx(Hhe,{data:s,tx_type:"sell"})}),te.jsx(Bh,{children:te.jsx(Uhe,{data:o,tx_type:"sell"})}),te.jsx(Bh,{children:te.jsx(tgt,{data:c})}),te.jsx(Bh,{children:te.jsx(egt,{data:h})})]})},rgt=({data:e})=>{const{t,i18n:n}=Zi(),r=n.language==="ar",i=L4(Object.keys(e),{Residential:0,Commercial:1,Industerial:2,Others:Object.keys(e).length-1}),[s,c]=A.useState(i.length?i[0]:""),h=new Set;for(const C in e)Object.keys(e[C]).forEach(I=>h.add(Number(I)));const m=Array.from(h).sort((C,P)=>C-P).map(C=>{var I;const P=(I=e[s])==null?void 0:I[C];return{year:C,mean:P?P.mean:null}}),y=i.indexOf(s),v=y>=0?$f[y%$f.length]:"#8884d8",S=C=>new Intl.NumberFormat("en-US").format(C);return te.jsxs("div",{className:"my-4 bg-customBg py-4 rounded-md border border-alAdaamBorder",children:[te.jsx("h2",{className:`text-lg px-2 font-bold pb-4 text-alAdaam ${r?"text-right":"text-left"}`,children:t("gis_panel.headings.rent_by_year_category")}),te.jsx("div",{className:"flex gap-2 px-2 pb-4",children:i.map(C=>{const P=C===s;return te.jsx("button",{onClick:()=>c(C),className:`p-1 rounded-md text-sm ${P?"bg-alAdaam text-white":"bg-gray-200 text-gray-800"}`,children:C},C)})}),te.jsx(Wb,{width:500,height:300,children:te.jsxs(D4,{data:m,children:[te.jsx(rh,{dataKey:"year"}),te.jsx(ih,{tickFormatter:S}),te.jsx(dl,{formatter:C=>new Intl.NumberFormat("en-US").format(C)}),te.jsx(Kd,{}),te.jsx(em,{type:"monotone",dataKey:"mean",name:s,stroke:v,dot:!1})]})})]})},igt=({data:e})=>{const{t,i18n:n}=Zi(),r=n.language==="ar",i=L4(Object.keys(e),{"Resedential Complex":0,"Commercial Shop":1,Others:Object.keys(e).length-1}),[s,c]=A.useState(i.length?i[0]:""),h=new Set;for(const C in e){const P=e[C];Object.keys(P).forEach(I=>{h.add(Number(I))})}const m=Array.from(h).sort((C,P)=>C-P).map(C=>{var I;const P=(I=e[s])==null?void 0:I[C];return{year:C,mean:P?P.mean:null}}),y=i.indexOf(s),v=$f[y%$f.length]||"#8884d8",S=C=>new Intl.NumberFormat("en-US").format(C);return te.jsxs("div",{className:"my-4 bg-customBg py-4 rounded-md border border-alAdaamBorder",children:[te.jsx("h2",{className:`text-lg px-2 font-bold pb-4 text-alAdaam ${r?"text-right":"text-left"}`,children:t("gis_panel.headings.rent_by_year_purpose")}),te.jsx("div",{className:"flex gap-2 px-2 pb-4 flex-wrap",children:i.map(C=>{const P=C===s;return te.jsx("button",{onClick:()=>c(C),className:`p-1 rounded-md text-sm ${P?"bg-alAdaam text-white":"bg-gray-200 text-gray-800"}`,children:C},C)})}),te.jsx(Wb,{width:500,height:300,children:te.jsxs(D4,{data:m,children:[te.jsx(rh,{dataKey:"year"}),te.jsx(ih,{tickFormatter:S}),te.jsx(dl,{formatter:C=>new Intl.NumberFormat("en-US").format(C)}),te.jsx(Kd,{}),te.jsx(em,{type:"monotone",dataKey:"mean",stroke:v,dot:!1,name:s})]})})]})},ogt=({rentTransactions:e})=>{const{t,i18n:n}=Zi(),r=n.language==="ar",{count:i,charts:{count_by_year:s,rent_by_year_purpose:c,rent_by_year_category:h,category_counts_per_year:o}}=e;return te.jsxs("div",{className:"p-2 rounded-md border-2 border-alAdaamBorder",children:[te.jsxs("div",{className:`${r?"text-right":"text-left"}`,children:[te.jsx("h2",{className:"text-alAdaam text-xl font-semibold",children:t("gis_panel.headings.rental_transactions")}),te.jsxs("div",{className:`flex items-center pt-4 ${r?"flex-row-reverse":""}`,children:[te.jsx("span",{className:"text-xs text-alAdaam font-bold opacity-50",children:t("gis_panel.headings.rent_count")}),te.jsx("span",{className:"text-xs text-alAdaam font-bold opacity-50",children:":"})]}),te.jsx("span",{className:"text-xl text-alAdaam font-bold",children:i})]}),te.jsx(Bh,{children:s?te.jsx(Hhe,{data:s,tx_type:"rent"}):null}),te.jsx(Bh,{children:o?te.jsx(Uhe,{data:o,tx_type:"rent"}):null}),te.jsx(Bh,{children:c?te.jsx(rgt,{data:c}):null}),te.jsx(Bh,{children:h?te.jsx(igt,{data:h}):null})]})},agt=()=>te.jsxs("div",{className:"p-2",children:[te.jsx("div",{className:"mb-1",children:te.jsx(v0,{width:"100%",height:50})}),te.jsx("div",{className:"mb-1",children:te.jsx(v0,{width:"100%",height:70})}),te.jsx("div",{className:"mb-4",children:te.jsx(v0,{height:400})})]}),sgt=({properties:e})=>{var I,N,D,k,F,U;const{t,i18n:n}=Zi(),[r,i]=A.useState(null),[s,c]=A.useState(!0),[h,o]=A.useState(!1),m=async()=>{c(!0),o(!1);const B=localStorage.getItem("token");B&&(Ff.Authorization=`Bearer ${B}`);try{const z=await fetch(`https://az.api.aqarat.xmap.ai/gis/districts/${e.ADM3_PCODE}`,{headers:Ff});if(z.status===404){console.error("District not found (404)"),i(null),o(!0);return}if(!z.ok)throw new Error(`HTTP error! Status: ${z.status}`);const W=await z.json();i(W)}catch(z){console.error("Failed to fetch district data:",z),o(!0)}finally{c(!1)}};if(A.useEffect(()=>{m()},[e.ADM3_PCODE]),s)return te.jsx("div",{className:"p-2",children:te.jsx(agt,{})});if(h||!r)return te.jsx("div",{className:"flex flex-col justify-center items-center gap-4",style:{height:650},children:te.jsxs("div",{className:"text-red-500 text-lg flex items-center gap-2",children:[te.jsx(O7e,{}),te.jsx("span",{children:"District data not found."})]})});const{municipality_name:y,district_name:v,sales_transactions:S,rent_transactions:C,pois_statistics:P}=r;return te.jsxs("div",{className:"p-2",children:[te.jsx("div",{className:"text-alAdaam border-alAdaamBorder border-2 py-4 rounded-md text-center text-lg font-bold bg-customBg",children:v[n.language]??"N/A"}),te.jsx("div",{className:"py-0.5"}),te.jsx(Nae.Ribbon,{text:"xMap AI",className:"bg-skyline",children:te.jsxs("div",{className:"text-alAdaam border-alAdaamBorder border-2 pb-4 pt-8 px-2 rounded-md text-center text-lg",children:[te.jsx("div",{className:"absolute top-2 left-2"}),te.jsxs("div",{className:"flex flex-row items-center justify-center gap-8",children:[te.jsxs("div",{className:"flex flex-col items-center",children:[te.jsx(JZe,{}),te.jsx("div",{className:"text-xs text-alAdaam opacity-85",children:t("gis_panel.headings.municipality")}),te.jsx("b",{className:"text-base text-alAdaam font-bold opacity-85",children:y[n.language]??"N/A"})]}),te.jsx(Lh,{}),te.jsxs("div",{className:"flex flex-col items-center gap-1",children:[te.jsx("div",{className:"text-xs text-alAdaam font-bold opacity-85",children:t("gis_panel.headings.finance")}),te.jsx("b",{className:"text-base text-alAdaam font-bold opacity-85",children:((N=(I=P==null?void 0:P.by_category)==null?void 0:I.FINANCE)==null?void 0:N.count)??"N/A"})]}),te.jsx(Lh,{}),te.jsxs("div",{className:"flex flex-col items-center gap-1",children:[te.jsx("div",{className:"text-xs text-alAdaam font-bold opacity-85",children:t("gis_panel.headings.health")}),te.jsx("b",{className:"text-base text-alAdaam font-bold opacity-85",children:((k=(D=P==null?void 0:P.by_category)==null?void 0:D.HEALTH)==null?void 0:k.count)??"N/A"})]}),te.jsx(Lh,{}),te.jsxs("div",{className:"flex flex-col items-center gap-1",children:[te.jsx("div",{className:"text-xs text-alAdaam font-bold opacity-85",children:t("gis_panel.headings.education")}),te.jsx("div",{className:"text-base text-alAdaam font-bold opacity-85",children:((U=(F=P==null?void 0:P.by_category)==null?void 0:F.EDUCATION)==null?void 0:U.count)??"N/A"})]})]})]})}),te.jsx("div",{className:"py-0.5"}),te.jsx(ngt,{salesTransactions:S}),te.jsx("div",{className:"py-0.5"}),C!=null&&C.count?te.jsx(ogt,{rentTransactions:C}):null,te.jsx("div",{className:"text-center my-8",children:te.jsx("a",{href:"https://qrep.aqarat.gov.qa/",target:"_blank",rel:"noreferrer",className:"text-blue-500 underline",children:t("gis_panel.footer_link_label")})})]})},lgt=()=>{const{t:e,i18n:t}=Zi(),n=ha(),r=Ci(o=>o.mapData.selectedPanel),i=Ci(o=>o.mapData.popupInfo);A.useEffect(()=>{const o=localStorage.getItem("preferredLang");o&&o!==t.language&&t.changeLanguage(o)},[t]);const s=o=>{n(ew(r===o?null:o))},c=t.language==="ar",h=()=>{switch(r){case"project-popup":return te.jsx("div",{style:{width:"600px"},children:te.jsx(YZe,{properties:i.properties})});case"district-feature-popup":return te.jsx("div",{style:{width:"600px"},children:te.jsx(sgt,{properties:i.properties})});case"chat":return te.jsx(IZe,{});case"settings":return te.jsx(j7e,{});case"account":return te.jsx(z7e,{});default:return null}};return te.jsxs("div",{className:`floating-menu-top fixed top-16 z-50 ${c?"right-4":"left-4"}`,children:[te.jsx("div",{className:"group",children:te.jsxs("div",{className:"bg-white rounded-lg shadow-lg py-3 px-2 w-14 group-hover:w-44 transition-all duration-300",children:[te.jsxs("div",{className:`flex items-center p-2 hover:bg-gray-200 cursor-pointer rounded-md transition-colors ${c?"flex-row-reverse":""}`,tabIndex:0,onClick:()=>{n(ew(null)),n(uAe())},children:[te.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:te.jsx(DZe,{className:"text-gray-700 text-2xl"})}),te.jsx("span",{className:"hidden group-hover:inline-block ml-3 text-gray-900",children:e("top_menu.home")})]}),te.jsxs("div",{className:`flex items-center p-2 hover:bg-gray-200 cursor-pointer rounded-md transition-colors ${c?"flex-row-reverse":""} ${r==="chat"?c?"bg-gray-100 border-r-4 border-gray-700":"bg-gray-100 border-l-4 border-gray-700":""}`,onClick:()=>s("chat"),tabIndex:0,"aria-expanded":r==="chat",children:[te.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:te.jsx(OZe,{className:"text-gray-700 text-2xl"})}),te.jsx("span",{className:"hidden group-hover:inline-block ml-3 text-gray-900",children:e("top_menu.chat")})]})]})}),r&&te.jsxs("div",{className:`
            absolute top-0 bg-white rounded-lg shadow-lg transition-all duration-300
            ${c?"right-full mr-2":"left-full ml-2"}
          `,children:[te.jsx("div",{className:`flex border-b border-gray-200  ${c?"justify-end":"justify-start"}`,children:te.jsx("button",{onClick:()=>n(ew(null)),className:`
        absolute top-3 ${c?"left-3":"right-3"} z-10 p-0.5 bg-white rounded-full shadow
        hover:bg-gray-200 focus:outline-none
      `,children:te.jsx(yce,{className:"h-5 w-5",color:"gray"})})}),te.jsx("div",{className:"overflow-auto",style:{maxHeight:"calc(90vh - 70px)"},children:h()})]})]})},uk={activeToggles:{district:!0,projects:!0,heatmap:!0},activeFilterKey:null,filtersVisible:!1,selectedFilters:{districts:{Municipality:"",Zone:"",District:""},projects:{Price:null,UnitType:[],Bedrooms:[]},sales:{},heatmap:{Category:1,Purpose:1,Type:"sell_count"}},selectedProject:null,selectedDistrictCoordinates:null,loadingFilterKey:null},Vhe=Eb({name:"filters",initialState:uk,reducers:{toggleFilter:(e,t)=>{const n=t.payload;e.activeToggles[n]=!e.activeToggles[n],e.activeToggles[n]||(e.filtersVisible=!1,n in e.selectedFilters&&(e.selectedFilters[n]=uk.selectedFilters[n]))},setActiveToggle:(e,t)=>{const{key:n,value:r}=t.payload;e.activeToggles[n]=r,r||(e.filtersVisible=!1,n in e.selectedFilters&&(e.selectedFilters[n]=uk.selectedFilters[n]))},setActiveFilterKey:(e,t)=>{e.activeFilterKey=t.payload},setFiltersVisible:(e,t)=>{e.filtersVisible=t.payload},setFilterParam:(e,t)=>{const{toggleKey:n,filterLabel:r,value:i}=t.payload;e.selectedFilters[n]||(e.selectedFilters[n]={}),e.selectedFilters[n][r]=i},setLoadingFilterKey:(e,t)=>{e.loadingFilterKey=t.payload},setSelectedDistrictCoordinates:(e,t)=>{e.selectedDistrictCoordinates=t.payload},setSelectedProject:(e,t)=>{if(!t.payload)e.selectedProject=null;else{const{zoom:n=16}=t.payload;e.selectedProject={...t.payload,zoom:n}}},resetFilterKey:(e,t)=>{const n=t.payload;e.selectedFilters[n]={}}}}),{toggleFilter:cgt,setActiveToggle:ugt,setActiveFilterKey:dgt,setFiltersVisible:mQ,setFilterParam:Na,setSelectedDistrictCoordinates:wF,setLoadingFilterKey:gQ,setSelectedProject:vD,resetFilterKey:hgt}=Vhe.actions,pgt=Vhe.reducer,fgt={openDropdown:null},Whe=Eb({name:"dropdown",initialState:fgt,reducers:{setOpenDropdown:(e,t)=>{e.openDropdown=t.payload}}}),{setOpenDropdown:Yd}=Whe.actions,mgt=Whe.reducer,oh=({isOpen:e,label:t,onClick:n,isFilterActive:r,onClear:i,disabled:s=!1})=>te.jsxs("button",{onClick:n,className:`font-bold flex items-center px-4 py-2 rounded-md whitespace-nowrap text-sm gap-2 shadow-md focus:outline-none 
        ${s?"bg-gray-100 text-gray-400 cursor-not-allowed":""}
        ${!s&&e?"border text-skyline  border-alAdaamBorder bg-buttonBg":""}
        ${!s&&!e?"bg-buttonBg text-skyline  hover:bg-gray-300":""}`,disabled:s,children:[te.jsx("div",{className:`w-4 h-4 flex items-center justify-center rounded-full transition-transform duration-200 ${s?"text-gray-100 bg-gray-400":e?"rotate-90 text-white bg-skyline ":"rotate-0 text-white bg-skyline "}`,children:te.jsx(bce,{size:12})}),te.jsx("span",{children:t}),r&&!s&&te.jsx(ule,{onClick:c=>{c.stopPropagation(),i()},size:16,style:{cursor:"pointer",color:"#8A1538"}}),te.jsx(BZe,{size:16})]}),Ghe=[{name_en:"Qetaifan Island",name_ar:"جزيرة قطيفان",coordinates:[51.521361,25.426707]},{name_en:"Seef Lusail",name_ar:"السيف لوسيل",coordinates:[51.512587,25.426283]},{name_en:"Crystal Residence",name_ar:"كريستال رزيدانس",coordinates:[51.537719,25.378074]},{name_en:"Seef Lusail - Seef 3",name_ar:"السيف لوسيل - السيف 3",coordinates:[51.513876,25.427186]},{name_en:"Seef Lusail - Seef 9",name_ar:"السيف لوسيل - السيف 9",coordinates:[51.510419,25.424875]},{name_en:"Seef Lusail - Seef 6",name_ar:"السيف لوسيل - السيف 6",coordinates:[51.511915,25.426304]},{name_en:"Seef Lusail - Seef 8",name_ar:"السيف لوسيل - السيف 8",coordinates:[51.511266,25.425311]},{name_en:"Crystal Residence - multi towers",name_ar:"كريستال رزيدانس - الأبراج",coordinates:[51.536427,25.377463]},{name_en:"Qetaifan Island - Qetaifan South",name_ar:"جزيرة قطيفان - قطيفان الجنوبية",coordinates:[51.517495,25.421162]},{name_en:"Crystal Residence - Crystal 2",name_ar:"كريستال رزيدانس - كريستال 2",coordinates:[51.536607,25.377476]},{name_en:"Crystal Residence - Crystal 4",name_ar:"كريستال رزيدانس - كريستال 4",coordinates:[51.537048,25.378027]},{name_en:"Crystal Residence - Crystal 8",name_ar:"كريستال رزيدانس - كريستال 8",coordinates:[51.538295,25.378917]},{name_en:"Crystal Residence - Crystal 6",name_ar:"كريستال رزيدانس - كريستال 6",coordinates:[51.537636,25.378393]},{name_en:"Crystal Residence - Promenade 2",name_ar:"كريستال رزيدانس - برومينيد 2",coordinates:[51.537498,25.377092]},{name_en:"Crystal Residence - Promenade 3",name_ar:"كريستال رزيدانس - برومينيد 3",coordinates:[51.538387,25.377487]},{name_en:"Crystal Residence - Promenade 4",name_ar:"كريستال رزيدانس - برومينيد 4",coordinates:[51.539378,25.377944]},{name_en:"Crystal Residence - Promenade 5",name_ar:"كريستال رزيدانس - برومينيد 5",coordinates:[51.539977,25.378505]},{name_en:"Crystal Residence - Crystal 1",name_ar:"كريستال رزيدانس - كريستال 1",coordinates:[51.536583,25.377181]},{name_en:"Crystal Residence - Crystal 3",name_ar:"كريستال رزيدانس - كريستال 3",coordinates:[51.537171,25.377686]},{name_en:"Crystal Residence - Crystal 5",name_ar:"كريستال رزيدانس - كريستال 5",coordinates:[51.538014,25.378065]},{name_en:"Crystal Residence - Crystal 7",name_ar:"كريستال رزيدانس - كريستال 7",coordinates:[51.538839,25.378466]},{name_en:"Crystal Residence - Promenade 1",name_ar:"كريستال رزيدانس - برومينيد 1",coordinates:[51.536951,25.376857]},{name_en:"Qetaifan Island - Qetaifan North",name_ar:"جزيرة قطيفان - قطيفان الشمالية",coordinates:[51.529065,25.435834]},{name_en:"Seef Lusail - Seef 1,2&3",name_ar:"السيف لوسيل - السيف 1,2&3",coordinates:[51.51419,25.426644]},{name_en:"Seef Lusail - Seef 1",name_ar:"السيف لوسيل - السيف 1",coordinates:[51.513547,25.426138]},{name_en:"Seef Lusail - Seef 2",name_ar:"السيف لوسيل - السيف 2",coordinates:[51.514426,25.427017]},{name_en:"Seef Lusail - Seef 6&7",name_ar:"السيف لوسيل - السيف 6&7",coordinates:[51.512492,25.425702]},{name_en:"Seef Lusail - Seef 4",name_ar:"السيف لوسيل - السيف 4",coordinates:[51.512994,25.427152]},{name_en:"Seef Lusail - Seef 5",name_ar:"السيف لوسيل - السيف 5",coordinates:[51.51235,25.426822]},{name_en:"Seef Lusail - Seef 7",name_ar:"السيف لوسيل - السيف 7",coordinates:[51.511766,25.425899]},{name_en:"Seef Lusail - Seef 4&5",name_ar:"السيف لوسيل - السيف 4&5",coordinates:[51.512835,25.426586]},{name_en:"JMJ Waterfront Residences - WR06",name_ar:"جي إم جي ووترفرونت ريزيدنسز - WR06",coordinates:[51.519574907592784,25.440499258759836]},{name_en:"SLS Doha The Grove Residences - SM07",name_ar:"اس ال اس دوحة ذا جروف ريزيدنسز - SM07",coordinates:[51.53209687747192,25.425960112617336]}],ggt=({label:e})=>{const{t,i18n:n}=Zi(),[r,i]=A.useState(""),[s,c]=A.useState([]),h=ha(),m=Ci(P=>P.dropdown.openDropdown)==="ProjectName",y=n.language==="ar",v=()=>{h(Yd(m?null:"ProjectName"))},S=P=>{const I=P.target.value;if(i(I),I.trim()!==""){const N=Ghe.filter(D=>(y?D.name_ar:D.name_en).toLowerCase().includes(I.toLowerCase())).map(D=>({name:y?D.name_ar:D.name_en,coordinates:D.coordinates}));c(N)}else c([])},C=P=>{h(vD(P)),i(P.name),c([]),h(Yd(null))};return te.jsxs("div",{className:"relative inline-block",children:[te.jsx(oh,{isOpen:m,label:e,onClick:v}),m&&te.jsxs("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-48 z-10",children:[te.jsx("h3",{className:"font-semibold mb-2",children:t("toggles.project.filters.building_name.title")}),te.jsx("input",{type:"text",className:"border rounded w-full p-1",placeholder:t("toggles.project.filters.building_name.placeholder"),value:r,onChange:S}),s.length>0&&te.jsx("ul",{className:"bg-white border rounded mt-2 max-h-48 overflow-y-auto",children:s.map((P,I)=>te.jsx("li",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>C(P),children:P.name},I))})]})]})},Khe=({options:e,filterKey:t})=>{const{t:n}=Zi(),r=ha(),i=Ci(c=>{var h;return((h=c.filters.selectedFilters.projects)==null?void 0:h[t])||[]}),s=(c,h)=>{const o=h?[...i,c]:i.filter(m=>m!==c);r(Na({toggleKey:"projects",filterLabel:t,value:o}))};return te.jsx("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-36 z-10",children:te.jsx("div",{children:e.map(({label:c,value:h})=>te.jsx("div",{className:"mb-1",children:te.jsx(fA,{checked:i.includes(h),onChange:o=>s(h,o.target.checked),children:`${n(c)}`})},h))})})},ygt=({label:e})=>{const t=ha(),n=Ci(o=>o.dropdown.openDropdown),r=Ci(o=>{var m;return((m=o.filters.selectedFilters.projects)==null?void 0:m.UnitType)||[]}),i=n==="UnitType",s=r.length>0,c=()=>{t(Yd(i?null:"UnitType"))},h=()=>{t(Na({toggleKey:"projects",filterLabel:"UnitType",value:[]}))};return te.jsxs("div",{className:"relative inline-block",children:[te.jsx(oh,{isOpen:i,label:e,onClick:c,isFilterActive:s,onClear:h}),i&&te.jsx(Khe,{options:[{label:"toggles.project.filters.building_type.values.villa",value:"Villa"},{label:"toggles.project.filters.building_type.values.apartment",value:"Apartment"},{label:"toggles.project.filters.building_type.values.townhouse",value:"Townhouse"},{label:"toggles.project.filters.building_type.values.duplex",value:"Duplex"}],filterKey:"UnitType"})]})},vgt=({label:e})=>{const t=ha(),n=Ci(o=>o.dropdown.openDropdown),r=Ci(o=>{var m;return((m=o.filters.selectedFilters.projects)==null?void 0:m.Bedrooms)||[]}),i=n==="Bedrooms",s=r.length>0,c=()=>{t(Yd(i?null:"Bedrooms"))},h=()=>{t(Na({toggleKey:"projects",filterLabel:"Bedrooms",value:[]}))};return te.jsxs("div",{className:"relative inline-block",children:[te.jsx(oh,{isOpen:i,label:e,onClick:c,isFilterActive:s,onClear:h}),i&&te.jsx(Khe,{options:[{label:"toggles.project.filters.bedroom_count.values.one",value:"1"},{label:"toggles.project.filters.bedroom_count.values.two",value:"2"},{label:"toggles.project.filters.bedroom_count.values.three",value:"3"},{label:"toggles.project.filters.bedroom_count.values.four",value:"4"}],filterKey:"Bedrooms"})]})},bgt=({label:e})=>{const{t}=Zi(),n=ha(),i=Ci(C=>C.dropdown.openDropdown)==="Price",s=Ci(C=>{var P;return(P=C.filters.selectedFilters.projects)==null?void 0:P.Price}),[c,h]=A.useState([(s==null?void 0:s.min)||0,(s==null?void 0:s.max)||1e7]),o=s!=null,m=()=>{n(Yd(i?null:"Price"))},y=C=>{h(C)},v=()=>{n(Na({toggleKey:"projects",filterLabel:"Price",value:{min:c[0],max:c[1]}})),m()},S=()=>{h([0,1e7]),n(Na({toggleKey:"projects",filterLabel:"Price",value:null}))};return te.jsxs("div",{className:"relative inline-block",children:[te.jsx(oh,{isOpen:i,label:e,onClick:m,isFilterActive:o,onClear:S}),i&&te.jsxs("div",{className:"absolute mt-2 bg-white rounded-lg shadow-lg p-4 w-80 z-10 border border-gray-200",children:[te.jsx("div",{className:"flex justify-between items-center mb-4",children:te.jsxs("h3",{className:"font-semibold text-gray-700",children:[" ",t("toggles.project.filters.price.title")]})}),te.jsx(jse,{range:!0,min:0,max:1e7,step:1e5,value:c,onChange:y,tooltip:{formatter:C=>`${C==null?void 0:C.toLocaleString()} QAR`}}),te.jsxs("div",{className:"flex items-center justify-between mt-4",children:[te.jsx(P8,{min:0,max:1e7,value:c[0],onChange:C=>h([C||0,c[1]]),formatter:C=>`${C}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),className:"w-32",size:"large"}),te.jsx("span",{className:"mx-2 text-gray-600",children:"to"}),te.jsx(P8,{min:0,max:1e7,value:c[1],onChange:C=>h([c[0],C||1e5]),formatter:C=>`${C}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),className:"w-32",size:"large"})]}),te.jsxs("div",{className:"flex justify-end mt-6 space-x-3",children:[te.jsx(vs,{onClick:S,className:"text-gray-500 hover:text-gray-700",children:t("toggles.project.filters.price.clear")}),te.jsx(vs,{type:"primary",onClick:v,className:"bg-blue-600 hover:bg-blue-700",children:t("toggles.project.filters.price.apply")})]})]})]})},_gt=[{label:"toggles.project.filters.building_name.label",component:ggt},{label:"toggles.project.filters.price.label",component:bgt},{label:"toggles.project.filters.building_type.label",component:ygt},{label:"toggles.project.filters.bedroom_count.label",component:vgt}],xgt=()=>te.jsxs("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-48 z-10",children:[te.jsx("h3",{className:"font-semibold mb-2",children:"Zone"}),te.jsx("input",{type:"text",className:"border rounded w-full p-1",placeholder:"Zone"})]}),wgt=()=>te.jsxs("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-48 z-10",children:[te.jsx("h3",{className:"font-semibold mb-2",children:"Municipality"}),te.jsxs("ul",{className:"text-sm space-y-1 max-h-96 overflow-y-auto",children:[te.jsx("li",{className:"cursor-pointer hover:bg-gray-100 p-1",children:"Doha"}),te.jsx("li",{className:"cursor-pointer hover:bg-gray-100 p-1",children:"Al Rayyan"}),te.jsx("li",{className:"cursor-pointer hover:bg-gray-100 p-1",children:"Al Wakrah"}),te.jsx("li",{className:"cursor-pointer hover:bg-gray-100 p-1",children:"Umm Salal"})]})]}),Sgt=()=>te.jsxs("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-48 z-10",children:[te.jsx("h3",{className:"font-semibold mb-2",children:"AVG Price (From-To)"}),te.jsxs("div",{className:"space-y-2",children:[te.jsx("input",{type:"number",className:"border rounded w-full p-1",placeholder:"From"}),te.jsx("input",{type:"number",className:"border rounded w-full p-1",placeholder:"To"})]})]}),Agt=()=>te.jsxs("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-48 z-10",children:[te.jsx("h3",{className:"font-semibold mb-2",children:"Building"}),te.jsxs("ul",{className:"text-sm space-y-1 max-h-96 overflow-y-auto",children:[te.jsx("li",{className:"cursor-pointer hover:bg-gray-100 p-1",children:"Apartment"}),te.jsx("li",{className:"cursor-pointer hover:bg-gray-100 p-1",children:"Villas"}),te.jsx("li",{className:"cursor-pointer hover:bg-gray-100 p-1",children:"Commercial"})]})]}),Cgt=[{label:"Zone",component:xgt},{label:"Municipality",component:wgt},{label:"AVG Price (From-To)",component:Sgt},{label:"Building",component:Agt}],Mgt={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[51.510363501885685,25.387213469743543]},properties:{Municipality:"بلدية الضعاين",Zone:"جبل ثعيلب / الخرايج / لوسيل / العقلة / وادي البنات 69",Zone_Number:69,District:"العقلة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.51364838997081,25.434232897956647]},properties:{Municipality:"بلدية الضعاين",Zone:"جبل ثعيلب / الخرايج / لوسيل / العقلة / وادي البنات 69",Zone_Number:69,District:"لوسيل 69"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.505885825299345,25.406460138753072]},properties:{Municipality:"بلدية الضعاين",Zone:"جبل ثعيلب / الخرايج / لوسيل / العقلة / وادي البنات 69",Zone_Number:69,District:"الخرايج"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53601557724781,25.393895029730725]},properties:{Municipality:"بلدية الضعاين",Zone:"جبل ثعيلب / الخرايج / لوسيل / العقلة / وادي البنات 69",Zone_Number:69,District:"غار ثعيلب"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.501596711977655,25.59477357636329]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"سميسمة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.48238285882421,25.50703708624547]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"لوسيل 70"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46928296898789,25.63311222891973]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"الرحية"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.43782925748678,25.59438651396098]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"جري المطروشي"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.456349441217036,25.37709336158982]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"لعبيب"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.45923508555546,25.440375685108886]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"روضة الحمامة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.45170590367203,25.57674991988995]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"الجريان"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.43206815431958,25.42152893905837]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"جريان جنيحات"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.42627212713672,25.613989669028115]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"وادي العويرة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50959501924162,25.621374491956498]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"حالة عبير"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.44737740656988,25.394525043536355]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"العب"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.473339079636425,25.55520240420367]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"الضعاين"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46084486899861,25.4756103518451]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"المسروحية"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.466757050463094,25.41752266613509]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"الخيسة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46350965191853,25.602242072614096]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"تنبيق"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.4774887920838,25.397215098030557]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"وادي البنات"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.42356750767419,25.44446105352464]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"وادي الوسعة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.43328043106778,25.49853213307458]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"Wadi لوسيل"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.415127373099274,25.473995730625532]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"الصخامة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.43416513104327,25.55363976236352]},properties:{Municipality:"بلدية الضعاين",Zone:"لعبيب / العب / جريان جنيحات / الخيسة / روضة الحمامة / وادي الوسعة / الصخامة / المسروحية / وادي لوسيل / لوسيل / أم قرن / الضعاين 70",Zone_Number:70,District:"أم قرن"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.41609735782721,25.639072865092444]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"أم سميرة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.31948031778392,25.6445974464965]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"أم غويلينة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37921332630738,25.582812930920873]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"روضة بخيلة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54518540826937,25.650227706295613]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"رأس النوف"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.461969527988614,25.6704436043564]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"الاقضا"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.27313123720658,25.60235712504828]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"بو خريصة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39082879989505,25.614380295411923]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"أم قرين"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30923508558682,25.702116820621594]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"هينة المشعب"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.369733175327404,25.694752582350983]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"أم الشخووت"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.29161124559352,25.632997713193422]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"روضة بو فضالة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.48627782359048,25.695515544135993]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Wadi Al Jalta"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.4090990483061,25.6753681308231]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Asat Al Raei"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.275229810534874,25.671725692365307]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Lemnaisbat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.339367751173945,25.696574233710233]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Asma"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53322545938448,25.703752202025075]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Umm Enaig"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.502209142626164,25.713572696592816]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Industrial Area"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.51579488096291,25.64429506571907]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Ras Al Nekh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.35288435807081,25.670371109586036]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Umm Ejwaifa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.26315999547136,25.634521200411314]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Mehairja"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.333771201685174,25.578433045132552]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Muaither Rasheeda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.31642680299836,25.619568489893883]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"وادي البنات"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30329357328568,25.57518161053387]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Rawdat Aras"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.4391856447468,25.66174013906352]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Umm Swayya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50139052982092,25.676560851407515]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Al Khor"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.483071589869,25.654561882037857]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Al Heedan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.27905403964865,25.69857688758298]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Umm Dahal"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.35573249572759,25.632571286321035]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Rasheeda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.5765093820892,25.706714800432636]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Al Jebail"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46201960511251,25.69939193007351]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Wadi Mehri"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.522761341574196,25.662681980724997]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Ras Al Gurma"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30639482615969,25.599913912089054]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Al Theebiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.3043605327152,25.667587050725146]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Al Ghaleeda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.41329256281266,25.704671744296935]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"سميسمة / الجريان / الخور 74",Zone_Number:74,District:"Umm Al Hawaya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30804542982184,25.721813283599896]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Wadi Al Dehool"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.44268750197586,25.845318279198292]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Al Waab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.45233311988563,25.89146315609244]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Lekhrais"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.49824822918773,25.869427735295545]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Grayyat Al Faida"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39455050585841,25.816453321441845]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Simsima"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.435320436834836,25.899643998931342]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Birkat Rabiah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.382336367546785,25.734922884760294]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Imgaitna"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.475630648445296,25.72881494723605]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Khattaf"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.36575230071095,25.8393644031014]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Lekhdaira"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.34631570991861,25.768037445128993]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Al Ghesen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.40552522742552,25.850092337918714]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Wadi Al Harm"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39032083703962,25.878176702162065]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Waab Al Mashrab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54201701663016,25.80219995597202]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Lemtaibnat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.4222859392902,25.741373738556515]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Abal Gararees"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53650282702463,25.73646070422677]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Al Thakhira"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.36545429712142,25.852947808400312]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Wadi Al Gherban"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.48637098932967,25.83056299740213]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Umm Al Harabi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.40913228222574,25.90724380997417]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Al Mashrab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.58223059608574,25.79594686345556]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Ras Mraidgha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.35375475768456,25.874905642350846]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Madinat Al Kaaban"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.34505913856302,25.793082378118527]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Umm Theghaib"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53059414594134,25.771786609845044]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Lebwairda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.35572433352714,25.718991856813886]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Al Hashem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.55512898728587,25.836488228560487]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Ras Imlaiji"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.497641884065246,25.74547466509459]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Bu Slaila"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37404714997884,25.789188171287236]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Umm Ethnaitain"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.59133871932924,25.872142737768414]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Wadi Al Sahal"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.452002140230775,25.78986688780888]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Umm Birka"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.57932208993034,25.890923288442156]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Al Mamlaha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.465003032142896,25.93212956286148]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Ras Gertas"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.5320419186586,25.914154968629546]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Rass Laffan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.33702513660029,25.74337098136024]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الضعاين / رأس لفان / أم بيركة 75",Zone_Number:75,District:"Umm Graiba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15328490549251,25.74750634924802]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Al Ghezlaniya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.028730311361564,25.788169174084466]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Umm Kheesa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.29784099070396,25.830917238849118]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Umm Lebrak"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30781452171606,25.887094980799105]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Waab Labareg"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.32352510306211,25.872325264875915]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Umm Leashoosh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.99200170233108,25.82790452267161]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Umm Al Maa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15044399084903,25.88399815176153]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Al Deghaishiyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.2998502031558,25.80743180503111]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Rawdat Al Faras"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.201374699014984,25.738906763612047]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Al Nefailiyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.188559658555576,25.855162232233123]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Yoodah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0764379073991,25.792606255609908]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Wadi Maitha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.26348140380858,25.867080536693344]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Al Mayeda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.13881175186806,25.813601259219183]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Umm Leadam"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28438117232033,25.754035237209273]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Rawdat Hawtan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.22828994282622,25.88270594810227]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Al Selaimi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.133059981158844,25.914507185042442]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Al Mebtaeda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15340941470561,25.940312780727545]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Umm Graiba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.02867333483115,25.82427525155898]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Al Saalookiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24025173459716,25.74282131606416]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Lehnaizeeba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24003393730961,25.797524286750004]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Al Suwairiyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.99962640099224,25.787070169080742]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Lesaiwed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.19999331449104,25.916708821649085]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Al Nehayy"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24822559998291,25.917421891950063]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Al Tabaah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18766290952709,25.805279513137844]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Leghraifa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.281728412891205,25.864124453478112]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Leghwair"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.097488392320244,25.824344461924444]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Leawaija"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.06057698150169,25.83198418213404]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Jery Al Theyab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.242620392822914,25.8378424079504]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Leghwairiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.31967745223891,25.85117470839643]},properties:{Municipality:"بلدية الخور والذخيرة",Zone:"الغويرية 76",Zone_Number:76,District:"Al Dawoodiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.3537769776367,25.335325655906214]},properties:{Municipality:"بلدية الريان",Zone:"الغرافة / غرافات الريان / إزغوى / بني هاجر / السيج / روضة قديم / الثميد 51",Zone_Number:51,District:"Rawdat Al Jahhaniya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.44513448835722,25.334596728831492]},properties:{Municipality:"بلدية الريان",Zone:"الغرافة / غرافات الريان / إزغوى / بني هاجر / السيج / روضة قديم / الثميد 51",Zone_Number:51,District:"Al Gharrafa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39411899312086,25.33653124902182]},properties:{Municipality:"بلدية الريان",Zone:"الغرافة / غرافات الريان / إزغوى / بني هاجر / السيج / روضة قديم / الثميد 51",Zone_Number:51,District:"Rawdat Egdaim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.40420724208106,25.314221035253837]},properties:{Municipality:"بلدية الريان",Zone:"الغرافة / غرافات الريان / إزغوى / بني هاجر / السيج / روضة قديم / الثميد 51",Zone_Number:51,District:"Bani Hajer"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.33639066832693,25.372250852282413]},properties:{Municipality:"بلدية الريان",Zone:"الغرافة / غرافات الريان / إزغوى / بني هاجر / السيج / روضة قديم / الثميد 51",Zone_Number:51,District:"Shariya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.32232527398199,25.364110618992072]},properties:{Municipality:"بلدية الريان",Zone:"الغرافة / غرافات الريان / إزغوى / بني هاجر / السيج / روضة قديم / الثميد 51",Zone_Number:51,District:"Umm Al Afaei"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.35426699982393,25.36961680511226]},properties:{Municipality:"بلدية الريان",Zone:"الغرافة / غرافات الريان / إزغوى / بني هاجر / السيج / روضة قديم / الثميد 51",Zone_Number:51,District:"Jeryan Al Saham"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.33889876087262,25.343859394971833]},properties:{Municipality:"بلدية الريان",Zone:"الغرافة / غرافات الريان / إزغوى / بني هاجر / السيج / روضة قديم / الثميد 51",Zone_Number:51,District:"Jery Al Dabi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.4290540922577,25.358144235173622]},properties:{Municipality:"بلدية الريان",Zone:"الغرافة / غرافات الريان / إزغوى / بني هاجر / السيج / روضة قديم / الثميد 51",Zone_Number:51,District:"Izghawa 51"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.423529807880236,25.33032849236082]},properties:{Municipality:"بلدية الريان",Zone:"الغرافة / غرافات الريان / إزغوى / بني هاجر / السيج / روضة قديم / الثميد 51",Zone_Number:51,District:"Gharrafat Al Rayyan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37473151366045,25.320870427012228]},properties:{Municipality:"بلدية الريان",Zone:"الغرافة / غرافات الريان / إزغوى / بني هاجر / السيج / روضة قديم / الثميد 51",Zone_Number:51,District:"Al Seej"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.377434986869694,25.35516673271349]},properties:{Municipality:"بلدية الريان",Zone:"الغرافة / غرافات الريان / إزغوى / بني هاجر / السيج / روضة قديم / الثميد 51",Zone_Number:51,District:"Al Themaid"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.42060025410291,25.30698998650602]},properties:{Municipality:"بلدية الريان",Zone:"اللُقطة / اللبدة / الريان القديم / الشقب / فريج الزعيم 52",Zone_Number:52,District:"Fereej Al Zaeem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.4510424222413,25.303329088845985]},properties:{Municipality:"بلدية الريان",Zone:"اللُقطة / اللبدة / الريان القديم / الشقب / فريج الزعيم 52",Zone_Number:52,District:"Old Al Rayyan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.43510298899437,25.310227421848296]},properties:{Municipality:"بلدية الريان",Zone:"اللُقطة / اللبدة / الريان القديم / الشقب / فريج الزعيم 52",Zone_Number:52,District:"Al Shagub"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46266884592852,25.314763516146314]},properties:{Municipality:"بلدية الريان",Zone:"اللُقطة / اللبدة / الريان القديم / الشقب / فريج الزعيم 52",Zone_Number:52,District:"Al Luqta"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46492160247998,25.304437958460227]},properties:{Municipality:"بلدية الريان",Zone:"اللُقطة / اللبدة / الريان القديم / الشقب / فريج الزعيم 52",Zone_Number:52,District:"Lebday"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.33088341604132,25.275343019120193]},properties:{Municipality:"بلدية الريان",Zone:"الريان الجديد / الوجبة / معيذر 53",Zone_Number:53,District:"Umm Al Juwashen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.362820851739535,25.26311075401437]},properties:{Municipality:"بلدية الريان",Zone:"الريان الجديد / الوجبة / معيذر 53",Zone_Number:53,District:"Rawdat Abal Heeran"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39479523435163,25.25999979286997]},properties:{Municipality:"بلدية الريان",Zone:"الريان الجديد / الوجبة / معيذر 53",Zone_Number:53,District:"Rawdat Al Naisar"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.29126296611921,25.292135812328738]},properties:{Municipality:"بلدية الريان",Zone:"الريان الجديد / الوجبة / معيذر 53",Zone_Number:53,District:"Magroon Al Markhiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.42395385178025,25.290546750352938]},properties:{Municipality:"بلدية الريان",Zone:"الريان الجديد / الوجبة / معيذر 53",Zone_Number:53,District:"New Al Rayyan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.41621760417531,25.27406718850992]},properties:{Municipality:"بلدية الريان",Zone:"الريان الجديد / الوجبة / معيذر 53",Zone_Number:53,District:"Muaither 53"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.383007892923615,25.29192447548573]},properties:{Municipality:"بلدية الريان",Zone:"الريان الجديد / الوجبة / معيذر 53",Zone_Number:53,District:"Al Wajba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46115831689354,25.27064858995018]},properties:{Municipality:"بلدية الريان",Zone:"فريج الأمير / لُعَيّب / مريخ / بعيا / معيذر / فريج السودان 54",Zone_Number:54,District:"Mehairja"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.47411200705334,25.285758113409422]},properties:{Municipality:"بلدية الريان",Zone:"فريج الأمير / لُعَيّب / مريخ / بعيا / معيذر / فريج السودان 54",Zone_Number:54,District:"Fereej Al Amir"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.440179682184784,25.26603959867764]},properties:{Municipality:"بلدية الريان",Zone:"فريج الأمير / لُعَيّب / مريخ / بعيا / معيذر / فريج السودان 54",Zone_Number:54,District:"Baaya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.481452040454215,25.27483624552067]},properties:{Municipality:"بلدية الريان",Zone:"فريج الأمير / لُعَيّب / مريخ / بعيا / معيذر / فريج السودان 54",Zone_Number:54,District:"Fereej Al Soudan 54"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.44682619980437,25.28545644513692]},properties:{Municipality:"بلدية الريان",Zone:"فريج الأمير / لُعَيّب / مريخ / بعيا / معيذر / فريج السودان 54",Zone_Number:54,District:"Muraikh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46063092292984,25.284462630641787]},properties:{Municipality:"بلدية الريان",Zone:"فريج الأمير / لُعَيّب / مريخ / بعيا / معيذر / فريج السودان 54",Zone_Number:54,District:"Luaib"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.35081795854108,25.23015226333618]},properties:{Municipality:"بلدية الريان",Zone:"فريج السودان / الواب / العزيزية / فريج الغنيم الجديد / فريج المرة / فريج المناصير / بو سدرة / معيذر / السيلية / المعارض 55",Zone_Number:55,District:"Al Mearad"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.469710335550936,25.256679195667758]},properties:{Municipality:"بلدية الريان",Zone:"فريج السودان / الواب / العزيزية / فريج الغنيم الجديد / فريج المرة / فريج المناصير / بو سدرة / معيذر / السيلية / المعارض 55",Zone_Number:55,District:"Al Waab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.40977328778335,25.251252825807267]},properties:{Municipality:"بلدية الريان",Zone:"فريج السودان / الواب / العزيزية / فريج الغنيم الجديد / فريج المرة / فريج المناصير / بو سدرة / معيذر / السيلية / المعارض 55",Zone_Number:55,District:"Muaither 55"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.44720552610714,25.246946030158107]},properties:{Municipality:"بلدية الريان",Zone:"فريج السودان / الواب / العزيزية / فريج الغنيم الجديد / فريج المرة / فريج المناصير / بو سدرة / معيذر / السيلية / المعارض 55",Zone_Number:55,District:"Al Aziziya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.487199748866054,25.265639910927025]},properties:{Municipality:"بلدية الريان",Zone:"فريج السودان / الواب / العزيزية / فريج الغنيم الجديد / فريج المرة / فريج المناصير / بو سدرة / معيذر / السيلية / المعارض 55",Zone_Number:55,District:"Fereej Al Soudan 55"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.43629201015912,25.232417160287778]},properties:{Municipality:"بلدية الريان",Zone:"فريج السودان / الواب / العزيزية / فريج الغنيم الجديد / فريج المرة / فريج المناصير / بو سدرة / معيذر / السيلية / المعارض 55",Zone_Number:55,District:"Fereej Al Murra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.44392180591442,25.235840347502794]},properties:{Municipality:"بلدية الريان",Zone:"فريج السودان / الواب / العزيزية / فريج الغنيم الجديد / فريج المرة / فريج المناصير / بو سدرة / معيذر / السيلية / المعارض 55",Zone_Number:55,District:"Al Ghanim Al Jadeed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.361097968593334,25.202345894990597]},properties:{Municipality:"بلدية الريان",Zone:"فريج السودان / الواب / العزيزية / فريج الغنيم الجديد / فريج المرة / فريج المناصير / بو سدرة / معيذر / السيلية / المعارض 55",Zone_Number:55,District:"Al Sailiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.429252569768465,25.247695816093813]},properties:{Municipality:"بلدية الريان",Zone:"فريج السودان / الواب / العزيزية / فريج الغنيم الجديد / فريج المرة / فريج المناصير / بو سدرة / معيذر / السيلية / المعارض 55",Zone_Number:55,District:"Fereej Al Manaseer"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.41586798901561,25.229230451893017]},properties:{Municipality:"بلدية الريان",Zone:"فريج السودان / الواب / العزيزية / فريج الغنيم الجديد / فريج المرة / فريج المناصير / بو سدرة / معيذر / السيلية / المعارض 55",Zone_Number:55,District:"Bu Sidra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.49178767958715,25.23336984577046]},properties:{Municipality:"بلدية الريان",Zone:"Fereej Al Asiri / New Fereej Al Khulaifat / Bu Samra / Al Maamoura / Bu Hamour / Mesaimeer / Ain Khaled 56",Zone_Number:56,District:"Bu Hamour"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50114609878058,25.199406803404734]},properties:{Municipality:"بلدية الريان",Zone:"Fereej Al Asiri / New Fereej Al Khulaifat / Bu Samra / Al Maamoura / Bu Hamour / Mesaimeer / Ain Khaled 56",Zone_Number:56,District:"Mesaimeer"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46943469308342,25.208960408257088]},properties:{Municipality:"بلدية الريان",Zone:"Fereej Al Asiri / New Fereej Al Khulaifat / Bu Samra / Al Maamoura / Bu Hamour / Mesaimeer / Ain Khaled 56",Zone_Number:56,District:"Umm Al Seneem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46084987896979,25.228278873646513]},properties:{Municipality:"بلدية الريان",Zone:"Fereej Al Asiri / New Fereej Al Khulaifat / Bu Samra / Al Maamoura / Bu Hamour / Mesaimeer / Ain Khaled 56",Zone_Number:56,District:"Ain Khaled"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50593345237363,25.239082549311625]},properties:{Municipality:"بلدية الريان",Zone:"Fereej Al Asiri / New Fereej Al Khulaifat / Bu Samra / Al Maamoura / Bu Hamour / Mesaimeer / Ain Khaled 56",Zone_Number:56,District:"Al Maamoura 56"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.320230131762266,25.115559563098163]},properties:{Municipality:"بلدية الريان",Zone:"Mebaireek 81",Zone_Number:81,District:"Al Edaid Base"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37007315894374,25.163934618494604]},properties:{Municipality:"بلدية الريان",Zone:"Mebaireek 81",Zone_Number:81,District:"Al Hemaila"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37468328651042,25.18100781824107]},properties:{Municipality:"بلدية الريان",Zone:"Mebaireek 81",Zone_Number:81,District:"Mebaireek"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.40781911819195,25.156872154282222]},properties:{Municipality:"بلدية الريان",Zone:"Mebaireek 81",Zone_Number:81,District:"Small and Medium Industries Area"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.38056071681212,25.109298488686857]},properties:{Municipality:"بلدية الريان",Zone:"Mebaireek 81",Zone_Number:81,District:"Jeryan Al Reyoog"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.26044752787138,25.11909102264411]},properties:{Municipality:"بلدية الريان",Zone:"Mebaireek 81",Zone_Number:81,District:"Ummahat Owaina"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.228235304893666,25.121168561960094]},properties:{Municipality:"بلدية الريان",Zone:"Mebaireek 81",Zone_Number:81,District:"Mekaines"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28935460271725,25.149984902257426]},properties:{Municipality:"بلدية الريان",Zone:"Mebaireek 81",Zone_Number:81,District:"Al Khaldiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.378604161368536,25.14499957566824]},properties:{Municipality:"بلدية الريان",Zone:"Mebaireek 81",Zone_Number:81,District:"Bul Yuwabi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.326928943668705,25.15738438234139]},properties:{Municipality:"بلدية الريان",Zone:"Mebaireek 81",Zone_Number:81,District:"Jery Al Tuweela"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09191927037471,25.104242934298632]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Al Ghaf"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.040584750860056,25.005875778233843]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Al Karaana"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.125132456055006,25.099443538001655]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"أم قرن West"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.93566707858747,25.01760664641703]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Imshash Wadi Al Theyab"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.857367712168184,25.065120476628607]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Wadi Lehwela"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.119921837825466,25.063055361831452]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Lebsaiteenat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.83259035442304,25.032476976923913]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Geezan الخرايج"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.07546940775839,25.05550360509721]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Umm Al Suwab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.16485680161258,25.044396442844644]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Wadi Al Markhiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09155057704343,25.019113516959575]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Umm Al Jamajim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08235944196472,25.140786360325023]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Leashara"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.81732240872604,25.004952992653383]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"الخرايج"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98912258900053,25.01434060720703]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Sbaiha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.03029123779313,25.029434080663684]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Bu Daah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.13547865695253,25.045178833836758]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Umm Al Jefairat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15632386571259,25.089624848962206]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Markhiyat Al Darb"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.039127568216095,25.144864656041175]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Al Deainiyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.20083067828106,25.061378340284968]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Baida Al Gaa"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.85777635328486,25.005240563552103]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Umm Ain"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.12461143821226,25.129874194168842]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Awjab Medhesh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.034278609730414,25.112065782442873]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Abal Hasak"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.82429384061536,25.06399831192853]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Jaww Al Nasla"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.905209485168584,25.06250070176062]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Al Jelaiat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.19378010133075,25.10274166490928]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Rawdat Edghaim"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.879118874863934,25.034107661424578]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Jaww Basheer"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.899102742375334,25.004159628631257]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Ummahat Al Tuwwaim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.029237092301486,25.07408112330481]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Umm Al Shubrum"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.167978283191125,25.006968646685134]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Al Rekayya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15525468617132,25.113785018451306]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Jeryan Al Butna"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.95388982893571,25.060257438965564]},properties:{Municipality:"بلدية الريان",Zone:"Al Karaana 83",Zone_Number:83,District:"Umm Al Markh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.05065970724492,24.74377350347775]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Imshash Lekhwan"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.9401375564306,24.878371137254756]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Rawdat Ekdaim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.01385051808279,24.88079105865371]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Wadi Al Jihh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.078363507310144,24.88146761037229]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Umm Hawta"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.89882059538979,24.978576474875062]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Umm Ain"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.84971889356245,24.95157752712821]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Rawdat Al Markh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.899631530390444,24.76779076907306]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Al Maszhabiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.04363429402463,24.87855761399407]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Al Snaiat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09007813644191,24.972998122929063]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Al Sabsab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.042364712838264,24.693113467529436]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Jelaiat Ali Bin Saeed"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.947875660486055,24.91788183675636]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Ain Hamad"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.90822166493219,24.88897287893226]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Khashem Al Nekhsh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.885796635572895,24.92326887047437]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Rawdat Ishala"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.95594835356049,24.69208942412435]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Imshash Bin Shafi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.06785050673211,24.922445013978788]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Al Slemiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.07590546436809,24.833121228863224]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Al Aamriya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.02753359538505,24.939834483036414]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Al Kharaitiyat West"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.01695630865461,24.744230929344667]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Jaww Bu Eshjara"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.97936233301247,24.874097417582405]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Rawdat Umm Samra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08983813617979,24.78978900460447]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Tuwar Lehraithi"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98225964754138,24.973484008967485]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"لوسيل West"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.8533285631508,24.73788823059187]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Bu Samra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.036879547715074,24.971225880780672]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Umm Al Jaratheem"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.83676203595318,24.978557035354857]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Awhalat Al Karayej"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.981655316151425,24.90908090223478]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Hazm Abal Jihh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.975966063474736,24.641210002758328]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Wadi Lekhwan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0372251573031,24.641377014076383]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Umm Al Tuwaim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.04737470580862,24.787772681971358]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Rawdat Humra"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.96383053249574,24.788941416465253]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Barga Haleema"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.016884667305405,24.78902319448788]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Nega أم قرن"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.99674270484472,24.692154853354076]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Umm Al Masam"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.877596791607004,24.88264748321168]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Eglat Faisal"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.92838229152225,24.954085007112543]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Lemshash"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09332459033496,24.744683091175546]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Umm Jarra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.024565110339914,24.83313186959801]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Reyad Al Markh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.96392119158551,24.744149362071695]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Al Galayel"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.867416203915006,24.78620881867854]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Dohat Salwa"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.963737932165095,24.834522098148337]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Ummahat Al Markh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.89102629533113,24.835369115064722]},properties:{Municipality:"بلدية الريان",Zone:"Abu Samra 96",Zone_Number:96,District:"Learaig"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.03892593864997,24.59753519476244]},properties:{Municipality:"بلدية الريان",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Ghareb Al Thawr"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.97604929257647,24.5977286867666]},properties:{Municipality:"بلدية الريان",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Rawdat Al Faras"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.87348681654266,24.695200402788238]},properties:{Municipality:"بلدية الريان",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Barga Al Kharaz"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08945422968111,24.59808593350867]},properties:{Municipality:"بلدية الريان",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Jaww Al Banat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.90590422132844,24.642641090720403]},properties:{Municipality:"بلدية الريان",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Geezan Learaig"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09279398150982,24.691340870593958]},properties:{Municipality:"بلدية الريان",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Al Garayen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08531185244719,24.507869338176274]},properties:{Municipality:"بلدية الريان",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Sawda Natheel"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09514257491318,24.559711116603584]},properties:{Municipality:"بلدية الريان",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Jaww Al Kharaz"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.002267911163344,24.54310056700826]},properties:{Municipality:"بلدية الريان",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Jaww Al Salama"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08774868810908,24.641292699326954]},properties:{Municipality:"بلدية الريان",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Nega Al Harja"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.918455619167695,24.692020017337015]},properties:{Municipality:"بلدية الريان",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Zubarat Learaig"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.91750566162212,24.599953247316154]},properties:{Municipality:"بلدية الريان",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Barga Al Hamil"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.309798642681045,25.997538457318893]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Umm Al Ghailam"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.292400172835336,25.909535551374994]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Wasit"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.361698769753275,26.000922890372863]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Abal Awsaj"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.3506890691025,25.91347819444427]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Sidriyat الخيسة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.26554724901779,26.02116193237715]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Al Hayer Al Gharbi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.31207092480732,26.028130857322964]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Bu Shalloot"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.312864322750784,25.958883940305622]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Bu Graita"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.2826824364768,25.959034092528263]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Imneefa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.34556793562434,26.023728022812847]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Feleeha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.36263949906441,26.02987100562408]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Fuwairit"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.347897979731336,25.958700946510053]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Lejthaya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28606151467746,25.929054069916624]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Al Mardiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.381761773058095,25.947354931923552]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Al Jassasiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.23784442380132,25.962394170334253]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Al Rekayy"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.259537678547545,25.992949105614077]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Bu Bukhoora"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.23290344959748,26.02119267737918]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Umm Al Daah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.22969218008563,25.991227013353818]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"العب"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.3218050730226,25.9407064504311]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Waab Al Kharab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.43740554218236,25.943425348752136]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Lehwaila"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.27819781626732,25.97854050982485]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Rawdat Legreta"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30785266757376,25.901104799607573]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Sebareet"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.33471164056644,25.981599010917765]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Al Ghashamiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.331315598878895,26.018750201656065]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Ain Snan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.38826601887502,26.005894362336395]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Al Marroona"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.33184187829646,25.914176066029587]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Wadi الخيسة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.29012428898572,26.021243969339626]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Al Hayer Al Sharqi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.17722435203161,26.1178342689936]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Aba Al Duloof"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.05832866677139,25.906149798324506]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Sidriyat Al Hamm"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15215119405189,25.980604311173206]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Umm Lekhsaf"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18594876348247,26.010452850795932]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Al Ghaf"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.031919183740655,25.974270366960937]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Al Zubara"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.00210658764125,25.873479837325267]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Merweb"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.20425605494783,25.9666357296589]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Lejthooiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.12044321412045,25.969584211270806]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Mesaika"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.1020024300932,25.862643816076563]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Umm Jader"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.023530477158545,25.900309747583517]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Al Hamm"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.00128221724686,25.943171403085177]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Ras Eshairij"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.05893201482431,26.03409538144452]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Al Areesh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09080553318838,25.989702467851664]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Wadi Al Ghesen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.17100556405678,25.991246626244738]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Lafaweya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.20584488954455,26.006218965036958]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Umm Ghuwaifa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.060442896823254,25.867312846044282]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Al Nuaman"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0730791380382,25.944000838742134]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Lesha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.13794158463995,26.059697273099083]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Umm Jasim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.180162547324784,26.04867608252265]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Mekeen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.11920417591284,26.011573350539646]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Al Thaghab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18607937568675,26.09381937675052]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Umm Sabbah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.14680927062913,26.08122951026112]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Lejmail"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.102201123563106,26.06419994887388]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Lekhwair"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.206772169097704,26.05702358640387]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Umm Al Soof"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.17828558044783,25.958983888844735]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Rawdat Shraim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.028370424066594,25.94101817438052]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Wadi Al Debaian"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.062673958492034,25.992433315342662]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Ain Mohammed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09863512785676,25.90697351128505]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Abwab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08733526075655,26.030524406457335]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Al Ghafa"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.974971501606795,25.85584462966614]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Al Shehaimiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.14683028606016,26.026155224108876]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Jery Masha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.23001744123025,26.087656819443914]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Nafla"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.27339781351829,26.080850296932624]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Wadi Al Jahiliya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.21312598849187,26.138460831014996]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Ruwais"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.27435434564906,26.124770684009878]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Gheena"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.315739695359646,26.123926430400083]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Mamlaha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24909343007611,26.129997848056455]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Abal Hawaya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.282236865359955,26.094351392104628]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Lemzarra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.23206374576207,26.119080488808308]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Waab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24258264788128,26.10748243107895]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Reedan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30658775236628,26.107631901781208]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Themaid"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.271333004385646,26.1414387757717]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Mafyar"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28033210129574,26.055206144364583]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Umm Al Hawaya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.238361240384556,26.04821194193274]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Tuwaim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.239766369753085,26.14413026729818]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Khasooma"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.34543181361711,26.053819848095408]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Khareeja"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.20936639913042,26.11974174951088]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Madinat Al Shamal"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.244854128958494,26.09643607818015]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Shahniya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.343193696549505,26.09367403594534]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Ghariya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30931173221501,26.076155050580553]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Jery Lehmaidat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.260862051228145,26.110927610818166]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Bu Braika"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.253435291172465,26.164134761349576]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Jazeerat Reken"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.23784194313472,26.065898257759947]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Legaabiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.334403575176594,26.061513867812565]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Ain Saleh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.35703444319246,26.057509082026872]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Jabal Fuwairit"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.315067833192245,26.08439917645509]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Jery Bu Jefeer"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.308085510412376,26.059958858213996]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Athba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.26197677543088,26.098851317538795]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Bu Anz"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.59823090311534,25.09573213121215]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Wakra 90",Zone_Number:90,District:"Al Wakra South East"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.57577560498132,25.10945768576158]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Wakra 90",Zone_Number:90,District:"Al Wakra - Industrial Area"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.600961989403686,25.163400312577796]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Wakra 90",Zone_Number:90,District:"Al Wakra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54748608813396,25.15305729414949]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Al Wukair"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.508370187200626,25.11986656970943]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Bul Hemmaid"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46300275358044,25.093448098541387]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Bu Sulba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.57018689717436,25.17625038971527]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Al Meshaf"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.569650825891046,25.19886296825352]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Umm Besher"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54468650648098,25.123106556565226]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Muaither Al Wukair"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.45421481575238,25.133180816966533]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Wadi Aba Seleel"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.500611837486595,25.086458048323703]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Al Rakb 91"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54767167181794,25.092462010908054]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Afjat Muaither"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.472647029387716,25.067687502319433]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Birkat Al Awamer"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.52726067901603,25.185421998924134]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Jery Musabbeh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.52339828295916,25.10356775412152]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Al Nebah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.59525130111968,25.023210321441994]},properties:{Municipality:"Al Wakra Municipality",Zone:"Mesaieed 92",Zone_Number:92,District:"Mesaieed - Free Zone"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54029214031581,25.022391467464484]},properties:{Municipality:"Al Wakra Municipality",Zone:"Mesaieed 92",Zone_Number:92,District:"Mesaieed 92"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.52578122656827,25.076756529544014]},properties:{Municipality:"Al Wakra Municipality",Zone:"Mesaieed 92",Zone_Number:92,District:"Al Rakb 92"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53821345353712,24.888518642436495]},properties:{Municipality:"Al Wakra Municipality",Zone:"Mesaieed Industrial Area 93",Zone_Number:93,District:"Sealine"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.558817148538346,24.94687102195047]},properties:{Municipality:"Al Wakra Municipality",Zone:"Mesaieed Industrial Area 93",Zone_Number:93,District:"Mesaieed 93"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.52621616952441,24.925094665650157]},properties:{Municipality:"Al Wakra Municipality",Zone:"Mesaieed Industrial Area 93",Zone_Number:93,District:"Negyan Mesaieed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.49860901193955,24.955671623267335]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Afjat Saadoon"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.48553613736289,24.835855175858736]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Nega Al Mamlaha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39700043214519,24.959445052413056]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Zarga"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.34163640474151,24.878567396240662]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Nega Al Sahla"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.44429174864539,24.9813904424396]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Al Markhiya South"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.481537458374696,25.008679919400063]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Al Afja"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50052905263659,25.045750736699343]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Khuwaiteem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.4498022955223,24.788923630638326]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Nega Al Fagara 94"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39019252070617,24.878518339220495]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Al Metfardat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.436615798851,24.94422163991672]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Lezaireg"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.471846271606594,24.919651424164815]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Jabal Marmi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.3912563752547,24.833623351336193]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Shagra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.390066722893465,24.788344562581837]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Nega Attiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.3415457774838,24.78839240807995]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Nega Umm Slema"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.4663030275867,24.87827557131286]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Leshaiger"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.378539840375076,24.920712186949956]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Eghbai Al Daww"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.20837168174404,24.892157284220634]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Hasheemiyat Al Kharrara"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.12781250642606,24.87330843392927]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Sand Plant"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37841177746969,25.03634895512396]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Nega Bu Birka"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.17086106570035,24.834145860436415]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Al Sidari"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.143758272365744,24.789305933950505]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Al Daiha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.2411144482468,25.083611415236444]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Swaidat Al Warag"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.245061938513494,24.742966298852632]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Awjab Lekhlas"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.29508985235018,24.974646190037433]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Nega Nayef"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.1468641329354,24.957556825128794]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Al Baoodiyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.284762098677426,24.841421780698113]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Ghasham"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.44065347387987,25.054847914562462]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Bu Jood"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.340317711876956,24.959508211961918]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Nega Bu Sajat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.242622593965955,24.96349751744575]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Umm Jawlag"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30409252034787,24.934764519996044]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Lekhbaib"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.176553430322045,24.887648540955983]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Al Kharrara"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37267931726205,24.989378253873248]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Nega Bu Hajla"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.19762243610126,24.97103455048683]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Al Fasl"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18728877192997,24.788274502069996]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Ummat Maghati"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.16270267866689,24.742481564729125]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Umm Al Rumram"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.38867870300773,25.07717991489276]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Al Nigyan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.22747664771991,24.842280243590064]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"أم قرن"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.193632302728595,24.934416667201646]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Mesaigra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.304771336481025,25.016909417045184]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Wadi Jallal"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28331818746171,24.896553943364413]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Nega Bu Dulooa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.23192173730645,24.787261389651317]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Traina"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.242785088783165,24.900379456621433]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Al Mefeed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24261220953479,25.02289584914294]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Al Nehaidain"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.284961702146276,24.79158913067627]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Lejkhainiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.293024230150834,25.069629730982452]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Nega Bu Gutbetain"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.1893317625471,24.699437245177865]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Bu Traifa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.40730621964971,24.668634697587773]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Nega Al Daiha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.36410723963889,24.695837973283076]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Negyan Al Sada"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30491183789298,24.729369893463325]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Wadi Abal Gherban"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.141710095743896,24.699421208941718]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Lekbooa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.428796221277395,24.73641442296914]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Nega Al Fagara 98"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.14169735072653,24.65673338861555]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Jaww Lekhreza"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.1661818012153,24.567277722171948]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Eglat Al Manaseer"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.186635707580706,24.658910291570873]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Al Mamlaha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.358929018741044,24.598669880683207]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Ras Al Maharef"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.254202587364745,24.5630096210654]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Negyan Al Radda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.361602883435246,24.7441989041108]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Aamra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.20151116984894,24.51630083416001]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Lekhfoos"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15798293535477,24.611950900985793]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Eglat Zuwayyed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24042256011181,24.69576604635152]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Legsaira"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.27975490072047,24.63845096585959]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Khor Leadaid"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53347002490385,25.28935852703848]},properties:{Municipality:"Doha Municipality",Zone:"Al Jasra 01",Zone_Number:1,District:"Al Jasra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.527446151920316,25.290256022927665]},properties:{Municipality:"Doha Municipality",Zone:"Al Bidda 02",Zone_Number:2,District:"Al Bidda 2"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.52745651365845,25.285154610894516]},properties:{Municipality:"Doha Municipality",Zone:"Fereej Mohammed Bin Jasim / Mushaireb 03",Zone_Number:3,District:"Mushaireb 3"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.5299055479314,25.281345657391334]},properties:{Municipality:"Doha Municipality",Zone:"Mushaireb 04",Zone_Number:4,District:"Mushaireb 4"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53484226384492,25.281956205702702]},properties:{Municipality:"Doha Municipality",Zone:"Al Najada / Brahat Al Jufairy / Fereej Al Asmakh 05",Zone_Number:5,District:"Barahat Al Jufairi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53364506723155,25.280361050459877]},properties:{Municipality:"Doha Municipality",Zone:"Al Najada / Brahat Al Jufairy / Fereej Al Asmakh 05",Zone_Number:5,District:"Fereej Al Asmakh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.5338412935166,25.284644617358833]},properties:{Municipality:"Doha Municipality",Zone:"Al Najada / Brahat Al Jufairy / Fereej Al Asmakh 05",Zone_Number:5,District:"Al Najada"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53805316720313,25.28316247956689]},properties:{Municipality:"Doha Municipality",Zone:"Old Al Ghanim 06",Zone_Number:6,District:"Old Al Ghanim 6"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53779197748585,25.28816455421548]},properties:{Municipality:"Doha Municipality",Zone:"Al Souq 07",Zone_Number:7,District:"Al Souq"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.520257397549734,25.292550188080096]},properties:{Municipality:"Doha Municipality",Zone:"Al Bidda 12",Zone_Number:12,District:"Al Bidda 12"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.51020280812892,25.306936884186197]},properties:{Municipality:"Doha Municipality",Zone:"Al Bidda 12",Zone_Number:12,District:"Wadi Al Sail 12"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.514488150618604,25.298964225350293]},properties:{Municipality:"Doha Municipality",Zone:"Al Bidda 12",Zone_Number:12,District:"Rumaila 12"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.520950964035976,25.28411114022091]},properties:{Municipality:"Doha Municipality",Zone:"Mushaireb 13",Zone_Number:13,District:"Mushaireb 13"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.52472558726928,25.277180165476338]},properties:{Municipality:"Doha Municipality",Zone:"Fereej Abdel Aziz 14",Zone_Number:14,District:"Fereej Abdel Aziz"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.533520495563614,25.27632086890495]},properties:{Municipality:"Doha Municipality",Zone:"Al Doha Al Jadeeda 15",Zone_Number:15,District:"Al Doha Al Jadeed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54072111214446,25.27910998450421]},properties:{Municipality:"Doha Municipality",Zone:"Old Al Ghanim 16",Zone_Number:16,District:"Old Al Ghanim 16"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54927252175563,25.28374055113543]},properties:{Municipality:"Doha Municipality",Zone:"Al Rufaa / Old Al Hitmi 17",Zone_Number:17,District:"Al Hitmi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.544407132302496,25.283976157939023]},properties:{Municipality:"Doha Municipality",Zone:"Al Rufaa / Old Al Hitmi 17",Zone_Number:17,District:"Al Rufaa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.548610595816044,25.28733984401737]},properties:{Municipality:"Doha Municipality",Zone:"Slata / Al Mirqab 18",Zone_Number:18,District:"Slata"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54275643766934,25.288335588624]},properties:{Municipality:"Doha Municipality",Zone:"Slata / Al Mirqab 18",Zone_Number:18,District:"Al Mirqab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.55363921230388,25.29975964241755]},properties:{Municipality:"Doha Municipality",Zone:"Zone 19",Zone_Number:19,District:"Doha Port"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50191682282616,25.308510279696215]},properties:{Municipality:"Doha Municipality",Zone:"Wadi Al Sail 20",Zone_Number:20,District:"Wadi Al Sail 20"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50968293823572,25.294164322988486]},properties:{Municipality:"Doha Municipality",Zone:"Rumaila 21",Zone_Number:21,District:"Rumaila 21"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.512258320952235,25.286402778508062]},properties:{Municipality:"Doha Municipality",Zone:"Fereej Bin Mahmoud 22",Zone_Number:22,District:"Fereej Bin Mahmoud 22"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.51270356198949,25.279080867359546]},properties:{Municipality:"Doha Municipality",Zone:"Fereej Bin Mahmoud 23",Zone_Number:23,District:"Fereej Bin Mahmoud 23"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.520734299627776,25.26997721298838]},properties:{Municipality:"Doha Municipality",Zone:"Rawdat Al Khail 24",Zone_Number:24,District:"Rawdat Al Khail"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.532517037891324,25.26516188728052]},properties:{Municipality:"Doha Municipality",Zone:"Al Mansoura / Fereej Bin Dirham 25",Zone_Number:25,District:"Al Mansoura"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53280437088996,25.27105510180508]},properties:{Municipality:"Doha Municipality",Zone:"Al Mansoura / Fereej Bin Dirham 25",Zone_Number:25,District:"Fereej Bin Derhem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54281957905763,25.2680282652684]},properties:{Municipality:"Doha Municipality",Zone:"Najma 26",Zone_Number:26,District:"Najma"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54823565633081,25.275651637714716]},properties:{Municipality:"Doha Municipality",Zone:"أم غويلينة 27",Zone_Number:27,District:"أم غويلينة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.57652630741863,25.283775647779915]},properties:{Municipality:"Doha Municipality",Zone:"Ras Bu Abboud 29",Zone_Number:29,District:"Ras Bu Abboud 29"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.465146210595925,25.359178372741113]},properties:{Municipality:"Doha Municipality",Zone:"Duhail 30",Zone_Number:30,District:"Duhail"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.47149461448278,25.340369097620318]},properties:{Municipality:"Doha Municipality",Zone:"Umm Lekhba 31",Zone_Number:31,District:"Umm Lekhba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.471204134417626,25.32705923684755]},properties:{Municipality:"Doha Municipality",Zone:"Madinat Khalifa North / Dahl Al Hamam 32",Zone_Number:32,District:"Madinat Khalifa North"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.47984262653061,25.327831573762747]},properties:{Municipality:"Doha Municipality",Zone:"Madinat Khalifa North / Dahl Al Hamam 32",Zone_Number:32,District:"Dahl Al Hamam"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.493541189585876,25.327175448777556]},properties:{Municipality:"Doha Municipality",Zone:"Al Markhiya 33",Zone_Number:33,District:"Al Markhiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.48012545880181,25.31413995428844]},properties:{Municipality:"Doha Municipality",Zone:"Madinat Khalifa South 34",Zone_Number:34,District:"Madinat Khalifa South"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.491630309309386,25.313689364163984]},properties:{Municipality:"Doha Municipality",Zone:"Fereej Kulaib 35",Zone_Number:35,District:"Fereej Kulaib"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.48223447600869,25.300307415771815]},properties:{Municipality:"Doha Municipality",Zone:"Al Messila 36",Zone_Number:36,District:"Al Messila"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.495897783196256,25.30385902659992]},properties:{Municipality:"Doha Municipality",Zone:"Fereej Bin Omran / New Al Hitmi / Hamad Medical City 37",Zone_Number:37,District:"Fereej Bin Omran"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.49416958905449,25.29663547926709]},properties:{Municipality:"Doha Municipality",Zone:"Fereej Bin Omran / New Al Hitmi / Hamad Medical City 37",Zone_Number:37,District:"New Al Hitmi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50279042363967,25.29378178130381]},properties:{Municipality:"Doha Municipality",Zone:"Fereej Bin Omran / New Al Hitmi / Hamad Medical City 37",Zone_Number:37,District:"Hamad Medical City"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.49272728765202,25.28670131904836]},properties:{Municipality:"Doha Municipality",Zone:"Al Sadd 38",Zone_Number:38,District:"Al Sadd 38"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.497696120687785,25.268717075337626]},properties:{Municipality:"Doha Municipality",Zone:"Al Sadd / New Al Mirqab / Fereej Al Nasr 39",Zone_Number:39,District:"Fereej Al Nasr"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.49874062401317,25.276532318705577]},properties:{Municipality:"Doha Municipality",Zone:"Al Sadd / New Al Mirqab / Fereej Al Nasr 39",Zone_Number:39,District:"Al Sadd 39"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50528748607705,25.27096357143337]},properties:{Municipality:"Doha Municipality",Zone:"Al Sadd / New Al Mirqab / Fereej Al Nasr 39",Zone_Number:39,District:"Al Mirqab Al Jadeed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.512186417288014,25.260906786457305]},properties:{Municipality:"Doha Municipality",Zone:"New Slata 40",Zone_Number:40,District:"New Slata"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53146837267901,25.257992103373265]},properties:{Municipality:"Doha Municipality",Zone:"Nuaija 41",Zone_Number:41,District:"Nuaija 41"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54662386299638,25.259620338251647]},properties:{Municipality:"Doha Municipality",Zone:"Al Hilal 42",Zone_Number:42,District:"Al Hilal"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.518956780120206,25.247304402049817]},properties:{Municipality:"Doha Municipality",Zone:"Nuaija 43",Zone_Number:43,District:"Nuaija 43"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50179461907183,25.251872447543594]},properties:{Municipality:"Doha Municipality",Zone:"Nuaija 43",Zone_Number:43,District:"Al Maamoura 43"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53360285859473,25.244436314170194]},properties:{Municipality:"Doha Municipality",Zone:"Nuaija 44",Zone_Number:44,District:"Nuaija 44"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.554013250724196,25.249094327270853]},properties:{Municipality:"Doha Municipality",Zone:"Old Airport 45",Zone_Number:45,District:"Old Airport"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54178094294239,25.230450021977962]},properties:{Municipality:"Doha Municipality",Zone:"Al Thumama 46",Zone_Number:46,District:"Al Thumama 46"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.563067118897784,25.235034935039426]},properties:{Municipality:"Doha Municipality",Zone:"Al Thumama 47",Zone_Number:47,District:"Al Thumama 47"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.572097873469495,25.25818123579045]},properties:{Municipality:"Doha Municipality",Zone:"Doha International Airport 48",Zone_Number:48,District:"Doha International Airport"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.555081987258596,25.2846853662604]},properties:{Municipality:"Doha Municipality",Zone:"Al Khulaifat / Ras Bu Abboud 28",Zone_Number:28,District:"Al Khulaifat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.56322633310408,25.28202588529794]},properties:{Municipality:"Doha Municipality",Zone:"Al Khulaifat / Ras Bu Abboud 28",Zone_Number:28,District:"Ras Bu Abboud 28"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.59986596408785,25.213995859645717]},properties:{Municipality:"Doha Municipality",Zone:"Hamad International Airport / Banana Island / Ras Bu Funtas 49",Zone_Number:49,District:"Ras Bu Funtas"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.645040731911884,25.296042130454943]},properties:{Municipality:"Doha Municipality",Zone:"Hamad International Airport / Banana Island / Ras Bu Funtas 49",Zone_Number:49,District:"Banana Island"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.603649598155364,25.26893831010817]},properties:{Municipality:"Doha Municipality",Zone:"Hamad International Airport / Banana Island / Ras Bu Funtas 49",Zone_Number:49,District:"Hamad International Airport"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.55864176576286,25.21804964064004]},properties:{Municipality:"Doha Municipality",Zone:"Al Thumama 50",Zone_Number:50,District:"Al Thumama 50"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.43475576658021,25.18626396366687]},properties:{Municipality:"Doha Municipality",Zone:"Industrial Area 57",Zone_Number:57,District:"Industrial Area"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.48084748688062,25.24083691450826]},properties:{Municipality:"Doha Municipality",Zone:"Wholesale Market 58",Zone_Number:58,District:"Wholesale Market"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.52288207338487,25.3121704061812]},properties:{Municipality:"Doha Municipality",Zone:"Zone 60",Zone_Number:60,District:"Al Dafna 60"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.538422076650924,25.344980885022387]},properties:{Municipality:"Doha Municipality",Zone:"Al Dafna / Al Qassar 61",Zone_Number:61,District:"Al Gassar 61"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53330507604745,25.32536832861564]},properties:{Municipality:"Doha Municipality",Zone:"Al Dafna / Al Qassar 61",Zone_Number:61,District:"Al Dafna 61"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.5124270760668,25.313764400683006]},properties:{Municipality:"Doha Municipality",Zone:"Zone 62",Zone_Number:62,District:"Lekhwair"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.5212037992388,25.32265725457398]},properties:{Municipality:"Doha Municipality",Zone:"Onaiza 63",Zone_Number:63,District:"Onaiza 63"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50523198459649,25.31990779027192]},properties:{Municipality:"Doha Municipality",Zone:"Lejbailat 64",Zone_Number:64,District:"Lejbailat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.51208571889228,25.33110005824045]},properties:{Municipality:"Doha Municipality",Zone:"Onaiza 65",Zone_Number:65,District:"Onaiza 65"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.52613658407029,25.35807411049982]},properties:{Municipality:"Doha Municipality",Zone:"Onaiza / Leqtaifiya / Al Qassar 66",Zone_Number:66,District:"Al Gassar 66"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.55857222594033,25.367945061717872]},properties:{Municipality:"Doha Municipality",Zone:"Onaiza / Leqtaifiya / Al Qassar 66",Zone_Number:66,District:"The Pearl"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.51381825326382,25.3451758037209]},properties:{Municipality:"Doha Municipality",Zone:"Onaiza / Leqtaifiya / Al Qassar 66",Zone_Number:66,District:"Onaiza 66"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.51274157917895,25.365950503662]},properties:{Municipality:"Doha Municipality",Zone:"Onaiza / Leqtaifiya / Al Qassar 66",Zone_Number:66,District:"Legtaifiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.494857630942356,25.340418077419294]},properties:{Municipality:"Doha Municipality",Zone:"Hazm Al Markhiya 67",Zone_Number:67,District:"Hazm Al Markhiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.48990309982794,25.373349356232147]},properties:{Municipality:"Doha Municipality",Zone:"Jelaiah / Al Tarfa / Jeryan Nejaima 68",Zone_Number:68,District:"Al Tarfa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.476715832552905,25.371537667729157]},properties:{Municipality:"Doha Municipality",Zone:"Jelaiah / Al Tarfa / Jeryan Nejaima 68",Zone_Number:68,District:"Jeryan Nejaima"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.489145610447856,25.35241561332196]},properties:{Municipality:"Doha Municipality",Zone:"Jelaiah / Al Tarfa / Jeryan Nejaima 68",Zone_Number:68,District:"Jelaiah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28181978593569,25.422271861870954]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Muaither Al Meshaf"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28815445003082,25.523640612679788]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Wadi Al Waab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.3245474826054,25.533391491583483]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Bu Thaila"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.38081808443957,25.382541886780945]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Al Froosh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37628397946338,25.442391767013056]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Al Mazrooah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.41968638330923,25.385386152698818]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Al Kharaitiyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.317036507777665,25.412789598369436]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Bu Fass"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.2762099066998,25.567827830085005]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Wadi Al Askar"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.287519542230115,25.457244765921285]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Bu Glaila"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.32487464525993,25.449003854602612]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Abal Heeran"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.362461887696064,25.526676459607874]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Abal Najem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.381557759961886,25.411061443151695]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Wadi Al Mazrooah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.309366831073724,25.48727021950271]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Al Masluba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37166698896732,25.487801219608215]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Umm Ebairiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39663924386487,25.51231925737278]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Umm Al Amad"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.34648170037074,25.42687023048393]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Bu Garn"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.36273407235499,25.507244940076284]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Jery Khabbab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28244238753627,25.403400038264547]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Muaither Al Dasem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.40636305659835,25.41550958183721]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Umm Slal Mohammed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.370116545797536,25.54743837780871]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Al Shefallahiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.410889549920356,25.36228875005055]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Izghawa 71"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.40112213230756,25.551474792429705]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Snay Lehmaidi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.35290212732348,25.448942433912112]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Bu Merzaz"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.341109428373265,25.39757830555747]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Umm Shaharain"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39622451687948,25.465621200999276]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Umm Slal Ali"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.36165392719292,25.470207354929297]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Bu Hesayya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.36078176032026,25.409850282085387]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Jery Al Samur"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39835674526879,25.436583650523936]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Bu Fesseela"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.243169737338434,25.54154174387861]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Atran"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.098891993933776,25.527234799647665]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Slemiyet Bu Ejthaya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.162758382512195,25.442387056355425]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Leawaijat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.242205450457206,25.48206523356761]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Al Negaibat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.84402401332238,25.610900813019384]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Ras Broog"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.14296320433623,25.474713021834408]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Jery Al Dabi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.102863494869766,25.46890782254205]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Jery Bu Esh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.05156836017662,25.43362043752045]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Rawdat Al Faras"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.938444266739474,25.54588962241846]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Lehsain"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.12854621015338,25.445958548979572]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Bu Kheesa"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.95913256967994,25.467698903582075]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Lebraithat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.132598859338295,25.50271909003806]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Imraibdat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.016886940002074,25.546084636844043]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Rawdat Al Ejla"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.01976465426257,25.571993342445836]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Jery Tallaa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24325664262025,25.51188829426549]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Heenat Al Silla"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.90703918540815,25.482484808402326]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Rawdat Khawzan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.079005550014216,25.4595185742507]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Bu Thughaib"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09524900728434,25.574100581269818]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Wadi Bu Ejthaya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.95894299842921,25.520849491341185]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Ebsaiteen"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.863677880444314,25.46947724298395]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Zekreet"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.12695778981359,25.5608865039836]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Grayyat Al Eid"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98027852150961,25.49916307334939]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Umm Leghab West"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.02182941454827,25.51307819493598]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Abal Hasak"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09517882175206,25.549568077677705]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Hafeerat Rawdan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.07759428303786,25.489319575673317]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Al Dehailiyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.199051806217774,25.52367637622282]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Leatooriya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.00310305143339,25.44727959031372]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Bu Ghameela"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.134171449610214,25.529311103877045]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Al Senaiat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.090995416909536,25.439023943251257]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Leagooriyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.99310057006849,25.476741823231087]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Wadi Khawzan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.2443808821924,25.57270394736566]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Ummahat Al Hass"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.16815603733499,25.503381740763174]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Rawdat Al Imnailat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98359308033182,25.549197592767936]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Bu Haweyya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.85889424644948,25.533337018701925]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Broog"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.05172618495546,25.540498497041792]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Rawdat Al Mawda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15407126114176,25.56985787683633]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Al Sena"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.2025945179722,25.571401248083134]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Wadi Laswag"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.99067813945776,25.525733942172238]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Al Refaig"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.064669719196196,25.56741775330732]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Abal Awsaj"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.93486240337338,25.572049417883935]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Waab Suwailem"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.936084549338005,25.504787830785006]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Aba Erbayyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.183483950410256,25.464856985229616]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Wadi Al Salam"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.167355481473095,25.53444771290713]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Wadi Saleh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.10154159333742,25.507634525324175]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Rawdat Al Khanayen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.025561201903,25.49196391531209]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Umm Zraibeel"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.06030055428562,25.516752634051688]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Jery Rabdan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.04299490722307,25.451782340301154]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Umm Ethnaitain"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.97613816719872,25.574026666363498]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Waab Al Nasla"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0314535682298,25.47336797282969]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Umm Leadam"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0241444252676,25.65719179058351]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Ain Umm Al Zebad"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.22742029240959,25.605322274586705]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Aba Erbayyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.920003803913055,25.721982710833444]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Rawdat Madhooy"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.01333718173306,25.73295478813418]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Bu Sidra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0132142325208,25.67439958147722]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Khaznat Umm Al Zebad"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.94479809898991,25.670618299983825]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Sakhabriya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.1283827558932,25.66284992174412]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Rawdat Al Masluba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09501350835534,25.613750812873487]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Lijmiliya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.951661833241474,25.716582929825385]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Eghbatha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.16362031075528,25.636819257413634]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Samriya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0393733284283,25.61479278426011]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jeleeb Fashakh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.232500776448994,25.661385894455005]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Umm Dahal"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18895017727779,25.59462672116377]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jery Al Theeb"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24726959781015,25.598900820847824]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Bu Kharsaah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18423008297736,25.674171396190715]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Gaeyya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.91456198049985,25.69847095882115]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Metbarga"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.23065425498349,25.699556898735914]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Hasheemiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.25135204710068,25.677351551731377]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Ummhat Heesh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.10234382475903,25.66283787432025]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jery Al Hamra"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.95605663910985,25.594754890835098]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Nefayed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.14239982637353,25.597724469018676]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"أم غويلينة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.109170496987666,25.712518641455404]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Abal Mashmoom"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.06594688120851,25.602502486747497]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Shekaikat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.07997724623233,25.720788748438313]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Getna"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.2579894135629,25.70295016993711]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Bu Swayy"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.07040213007891,25.665399535236524]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jeryan Lijmiliya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.01452003126347,25.623680009677667]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Wadi Fashakh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.91457979452253,25.673569562021914]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Wadi Slema"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.1714837878333,25.695743997064017]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Abal Jahazel"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.04145922533111,25.58808278496533]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Wadi Al Buhooth"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.93786409019471,25.79037590946428]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Ras Umm Heesh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.94616038037711,25.697827669324283]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Umm Sidra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.00851028984634,25.59402941487118]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Hazem Al Buhooth"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.10401535044921,25.74016904575494]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Ghadeeriyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.21667379815114,25.68229625172947]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jery Nazwa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.07673008402856,25.689419668812217]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jery Lubara"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.112902086513735,25.685661075309845]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Hawafer"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.95914961844537,25.73400336882354]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Ebnaider Khoosa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.04732215272499,25.669736798500253]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Abal Egdooh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.02076824414584,25.707170410502147]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Rawadat Gharra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.242579412658266,25.64080325319601]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Selaimi Al Bambara"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.97141656096913,25.63313098341248]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Dohat Fashakh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0038263657894,25.693933013800702]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Wadi Masab"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.9208589042256,25.649053750077904]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Rawdat Al Hajla"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.9271286017349,25.746264099387723]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Aba Seneem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.199764158998434,25.703064383221687]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Rawdat Al Mayya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.051635931196,25.721887386397388]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Lebsayyer"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.14185153721806,25.703916762693993]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jery Jafadeg"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98795386544552,25.731626451846328]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Haddaya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.93061390543112,25.771086616702803]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Umm Heesh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.974531516360244,25.68323244153201]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Rawdat Al Debdeba"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98323900829919,25.758759640773963]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Waab Al Smaira"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.960630168300646,25.752761774149835]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Magta"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.97720230410278,25.66190776052501]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Sharayef"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.11828299926386,25.62341923310854]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Rawdat Al Jeraiba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.055722995768946,25.631581442295918]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Hazem Lejmiliya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.211770069365116,25.618390194442696]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jery Bu Ghanem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.098642815462135,25.760088076283093]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jery Letwar"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.019926438602276,25.760386906367305]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Suwaihliya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.063432905989195,25.76233864109686]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Ishlebdeen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.208594750699405,25.650772045984848]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jery Bu Esh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.97921435977931,25.706826448125618]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Rawdat Masab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.215920791820544,25.434336736137766]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Lekhraib"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.16511616995309,25.406264518339437]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Umm Enaig"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24239810959608,25.32116370866619]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Al Shekaikat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.209179062017576,25.455804908678545]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Al Samriya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.199651302813216,25.4155722632318]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Lebsayyer"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15761255226509,25.353207072869303]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Lubara"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.22853011544286,25.371221113007365]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Al Sheehaniya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.254595058860815,25.451510101648392]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Abal Jahazel"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24634158537651,25.43420684248764]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Jery Fatma"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.20963715488942,25.33653486085112]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Bu Ghawlana"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.305813959177165,25.332145664928472]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Lehsiniya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.14148690372389,25.416614422342896]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Umm Dehail"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.160297321981,25.38170275691041]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Jery Al Sahra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.22854376662311,25.461517862037862]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Al Mearad"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.149484192848,25.31534520900294]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Lebyatiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28818626532805,25.372133091286898]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Umm Leghab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18448372159446,25.372423099570746]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Umm Lekhya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.138838447073624,25.390210264657444]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Al Ruwaidat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.20194260245267,25.313215141209408]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Umm Al Teen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.17536660332191,25.32544086221163]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Umm Legredi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30577969431778,25.31244935503985]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Umm Egdair"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28326273153667,25.32804027533538]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Al Dehailiyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.247570281263854,25.412065399902694]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Al Negaib"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.03716348689105,25.247338627679838]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Leabairi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.12886702518836,25.218011425020237]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Al Ruwayyed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.21386207098493,25.19438114977564]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Leawaija"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.10477033304918,25.199296511361656]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Wadi Lejmal Al Shamali"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.2444808147733,25.1771053892279]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Umm Al Zubar West"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.11024254475218,25.174853296168106]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Umm Al Markh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.245893017853675,25.216250943436552]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Bu Silla"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.03317930407845,25.21364537452666]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Umm Ebrairiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.14430554328041,25.283167129945294]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Bu Garn"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18343891659093,25.19829293896305]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Wadi Al Sahala"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.145400472728575,25.17323836440595]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Al Sahla Al Shamaliya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15966449568123,25.151203745968996]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Iszhalat Al Markh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.26782595444392,25.26979123592953]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Al Ghesen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.063435855579186,25.21192058337091]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Rawdat Fadeel"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15100687330663,25.227117838147684]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Abal Hasak"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.257195492088016,25.158403201028456]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"أم قرن"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.197030152675325,25.13828056226317]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"أم غويلينة"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.25492968732241,25.292328350893236]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Rawdat Al Zamel"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.039848654083535,25.181609921350766]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Jery Al Rasha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.175356019009186,25.290120153068198]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Wadi Al Majhoola"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.173753952403096,25.216395833343093]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Rawdat Eshmaim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.13013212364458,25.19436894945859]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Wadi Lejmal Sl Janoobi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.21556974673813,25.286007483105745]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Awjab Lejaada"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18548479005403,25.178418879100224]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Magareen Ibn Shuwaireb"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.099666776212075,25.23656079475838]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Umm Harmala"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.17994153064856,25.26421961721076]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Umm Lebrak"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.22931816918707,25.18337574109885]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Al Kharsaah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.286093386449636,25.235426344440462]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Beesha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.07701278790792,25.181147766493964]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Umm Wishah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.25390559618454,25.243721782975094]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Al Majmaah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.27563738486029,25.187870317414415]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Umm Al Zubar East"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30746621340405,25.195281664316855]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Muaither Umm Al Zubar"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15005154729466,25.248848434416235]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Rawdat Kharja"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.21291317418691,25.244187272402904]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Rawdat Rashed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.152797001761506,25.19614560443776]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Wadi Al Samriya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.06113236860712,25.24460689435457]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Abal Erhayyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.788425556328605,25.203377429407062]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Al Hamla"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.96417316385844,25.104073677821486]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Rawdat Al Arnab"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.87218575007461,25.218255851834456]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Ejbaijeb"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.00052636192813,25.105052372121825]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Umm Al Suwwaid"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.95768413231294,25.15926192614446]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Bu Ghawlana"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.99306951254519,25.244248567710308]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Rawdat Al Barrag"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.81301990414903,25.114237223903608]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Bu Traifa"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.99688461022356,25.14704380434055]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Wadi Al Rashaida"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.91736780142945,25.170860987765476]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Ummahat Anz"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98916071794242,25.21051097470057]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Umm Samra"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.92663074702047,25.116309848347413]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Umm Al Dayyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.92360976891911,25.204758387545905]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Al Shabhana"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.88770113895468,25.248622751815738]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Ummahat Slaim"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98144001812977,25.187123955895483]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Jery Al Khanjar"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.85642360476673,25.171136377650555]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Umm Bab"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.93196570743921,25.23951737161476]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Rawdat Lebretha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.11218940522704,25.355159314271276]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Thenyet Al Jamal"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.11649498196325,25.373461556855162]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Umm Al Gararees"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.96648735114,25.34074289841686]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Slemiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.96807999038071,25.40416498601288]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Rawdat Mraighan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.00224505162183,25.269508104054275]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Sidri"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.00494339449901,25.41580140160397]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Wadi Al Markh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.044529971197825,25.286120297815685]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Jarr Leadam"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.989758886835006,25.36838954085116]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Semari Jery Tawg"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.11807669899253,25.39403654648491]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Bu Braika"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.10876388258436,25.29943131250285]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Imlaih"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.954625792289065,25.32218402766444]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Nehaidain"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.93615149772279,25.30882523121958]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Wadi Lemghadar"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09939109800696,25.269347385129773]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Sehameya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.085386701215164,25.344231665833973]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Ummahat Slal"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.02067045895929,25.31066036779623]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"أم قرن"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.03995152823381,25.38725747853657]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Abal Halayem"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.947659933626184,25.29219887726418]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Awjab Al Sabur"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08326361838494,25.360630458491883]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Jery Aba Slailat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98990724853084,25.343703273194667]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Ummahat Swayy"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.955094178415905,25.27245196650353]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Kharsaah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.02460681262552,25.354484045389782]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Hazem Bu Awseja"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.928204126155606,25.351971021100486]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Thumama"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.97786747896454,25.434956673676588]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Umm Thumam"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.04774937873,25.31009401552311]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Muaither Sidran"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.04184188977413,25.342736905477]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Lejhaimiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98368968352784,25.38508458645633]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Jery Tawg"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.915528659760014,25.43862796283406]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Tharb"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.92551784871608,25.401891113749056]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Rawdat Al Nefafees"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.949439943942856,25.415076595310047]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Mehterga"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.96956030187032,25.44958479078995]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Lebrega"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.055183479046384,25.26934023418584]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Ruwaidat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.974149046002566,25.309229496034224]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Abal Asafeer"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.93789866102307,25.37492745303704]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Wadi Umm Al Zubar"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.93209336368001,25.326449836858792]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Jaww Al Ekresh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.997802808250626,25.326008945288358]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Shelaibdeenat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.94651269511496,25.345521750766743]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Wadi Al Ekresh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.097168842694614,25.38147915912292]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Abal Gararees"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0153221408047,25.285739263073793]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Jarr Khaleel"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.949298939622466,25.446391714420862]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Leawaina"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08719822526376,25.331190841974717]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Bu Ghameela"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0622456724319,25.338042706266307]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Semari"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.031607456849436,25.409792034124962]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Hasheemiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.076239311630914,25.40766805486685]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Nasraniya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.92689697780795,25.27853646527943]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Esaila"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.117885030405866,25.417179289213127]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Snay Shagra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.076512800670336,25.29143045940878]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Umm Taga"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.109526504878616,25.284473826558006]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Labhariya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.985724669585586,25.2889941522326]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Abal Kharasa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.11155769899537,25.314961336266236]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Jeryan Al Saiha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.111915660394246,25.33646642840428]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Wadi Umm Al Theyab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.04759386879964,25.368416487969768]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Ludaihiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.01868119264418,25.333369888692374]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Abal Hayyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08059607455001,25.31578678729123]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Shedeeda"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.886446549536025,25.433798642791707]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Al Ruwais West"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.84806511002257,25.411519922028912]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Umm Wadi"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.875146591333774,25.383888462087445]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Barga Egaif"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.81673541626521,25.479465793946506]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Wadi Imhalat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.7732453735484,25.508369981464092]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Ras Dukhan"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.80502762242138,25.30901711091505]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Jaww Al Banat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.778614082207355,25.27693812376856]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Jaww Al Bab"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.82821423038158,25.449712249231577]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Rawdat Jarrah"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.78988948704982,25.415312206503227]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Dukhan"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.84942958445554,25.436820313468708]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"New Al Khattiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.79917601387185,25.513164006320153]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Ras Al Ghariya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.81114635690284,25.273060585998113]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Jaww Esrayya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.878915823682114,25.28228202412513]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Afjan"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.86423877048971,25.33073308140063]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Al Zeghain"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.77974830490042,25.314389050821752]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Fehaiheel"}}]},Egt={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[51.510363501885685,25.387213469743543]},properties:{Municipality:"Al Daayen Municipality",Zone:"Jabal Thuaileb / Al Kharayej / Lusail / Al Egla / Wadi Al Banat 69",Zone_Number:69,District:"Al Egla"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.51364838997081,25.434232897956647]},properties:{Municipality:"Al Daayen Municipality",Zone:"Jabal Thuaileb / Al Kharayej / Lusail / Al Egla / Wadi Al Banat 69",Zone_Number:69,District:"Lusail 69"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.505885825299345,25.406460138753072]},properties:{Municipality:"Al Daayen Municipality",Zone:"Jabal Thuaileb / Al Kharayej / Lusail / Al Egla / Wadi Al Banat 69",Zone_Number:69,District:"Al Kharayej"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53601557724781,25.393895029730725]},properties:{Municipality:"Al Daayen Municipality",Zone:"Jabal Thuaileb / Al Kharayej / Lusail / Al Egla / Wadi Al Banat 69",Zone_Number:69,District:"Ghar Thuaileb"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.501596711977655,25.59477357636329]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Semaisma"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.48238285882421,25.50703708624547]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Lusail 70"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46928296898789,25.63311222891973]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Al Rehayya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.43782925748678,25.59438651396098]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Jery Al Matrooshi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.456349441217036,25.37709336158982]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Leabaib"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.45923508555546,25.440375685108886]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Rawdat Al Hamama"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.45170590367203,25.57674991988995]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Al Jeryan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.43206815431958,25.42152893905837]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Jeryan Jenaihat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.42627212713672,25.613989669028115]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Wadi Al Ewaira"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50959501924162,25.621374491956498]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Halat Awbair"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.44737740656988,25.394525043536355]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Al Ebb"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.473339079636425,25.55520240420367]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Al Daayen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46084486899861,25.4756103518451]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Al Masrouhiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.466757050463094,25.41752266613509]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Al Kheesa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46350965191853,25.602242072614096]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Tenbek"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.4774887920838,25.397215098030557]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Wadi Al Banat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.42356750767419,25.44446105352464]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Wadi Al Wasah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.43328043106778,25.49853213307458]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Wadi Lusail"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.415127373099274,25.473995730625532]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Al Sakhama"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.43416513104327,25.55363976236352]},properties:{Municipality:"Al Daayen Municipality",Zone:"Leabaib / Al Ebb / Jeryan Jenaihat / Al Kheesa / Rawdat Al Hamama / Wadi Al Wasaah / Al Sakhama / Al Masrouhiya / Wadi Lusail / Lusail / Umm Garn / Al Daayen 70",Zone_Number:70,District:"Umm Garn"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.41609735782721,25.639072865092444]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Umm Smaira"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.31948031778392,25.6445974464965]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Umm Ghuwailina"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37921332630738,25.582812930920873]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Rawdat Bakheela"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54518540826937,25.650227706295613]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Ras Al Noof"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.461969527988614,25.6704436043564]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Al Egda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.27313123720658,25.60235712504828]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Bu Kheraisah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39082879989505,25.614380295411923]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Umm Grain"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30923508558682,25.702116820621594]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Heenat Al Meashab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.369733175327404,25.694752582350983]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Umm Al Shukhoot"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.29161124559352,25.632997713193422]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Rawdat Bu Fadala"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.48627782359048,25.695515544135993]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Wadi Al Jalta"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.4090990483061,25.6753681308231]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Asat Al Raei"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.275229810534874,25.671725692365307]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Lemnaisbat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.339367751173945,25.696574233710233]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Asma"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53322545938448,25.703752202025075]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Umm Enaig"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.502209142626164,25.713572696592816]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Industrial Area"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.51579488096291,25.64429506571907]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Ras Al Nekh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.35288435807081,25.670371109586036]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Umm Ejwaifa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.26315999547136,25.634521200411314]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Mehairja"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.333771201685174,25.578433045132552]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Muaither Rasheeda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.31642680299836,25.619568489893883]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Wadi Al Banat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30329357328568,25.57518161053387]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Rawdat Aras"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.4391856447468,25.66174013906352]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Umm Swayya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50139052982092,25.676560851407515]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Al Khor"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.483071589869,25.654561882037857]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Al Heedan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.27905403964865,25.69857688758298]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Umm Dahal"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.35573249572759,25.632571286321035]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Rasheeda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.5765093820892,25.706714800432636]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Al Jebail"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46201960511251,25.69939193007351]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Wadi Mehri"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.522761341574196,25.662681980724997]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Ras Al Gurma"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30639482615969,25.599913912089054]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Al Theebiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.3043605327152,25.667587050725146]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Al Ghaleeda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.41329256281266,25.704671744296935]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Simaisma / Al Jeryan / Al Khor 74",Zone_Number:74,District:"Umm Al Hawaya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30804542982184,25.721813283599896]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Wadi Al Dehool"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.44268750197586,25.845318279198292]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Al Waab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.45233311988563,25.89146315609244]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Lekhrais"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.49824822918773,25.869427735295545]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Grayyat Al Faida"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39455050585841,25.816453321441845]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Simsima"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.435320436834836,25.899643998931342]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Birkat Rabiah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.382336367546785,25.734922884760294]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Imgaitna"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.475630648445296,25.72881494723605]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Khattaf"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.36575230071095,25.8393644031014]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Lekhdaira"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.34631570991861,25.768037445128993]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Al Ghesen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.40552522742552,25.850092337918714]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Wadi Al Harm"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39032083703962,25.878176702162065]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Waab Al Mashrab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54201701663016,25.80219995597202]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Lemtaibnat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.4222859392902,25.741373738556515]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Abal Gararees"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53650282702463,25.73646070422677]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Al Thakhira"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.36545429712142,25.852947808400312]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Wadi Al Gherban"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.48637098932967,25.83056299740213]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Umm Al Harabi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.40913228222574,25.90724380997417]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Al Mashrab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.58223059608574,25.79594686345556]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Ras Mraidgha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.35375475768456,25.874905642350846]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Madinat Al Kaaban"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.34505913856302,25.793082378118527]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Umm Theghaib"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53059414594134,25.771786609845044]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Lebwairda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.35572433352714,25.718991856813886]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Al Hashem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.55512898728587,25.836488228560487]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Ras Imlaiji"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.497641884065246,25.74547466509459]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Bu Slaila"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37404714997884,25.789188171287236]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Umm Ethnaitain"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.59133871932924,25.872142737768414]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Wadi Al Sahal"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.452002140230775,25.78986688780888]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Umm Birka"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.57932208993034,25.890923288442156]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Al Mamlaha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.465003032142896,25.93212956286148]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Ras Gertas"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.5320419186586,25.914154968629546]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Rass Laffan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.33702513660029,25.74337098136024]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Thakhira/Rass Laffan/Umm Birka 75",Zone_Number:75,District:"Umm Graiba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15328490549251,25.74750634924802]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Al Ghezlaniya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.028730311361564,25.788169174084466]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Umm Kheesa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.29784099070396,25.830917238849118]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Umm Lebrak"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30781452171606,25.887094980799105]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Waab Labareg"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.32352510306211,25.872325264875915]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Umm Leashoosh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.99200170233108,25.82790452267161]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Umm Al Maa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15044399084903,25.88399815176153]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Al Deghaishiyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.2998502031558,25.80743180503111]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Rawdat Al Faras"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.201374699014984,25.738906763612047]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Al Nefailiyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.188559658555576,25.855162232233123]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Yoodah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0764379073991,25.792606255609908]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Wadi Maitha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.26348140380858,25.867080536693344]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Al Mayeda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.13881175186806,25.813601259219183]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Umm Leadam"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28438117232033,25.754035237209273]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Rawdat Hawtan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.22828994282622,25.88270594810227]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Al Selaimi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.133059981158844,25.914507185042442]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Al Mebtaeda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15340941470561,25.940312780727545]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Umm Graiba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.02867333483115,25.82427525155898]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Al Saalookiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24025173459716,25.74282131606416]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Lehnaizeeba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24003393730961,25.797524286750004]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Al Suwairiyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.99962640099224,25.787070169080742]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Lesaiwed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.19999331449104,25.916708821649085]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Al Nehayy"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24822559998291,25.917421891950063]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Al Tabaah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18766290952709,25.805279513137844]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Leghraifa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.281728412891205,25.864124453478112]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Leghwair"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.097488392320244,25.824344461924444]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Leawaija"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.06057698150169,25.83198418213404]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Jery Al Theyab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.242620392822914,25.8378424079504]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Leghwairiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.31967745223891,25.85117470839643]},properties:{Municipality:"Al Khor and Al Thakhira Municipality",Zone:"Al Ghuwairiya 76",Zone_Number:76,District:"Al Dawoodiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.3537769776367,25.335325655906214]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Gharrafa / Gharrafat Al Rayyan / Izghawa / Bani Hajer / Al Seej / Rawdat Egdaim / Al Themaid 51",Zone_Number:51,District:"Rawdat Al Jahhaniya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.44513448835722,25.334596728831492]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Gharrafa / Gharrafat Al Rayyan / Izghawa / Bani Hajer / Al Seej / Rawdat Egdaim / Al Themaid 51",Zone_Number:51,District:"Al Gharrafa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39411899312086,25.33653124902182]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Gharrafa / Gharrafat Al Rayyan / Izghawa / Bani Hajer / Al Seej / Rawdat Egdaim / Al Themaid 51",Zone_Number:51,District:"Rawdat Egdaim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.40420724208106,25.314221035253837]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Gharrafa / Gharrafat Al Rayyan / Izghawa / Bani Hajer / Al Seej / Rawdat Egdaim / Al Themaid 51",Zone_Number:51,District:"Bani Hajer"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.33639066832693,25.372250852282413]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Gharrafa / Gharrafat Al Rayyan / Izghawa / Bani Hajer / Al Seej / Rawdat Egdaim / Al Themaid 51",Zone_Number:51,District:"Shariya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.32232527398199,25.364110618992072]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Gharrafa / Gharrafat Al Rayyan / Izghawa / Bani Hajer / Al Seej / Rawdat Egdaim / Al Themaid 51",Zone_Number:51,District:"Umm Al Afaei"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.35426699982393,25.36961680511226]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Gharrafa / Gharrafat Al Rayyan / Izghawa / Bani Hajer / Al Seej / Rawdat Egdaim / Al Themaid 51",Zone_Number:51,District:"Jeryan Al Saham"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.33889876087262,25.343859394971833]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Gharrafa / Gharrafat Al Rayyan / Izghawa / Bani Hajer / Al Seej / Rawdat Egdaim / Al Themaid 51",Zone_Number:51,District:"Jery Al Dabi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.4290540922577,25.358144235173622]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Gharrafa / Gharrafat Al Rayyan / Izghawa / Bani Hajer / Al Seej / Rawdat Egdaim / Al Themaid 51",Zone_Number:51,District:"Izghawa 51"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.423529807880236,25.33032849236082]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Gharrafa / Gharrafat Al Rayyan / Izghawa / Bani Hajer / Al Seej / Rawdat Egdaim / Al Themaid 51",Zone_Number:51,District:"Gharrafat Al Rayyan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37473151366045,25.320870427012228]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Gharrafa / Gharrafat Al Rayyan / Izghawa / Bani Hajer / Al Seej / Rawdat Egdaim / Al Themaid 51",Zone_Number:51,District:"Al Seej"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.377434986869694,25.35516673271349]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Gharrafa / Gharrafat Al Rayyan / Izghawa / Bani Hajer / Al Seej / Rawdat Egdaim / Al Themaid 51",Zone_Number:51,District:"Al Themaid"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.42060025410291,25.30698998650602]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Luqta / Lebday / Old Al Rayyan / Al Shagub / Fereej Al Zaeem 52",Zone_Number:52,District:"Fereej Al Zaeem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.4510424222413,25.303329088845985]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Luqta / Lebday / Old Al Rayyan / Al Shagub / Fereej Al Zaeem 52",Zone_Number:52,District:"Old Al Rayyan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.43510298899437,25.310227421848296]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Luqta / Lebday / Old Al Rayyan / Al Shagub / Fereej Al Zaeem 52",Zone_Number:52,District:"Al Shagub"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46266884592852,25.314763516146314]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Luqta / Lebday / Old Al Rayyan / Al Shagub / Fereej Al Zaeem 52",Zone_Number:52,District:"Al Luqta"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46492160247998,25.304437958460227]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Luqta / Lebday / Old Al Rayyan / Al Shagub / Fereej Al Zaeem 52",Zone_Number:52,District:"Lebday"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.33088341604132,25.275343019120193]},properties:{Municipality:"Al Rayyan Municipality",Zone:"New Al Rayyan / Al Wajba / Muaither 53",Zone_Number:53,District:"Umm Al Juwashen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.362820851739535,25.26311075401437]},properties:{Municipality:"Al Rayyan Municipality",Zone:"New Al Rayyan / Al Wajba / Muaither 53",Zone_Number:53,District:"Rawdat Abal Heeran"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39479523435163,25.25999979286997]},properties:{Municipality:"Al Rayyan Municipality",Zone:"New Al Rayyan / Al Wajba / Muaither 53",Zone_Number:53,District:"Rawdat Al Naisar"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.29126296611921,25.292135812328738]},properties:{Municipality:"Al Rayyan Municipality",Zone:"New Al Rayyan / Al Wajba / Muaither 53",Zone_Number:53,District:"Magroon Al Markhiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.42395385178025,25.290546750352938]},properties:{Municipality:"Al Rayyan Municipality",Zone:"New Al Rayyan / Al Wajba / Muaither 53",Zone_Number:53,District:"New Al Rayyan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.41621760417531,25.27406718850992]},properties:{Municipality:"Al Rayyan Municipality",Zone:"New Al Rayyan / Al Wajba / Muaither 53",Zone_Number:53,District:"Muaither 53"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.383007892923615,25.29192447548573]},properties:{Municipality:"Al Rayyan Municipality",Zone:"New Al Rayyan / Al Wajba / Muaither 53",Zone_Number:53,District:"Al Wajba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46115831689354,25.27064858995018]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Amir / Luaib / Muraikh / Baaya / Mehairja / Fereej Al Soudan 54",Zone_Number:54,District:"Mehairja"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.47411200705334,25.285758113409422]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Amir / Luaib / Muraikh / Baaya / Mehairja / Fereej Al Soudan 54",Zone_Number:54,District:"Fereej Al Amir"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.440179682184784,25.26603959867764]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Amir / Luaib / Muraikh / Baaya / Mehairja / Fereej Al Soudan 54",Zone_Number:54,District:"Baaya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.481452040454215,25.27483624552067]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Amir / Luaib / Muraikh / Baaya / Mehairja / Fereej Al Soudan 54",Zone_Number:54,District:"Fereej Al Soudan 54"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.44682619980437,25.28545644513692]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Amir / Luaib / Muraikh / Baaya / Mehairja / Fereej Al Soudan 54",Zone_Number:54,District:"Muraikh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46063092292984,25.284462630641787]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Amir / Luaib / Muraikh / Baaya / Mehairja / Fereej Al Soudan 54",Zone_Number:54,District:"Luaib"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.35081795854108,25.23015226333618]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Soudan / Al Waab / Al Aziziya / New Fereej Al Ghanim / Fereej Al Murra / Fereej Al Manaseer / Bu Sidra / Muaither / Al Sailiya / Al Mearad 55",Zone_Number:55,District:"Al Mearad"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.469710335550936,25.256679195667758]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Soudan / Al Waab / Al Aziziya / New Fereej Al Ghanim / Fereej Al Murra / Fereej Al Manaseer / Bu Sidra / Muaither / Al Sailiya / Al Mearad 55",Zone_Number:55,District:"Al Waab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.40977328778335,25.251252825807267]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Soudan / Al Waab / Al Aziziya / New Fereej Al Ghanim / Fereej Al Murra / Fereej Al Manaseer / Bu Sidra / Muaither / Al Sailiya / Al Mearad 55",Zone_Number:55,District:"Muaither 55"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.44720552610714,25.246946030158107]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Soudan / Al Waab / Al Aziziya / New Fereej Al Ghanim / Fereej Al Murra / Fereej Al Manaseer / Bu Sidra / Muaither / Al Sailiya / Al Mearad 55",Zone_Number:55,District:"Al Aziziya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.487199748866054,25.265639910927025]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Soudan / Al Waab / Al Aziziya / New Fereej Al Ghanim / Fereej Al Murra / Fereej Al Manaseer / Bu Sidra / Muaither / Al Sailiya / Al Mearad 55",Zone_Number:55,District:"Fereej Al Soudan 55"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.43629201015912,25.232417160287778]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Soudan / Al Waab / Al Aziziya / New Fereej Al Ghanim / Fereej Al Murra / Fereej Al Manaseer / Bu Sidra / Muaither / Al Sailiya / Al Mearad 55",Zone_Number:55,District:"Fereej Al Murra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.44392180591442,25.235840347502794]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Soudan / Al Waab / Al Aziziya / New Fereej Al Ghanim / Fereej Al Murra / Fereej Al Manaseer / Bu Sidra / Muaither / Al Sailiya / Al Mearad 55",Zone_Number:55,District:"Al Ghanim Al Jadeed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.361097968593334,25.202345894990597]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Soudan / Al Waab / Al Aziziya / New Fereej Al Ghanim / Fereej Al Murra / Fereej Al Manaseer / Bu Sidra / Muaither / Al Sailiya / Al Mearad 55",Zone_Number:55,District:"Al Sailiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.429252569768465,25.247695816093813]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Soudan / Al Waab / Al Aziziya / New Fereej Al Ghanim / Fereej Al Murra / Fereej Al Manaseer / Bu Sidra / Muaither / Al Sailiya / Al Mearad 55",Zone_Number:55,District:"Fereej Al Manaseer"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.41586798901561,25.229230451893017]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Soudan / Al Waab / Al Aziziya / New Fereej Al Ghanim / Fereej Al Murra / Fereej Al Manaseer / Bu Sidra / Muaither / Al Sailiya / Al Mearad 55",Zone_Number:55,District:"Bu Sidra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.49178767958715,25.23336984577046]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Asiri / New Fereej Al Khulaifat / Bu Samra / Al Maamoura / Bu Hamour / Mesaimeer / Ain Khaled 56",Zone_Number:56,District:"Bu Hamour"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50114609878058,25.199406803404734]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Asiri / New Fereej Al Khulaifat / Bu Samra / Al Maamoura / Bu Hamour / Mesaimeer / Ain Khaled 56",Zone_Number:56,District:"Mesaimeer"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46943469308342,25.208960408257088]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Asiri / New Fereej Al Khulaifat / Bu Samra / Al Maamoura / Bu Hamour / Mesaimeer / Ain Khaled 56",Zone_Number:56,District:"Umm Al Seneem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46084987896979,25.228278873646513]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Asiri / New Fereej Al Khulaifat / Bu Samra / Al Maamoura / Bu Hamour / Mesaimeer / Ain Khaled 56",Zone_Number:56,District:"Ain Khaled"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50593345237363,25.239082549311625]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Fereej Al Asiri / New Fereej Al Khulaifat / Bu Samra / Al Maamoura / Bu Hamour / Mesaimeer / Ain Khaled 56",Zone_Number:56,District:"Al Maamoura 56"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.320230131762266,25.115559563098163]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Mebaireek 81",Zone_Number:81,District:"Al Edaid Base"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37007315894374,25.163934618494604]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Mebaireek 81",Zone_Number:81,District:"Al Hemaila"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37468328651042,25.18100781824107]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Mebaireek 81",Zone_Number:81,District:"Mebaireek"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.40781911819195,25.156872154282222]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Mebaireek 81",Zone_Number:81,District:"Small and Medium Industries Area"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.38056071681212,25.109298488686857]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Mebaireek 81",Zone_Number:81,District:"Jeryan Al Reyoog"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.26044752787138,25.11909102264411]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Mebaireek 81",Zone_Number:81,District:"Ummahat Owaina"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.228235304893666,25.121168561960094]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Mebaireek 81",Zone_Number:81,District:"Mekaines"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28935460271725,25.149984902257426]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Mebaireek 81",Zone_Number:81,District:"Al Khaldiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.378604161368536,25.14499957566824]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Mebaireek 81",Zone_Number:81,District:"Bul Yuwabi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.326928943668705,25.15738438234139]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Mebaireek 81",Zone_Number:81,District:"Jery Al Tuweela"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09191927037471,25.104242934298632]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Al Ghaf"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.040584750860056,25.005875778233843]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Al Karaana"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.125132456055006,25.099443538001655]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Umm Garn West"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.93566707858747,25.01760664641703]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Imshash Wadi Al Theyab"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.857367712168184,25.065120476628607]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Wadi Lehwela"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.119921837825466,25.063055361831452]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Lebsaiteenat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.83259035442304,25.032476976923913]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Geezan Al Kharayej"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.07546940775839,25.05550360509721]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Umm Al Suwab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.16485680161258,25.044396442844644]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Wadi Al Markhiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09155057704343,25.019113516959575]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Umm Al Jamajim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08235944196472,25.140786360325023]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Leashara"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.81732240872604,25.004952992653383]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Al Kharayej"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98912258900053,25.01434060720703]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Sbaiha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.03029123779313,25.029434080663684]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Bu Daah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.13547865695253,25.045178833836758]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Umm Al Jefairat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15632386571259,25.089624848962206]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Markhiyat Al Darb"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.039127568216095,25.144864656041175]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Al Deainiyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.20083067828106,25.061378340284968]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Baida Al Gaa"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.85777635328486,25.005240563552103]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Umm Ain"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.12461143821226,25.129874194168842]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Awjab Medhesh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.034278609730414,25.112065782442873]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Abal Hasak"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.82429384061536,25.06399831192853]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Jaww Al Nasla"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.905209485168584,25.06250070176062]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Al Jelaiat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.19378010133075,25.10274166490928]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Rawdat Edghaim"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.879118874863934,25.034107661424578]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Jaww Basheer"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.899102742375334,25.004159628631257]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Ummahat Al Tuwwaim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.029237092301486,25.07408112330481]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Umm Al Shubrum"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.167978283191125,25.006968646685134]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Al Rekayya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15525468617132,25.113785018451306]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Jeryan Al Butna"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.95388982893571,25.060257438965564]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Al Karaana 83",Zone_Number:83,District:"Umm Al Markh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.05065970724492,24.74377350347775]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Imshash Lekhwan"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.9401375564306,24.878371137254756]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Rawdat Ekdaim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.01385051808279,24.88079105865371]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Wadi Al Jihh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.078363507310144,24.88146761037229]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Umm Hawta"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.89882059538979,24.978576474875062]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Umm Ain"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.84971889356245,24.95157752712821]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Rawdat Al Markh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.899631530390444,24.76779076907306]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Al Maszhabiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.04363429402463,24.87855761399407]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Al Snaiat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09007813644191,24.972998122929063]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Al Sabsab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.042364712838264,24.693113467529436]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Jelaiat Ali Bin Saeed"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.947875660486055,24.91788183675636]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Ain Hamad"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.90822166493219,24.88897287893226]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Khashem Al Nekhsh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.885796635572895,24.92326887047437]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Rawdat Ishala"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.95594835356049,24.69208942412435]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Imshash Bin Shafi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.06785050673211,24.922445013978788]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Al Slemiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.07590546436809,24.833121228863224]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Al Aamriya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.02753359538505,24.939834483036414]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Al Kharaitiyat West"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.01695630865461,24.744230929344667]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Jaww Bu Eshjara"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.97936233301247,24.874097417582405]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Rawdat Umm Samra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08983813617979,24.78978900460447]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Tuwar Lehraithi"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98225964754138,24.973484008967485]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Lusail West"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.8533285631508,24.73788823059187]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Bu Samra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.036879547715074,24.971225880780672]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Umm Al Jaratheem"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.83676203595318,24.978557035354857]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Awhalat Al Karayej"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.981655316151425,24.90908090223478]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Hazm Abal Jihh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.975966063474736,24.641210002758328]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Wadi Lekhwan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0372251573031,24.641377014076383]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Umm Al Tuwaim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.04737470580862,24.787772681971358]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Rawdat Humra"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.96383053249574,24.788941416465253]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Barga Haleema"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.016884667305405,24.78902319448788]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Nega Umm Garn"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.99674270484472,24.692154853354076]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Umm Al Masam"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.877596791607004,24.88264748321168]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Eglat Faisal"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.92838229152225,24.954085007112543]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Lemshash"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09332459033496,24.744683091175546]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Umm Jarra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.024565110339914,24.83313186959801]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Reyad Al Markh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.96392119158551,24.744149362071695]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Al Galayel"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.867416203915006,24.78620881867854]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Dohat Salwa"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.963737932165095,24.834522098148337]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Ummahat Al Markh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.89102629533113,24.835369115064722]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Abu Samra 96",Zone_Number:96,District:"Learaig"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.03892593864997,24.59753519476244]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Ghareb Al Thawr"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.97604929257647,24.5977286867666]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Rawdat Al Faras"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.87348681654266,24.695200402788238]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Barga Al Kharaz"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08945422968111,24.59808593350867]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Jaww Al Banat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.90590422132844,24.642641090720403]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Geezan Learaig"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09279398150982,24.691340870593958]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Al Garayen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08531185244719,24.507869338176274]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Sawda Natheel"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09514257491318,24.559711116603584]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Jaww Al Kharaz"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.002267911163344,24.54310056700826]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Jaww Al Salama"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08774868810908,24.641292699326954]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Nega Al Harja"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.918455619167695,24.692020017337015]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Zubarat Learaig"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.91750566162212,24.599953247316154]},properties:{Municipality:"Al Rayyan Municipality",Zone:"Sawda Natheel 97",Zone_Number:97,District:"Barga Al Hamil"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.309798642681045,25.997538457318893]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Umm Al Ghailam"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.292400172835336,25.909535551374994]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Wasit"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.361698769753275,26.000922890372863]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Abal Awsaj"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.3506890691025,25.91347819444427]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Sidriyat Al Kheesa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.26554724901779,26.02116193237715]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Al Hayer Al Gharbi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.31207092480732,26.028130857322964]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Bu Shalloot"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.312864322750784,25.958883940305622]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Bu Graita"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.2826824364768,25.959034092528263]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Imneefa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.34556793562434,26.023728022812847]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Feleeha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.36263949906441,26.02987100562408]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Fuwairit"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.347897979731336,25.958700946510053]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Lejthaya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28606151467746,25.929054069916624]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Al Mardiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.381761773058095,25.947354931923552]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Al Jassasiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.23784442380132,25.962394170334253]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Al Rekayy"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.259537678547545,25.992949105614077]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Bu Bukhoora"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.23290344959748,26.02119267737918]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Umm Al Daah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.22969218008563,25.991227013353818]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Al Ebb"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.3218050730226,25.9407064504311]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Waab Al Kharab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.43740554218236,25.943425348752136]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Lehwaila"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.27819781626732,25.97854050982485]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Rawdat Legreta"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30785266757376,25.901104799607573]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Sebareet"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.33471164056644,25.981599010917765]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Al Ghashamiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.331315598878895,26.018750201656065]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Ain Snan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.38826601887502,26.005894362336395]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Al Marroona"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.33184187829646,25.914176066029587]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Wadi Al Kheesa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.29012428898572,26.021243969339626]},properties:{Municipality:"Al Shamal Municipality",Zone:"Fuwairit/Ain Sinan/Madinat Al Kaaban 77",Zone_Number:77,District:"Al Hayer Al Sharqi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.17722435203161,26.1178342689936]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Aba Al Duloof"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.05832866677139,25.906149798324506]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Sidriyat Al Hamm"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15215119405189,25.980604311173206]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Umm Lekhsaf"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18594876348247,26.010452850795932]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Al Ghaf"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.031919183740655,25.974270366960937]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Al Zubara"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.00210658764125,25.873479837325267]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Merweb"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.20425605494783,25.9666357296589]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Lejthooiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.12044321412045,25.969584211270806]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Mesaika"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.1020024300932,25.862643816076563]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Umm Jader"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.023530477158545,25.900309747583517]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Al Hamm"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.00128221724686,25.943171403085177]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Ras Eshairij"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.05893201482431,26.03409538144452]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Al Areesh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09080553318838,25.989702467851664]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Wadi Al Ghesen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.17100556405678,25.991246626244738]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Lafaweya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.20584488954455,26.006218965036958]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Umm Ghuwaifa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.060442896823254,25.867312846044282]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Al Nuaman"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0730791380382,25.944000838742134]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Lesha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.13794158463995,26.059697273099083]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Umm Jasim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.180162547324784,26.04867608252265]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Mekeen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.11920417591284,26.011573350539646]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Al Thaghab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18607937568675,26.09381937675052]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Umm Sabbah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.14680927062913,26.08122951026112]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Lejmail"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.102201123563106,26.06419994887388]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Lekhwair"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.206772169097704,26.05702358640387]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Umm Al Soof"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.17828558044783,25.958983888844735]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Rawdat Shraim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.028370424066594,25.94101817438052]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Wadi Al Debaian"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.062673958492034,25.992433315342662]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Ain Mohammed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09863512785676,25.90697351128505]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Abwab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08733526075655,26.030524406457335]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Al Ghafa"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.974971501606795,25.85584462966614]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Al Shehaimiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.14683028606016,26.026155224108876]},properties:{Municipality:"Al Shamal Municipality",Zone:"Abu Dhalouf/Al Zubara 78",Zone_Number:78,District:"Jery Masha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.23001744123025,26.087656819443914]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Nafla"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.27339781351829,26.080850296932624]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Wadi Al Jahiliya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.21312598849187,26.138460831014996]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Ruwais"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.27435434564906,26.124770684009878]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Gheena"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.315739695359646,26.123926430400083]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Mamlaha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24909343007611,26.129997848056455]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Abal Hawaya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.282236865359955,26.094351392104628]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Lemzarra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.23206374576207,26.119080488808308]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Waab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24258264788128,26.10748243107895]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Reedan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30658775236628,26.107631901781208]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Themaid"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.271333004385646,26.1414387757717]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Mafyar"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28033210129574,26.055206144364583]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Umm Al Hawaya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.238361240384556,26.04821194193274]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Tuwaim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.239766369753085,26.14413026729818]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Khasooma"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.34543181361711,26.053819848095408]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Khareeja"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.20936639913042,26.11974174951088]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Madinat Al Shamal"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.244854128958494,26.09643607818015]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Shahniya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.343193696549505,26.09367403594534]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Al Ghariya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30931173221501,26.076155050580553]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Jery Lehmaidat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.260862051228145,26.110927610818166]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Bu Braika"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.253435291172465,26.164134761349576]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Jazeerat Reken"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.23784194313472,26.065898257759947]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Legaabiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.334403575176594,26.061513867812565]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Ain Saleh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.35703444319246,26.057509082026872]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Jabal Fuwairit"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.315067833192245,26.08439917645509]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Jery Bu Jefeer"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.308085510412376,26.059958858213996]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Athba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.26197677543088,26.098851317538795]},properties:{Municipality:"Al Shamal Municipality",Zone:"Al Ruwais/Al Shamal 79",Zone_Number:79,District:"Bu Anz"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.59823090311534,25.09573213121215]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Wakra 90",Zone_Number:90,District:"Al Wakra South East"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.57577560498132,25.10945768576158]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Wakra 90",Zone_Number:90,District:"Al Wakra - Industrial Area"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.600961989403686,25.163400312577796]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Wakra 90",Zone_Number:90,District:"Al Wakra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54748608813396,25.15305729414949]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Al Wukair"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.508370187200626,25.11986656970943]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Bul Hemmaid"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.46300275358044,25.093448098541387]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Bu Sulba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.57018689717436,25.17625038971527]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Al Meshaf"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.569650825891046,25.19886296825352]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Umm Besher"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54468650648098,25.123106556565226]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Muaither Al Wukair"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.45421481575238,25.133180816966533]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Wadi Aba Seleel"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.500611837486595,25.086458048323703]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Al Rakb 91"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54767167181794,25.092462010908054]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Afjat Muaither"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.472647029387716,25.067687502319433]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Birkat Al Awamer"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.52726067901603,25.185421998924134]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Jery Musabbeh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.52339828295916,25.10356775412152]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Thumama / Al Wukair/Al Mashaf 91",Zone_Number:91,District:"Al Nebah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.59525130111968,25.023210321441994]},properties:{Municipality:"Al Wakra Municipality",Zone:"Mesaieed 92",Zone_Number:92,District:"Mesaieed - Free Zone"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54029214031581,25.022391467464484]},properties:{Municipality:"Al Wakra Municipality",Zone:"Mesaieed 92",Zone_Number:92,District:"Mesaieed 92"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.52578122656827,25.076756529544014]},properties:{Municipality:"Al Wakra Municipality",Zone:"Mesaieed 92",Zone_Number:92,District:"Al Rakb 92"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53821345353712,24.888518642436495]},properties:{Municipality:"Al Wakra Municipality",Zone:"Mesaieed Industrial Area 93",Zone_Number:93,District:"Sealine"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.558817148538346,24.94687102195047]},properties:{Municipality:"Al Wakra Municipality",Zone:"Mesaieed Industrial Area 93",Zone_Number:93,District:"Mesaieed 93"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.52621616952441,24.925094665650157]},properties:{Municipality:"Al Wakra Municipality",Zone:"Mesaieed Industrial Area 93",Zone_Number:93,District:"Negyan Mesaieed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.49860901193955,24.955671623267335]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Afjat Saadoon"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.48553613736289,24.835855175858736]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Nega Al Mamlaha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39700043214519,24.959445052413056]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Zarga"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.34163640474151,24.878567396240662]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Nega Al Sahla"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.44429174864539,24.9813904424396]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Al Markhiya South"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.481537458374696,25.008679919400063]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Al Afja"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50052905263659,25.045750736699343]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Khuwaiteem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.4498022955223,24.788923630638326]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Nega Al Fagara 94"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39019252070617,24.878518339220495]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Al Metfardat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.436615798851,24.94422163991672]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Lezaireg"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.471846271606594,24.919651424164815]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Jabal Marmi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.3912563752547,24.833623351336193]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Shagra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.390066722893465,24.788344562581837]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Nega Attiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.3415457774838,24.78839240807995]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Nega Umm Slema"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.4663030275867,24.87827557131286]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Leshaiger"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.378539840375076,24.920712186949956]},properties:{Municipality:"Al Wakra Municipality",Zone:"Shagra 94",Zone_Number:94,District:"Eghbai Al Daww"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.20837168174404,24.892157284220634]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Hasheemiyat Al Kharrara"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.12781250642606,24.87330843392927]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Sand Plant"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37841177746969,25.03634895512396]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Nega Bu Birka"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.17086106570035,24.834145860436415]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Al Sidari"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.143758272365744,24.789305933950505]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Al Daiha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.2411144482468,25.083611415236444]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Swaidat Al Warag"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.245061938513494,24.742966298852632]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Awjab Lekhlas"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.29508985235018,24.974646190037433]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Nega Nayef"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.1468641329354,24.957556825128794]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Al Baoodiyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.284762098677426,24.841421780698113]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Ghasham"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.44065347387987,25.054847914562462]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Bu Jood"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.340317711876956,24.959508211961918]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Nega Bu Sajat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.242622593965955,24.96349751744575]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Umm Jawlag"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30409252034787,24.934764519996044]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Lekhbaib"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.176553430322045,24.887648540955983]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Al Kharrara"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37267931726205,24.989378253873248]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Nega Bu Hajla"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.19762243610126,24.97103455048683]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Al Fasl"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18728877192997,24.788274502069996]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Ummat Maghati"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.16270267866689,24.742481564729125]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Umm Al Rumram"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.38867870300773,25.07717991489276]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Al Nigyan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.22747664771991,24.842280243590064]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Umm Garn"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.193632302728595,24.934416667201646]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Mesaigra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.304771336481025,25.016909417045184]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Wadi Jallal"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28331818746171,24.896553943364413]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Nega Bu Dulooa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.23192173730645,24.787261389651317]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Traina"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.242785088783165,24.900379456621433]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Al Mefeed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24261220953479,25.02289584914294]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Al Nehaidain"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.284961702146276,24.79158913067627]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Lejkhainiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.293024230150834,25.069629730982452]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Kharrara 95",Zone_Number:95,District:"Nega Bu Gutbetain"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.1893317625471,24.699437245177865]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Bu Traifa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.40730621964971,24.668634697587773]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Nega Al Daiha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.36410723963889,24.695837973283076]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Negyan Al Sada"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30491183789298,24.729369893463325]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Wadi Abal Gherban"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.141710095743896,24.699421208941718]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Lekbooa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.428796221277395,24.73641442296914]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Nega Al Fagara 98"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.14169735072653,24.65673338861555]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Jaww Lekhreza"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.1661818012153,24.567277722171948]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Eglat Al Manaseer"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.186635707580706,24.658910291570873]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Al Mamlaha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.358929018741044,24.598669880683207]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Ras Al Maharef"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.254202587364745,24.5630096210654]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Negyan Al Radda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.361602883435246,24.7441989041108]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Aamra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.20151116984894,24.51630083416001]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Lekhfoos"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15798293535477,24.611950900985793]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Eglat Zuwayyed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24042256011181,24.69576604635152]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Legsaira"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.27975490072047,24.63845096585959]},properties:{Municipality:"Al Wakra Municipality",Zone:"Al Adaid 98",Zone_Number:98,District:"Khor Leadaid"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53347002490385,25.28935852703848]},properties:{Municipality:"Doha Municipality",Zone:"Al Jasra 01",Zone_Number:1,District:"Al Jasra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.527446151920316,25.290256022927665]},properties:{Municipality:"Doha Municipality",Zone:"Al Bidda 02",Zone_Number:2,District:"Al Bidda 2"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.52745651365845,25.285154610894516]},properties:{Municipality:"Doha Municipality",Zone:"Fereej Mohammed Bin Jasim / Mushaireb 03",Zone_Number:3,District:"Mushaireb 3"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.5299055479314,25.281345657391334]},properties:{Municipality:"Doha Municipality",Zone:"Mushaireb 04",Zone_Number:4,District:"Mushaireb 4"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53484226384492,25.281956205702702]},properties:{Municipality:"Doha Municipality",Zone:"Al Najada / Brahat Al Jufairy / Fereej Al Asmakh 05",Zone_Number:5,District:"Barahat Al Jufairi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53364506723155,25.280361050459877]},properties:{Municipality:"Doha Municipality",Zone:"Al Najada / Brahat Al Jufairy / Fereej Al Asmakh 05",Zone_Number:5,District:"Fereej Al Asmakh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.5338412935166,25.284644617358833]},properties:{Municipality:"Doha Municipality",Zone:"Al Najada / Brahat Al Jufairy / Fereej Al Asmakh 05",Zone_Number:5,District:"Al Najada"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53805316720313,25.28316247956689]},properties:{Municipality:"Doha Municipality",Zone:"Old Al Ghanim 06",Zone_Number:6,District:"Old Al Ghanim 6"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53779197748585,25.28816455421548]},properties:{Municipality:"Doha Municipality",Zone:"Al Souq 07",Zone_Number:7,District:"Al Souq"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.520257397549734,25.292550188080096]},properties:{Municipality:"Doha Municipality",Zone:"Al Bidda 12",Zone_Number:12,District:"Al Bidda 12"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.51020280812892,25.306936884186197]},properties:{Municipality:"Doha Municipality",Zone:"Al Bidda 12",Zone_Number:12,District:"Wadi Al Sail 12"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.514488150618604,25.298964225350293]},properties:{Municipality:"Doha Municipality",Zone:"Al Bidda 12",Zone_Number:12,District:"Rumaila 12"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.520950964035976,25.28411114022091]},properties:{Municipality:"Doha Municipality",Zone:"Mushaireb 13",Zone_Number:13,District:"Mushaireb 13"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.52472558726928,25.277180165476338]},properties:{Municipality:"Doha Municipality",Zone:"Fereej Abdel Aziz 14",Zone_Number:14,District:"Fereej Abdel Aziz"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.533520495563614,25.27632086890495]},properties:{Municipality:"Doha Municipality",Zone:"Al Doha Al Jadeeda 15",Zone_Number:15,District:"Al Doha Al Jadeed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54072111214446,25.27910998450421]},properties:{Municipality:"Doha Municipality",Zone:"Old Al Ghanim 16",Zone_Number:16,District:"Old Al Ghanim 16"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54927252175563,25.28374055113543]},properties:{Municipality:"Doha Municipality",Zone:"Al Rufaa / Old Al Hitmi 17",Zone_Number:17,District:"Al Hitmi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.544407132302496,25.283976157939023]},properties:{Municipality:"Doha Municipality",Zone:"Al Rufaa / Old Al Hitmi 17",Zone_Number:17,District:"Al Rufaa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.548610595816044,25.28733984401737]},properties:{Municipality:"Doha Municipality",Zone:"Slata / Al Mirqab 18",Zone_Number:18,District:"Slata"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54275643766934,25.288335588624]},properties:{Municipality:"Doha Municipality",Zone:"Slata / Al Mirqab 18",Zone_Number:18,District:"Al Mirqab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.55363921230388,25.29975964241755]},properties:{Municipality:"Doha Municipality",Zone:"Zone 19",Zone_Number:19,District:"Doha Port"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50191682282616,25.308510279696215]},properties:{Municipality:"Doha Municipality",Zone:"Wadi Al Sail 20",Zone_Number:20,District:"Wadi Al Sail 20"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50968293823572,25.294164322988486]},properties:{Municipality:"Doha Municipality",Zone:"Rumaila 21",Zone_Number:21,District:"Rumaila 21"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.512258320952235,25.286402778508062]},properties:{Municipality:"Doha Municipality",Zone:"Fereej Bin Mahmoud 22",Zone_Number:22,District:"Fereej Bin Mahmoud 22"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.51270356198949,25.279080867359546]},properties:{Municipality:"Doha Municipality",Zone:"Fereej Bin Mahmoud 23",Zone_Number:23,District:"Fereej Bin Mahmoud 23"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.520734299627776,25.26997721298838]},properties:{Municipality:"Doha Municipality",Zone:"Rawdat Al Khail 24",Zone_Number:24,District:"Rawdat Al Khail"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.532517037891324,25.26516188728052]},properties:{Municipality:"Doha Municipality",Zone:"Al Mansoura / Fereej Bin Dirham 25",Zone_Number:25,District:"Al Mansoura"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53280437088996,25.27105510180508]},properties:{Municipality:"Doha Municipality",Zone:"Al Mansoura / Fereej Bin Dirham 25",Zone_Number:25,District:"Fereej Bin Derhem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54281957905763,25.2680282652684]},properties:{Municipality:"Doha Municipality",Zone:"Najma 26",Zone_Number:26,District:"Najma"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54823565633081,25.275651637714716]},properties:{Municipality:"Doha Municipality",Zone:"Umm Ghuwailina 27",Zone_Number:27,District:"Umm Ghuwailina"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.57652630741863,25.283775647779915]},properties:{Municipality:"Doha Municipality",Zone:"Ras Bu Abboud 29",Zone_Number:29,District:"Ras Bu Abboud 29"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.465146210595925,25.359178372741113]},properties:{Municipality:"Doha Municipality",Zone:"Duhail 30",Zone_Number:30,District:"Duhail"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.47149461448278,25.340369097620318]},properties:{Municipality:"Doha Municipality",Zone:"Umm Lekhba 31",Zone_Number:31,District:"Umm Lekhba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.471204134417626,25.32705923684755]},properties:{Municipality:"Doha Municipality",Zone:"Madinat Khalifa North / Dahl Al Hamam 32",Zone_Number:32,District:"Madinat Khalifa North"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.47984262653061,25.327831573762747]},properties:{Municipality:"Doha Municipality",Zone:"Madinat Khalifa North / Dahl Al Hamam 32",Zone_Number:32,District:"Dahl Al Hamam"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.493541189585876,25.327175448777556]},properties:{Municipality:"Doha Municipality",Zone:"Al Markhiya 33",Zone_Number:33,District:"Al Markhiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.48012545880181,25.31413995428844]},properties:{Municipality:"Doha Municipality",Zone:"Madinat Khalifa South 34",Zone_Number:34,District:"Madinat Khalifa South"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.491630309309386,25.313689364163984]},properties:{Municipality:"Doha Municipality",Zone:"Fereej Kulaib 35",Zone_Number:35,District:"Fereej Kulaib"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.48223447600869,25.300307415771815]},properties:{Municipality:"Doha Municipality",Zone:"Al Messila 36",Zone_Number:36,District:"Al Messila"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.495897783196256,25.30385902659992]},properties:{Municipality:"Doha Municipality",Zone:"Fereej Bin Omran / New Al Hitmi / Hamad Medical City 37",Zone_Number:37,District:"Fereej Bin Omran"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.49416958905449,25.29663547926709]},properties:{Municipality:"Doha Municipality",Zone:"Fereej Bin Omran / New Al Hitmi / Hamad Medical City 37",Zone_Number:37,District:"New Al Hitmi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50279042363967,25.29378178130381]},properties:{Municipality:"Doha Municipality",Zone:"Fereej Bin Omran / New Al Hitmi / Hamad Medical City 37",Zone_Number:37,District:"Hamad Medical City"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.49272728765202,25.28670131904836]},properties:{Municipality:"Doha Municipality",Zone:"Al Sadd 38",Zone_Number:38,District:"Al Sadd 38"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.497696120687785,25.268717075337626]},properties:{Municipality:"Doha Municipality",Zone:"Al Sadd / New Al Mirqab / Fereej Al Nasr 39",Zone_Number:39,District:"Fereej Al Nasr"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.49874062401317,25.276532318705577]},properties:{Municipality:"Doha Municipality",Zone:"Al Sadd / New Al Mirqab / Fereej Al Nasr 39",Zone_Number:39,District:"Al Sadd 39"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50528748607705,25.27096357143337]},properties:{Municipality:"Doha Municipality",Zone:"Al Sadd / New Al Mirqab / Fereej Al Nasr 39",Zone_Number:39,District:"Al Mirqab Al Jadeed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.512186417288014,25.260906786457305]},properties:{Municipality:"Doha Municipality",Zone:"New Slata 40",Zone_Number:40,District:"New Slata"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53146837267901,25.257992103373265]},properties:{Municipality:"Doha Municipality",Zone:"Nuaija 41",Zone_Number:41,District:"Nuaija 41"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54662386299638,25.259620338251647]},properties:{Municipality:"Doha Municipality",Zone:"Al Hilal 42",Zone_Number:42,District:"Al Hilal"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.518956780120206,25.247304402049817]},properties:{Municipality:"Doha Municipality",Zone:"Nuaija 43",Zone_Number:43,District:"Nuaija 43"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50179461907183,25.251872447543594]},properties:{Municipality:"Doha Municipality",Zone:"Nuaija 43",Zone_Number:43,District:"Al Maamoura 43"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53360285859473,25.244436314170194]},properties:{Municipality:"Doha Municipality",Zone:"Nuaija 44",Zone_Number:44,District:"Nuaija 44"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.554013250724196,25.249094327270853]},properties:{Municipality:"Doha Municipality",Zone:"Old Airport 45",Zone_Number:45,District:"Old Airport"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.54178094294239,25.230450021977962]},properties:{Municipality:"Doha Municipality",Zone:"Al Thumama 46",Zone_Number:46,District:"Al Thumama 46"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.563067118897784,25.235034935039426]},properties:{Municipality:"Doha Municipality",Zone:"Al Thumama 47",Zone_Number:47,District:"Al Thumama 47"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.572097873469495,25.25818123579045]},properties:{Municipality:"Doha Municipality",Zone:"Doha International Airport 48",Zone_Number:48,District:"Doha International Airport"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.555081987258596,25.2846853662604]},properties:{Municipality:"Doha Municipality",Zone:"Al Khulaifat / Ras Bu Abboud 28",Zone_Number:28,District:"Al Khulaifat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.56322633310408,25.28202588529794]},properties:{Municipality:"Doha Municipality",Zone:"Al Khulaifat / Ras Bu Abboud 28",Zone_Number:28,District:"Ras Bu Abboud 28"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.59986596408785,25.213995859645717]},properties:{Municipality:"Doha Municipality",Zone:"Hamad International Airport / Banana Island / Ras Bu Funtas 49",Zone_Number:49,District:"Ras Bu Funtas"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.645040731911884,25.296042130454943]},properties:{Municipality:"Doha Municipality",Zone:"Hamad International Airport / Banana Island / Ras Bu Funtas 49",Zone_Number:49,District:"Banana Island"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.603649598155364,25.26893831010817]},properties:{Municipality:"Doha Municipality",Zone:"Hamad International Airport / Banana Island / Ras Bu Funtas 49",Zone_Number:49,District:"Hamad International Airport"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.55864176576286,25.21804964064004]},properties:{Municipality:"Doha Municipality",Zone:"Al Thumama 50",Zone_Number:50,District:"Al Thumama 50"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.43475576658021,25.18626396366687]},properties:{Municipality:"Doha Municipality",Zone:"Industrial Area 57",Zone_Number:57,District:"Industrial Area"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.48084748688062,25.24083691450826]},properties:{Municipality:"Doha Municipality",Zone:"Wholesale Market 58",Zone_Number:58,District:"Wholesale Market"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.52288207338487,25.3121704061812]},properties:{Municipality:"Doha Municipality",Zone:"Zone 60",Zone_Number:60,District:"Al Dafna 60"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.538422076650924,25.344980885022387]},properties:{Municipality:"Doha Municipality",Zone:"Al Dafna / Al Qassar 61",Zone_Number:61,District:"Al Gassar 61"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.53330507604745,25.32536832861564]},properties:{Municipality:"Doha Municipality",Zone:"Al Dafna / Al Qassar 61",Zone_Number:61,District:"Al Dafna 61"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.5124270760668,25.313764400683006]},properties:{Municipality:"Doha Municipality",Zone:"Zone 62",Zone_Number:62,District:"Lekhwair"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.5212037992388,25.32265725457398]},properties:{Municipality:"Doha Municipality",Zone:"Onaiza 63",Zone_Number:63,District:"Onaiza 63"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.50523198459649,25.31990779027192]},properties:{Municipality:"Doha Municipality",Zone:"Lejbailat 64",Zone_Number:64,District:"Lejbailat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.51208571889228,25.33110005824045]},properties:{Municipality:"Doha Municipality",Zone:"Onaiza 65",Zone_Number:65,District:"Onaiza 65"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.52613658407029,25.35807411049982]},properties:{Municipality:"Doha Municipality",Zone:"Onaiza / Leqtaifiya / Al Qassar 66",Zone_Number:66,District:"Al Gassar 66"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.55857222594033,25.367945061717872]},properties:{Municipality:"Doha Municipality",Zone:"Onaiza / Leqtaifiya / Al Qassar 66",Zone_Number:66,District:"The Pearl"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.51381825326382,25.3451758037209]},properties:{Municipality:"Doha Municipality",Zone:"Onaiza / Leqtaifiya / Al Qassar 66",Zone_Number:66,District:"Onaiza 66"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.51274157917895,25.365950503662]},properties:{Municipality:"Doha Municipality",Zone:"Onaiza / Leqtaifiya / Al Qassar 66",Zone_Number:66,District:"Legtaifiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.494857630942356,25.340418077419294]},properties:{Municipality:"Doha Municipality",Zone:"Hazm Al Markhiya 67",Zone_Number:67,District:"Hazm Al Markhiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.48990309982794,25.373349356232147]},properties:{Municipality:"Doha Municipality",Zone:"Jelaiah / Al Tarfa / Jeryan Nejaima 68",Zone_Number:68,District:"Al Tarfa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.476715832552905,25.371537667729157]},properties:{Municipality:"Doha Municipality",Zone:"Jelaiah / Al Tarfa / Jeryan Nejaima 68",Zone_Number:68,District:"Jeryan Nejaima"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.489145610447856,25.35241561332196]},properties:{Municipality:"Doha Municipality",Zone:"Jelaiah / Al Tarfa / Jeryan Nejaima 68",Zone_Number:68,District:"Jelaiah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28181978593569,25.422271861870954]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Muaither Al Meshaf"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28815445003082,25.523640612679788]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Wadi Al Waab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.3245474826054,25.533391491583483]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Bu Thaila"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.38081808443957,25.382541886780945]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Al Froosh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37628397946338,25.442391767013056]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Al Mazrooah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.41968638330923,25.385386152698818]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Al Kharaitiyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.317036507777665,25.412789598369436]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Bu Fass"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.2762099066998,25.567827830085005]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Wadi Al Askar"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.287519542230115,25.457244765921285]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Bu Glaila"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.32487464525993,25.449003854602612]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Abal Heeran"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.362461887696064,25.526676459607874]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Abal Najem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.381557759961886,25.411061443151695]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Wadi Al Mazrooah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.309366831073724,25.48727021950271]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Al Masluba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.37166698896732,25.487801219608215]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Umm Ebairiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39663924386487,25.51231925737278]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Umm Al Amad"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.34648170037074,25.42687023048393]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Bu Garn"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.36273407235499,25.507244940076284]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Jery Khabbab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28244238753627,25.403400038264547]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Muaither Al Dasem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.40636305659835,25.41550958183721]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Umm Slal Mohammed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.370116545797536,25.54743837780871]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Al Shefallahiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.410889549920356,25.36228875005055]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Izghawa 71"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.40112213230756,25.551474792429705]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Snay Lehmaidi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.35290212732348,25.448942433912112]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Bu Merzaz"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.341109428373265,25.39757830555747]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Umm Shaharain"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39622451687948,25.465621200999276]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Umm Slal Ali"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.36165392719292,25.470207354929297]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Bu Hesayya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.36078176032026,25.409850282085387]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Jery Al Samur"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.39835674526879,25.436583650523936]},properties:{Municipality:"Umm Slal Municipality",Zone:"Al Kharaitiyat / Izghawa / Umm Slal Mohammed / Bu Fesseela / Umm Slal Ali / Umm Al Amad / Umm Obairiya / Lekhshaina / Sunay Lehmaidi 71",Zone_Number:71,District:"Bu Fesseela"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.243169737338434,25.54154174387861]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Atran"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.098891993933776,25.527234799647665]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Slemiyet Bu Ejthaya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.162758382512195,25.442387056355425]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Leawaijat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.242205450457206,25.48206523356761]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Al Negaibat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.84402401332238,25.610900813019384]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Ras Broog"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.14296320433623,25.474713021834408]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Jery Al Dabi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.102863494869766,25.46890782254205]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Jery Bu Esh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.05156836017662,25.43362043752045]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Rawdat Al Faras"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.938444266739474,25.54588962241846]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Lehsain"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.12854621015338,25.445958548979572]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Bu Kheesa"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.95913256967994,25.467698903582075]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Lebraithat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.132598859338295,25.50271909003806]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Imraibdat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.016886940002074,25.546084636844043]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Rawdat Al Ejla"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.01976465426257,25.571993342445836]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Jery Tallaa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24325664262025,25.51188829426549]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Heenat Al Silla"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.90703918540815,25.482484808402326]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Rawdat Khawzan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.079005550014216,25.4595185742507]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Bu Thughaib"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09524900728434,25.574100581269818]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Wadi Bu Ejthaya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.95894299842921,25.520849491341185]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Ebsaiteen"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.863677880444314,25.46947724298395]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Zekreet"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.12695778981359,25.5608865039836]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Grayyat Al Eid"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98027852150961,25.49916307334939]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Umm Leghab West"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.02182941454827,25.51307819493598]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Abal Hasak"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09517882175206,25.549568077677705]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Hafeerat Rawdan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.07759428303786,25.489319575673317]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Al Dehailiyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.199051806217774,25.52367637622282]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Leatooriya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.00310305143339,25.44727959031372]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Bu Ghameela"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.134171449610214,25.529311103877045]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Al Senaiat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.090995416909536,25.439023943251257]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Leagooriyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.99310057006849,25.476741823231087]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Wadi Khawzan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.2443808821924,25.57270394736566]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Ummahat Al Hass"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.16815603733499,25.503381740763174]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Rawdat Al Imnailat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98359308033182,25.549197592767936]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Bu Haweyya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.85889424644948,25.533337018701925]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Broog"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.05172618495546,25.540498497041792]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Rawdat Al Mawda"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15407126114176,25.56985787683633]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Al Sena"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.2025945179722,25.571401248083134]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Wadi Laswag"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.99067813945776,25.525733942172238]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Al Refaig"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.064669719196196,25.56741775330732]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Abal Awsaj"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.93486240337338,25.572049417883935]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Waab Suwailem"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.936084549338005,25.504787830785006]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Aba Erbayyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.183483950410256,25.464856985229616]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Wadi Al Salam"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.167355481473095,25.53444771290713]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Wadi Saleh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.10154159333742,25.507634525324175]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Rawdat Al Khanayen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.025561201903,25.49196391531209]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Umm Zraibeel"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.06030055428562,25.516752634051688]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Jery Rabdan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.04299490722307,25.451782340301154]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Umm Ethnaitain"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.97613816719872,25.574026666363498]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Waab Al Nasla"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0314535682298,25.47336797282969]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Utouriya 72",Zone_Number:72,District:"Umm Leadam"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0241444252676,25.65719179058351]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Ain Umm Al Zebad"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.22742029240959,25.605322274586705]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Aba Erbayyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.920003803913055,25.721982710833444]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Rawdat Madhooy"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.01333718173306,25.73295478813418]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Bu Sidra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0132142325208,25.67439958147722]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Khaznat Umm Al Zebad"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.94479809898991,25.670618299983825]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Sakhabriya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.1283827558932,25.66284992174412]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Rawdat Al Masluba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09501350835534,25.613750812873487]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Lijmiliya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.951661833241474,25.716582929825385]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Eghbatha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.16362031075528,25.636819257413634]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Samriya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0393733284283,25.61479278426011]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jeleeb Fashakh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.232500776448994,25.661385894455005]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Umm Dahal"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18895017727779,25.59462672116377]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jery Al Theeb"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24726959781015,25.598900820847824]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Bu Kharsaah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18423008297736,25.674171396190715]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Gaeyya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.91456198049985,25.69847095882115]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Metbarga"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.23065425498349,25.699556898735914]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Hasheemiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.25135204710068,25.677351551731377]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Ummhat Heesh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.10234382475903,25.66283787432025]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jery Al Hamra"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.95605663910985,25.594754890835098]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Nefayed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.14239982637353,25.597724469018676]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Umm Ghuwailina"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.109170496987666,25.712518641455404]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Abal Mashmoom"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.06594688120851,25.602502486747497]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Shekaikat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.07997724623233,25.720788748438313]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Getna"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.2579894135629,25.70295016993711]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Bu Swayy"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.07040213007891,25.665399535236524]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jeryan Lijmiliya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.01452003126347,25.623680009677667]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Wadi Fashakh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.91457979452253,25.673569562021914]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Wadi Slema"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.1714837878333,25.695743997064017]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Abal Jahazel"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.04145922533111,25.58808278496533]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Wadi Al Buhooth"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.93786409019471,25.79037590946428]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Ras Umm Heesh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.94616038037711,25.697827669324283]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Umm Sidra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.00851028984634,25.59402941487118]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Hazem Al Buhooth"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.10401535044921,25.74016904575494]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Ghadeeriyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.21667379815114,25.68229625172947]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jery Nazwa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.07673008402856,25.689419668812217]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jery Lubara"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.112902086513735,25.685661075309845]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Hawafer"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.95914961844537,25.73400336882354]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Ebnaider Khoosa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.04732215272499,25.669736798500253]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Abal Egdooh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.02076824414584,25.707170410502147]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Rawadat Gharra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.242579412658266,25.64080325319601]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Selaimi Al Bambara"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.97141656096913,25.63313098341248]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Dohat Fashakh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0038263657894,25.693933013800702]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Wadi Masab"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.9208589042256,25.649053750077904]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Rawdat Al Hajla"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.9271286017349,25.746264099387723]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Aba Seneem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.199764158998434,25.703064383221687]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Rawdat Al Mayya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.051635931196,25.721887386397388]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Lebsayyer"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.14185153721806,25.703916762693993]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jery Jafadeg"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98795386544552,25.731626451846328]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Haddaya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.93061390543112,25.771086616702803]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Umm Heesh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.974531516360244,25.68323244153201]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Rawdat Al Debdeba"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98323900829919,25.758759640773963]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Waab Al Smaira"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.960630168300646,25.752761774149835]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Magta"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.97720230410278,25.66190776052501]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Sharayef"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.11828299926386,25.62341923310854]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Rawdat Al Jeraiba"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.055722995768946,25.631581442295918]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Hazem Lejmiliya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.211770069365116,25.618390194442696]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jery Bu Ghanem"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.098642815462135,25.760088076283093]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jery Letwar"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.019926438602276,25.760386906367305]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Al Suwaihliya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.063432905989195,25.76233864109686]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Ishlebdeen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.208594750699405,25.650772045984848]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Jery Bu Esh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.97921435977931,25.706826448125618]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Lijmiliya 73",Zone_Number:73,District:"Rawdat Masab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.215920791820544,25.434336736137766]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Lekhraib"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.16511616995309,25.406264518339437]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Umm Enaig"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24239810959608,25.32116370866619]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Al Shekaikat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.209179062017576,25.455804908678545]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Al Samriya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.199651302813216,25.4155722632318]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Lebsayyer"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15761255226509,25.353207072869303]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Lubara"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.22853011544286,25.371221113007365]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Al Sheehaniya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.254595058860815,25.451510101648392]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Abal Jahazel"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.24634158537651,25.43420684248764]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Jery Fatma"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.20963715488942,25.33653486085112]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Bu Ghawlana"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.305813959177165,25.332145664928472]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Lehsiniya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.14148690372389,25.416614422342896]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Umm Dehail"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.160297321981,25.38170275691041]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Jery Al Sahra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.22854376662311,25.461517862037862]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Al Mearad"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.149484192848,25.31534520900294]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Lebyatiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28818626532805,25.372133091286898]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Umm Leghab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18448372159446,25.372423099570746]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Umm Lekhya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.138838447073624,25.390210264657444]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Al Ruwaidat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.20194260245267,25.313215141209408]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Umm Al Teen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.17536660332191,25.32544086221163]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Umm Legredi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30577969431778,25.31244935503985]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Umm Egdair"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.28326273153667,25.32804027533538]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Al Dehailiyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.247570281263854,25.412065399902694]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Sheehaniya 80",Zone_Number:80,District:"Al Negaib"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.03716348689105,25.247338627679838]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Leabairi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.12886702518836,25.218011425020237]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Al Ruwayyed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.21386207098493,25.19438114977564]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Leawaija"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.10477033304918,25.199296511361656]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Wadi Lejmal Al Shamali"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.2444808147733,25.1771053892279]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Umm Al Zubar West"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.11024254475218,25.174853296168106]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Umm Al Markh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.245893017853675,25.216250943436552]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Bu Silla"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.03317930407845,25.21364537452666]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Umm Ebrairiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.14430554328041,25.283167129945294]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Bu Garn"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18343891659093,25.19829293896305]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Wadi Al Sahala"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.145400472728575,25.17323836440595]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Al Sahla Al Shamaliya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15966449568123,25.151203745968996]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Iszhalat Al Markh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.26782595444392,25.26979123592953]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Al Ghesen"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.063435855579186,25.21192058337091]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Rawdat Fadeel"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15100687330663,25.227117838147684]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Abal Hasak"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.257195492088016,25.158403201028456]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Umm Garn"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.197030152675325,25.13828056226317]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Umm Ghuwailina"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.25492968732241,25.292328350893236]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Rawdat Al Zamel"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.039848654083535,25.181609921350766]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Jery Al Rasha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.175356019009186,25.290120153068198]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Wadi Al Majhoola"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.173753952403096,25.216395833343093]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Rawdat Eshmaim"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.13013212364458,25.19436894945859]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Wadi Lejmal Sl Janoobi"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.21556974673813,25.286007483105745]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Awjab Lejaada"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.18548479005403,25.178418879100224]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Magareen Ibn Shuwaireb"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.099666776212075,25.23656079475838]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Umm Harmala"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.17994153064856,25.26421961721076]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Umm Lebrak"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.22931816918707,25.18337574109885]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Al Kharsaah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.286093386449636,25.235426344440462]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Beesha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.07701278790792,25.181147766493964]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Umm Wishah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.25390559618454,25.243721782975094]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Al Majmaah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.27563738486029,25.187870317414415]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Umm Al Zubar East"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.30746621340405,25.195281664316855]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Muaither Umm Al Zubar"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.15005154729466,25.248848434416235]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Rawdat Kharja"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.21291317418691,25.244187272402904]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Rawdat Rashed"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.152797001761506,25.19614560443776]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Wadi Al Samriya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.06113236860712,25.24460689435457]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Rawdat Rashed 82",Zone_Number:82,District:"Abal Erhayyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.788425556328605,25.203377429407062]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Al Hamla"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.96417316385844,25.104073677821486]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Rawdat Al Arnab"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.87218575007461,25.218255851834456]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Ejbaijeb"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.00052636192813,25.105052372121825]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Umm Al Suwwaid"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.95768413231294,25.15926192614446]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Bu Ghawlana"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.99306951254519,25.244248567710308]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Rawdat Al Barrag"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.81301990414903,25.114237223903608]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Bu Traifa"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.99688461022356,25.14704380434055]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Wadi Al Rashaida"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.91736780142945,25.170860987765476]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Ummahat Anz"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98916071794242,25.21051097470057]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Umm Samra"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.92663074702047,25.116309848347413]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Umm Al Dayyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.92360976891911,25.204758387545905]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Al Shabhana"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.88770113895468,25.248622751815738]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Ummahat Slaim"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98144001812977,25.187123955895483]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Jery Al Khanjar"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.85642360476673,25.171136377650555]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Umm Bab"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.93196570743921,25.23951737161476]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Umm Bab 84",Zone_Number:84,District:"Rawdat Lebretha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.11218940522704,25.355159314271276]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Thenyet Al Jamal"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.11649498196325,25.373461556855162]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Umm Al Gararees"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.96648735114,25.34074289841686]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Slemiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.96807999038071,25.40416498601288]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Rawdat Mraighan"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.00224505162183,25.269508104054275]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Sidri"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.00494339449901,25.41580140160397]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Wadi Al Markh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.044529971197825,25.286120297815685]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Jarr Leadam"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.989758886835006,25.36838954085116]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Semari Jery Tawg"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.11807669899253,25.39403654648491]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Bu Braika"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.10876388258436,25.29943131250285]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Imlaih"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.954625792289065,25.32218402766444]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Nehaidain"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.93615149772279,25.30882523121958]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Wadi Lemghadar"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.09939109800696,25.269347385129773]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Sehameya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.085386701215164,25.344231665833973]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Ummahat Slal"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.02067045895929,25.31066036779623]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Umm Garn"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.03995152823381,25.38725747853657]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Abal Halayem"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.947659933626184,25.29219887726418]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Awjab Al Sabur"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08326361838494,25.360630458491883]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Jery Aba Slailat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98990724853084,25.343703273194667]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Ummahat Swayy"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.955094178415905,25.27245196650353]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Kharsaah"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.02460681262552,25.354484045389782]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Hazem Bu Awseja"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.928204126155606,25.351971021100486]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Thumama"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.97786747896454,25.434956673676588]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Umm Thumam"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.04774937873,25.31009401552311]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Muaither Sidran"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.04184188977413,25.342736905477]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Lejhaimiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.98368968352784,25.38508458645633]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Jery Tawg"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.915528659760014,25.43862796283406]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Tharb"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.92551784871608,25.401891113749056]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Rawdat Al Nefafees"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.949439943942856,25.415076595310047]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Mehterga"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.96956030187032,25.44958479078995]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Lebrega"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.055183479046384,25.26934023418584]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Ruwaidat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.974149046002566,25.309229496034224]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Abal Asafeer"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.93789866102307,25.37492745303704]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Wadi Umm Al Zubar"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.93209336368001,25.326449836858792]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Jaww Al Ekresh"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.997802808250626,25.326008945288358]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Shelaibdeenat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.94651269511496,25.345521750766743]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Wadi Al Ekresh"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.097168842694614,25.38147915912292]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Abal Gararees"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0153221408047,25.285739263073793]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Jarr Khaleel"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.949298939622466,25.446391714420862]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Leawaina"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08719822526376,25.331190841974717]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Bu Ghameela"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.0622456724319,25.338042706266307]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Semari"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.031607456849436,25.409792034124962]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Hasheemiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.076239311630914,25.40766805486685]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Nasraniya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.92689697780795,25.27853646527943]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Esaila"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.117885030405866,25.417179289213127]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Snay Shagra"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.076512800670336,25.29143045940878]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Umm Taga"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.109526504878616,25.284473826558006]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Labhariya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.985724669585586,25.2889941522326]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Abal Kharasa"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.11155769899537,25.314961336266236]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Jeryan Al Saiha"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.111915660394246,25.33646642840428]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Wadi Umm Al Theyab"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.04759386879964,25.368416487969768]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Ludaihiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.01868119264418,25.333369888692374]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Abal Hayyat"}},{type:"Feature",geometry:{type:"Point",coordinates:[51.08059607455001,25.31578678729123]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Al Nasraniya 85",Zone_Number:85,District:"Al Shedeeda"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.886446549536025,25.433798642791707]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Al Ruwais West"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.84806511002257,25.411519922028912]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Umm Wadi"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.875146591333774,25.383888462087445]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Barga Egaif"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.81673541626521,25.479465793946506]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Wadi Imhalat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.7732453735484,25.508369981464092]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Ras Dukhan"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.80502762242138,25.30901711091505]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Jaww Al Banat"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.778614082207355,25.27693812376856]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Jaww Al Bab"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.82821423038158,25.449712249231577]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Rawdat Jarrah"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.78988948704982,25.415312206503227]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Dukhan"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.84942958445554,25.436820313468708]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"New Al Khattiya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.79917601387185,25.513164006320153]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Ras Al Ghariya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.81114635690284,25.273060585998113]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Jaww Esrayya"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.878915823682114,25.28228202412513]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Afjan"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.86423877048971,25.33073308140063]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Al Zeghain"}},{type:"Feature",geometry:{type:"Point",coordinates:[50.77974830490042,25.314389050821752]},properties:{Municipality:"Al Sheehaniya Municipality",Zone:"Dukhan 86",Zone_Number:86,District:"Fehaiheel"}}]},F4=e=>e==="ar"?Mgt:Egt,Tgt=async e=>{const n=F4(e).features.map(r=>r.properties.Municipality);return Array.from(new Set(n))},Pgt=async(e,t)=>{const r=F4(t).features.filter(i=>i.properties.Municipality===e).map(i=>i.properties.Zone_Number);return Array.from(new Set(r))},Igt=async(e,t)=>F4(t).features.filter(i=>i.properties.Zone_Number===e).map(i=>({name:i.properties.District,coordinates:i.geometry.coordinates})),qhe=async e=>F4(e).features.map(r=>({name:r.properties.District,coordinates:r.geometry.coordinates})),Ogt=({label:e})=>{const[t,n]=A.useState(""),[r,i]=A.useState([]),[s,c]=A.useState([]),h=ha(),o=Ci(I=>I.dropdown.openDropdown),{i18n:m,t:y}=Zi(),v=o==="DistrictNameSearch";A.useEffect(()=>{(async()=>{const N=await qhe(m.language);i(N)})()},[m.language]);const S=I=>{const N=I.target.value;if(v||h(Yd("DistrictNameSearch")),n(N),N.trim()!==""){const D=r.filter(k=>k.name.toLowerCase().includes(N.toLowerCase()));c(D)}else c([])},C=I=>{n(I.name),h(Na({toggleKey:"districts",filterLabel:"District",value:I.name})),h(wF(I.coordinates)),n(I.name),c([]),h(Yd(null))},P=m.language==="ar";return te.jsxs("div",{className:"relative inline-block",children:[te.jsx("input",{className:"rounded-md p-1.5",placeholder:e,value:t,onChange:S}),v&&te.jsx("div",{className:"absolute mt-2 bg-white rounded-md shadow w-48 z-10",children:s.length>0&&te.jsx("ul",{className:"bg-white border rounded max-h-96 overflow-y-auto",children:s.map((I,N)=>te.jsx("li",{className:`p-2 hover:bg-gray-100 cursor-pointer ${P?"flex flex-row-reverse":""}`,onClick:()=>C(I),children:I.name},N))})})]})},kgt=({label:e})=>{const t=ha(),[n,r]=A.useState([]),[i,s]=A.useState(!1),c=A.useRef(null),h=Ci(C=>C.filters.selectedFilters),{i18n:o,t:m}=Zi();A.useEffect(()=>{(async()=>{const P=await Tgt(o.language);r(P)})()},[o.language]);const y=C=>{t(Na({toggleKey:"districts",filterLabel:"Municipality",value:C})),s(!1)},v=()=>{s(C=>!C)};A.useEffect(()=>{const C=P=>{c.current&&!c.current.contains(P.target)&&s(!1)};return i&&document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[i]);const S=()=>{t(Na({toggleKey:"districts",filterLabel:"Municipality",value:""})),t(Na({toggleKey:"districts",filterLabel:"Zone",value:""})),t(Na({toggleKey:"districts",filterLabel:"District",value:""}))};return te.jsxs("div",{className:"relative inline-block",ref:c,children:[te.jsx(oh,{isOpen:i,label:e,isFilterActive:!!h.districts.Municipality,onClear:S,onClick:v}),i&&te.jsx("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-48 z-10",children:te.jsx("ul",{className:"text-sm space-y-1 max-h-96 overflow-y-auto",children:n.map(C=>{var P;return te.jsx("li",{className:`cursor-pointer hover:bg-gray-100 p-1 ${((P=h.districts)==null?void 0:P.Municipality)===C?"font-bold":""}`,onClick:()=>y(C),children:C},C)})})})]})},Ngt=({label:e})=>{var C,P;const[t,n]=A.useState([]),[r,i]=A.useState(!1),s=A.useRef(null),c=ha(),h=Ci(I=>I.filters.selectedFilters),{i18n:o,t:m}=Zi();A.useEffect(()=>{(async()=>{var N;if((N=h.districts)!=null&&N.Municipality){const D=await Pgt(h.districts.Municipality,o.language);n(D)}})()},[(C=h.districts)==null?void 0:C.Municipality]);const y=I=>{c(Na({toggleKey:"districts",filterLabel:"Zone",value:I})),i(!1)},v=()=>{i(I=>!I)};A.useEffect(()=>{const I=N=>{s.current&&!s.current.contains(N.target)&&i(!1)};return r&&document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[r]);const S=()=>{c(Na({toggleKey:"districts",filterLabel:"Zone",value:""})),c(Na({toggleKey:"districts",filterLabel:"District",value:""}))};return te.jsxs("div",{className:"relative inline-block",ref:s,children:[te.jsx(oh,{isOpen:r,label:e,isFilterActive:!!h.districts.Zone,onClear:S,onClick:v,disabled:!((P=h.districts)!=null&&P.Municipality)}),r&&te.jsx("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-48 z-10",children:te.jsx("ul",{className:"text-sm space-y-1 max-h-96 overflow-y-auto",children:t.map(I=>{var N;return te.jsx("li",{className:`cursor-pointer hover:bg-gray-100 p-1 ${((N=h.districts)==null?void 0:N.Zone)===I?"font-bold":""}`,onClick:()=>y(I),children:I},I)})})})]})},Rgt=({label:e})=>{var C,P;const[t,n]=A.useState([]),[r,i]=A.useState(!1),s=A.useRef(null),c=ha(),h=Ci(I=>I.filters.selectedFilters),{i18n:o,t:m}=Zi();A.useEffect(()=>{(async()=>{var N;if((N=h.districts)!=null&&N.Zone){const D=await Igt(h.districts.Zone,o.language);n(D)}})()},[(C=h.districts)==null?void 0:C.Zone]);const y=I=>{c(Na({toggleKey:"districts",filterLabel:"District",value:I.name})),c(wF(I.coordinates)),i(!1)},v=()=>{i(I=>!I)};A.useEffect(()=>{const I=N=>{s.current&&!s.current.contains(N.target)&&i(!1)};return r&&document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[r]);const S=()=>{c(Na({toggleKey:"districts",filterLabel:"District",value:""}))};return te.jsxs("div",{className:"relative inline-block",ref:s,children:[te.jsx(oh,{isOpen:r,label:e,isFilterActive:!!h.districts.District,onClear:S,onClick:v,disabled:!((P=h.districts)!=null&&P.Zone)}),r&&te.jsx("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-48 z-10",children:te.jsx("ul",{className:"text-sm space-y-1 max-h-96 overflow-y-auto",children:t.map(I=>{var N;return te.jsx("li",{className:`cursor-pointer hover:bg-gray-100 p-1 ${((N=h.districts)==null?void 0:N.District)===I.name?"font-bold":""}`,onClick:()=>y(I),children:I.name},I.name)})})})]})},Dgt=[{label:"toggles.district.filters.district_name",component:Ogt},{label:"toggles.district.filters.municipality",component:kgt},{label:"toggles.district.filters.zone",component:Ngt},{label:"toggles.district.filters.district",component:Rgt}],Lgt={Villa:1,Building:2,Apartment:5,Land:6},Fgt={private_residential:1,commercial:2,administrative:3,residential_investment:4},$gt=[{label:"toggles.heatmap.filters.type.values.sell_figure",value:"sell_count"},{label:"toggles.heatmap.filters.type.values.price_sqmt",value:"sell_mt_avg"}],jgt=({disabled:e=!1,label:t})=>{const{t:n}=Zi(),r=ha(),[i,s]=A.useState(!1),c=A.useRef(null),h=Ci(y=>y.filters.selectedFilters),o=y=>{r(Na({toggleKey:"heatmap",filterLabel:"Category",value:y})),s(!1)},m=()=>{e||s(y=>!y)};return A.useEffect(()=>{const y=v=>{c.current&&!c.current.contains(v.target)&&s(!1)};return i&&document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[i]),te.jsxs("div",{className:"relative inline-block",ref:c,children:[te.jsx(oh,{isOpen:i,label:t,onClick:m,disabled:e}),i&&!e&&te.jsx("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-48 z-10",children:te.jsx("ul",{className:"text-sm space-y-1 max-h-96 overflow-y-auto",children:Object.entries(Lgt).map(([y,v])=>{var S;return te.jsx("li",{className:`cursor-pointer hover:bg-gray-100 p-1 ${((S=h.heatmap)==null?void 0:S.Category)===v?"font-bold":""}`,onClick:()=>o(v),children:n(`toggles.heatmap.filters.category.values.${y.toLowerCase()}`)},y)})})})]})},zgt=({disabled:e=!1,label:t})=>{var y;const{t:n}=Zi(),r=ha(),[i,s]=A.useState(!1),c=A.useRef(null),h=Ci(v=>v.filters.selectedFilters),o=v=>{r(Na({toggleKey:"heatmap",filterLabel:"Purpose",value:v})),s(!1)},m=()=>{e||s(v=>!v)};return A.useEffect(()=>{const v=S=>{c.current&&!c.current.contains(S.target)&&s(!1)};return i&&document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[i]),te.jsxs("div",{className:"relative inline-block",ref:c,children:[te.jsx(oh,{isOpen:i,label:t,onClick:m,disabled:!((y=h.heatmap)!=null&&y.Category)}),i&&!e&&te.jsx("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-48 z-10",children:te.jsx("ul",{className:"text-sm space-y-1 max-h-96 overflow-y-auto",children:Object.entries(Fgt).map(([v,S])=>{var C;return te.jsx("li",{className:`cursor-pointer hover:bg-gray-100 p-1 ${((C=h.heatmap)==null?void 0:C.Purpose)===S?"font-bold":""}`,onClick:()=>o(S),children:n(`toggles.heatmap.filters.purpose.values.${v}`)},S)})})})]})},Bgt=({disabled:e=!1,label:t})=>{var v,S;const{t:n}=Zi(),r=ha(),[i,s]=A.useState(!1),c=A.useRef(null),h=Ci(C=>C.filters.selectedFilters),o=(v=h.heatmap)==null?void 0:v.Type,m=C=>{r(Na({toggleKey:"heatmap",filterLabel:"Type",value:C})),s(!1)},y=()=>{e||s(C=>!C)};return A.useEffect(()=>{const C=P=>{c.current&&!c.current.contains(P.target)&&s(!1)};return i&&document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[i]),te.jsxs("div",{className:"relative inline-block",ref:c,children:[te.jsx(oh,{isOpen:i,label:t,onClick:y,disabled:!((S=h.heatmap)!=null&&S.Purpose)}),i&&!e&&te.jsx("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-48 z-10",children:te.jsx("ul",{className:"text-sm space-y-1 max-h-96 overflow-y-auto",children:$gt.map(C=>te.jsx("li",{className:`cursor-pointer hover:bg-gray-100 p-1 ${o===C.value?"font-bold":""}`,onClick:()=>m(C.value),children:n(C.label)},C.value))})})]})},Zgt=[{label:"toggles.heatmap.filters.category.label",component:jgt},{label:"toggles.heatmap.filters.purpose.label",component:zgt},{label:"toggles.heatmap.filters.type.label",component:Bgt}],Ugt=()=>te.jsxs("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-48 z-10",children:[te.jsx("h3",{className:"font-semibold mb-2",children:"Zone"}),te.jsx("input",{type:"text",className:"border rounded w-full p-1",placeholder:"Enter Zone"})]}),Hgt=()=>te.jsxs("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-48 z-10",children:[te.jsx("h3",{className:"font-semibold mb-2",children:"Municipality"}),te.jsxs("ul",{className:"text-sm space-y-1 max-h-96 overflow-y-auto",children:[te.jsx("li",{className:"cursor-pointer hover:bg-gray-100 p-1",children:"Doha"}),te.jsx("li",{className:"cursor-pointer hover:bg-gray-100 p-1",children:"Al Rayyan"}),te.jsx("li",{className:"cursor-pointer hover:bg-gray-100 p-1",children:"Al Wakrah"})]})]}),Vgt=()=>te.jsxs("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-48 z-10",children:[te.jsx("h3",{className:"font-semibold mb-2",children:"Building"}),te.jsxs("ul",{className:"text-sm space-y-1 max-h-96 overflow-y-auto",children:[te.jsx("li",{className:"cursor-pointer hover:bg-gray-100 p-1",children:"Apartments"}),te.jsx("li",{className:"cursor-pointer hover:bg-gray-100 p-1",children:"Villas"}),te.jsx("li",{className:"cursor-pointer hover:bg-gray-100 p-1",children:"Commercial"})]})]}),Wgt=[{label:"Zone",component:Ugt},{label:"Municipality",component:Hgt},{label:"Building",component:Vgt}],SF=({label:e,options:t,filterKey:n})=>{const r=ha(),i=Ci(c=>{var h;return((h=c.filters.selectedFilters.sales)==null?void 0:h[n])||[]}),s=(c,h)=>{const o=h?[...i,c]:i.filter(m=>m!==c);r(Na({toggleKey:"sales",filterLabel:n,value:o}))};return te.jsxs("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-64 z-10",children:[te.jsx("h3",{className:"font-semibold mb-2",children:e}),te.jsx("div",{children:t.map(c=>te.jsx("div",{className:"mb-1",children:te.jsx(fA,{checked:i.includes(c),onChange:h=>s(c,h.target.checked),children:c})},c))})]})},Ggt=()=>te.jsx(SF,{label:"Buildings",options:["Residential","Commercial","Industrial"],filterKey:"Buildings"}),Kgt=()=>te.jsx(SF,{label:"Municipality",options:["Municipality-1","Municipality-2","Municipality-3","Municipality-4","Municipality-5"],filterKey:"Municipality"}),qgt=()=>te.jsx(SF,{label:"Area",options:["Area number one","Area number two","Area number four","Area number five"],filterKey:"Area"}),Xgt=()=>{var h,o;const e=ha(),[t,n]=A.useState({min:0,max:0}),[r,i]=A.useState([0,0]),s=Ci(m=>{var y;return(y=m.filters.selectedFilters.sales)==null?void 0:y.Price});A.useEffect(()=>{const y=[{price_per_m2:2e3},{price_per_m2:5e3},{price_per_m2:15e3},{price_per_m2:7e3},{price_per_m2:3e3}].map(C=>C.price_per_m2),v=Math.min(...y),S=Math.max(...y);n({min:v,max:S}),i(s?[s.min,s.max]:[v,S])},[s]);const c=m=>{i(m),e(Na({toggleKey:"sales",filterLabel:"Price",value:{min:m[0],max:m[1]}}))};return te.jsxs("div",{className:"absolute mt-2 bg-white rounded-md shadow p-3 w-80 z-10",children:[te.jsx("h3",{className:"font-semibold mb-2",children:"Price Range (QAR per M²)"}),te.jsxs("div",{className:"text-sm space-y-2",children:[te.jsxs("div",{className:"flex justify-between",children:[te.jsxs("span",{children:[(h=r[0])==null?void 0:h.toLocaleString()," QAR/M²"]}),te.jsxs("span",{children:[(o=r[1])==null?void 0:o.toLocaleString()," QAR/M²"]})]}),te.jsx(jse,{range:!0,min:t.min,max:t.max,step:1,value:r,onChange:c,tooltip:{formatter:m=>`${m==null?void 0:m.toLocaleString()} QAR/M²`}})]})]})},Ygt=[{label:"Buildings",component:Ggt},{label:"Municipality",component:Kgt},{label:"Area",component:qgt},{label:"Price",component:Xgt}],Jgt=[{name_en:"United Development Company UDC",name_ar:"المتحدة للتنمية",coordinates:[51.536427,25.377463]},{name_en:"Diyar",name_ar:"ديار",coordinates:[51.519517,25.429186]},{name_en:"JMJ Group Holding",name_ar:"مجموعة جي إم جي القابضة",coordinates:[51.521518,25.433843]}];function Qgt(e){return e.filter((t,n,r)=>r.findIndex(i=>i.name?i.name===t.name:!1)===n)}const eyt=()=>{const{t:e,i18n:t}=Zi(),n=ha(),r=t.language,s=Ci(W=>W.dropdown.openDropdown)==="productSearch",[c,h]=A.useState([]),[o,m]=A.useState(""),[y,v]=A.useState([]),[S,C]=A.useState([]),[P,I]=A.useState([]);A.useEffect(()=>{(async()=>{const Y=await qhe(t.language);h(Y)})()},[t.language]),A.useEffect(()=>{if(!o.trim()){v([]),C([]),I([]);return}const W=o.toLowerCase(),Y=c.filter(be=>be.name.toLowerCase().includes(W)),K=Ghe.filter(be=>(r==="en"?be.name_en:be.name_ar).toLowerCase().includes(W)),ee=Jgt.filter(be=>(r==="en"?be.name_en:be.name_ar).toLowerCase().includes(W)),re=Qgt(Y),oe=K,he=ee;v(re),C(oe),I(he)},[o,c,r]);const N=W=>{s||n(Yd("productSearch")),m(W)},D=(W,Y)=>{m(Y.label),Y.type==="district"?(n(Na({toggleKey:"districts",filterLabel:"District",value:Y.label})),n(wF(Y.coordinates))):Y.type==="project"?n(vD({name:Y.label,coordinates:Y.coordinates})):Y.type==="developer"&&n(vD({name:Y.label,coordinates:Y.coordinates,zoom:15})),n(Yd(null))},k=y.map(W=>({label:W.name,value:`district-${W.name}`,type:"district",coordinates:W.coordinates})),F=S.map(W=>{const Y=r==="en"?W.name_en:W.name_ar;return{label:Y,value:`project-${Y}`,type:"project",coordinates:W.coordinates}}),U=P.map(W=>{const Y=r==="en"?W.name_en:W.name_ar;return{label:Y,value:`developer-${Y}`,type:"developer",coordinates:W.coordinates}}),B=[];k.length>0&&B.push({label:"Districts",options:k}),F.length>0&&B.push({label:"Projects",options:F}),U.length>0&&B.push({label:"Real-Estate Developers",options:U});const z=t.language==="ar";return te.jsx("div",{className:"w-64",children:te.jsx(B3,{style:{width:"100%"},placeholder:e("product_search.placeholder"),value:o,options:B,onSearch:N,onSelect:D,dropdownClassName:z?"arabic-dropdown":"ltr-dropdown",open:s&&(y.length>0||S.length>0||P.length>0),onBlur:()=>{n(Yd(null))}})})},yQ={projects:_gt,rental:Cgt,district:Dgt,heatmap:Zgt,mortgage:Wgt,sales:Ygt},tyt=()=>{const{t:e,i18n:t}=Zi(),n=t.language==="ar",r=ha(),{activeToggles:i,activeFilterKey:s,filtersVisible:c,loadingFilterKey:h,selectedFilters:o}=Ci(k=>k.filters),m=o.districts||{},y=o.projects||{},v=Object.values(m).some(k=>Array.isArray(k)?k.length>0:k!==""&&k!==null&&k!==void 0),S=Object.values(y).some(k=>Array.isArray(k)?k.length>0:k!==""&&k!==null&&k!==void 0),C=Ci(k=>k.mapLayers["qatar-districts-polygon"]);A.useEffect(()=>{r(ugt({key:"district",value:C}))},[C]);const P=[{key:"heatmap",label:e("toggles.heatmap.title"),enabled:!0},{key:"district",label:e("toggles.district.title"),enabled:!0},{key:"projects",label:e("toggles.project.title"),enabled:!0}],I=k=>{r(cgt(k)),r(mQ(!1))},N=k=>{i[k]&&(r(dgt(k)),r(mQ(s===k?!c:!0)))},D=k=>{r(hgt(k))};return te.jsx("div",{className:"relative bg-white shadow h-full",style:{zIndex:1e3,height:60},children:te.jsxs("div",{className:`flex items-center px-4 ${n?"flex-row-reverse justify-between":"justify-between"}`,style:{height:"100%"},children:[te.jsx("div",{className:`flex items-center space-x-4 ${n?"flex-row-reverse justify-between":"justify-between"}`,children:te.jsx(eyt,{})}),te.jsx("div",{className:"header-filters flex items-center space-x-6 h-full px-8",children:P.map((k,F)=>{const{key:U,label:B,enabled:z}=k,W=!!yQ[U],Y=!!i[U],K=Y&&s===U&&c;let ee=!1;return U==="district"&&v&&(ee=!0),U==="projects"&&S&&(ee=!0),te.jsxs(Oe.Fragment,{children:[te.jsxs("div",{className:`flex items-center px-2 gap-1 text-md ${n?"flex-row-reverse":""}`,children:[te.jsxs("span",{className:z?"text-skyline":"text-slate-400",children:[" ",e(B)," "]}),ee&&Y&&te.jsx(ule,{className:"cursor-pointer",onClick:()=>{D(U==="district"?"districts":"projects")},size:20,style:{cursor:"pointer",color:"#8A1538"}}),te.jsx(Vf,{theme:{components:{Switch:{trackMinWidth:37}}},children:te.jsx(Bse,{checked:Y,onChange:()=>I(U),style:{backgroundColor:Y?"#0d4261":"#ccc"},disabled:!z})}),W&&te.jsx("div",{className:"w-5 h-5 flex items-center justify-center rounded-full transition-transform duration-200",onClick:()=>N(U),style:{cursor:"pointer",backgroundColor:Y?"#0d4261":"#ccc"},children:te.jsx("div",{className:`transition-transform duration-200 ${K?"rotate-90":"rotate-0"}`,children:te.jsx(bce,{style:{color:"white",fontSize:"12px"}})})}),W&&K&&te.jsx("div",{className:`absolute top-16 ${n?"left-20":"right-20"} flex space-x-4 p-4 rounded z-50 shadow-md 
                      backdrop-blur-sm transition-all duration-200 ${K?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-4 scale-95 pointer-events-none"}`,children:yQ[U].map(re=>te.jsx(re.component,{label:e(re.label)},re.label))})]}),F<P.length-1&&te.jsx(cke,{type:"vertical",className:"border-gray-200 h-6"})]},U)})})]})})};function nyt({mapRef:e,currentStyle:t,setCurrentZoom:n,setPopupInfo:r,currentZoom:i}){var I;const s=ha(),c=Ci(N=>N.mapLayers),h=Ci(N=>N.filters.selectedFilters.heatmap),o=Ci(N=>N.filters.activeToggles.heatmap),{center:m,zoom:y}=Ci(N=>N.mapView),{i18n:v}=Zi(),S=v.language==="ar"?"ADM3_AR":"ADM3_EN";function C(N,D){const k=`${D.Type}_${D.Category}_${D.Purpose}`;D.Type==="sell_count"&&N.setPaintProperty("qatar-districts-polygon","fill-color",["case",["boolean",["feature-state","hover"],!1],"rgba(255, 243, 230, 0.5)",["interpolate",["linear"],["coalesce",["get",k],0],0,"rgba(255, 235, 238, 1)",2.5,"rgba(248, 192, 203, 1)",5,"rgba(241, 150, 168, 1)",10,"rgba(211, 102, 128, 1)",20,"rgba(180, 66, 97, 1)",200,"rgba(137, 23, 58, 1)",1e3,"rgba(88, 14, 38, 1)"]]),D.Type==="sell_mt_avg"&&N.setPaintProperty("qatar-districts-polygon","fill-color",["case",["boolean",["feature-state","hover"],!1],"rgba(255, 243, 230, 0.8)",["interpolate",["linear"],["coalesce",["get",k],0],0,"rgba(255, 235, 238, 0.7)",25e3,"rgba(248, 192, 203, 0.7)",1e5,"rgba(241, 150, 168, 0.7)",2e5,"rgba(211, 102, 128, 0.7)",35e4,"rgba(180, 66, 97, 0.7)",5e5,"rgba(137, 23, 58, 0.7)",75e4,"rgba(88, 14, 38, 0.7)"]])}A.useEffect(()=>{e.current=new $0.Map({container:"map",style:t,center:[51.5,25.3],zoom:11});let N=null;return e.current.on("load",()=>{e.current.loadImage("https://docs.mapbox.com/mapbox-gl-js/assets/custom_marker.png",(k,F)=>{if(k)throw k;F&&!e.current.hasImage("pin-icon")&&e.current.addImage("pin-icon",F)}),e.current.addLayer({id:"selected-district-outline",type:"line",source:"composite","source-layer":"qatar-districts-polygon",paint:{"line-color":"#003366","line-width":2},filter:["==",["id"],""]}),e.current.addLayer({id:"hover-district-outline",type:"line",source:"composite","source-layer":"qatar-districts-polygon",paint:{"line-color":"#003366","line-width":2},filter:["==",["id"],""]});const D=e.current.getCenter();s(ZC([D.lng,D.lat])),e.current.on("moveend",()=>{const k=e.current.getCenter();s(ZC([k.lng,k.lat]))}),e.current.on("mousemove","qatar-districts-polygon",k=>{e.current.getCanvas().style.cursor="pointer",k.features&&k.features.length>0&&(N!==null&&e.current.setFeatureState({source:"composite",sourceLayer:"qatar-districts-polygon",id:N},{hover:!1}),N=k.features[0].id,e.current.setFeatureState({source:"composite",sourceLayer:"qatar-districts-polygon",id:N},{hover:!0}),e.current.setFilter("hover-district-outline",["==",["id"],N]))}),e.current.on("mouseleave","qatar-districts-polygon",()=>{e.current.getCanvas().style.cursor="",N!==null&&(e.current.setFeatureState({source:"composite",sourceLayer:"qatar-districts-polygon",id:N},{hover:!1}),e.current.setFilter("hover-district-outline",["==",["id"],""])),N=null}),e.current.addLayer({id:"district-labels",type:"symbol",source:"composite","source-layer":"qatar-districts-polygon",layout:{"text-field":["get",S],"text-size":14,"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-anchor":"center","text-justify":"center","symbol-placement":"point","symbol-avoid-edges":!0,"text-allow-overlap":!1,"text-ignore-placement":!1,"text-padding":50,"text-max-width":8},paint:{"text-color":"#000","text-halo-color":"#fff","text-halo-width":1.5}}),s(ZC([51.5,25.3])),s(SH(11))}),e.current.on("moveend",()=>{const D=e.current.getCenter(),k=e.current.getZoom();s(ZC([D.lng,D.lat])),s(SH(k))}),e.current.on("mouseenter",["district-sales-points","building-sales-points"],()=>{e.current.getCanvas().style.cursor="pointer"}),e.current.on("mouseleave",["district-sales-points","building-sales-points"],()=>{e.current.getCanvas().style.cursor=""}),e.current.on("zoom",()=>{const D=e.current.getZoom();n(D)}),()=>{e.current&&e.current.remove()}},[e,t,n]);const P=(N,D,k)=>{N.isStyleLoaded()&&(D>14?Object.keys(k).forEach(F=>{try{N.setLayoutProperty(F,"visibility","none")}catch(U){console.warn(`Layer not found or error setting visibility: ${F}`,U)}}):Object.entries(k).forEach(([F,U])=>{try{N.setLayoutProperty(F,"visibility",U?"visible":"none")}catch(B){console.warn(`Layer not found or error setting visibility: ${F}`,B)}}))};A.useEffect(()=>{if(!e.current||!e.current.isStyleLoaded())return;const N=D=>{var F;const k=(F=D.features)==null?void 0:F[0];k&&(e.current.setFilter("selected-district-outline",["==",["id"],k.id]),s(Gre({id:k.properties.ADM3_PCODE,name:k.properties.ADM3_AR,type:"district"})),r({isOpen:!0,type:"district-feature-popup",properties:k.properties}))};e.current.on("click","qatar-districts-polygon",N)},[e.current,s,r]),A.useEffect(()=>{var N;(N=e.current)!=null&&N.isStyleLoaded()&&(P(e.current,i,c),y<14&&c["qatar-districts-polygon"]&&o&&C(e.current,h),y<14&&c["qatar-districts-polygon"]&&!o&&e.current.setPaintProperty("qatar-districts-polygon","fill-color",["case",["boolean",["feature-state","hover"],!1],"hsl(44, 93%, 95%)","hsl(44, 93%, 76%)"]))},[(I=e.current)==null?void 0:I.isStyleLoaded(),i,c,h,o]),A.useEffect(()=>{if(!e.current)return;const N=e.current.getCenter(),D=e.current.getZoom();(Math.abs(N.lng-m[0])>1e-5||Math.abs(N.lat-m[1])>1e-5||Math.abs(D-y)>1e-5)&&e.current.flyTo({center:m,zoom:y})},[m,y])}function ryt({mapRef:e,terrainEnabled:t,buildingsEnabled:n}){A.useEffect(()=>{if(e.current){if(!e.current.isStyleLoaded()){e.current.once("style.load",()=>{t?r(e.current):i(e.current)});return}t?r(e.current):i(e.current)}},[t,e]);function r(s){s.getSource("terrain")||s.addSource("terrain",{type:"raster-dem",url:"mapbox://mapbox.terrain-rgb",tileSize:512}),s.setTerrain({source:"terrain",exaggeration:1.5}),s.easeTo({pitch:60,bearing:30,duration:2e3})}function i(s){s.setTerrain(null),s.easeTo({pitch:0,bearing:0,duration:2e3})}A.useEffect(()=>{e.current&&(n?e.current.getLayer("3d-buildings")||e.current.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["get","height"],"fill-extrusion-base":["get","min_height"],"fill-extrusion-opacity":.8}}):e.current.getLayer("3d-buildings")&&e.current.removeLayer("3d-buildings"))},[n,e])}function iyt({mapRef:e,currentZoom:t}){const[n,r]=A.useState([]),{activeToggles:i}=Ci(o=>({activeToggles:o.filters.activeToggles})),s=()=>{n.forEach(o=>o.remove()),r([])},c=o=>{const m=o.map(y=>{var P,I;const v=document.createElement("div");v.className="marker-container";const S=document.createElement("div");S.className="marker-circle";const C=document.createElement("div");return C.className="marker-label",C.innerText=((I=(P=y==null?void 0:y.properties)==null?void 0:P.transaction_count)==null?void 0:I.toString())||"N/A",v.appendChild(S),v.appendChild(C),new $0.Marker(v).setLngLat(y.geometry.coordinates)});m.forEach(y=>y.addTo(e.current)),r(m)},h=async()=>{var C;if(!e.current)return;const o=e.current.getBounds(),m=o.getSouthWest(),y=o.getNorthEast(),v=e.current.getZoom(),S=`http://localhost:3000/api/get_geojson_filterd_transactions?sw_lat=${m.lat}&sw_lng=${m.lng}&ne_lat=${y.lat}&ne_lng=${y.lng}&zoom_level=${v}`;try{const I=await(await fetch(S)).json();s(),(C=I==null?void 0:I.geo_json)!=null&&C.features&&c(I.geo_json.features)}catch(P){console.error("Error fetching markers:",P)}};return A.useEffect(()=>{e.current&&(i.sales?h():s())},[i.sales,e]),A.useEffect(()=>{if(!e.current)return;const o=()=>{i.sales&&h()};return e.current.on("zoomend",o),()=>{e.current&&e.current.off("zoomend",o)}},[e,i.sales]),A.useEffect(()=>{if(!e.current||!i.sales)return;const o=t<14;n.forEach(m=>{m.getElement().style.display=o?"block":"none"})},[t,i.sales,n,e]),null}function oyt({mapRef:e,onProjectMarkerClick:t,currentStyle:n}){const{i18n:r}=Zi(),i=ha(),[s,c]=A.useState(!1),h=A.useRef(null),o=A.useRef([]),{activeToggles:m,selectedFilters:y,selectedProject:v}=Ci(D=>({activeToggles:D.filters.activeToggles,selectedFilters:D.filters.selectedFilters,selectedProject:D.filters.selectedProject})),S=r.language,C=()=>{o.current.forEach(D=>D.remove()),o.current=[]},P=D=>{const k=[];D.forEach(F=>{let U="";F!=null&&F.count?U=`${S==="ar"?F.project_name_ar:F.project_name_en}: ${F.count}`||"N/A":U=(S==="ar"?F.building_name_ar:F.building_name_en)||"N/A";const B=document.createElement("div");B.className="marker-container";const z=document.createElement("div");z.className="marker-circle";const W=document.createElement("div");W.className="marker-label",W.innerText=U||"N/A",B.appendChild(z),B.appendChild(W);const Y=new $0.Marker(B).setLngLat([F.longitude,F.latitude]).addTo(e.current);B.addEventListener("click",K=>{if(K.stopPropagation(),F.count)return e.current.flyTo({center:[F.longitude,F.latitude],zoom:16,essential:!0}),null;t(F)}),k.push(Y)}),o.current.forEach(F=>F.remove()),o.current=k},I=async()=>{var K;if(!e.current)return;const D=e.current.getBounds(),k=D.getSouthWest(),F=D.getNorthEast(),U=Math.round(e.current.getZoom()),B=y.projects||{},z=new URLSearchParams;z.append("lat_ne",F.lat.toString()),z.append("lat_sw",k.lat.toString()),z.append("lng_ne",F.lng.toString()),z.append("lng_sw",k.lng.toString()),z.append("zoom_level",U.toString()),B.UnitType&&B.UnitType.length>0&&z.append("units_type_en",B.UnitType.join(",")),B.Bedrooms&&B.Bedrooms.length>0&&z.append("bedrooms_number",B.Bedrooms.join(",")),B.Price&&B.Price.min!=null&&B.Price.max!=null&&(z.append("price_from",B.Price.min.toString()),z.append("price_to",B.Price.max.toString())),B.FreeholdLeasehold&&B.FreeholdLeasehold.length>0&&(B.FreeholdLeasehold.includes("Freehold")&&z.append("freehold","true"),B.FreeholdLeasehold.includes("Leasehold")&&z.append("leasehold","true"));const W=localStorage.getItem("token");W&&(Ff.Authorization=`Bearer ${W}`);const Y=`https://az.api.aqarat.xmap.ai/projects/?${z.toString()}`;i(gQ("projects")),c(!0);try{const ee=await fetch(Y,{headers:Ff});if(!ee.ok)throw new Error(`Error: ${ee.status} ${ee.statusText}`);const re=await ee.json();(K=re==null?void 0:re.projects)!=null&&K.length?(i(LSe(re.projects)),P(re.projects)):C()}catch(ee){console.error("Error fetching project markers:",ee)}finally{c(!1),i(gQ(null))}},N=()=>{h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{I()},300)};return A.useEffect(()=>{e.current&&m.projects?N():C()},[m.projects,y.projects,e,n]),A.useEffect(()=>{if(e.current){const D=()=>{m.projects&&N()};return e.current.on("zoomend",D),()=>{e.current&&e.current.off("zoomend",D)}}},[e,m.projects,y.projects,n]),A.useEffect(()=>{e.current&&m.projects&&N()},[y.projects,m.projects,e]),A.useEffect(()=>{v&&e.current&&e.current.flyTo({center:v.coordinates,zoom:v.zoom,essential:!0})},[v,e]),null}function ayt({mapRef:e}){const{selectedDistrictCoordinates:t}=Ci(n=>({selectedDistrictCoordinates:n.filters.selectedDistrictCoordinates}));return A.useEffect(()=>{let n;return t&&e.current&&(e.current.flyTo({center:t,zoom:13,essential:!0}),n=new $0.Marker().setLngLat(t).addTo(e.current)),()=>{n&&n.remove()}},[t,e]),null}function syt(e){return Wo({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M497.408 898.56c-.08-.193-.272-.323-.385-.483l-91.92-143.664c-6.528-10.72-20.688-14.527-31.728-8.512l-8.193 5.04c-11.007 6-10.767 21.537-4.255 32.256l58.927 91.409c-5.024-1.104-10.096-2-15.056-3.296-103.184-26.993-190.495-96.832-239.535-191.6-46.336-89.52-55.04-191.695-24.512-287.743 30.512-96.048 99.775-174.464 189.295-220.784 15.248-7.888 21.2-26.64 13.312-41.856-7.872-15.264-26.64-21.231-41.855-13.327-104.272 53.952-184.4 145.28-219.969 257.152C45.982 485.008 56.11 604.033 110.078 708.29c57.136 110.336 158.832 191.664 279.024 223.136 1.36.352 2.784.56 4.16.911l-81.311 41.233c-11.008 6.032-14.657 19.631-8.128 30.351l3.152 8.176c6.56 10.72 17.84 14.527 28.815 8.512L484.622 944.4c.193-.128.385-.096.578-.224l9.984-5.456c5.52-3.024 9.168-7.969 10.624-13.505 1.52-5.52.815-11.663-2.448-16.991zm416.496-577.747c-57.056-110.304-155.586-191.63-275.762-223.118-8.56-2.24-17.311-3.984-26.048-5.712l79.824-40.48c11.008-6.033 17.568-19.632 11.04-30.369l-3.153-8.16c-6.56-10.736-20.752-14.528-31.727-8.528L519.262 80.654c-.176.112-.384.08-.577.208l-9.967 5.472c-5.537 3.04-9.168 7.967-10.624 13.503-1.52 5.52-.816 11.648 2.464 16.976l5.92 9.712c.096.192.272.305.384.497l91.92 143.648c6.512 10.736 20.688 14.528 31.712 8.513l7.216-5.025c11.008-6 11.727-21.536 5.231-32.24l-59.2-91.856c13.008 2 25.968 4.416 38.624 7.76 103.232 27.04 187.393 96.864 236.4 191.568 46.32 89.519 55.024 191.695 24.48 287.728-30.511 96.047-96.655 174.448-186.174 220.816-15.233 7.887-21.168 26.607-13.28 41.87 5.519 10.64 16.335 16.768 27.599 16.768 4.8 0 9.664-1.12 14.272-3.488 104.272-53.936 181.248-145.279 216.816-257.119 35.536-111.904 25.393-230.929-28.574-335.152z"},child:[]}]})(e)}function lyt({mapRef:e,currentStyle:t,setCurrentStyle:n,backgroundImage:r,setBackgroundImage:i,MAPBOX_URLS:s}){const{i18n:c}=Zi(),h=()=>{e.current&&e.current.zoomIn({duration:300})},o=()=>{e.current&&e.current.zoomOut({duration:300})},m=()=>{if(!e.current)return;const v=e.current.getCenter(),S=e.current.getZoom(),C=e.current.getPitch(),P=e.current.getBearing(),I=t===s.street_en||t===s.street_ar;let N;I?(N=c.language==="ar"?s.satellite_ar:s.satellite_en,i("https://aqarat-web-assets.s3.ap-northeast-1.amazonaws.com/map-style-street.png")):(N=c.language==="ar"?s.street_ar:s.street_en,i("https://aqarat-web-assets.s3.ap-northeast-1.amazonaws.com/map-style-satellite.png")),e.current.setStyle(N),e.current.once("style.load",()=>{e.current.jumpTo({center:v,zoom:S,pitch:C,bearing:P})}),n(N)},y=c.language==="ar";return te.jsxs("div",{className:`absolute bottom-5 z-10 flex flex-row items-center ${y?"left-4 flex-row-reverse":"right-4"}`,children:[te.jsxs("div",{className:"zoom-control",style:{width:"40px",height:"80px",background:"white",borderRadius:"10px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:"5px"},children:[te.jsx("button",{onClick:h,style:{height:"100%",background:"transparent",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"bold",color:"blue"},children:"+"}),te.jsx("div",{style:{width:"100%",height:"0.5px",background:"lightgray",margin:"3px 0"}}),te.jsx("button",{onClick:o,style:{height:"100%",background:"transparent",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"bold",color:"blue"},children:"−"})]}),te.jsx("div",{className:"style-toggle",style:{padding:"3px",margin:"5px",backgroundColor:"white",borderRadius:"15px",display:"inline-block",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},children:te.jsx("button",{style:{width:"100px",height:"80px",backgroundImage:`url(${r})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"10px",display:"flex",justifyContent:"center",alignItems:"center",border:"none",cursor:"pointer",position:"relative"},onClick:m,children:te.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"white",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",zIndex:1},children:te.jsx(syt,{style:{fontSize:"20px",color:"black"}})})})})]})}const Nh={street_en:"mapbox://styles/mobatran/cm4vrw1gz001u01sfelwva6fa",street_ar:"mapbox://styles/mobatran/cm6yph53d01g001pb64smb63y",satellite_en:"mapbox://styles/mobatran/cm5f7tola00qj01s91fvh9cwm",satellite_ar:"mapbox://styles/mobatran/cm6yri8ug00mq01s140ck7u5y"},cyt=e=>e==="ar"?Nh.street_ar:Nh.street_en;function uyt(){const e=A.useRef(null),{i18n:t}=Zi(),n=ha(),[r,i]=A.useState(()=>cyt(t.language)),[s,c]=A.useState(14);Ci(v=>v.mapData.popupInfo);const h=Ci(v=>v.mapData.selectedPanel),[o,m]=A.useState("https://aqarat-web-assets.s3.ap-northeast-1.amazonaws.com/map-style-satellite.png");return A.useEffect(()=>{$0.accessToken="pk.eyJ1IjoibW9iYXRyYW4iLCJhIjoiY2xnZXE5dXJqMDk4dTNscHNra3hxNXR3eSJ9.3OPK_mJ23HcRqGpS47n20Q",$0.setRTLTextPlugin("https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.3.0/mapbox-gl-rtl-text.js",null,!0)},[]),A.useEffect(()=>{h!=="project-popup"&&h!=="district-feature-popup"&&n($Se())},[h,n]),A.useEffect(()=>{const v=r===Nh.street_en||r===Nh.street_ar;i(v?t.language==="ar"?Nh.street_ar:Nh.street_en:t.language==="ar"?Nh.satellite_ar:Nh.satellite_en)},[t.language,r]),nyt({mapRef:e,currentStyle:r,setCurrentZoom:c,setPopupInfo:v=>{n(_H(v)),n(ew("district-feature-popup"))},currentZoom:s}),ryt({mapRef:e,terrainEnabled:Ci(v=>v.mapView.terrainEnabled),buildingsEnabled:Ci(v=>v.mapView.buildingsEnabled)}),iyt({mapRef:e,currentZoom:s}),oyt({mapRef:e,onProjectMarkerClick:v=>{n(Gre({id:v.id,name:v.building_name_en,type:"project"})),n(_H({isOpen:!0,type:"project-popup",properties:v})),n(ew("project-popup"))},currentStyle:r}),ayt({mapRef:e}),te.jsxs(te.Fragment,{children:[te.jsx("div",{id:"map",style:{position:"absolute",height:"100%",width:"100%"}}),te.jsx(tyt,{}),te.jsx(lgt,{}),te.jsx(lyt,{mapRef:e,currentStyle:r,setCurrentStyle:i,backgroundImage:o,setBackgroundImage:m,MAPBOX_URLS:Nh}),te.jsx(RDe,{})]})}function Xhe(e,t){return function(){return e.apply(t,arguments)}}const{toString:dyt}=Object.prototype,{getPrototypeOf:AF}=Object,$4=(e=>t=>{const n=dyt.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ad=e=>(e=e.toLowerCase(),t=>$4(t)===e),j4=e=>t=>typeof t===e,{isArray:Xb}=Array,US=j4("undefined");function hyt(e){return e!==null&&!US(e)&&e.constructor!==null&&!US(e.constructor)&&Cc(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Yhe=ad("ArrayBuffer");function pyt(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Yhe(e.buffer),t}const fyt=j4("string"),Cc=j4("function"),Jhe=j4("number"),z4=e=>e!==null&&typeof e=="object",myt=e=>e===!0||e===!1,fE=e=>{if($4(e)!=="object")return!1;const t=AF(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},gyt=ad("Date"),yyt=ad("File"),vyt=ad("Blob"),byt=ad("FileList"),_yt=e=>z4(e)&&Cc(e.pipe),xyt=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Cc(e.append)&&((t=$4(e))==="formdata"||t==="object"&&Cc(e.toString)&&e.toString()==="[object FormData]"))},wyt=ad("URLSearchParams"),[Syt,Ayt,Cyt,Myt]=["ReadableStream","Request","Response","Headers"].map(ad),Eyt=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function EA(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Xb(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),c=s.length;let h;for(r=0;r<c;r++)h=s[r],t.call(null,e[h],h,e)}}function Qhe(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const wg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,epe=e=>!US(e)&&e!==wg;function bD(){const{caseless:e}=epe(this)&&this||{},t={},n=(r,i)=>{const s=e&&Qhe(t,i)||i;fE(t[s])&&fE(r)?t[s]=bD(t[s],r):fE(r)?t[s]=bD({},r):Xb(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&EA(arguments[r],n);return t}const Tyt=(e,t,n,{allOwnKeys:r}={})=>(EA(t,(i,s)=>{n&&Cc(i)?e[s]=Xhe(i,n):e[s]=i},{allOwnKeys:r}),e),Pyt=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Iyt=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Oyt=(e,t,n,r)=>{let i,s,c;const h={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)c=i[s],(!r||r(c,e,t))&&!h[c]&&(t[c]=e[c],h[c]=!0);e=n!==!1&&AF(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kyt=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Nyt=e=>{if(!e)return null;if(Xb(e))return e;let t=e.length;if(!Jhe(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ryt=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&AF(Uint8Array)),Dyt=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},Lyt=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Fyt=ad("HTMLFormElement"),$yt=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),vQ=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),jyt=ad("RegExp"),tpe=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};EA(n,(i,s)=>{let c;(c=t(i,s,e))!==!1&&(r[s]=c||i)}),Object.defineProperties(e,r)},zyt=e=>{tpe(e,(t,n)=>{if(Cc(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Cc(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Byt=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Xb(e)?r(e):r(String(e).split(t)),n},Zyt=()=>{},Uyt=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,dk="abcdefghijklmnopqrstuvwxyz",bQ="0123456789",npe={DIGIT:bQ,ALPHA:dk,ALPHA_DIGIT:dk+dk.toUpperCase()+bQ},Hyt=(e=16,t=npe.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Vyt(e){return!!(e&&Cc(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Wyt=e=>{const t=new Array(10),n=(r,i)=>{if(z4(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=Xb(r)?[]:{};return EA(r,(c,h)=>{const o=n(c,i+1);!US(o)&&(s[h]=o)}),t[i]=void 0,s}}return r};return n(e,0)},Gyt=ad("AsyncFunction"),Kyt=e=>e&&(z4(e)||Cc(e))&&Cc(e.then)&&Cc(e.catch),rpe=((e,t)=>e?setImmediate:t?((n,r)=>(wg.addEventListener("message",({source:i,data:s})=>{i===wg&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),wg.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Cc(wg.postMessage)),qyt=typeof queueMicrotask<"u"?queueMicrotask.bind(wg):typeof process<"u"&&process.nextTick||rpe,sn={isArray:Xb,isArrayBuffer:Yhe,isBuffer:hyt,isFormData:xyt,isArrayBufferView:pyt,isString:fyt,isNumber:Jhe,isBoolean:myt,isObject:z4,isPlainObject:fE,isReadableStream:Syt,isRequest:Ayt,isResponse:Cyt,isHeaders:Myt,isUndefined:US,isDate:gyt,isFile:yyt,isBlob:vyt,isRegExp:jyt,isFunction:Cc,isStream:_yt,isURLSearchParams:wyt,isTypedArray:Ryt,isFileList:byt,forEach:EA,merge:bD,extend:Tyt,trim:Eyt,stripBOM:Pyt,inherits:Iyt,toFlatObject:Oyt,kindOf:$4,kindOfTest:ad,endsWith:kyt,toArray:Nyt,forEachEntry:Dyt,matchAll:Lyt,isHTMLForm:Fyt,hasOwnProperty:vQ,hasOwnProp:vQ,reduceDescriptors:tpe,freezeMethods:zyt,toObjectSet:Byt,toCamelCase:$yt,noop:Zyt,toFiniteNumber:Uyt,findKey:Qhe,global:wg,isContextDefined:epe,ALPHABET:npe,generateString:Hyt,isSpecCompliantForm:Vyt,toJSONObject:Wyt,isAsyncFn:Gyt,isThenable:Kyt,setImmediate:rpe,asap:qyt};function xi(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}sn.inherits(xi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:sn.toJSONObject(this.config),code:this.code,status:this.status}}});const ipe=xi.prototype,ope={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ope[e]={value:e}});Object.defineProperties(xi,ope);Object.defineProperty(ipe,"isAxiosError",{value:!0});xi.from=(e,t,n,r,i,s)=>{const c=Object.create(ipe);return sn.toFlatObject(e,c,function(o){return o!==Error.prototype},h=>h!=="isAxiosError"),xi.call(c,e.message,t,n,r,i),c.cause=e,c.name=e.name,s&&Object.assign(c,s),c};const Xyt=null;function _D(e){return sn.isPlainObject(e)||sn.isArray(e)}function ape(e){return sn.endsWith(e,"[]")?e.slice(0,-2):e}function _Q(e,t,n){return e?e.concat(t).map(function(i,s){return i=ape(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function Yyt(e){return sn.isArray(e)&&!e.some(_D)}const Jyt=sn.toFlatObject(sn,{},null,function(t){return/^is[A-Z]/.test(t)});function B4(e,t,n){if(!sn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=sn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,N){return!sn.isUndefined(N[I])});const r=n.metaTokens,i=n.visitor||y,s=n.dots,c=n.indexes,o=(n.Blob||typeof Blob<"u"&&Blob)&&sn.isSpecCompliantForm(t);if(!sn.isFunction(i))throw new TypeError("visitor must be a function");function m(P){if(P===null)return"";if(sn.isDate(P))return P.toISOString();if(!o&&sn.isBlob(P))throw new xi("Blob is not supported. Use a Buffer instead.");return sn.isArrayBuffer(P)||sn.isTypedArray(P)?o&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function y(P,I,N){let D=P;if(P&&!N&&typeof P=="object"){if(sn.endsWith(I,"{}"))I=r?I:I.slice(0,-2),P=JSON.stringify(P);else if(sn.isArray(P)&&Yyt(P)||(sn.isFileList(P)||sn.endsWith(I,"[]"))&&(D=sn.toArray(P)))return I=ape(I),D.forEach(function(F,U){!(sn.isUndefined(F)||F===null)&&t.append(c===!0?_Q([I],U,s):c===null?I:I+"[]",m(F))}),!1}return _D(P)?!0:(t.append(_Q(N,I,s),m(P)),!1)}const v=[],S=Object.assign(Jyt,{defaultVisitor:y,convertValue:m,isVisitable:_D});function C(P,I){if(!sn.isUndefined(P)){if(v.indexOf(P)!==-1)throw Error("Circular reference detected in "+I.join("."));v.push(P),sn.forEach(P,function(D,k){(!(sn.isUndefined(D)||D===null)&&i.call(t,D,sn.isString(k)?k.trim():k,I,S))===!0&&C(D,I?I.concat(k):[k])}),v.pop()}}if(!sn.isObject(e))throw new TypeError("data must be an object");return C(e),t}function xQ(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function CF(e,t){this._pairs=[],e&&B4(e,this,t)}const spe=CF.prototype;spe.append=function(t,n){this._pairs.push([t,n])};spe.toString=function(t){const n=t?function(r){return t.call(this,r,xQ)}:xQ;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Qyt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lpe(e,t,n){if(!t)return e;const r=n&&n.encode||Qyt,i=n&&n.serialize;let s;if(i?s=i(t,n):s=sn.isURLSearchParams(t)?t.toString():new CF(t,n).toString(r),s){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class wQ{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){sn.forEach(this.handlers,function(r){r!==null&&t(r)})}}const cpe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},evt=typeof URLSearchParams<"u"?URLSearchParams:CF,tvt=typeof FormData<"u"?FormData:null,nvt=typeof Blob<"u"?Blob:null,rvt={isBrowser:!0,classes:{URLSearchParams:evt,FormData:tvt,Blob:nvt},protocols:["http","https","file","blob","url","data"]},MF=typeof window<"u"&&typeof document<"u",xD=typeof navigator=="object"&&navigator||void 0,ivt=MF&&(!xD||["ReactNative","NativeScript","NS"].indexOf(xD.product)<0),ovt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",avt=MF&&window.location.href||"http://localhost",svt=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:MF,hasStandardBrowserEnv:ivt,hasStandardBrowserWebWorkerEnv:ovt,navigator:xD,origin:avt},Symbol.toStringTag,{value:"Module"})),Zl={...svt,...rvt};function lvt(e,t){return B4(e,new Zl.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Zl.isNode&&sn.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function cvt(e){return sn.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function uvt(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function upe(e){function t(n,r,i,s){let c=n[s++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),o=s>=n.length;return c=!c&&sn.isArray(i)?i.length:c,o?(sn.hasOwnProp(i,c)?i[c]=[i[c],r]:i[c]=r,!h):((!i[c]||!sn.isObject(i[c]))&&(i[c]=[]),t(n,r,i[c],s)&&sn.isArray(i[c])&&(i[c]=uvt(i[c])),!h)}if(sn.isFormData(e)&&sn.isFunction(e.entries)){const n={};return sn.forEachEntry(e,(r,i)=>{t(cvt(r),i,n,0)}),n}return null}function dvt(e,t,n){if(sn.isString(e))try{return(t||JSON.parse)(e),sn.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const TA={transitional:cpe,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=sn.isObject(t);if(s&&sn.isHTMLForm(t)&&(t=new FormData(t)),sn.isFormData(t))return i?JSON.stringify(upe(t)):t;if(sn.isArrayBuffer(t)||sn.isBuffer(t)||sn.isStream(t)||sn.isFile(t)||sn.isBlob(t)||sn.isReadableStream(t))return t;if(sn.isArrayBufferView(t))return t.buffer;if(sn.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let h;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return lvt(t,this.formSerializer).toString();if((h=sn.isFileList(t))||r.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return B4(h?{"files[]":t}:t,o&&new o,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),dvt(t)):t}],transformResponse:[function(t){const n=this.transitional||TA.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(sn.isResponse(t)||sn.isReadableStream(t))return t;if(t&&sn.isString(t)&&(r&&!this.responseType||i)){const c=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(h){if(c)throw h.name==="SyntaxError"?xi.from(h,xi.ERR_BAD_RESPONSE,this,null,this.response):h}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zl.classes.FormData,Blob:Zl.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};sn.forEach(["delete","get","head","post","put","patch"],e=>{TA.headers[e]={}});const hvt=sn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pvt=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(c){i=c.indexOf(":"),n=c.substring(0,i).trim().toLowerCase(),r=c.substring(i+1).trim(),!(!n||t[n]&&hvt[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},SQ=Symbol("internals");function kx(e){return e&&String(e).trim().toLowerCase()}function mE(e){return e===!1||e==null?e:sn.isArray(e)?e.map(mE):String(e)}function fvt(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const mvt=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function hk(e,t,n,r,i){if(sn.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!sn.isString(t)){if(sn.isString(r))return t.indexOf(r)!==-1;if(sn.isRegExp(r))return r.test(t)}}function gvt(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function yvt(e,t){const n=sn.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,c){return this[r].call(this,t,i,s,c)},configurable:!0})})}let Ul=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(h,o,m){const y=kx(o);if(!y)throw new Error("header name must be a non-empty string");const v=sn.findKey(i,y);(!v||i[v]===void 0||m===!0||m===void 0&&i[v]!==!1)&&(i[v||o]=mE(h))}const c=(h,o)=>sn.forEach(h,(m,y)=>s(m,y,o));if(sn.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(sn.isString(t)&&(t=t.trim())&&!mvt(t))c(pvt(t),n);else if(sn.isHeaders(t))for(const[h,o]of t.entries())s(o,h,r);else t!=null&&s(n,t,r);return this}get(t,n){if(t=kx(t),t){const r=sn.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return fvt(i);if(sn.isFunction(n))return n.call(this,i,r);if(sn.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=kx(t),t){const r=sn.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||hk(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(c){if(c=kx(c),c){const h=sn.findKey(r,c);h&&(!n||hk(r,r[h],h,n))&&(delete r[h],i=!0)}}return sn.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||hk(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return sn.forEach(this,(i,s)=>{const c=sn.findKey(r,s);if(c){n[c]=mE(i),delete n[s];return}const h=t?gvt(s):String(s).trim();h!==s&&delete n[s],n[h]=mE(i),r[h]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return sn.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&sn.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[SQ]=this[SQ]={accessors:{}}).accessors,i=this.prototype;function s(c){const h=kx(c);r[h]||(yvt(i,c),r[h]=!0)}return sn.isArray(t)?t.forEach(s):s(t),this}};Ul.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);sn.reduceDescriptors(Ul.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});sn.freezeMethods(Ul);function pk(e,t){const n=this||TA,r=t||n,i=Ul.from(r.headers);let s=r.data;return sn.forEach(e,function(h){s=h.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function dpe(e){return!!(e&&e.__CANCEL__)}function Yb(e,t,n){xi.call(this,e??"canceled",xi.ERR_CANCELED,t,n),this.name="CanceledError"}sn.inherits(Yb,xi,{__CANCEL__:!0});function hpe(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new xi("Request failed with status code "+n.status,[xi.ERR_BAD_REQUEST,xi.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function vvt(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function bvt(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,c;return t=t!==void 0?t:1e3,function(o){const m=Date.now(),y=r[s];c||(c=m),n[i]=o,r[i]=m;let v=s,S=0;for(;v!==i;)S+=n[v++],v=v%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),m-c<t)return;const C=y&&m-y;return C?Math.round(S*1e3/C):void 0}}function _vt(e,t){let n=0,r=1e3/t,i,s;const c=(m,y=Date.now())=>{n=y,i=null,s&&(clearTimeout(s),s=null),e.apply(null,m)};return[(...m)=>{const y=Date.now(),v=y-n;v>=r?c(m,y):(i=m,s||(s=setTimeout(()=>{s=null,c(i)},r-v)))},()=>i&&c(i)]}const EP=(e,t,n=3)=>{let r=0;const i=bvt(50,250);return _vt(s=>{const c=s.loaded,h=s.lengthComputable?s.total:void 0,o=c-r,m=i(o),y=c<=h;r=c;const v={loaded:c,total:h,progress:h?c/h:void 0,bytes:o,rate:m||void 0,estimated:m&&h&&y?(h-c)/m:void 0,event:s,lengthComputable:h!=null,[t?"download":"upload"]:!0};e(v)},n)},AQ=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},CQ=e=>(...t)=>sn.asap(()=>e(...t)),xvt=Zl.hasStandardBrowserEnv?function(){const t=Zl.navigator&&/(msie|trident)/i.test(Zl.navigator.userAgent),n=document.createElement("a");let r;function i(s){let c=s;return t&&(n.setAttribute("href",c),c=n.href),n.setAttribute("href",c),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(c){const h=sn.isString(c)?i(c):c;return h.protocol===r.protocol&&h.host===r.host}}():function(){return function(){return!0}}(),wvt=Zl.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const c=[e+"="+encodeURIComponent(t)];sn.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),sn.isString(r)&&c.push("path="+r),sn.isString(i)&&c.push("domain="+i),s===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Svt(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Avt(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ppe(e,t){return e&&!Svt(t)?Avt(e,t):t}const MQ=e=>e instanceof Ul?{...e}:e;function Kg(e,t){t=t||{};const n={};function r(m,y,v){return sn.isPlainObject(m)&&sn.isPlainObject(y)?sn.merge.call({caseless:v},m,y):sn.isPlainObject(y)?sn.merge({},y):sn.isArray(y)?y.slice():y}function i(m,y,v){if(sn.isUndefined(y)){if(!sn.isUndefined(m))return r(void 0,m,v)}else return r(m,y,v)}function s(m,y){if(!sn.isUndefined(y))return r(void 0,y)}function c(m,y){if(sn.isUndefined(y)){if(!sn.isUndefined(m))return r(void 0,m)}else return r(void 0,y)}function h(m,y,v){if(v in t)return r(m,y);if(v in e)return r(void 0,m)}const o={url:s,method:s,data:s,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(m,y)=>i(MQ(m),MQ(y),!0)};return sn.forEach(Object.keys(Object.assign({},e,t)),function(y){const v=o[y]||i,S=v(e[y],t[y],y);sn.isUndefined(S)&&v!==h||(n[y]=S)}),n}const fpe=e=>{const t=Kg({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:c,auth:h}=t;t.headers=c=Ul.from(c),t.url=lpe(ppe(t.baseURL,t.url),e.params,e.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let o;if(sn.isFormData(n)){if(Zl.hasStandardBrowserEnv||Zl.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((o=c.getContentType())!==!1){const[m,...y]=o?o.split(";").map(v=>v.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...y].join("; "))}}if(Zl.hasStandardBrowserEnv&&(r&&sn.isFunction(r)&&(r=r(t)),r||r!==!1&&xvt(t.url))){const m=i&&s&&wvt.read(s);m&&c.set(i,m)}return t},Cvt=typeof XMLHttpRequest<"u",Mvt=Cvt&&function(e){return new Promise(function(n,r){const i=fpe(e);let s=i.data;const c=Ul.from(i.headers).normalize();let{responseType:h,onUploadProgress:o,onDownloadProgress:m}=i,y,v,S,C,P;function I(){C&&C(),P&&P(),i.cancelToken&&i.cancelToken.unsubscribe(y),i.signal&&i.signal.removeEventListener("abort",y)}let N=new XMLHttpRequest;N.open(i.method.toUpperCase(),i.url,!0),N.timeout=i.timeout;function D(){if(!N)return;const F=Ul.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),B={data:!h||h==="text"||h==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:F,config:e,request:N};hpe(function(W){n(W),I()},function(W){r(W),I()},B),N=null}"onloadend"in N?N.onloadend=D:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(D)},N.onabort=function(){N&&(r(new xi("Request aborted",xi.ECONNABORTED,e,N)),N=null)},N.onerror=function(){r(new xi("Network Error",xi.ERR_NETWORK,e,N)),N=null},N.ontimeout=function(){let U=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const B=i.transitional||cpe;i.timeoutErrorMessage&&(U=i.timeoutErrorMessage),r(new xi(U,B.clarifyTimeoutError?xi.ETIMEDOUT:xi.ECONNABORTED,e,N)),N=null},s===void 0&&c.setContentType(null),"setRequestHeader"in N&&sn.forEach(c.toJSON(),function(U,B){N.setRequestHeader(B,U)}),sn.isUndefined(i.withCredentials)||(N.withCredentials=!!i.withCredentials),h&&h!=="json"&&(N.responseType=i.responseType),m&&([S,P]=EP(m,!0),N.addEventListener("progress",S)),o&&N.upload&&([v,C]=EP(o),N.upload.addEventListener("progress",v),N.upload.addEventListener("loadend",C)),(i.cancelToken||i.signal)&&(y=F=>{N&&(r(!F||F.type?new Yb(null,e,N):F),N.abort(),N=null)},i.cancelToken&&i.cancelToken.subscribe(y),i.signal&&(i.signal.aborted?y():i.signal.addEventListener("abort",y)));const k=vvt(i.url);if(k&&Zl.protocols.indexOf(k)===-1){r(new xi("Unsupported protocol "+k+":",xi.ERR_BAD_REQUEST,e));return}N.send(s||null)})},Evt=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(m){if(!i){i=!0,h();const y=m instanceof Error?m:this.reason;r.abort(y instanceof xi?y:new Yb(y instanceof Error?y.message:y))}};let c=t&&setTimeout(()=>{c=null,s(new xi(`timeout ${t} of ms exceeded`,xi.ETIMEDOUT))},t);const h=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(s):m.removeEventListener("abort",s)}),e=null)};e.forEach(m=>m.addEventListener("abort",s));const{signal:o}=r;return o.unsubscribe=()=>sn.asap(h),o}},Tvt=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},Pvt=async function*(e,t){for await(const n of Ivt(e))yield*Tvt(n,t)},Ivt=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},EQ=(e,t,n,r)=>{const i=Pvt(e,t);let s=0,c,h=o=>{c||(c=!0,r&&r(o))};return new ReadableStream({async pull(o){try{const{done:m,value:y}=await i.next();if(m){h(),o.close();return}let v=y.byteLength;if(n){let S=s+=v;n(S)}o.enqueue(new Uint8Array(y))}catch(m){throw h(m),m}},cancel(o){return h(o),i.return()}},{highWaterMark:2})},Z4=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mpe=Z4&&typeof ReadableStream=="function",Ovt=Z4&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),gpe=(e,...t)=>{try{return!!e(...t)}catch{return!1}},kvt=mpe&&gpe(()=>{let e=!1;const t=new Request(Zl.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),TQ=64*1024,wD=mpe&&gpe(()=>sn.isReadableStream(new Response("").body)),TP={stream:wD&&(e=>e.body)};Z4&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!TP[t]&&(TP[t]=sn.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new xi(`Response type '${t}' is not supported`,xi.ERR_NOT_SUPPORT,r)})})})(new Response);const Nvt=async e=>{if(e==null)return 0;if(sn.isBlob(e))return e.size;if(sn.isSpecCompliantForm(e))return(await new Request(Zl.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(sn.isArrayBufferView(e)||sn.isArrayBuffer(e))return e.byteLength;if(sn.isURLSearchParams(e)&&(e=e+""),sn.isString(e))return(await Ovt(e)).byteLength},Rvt=async(e,t)=>{const n=sn.toFiniteNumber(e.getContentLength());return n??Nvt(t)},Dvt=Z4&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:c,onDownloadProgress:h,onUploadProgress:o,responseType:m,headers:y,withCredentials:v="same-origin",fetchOptions:S}=fpe(e);m=m?(m+"").toLowerCase():"text";let C=Evt([i,s&&s.toAbortSignal()],c),P;const I=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let N;try{if(o&&kvt&&n!=="get"&&n!=="head"&&(N=await Rvt(y,r))!==0){let B=new Request(t,{method:"POST",body:r,duplex:"half"}),z;if(sn.isFormData(r)&&(z=B.headers.get("content-type"))&&y.setContentType(z),B.body){const[W,Y]=AQ(N,EP(CQ(o)));r=EQ(B.body,TQ,W,Y)}}sn.isString(v)||(v=v?"include":"omit");const D="credentials"in Request.prototype;P=new Request(t,{...S,signal:C,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:r,duplex:"half",credentials:D?v:void 0});let k=await fetch(P);const F=wD&&(m==="stream"||m==="response");if(wD&&(h||F&&I)){const B={};["status","statusText","headers"].forEach(K=>{B[K]=k[K]});const z=sn.toFiniteNumber(k.headers.get("content-length")),[W,Y]=h&&AQ(z,EP(CQ(h),!0))||[];k=new Response(EQ(k.body,TQ,W,()=>{Y&&Y(),I&&I()}),B)}m=m||"text";let U=await TP[sn.findKey(TP,m)||"text"](k,e);return!F&&I&&I(),await new Promise((B,z)=>{hpe(B,z,{data:U,headers:Ul.from(k.headers),status:k.status,statusText:k.statusText,config:e,request:P})})}catch(D){throw I&&I(),D&&D.name==="TypeError"&&/fetch/i.test(D.message)?Object.assign(new xi("Network Error",xi.ERR_NETWORK,e,P),{cause:D.cause||D}):xi.from(D,D&&D.code,e,P)}}),SD={http:Xyt,xhr:Mvt,fetch:Dvt};sn.forEach(SD,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const PQ=e=>`- ${e}`,Lvt=e=>sn.isFunction(e)||e===null||e===!1,ype={getAdapter:e=>{e=sn.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){n=e[s];let c;if(r=n,!Lvt(n)&&(r=SD[(c=String(n)).toLowerCase()],r===void 0))throw new xi(`Unknown adapter '${c}'`);if(r)break;i[c||"#"+s]=r}if(!r){const s=Object.entries(i).map(([h,o])=>`adapter ${h} `+(o===!1?"is not supported by the environment":"is not available in the build"));let c=t?s.length>1?`since :
`+s.map(PQ).join(`
`):" "+PQ(s[0]):"as no adapter specified";throw new xi("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:SD};function fk(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Yb(null,e)}function IQ(e){return fk(e),e.headers=Ul.from(e.headers),e.data=pk.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ype.getAdapter(e.adapter||TA.adapter)(e).then(function(r){return fk(e),r.data=pk.call(e,e.transformResponse,r),r.headers=Ul.from(r.headers),r},function(r){return dpe(r)||(fk(e),r&&r.response&&(r.response.data=pk.call(e,e.transformResponse,r.response),r.response.headers=Ul.from(r.response.headers))),Promise.reject(r)})}const vpe="1.7.7",EF={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{EF[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const OQ={};EF.transitional=function(t,n,r){function i(s,c){return"[Axios v"+vpe+"] Transitional option '"+s+"'"+c+(r?". "+r:"")}return(s,c,h)=>{if(t===!1)throw new xi(i(c," has been removed"+(n?" in "+n:"")),xi.ERR_DEPRECATED);return n&&!OQ[c]&&(OQ[c]=!0,console.warn(i(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,c,h):!0}};function Fvt(e,t,n){if(typeof e!="object")throw new xi("options must be an object",xi.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],c=t[s];if(c){const h=e[s],o=h===void 0||c(h,s,e);if(o!==!0)throw new xi("option "+s+" must be "+o,xi.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new xi("Unknown option "+s,xi.ERR_BAD_OPTION)}}const AD={assertOptions:Fvt,validators:EF},Yp=AD.validators;let Ng=class{constructor(t){this.defaults=t,this.interceptors={request:new wQ,response:new wQ}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Kg(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&AD.assertOptions(r,{silentJSONParsing:Yp.transitional(Yp.boolean),forcedJSONParsing:Yp.transitional(Yp.boolean),clarifyTimeoutError:Yp.transitional(Yp.boolean)},!1),i!=null&&(sn.isFunction(i)?n.paramsSerializer={serialize:i}:AD.assertOptions(i,{encode:Yp.function,serialize:Yp.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=s&&sn.merge(s.common,s[n.method]);s&&sn.forEach(["delete","get","head","post","put","patch","common"],P=>{delete s[P]}),n.headers=Ul.concat(c,s);const h=[];let o=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(n)===!1||(o=o&&I.synchronous,h.unshift(I.fulfilled,I.rejected))});const m=[];this.interceptors.response.forEach(function(I){m.push(I.fulfilled,I.rejected)});let y,v=0,S;if(!o){const P=[IQ.bind(this),void 0];for(P.unshift.apply(P,h),P.push.apply(P,m),S=P.length,y=Promise.resolve(n);v<S;)y=y.then(P[v++],P[v++]);return y}S=h.length;let C=n;for(v=0;v<S;){const P=h[v++],I=h[v++];try{C=P(C)}catch(N){I.call(this,N);break}}try{y=IQ.call(this,C)}catch(P){return Promise.reject(P)}for(v=0,S=m.length;v<S;)y=y.then(m[v++],m[v++]);return y}getUri(t){t=Kg(this.defaults,t);const n=ppe(t.baseURL,t.url);return lpe(n,t.params,t.paramsSerializer)}};sn.forEach(["delete","get","head","options"],function(t){Ng.prototype[t]=function(n,r){return this.request(Kg(r||{},{method:t,url:n,data:(r||{}).data}))}});sn.forEach(["post","put","patch"],function(t){function n(r){return function(s,c,h){return this.request(Kg(h||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:c}))}}Ng.prototype[t]=n(),Ng.prototype[t+"Form"]=n(!0)});let $vt=class bpe{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const c=new Promise(h=>{r.subscribe(h),s=h}).then(i);return c.cancel=function(){r.unsubscribe(s)},c},t(function(s,c,h){r.reason||(r.reason=new Yb(s,c,h),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new bpe(function(i){t=i}),cancel:t}}};function jvt(e){return function(n){return e.apply(null,n)}}function zvt(e){return sn.isObject(e)&&e.isAxiosError===!0}const CD={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(CD).forEach(([e,t])=>{CD[t]=e});function _pe(e){const t=new Ng(e),n=Xhe(Ng.prototype.request,t);return sn.extend(n,Ng.prototype,t,{allOwnKeys:!0}),sn.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return _pe(Kg(e,i))},n}const Da=_pe(TA);Da.Axios=Ng;Da.CanceledError=Yb;Da.CancelToken=$vt;Da.isCancel=dpe;Da.VERSION=vpe;Da.toFormData=B4;Da.AxiosError=xi;Da.Cancel=Da.CanceledError;Da.all=function(t){return Promise.all(t)};Da.spread=jvt;Da.isAxiosError=zvt;Da.mergeConfig=Kg;Da.AxiosHeaders=Ul;Da.formToJSON=e=>upe(sn.isHTMLForm(e)?new FormData(e):e);Da.getAdapter=ype.getAdapter;Da.HttpStatusCode=CD;Da.default=Da;const{Axios:Ixt,AxiosError:Oxt,CanceledError:kxt,isCancel:Nxt,CancelToken:Rxt,VERSION:Dxt,all:Lxt,Cancel:Fxt,isAxiosError:$xt,spread:jxt,toFormData:zxt,AxiosHeaders:Bxt,HttpStatusCode:Zxt,formToJSON:Uxt,getAdapter:Hxt,mergeConfig:Vxt}=Da,gE=vSe("privileges/fetchPrivileges",async(e,{rejectWithValue:t})=>{var n;try{const r={Accept:"application/json"};return e&&(r.Authorization=`Bearer ${e}`),(await Da.get("https://az.api.aqarat.xmap.ai/auth/privileges",{headers:r})).data}catch(r){return t(((n=r.response)==null?void 0:n.data)||"Something went wrong")}}),Bvt={role:"",privileges:[],status:"idle",error:null},Zvt=Eb({name:"privileges",initialState:Bvt,reducers:{},extraReducers:e=>{e.addCase(gE.pending,t=>{t.status="loading",t.error=null}).addCase(gE.fulfilled,(t,n)=>{t.status="succeeded",t.role=n.payload.role,t.privileges=n.payload.privileges}).addCase(gE.rejected,(t,n)=>{t.status="failed",t.error=n.payload})}}),Uvt=Zvt.reducer,Hvt=[{target:".floating-menu-top",content:"Use our AI chatbot to inquire about any area of interest."},{target:".header-filters",content:"Refine your search using the wide range of filters available."},{target:".product-search",content:"Search for a district, project, or building to navigate directly to its location."},{target:".floating-menu-bottom-left",content:"Enable or disable map layers, switch to 3D view, and learn about color codes from the bottom-left menu."},{target:".districtIndicators",content:"Turn specific map layers on or off to focus on relevant data."},{target:".threeD",content:"Explore the map in an immersive 3D view."},{target:".colorCoding",content:"Understand what each color represents on the map."},{target:".zoom-control",content:"Adjust the map’s zoom level from here."},{target:".style-toggle",content:"Switch between street view and satellite imagery."}],Vvt=()=>{const e=ha(),t=localStorage.getItem("token"),[n,r]=A.useState(!1);A.useEffect(()=>{localStorage.getItem("hasSeenTour")||r(!0)},[]);const i=m=>{const{status:y}=m;[Ii.FINISHED,Ii.SKIPPED].includes(y)&&(localStorage.setItem("hasSeenTour","true"),r(!1))};A.useEffect(()=>{e(gE(t||void 0))},[e,t]);const{role:s,privileges:c,status:h,error:o}=Ci(m=>m.privileges);return te.jsxs("div",{children:[te.jsx(iwe,{steps:Hvt,run:n,continuous:!0,scrollToFirstStep:!0,showProgress:!0,showSkipButton:!0,callback:i,styles:{options:{backgroundColor:"#fff",textColor:"#8A1538",arrowColor:"#333",beaconSize:24,overlayColor:"rgba(0, 0, 0, 0.5)",zIndex:1e3},tooltipContainer:{},tooltipTitle:{fontSize:"16px",marginBottom:"10px"},tooltipContent:{textAlign:"center"},buttonNext:{backgroundColor:"#8A1538",color:"#fff"},buttonBack:{marginRight:10,color:"#999"},buttonSkip:{color:"#999"}}}),te.jsx(uyt,{})]})},Wvt=uSe({reducer:{mapData:jSe,mapLayers:aAe,filters:pgt,mapView:dAe,dropdown:mgt,privileges:Uvt}});/*! @azure/msal-common v14.16.0 2024-11-05 */const dn={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},PM={CLIENT_ERROR_RANGE_START:400,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR_RANGE_START:500,SERVER_ERROR_RANGE_END:599},Jb=[dn.OPENID_SCOPE,dn.PROFILE_SCOPE,dn.OFFLINE_ACCESS_SCOPE],kQ=[...Jb,dn.EMAIL_SCOPE],ul={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},ps={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Pf={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},IM={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},ys={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},NQ={PLAIN:"plain",S256:"S256"},PA={QUERY:"query",FRAGMENT:"fragment"},Gvt={...PA},xpe={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},OM={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},qs={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},ti={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},TF="appmetadata",Kvt="client_info",mw="1",PP={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},dc={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Ms={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},To={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},gw={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},RQ={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},DQ={username:"username",password:"password"},kM={httpSuccess:200,httpBadRequest:400},Ev={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},mk={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},tf={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},qvt={Pop:"pop"},Xvt=300;/*! @azure/msal-common v14.16.0 2024-11-05 */const PF="unexpected_error",Yvt="post_request_failed";/*! @azure/msal-common v14.16.0 2024-11-05 */const LQ={[PF]:"Unexpected error in authentication.",[Yvt]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class ra extends Error{constructor(t,n,r){const i=n?`${t}: ${n}`:t;super(i),Object.setPrototypeOf(this,ra.prototype),this.errorCode=t||dn.EMPTY_STRING,this.errorMessage=n||dn.EMPTY_STRING,this.subError=r||dn.EMPTY_STRING,this.name="AuthError"}setCorrelationId(t){this.correlationId=t}}function wpe(e,t){return new ra(e,t?`${LQ[e]} ${t}`:LQ[e])}/*! @azure/msal-common v14.16.0 2024-11-05 */const IF="client_info_decoding_error",Spe="client_info_empty_error",OF="token_parsing_error",Ape="null_or_empty_token",Rh="endpoints_resolution_error",Cpe="network_error",Mpe="openid_config_error",Epe="hash_not_deserialized",yb="invalid_state",Tpe="state_mismatch",IP="state_not_found",Ppe="nonce_mismatch",kF="auth_time_not_found",Ipe="max_age_transpired",Jvt="multiple_matching_tokens",Qvt="multiple_matching_accounts",Ope="multiple_matching_appMetadata",kpe="request_cannot_be_made",Npe="cannot_remove_empty_scope",Rpe="cannot_append_scopeset",MD="empty_input_scopeset",e0t="device_code_polling_cancelled",t0t="device_code_expired",n0t="device_code_unknown_error",NF="no_account_in_silent_request",Dpe="invalid_cache_record",RF="invalid_cache_environment",ED="no_account_found",TD="no_crypto_object",PD="unexpected_credential_type",r0t="invalid_assertion",i0t="invalid_client_credential",Hh="token_refresh_required",o0t="user_timeout_reached",Lpe="token_claims_cnf_required_for_signedjwt",Fpe="authorization_code_missing_from_server_response",$pe="binding_key_not_removed",jpe="end_session_endpoint_not_supported",DF="key_id_missing",a0t="no_network_connectivity",s0t="user_canceled",l0t="missing_tenant_id_error",Ei="method_not_implemented",c0t="nested_app_auth_bridge_disabled";/*! @azure/msal-common v14.16.0 2024-11-05 */const FQ={[IF]:"The client info could not be parsed/decoded correctly",[Spe]:"The client info was empty",[OF]:"Token cannot be parsed",[Ape]:"The token is null or empty",[Rh]:"Endpoints cannot be resolved",[Cpe]:"Network request failed",[Mpe]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Epe]:"The hash parameters could not be deserialized",[yb]:"State was not the expected format",[Tpe]:"State mismatch error",[IP]:"State not found",[Ppe]:"Nonce mismatch error",[kF]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Ipe]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[Jvt]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[Qvt]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Ope]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[kpe]:"Token request cannot be made without authorization code or refresh token.",[Npe]:"Cannot remove null or empty scope from ScopeSet",[Rpe]:"Cannot append ScopeSet",[MD]:"Empty input ScopeSet cannot be processed",[e0t]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[t0t]:"Device code is expired.",[n0t]:"Device code stopped polling for unknown reasons.",[NF]:"Please pass an account object, silent flow is not supported without account information",[Dpe]:"Cache record object was null or undefined.",[RF]:"Invalid environment when attempting to create cache entry",[ED]:"No account found in cache for given key.",[TD]:"No crypto object detected.",[PD]:"Unexpected credential type.",[r0t]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[i0t]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Hh]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[o0t]:"User defined timeout for device code polling reached",[Lpe]:"Cannot generate a POP jwt if the token_claims are not populated",[Fpe]:"Server response does not contain an authorization code to proceed",[$pe]:"Could not remove the credential's binding key from storage.",[jpe]:"The provided authority does not support logout",[DF]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[a0t]:"No network connectivity. Check your internet connection.",[s0t]:"User cancelled the flow.",[l0t]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[Ei]:"This method has not been implemented",[c0t]:"The nested app auth bridge is disabled"};class U4 extends ra{constructor(t,n){super(t,n?`${FQ[t]}: ${n}`:FQ[t]),this.name="ClientAuthError",Object.setPrototypeOf(this,U4.prototype)}}function jn(e,t){return new U4(e,t)}/*! @azure/msal-common v14.16.0 2024-11-05 */const OP={createNewGuid:()=>{throw jn(Ei)},base64Decode:()=>{throw jn(Ei)},base64Encode:()=>{throw jn(Ei)},base64UrlEncode:()=>{throw jn(Ei)},encodeKid:()=>{throw jn(Ei)},async getPublicKeyThumbprint(){throw jn(Ei)},async removeTokenBindingKey(){throw jn(Ei)},async clearKeystore(){throw jn(Ei)},async signJwt(){throw jn(Ei)},async hashString(){throw jn(Ei)}};/*! @azure/msal-common v14.16.0 2024-11-05 */var Qo;(function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"})(Qo||(Qo={}));let Qb=class ID{constructor(t,n,r){this.level=Qo.Info;const i=()=>{},s=t||ID.createDefaultLoggerOptions();this.localCallback=s.loggerCallback||i,this.piiLoggingEnabled=s.piiLoggingEnabled||!1,this.level=typeof s.logLevel=="number"?s.logLevel:Qo.Info,this.correlationId=s.correlationId||dn.EMPTY_STRING,this.packageName=n||dn.EMPTY_STRING,this.packageVersion=r||dn.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Qo.Info}}clone(t,n,r){return new ID({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},t,n)}logMessage(t,n){if(n.logLevel>this.level||!this.piiLoggingEnabled&&n.containsPii)return;const s=`${`[${new Date().toUTCString()}] : [${n.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Qo[n.logLevel]} - ${t}`;this.executeCallback(n.logLevel,s,n.containsPii||!1)}executeCallback(t,n,r){this.localCallback&&this.localCallback(t,n,r)}error(t,n){this.logMessage(t,{logLevel:Qo.Error,containsPii:!1,correlationId:n||dn.EMPTY_STRING})}errorPii(t,n){this.logMessage(t,{logLevel:Qo.Error,containsPii:!0,correlationId:n||dn.EMPTY_STRING})}warning(t,n){this.logMessage(t,{logLevel:Qo.Warning,containsPii:!1,correlationId:n||dn.EMPTY_STRING})}warningPii(t,n){this.logMessage(t,{logLevel:Qo.Warning,containsPii:!0,correlationId:n||dn.EMPTY_STRING})}info(t,n){this.logMessage(t,{logLevel:Qo.Info,containsPii:!1,correlationId:n||dn.EMPTY_STRING})}infoPii(t,n){this.logMessage(t,{logLevel:Qo.Info,containsPii:!0,correlationId:n||dn.EMPTY_STRING})}verbose(t,n){this.logMessage(t,{logLevel:Qo.Verbose,containsPii:!1,correlationId:n||dn.EMPTY_STRING})}verbosePii(t,n){this.logMessage(t,{logLevel:Qo.Verbose,containsPii:!0,correlationId:n||dn.EMPTY_STRING})}trace(t,n){this.logMessage(t,{logLevel:Qo.Trace,containsPii:!1,correlationId:n||dn.EMPTY_STRING})}tracePii(t,n){this.logMessage(t,{logLevel:Qo.Trace,containsPii:!0,correlationId:n||dn.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}};/*! @azure/msal-common v14.16.0 2024-11-05 */const zpe="@azure/msal-common",LF="14.16.0";/*! @azure/msal-common v14.16.0 2024-11-05 */const FF={None:"none"};/*! @azure/msal-common v14.16.0 2024-11-05 */function uy(e,t){const n=u0t(e);try{const r=t(n);return JSON.parse(r)}catch{throw jn(OF)}}function u0t(e){if(!e)throw jn(Ape);const n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!n||n.length<4)throw jn(OF);return n[2]}function Bpe(e,t){if(t===0||Date.now()-3e5>e+t)throw jn(Ipe)}/*! @azure/msal-common v14.16.0 2024-11-05 */function eh(){return Math.round(new Date().getTime()/1e3)}function OD(e,t){const n=Number(e)||0;return eh()+t>n}function d0t(e){return Number(e)>eh()}/*! @azure/msal-common v14.16.0 2024-11-05 */function r0(e){return[h0t(e),p0t(e),f0t(e),m0t(e),g0t(e)].join(qs.CACHE_KEY_SEPARATOR).toLowerCase()}function H4(e,t,n,r,i){return{credentialType:ti.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:i}}function V4(e,t,n,r,i,s,c,h,o,m,y,v,S,C,P){var N,D;const I={homeAccountId:e,credentialType:ti.ACCESS_TOKEN,secret:n,cachedAt:eh().toString(),expiresOn:c.toString(),extendedExpiresOn:h.toString(),environment:t,clientId:r,realm:i,target:s,tokenType:y||To.BEARER};if(v&&(I.userAssertionHash=v),m&&(I.refreshOn=m.toString()),C&&(I.requestedClaims=C,I.requestedClaimsHash=P),((N=I.tokenType)==null?void 0:N.toLowerCase())!==To.BEARER.toLowerCase())switch(I.credentialType=ti.ACCESS_TOKEN_WITH_AUTH_SCHEME,I.tokenType){case To.POP:const k=uy(n,o);if(!((D=k==null?void 0:k.cnf)!=null&&D.kid))throw jn(Lpe);I.keyId=k.cnf.kid;break;case To.SSH:I.keyId=S}return I}function Zpe(e,t,n,r,i,s,c){const h={credentialType:ti.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return s&&(h.userAssertionHash=s),i&&(h.familyId=i),c&&(h.expiresOn=c.toString()),h}function $F(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function $Q(e){return e?$F(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===ti.ACCESS_TOKEN||e.credentialType===ti.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function jQ(e){return e?$F(e)&&e.hasOwnProperty("realm")&&e.credentialType===ti.ID_TOKEN:!1}function zQ(e){return e?$F(e)&&e.credentialType===ti.REFRESH_TOKEN:!1}function h0t(e){return[e.homeAccountId,e.environment].join(qs.CACHE_KEY_SEPARATOR).toLowerCase()}function p0t(e){const t=e.credentialType===ti.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(qs.CACHE_KEY_SEPARATOR).toLowerCase()}function f0t(e){return(e.target||"").toLowerCase()}function m0t(e){return(e.requestedClaimsHash||"").toLowerCase()}function g0t(e){return e.tokenType&&e.tokenType.toLowerCase()!==To.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function y0t(e,t){const n=e.indexOf(Ms.CACHE_KEY)===0;let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}function v0t(e,t){let n=!1;e&&(n=e.indexOf(gw.THROTTLING_PREFIX)===0);let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}function b0t({environment:e,clientId:t}){return[TF,e,t].join(qs.CACHE_KEY_SEPARATOR).toLowerCase()}function _0t(e,t){return t?e.indexOf(TF)===0&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment"):!1}function x0t(e,t){return t?e.indexOf(PP.CACHE_KEY)===0&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri"):!1}function BQ(){return eh()+PP.REFRESH_TIME_SECONDS}function NM(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function gk(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function ZQ(e){return e.expiresAt<=eh()}/*! @azure/msal-common v14.16.0 2024-11-05 */const Upe="redirect_uri_empty",w0t="claims_request_parsing_error",Hpe="authority_uri_insecure",Hx="url_parse_error",Vpe="empty_url_error",Wpe="empty_input_scopes_error",Gpe="invalid_prompt_value",jF="invalid_claims",Kpe="token_request_empty",qpe="logout_request_empty",Xpe="invalid_code_challenge_method",zF="pkce_params_missing",BF="invalid_cloud_discovery_metadata",Ype="invalid_authority_metadata",Jpe="untrusted_authority",W4="missing_ssh_jwk",Qpe="missing_ssh_kid",S0t="missing_nonce_authentication_header",A0t="invalid_authentication_header",efe="cannot_set_OIDCOptions",tfe="cannot_allow_native_broker",nfe="authority_mismatch";/*! @azure/msal-common v14.16.0 2024-11-05 */const C0t={[Upe]:"A redirect URI is required for all calls, and none has been set.",[w0t]:"Could not parse the given claims request object.",[Hpe]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Hx]:"URL could not be parsed into appropriate segments.",[Vpe]:"URL was empty or null.",[Wpe]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Gpe]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[jF]:"Given claims parameter must be a stringified JSON object.",[Kpe]:"Token request was empty and not found in cache.",[qpe]:"The logout request was null or undefined.",[Xpe]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[zF]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[BF]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Ype]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Jpe]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[W4]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[Qpe]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[S0t]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[A0t]:"Invalid authentication header provided",[efe]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[tfe]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[nfe]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class ZF extends ra{constructor(t){super(t,C0t[t]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,ZF.prototype)}}function Oo(e){return new ZF(e)}/*! @azure/msal-common v14.16.0 2024-11-05 */class Ku{static isEmptyObj(t){if(t)try{const n=JSON.parse(t);return Object.keys(n).length===0}catch{}return!0}static startsWith(t,n){return t.indexOf(n)===0}static endsWith(t,n){return t.length>=n.length&&t.lastIndexOf(n)===t.length-n.length}static queryStringToObject(t){const n={},r=t.split("&"),i=s=>decodeURIComponent(s.replace(/\+/g," "));return r.forEach(s=>{if(s.trim()){const[c,h]=s.split(/=(.+)/g,2);c&&h&&(n[i(c)]=i(h))}}),n}static trimArrayEntries(t){return t.map(n=>n.trim())}static removeEmptyStringsFromArray(t){return t.filter(n=>!!n)}static jsonParseHelper(t){try{return JSON.parse(t)}catch{return null}}static matchPattern(t,n){return new RegExp(t.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(n)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class Oa{constructor(t){const n=t?Ku.trimArrayEntries([...t]):[],r=n?Ku.removeEmptyStringsFromArray(n):[];this.validateInputScopes(r),this.scopes=new Set,r.forEach(i=>this.scopes.add(i))}static fromString(t){const r=(t||dn.EMPTY_STRING).split(" ");return new Oa(r)}static createSearchScopes(t){const n=new Oa(t);return n.containsOnlyOIDCScopes()?n.removeScope(dn.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),n}validateInputScopes(t){if(!t||t.length<1)throw Oo(Wpe)}containsScope(t){const n=this.printScopesLowerCase().split(" "),r=new Oa(n);return t?r.scopes.has(t.toLowerCase()):!1}containsScopeSet(t){return!t||t.scopes.size<=0?!1:this.scopes.size>=t.scopes.size&&t.asArray().every(n=>this.containsScope(n))}containsOnlyOIDCScopes(){let t=0;return kQ.forEach(n=>{this.containsScope(n)&&(t+=1)}),this.scopes.size===t}appendScope(t){t&&this.scopes.add(t.trim())}appendScopes(t){try{t.forEach(n=>this.appendScope(n))}catch{throw jn(Rpe)}}removeScope(t){if(!t)throw jn(Npe);this.scopes.delete(t.trim())}removeOIDCScopes(){kQ.forEach(t=>{this.scopes.delete(t)})}unionScopeSets(t){if(!t)throw jn(MD);const n=new Set;return t.scopes.forEach(r=>n.add(r.toLowerCase())),this.scopes.forEach(r=>n.add(r.toLowerCase())),n}intersectingScopeSets(t){if(!t)throw jn(MD);t.containsOnlyOIDCScopes()||t.removeOIDCScopes();const n=this.unionScopeSets(t),r=t.getScopeCount(),i=this.getScopeCount();return n.size<i+r}getScopeCount(){return this.scopes.size}asArray(){const t=[];return this.scopes.forEach(n=>t.push(n)),t}printScopes(){return this.scopes?this.asArray().join(" "):dn.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v14.16.0 2024-11-05 */function kP(e,t){if(!e)throw jn(Spe);try{const n=t(e);return JSON.parse(n)}catch{throw jn(IF)}}function i0(e){if(!e)throw jn(IF);const t=e.split(qs.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?dn.EMPTY_STRING:t[1]}}/*! @azure/msal-common v14.16.0 2024-11-05 */function NP(e,t){return!!e&&!!t&&e===t.split(".")[1]}function UF(e,t,n,r){if(r){const{oid:i,sub:s,tid:c,name:h,tfp:o,acr:m}=r,y=c||o||m||"";return{tenantId:y,localAccountId:i||s||"",name:h,isHomeTenant:NP(y,e)}}else return{tenantId:n,localAccountId:t,isHomeTenant:NP(n,e)}}function HF(e,t,n,r){let i=e;if(t){const{isHomeTenant:s,...c}=t;i={...e,...c}}if(n){const{isHomeTenant:s,...c}=UF(e.homeAccountId,e.localAccountId,e.tenantId,n);return i={...i,...c,idTokenClaims:n,idToken:r},i}return i}/*! @azure/msal-common v14.16.0 2024-11-05 */const Du={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v14.16.0 2024-11-05 */function rfe(e){return e&&(e.tid||e.tfp||e.acr)||null}/*! @azure/msal-common v14.16.0 2024-11-05 */const Yh={AAD:"AAD",OIDC:"OIDC"};/*! @azure/msal-common v14.16.0 2024-11-05 */class rs{generateAccountId(){return[this.homeAccountId,this.environment].join(qs.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return rs.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(t=>[t.tenantId,t]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(t){const n=t.homeAccountId.split(".")[1];return[t.homeAccountId,t.environment||"",n||t.tenantId||""].join(qs.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(t,n,r){var m,y,v,S,C,P;const i=new rs;n.authorityType===Du.Adfs?i.authorityType=OM.ADFS_ACCOUNT_TYPE:n.protocolMode===Yh.AAD?i.authorityType=OM.MSSTS_ACCOUNT_TYPE:i.authorityType=OM.GENERIC_ACCOUNT_TYPE;let s;t.clientInfo&&r&&(s=kP(t.clientInfo,r)),i.clientInfo=t.clientInfo,i.homeAccountId=t.homeAccountId,i.nativeAccountId=t.nativeAccountId;const c=t.environment||n&&n.getPreferredCache();if(!c)throw jn(RF);i.environment=c,i.realm=(s==null?void 0:s.utid)||rfe(t.idTokenClaims)||"",i.localAccountId=(s==null?void 0:s.uid)||((m=t.idTokenClaims)==null?void 0:m.oid)||((y=t.idTokenClaims)==null?void 0:y.sub)||"";const h=((v=t.idTokenClaims)==null?void 0:v.preferred_username)||((S=t.idTokenClaims)==null?void 0:S.upn),o=(C=t.idTokenClaims)!=null&&C.emails?t.idTokenClaims.emails[0]:null;if(i.username=h||o||"",i.name=((P=t.idTokenClaims)==null?void 0:P.name)||"",i.cloudGraphHostName=t.cloudGraphHostName,i.msGraphHost=t.msGraphHost,t.tenantProfiles)i.tenantProfiles=t.tenantProfiles;else{const I=UF(t.homeAccountId,i.localAccountId,i.realm,t.idTokenClaims);i.tenantProfiles=[I]}return i}static createFromAccountInfo(t,n,r){var s;const i=new rs;return i.authorityType=t.authorityType||OM.GENERIC_ACCOUNT_TYPE,i.homeAccountId=t.homeAccountId,i.localAccountId=t.localAccountId,i.nativeAccountId=t.nativeAccountId,i.realm=t.tenantId,i.environment=t.environment,i.username=t.username,i.name=t.name,i.cloudGraphHostName=n,i.msGraphHost=r,i.tenantProfiles=Array.from(((s=t.tenantProfiles)==null?void 0:s.values())||[]),i}static generateHomeAccountId(t,n,r,i,s){if(!(n===Du.Adfs||n===Du.Dsts)){if(t)try{const c=kP(t,i.base64Decode);if(c.uid&&c.utid)return`${c.uid}.${c.utid}`}catch{}r.warning("No client info in response")}return(s==null?void 0:s.sub)||""}static isAccountEntity(t){return t?t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("realm")&&t.hasOwnProperty("localAccountId")&&t.hasOwnProperty("username")&&t.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(t,n,r){if(!t||!n)return!1;let i=!0;if(r){const s=t.idTokenClaims||{},c=n.idTokenClaims||{};i=s.iat===c.iat&&s.nonce===c.nonce}return t.homeAccountId===n.homeAccountId&&t.localAccountId===n.localAccountId&&t.username===n.username&&t.tenantId===n.tenantId&&t.environment===n.environment&&t.nativeAccountId===n.nativeAccountId&&i}}/*! @azure/msal-common v14.16.0 2024-11-05 */function ife(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function RP(e){if(!e||e.indexOf("=")<0)return null;try{const t=ife(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.error||n.error_description||n.state)return n}catch{throw jn(Epe)}return null}/*! @azure/msal-common v14.16.0 2024-11-05 */class Ki{get urlString(){return this._urlString}constructor(t){if(this._urlString=t,!this._urlString)throw Oo(Vpe);t.includes("#")||(this._urlString=Ki.canonicalizeUri(t))}static canonicalizeUri(t){if(t){let n=t.toLowerCase();return Ku.endsWith(n,"?")?n=n.slice(0,-1):Ku.endsWith(n,"?/")&&(n=n.slice(0,-2)),Ku.endsWith(n,"/")||(n+="/"),n}return t}validateAsUri(){let t;try{t=this.getUrlComponents()}catch{throw Oo(Hx)}if(!t.HostNameAndPort||!t.PathSegments)throw Oo(Hx);if(!t.Protocol||t.Protocol.toLowerCase()!=="https:")throw Oo(Hpe)}static appendQueryString(t,n){return n?t.indexOf("?")<0?`${t}?${n}`:`${t}&${n}`:t}static removeHashFromUrl(t){return Ki.canonicalizeUri(t.split("#")[0])}replaceTenantPath(t){const n=this.getUrlComponents(),r=n.PathSegments;return t&&r.length!==0&&(r[0]===Pf.COMMON||r[0]===Pf.ORGANIZATIONS)&&(r[0]=t),Ki.constructAuthorityUriFromObject(n)}getUrlComponents(){const t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=this.urlString.match(t);if(!n)throw Oo(Hx);const r={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5],QueryString:n[7]};let i=r.AbsolutePath.split("/");return i=i.filter(s=>s&&s.length>0),r.PathSegments=i,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(t){const n=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=t.match(n);if(!r)throw Oo(Hx);return r[2]}static getAbsoluteUrl(t,n){if(t[0]===dn.FORWARD_SLASH){const i=new Ki(n).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+t}return t}static constructAuthorityUriFromObject(t){return new Ki(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))}static hashContainsKnownProperties(t){return!!RP(t)}}/*! @azure/msal-common v14.16.0 2024-11-05 */const ofe={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},UQ=ofe.endpointMetadata,VF=ofe.instanceDiscoveryMetadata,afe=new Set;VF.metadata.forEach(e=>{e.aliases.forEach(t=>{afe.add(t)})});function M0t(e,t){var i;let n;const r=e.canonicalAuthority;if(r){const s=new Ki(r).getUrlComponents().HostNameAndPort;n=HQ(s,(i=e.cloudDiscoveryMetadata)==null?void 0:i.metadata,dc.CONFIG,t)||HQ(s,VF.metadata,dc.HARDCODED_VALUES,t)||e.knownAuthorities}return n||[]}function HQ(e,t,n,r){if(r==null||r.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){const i=DP(t,e);if(i)return r==null||r.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),i.aliases;r==null||r.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function E0t(e){return DP(VF.metadata,e)}function DP(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}/*! @azure/msal-common v14.16.0 2024-11-05 */const sfe="cache_quota_exceeded",WF="cache_error_unknown";/*! @azure/msal-common v14.16.0 2024-11-05 */const yk={[sfe]:"Exceeded cache storage capacity.",[WF]:"Unexpected error occurred when using cache storage."};class w0 extends Error{constructor(t,n){const r=n||(yk[t]?yk[t]:yk[WF]);super(`${t}: ${r}`),Object.setPrototypeOf(this,w0.prototype),this.name="CacheError",this.errorCode=t,this.errorMessage=r}}/*! @azure/msal-common v14.16.0 2024-11-05 */class vb{constructor(t,n,r,i){this.clientId=t,this.cryptoImpl=n,this.commonLogger=r.clone(zpe,LF),this.staticAuthorityOptions=i}getAllAccounts(t){return this.buildTenantProfiles(this.getAccountsFilteredBy(t||{}),t)}getAccountInfoFilteredBy(t){const n=this.getAllAccounts(t);return n.length>1?n.sort(i=>i.idTokenClaims?-1:1)[0]:n.length===1?n[0]:null}getBaseAccountInfo(t){const n=this.getAccountsFilteredBy(t);return n.length>0?n[0].getAccountInfo():null}buildTenantProfiles(t,n){return t.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,n==null?void 0:n.tenantId,n))}getTenantedAccountInfoByFilter(t,n,r,i){let s=null,c;if(i&&!this.tenantProfileMatchesFilter(r,i))return null;const h=this.getIdToken(t,n,r.tenantId);return h&&(c=uy(h.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(c,i))?null:(s=HF(t,r,c,h==null?void 0:h.secret),s)}getTenantProfilesFromAccountEntity(t,n,r){const i=t.getAccountInfo();let s=i.tenantProfiles||new Map;const c=this.getTokenKeys();if(n){const o=s.get(n);if(o)s=new Map([[n,o]]);else return[]}const h=[];return s.forEach(o=>{const m=this.getTenantedAccountInfoByFilter(i,c,o,r);m&&h.push(m)}),h}tenantProfileMatchesFilter(t,n){return!(n.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(t,n.localAccountId)||n.name&&t.name!==n.name||n.isHomeTenant!==void 0&&t.isHomeTenant!==n.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(t,n){return!(n&&(n.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(t,n.localAccountId)||n.loginHint&&!this.matchLoginHintFromTokenClaims(t,n.loginHint)||n.username&&!this.matchUsername(t.preferred_username,n.username)||n.name&&!this.matchName(t,n.name)||n.sid&&!this.matchSid(t,n.sid)))}async saveCacheRecord(t,n,r){var i,s,c,h;if(!t)throw jn(Dpe);try{t.account&&this.setAccount(t.account),t.idToken&&(n==null?void 0:n.idToken)!==!1&&this.setIdTokenCredential(t.idToken),t.accessToken&&(n==null?void 0:n.accessToken)!==!1&&await this.saveAccessToken(t.accessToken),t.refreshToken&&(n==null?void 0:n.refreshToken)!==!1&&this.setRefreshTokenCredential(t.refreshToken),t.appMetadata&&this.setAppMetadata(t.appMetadata)}catch(o){throw(i=this.commonLogger)==null||i.error("CacheManager.saveCacheRecord: failed"),o instanceof Error?((s=this.commonLogger)==null||s.errorPii(`CacheManager.saveCacheRecord: ${o.message}`,r),o.name==="QuotaExceededError"||o.name==="NS_ERROR_DOM_QUOTA_REACHED"||o.message.includes("exceeded the quota")?((c=this.commonLogger)==null||c.error("CacheManager.saveCacheRecord: exceeded storage quota",r),new w0(sfe)):new w0(o.name,o.message)):((h=this.commonLogger)==null||h.errorPii(`CacheManager.saveCacheRecord: ${o}`,r),new w0(WF))}}async saveAccessToken(t){const n={clientId:t.clientId,credentialType:t.credentialType,environment:t.environment,homeAccountId:t.homeAccountId,realm:t.realm,tokenType:t.tokenType,requestedClaimsHash:t.requestedClaimsHash},r=this.getTokenKeys(),i=Oa.fromString(t.target),s=[];r.accessToken.forEach(c=>{if(!this.accessTokenKeyMatchesFilter(c,n,!1))return;const h=this.getAccessTokenCredential(c);h&&this.credentialMatchesFilter(h,n)&&Oa.fromString(h.target).intersectingScopeSets(i)&&s.push(this.removeAccessToken(c))}),await Promise.all(s),this.setAccessTokenCredential(t)}getAccountsFilteredBy(t){const n=this.getAccountKeys(),r=[];return n.forEach(i=>{var o;if(!this.isAccountKey(i,t.homeAccountId))return;const s=this.getAccount(i,this.commonLogger);if(!s||t.homeAccountId&&!this.matchHomeAccountId(s,t.homeAccountId)||t.username&&!this.matchUsername(s.username,t.username)||t.environment&&!this.matchEnvironment(s,t.environment)||t.realm&&!this.matchRealm(s,t.realm)||t.nativeAccountId&&!this.matchNativeAccountId(s,t.nativeAccountId)||t.authorityType&&!this.matchAuthorityType(s,t.authorityType))return;const c={localAccountId:t==null?void 0:t.localAccountId,name:t==null?void 0:t.name},h=(o=s.tenantProfiles)==null?void 0:o.filter(m=>this.tenantProfileMatchesFilter(m,c));h&&h.length===0||r.push(s)}),r}isAccountKey(t,n,r){return!(t.split(qs.CACHE_KEY_SEPARATOR).length<3||n&&!t.toLowerCase().includes(n.toLowerCase())||r&&!t.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(t){if(t.split(qs.CACHE_KEY_SEPARATOR).length<6)return!1;const n=t.toLowerCase();if(n.indexOf(ti.ID_TOKEN.toLowerCase())===-1&&n.indexOf(ti.ACCESS_TOKEN.toLowerCase())===-1&&n.indexOf(ti.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&n.indexOf(ti.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(n.indexOf(ti.REFRESH_TOKEN.toLowerCase())>-1){const r=`${ti.REFRESH_TOKEN}${qs.CACHE_KEY_SEPARATOR}${this.clientId}${qs.CACHE_KEY_SEPARATOR}`,i=`${ti.REFRESH_TOKEN}${qs.CACHE_KEY_SEPARATOR}${mw}${qs.CACHE_KEY_SEPARATOR}`;if(n.indexOf(r.toLowerCase())===-1&&n.indexOf(i.toLowerCase())===-1)return!1}else if(n.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(t,n){return!(n.clientId&&!this.matchClientId(t,n.clientId)||n.userAssertionHash&&!this.matchUserAssertionHash(t,n.userAssertionHash)||typeof n.homeAccountId=="string"&&!this.matchHomeAccountId(t,n.homeAccountId)||n.environment&&!this.matchEnvironment(t,n.environment)||n.realm&&!this.matchRealm(t,n.realm)||n.credentialType&&!this.matchCredentialType(t,n.credentialType)||n.familyId&&!this.matchFamilyId(t,n.familyId)||n.target&&!this.matchTarget(t,n.target)||(n.requestedClaimsHash||t.requestedClaimsHash)&&t.requestedClaimsHash!==n.requestedClaimsHash||t.credentialType===ti.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(n.tokenType&&!this.matchTokenType(t,n.tokenType)||n.tokenType===To.SSH&&n.keyId&&!this.matchKeyId(t,n.keyId)))}getAppMetadataFilteredBy(t){const n=this.getKeys(),r={};return n.forEach(i=>{if(!this.isAppMetadata(i))return;const s=this.getAppMetadata(i);s&&(t.environment&&!this.matchEnvironment(s,t.environment)||t.clientId&&!this.matchClientId(s,t.clientId)||(r[i]=s))}),r}getAuthorityMetadataByAlias(t){const n=this.getAuthorityMetadataKeys();let r=null;return n.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;const s=this.getAuthorityMetadata(i);s&&s.aliases.indexOf(t)!==-1&&(r=s)}),r}async removeAllAccounts(){const t=this.getAccountKeys(),n=[];t.forEach(r=>{n.push(this.removeAccount(r))}),await Promise.all(n)}async removeAccount(t){const n=this.getAccount(t,this.commonLogger);n&&(await this.removeAccountContext(n),this.removeItem(t))}async removeAccountContext(t){const n=this.getTokenKeys(),r=t.generateAccountId(),i=[];n.idToken.forEach(s=>{s.indexOf(r)===0&&this.removeIdToken(s)}),n.accessToken.forEach(s=>{s.indexOf(r)===0&&i.push(this.removeAccessToken(s))}),n.refreshToken.forEach(s=>{s.indexOf(r)===0&&this.removeRefreshToken(s)}),await Promise.all(i)}updateOutdatedCachedAccount(t,n,r){var i;if(n&&n.isSingleTenant()){(i=this.commonLogger)==null||i.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const s=this.getAccountKeys().filter(y=>y.startsWith(n.homeAccountId)),c=[];s.forEach(y=>{const v=this.getCachedAccountEntity(y);v&&c.push(v)});const h=c.find(y=>NP(y.realm,y.homeAccountId))||c[0];h.tenantProfiles=c.map(y=>({tenantId:y.realm,localAccountId:y.localAccountId,name:y.name,isHomeTenant:NP(y.realm,y.homeAccountId)}));const o=vb.toObject(new rs,{...h}),m=o.generateAccountKey();return s.forEach(y=>{y!==m&&this.removeOutdatedAccount(t)}),this.setAccount(o),r==null||r.verbose("Updated an outdated account entity in the cache"),o}return n}async removeAccessToken(t){const n=this.getAccessTokenCredential(t);if(n){if(n.credentialType.toLowerCase()===ti.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&n.tokenType===To.POP){const i=n.keyId;if(i)try{await this.cryptoImpl.removeTokenBindingKey(i)}catch{throw jn($pe)}}return this.removeItem(t)}}removeAppMetadata(){return this.getKeys().forEach(n=>{this.isAppMetadata(n)&&this.removeItem(n)}),!0}readAccountFromCache(t){const n=rs.generateAccountCacheKey(t);return this.getAccount(n,this.commonLogger)}getIdToken(t,n,r,i,s){this.commonLogger.trace("CacheManager - getIdToken called");const c={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:ti.ID_TOKEN,clientId:this.clientId,realm:r},h=this.getIdTokensByFilter(c,n),o=h.size;if(o<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(o>1){let m=h;if(!r){const y=new Map;h.forEach((S,C)=>{S.realm===t.tenantId&&y.set(C,S)});const v=y.size;if(v<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),h.values().next().value;if(v===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),y.values().next().value;m=y}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),m.forEach((y,v)=>{this.removeIdToken(v)}),i&&s&&i.addFields({multiMatchedID:h.size},s),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),h.values().next().value}getIdTokensByFilter(t,n){const r=n&&n.idToken||this.getTokenKeys().idToken,i=new Map;return r.forEach(s=>{if(!this.idTokenKeyMatchesFilter(s,{clientId:this.clientId,...t}))return;const c=this.getIdTokenCredential(s);c&&this.credentialMatchesFilter(c,t)&&i.set(s,c)}),i}idTokenKeyMatchesFilter(t,n){const r=t.toLowerCase();return!(n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}removeIdToken(t){this.removeItem(t)}removeRefreshToken(t){this.removeItem(t)}getAccessToken(t,n,r,i,s,c){this.commonLogger.trace("CacheManager - getAccessToken called");const h=Oa.createSearchScopes(n.scopes),o=n.authenticationScheme||To.BEARER,m=o.toLowerCase()!==To.BEARER.toLowerCase()?ti.ACCESS_TOKEN_WITH_AUTH_SCHEME:ti.ACCESS_TOKEN,y={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:m,clientId:this.clientId,realm:i||t.tenantId,target:h,tokenType:o,keyId:n.sshKid,requestedClaimsHash:n.requestedClaimsHash},v=r&&r.accessToken||this.getTokenKeys().accessToken,S=[];v.forEach(P=>{if(this.accessTokenKeyMatchesFilter(P,y,!0)){const I=this.getAccessTokenCredential(P);I&&this.credentialMatchesFilter(I,y)&&S.push(I)}});const C=S.length;return C<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):C>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),S.forEach(P=>{this.removeAccessToken(r0(P))}),s&&c&&s.addFields({multiMatchedAT:S.length},c),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),S[0])}accessTokenKeyMatchesFilter(t,n,r){const i=t.toLowerCase();if(n.clientId&&i.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&i.indexOf(n.homeAccountId.toLowerCase())===-1||n.realm&&i.indexOf(n.realm.toLowerCase())===-1||n.requestedClaimsHash&&i.indexOf(n.requestedClaimsHash.toLowerCase())===-1)return!1;if(n.target){const s=n.target.asArray();for(let c=0;c<s.length;c++){if(r&&!i.includes(s[c].toLowerCase()))return!1;if(!r&&i.includes(s[c].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(t){const n=this.getTokenKeys(),r=[];return n.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,t,!0))return;const s=this.getAccessTokenCredential(i);s&&this.credentialMatchesFilter(s,t)&&r.push(s)}),r}getRefreshToken(t,n,r,i,s){this.commonLogger.trace("CacheManager - getRefreshToken called");const c=n?mw:void 0,h={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:ti.REFRESH_TOKEN,clientId:this.clientId,familyId:c},o=r&&r.refreshToken||this.getTokenKeys().refreshToken,m=[];o.forEach(v=>{if(this.refreshTokenKeyMatchesFilter(v,h)){const S=this.getRefreshTokenCredential(v);S&&this.credentialMatchesFilter(S,h)&&m.push(S)}});const y=m.length;return y<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(y>1&&i&&s&&i.addFields({multiMatchedRT:y},s),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),m[0])}refreshTokenKeyMatchesFilter(t,n){const r=t.toLowerCase();return!(n.familyId&&r.indexOf(n.familyId.toLowerCase())===-1||!n.familyId&&n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(t){const n={environment:t,clientId:this.clientId},r=this.getAppMetadataFilteredBy(n),i=Object.keys(r).map(c=>r[c]),s=i.length;if(s<1)return null;if(s>1)throw jn(Ope);return i[0]}isAppMetadataFOCI(t){const n=this.readAppMetadataFromCache(t);return!!(n&&n.familyId===mw)}matchHomeAccountId(t,n){return typeof t.homeAccountId=="string"&&n===t.homeAccountId}matchLocalAccountIdFromTokenClaims(t,n){const r=t.oid||t.sub;return n===r}matchLocalAccountIdFromTenantProfile(t,n){return t.localAccountId===n}matchName(t,n){var r;return n.toLowerCase()===((r=t.name)==null?void 0:r.toLowerCase())}matchUsername(t,n){return!!(t&&typeof t=="string"&&(n==null?void 0:n.toLowerCase())===t.toLowerCase())}matchUserAssertionHash(t,n){return!!(t.userAssertionHash&&n===t.userAssertionHash)}matchEnvironment(t,n){if(this.staticAuthorityOptions){const i=M0t(this.staticAuthorityOptions,this.commonLogger);if(i.includes(n)&&i.includes(t.environment))return!0}const r=this.getAuthorityMetadataByAlias(n);return!!(r&&r.aliases.indexOf(t.environment)>-1)}matchCredentialType(t,n){return t.credentialType&&n.toLowerCase()===t.credentialType.toLowerCase()}matchClientId(t,n){return!!(t.clientId&&n===t.clientId)}matchFamilyId(t,n){return!!(t.familyId&&n===t.familyId)}matchRealm(t,n){var r;return((r=t.realm)==null?void 0:r.toLowerCase())===n.toLowerCase()}matchNativeAccountId(t,n){return!!(t.nativeAccountId&&n===t.nativeAccountId)}matchLoginHintFromTokenClaims(t,n){return t.login_hint===n||t.preferred_username===n||t.upn===n}matchSid(t,n){return t.sid===n}matchAuthorityType(t,n){return!!(t.authorityType&&n.toLowerCase()===t.authorityType.toLowerCase())}matchTarget(t,n){return t.credentialType!==ti.ACCESS_TOKEN&&t.credentialType!==ti.ACCESS_TOKEN_WITH_AUTH_SCHEME||!t.target?!1:Oa.fromString(t.target).containsScopeSet(n)}matchTokenType(t,n){return!!(t.tokenType&&t.tokenType===n)}matchKeyId(t,n){return!!(t.keyId&&t.keyId===n)}isAppMetadata(t){return t.indexOf(TF)!==-1}isAuthorityMetadata(t){return t.indexOf(PP.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(t){return`${PP.CACHE_KEY}-${this.clientId}-${t}`}static toObject(t,n){for(const r in n)t[r]=n[r];return t}}class T0t extends vb{setAccount(){throw jn(Ei)}getAccount(){throw jn(Ei)}getCachedAccountEntity(){throw jn(Ei)}setIdTokenCredential(){throw jn(Ei)}getIdTokenCredential(){throw jn(Ei)}setAccessTokenCredential(){throw jn(Ei)}getAccessTokenCredential(){throw jn(Ei)}setRefreshTokenCredential(){throw jn(Ei)}getRefreshTokenCredential(){throw jn(Ei)}setAppMetadata(){throw jn(Ei)}getAppMetadata(){throw jn(Ei)}setServerTelemetry(){throw jn(Ei)}getServerTelemetry(){throw jn(Ei)}setAuthorityMetadata(){throw jn(Ei)}getAuthorityMetadata(){throw jn(Ei)}getAuthorityMetadataKeys(){throw jn(Ei)}setThrottlingCache(){throw jn(Ei)}getThrottlingCache(){throw jn(Ei)}removeItem(){throw jn(Ei)}getKeys(){throw jn(Ei)}getAccountKeys(){throw jn(Ei)}getTokenKeys(){throw jn(Ei)}updateCredentialCacheKey(){throw jn(Ei)}removeOutdatedAccount(){throw jn(Ei)}}/*! @azure/msal-common v14.16.0 2024-11-05 */const lfe={tokenRenewalOffsetSeconds:Xvt,preventCorsPreflight:!1},P0t={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Qo.Info,correlationId:dn.EMPTY_STRING},I0t={claimsBasedCachingEnabled:!1},O0t={async sendGetRequestAsync(){throw jn(Ei)},async sendPostRequestAsync(){throw jn(Ei)}},k0t={sku:dn.SKU,version:LF,cpu:dn.EMPTY_STRING,os:dn.EMPTY_STRING},N0t={clientSecret:dn.EMPTY_STRING,clientAssertion:void 0},R0t={azureCloudInstance:FF.None,tenant:`${dn.DEFAULT_COMMON_TENANT}`},D0t={application:{appName:"",appVersion:""}};function L0t({authOptions:e,systemOptions:t,loggerOptions:n,cacheOptions:r,storageInterface:i,networkInterface:s,cryptoInterface:c,clientCredentials:h,libraryInfo:o,telemetry:m,serverTelemetryManager:y,persistencePlugin:v,serializableCache:S}){const C={...P0t,...n};return{authOptions:F0t(e),systemOptions:{...lfe,...t},loggerOptions:C,cacheOptions:{...I0t,...r},storageInterface:i||new T0t(e.clientId,OP,new Qb(C)),networkInterface:s||O0t,cryptoInterface:c||OP,clientCredentials:h||N0t,libraryInfo:{...k0t,...o},telemetry:{...D0t,...m},serverTelemetryManager:y||null,persistencePlugin:v||null,serializableCache:S||null}}function F0t(e){return{clientCapabilities:[],azureCloudOptions:R0t,skipAuthorityMetadataCache:!1,instanceAware:!1,...e}}function kD(e){return e.authOptions.authority.options.protocolMode===Yh.OIDC}/*! @azure/msal-common v14.16.0 2024-11-05 */const wc={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v14.16.0 2024-11-05 */const qg="client_id",cfe="redirect_uri",VQ="response_type",$0t="response_mode",j0t="grant_type",z0t="claims",B0t="scope",Z0t="refresh_token",U0t="state",H0t="nonce",V0t="prompt",W0t="code",G0t="code_challenge",K0t="code_challenge_method",q0t="code_verifier",X0t="client-request-id",Y0t="x-client-SKU",J0t="x-client-VER",Q0t="x-client-OS",ebt="x-client-CPU",tbt="x-client-current-telemetry",nbt="x-client-last-telemetry",rbt="x-ms-lib-capability",ibt="x-app-name",obt="x-app-ver",abt="post_logout_redirect_uri",sbt="id_token_hint",lbt="device_code",cbt="client_secret",ubt="client_assertion",dbt="client_assertion_type",WQ="token_type",GQ="req_cnf",hbt="assertion",pbt="requested_token_use",KQ="return_spa_code",fbt="nativebroker",mbt="logout_hint",gbt="sid",ybt="login_hint",vbt="domain_hint",bbt="x-client-xtra-sku",GF="brk_client_id",ND="brk_redirect_uri";/*! @azure/msal-common v14.16.0 2024-11-05 */class Nv{static validateRedirectUri(t){if(!t)throw Oo(Upe)}static validatePrompt(t){const n=[];for(const r in ys)n.push(ys[r]);if(n.indexOf(t)<0)throw Oo(Gpe)}static validateClaims(t){try{JSON.parse(t)}catch{throw Oo(jF)}}static validateCodeChallengeParams(t,n){if(!t||!n)throw Oo(zF);this.validateCodeChallengeMethod(n)}static validateCodeChallengeMethod(t){if([NQ.PLAIN,NQ.S256].indexOf(t)<0)throw Oo(Xpe)}}/*! @azure/msal-common v14.16.0 2024-11-05 */function _bt(e,t,n){if(!t)return;const r=e.get(qg);r&&e.has(GF)&&(n==null||n.addFields({embeddedClientId:r,embeddedRedirectUri:e.get(cfe)},t))}class yw{constructor(t,n){this.parameters=new Map,this.performanceClient=n,this.correlationId=t}addResponseTypeCode(){this.parameters.set(VQ,encodeURIComponent(dn.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(VQ,encodeURIComponent(`${dn.TOKEN_RESPONSE_TYPE} ${dn.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(t){this.parameters.set($0t,encodeURIComponent(t||Gvt.QUERY))}addNativeBroker(){this.parameters.set(fbt,encodeURIComponent("1"))}addScopes(t,n=!0,r=Jb){n&&!r.includes("openid")&&!t.includes("openid")&&r.push("openid");const i=n?[...t||[],...r]:t||[],s=new Oa(i);this.parameters.set(B0t,encodeURIComponent(s.printScopes()))}addClientId(t){this.parameters.set(qg,encodeURIComponent(t))}addRedirectUri(t){Nv.validateRedirectUri(t),this.parameters.set(cfe,encodeURIComponent(t))}addPostLogoutRedirectUri(t){Nv.validateRedirectUri(t),this.parameters.set(abt,encodeURIComponent(t))}addIdTokenHint(t){this.parameters.set(sbt,encodeURIComponent(t))}addDomainHint(t){this.parameters.set(vbt,encodeURIComponent(t))}addLoginHint(t){this.parameters.set(ybt,encodeURIComponent(t))}addCcsUpn(t){this.parameters.set(ul.CCS_HEADER,encodeURIComponent(`UPN:${t}`))}addCcsOid(t){this.parameters.set(ul.CCS_HEADER,encodeURIComponent(`Oid:${t.uid}@${t.utid}`))}addSid(t){this.parameters.set(gbt,encodeURIComponent(t))}addClaims(t,n){const r=this.addClientCapabilitiesToClaims(t,n);Nv.validateClaims(r),this.parameters.set(z0t,encodeURIComponent(r))}addCorrelationId(t){this.parameters.set(X0t,encodeURIComponent(t))}addLibraryInfo(t){this.parameters.set(Y0t,t.sku),this.parameters.set(J0t,t.version),t.os&&this.parameters.set(Q0t,t.os),t.cpu&&this.parameters.set(ebt,t.cpu)}addApplicationTelemetry(t){t!=null&&t.appName&&this.parameters.set(ibt,t.appName),t!=null&&t.appVersion&&this.parameters.set(obt,t.appVersion)}addPrompt(t){Nv.validatePrompt(t),this.parameters.set(`${V0t}`,encodeURIComponent(t))}addState(t){t&&this.parameters.set(U0t,encodeURIComponent(t))}addNonce(t){this.parameters.set(H0t,encodeURIComponent(t))}addCodeChallengeParams(t,n){if(Nv.validateCodeChallengeParams(t,n),t&&n)this.parameters.set(G0t,encodeURIComponent(t)),this.parameters.set(K0t,encodeURIComponent(n));else throw Oo(zF)}addAuthorizationCode(t){this.parameters.set(W0t,encodeURIComponent(t))}addDeviceCode(t){this.parameters.set(lbt,encodeURIComponent(t))}addRefreshToken(t){this.parameters.set(Z0t,encodeURIComponent(t))}addCodeVerifier(t){this.parameters.set(q0t,encodeURIComponent(t))}addClientSecret(t){this.parameters.set(cbt,encodeURIComponent(t))}addClientAssertion(t){t&&this.parameters.set(ubt,encodeURIComponent(t))}addClientAssertionType(t){t&&this.parameters.set(dbt,encodeURIComponent(t))}addOboAssertion(t){this.parameters.set(hbt,encodeURIComponent(t))}addRequestTokenUse(t){this.parameters.set(pbt,encodeURIComponent(t))}addGrantType(t){this.parameters.set(j0t,encodeURIComponent(t))}addClientInfo(){this.parameters.set(Kvt,"1")}addExtraQueryParameters(t){Object.entries(t).forEach(([n,r])=>{!this.parameters.has(n)&&r&&this.parameters.set(n,r)})}addClientCapabilitiesToClaims(t,n){let r;if(!t)r={};else try{r=JSON.parse(t)}catch{throw Oo(jF)}return n&&n.length>0&&(r.hasOwnProperty(IM.ACCESS_TOKEN)||(r[IM.ACCESS_TOKEN]={}),r[IM.ACCESS_TOKEN][IM.XMS_CC]={values:n}),JSON.stringify(r)}addUsername(t){this.parameters.set(DQ.username,encodeURIComponent(t))}addPassword(t){this.parameters.set(DQ.password,encodeURIComponent(t))}addPopToken(t){t&&(this.parameters.set(WQ,To.POP),this.parameters.set(GQ,encodeURIComponent(t)))}addSshJwk(t){t&&(this.parameters.set(WQ,To.SSH),this.parameters.set(GQ,encodeURIComponent(t)))}addServerTelemetry(t){this.parameters.set(tbt,t.generateCurrentRequestHeaderValue()),this.parameters.set(nbt,t.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(rbt,gw.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(t){this.parameters.set(mbt,encodeURIComponent(t))}addBrokerParameters(t){const n={};n[GF]=t.brokerClientId,n[ND]=t.brokerRedirectUri,this.addExtraQueryParameters(n)}createQueryString(){const t=new Array;return this.parameters.forEach((n,r)=>{t.push(`${r}=${n}`)}),_bt(this.parameters,this.correlationId,this.performanceClient),t.join("&")}}/*! @azure/msal-common v14.16.0 2024-11-05 */function xbt(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v14.16.0 2024-11-05 */function wbt(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}/*! @azure/msal-common v14.16.0 2024-11-05 */function Sbt(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}/*! @azure/msal-common v14.16.0 2024-11-05 */const Bt={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},Abt={InProgress:1};/*! @azure/msal-common v14.16.0 2024-11-05 */const dy=(e,t,n,r,i)=>(...s)=>{n.trace(`Executing function ${t}`);const c=r==null?void 0:r.startMeasurement(t,i);if(i){const h=t+"CallCount";r==null||r.incrementFields({[h]:1},i)}try{const h=e(...s);return c==null||c.end({success:!0}),n.trace(`Returning result from ${t}`),h}catch(h){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(h))}catch{n.trace("Unable to print error message.")}throw c==null||c.end({success:!1},h),h}},er=(e,t,n,r,i)=>(...s)=>{n.trace(`Executing function ${t}`);const c=r==null?void 0:r.startMeasurement(t,i);if(i){const h=t+"CallCount";r==null||r.incrementFields({[h]:1},i)}return r==null||r.setPreQueueTime(t,i),e(...s).then(h=>(n.trace(`Returning result from ${t}`),c==null||c.end({success:!0}),h)).catch(h=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(h))}catch{n.trace("Unable to print error message.")}throw c==null||c.end({success:!1},h),h})};/*! @azure/msal-common v14.16.0 2024-11-05 */class G4{constructor(t,n,r,i){this.networkInterface=t,this.logger=n,this.performanceClient=r,this.correlationId=i}async detectRegion(t,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(Bt.RegionDiscoveryDetectRegion,this.correlationId);let r=t;if(r)n.region_source=Ev.ENVIRONMENT_VARIABLE;else{const s=G4.IMDS_OPTIONS;try{const c=await er(this.getRegionFromIMDS.bind(this),Bt.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(dn.IMDS_VERSION,s);if(c.status===kM.httpSuccess&&(r=c.body,n.region_source=Ev.IMDS),c.status===kM.httpBadRequest){const h=await er(this.getCurrentVersion.bind(this),Bt.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(s);if(!h)return n.region_source=Ev.FAILED_AUTO_DETECTION,null;const o=await er(this.getRegionFromIMDS.bind(this),Bt.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(h,s);o.status===kM.httpSuccess&&(r=o.body,n.region_source=Ev.IMDS)}}catch{return n.region_source=Ev.FAILED_AUTO_DETECTION,null}}return r||(n.region_source=Ev.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(t,n){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(Bt.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${dn.IMDS_ENDPOINT}?api-version=${t}&format=text`,n,dn.IMDS_TIMEOUT)}async getCurrentVersion(t){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(Bt.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const r=await this.networkInterface.sendGetRequestAsync(`${dn.IMDS_ENDPOINT}?format=json`,t);return r.status===kM.httpBadRequest&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}}G4.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v14.16.0 2024-11-05 */class Hs{constructor(t,n,r,i,s,c,h,o){this.canonicalAuthority=t,this._canonicalAuthority.validateAsUri(),this.networkInterface=n,this.cacheManager=r,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=s,this.performanceClient=h,this.correlationId=c,this.managedIdentity=o||!1,this.regionDiscovery=new G4(n,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(t){if(t.HostNameAndPort.endsWith(dn.CIAM_AUTH_URL))return Du.Ciam;const n=t.PathSegments;if(n.length)switch(n[0].toLowerCase()){case dn.ADFS:return Du.Adfs;case dn.DSTS:return Du.Dsts}return Du.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(t){this._canonicalAuthority=new Ki(t),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw jn(Rh)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw jn(Rh)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw jn(Rh)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw jn(jpe);return this.replacePath(this.metadata.end_session_endpoint)}else throw jn(Rh)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw jn(Rh)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw jn(Rh)}canReplaceTenant(t){return t.PathSegments.length===1&&!Hs.reservedTenantDomains.has(t.PathSegments[0])&&this.getAuthorityType(t)===Du.Default&&this.protocolMode===Yh.AAD}replaceTenant(t){return t.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(t){let n=t;const i=new Ki(this.metadata.canonical_authority).getUrlComponents(),s=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((h,o)=>{let m=s[o];if(o===0&&this.canReplaceTenant(i)){const y=new Ki(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];m!==y&&(this.logger.verbose(`Replacing tenant domain name ${m} with id ${y}`),m=y)}h!==m&&(n=n.replace(`/${m}/`,`/${h}/`))}),this.replaceTenant(n)}get defaultOpenIdConfigurationEndpoint(){const t=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Du.Adfs||this.protocolMode!==Yh.AAD&&!this.isAliasOfKnownMicrosoftAuthority(t)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var i,s;(i=this.performanceClient)==null||i.addQueueMeasurement(Bt.AuthorityResolveEndpointsAsync,this.correlationId);const t=this.getCurrentMetadataEntity(),n=await er(this.updateCloudDiscoveryMetadata.bind(this),Bt.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(t);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,t.preferred_network);const r=await er(this.updateEndpointMetadata.bind(this),Bt.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(t);this.updateCachedMetadata(t,n,{source:r}),(s=this.performanceClient)==null||s.addFields({cloudDiscoverySource:n,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let t=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return t||(t={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:BQ(),jwks_uri:""}),t}updateCachedMetadata(t,n,r){n!==dc.CACHE&&(r==null?void 0:r.source)!==dc.CACHE&&(t.expiresAt=BQ(),t.canonical_authority=this.canonicalAuthority);const i=this.cacheManager.generateAuthorityMetadataCacheKey(t.preferred_cache);this.cacheManager.setAuthorityMetadata(i,t),this.metadata=t}async updateEndpointMetadata(t){var i,s,c;(i=this.performanceClient)==null||i.addQueueMeasurement(Bt.AuthorityUpdateEndpointMetadata,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(t);if(n){if(n.source===dc.HARDCODED_VALUES&&(s=this.authorityOptions.azureRegionConfiguration)!=null&&s.azureRegion&&n.metadata){const h=await er(this.updateMetadataWithRegionalInformation.bind(this),Bt.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n.metadata);NM(t,h,!1),t.canonical_authority=this.canonicalAuthority}return n.source}let r=await er(this.getEndpointMetadataFromNetwork.bind(this),Bt.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return(c=this.authorityOptions.azureRegionConfiguration)!=null&&c.azureRegion&&(r=await er(this.updateMetadataWithRegionalInformation.bind(this),Bt.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),NM(t,r,!0),dc.NETWORK;throw jn(Mpe,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(t){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const n=this.getEndpointMetadataFromConfig();if(n)return this.logger.verbose("Found endpoint metadata in authority configuration"),NM(t,n,!1),{source:dc.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const i=this.getEndpointMetadataFromHardcodedValues();if(i)return NM(t,i,!1),{source:dc.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=ZQ(t);return this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:dc.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(t){return new Ki(t.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Oo(Ype)}return null}async getEndpointMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(Bt.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const t={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${n}`);try{const i=await this.networkInterface.sendGetRequestAsync(n,t);return xbt(i.body)?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in UQ?UQ[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(t){var r,i,s;(r=this.performanceClient)==null||r.addQueueMeasurement(Bt.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const n=(i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.azureRegion;if(n){if(n!==dn.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=mk.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,Hs.replaceWithRegionalInformation(t,n);const c=await er(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),Bt.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((s=this.authorityOptions.azureRegionConfiguration)==null?void 0:s.environmentRegion,this.regionDiscoveryMetadata);if(c)return this.regionDiscoveryMetadata.region_outcome=mk.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=c,Hs.replaceWithRegionalInformation(t,c);this.regionDiscoveryMetadata.region_outcome=mk.AUTO_DETECTION_REQUESTED_FAILED}return t}async updateCloudDiscoveryMetadata(t){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(Bt.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(t);if(n)return n;const r=await er(this.getCloudDiscoveryMetadataFromNetwork.bind(this),Bt.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return gk(t,r,!0),dc.NETWORK;throw Oo(Jpe)}updateCloudDiscoveryMetadataFromLocalSources(t){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||dn.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||dn.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${t.canonical_authority||dn.NOT_APPLICABLE}`);const n=this.getCloudDiscoveryMetadataFromConfig();if(n)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),gk(t,n,!1),dc.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const i=E0t(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),gk(t,i,!1),dc.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=ZQ(t);return this.isAuthoritySameType(t)&&t.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),dc.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Du.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Hs.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=DP(t.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Oo(BF)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Hs.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(Bt.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const t=`${dn.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,n={};let r=null;try{const s=await this.networkInterface.sendGetRequestAsync(t,n);let c,h;if(wbt(s.body))c=s.body,h=c.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${c.tenant_discovery_endpoint}`);else if(Sbt(s.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${s.status}`),c=s.body,c.error===dn.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${c.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${c.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),h=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=DP(h,this.hostnameAndPort)}catch(s){if(s instanceof ra)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${s.errorCode}
Error Description: ${s.errorMessage}`);else{const c=s;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${c.name}
Error Description: ${c.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Hs.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(n=>n&&Ki.getDomainFromUrl(n).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(t,n){let r;if(n&&n.azureCloudInstance!==FF.None){const i=n.tenant?n.tenant:dn.DEFAULT_COMMON_TENANT;r=`${n.azureCloudInstance}/${i}/`}return r||t}static createCloudDiscoveryMetadataFromHost(t){return{preferred_network:t,preferred_cache:t,aliases:[t]}}getPreferredCache(){if(this.managedIdentity)return dn.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw jn(Rh)}isAlias(t){return this.metadata.aliases.indexOf(t)>-1}isAliasOfKnownMicrosoftAuthority(t){return afe.has(t)}static isPublicCloudAuthority(t){return dn.KNOWN_PUBLIC_CLOUDS.indexOf(t)>=0}static buildRegionalAuthorityString(t,n,r){const i=new Ki(t);i.validateAsUri();const s=i.getUrlComponents();let c=`${n}.${s.HostNameAndPort}`;this.isPublicCloudAuthority(s.HostNameAndPort)&&(c=`${n}.${dn.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const h=Ki.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:c}).urlString;return r?`${h}?${r}`:h}static replaceWithRegionalInformation(t,n){const r={...t};return r.authorization_endpoint=Hs.buildRegionalAuthorityString(r.authorization_endpoint,n),r.token_endpoint=Hs.buildRegionalAuthorityString(r.token_endpoint,n),r.end_session_endpoint&&(r.end_session_endpoint=Hs.buildRegionalAuthorityString(r.end_session_endpoint,n)),r}static transformCIAMAuthority(t){let n=t;const i=new Ki(t).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(dn.CIAM_AUTH_URL)){const s=i.HostNameAndPort.split(".")[0];n=`${n}${s}${dn.AAD_TENANT_DOMAIN_SUFFIX}`}return n}}Hs.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Pf.COMMON,Pf.CONSUMERS,Pf.ORGANIZATIONS]);function Cbt(e){var i;const r=(i=new Ki(e).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:i.toLowerCase();switch(r){case Pf.COMMON:case Pf.ORGANIZATIONS:case Pf.CONSUMERS:return;default:return r}}function ufe(e){return e.endsWith(dn.FORWARD_SLASH)?e:`${e}${dn.FORWARD_SLASH}`}function Mbt(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch{throw Oo(BF)}return{canonicalAuthority:e.authority?ufe(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}/*! @azure/msal-common v14.16.0 2024-11-05 */async function dfe(e,t,n,r,i,s,c){c==null||c.addQueueMeasurement(Bt.AuthorityFactoryCreateDiscoveredInstance,s);const h=Hs.transformCIAMAuthority(ufe(e)),o=new Hs(h,t,n,r,i,s,c);try{return await er(o.resolveEndpointsAsync.bind(o),Bt.AuthorityResolveEndpointsAsync,i,c,s)(),o}catch{throw jn(Rh)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class jf extends ra{constructor(t,n,r,i,s){super(t,n,r),this.name="ServerError",this.errorNo=i,this.status=s,Object.setPrototypeOf(this,jf.prototype)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class Ld{static generateThrottlingStorageKey(t){return`${gw.THROTTLING_PREFIX}.${JSON.stringify(t)}`}static preProcess(t,n){var s;const r=Ld.generateThrottlingStorageKey(n),i=t.getThrottlingCache(r);if(i){if(i.throttleTime<Date.now()){t.removeItem(r);return}throw new jf(((s=i.errorCodes)==null?void 0:s.join(" "))||dn.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(t,n,r){if(Ld.checkResponseStatus(r)||Ld.checkResponseForRetryAfter(r)){const i={throttleTime:Ld.calculateThrottleTime(parseInt(r.headers[ul.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};t.setThrottlingCache(Ld.generateThrottlingStorageKey(n),i)}}static checkResponseStatus(t){return t.status===429||t.status>=500&&t.status<600}static checkResponseForRetryAfter(t){return t.headers?t.headers.hasOwnProperty(ul.RETRY_AFTER)&&(t.status<200||t.status>=300):!1}static calculateThrottleTime(t){const n=t<=0?0:t,r=Date.now()/1e3;return Math.floor(Math.min(r+(n||gw.DEFAULT_THROTTLE_TIME_SECONDS),r+gw.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(t,n,r,i){const s={clientId:n,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:i,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},c=this.generateThrottlingStorageKey(s);t.removeItem(c)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class K4 extends ra{constructor(t,n,r){super(t.errorCode,t.errorMessage,t.subError),Object.setPrototypeOf(this,K4.prototype),this.name="NetworkError",this.error=t,this.httpStatus=n,this.responseHeaders=r}}function qQ(e,t,n){return new K4(e,t,n)}/*! @azure/msal-common v14.16.0 2024-11-05 */class KF{constructor(t,n){this.config=L0t(t),this.logger=new Qb(this.config.loggerOptions,zpe,LF),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=n}createTokenRequestHeaders(t){const n={};if(n[ul.CONTENT_TYPE]=dn.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&t)switch(t.type){case wc.HOME_ACCOUNT_ID:try{const r=i0(t.credential);n[ul.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case wc.UPN:n[ul.CCS_HEADER]=`UPN: ${t.credential}`;break}return n}async executePostToTokenEndpoint(t,n,r,i,s,c){var o;c&&((o=this.performanceClient)==null||o.addQueueMeasurement(c,s));const h=await this.sendPostRequest(i,t,{body:n,headers:r},s);return this.config.serverTelemetryManager&&h.status<500&&h.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),h}async sendPostRequest(t,n,r,i){var c,h,o;Ld.preProcess(this.cacheManager,t);let s;try{s=await er(this.networkClient.sendPostRequestAsync.bind(this.networkClient),Bt.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,i)(n,r);const m=s.headers||{};(h=this.performanceClient)==null||h.addFields({refreshTokenSize:((c=s.body.refresh_token)==null?void 0:c.length)||0,httpVerToken:m[ul.X_MS_HTTP_VERSION]||"",requestId:m[ul.X_MS_REQUEST_ID]||""},i)}catch(m){if(m instanceof K4){const y=m.responseHeaders;throw y&&((o=this.performanceClient)==null||o.addFields({httpVerToken:y[ul.X_MS_HTTP_VERSION]||"",requestId:y[ul.X_MS_REQUEST_ID]||"",contentTypeHeader:y[ul.CONTENT_TYPE]||void 0,contentLengthHeader:y[ul.CONTENT_LENGTH]||void 0,httpStatus:m.httpStatus},i)),m.error}throw m instanceof ra?m:jn(Cpe)}return Ld.postProcess(this.cacheManager,t,s),s}async updateAuthority(t,n){var s;(s=this.performanceClient)==null||s.addQueueMeasurement(Bt.UpdateTokenEndpointAuthority,n);const r=`https://${t}/${this.authority.tenant}/`,i=await dfe(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,n,this.performanceClient);this.authority=i}createTokenQueryParameters(t){const n=new yw(t.correlationId,this.performanceClient);return t.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),t.tokenQueryParameters&&n.addExtraQueryParameters(t.tokenQueryParameters),n.addCorrelationId(t.correlationId),n.createQueryString()}}/*! @azure/msal-common v14.16.0 2024-11-05 */const LP="no_tokens_found",hfe="native_account_unavailable",qF="refresh_token_expired",Ebt="interaction_required",Tbt="consent_required",Pbt="login_required",q4="bad_token";/*! @azure/msal-common v14.16.0 2024-11-05 */const XQ=[Ebt,Tbt,Pbt,q4],Ibt=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Obt={[LP]:"No refresh token found in the cache. Please sign-in.",[hfe]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[qF]:"Refresh token has expired.",[q4]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class Qu extends ra{constructor(t,n,r,i,s,c,h,o){super(t,n,r),Object.setPrototypeOf(this,Qu.prototype),this.timestamp=i||dn.EMPTY_STRING,this.traceId=s||dn.EMPTY_STRING,this.correlationId=c||dn.EMPTY_STRING,this.claims=h||dn.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=o}}function YQ(e,t,n){const r=!!e&&XQ.indexOf(e)>-1,i=!!n&&Ibt.indexOf(n)>-1,s=!!t&&XQ.some(c=>t.indexOf(c)>-1);return r||s||i}function RD(e){return new Qu(e,Obt[e])}/*! @azure/msal-common v14.16.0 2024-11-05 */class qu{static setRequestState(t,n,r){const i=qu.generateLibraryState(t,r);return n?`${i}${dn.RESOURCE_DELIM}${n}`:i}static generateLibraryState(t,n){if(!t)throw jn(TD);const r={id:t.createNewGuid()};n&&(r.meta=n);const i=JSON.stringify(r);return t.base64Encode(i)}static parseRequestState(t,n){if(!t)throw jn(TD);if(!n)throw jn(yb);try{const r=n.split(dn.RESOURCE_DELIM),i=r[0],s=r.length>1?r.slice(1).join(dn.RESOURCE_DELIM):dn.EMPTY_STRING,c=t.base64Decode(i),h=JSON.parse(c);return{userRequestState:s||dn.EMPTY_STRING,libraryState:h}}catch{throw jn(yb)}}}/*! @azure/msal-common v14.16.0 2024-11-05 */const kbt={SW:"sw"};class bb{constructor(t,n){this.cryptoUtils=t,this.performanceClient=n}async generateCnf(t,n){var s;(s=this.performanceClient)==null||s.addQueueMeasurement(Bt.PopTokenGenerateCnf,t.correlationId);const r=await er(this.generateKid.bind(this),Bt.PopTokenGenerateCnf,n,this.performanceClient,t.correlationId)(t),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:i}}async generateKid(t){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(Bt.PopTokenGenerateKid,t.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(t),xms_ksl:kbt.SW}}async signPopToken(t,n,r){return this.signPayload(t,n,r)}async signPayload(t,n,r,i){const{resourceRequestMethod:s,resourceRequestUri:c,shrClaims:h,shrNonce:o,shrOptions:m}=r,y=c?new Ki(c):void 0,v=y==null?void 0:y.getUrlComponents();return this.cryptoUtils.signJwt({at:t,ts:eh(),m:s==null?void 0:s.toUpperCase(),u:v==null?void 0:v.HostNameAndPort,nonce:o||this.cryptoUtils.createNewGuid(),p:v==null?void 0:v.AbsolutePath,q:v!=null&&v.QueryString?[[],v.QueryString]:void 0,client_claims:h||void 0,...i},n,m,r.correlationId)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class Nbt{constructor(t,n){this.cache=t,this.hasChanged=n}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v14.16.0 2024-11-05 */function Rbt(e){var r,i;const t="code=",n=(r=e.error_uri)==null?void 0:r.lastIndexOf(t);return n&&n>=0?(i=e.error_uri)==null?void 0:i.substring(n+t.length):void 0}class Xg{constructor(t,n,r,i,s,c,h){this.clientId=t,this.cacheStorage=n,this.cryptoObj=r,this.logger=i,this.serializableCache=s,this.persistencePlugin=c,this.performanceClient=h}validateServerAuthorizationCodeResponse(t,n){if(!t.state||!n)throw t.state?jn(IP,"Cached State"):jn(IP,"Server State");let r,i;try{r=decodeURIComponent(t.state)}catch{throw jn(yb,t.state)}try{i=decodeURIComponent(n)}catch{throw jn(yb,t.state)}if(r!==i)throw jn(Tpe);if(t.error||t.error_description||t.suberror){const s=Rbt(t);throw YQ(t.error,t.error_description,t.suberror)?new Qu(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",s):new jf(t.error||"",t.error_description,t.suberror,s)}}validateTokenResponse(t,n){var r;if(t.error||t.error_description||t.suberror){const i=`Error(s): ${t.error_codes||dn.NOT_AVAILABLE} - Timestamp: ${t.timestamp||dn.NOT_AVAILABLE} - Description: ${t.error_description||dn.NOT_AVAILABLE} - Correlation ID: ${t.correlation_id||dn.NOT_AVAILABLE} - Trace ID: ${t.trace_id||dn.NOT_AVAILABLE}`,s=(r=t.error_codes)!=null&&r.length?t.error_codes[0]:void 0,c=new jf(t.error,i,t.suberror,s,t.status);if(n&&t.status&&t.status>=PM.SERVER_ERROR_RANGE_START&&t.status<=PM.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${c}`);return}else if(n&&t.status&&t.status>=PM.CLIENT_ERROR_RANGE_START&&t.status<=PM.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${c}`);return}throw YQ(t.error,t.error_description,t.suberror)?new Qu(t.error,t.error_description,t.suberror,t.timestamp||dn.EMPTY_STRING,t.trace_id||dn.EMPTY_STRING,t.correlation_id||dn.EMPTY_STRING,t.claims||dn.EMPTY_STRING,s):c}}async handleServerTokenResponse(t,n,r,i,s,c,h,o,m){var P;(P=this.performanceClient)==null||P.addQueueMeasurement(Bt.HandleServerTokenResponse,t.correlation_id);let y;if(t.id_token){if(y=uy(t.id_token||dn.EMPTY_STRING,this.cryptoObj.base64Decode),s&&s.nonce&&y.nonce!==s.nonce)throw jn(Ppe);if(i.maxAge||i.maxAge===0){const I=y.auth_time;if(!I)throw jn(kF);Bpe(I,i.maxAge)}}this.homeAccountIdentifier=rs.generateHomeAccountId(t.client_info||dn.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,y);let v;s&&s.state&&(v=qu.parseRequestState(this.cryptoObj,s.state)),t.key_id=t.key_id||i.sshKid||void 0;const S=this.generateCacheRecord(t,n,r,i,y,c,s);let C;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),C=new Nbt(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(C)),h&&!o&&S.account){const I=S.account.generateAccountKey();if(!this.cacheStorage.getAccount(I,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Xg.generateAuthenticationResult(this.cryptoObj,n,S,!1,i,y,v,void 0,m)}await this.cacheStorage.saveCacheRecord(S,i.storeInCache,i.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&C&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(C))}return Xg.generateAuthenticationResult(this.cryptoObj,n,S,!1,i,y,v,t,m)}generateCacheRecord(t,n,r,i,s,c,h){const o=n.getPreferredCache();if(!o)throw jn(RF);const m=rfe(s);let y,v;t.id_token&&s&&(y=H4(this.homeAccountIdentifier,o,t.id_token,this.clientId,m||""),v=XF(this.cacheStorage,n,this.homeAccountIdentifier,this.cryptoObj.base64Decode,s,t.client_info,o,m,h,void 0,this.logger));let S=null;if(t.access_token){const I=t.scope?Oa.fromString(t.scope):new Oa(i.scopes||[]),N=(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,D=(typeof t.ext_expires_in=="string"?parseInt(t.ext_expires_in,10):t.ext_expires_in)||0,k=(typeof t.refresh_in=="string"?parseInt(t.refresh_in,10):t.refresh_in)||void 0,F=r+N,U=F+D,B=k&&k>0?r+k:void 0;S=V4(this.homeAccountIdentifier,o,t.access_token,this.clientId,m||n.tenant||"",I.printScopes(),F,U,this.cryptoObj.base64Decode,B,t.token_type,c,t.key_id,i.claims,i.requestedClaimsHash)}let C=null;if(t.refresh_token){let I;if(t.refresh_token_expires_in){const N=typeof t.refresh_token_expires_in=="string"?parseInt(t.refresh_token_expires_in,10):t.refresh_token_expires_in;I=r+N}C=Zpe(this.homeAccountIdentifier,o,t.refresh_token,this.clientId,t.foci,c,I)}let P=null;return t.foci&&(P={clientId:this.clientId,environment:o,familyId:t.foci}),{account:v,idToken:y,accessToken:S,refreshToken:C,appMetadata:P}}static async generateAuthenticationResult(t,n,r,i,s,c,h,o,m){var F,U,B,z,W;let y=dn.EMPTY_STRING,v=[],S=null,C,P,I=dn.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===To.POP&&!s.popKid){const Y=new bb(t),{secret:K,keyId:ee}=r.accessToken;if(!ee)throw jn(DF);y=await Y.signPopToken(K,ee,s)}else y=r.accessToken.secret;v=Oa.fromString(r.accessToken.target).asArray(),S=new Date(Number(r.accessToken.expiresOn)*1e3),C=new Date(Number(r.accessToken.extendedExpiresOn)*1e3),r.accessToken.refreshOn&&(P=new Date(Number(r.accessToken.refreshOn)*1e3))}r.appMetadata&&(I=r.appMetadata.familyId===mw?mw:"");const N=(c==null?void 0:c.oid)||(c==null?void 0:c.sub)||"",D=(c==null?void 0:c.tid)||"";o!=null&&o.spa_accountid&&r.account&&(r.account.nativeAccountId=o==null?void 0:o.spa_accountid);const k=r.account?HF(r.account.getAccountInfo(),void 0,c,(F=r.idToken)==null?void 0:F.secret):null;return{authority:n.canonicalAuthority,uniqueId:N,tenantId:D,scopes:v,account:k,idToken:((U=r==null?void 0:r.idToken)==null?void 0:U.secret)||"",idTokenClaims:c||{},accessToken:y,fromCache:i,expiresOn:S,extExpiresOn:C,refreshOn:P,correlationId:s.correlationId,requestId:m||dn.EMPTY_STRING,familyId:I,tokenType:((B=r.accessToken)==null?void 0:B.tokenType)||dn.EMPTY_STRING,state:h?h.userRequestState:dn.EMPTY_STRING,cloudGraphHostName:((z=r.account)==null?void 0:z.cloudGraphHostName)||dn.EMPTY_STRING,msGraphHost:((W=r.account)==null?void 0:W.msGraphHost)||dn.EMPTY_STRING,code:o==null?void 0:o.spa_code,fromNativeBroker:!1}}}function XF(e,t,n,r,i,s,c,h,o,m,y){y==null||y.verbose("setCachedAccount called");const S=e.getAccountKeys().find(D=>D.startsWith(n));let C=null;S&&(C=e.getAccount(S,y));const P=C||rs.createAccount({homeAccountId:n,idTokenClaims:i,clientInfo:s,environment:c,cloudGraphHostName:o==null?void 0:o.cloud_graph_host_name,msGraphHost:o==null?void 0:o.msgraph_host,nativeAccountId:m},t,r),I=P.tenantProfiles||[],N=h||P.realm;if(N&&!I.find(D=>D.tenantId===N)){const D=UF(n,P.localAccountId,N,i);I.push(D)}return P.tenantProfiles=I,P}/*! @azure/msal-common v14.16.0 2024-11-05 */async function pfe(e,t,n){return typeof e=="string"?e:e({clientId:t,tokenEndpoint:n})}/*! @azure/msal-common v14.16.0 2024-11-05 */class ffe extends KF{constructor(t,n){var r;super(t,n),this.includeRedirectUri=!0,this.oidcDefaultScopes=(r=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:r.defaultScopes}async getAuthCodeUrl(t){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(Bt.GetAuthCodeUrl,t.correlationId);const n=await er(this.createAuthCodeUrlQueryString.bind(this),Bt.AuthClientCreateQueryString,this.logger,this.performanceClient,t.correlationId)(t);return Ki.appendQueryString(this.authority.authorizationEndpoint,n)}async acquireToken(t,n){var h,o;if((h=this.performanceClient)==null||h.addQueueMeasurement(Bt.AuthClientAcquireToken,t.correlationId),!t.code)throw jn(kpe);const r=eh(),i=await er(this.executeTokenRequest.bind(this),Bt.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,t.correlationId)(this.authority,t),s=(o=i.headers)==null?void 0:o[ul.X_MS_REQUEST_ID],c=new Xg(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return c.validateTokenResponse(i.body),er(c.handleServerTokenResponse.bind(c),Bt.HandleServerTokenResponse,this.logger,this.performanceClient,t.correlationId)(i.body,this.authority,r,t,n,void 0,void 0,void 0,s)}handleFragmentResponse(t,n){if(new Xg(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(t,n),!t.code)throw jn(Fpe);return t}getLogoutUri(t){if(!t)throw Oo(qpe);const n=this.createLogoutUrlQueryString(t);return Ki.appendQueryString(this.authority.endSessionEndpoint,n)}async executeTokenRequest(t,n){var m,y;(m=this.performanceClient)==null||m.addQueueMeasurement(Bt.AuthClientExecuteTokenRequest,n.correlationId);const r=this.createTokenQueryParameters(n),i=Ki.appendQueryString(t.tokenEndpoint,r),s=await er(this.createTokenRequestBody.bind(this),Bt.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,n.correlationId)(n);let c;if(n.clientInfo)try{const v=kP(n.clientInfo,this.cryptoUtils.base64Decode);c={credential:`${v.uid}${qs.CLIENT_INFO_SEPARATOR}${v.utid}`,type:wc.HOME_ACCOUNT_ID}}catch(v){this.logger.verbose("Could not parse client info for CCS Header: "+v)}const h=this.createTokenRequestHeaders(c||n.ccsCredential),o={clientId:((y=n.tokenBodyParameters)==null?void 0:y.clientId)||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:n.scopes,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid};return er(this.executePostToTokenEndpoint.bind(this),Bt.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,n.correlationId)(i,s,h,o,n.correlationId,Bt.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(t){var i,s;(i=this.performanceClient)==null||i.addQueueMeasurement(Bt.AuthClientCreateTokenRequestBody,t.correlationId);const n=new yw(t.correlationId,this.performanceClient);if(n.addClientId(t.embeddedClientId||((s=t.tokenBodyParameters)==null?void 0:s[qg])||this.config.authOptions.clientId),this.includeRedirectUri?n.addRedirectUri(t.redirectUri):Nv.validateRedirectUri(t.redirectUri),n.addScopes(t.scopes,!0,this.oidcDefaultScopes),n.addAuthorizationCode(t.code),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!kD(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),t.codeVerifier&&n.addCodeVerifier(t.codeVerifier),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const c=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await pfe(c.assertion,this.config.authOptions.clientId,t.resourceRequestUri)),n.addClientAssertionType(c.assertionType)}if(n.addGrantType(xpe.AUTHORIZATION_CODE_GRANT),n.addClientInfo(),t.authenticationScheme===To.POP){const c=new bb(this.cryptoUtils,this.performanceClient);let h;t.popKid?h=this.cryptoUtils.encodeKid(t.popKid):h=(await er(c.generateCnf.bind(c),Bt.PopTokenGenerateCnf,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,n.addPopToken(h)}else if(t.authenticationScheme===To.SSH)if(t.sshJwk)n.addSshJwk(t.sshJwk);else throw Oo(W4);(!Ku.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(t.claims,this.config.authOptions.clientCapabilities);let r;if(t.clientInfo)try{const c=kP(t.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${c.uid}${qs.CLIENT_INFO_SEPARATOR}${c.utid}`,type:wc.HOME_ACCOUNT_ID}}catch(c){this.logger.verbose("Could not parse client info for CCS Header: "+c)}else r=t.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case wc.HOME_ACCOUNT_ID:try{const c=i0(r.credential);n.addCcsOid(c)}catch(c){this.logger.verbose("Could not parse home account ID for CCS Header: "+c)}break;case wc.UPN:n.addCcsUpn(r.credential);break}return t.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),t.tokenBodyParameters&&n.addExtraQueryParameters(t.tokenBodyParameters),t.enableSpaAuthorizationCode&&(!t.tokenBodyParameters||!t.tokenBodyParameters[KQ])&&n.addExtraQueryParameters({[KQ]:"1"}),n.createQueryString()}async createAuthCodeUrlQueryString(t){var s,c;const n=t.correlationId||this.config.cryptoInterface.createNewGuid();(s=this.performanceClient)==null||s.addQueueMeasurement(Bt.AuthClientCreateQueryString,n);const r=new yw(n,this.performanceClient);r.addClientId(t.embeddedClientId||((c=t.extraQueryParameters)==null?void 0:c[qg])||this.config.authOptions.clientId);const i=[...t.scopes||[],...t.extraScopesToConsent||[]];if(r.addScopes(i,!0,this.oidcDefaultScopes),r.addRedirectUri(t.redirectUri),r.addCorrelationId(n),r.addResponseMode(t.responseMode),r.addResponseTypeCode(),r.addLibraryInfo(this.config.libraryInfo),kD(this.config)||r.addApplicationTelemetry(this.config.telemetry.application),r.addClientInfo(),t.codeChallenge&&t.codeChallengeMethod&&r.addCodeChallengeParams(t.codeChallenge,t.codeChallengeMethod),t.prompt&&r.addPrompt(t.prompt),t.domainHint&&r.addDomainHint(t.domainHint),t.prompt!==ys.SELECT_ACCOUNT)if(t.sid&&t.prompt===ys.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),r.addSid(t.sid);else if(t.account){const h=this.extractAccountSid(t.account);let o=this.extractLoginHint(t.account);if(o&&t.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),o=null),o){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),r.addLoginHint(o);try{const m=i0(t.account.homeAccountId);r.addCcsOid(m)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(h&&t.prompt===ys.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),r.addSid(h);try{const m=i0(t.account.homeAccountId);r.addCcsOid(m)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),r.addLoginHint(t.loginHint),r.addCcsUpn(t.loginHint);else if(t.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),r.addLoginHint(t.account.username);try{const m=i0(t.account.homeAccountId);r.addCcsOid(m)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),r.addLoginHint(t.loginHint),r.addCcsUpn(t.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(t.nonce&&r.addNonce(t.nonce),t.state&&r.addState(t.state),(t.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(t.claims,this.config.authOptions.clientCapabilities),t.embeddedClientId&&r.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),this.addExtraQueryParams(t,r),t.nativeBroker&&(r.addNativeBroker(),t.authenticationScheme===To.POP)){const h=new bb(this.cryptoUtils);let o;t.popKid?o=this.cryptoUtils.encodeKid(t.popKid):o=(await er(h.generateCnf.bind(h),Bt.PopTokenGenerateCnf,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,r.addPopToken(o)}return r.createQueryString()}createLogoutUrlQueryString(t){const n=new yw(t.correlationId,this.performanceClient);return t.postLogoutRedirectUri&&n.addPostLogoutRedirectUri(t.postLogoutRedirectUri),t.correlationId&&n.addCorrelationId(t.correlationId),t.idTokenHint&&n.addIdTokenHint(t.idTokenHint),t.state&&n.addState(t.state),t.logoutHint&&n.addLogoutHint(t.logoutHint),this.addExtraQueryParams(t,n),n.createQueryString()}addExtraQueryParams(t,n){!(t.extraQueryParameters&&t.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(t.extraQueryParameters=t.extraQueryParameters||{},t.extraQueryParameters.instance_aware="true"),t.extraQueryParameters&&n.addExtraQueryParameters(t.extraQueryParameters)}extractAccountSid(t){var n;return((n=t.idTokenClaims)==null?void 0:n.sid)||null}extractLoginHint(t){var n;return((n=t.idTokenClaims)==null?void 0:n.login_hint)||null}}/*! @azure/msal-common v14.16.0 2024-11-05 */const Dbt=300;class DD extends KF{constructor(t,n){super(t,n)}async acquireToken(t){var c,h;(c=this.performanceClient)==null||c.addQueueMeasurement(Bt.RefreshTokenClientAcquireToken,t.correlationId);const n=eh(),r=await er(this.executeTokenRequest.bind(this),Bt.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,t.correlationId)(t,this.authority),i=(h=r.headers)==null?void 0:h[ul.X_MS_REQUEST_ID],s=new Xg(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return s.validateTokenResponse(r.body),er(s.handleServerTokenResponse.bind(s),Bt.HandleServerTokenResponse,this.logger,this.performanceClient,t.correlationId)(r.body,this.authority,n,t,void 0,void 0,!0,t.forceCache,i)}async acquireTokenByRefreshToken(t){var r;if(!t)throw Oo(Kpe);if((r=this.performanceClient)==null||r.addQueueMeasurement(Bt.RefreshTokenClientAcquireTokenByRefreshToken,t.correlationId),!t.account)throw jn(NF);if(this.cacheManager.isAppMetadataFOCI(t.account.environment))try{return await er(this.acquireTokenWithCachedRefreshToken.bind(this),Bt.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,!0)}catch(i){const s=i instanceof Qu&&i.errorCode===LP,c=i instanceof jf&&i.errorCode===RQ.INVALID_GRANT_ERROR&&i.subError===RQ.CLIENT_MISMATCH_ERROR;if(s||c)return er(this.acquireTokenWithCachedRefreshToken.bind(this),Bt.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,!1);throw i}return er(this.acquireTokenWithCachedRefreshToken.bind(this),Bt.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,!1)}async acquireTokenWithCachedRefreshToken(t,n){var s;(s=this.performanceClient)==null||s.addQueueMeasurement(Bt.RefreshTokenClientAcquireTokenWithCachedRefreshToken,t.correlationId);const r=dy(this.cacheManager.getRefreshToken.bind(this.cacheManager),Bt.CacheManagerGetRefreshToken,this.logger,this.performanceClient,t.correlationId)(t.account,n,void 0,this.performanceClient,t.correlationId);if(!r)throw RD(LP);if(r.expiresOn&&OD(r.expiresOn,t.refreshTokenExpirationOffsetSeconds||Dbt))throw RD(qF);const i={...t,refreshToken:r.secret,authenticationScheme:t.authenticationScheme||To.BEARER,ccsCredential:{credential:t.account.homeAccountId,type:wc.HOME_ACCOUNT_ID}};try{return await er(this.acquireToken.bind(this),Bt.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(i)}catch(c){if(c instanceof Qu&&c.subError===q4){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const h=r0(r);this.cacheManager.removeRefreshToken(h)}throw c}}async executeTokenRequest(t,n){var o,m;(o=this.performanceClient)==null||o.addQueueMeasurement(Bt.RefreshTokenClientExecuteTokenRequest,t.correlationId);const r=this.createTokenQueryParameters(t),i=Ki.appendQueryString(n.tokenEndpoint,r),s=await er(this.createTokenRequestBody.bind(this),Bt.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t),c=this.createTokenRequestHeaders(t.ccsCredential),h={clientId:((m=t.tokenBodyParameters)==null?void 0:m.clientId)||this.config.authOptions.clientId,authority:n.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return er(this.executePostToTokenEndpoint.bind(this),Bt.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(i,s,c,h,t.correlationId,Bt.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(t){var i,s,c;(i=this.performanceClient)==null||i.addQueueMeasurement(Bt.RefreshTokenClientCreateTokenRequestBody,t.correlationId);const n=t.correlationId,r=new yw(n,this.performanceClient);if(r.addClientId(t.embeddedClientId||((s=t.tokenBodyParameters)==null?void 0:s[qg])||this.config.authOptions.clientId),t.redirectUri&&r.addRedirectUri(t.redirectUri),r.addScopes(t.scopes,!0,(c=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:c.defaultScopes),r.addGrantType(xpe.REFRESH_TOKEN_GRANT),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&!kD(this.config)&&r.addServerTelemetry(this.serverTelemetryManager),r.addRefreshToken(t.refreshToken),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const h=this.config.clientCredentials.clientAssertion;r.addClientAssertion(await pfe(h.assertion,this.config.authOptions.clientId,t.resourceRequestUri)),r.addClientAssertionType(h.assertionType)}if(t.authenticationScheme===To.POP){const h=new bb(this.cryptoUtils,this.performanceClient);let o;t.popKid?o=this.cryptoUtils.encodeKid(t.popKid):o=(await er(h.generateCnf.bind(h),Bt.PopTokenGenerateCnf,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,r.addPopToken(o)}else if(t.authenticationScheme===To.SSH)if(t.sshJwk)r.addSshJwk(t.sshJwk);else throw Oo(W4);if((!Ku.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(t.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&t.ccsCredential)switch(t.ccsCredential.type){case wc.HOME_ACCOUNT_ID:try{const h=i0(t.ccsCredential.credential);r.addCcsOid(h)}catch(h){this.logger.verbose("Could not parse home account ID for CCS Header: "+h)}break;case wc.UPN:r.addCcsUpn(t.ccsCredential.credential);break}return t.embeddedClientId&&r.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),t.tokenBodyParameters&&r.addExtraQueryParameters(t.tokenBodyParameters),r.createQueryString()}}/*! @azure/msal-common v14.16.0 2024-11-05 */class Lbt extends KF{constructor(t,n){super(t,n)}async acquireToken(t){var n;try{const[r,i]=await this.acquireCachedToken({...t,scopes:(n=t.scopes)!=null&&n.length?t.scopes:[...Jb]});return i===tf.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new DD(this.config,this.performanceClient).acquireTokenByRefreshToken(t).catch(()=>{})),r}catch(r){if(r instanceof U4&&r.errorCode===Hh)return new DD(this.config,this.performanceClient).acquireTokenByRefreshToken(t);throw r}}async acquireCachedToken(t){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(Bt.SilentFlowClientAcquireCachedToken,t.correlationId);let n=tf.NOT_APPLICABLE;if(t.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Ku.isEmptyObj(t.claims))throw this.setCacheOutcome(tf.FORCE_REFRESH_OR_CLAIMS,t.correlationId),jn(Hh);if(!t.account)throw jn(NF);const r=t.account.tenantId||Cbt(t.authority),i=this.cacheManager.getTokenKeys(),s=this.cacheManager.getAccessToken(t.account,t,i,r,this.performanceClient,t.correlationId);if(s){if(d0t(s.cachedAt)||OD(s.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(tf.CACHED_ACCESS_TOKEN_EXPIRED,t.correlationId),jn(Hh);s.refreshOn&&OD(s.refreshOn,0)&&(n=tf.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(tf.NO_CACHED_ACCESS_TOKEN,t.correlationId),jn(Hh);const c=t.authority||this.authority.getPreferredCache(),h={account:this.cacheManager.readAccountFromCache(t.account),accessToken:s,idToken:this.cacheManager.getIdToken(t.account,i,r,this.performanceClient,t.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(c)};return this.setCacheOutcome(n,t.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await er(this.generateResultFromCacheRecord.bind(this),Bt.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,t.correlationId)(h,t),n]}setCacheOutcome(t,n){var r,i;(r=this.serverTelemetryManager)==null||r.setCacheOutcome(t),(i=this.performanceClient)==null||i.addFields({cacheOutcome:t},n),t!==tf.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${t}`)}async generateResultFromCacheRecord(t,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(Bt.SilentFlowClientGenerateResultFromCacheRecord,n.correlationId);let r;if(t.idToken&&(r=uy(t.idToken.secret,this.config.cryptoInterface.base64Decode)),n.maxAge||n.maxAge===0){const s=r==null?void 0:r.auth_time;if(!s)throw jn(kF);Bpe(s,n.maxAge)}return Xg.generateAuthenticationResult(this.cryptoUtils,this.authority,t,!0,n,r)}}/*! @azure/msal-common v14.16.0 2024-11-05 */const Fbt={sendGetRequestAsync:()=>Promise.reject(jn(Ei)),sendPostRequestAsync:()=>Promise.reject(jn(Ei))};/*! @azure/msal-common v14.16.0 2024-11-05 */const JQ=",",mfe="|";function $bt(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:i,extensionVersion:s}=e,c=new Map([[0,[n,r]],[2,[i,s]]]);let h=[];if(t!=null&&t.length){if(h=t.split(JQ),h.length<4)return t}else h=Array.from({length:4},()=>mfe);return c.forEach((o,m)=>{var y,v;o.length===2&&((y=o[0])!=null&&y.length)&&((v=o[1])!=null&&v.length)&&jbt({skuArr:h,index:m,skuName:o[0],skuVersion:o[1]})}),h.join(JQ)}function jbt(e){const{skuArr:t,index:n,skuName:r,skuVersion:i}=e;n>=t.length||(t[n]=[r,i].join(mfe))}class HS{constructor(t,n){this.cacheOutcome=tf.NOT_APPLICABLE,this.cacheManager=n,this.apiId=t.apiId,this.correlationId=t.correlationId,this.wrapperSKU=t.wrapperSKU||dn.EMPTY_STRING,this.wrapperVer=t.wrapperVer||dn.EMPTY_STRING,this.telemetryCacheKey=Ms.CACHE_KEY+qs.CACHE_KEY_SEPARATOR+t.clientId}generateCurrentRequestHeaderValue(){const t=`${this.apiId}${Ms.VALUE_SEPARATOR}${this.cacheOutcome}`,n=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r!=null&&r.length&&n.push(`broker_error=${r}`);const i=n.join(Ms.VALUE_SEPARATOR),s=this.getRegionDiscoveryFields(),c=[t,s].join(Ms.VALUE_SEPARATOR);return[Ms.SCHEMA_VERSION,c,i].join(Ms.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const t=this.getLastRequests(),n=HS.maxErrorsToSend(t),r=t.failedRequests.slice(0,2*n).join(Ms.VALUE_SEPARATOR),i=t.errors.slice(0,n).join(Ms.VALUE_SEPARATOR),s=t.errors.length,c=n<s?Ms.OVERFLOW_TRUE:Ms.OVERFLOW_FALSE,h=[s,c].join(Ms.VALUE_SEPARATOR);return[Ms.SCHEMA_VERSION,t.cacheHits,r,i,h].join(Ms.CATEGORY_SEPARATOR)}cacheFailedRequest(t){const n=this.getLastRequests();n.errors.length>=Ms.MAX_CACHED_ERRORS&&(n.failedRequests.shift(),n.failedRequests.shift(),n.errors.shift()),n.failedRequests.push(this.apiId,this.correlationId),t instanceof Error&&t&&t.toString()?t instanceof ra?t.subError?n.errors.push(t.subError):t.errorCode?n.errors.push(t.errorCode):n.errors.push(t.toString()):n.errors.push(t.toString()):n.errors.push(Ms.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}incrementCacheHits(){const t=this.getLastRequests();return t.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t),t.cacheHits}getLastRequests(){const t={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||t}clearTelemetryCache(){const t=this.getLastRequests(),n=HS.maxErrorsToSend(t),r=t.errors.length;if(n===r)this.cacheManager.removeItem(this.telemetryCacheKey);else{const i={failedRequests:t.failedRequests.slice(n*2),errors:t.errors.slice(n),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}}static maxErrorsToSend(t){let n,r=0,i=0;const s=t.errors.length;for(n=0;n<s;n++){const c=t.failedRequests[2*n]||dn.EMPTY_STRING,h=t.failedRequests[2*n+1]||dn.EMPTY_STRING,o=t.errors[n]||dn.EMPTY_STRING;if(i+=c.toString().length+h.toString().length+o.length+3,i<Ms.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const t=[];return t.push(this.regionUsed||dn.EMPTY_STRING),t.push(this.regionSource||dn.EMPTY_STRING),t.push(this.regionOutcome||dn.EMPTY_STRING),t.join(",")}updateRegionDiscoveryMetadata(t){this.regionUsed=t.region_used,this.regionSource=t.region_source,this.regionOutcome=t.region_outcome}setCacheOutcome(t){this.cacheOutcome=t}setNativeBrokerErrorCode(t){const n=this.getLastRequests();n.nativeBrokerErrorCode=t,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const t=this.getLastRequests();delete t.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}static makeExtraSkuString(t){return $bt(t)}}/*! @azure/msal-common v14.16.0 2024-11-05 */const gfe="missing_kid_error",yfe="missing_alg_error";/*! @azure/msal-common v14.16.0 2024-11-05 */const zbt={[gfe]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[yfe]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class YF extends ra{constructor(t,n){super(t,n),this.name="JoseHeaderError",Object.setPrototypeOf(this,YF.prototype)}}function QQ(e){return new YF(e,zbt[e])}/*! @azure/msal-common v14.16.0 2024-11-05 */class JF{constructor(t){this.typ=t.typ,this.alg=t.alg,this.kid=t.kid}static getShrHeaderString(t){if(!t.kid)throw QQ(gfe);if(!t.alg)throw QQ(yfe);const n=new JF({typ:t.typ||qvt.Pop,kid:t.kid,alg:t.alg});return JSON.stringify(n)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class eee{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class Bbt{generateId(){return"callback-id"}startMeasurement(t,n){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:Abt.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:t,startTimeMs:Date.now(),correlationId:n||""},measurement:new eee}}startPerformanceMeasurement(){return new eee}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-browser v3.28.1 2025-01-14 */const QF="pkce_not_created",LD="crypto_nonexistent",X4="empty_navigate_uri",vfe="hash_empty_error",e$="no_state_in_hash",bfe="hash_does_not_contain_known_properties",_fe="unable_to_parse_state",xfe="state_interaction_type_mismatch",wfe="interaction_in_progress",Sfe="popup_window_error",Afe="empty_window_error",Yg="user_cancelled",Zbt="monitor_popup_timeout",Cfe="monitor_window_timeout",Mfe="redirect_in_iframe",Efe="block_iframe_reload",Tfe="block_nested_popups",Ubt="iframe_closed_prematurely",Y4="silent_logout_unsupported",Pfe="no_account_error",Hbt="silent_prompt_value_error",Ife="no_token_request_cache_error",Ofe="unable_to_parse_token_request_cache_error",t$="no_cached_authority_error",Vbt="auth_request_not_set_error",Wbt="invalid_cache_type",J4="non_browser_environment",Rv="database_not_open",FP="no_network_connectivity",kfe="post_request_failed",Nfe="get_request_failed",FD="failed_to_parse_response",Rfe="unable_to_load_token",n$="crypto_key_not_found",Dfe="auth_code_required",Lfe="auth_code_or_nativeAccountId_required",Ffe="spa_code_and_nativeAccountId_present",r$="database_unavailable",$fe="unable_to_acquire_token_from_native_platform",jfe="native_handshake_timeout",zfe="native_extension_not_installed",IA="native_connection_not_established",Bfe="uninitialized_public_client_application",Zfe="native_prompt_not_supported",Ufe="invalid_base64_string",Hfe="invalid_pop_token_request",Vfe="failed_to_build_headers",Wfe="failed_to_parse_headers";/*! @azure/msal-browser v3.28.1 2025-01-14 */const Ih="For more visit: aka.ms/msaljs/browser-errors",Gbt={[QF]:"The PKCE code challenge and verifier could not be generated.",[LD]:"The crypto object or function is not available.",[X4]:"Navigation URI is empty. Please check stack trace for more info.",[vfe]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Ih}`,[e$]:"Hash does not contain state. Please verify that the request originated from msal.",[bfe]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Ih}`,[_fe]:"Unable to parse state. Please verify that the request originated from msal.",[xfe]:"Hash contains state but the interaction type does not match the caller.",[wfe]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Ih}`,[Sfe]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Afe]:"window.open returned null or undefined window object.",[Yg]:"User cancelled the flow.",[Zbt]:`Token acquisition in popup failed due to timeout.  ${Ih}`,[Cfe]:`Token acquisition in iframe failed due to timeout.  ${Ih}`,[Mfe]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Efe]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Ih}`,[Tfe]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Ubt]:"The iframe being monitored was closed prematurely.",[Y4]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[Pfe]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[Hbt]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Ife]:"No token request found in cache.",[Ofe]:"The cached token request could not be parsed.",[t$]:"No cached authority found.",[Vbt]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[Wbt]:"Invalid cache type",[J4]:"Login and token requests are not supported in non-browser environments.",[Rv]:"Database is not open!",[FP]:"No network connectivity. Check your internet connection.",[kfe]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[Nfe]:"Network request failed. Please check the network trace to determine root cause.",[FD]:"Failed to parse network response. Check network trace.",[Rfe]:"Error loading token to cache.",[n$]:"Cryptographic Key or Keypair not found in browser storage.",[Dfe]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Lfe]:"An authorization code or nativeAccountId must be provided to this flow.",[Ffe]:"Request cannot contain both spa code and native account id.",[r$]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[$fe]:`Unable to acquire token from native platform.  ${Ih}`,[jfe]:"Timed out while attempting to establish connection to browser extension",[zfe]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[IA]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Ih}`,[Bfe]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Ih}`,[Zfe]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Ufe]:"Invalid base64 encoded string.",[Hfe]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[Vfe]:"Failed to build request headers object.",[Wfe]:"Failed to parse response headers"};class OA extends ra{constructor(t,n){super(t,Gbt[t],n),Object.setPrototypeOf(this,OA.prototype),this.name="BrowserAuthError"}}function Ar(e,t){return new OA(e,t)}/*! @azure/msal-browser v3.28.1 2025-01-14 */const yc={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},o0={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},Sg={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},Rl={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},tee={GET:"GET",POST:"POST"},bo={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},Jp={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},RM={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Ho={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var $r;(function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"})($r||($r={}));const fs={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},nee={scopes:Jb},Gfe="jwk",Kbt={React:"@azure/msal-react"},$D="msal.db",qbt=1,Xbt=`${$D}.keys`,pc={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},Ybt=[pc.Default,pc.Skip,pc.RefreshTokenAndNetwork],Jbt="msal.browser.log.level",Qbt="msal.browser.log.pii";/*! @azure/msal-browser v3.28.1 2025-01-14 */function DM(e){return encodeURIComponent(i$(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Q4(e){return Kfe(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function i$(e){return Kfe(new TextEncoder().encode(e))}function Kfe(e){const t=Array.from(e,n=>String.fromCodePoint(n)).join("");return btoa(t)}/*! @azure/msal-browser v3.28.1 2025-01-14 */const e_t="RSASSA-PKCS1-v1_5",qfe="SHA-256",t_t=2048,n_t=new Uint8Array([1,0,1]),ree="0123456789abcdef",iee=new Uint32Array(1),r_t="crypto_subtle_undefined",o$={name:e_t,hash:qfe,modulusLength:t_t,publicExponent:n_t};function i_t(e){if(!window)throw Ar(J4);if(!window.crypto)throw Ar(LD);if(!e&&!window.crypto.subtle)throw Ar(LD,r_t)}async function Xfe(e,t,n){t==null||t.addQueueMeasurement(Bt.Sha256Digest,n);const i=new TextEncoder().encode(e);return window.crypto.subtle.digest(qfe,i)}function o_t(e){return window.crypto.getRandomValues(e)}function vk(){return window.crypto.getRandomValues(iee),iee[0]}function cp(){const e=Date.now(),t=vk()*1024+(vk()&1023),n=new Uint8Array(16),r=Math.trunc(t/2**30),i=t&2**30-1,s=vk();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/2**16,n[4]=e/2**8,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|i>>>24,n[9]=i>>>16,n[10]=i>>>8,n[11]=i,n[12]=s>>>24,n[13]=s>>>16,n[14]=s>>>8,n[15]=s;let c="";for(let h=0;h<n.length;h++)c+=ree.charAt(n[h]>>>4),c+=ree.charAt(n[h]&15),(h===3||h===5||h===7||h===9)&&(c+="-");return c}async function a_t(e,t){return window.crypto.subtle.generateKey(o$,e,t)}async function bk(e){return window.crypto.subtle.exportKey(Gfe,e)}async function s_t(e,t,n){return window.crypto.subtle.importKey(Gfe,e,o$,t,n)}async function l_t(e,t){return window.crypto.subtle.sign(o$,e,t)}async function Yfe(e){const t=await Xfe(e),n=new Uint8Array(t);return Q4(n)}/*! @azure/msal-browser v3.28.1 2025-01-14 */const eI="storage_not_supported",Ja="stubbed_public_client_application_called",a$="in_mem_redirect_unavailable";/*! @azure/msal-browser v3.28.1 2025-01-14 */const yE={[eI]:"Given storage configuration option was not supported.",[Ja]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[a$]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};yE[eI],yE[Ja],yE[a$];class s$ extends ra{constructor(t,n){super(t,n),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,s$.prototype)}}function za(e){return new s$(e,yE[e])}/*! @azure/msal-browser v3.28.1 2025-01-14 */function c_t(e){e.location.hash="",typeof e.history.replaceState=="function"&&e.history.replaceState(null,"",`${e.location.origin}${e.location.pathname}${e.location.search}`)}function u_t(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}function l$(){return window.parent!==window}function d_t(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${yc.POPUP_NAME_PREFIX}.`)===0}function Vh(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function h_t(){const t=new Ki(window.location.href).getUrlComponents();return`${t.Protocol}//${t.HostNameAndPort}/`}function p_t(){if(Ki.hashContainsKnownProperties(window.location.hash)&&l$())throw Ar(Efe)}function f_t(e){if(l$()&&!e)throw Ar(Mfe)}function m_t(){if(d_t())throw Ar(Tfe)}function Jfe(){if(typeof window>"u")throw Ar(J4)}function Qfe(e){if(!e)throw Ar(Bfe)}function c$(e){Jfe(),p_t(),m_t(),Qfe(e)}function oee(e,t){if(c$(e),f_t(t.system.allowRedirectInIframe),t.cache.cacheLocation===Rl.MemoryStorage&&!t.cache.storeAuthStateInCookie)throw za(a$)}function eme(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout(()=>{try{document.head.removeChild(t)}catch{}},1e4)}function g_t(){return cp()}/*! @azure/msal-browser v3.28.1 2025-01-14 */class $P{navigateInternal(t,n){return $P.defaultNavigateWindow(t,n)}navigateExternal(t,n){return $P.defaultNavigateWindow(t,n)}static defaultNavigateWindow(t,n){return n.noHistory?window.location.replace(t):window.location.assign(t),new Promise(r=>{setTimeout(()=>{r(!0)},n.timeout)})}}/*! @azure/msal-browser v3.28.1 2025-01-14 */class y_t{async sendGetRequestAsync(t,n){let r,i={},s=0;const c=aee(n);try{r=await fetch(t,{method:tee.GET,headers:c})}catch{throw Ar(window.navigator.onLine?Nfe:FP)}i=see(r.headers);try{return s=r.status,{headers:i,body:await r.json(),status:s}}catch{throw qQ(Ar(FD),s,i)}}async sendPostRequestAsync(t,n){const r=n&&n.body||"",i=aee(n);let s,c=0,h={};try{s=await fetch(t,{method:tee.POST,headers:i,body:r})}catch{throw Ar(window.navigator.onLine?kfe:FP)}h=see(s.headers);try{return c=s.status,{headers:h,body:await s.json(),status:c}}catch{throw qQ(Ar(FD),c,h)}}}function aee(e){try{const t=new Headers;if(!(e&&e.headers))return t;const n=e.headers;return Object.entries(n).forEach(([r,i])=>{t.append(r,i)}),t}catch{throw Ar(Vfe)}}function see(e){try{const t={};return e.forEach((n,r)=>{t[r]=n}),t}catch{throw Ar(Wfe)}}/*! @azure/msal-browser v3.28.1 2025-01-14 */const v_t=6e4,jD=1e4,b_t=3e4,__t=2e3;function x_t({auth:e,cache:t,system:n,telemetry:r},i){const s={clientId:dn.EMPTY_STRING,authority:`${dn.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:dn.EMPTY_STRING,authorityMetadata:dn.EMPTY_STRING,redirectUri:typeof window<"u"?Vh():"",postLogoutRedirectUri:dn.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Yh.AAD,OIDCOptions:{serverResponseType:PA.FRAGMENT,defaultScopes:[dn.OPENID_SCOPE,dn.PROFILE_SCOPE,dn.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:FF.None,tenant:dn.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},c={cacheLocation:Rl.SessionStorage,temporaryCacheLocation:Rl.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(t&&t.cacheLocation===Rl.LocalStorage),claimsBasedCachingEnabled:!1},h={loggerCallback:()=>{},logLevel:Qo.Info,piiLoggingEnabled:!1},m={...{...lfe,loggerOptions:h,networkClient:i?new y_t:Fbt,navigationClient:new $P,loadFrameTimeout:0,windowHashTimeout:(n==null?void 0:n.loadFrameTimeout)||v_t,iframeHashTimeout:(n==null?void 0:n.loadFrameTimeout)||jD,navigateFrameWait:0,redirectNavigationTimeout:b_t,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:(n==null?void 0:n.nativeBrokerHandshakeTimeout)||__t,pollIntervalMilliseconds:yc.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:(n==null?void 0:n.loggerOptions)||h},y={application:{appName:dn.EMPTY_STRING,appVersion:dn.EMPTY_STRING},client:new Bbt};if((e==null?void 0:e.protocolMode)!==Yh.OIDC&&(e!=null&&e.OIDCOptions)&&new Qb(m.loggerOptions).warning(JSON.stringify(Oo(efe))),e!=null&&e.protocolMode&&e.protocolMode!==Yh.AAD&&(m!=null&&m.allowNativeBroker))throw Oo(tfe);return{auth:{...s,...e,OIDCOptions:{...s.OIDCOptions,...e==null?void 0:e.OIDCOptions}},cache:{...c,...t},system:m,telemetry:{...y,...r}}}/*! @azure/msal-browser v3.28.1 2025-01-14 */const w_t="@azure/msal-browser",tI="3.28.1";/*! @azure/msal-browser v3.28.1 2025-01-14 */class u${static loggerCallback(t,n){switch(t){case Qo.Error:console.error(n);return;case Qo.Info:console.info(n);return;case Qo.Verbose:console.debug(n);return;case Qo.Warning:console.warn(n);return;default:console.log(n);return}}constructor(t){var o;this.browserEnvironment=typeof window<"u",this.config=x_t(t,this.browserEnvironment);let n;try{n=window[Rl.SessionStorage]}catch{}const r=n==null?void 0:n.getItem(Jbt),i=(o=n==null?void 0:n.getItem(Qbt))==null?void 0:o.toLowerCase(),s=i==="true"?!0:i==="false"?!1:void 0,c={...this.config.system.loggerOptions},h=r&&Object.keys(Qo).includes(r)?Qo[r]:void 0;h&&(c.loggerCallback=u$.loggerCallback,c.logLevel=h),s!==void 0&&(c.piiLoggingEnabled=s),this.logger=new Qb(c,w_t,tI),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v3.28.1 2025-01-14 */class Jg extends u${getModuleName(){return Jg.MODULE_NAME}getId(){return Jg.ID}async initialize(){return this.available=typeof window<"u",this.available}}Jg.MODULE_NAME="";Jg.ID="StandardOperatingContext";/*! @azure/msal-browser v3.28.1 2025-01-14 */function Jd(e){return new TextDecoder().decode(S_t(e))}function S_t(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Ar(Ufe)}const n=atob(t);return Uint8Array.from(n,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v3.28.1 2025-01-14 */class A_t{constructor(){this.dbName=$D,this.version=qbt,this.tableName=Xbt,this.dbOpen=!1}async open(){return new Promise((t,n)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",i=>{const s=i;this.db=s.target.result,this.dbOpen=!0,t()}),r.addEventListener("error",()=>n(Ar(r$)))})}closeConnection(){const t=this.db;t&&this.dbOpen&&(t.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(t){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(Ar(Rv));const c=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(t);c.addEventListener("success",h=>{const o=h;this.closeConnection(),n(o.target.result)}),c.addEventListener("error",h=>{this.closeConnection(),r(h)})})}async setItem(t,n){return await this.validateDbIsOpen(),new Promise((r,i)=>{if(!this.db)return i(Ar(Rv));const h=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(n,t);h.addEventListener("success",()=>{this.closeConnection(),r()}),h.addEventListener("error",o=>{this.closeConnection(),i(o)})})}async removeItem(t){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(Ar(Rv));const c=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(t);c.addEventListener("success",()=>{this.closeConnection(),n()}),c.addEventListener("error",h=>{this.closeConnection(),r(h)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((t,n)=>{if(!this.db)return n(Ar(Rv));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();s.addEventListener("success",c=>{const h=c;this.closeConnection(),t(h.target.result)}),s.addEventListener("error",c=>{this.closeConnection(),n(c)})})}async containsKey(t){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(Ar(Rv));const c=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(t);c.addEventListener("success",h=>{const o=h;this.closeConnection(),n(o.target.result===1)}),c.addEventListener("error",h=>{this.closeConnection(),r(h)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((t,n)=>{const r=window.indexedDB.deleteDatabase($D),i=setTimeout(()=>n(!1),200);r.addEventListener("success",()=>(clearTimeout(i),t(!0))),r.addEventListener("blocked",()=>(clearTimeout(i),t(!0))),r.addEventListener("error",()=>(clearTimeout(i),n(!1)))})}}/*! @azure/msal-browser v3.28.1 2025-01-14 */class zD{constructor(){this.cache=new Map}getItem(t){return this.cache.get(t)||null}setItem(t,n){this.cache.set(t,n)}removeItem(t){this.cache.delete(t)}getKeys(){const t=[];return this.cache.forEach((n,r)=>{t.push(r)}),t}containsKey(t){return this.cache.has(t)}clear(){this.cache.clear()}}/*! @azure/msal-browser v3.28.1 2025-01-14 */class C_t{constructor(t){this.inMemoryCache=new zD,this.indexedDBCache=new A_t,this.logger=t}handleDatabaseAccessError(t){if(t instanceof OA&&t.errorCode===r$)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw t}async getItem(t){const n=this.inMemoryCache.getItem(t);if(!n)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(t)}catch(r){this.handleDatabaseAccessError(r)}return n}async setItem(t,n){this.inMemoryCache.setItem(t,n);try{await this.indexedDBCache.setItem(t,n)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(t){this.inMemoryCache.removeItem(t);try{await this.indexedDBCache.removeItem(t)}catch(n){this.handleDatabaseAccessError(n)}}async getKeys(){const t=this.inMemoryCache.getKeys();if(t.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(n){this.handleDatabaseAccessError(n)}return t}async containsKey(t){const n=this.inMemoryCache.containsKey(t);if(!n)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(t)}catch(r){this.handleDatabaseAccessError(r)}return n}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const t=await this.indexedDBCache.deleteDatabase();return t&&this.logger.verbose("Persistent keystore deleted"),t}catch(t){return this.handleDatabaseAccessError(t),!1}}}/*! @azure/msal-browser v3.28.1 2025-01-14 */class _b{constructor(t,n,r){this.logger=t,i_t(r??!1),this.cache=new C_t(this.logger),this.performanceClient=n}createNewGuid(){return cp()}base64Encode(t){return i$(t)}base64Decode(t){return Jd(t)}base64UrlEncode(t){return DM(t)}encodeKid(t){return this.base64UrlEncode(JSON.stringify({kid:t}))}async getPublicKeyThumbprint(t){var y;const n=(y=this.performanceClient)==null?void 0:y.startMeasurement(Bt.CryptoOptsGetPublicKeyThumbprint,t.correlationId),r=await a_t(_b.EXTRACTABLE,_b.POP_KEY_USAGES),i=await bk(r.publicKey),s={e:i.e,kty:i.kty,n:i.n},c=lee(s),h=await this.hashString(c),o=await bk(r.privateKey),m=await s_t(o,!1,["sign"]);return await this.cache.setItem(h,{privateKey:m,publicKey:r.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri}),n&&n.end({success:!0}),h}async removeTokenBindingKey(t){return await this.cache.removeItem(t),!await this.cache.containsKey(t)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(t){return t instanceof Error?this.logger.error(`Clearing keystore failed with error: ${t.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(t,n,r,i){var F;const s=(F=this.performanceClient)==null?void 0:F.startMeasurement(Bt.CryptoOptsSignJwt,i),c=await this.cache.getItem(n);if(!c)throw Ar(n$);const h=await bk(c.publicKey),o=lee(h),m=DM(JSON.stringify({kid:n})),y=JF.getShrHeaderString({...r==null?void 0:r.header,alg:h.alg,kid:m}),v=DM(y);t.cnf={jwk:JSON.parse(o)};const S=DM(JSON.stringify(t)),C=`${v}.${S}`,I=new TextEncoder().encode(C),N=await l_t(c.privateKey,I),D=Q4(new Uint8Array(N)),k=`${C}.${D}`;return s&&s.end({success:!0}),k}async hashString(t){return Yfe(t)}}_b.POP_KEY_USAGES=["sign","verify"];_b.EXTRACTABLE=!0;function lee(e){return JSON.stringify(e,Object.keys(e).sort())}/*! @azure/msal-browser v3.28.1 2025-01-14 */class M_t{constructor(){if(!window.localStorage)throw za(eI)}getItem(t){return window.localStorage.getItem(t)}setItem(t,n){window.localStorage.setItem(t,n)}removeItem(t){window.localStorage.removeItem(t)}getKeys(){return Object.keys(window.localStorage)}containsKey(t){return window.localStorage.hasOwnProperty(t)}}/*! @azure/msal-browser v3.28.1 2025-01-14 */class E_t{constructor(){if(!window.sessionStorage)throw za(eI)}getItem(t){return window.sessionStorage.getItem(t)}setItem(t,n){window.sessionStorage.setItem(t,n)}removeItem(t){window.sessionStorage.removeItem(t)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(t){return window.sessionStorage.hasOwnProperty(t)}}/*! @azure/msal-browser v3.28.1 2025-01-14 */function tme(e,t){if(!t)return null;try{return qu.parseRequestState(e,t).libraryState.meta}catch{throw jn(yb)}}/*! @azure/msal-browser v3.28.1 2025-01-14 */const T_t=24*60*60*1e3;class P_t{getItem(t){const n=`${encodeURIComponent(t)}`,r=document.cookie.split(";");for(let i=0;i<r.length;i++){const s=r[i],[c,...h]=decodeURIComponent(s).trim().split("="),o=h.join("=");if(c===n)return o}return""}setItem(t,n,r,i=!0){let s=`${encodeURIComponent(t)}=${encodeURIComponent(n)};path=/;SameSite=Lax;`;if(r){const c=I_t(r);s+=`expires=${c};`}i&&(s+="Secure;"),document.cookie=s}removeItem(t){this.setItem(t,"",-1)}getKeys(){const t=document.cookie.split(";"),n=[];return t.forEach(r=>{const i=decodeURIComponent(r).trim().split("=");n.push(i[0])}),n}containsKey(t){return this.getKeys().includes(t)}}function I_t(e){const t=new Date;return new Date(t.getTime()+e*T_t).toUTCString()}/*! @azure/msal-browser v3.28.1 2025-01-14 */class BD extends vb{constructor(t,n,r,i,s,c){super(t,r,i,s),this.cacheConfig=n,this.logger=i,this.internalStorage=new zD,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupBrowserStorage(this.cacheConfig.temporaryCacheLocation),this.cookieStorage=new P_t,n.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=c}setupBrowserStorage(t){try{switch(t){case Rl.LocalStorage:return new M_t;case Rl.SessionStorage:return new E_t;case Rl.MemoryStorage:default:break}}catch(n){this.logger.error(n)}return this.cacheConfig.cacheLocation=Rl.MemoryStorage,new zD}migrateCacheEntries(){const t=`${dn.CACHE_PREFIX}.${ps.ID_TOKEN}`,n=`${dn.CACHE_PREFIX}.${ps.CLIENT_INFO}`,r=`${dn.CACHE_PREFIX}.${ps.ERROR}`,i=`${dn.CACHE_PREFIX}.${ps.ERROR_DESC}`,s=this.browserStorage.getItem(t),c=this.browserStorage.getItem(n),h=this.browserStorage.getItem(r),o=this.browserStorage.getItem(i),m=[s,c,h,o];[ps.ID_TOKEN,ps.CLIENT_INFO,ps.ERROR,ps.ERROR_DESC].forEach((v,S)=>{const C=m[S];C&&this.setTemporaryCache(v,C,!0)})}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const t=this.getItem(Jp.ACCOUNT_KEYS),n=this.getItem(`${Jp.TOKEN_KEYS}.${this.clientId}`);if(t&&n){this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");return}this.browserStorage.getKeys().forEach(i=>{if(this.isCredentialKey(i)){const s=this.getItem(i);if(s){const c=this.validateAndParseJson(s);if(c&&c.hasOwnProperty("credentialType"))switch(c.credentialType){case ti.ID_TOKEN:if(jQ(c)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${i} found, saving key to token key map`);const h=c,o=this.updateCredentialCacheKey(i,h);this.addTokenKey(o,ti.ID_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${i}`);break;case ti.ACCESS_TOKEN:case ti.ACCESS_TOKEN_WITH_AUTH_SCHEME:if($Q(c)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${i} found, saving key to token key map`);const h=c,o=this.updateCredentialCacheKey(i,h);this.addTokenKey(o,ti.ACCESS_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${i}`);break;case ti.REFRESH_TOKEN:if(zQ(c)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${i} found, saving key to token key map`);const h=c,o=this.updateCredentialCacheKey(i,h);this.addTokenKey(o,ti.REFRESH_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${i}`);break}}}if(this.isAccountKey(i)){const s=this.getItem(i);if(s){const c=this.validateAndParseJson(s);c&&rs.isAccountEntity(c)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${i} found, saving key to account key map`),this.addAccountKeyToMap(i))}}})}validateAndParseJson(t){try{const n=JSON.parse(t);return n&&typeof n=="object"?n:null}catch{return null}}getItem(t){return this.browserStorage.getItem(t)}setItem(t,n){this.browserStorage.setItem(t,n)}getAccount(t,n){this.logger.trace("BrowserCacheManager.getAccount called");const r=this.getCachedAccountEntity(t);return this.updateOutdatedCachedAccount(t,r,n)}getCachedAccountEntity(t){const n=this.getItem(t);if(!n)return this.removeAccountKeyFromMap(t),null;const r=this.validateAndParseJson(n);return!r||!rs.isAccountEntity(r)?(this.removeAccountKeyFromMap(t),null):vb.toObject(new rs,r)}setAccount(t){this.logger.trace("BrowserCacheManager.setAccount called");const n=t.generateAccountKey();this.setItem(n,JSON.stringify(t)),this.addAccountKeyToMap(n)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const t=this.getItem(Jp.ACCOUNT_KEYS);return t?JSON.parse(t):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(t){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${t}`);const n=this.getAccountKeys();n.indexOf(t)===-1?(n.push(t),this.setItem(Jp.ACCOUNT_KEYS,JSON.stringify(n)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(t){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${t}`);const n=this.getAccountKeys(),r=n.indexOf(t);r>-1?(n.splice(r,1),this.setItem(Jp.ACCOUNT_KEYS,JSON.stringify(n)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(t){super.removeAccount(t),this.removeAccountKeyFromMap(t)}removeOutdatedAccount(t){this.removeItem(t),this.removeAccountKeyFromMap(t)}removeIdToken(t){super.removeIdToken(t),this.removeTokenKey(t,ti.ID_TOKEN)}async removeAccessToken(t){super.removeAccessToken(t),this.removeTokenKey(t,ti.ACCESS_TOKEN)}removeRefreshToken(t){super.removeRefreshToken(t),this.removeTokenKey(t,ti.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const t=this.getItem(`${Jp.TOKEN_KEYS}.${this.clientId}`);if(t){const n=this.validateAndParseJson(t);if(n&&n.hasOwnProperty("idToken")&&n.hasOwnProperty("accessToken")&&n.hasOwnProperty("refreshToken"))return n;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(t,n){this.logger.trace("BrowserCacheManager addTokenKey called");const r=this.getTokenKeys();switch(n){case ti.ID_TOKEN:r.idToken.indexOf(t)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),r.idToken.push(t));break;case ti.ACCESS_TOKEN:r.accessToken.indexOf(t)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),r.accessToken.push(t));break;case ti.REFRESH_TOKEN:r.refreshToken.indexOf(t)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),r.refreshToken.push(t));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${n}`),jn(PD)}this.setItem(`${Jp.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}removeTokenKey(t,n){this.logger.trace("BrowserCacheManager removeTokenKey called");const r=this.getTokenKeys();switch(n){case ti.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${t} from map`);const i=r.idToken.indexOf(t);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),r.idToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case ti.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${t} from map`);const s=r.accessToken.indexOf(t);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),r.accessToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case ti.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${t} from map`);const c=r.refreshToken.indexOf(t);c>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),r.refreshToken.splice(c,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${n}`),jn(PD)}this.setItem(`${Jp.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}getIdTokenCredential(t){const n=this.getItem(t);if(!n)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(t,ti.ID_TOKEN),null;const r=this.validateAndParseJson(n);return!r||!jQ(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(t,ti.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r)}setIdTokenCredential(t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=r0(t);this.setItem(n,JSON.stringify(t)),this.addTokenKey(n,ti.ID_TOKEN)}getAccessTokenCredential(t){const n=this.getItem(t);if(!n)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(t,ti.ACCESS_TOKEN),null;const r=this.validateAndParseJson(n);return!r||!$Q(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(t,ti.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r)}setAccessTokenCredential(t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=r0(t);this.setItem(n,JSON.stringify(t)),this.addTokenKey(n,ti.ACCESS_TOKEN)}getRefreshTokenCredential(t){const n=this.getItem(t);if(!n)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(t,ti.REFRESH_TOKEN),null;const r=this.validateAndParseJson(n);return!r||!zQ(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(t,ti.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r)}setRefreshTokenCredential(t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=r0(t);this.setItem(n,JSON.stringify(t)),this.addTokenKey(n,ti.REFRESH_TOKEN)}getAppMetadata(t){const n=this.getItem(t);if(!n)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!_0t(t,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(t){this.logger.trace("BrowserCacheManager.setAppMetadata called");const n=b0t(t);this.setItem(n,JSON.stringify(t))}getServerTelemetry(t){const n=this.getItem(t);if(!n)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!y0t(t,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(t,n){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(t,JSON.stringify(n))}getAuthorityMetadata(t){const n=this.internalStorage.getItem(t);if(!n)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return r&&x0t(t,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(n=>this.isAuthorityMetadata(n))}setWrapperMetadata(t,n){this.internalStorage.setItem(RM.WRAPPER_SKU,t),this.internalStorage.setItem(RM.WRAPPER_VER,n)}getWrapperMetadata(){const t=this.internalStorage.getItem(RM.WRAPPER_SKU)||dn.EMPTY_STRING,n=this.internalStorage.getItem(RM.WRAPPER_VER)||dn.EMPTY_STRING;return[t,n]}setAuthorityMetadata(t,n){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(t,JSON.stringify(n))}getActiveAccount(){const t=this.generateCacheKey(ps.ACTIVE_ACCOUNT_FILTERS),n=this.getItem(t);if(!n){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const i=this.generateCacheKey(ps.ACTIVE_ACCOUNT),s=this.getItem(i);if(!s)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const c=this.getAccountInfoFilteredBy({localAccountId:s});return c?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(c),c):null}const r=this.validateAndParseJson(n);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(t){const n=this.generateCacheKey(ps.ACTIVE_ACCOUNT_FILTERS),r=this.generateCacheKey(ps.ACTIVE_ACCOUNT);if(t){this.logger.verbose("setActiveAccount: Active account set");const i={homeAccountId:t.homeAccountId,localAccountId:t.localAccountId,tenantId:t.tenantId};this.browserStorage.setItem(n,JSON.stringify(i)),this.browserStorage.setItem(r,t.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(n),this.browserStorage.removeItem(r)}getThrottlingCache(t){const n=this.getItem(t);if(!n)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!v0t(t,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(t,n){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(t,JSON.stringify(n))}getTemporaryCache(t,n){const r=n?this.generateCacheKey(t):t;if(this.cacheConfig.storeAuthStateInCookie){const s=this.cookieStorage.getItem(r);if(s)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),s}const i=this.temporaryCacheStorage.getItem(r);if(!i){if(this.cacheConfig.cacheLocation===Rl.LocalStorage){const s=this.browserStorage.getItem(r);if(s)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),s}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(t,n,r){const i=r?this.generateCacheKey(t):t;this.temporaryCacheStorage.setItem(i,n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(i,n,void 0,this.cacheConfig.secureCookies))}removeItem(t){this.browserStorage.removeItem(t)}removeTemporaryItem(t){this.temporaryCacheStorage.removeItem(t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(t))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(t=>{(t.indexOf(dn.CACHE_PREFIX)!==-1||t.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(t)}),this.browserStorage.getKeys().forEach(t=>{(t.indexOf(dn.CACHE_PREFIX)!==-1||t.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(t)}),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(t,n){t.addQueueMeasurement(Bt.ClearTokensAndKeysWithClaims,n);const r=this.getTokenKeys(),i=[];r.accessToken.forEach(s=>{const c=this.getAccessTokenCredential(s);c!=null&&c.requestedClaimsHash&&s.includes(c.requestedClaimsHash.toLowerCase())&&i.push(this.removeAccessToken(s))}),await Promise.all(i),i.length>0&&this.logger.warning(`${i.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(t){return this.validateAndParseJson(t)?JSON.stringify(t):Ku.startsWith(t,dn.CACHE_PREFIX)||Ku.startsWith(t,ps.ADAL_ID_TOKEN)?t:`${dn.CACHE_PREFIX}.${this.clientId}.${t}`}generateAuthorityKey(t){const{libraryState:{id:n}}=qu.parseRequestState(this.cryptoImpl,t);return this.generateCacheKey(`${bo.AUTHORITY}.${n}`)}generateNonceKey(t){const{libraryState:{id:n}}=qu.parseRequestState(this.cryptoImpl,t);return this.generateCacheKey(`${bo.NONCE_IDTOKEN}.${n}`)}generateStateKey(t){const{libraryState:{id:n}}=qu.parseRequestState(this.cryptoImpl,t);return this.generateCacheKey(`${bo.REQUEST_STATE}.${n}`)}getCachedAuthority(t){const n=this.generateStateKey(t),r=this.getTemporaryCache(n);if(!r)return null;const i=this.generateAuthorityKey(r);return this.getTemporaryCache(i)}updateCacheEntries(t,n,r,i,s){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const c=this.generateStateKey(t);this.setTemporaryCache(c,t,!1);const h=this.generateNonceKey(t);this.setTemporaryCache(h,n,!1);const o=this.generateAuthorityKey(t);if(this.setTemporaryCache(o,r,!1),s){const m={credential:s.homeAccountId,type:wc.HOME_ACCOUNT_ID};this.setTemporaryCache(bo.CCS_CREDENTIAL,JSON.stringify(m),!0)}else if(i){const m={credential:i,type:wc.UPN};this.setTemporaryCache(bo.CCS_CREDENTIAL,JSON.stringify(m),!0)}}resetRequestCache(t){this.logger.trace("BrowserCacheManager.resetRequestCache called"),t&&(this.temporaryCacheStorage.getKeys().forEach(n=>{n.indexOf(t)!==-1&&this.removeTemporaryItem(n)}),this.removeTemporaryItem(this.generateStateKey(t)),this.removeTemporaryItem(this.generateNonceKey(t)),this.removeTemporaryItem(this.generateAuthorityKey(t))),this.removeTemporaryItem(this.generateCacheKey(bo.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(bo.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(bo.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(bo.CORRELATION_ID)),this.removeTemporaryItem(this.generateCacheKey(bo.CCS_CREDENTIAL)),this.removeTemporaryItem(this.generateCacheKey(bo.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(t){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),t){const n=this.generateStateKey(t),r=this.temporaryCacheStorage.getItem(n);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r||dn.EMPTY_STRING)}}cleanRequestByInteractionType(t){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach(n=>{if(n.indexOf(bo.REQUEST_STATE)===-1)return;const r=this.temporaryCacheStorage.getItem(n);if(!r)return;const i=tme(this.cryptoImpl,r);i&&i.interactionType===t&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r))}),this.setInteractionInProgress(!1)}cacheCodeRequest(t){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const n=i$(JSON.stringify(t));this.setTemporaryCache(bo.REQUEST_PARAMS,n,!0)}getCachedRequest(t){this.logger.trace("BrowserCacheManager.getCachedRequest called");const n=this.getTemporaryCache(bo.REQUEST_PARAMS,!0);if(!n)throw Ar(Ife);let r;try{r=JSON.parse(Jd(n))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${n}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),Ar(Ofe)}if(this.removeTemporaryItem(this.generateCacheKey(bo.REQUEST_PARAMS)),!r.authority){const i=this.generateAuthorityKey(t),s=this.getTemporaryCache(i);if(!s)throw Ar(t$);r.authority=s}return r}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const t=this.getTemporaryCache(bo.NATIVE_REQUEST,!0);if(!t)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const n=this.validateAndParseJson(t);return n||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(t){const n=this.getInteractionInProgress();return t?n===this.clientId:!!n}getInteractionInProgress(){const t=`${dn.CACHE_PREFIX}.${bo.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(t,!1)}setInteractionInProgress(t){const n=`${dn.CACHE_PREFIX}.${bo.INTERACTION_STATUS_KEY}`;if(t){if(this.getInteractionInProgress())throw Ar(wfe);this.setTemporaryCache(n,this.clientId,!1)}else!t&&this.getInteractionInProgress()===this.clientId&&this.removeTemporaryItem(n)}getLegacyLoginHint(){const t=this.getTemporaryCache(ps.ADAL_ID_TOKEN);t&&(this.browserStorage.removeItem(ps.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const n=this.getTemporaryCache(ps.ID_TOKEN,!0);n&&(this.browserStorage.removeItem(this.generateCacheKey(ps.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const r=n||t;if(r){const i=uy(r,Jd);if(i.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),i.preferred_username;if(i.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),i.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(t,n){const r=r0(n);if(t!==r){const i=this.getItem(t);if(i)return this.browserStorage.removeItem(t),this.setItem(r,i),this.logger.verbose(`Updated an outdated ${n.credentialType} cache key`),r;this.logger.error(`Attempted to update an outdated ${n.credentialType} cache key but no item matching the outdated key was found in storage`)}return t}async hydrateCache(t,n){var h,o,m;const r=H4((h=t.account)==null?void 0:h.homeAccountId,(o=t.account)==null?void 0:o.environment,t.idToken,this.clientId,t.tenantId);let i;n.claims&&(i=await this.cryptoImpl.hashString(n.claims));const s=V4((m=t.account)==null?void 0:m.homeAccountId,t.account.environment,t.accessToken,this.clientId,t.tenantId,t.scopes.join(" "),t.expiresOn?t.expiresOn.getTime()/1e3:0,t.extExpiresOn?t.extExpiresOn.getTime()/1e3:0,Jd,void 0,t.tokenType,void 0,n.sshKid,n.claims,i),c={idToken:r,accessToken:s};return this.saveCacheRecord(c)}async saveCacheRecord(t,n,r){try{await super.saveCacheRecord(t,n,r)}catch(i){if(i instanceof w0&&this.performanceClient&&r)try{const s=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:s.refreshToken.length,cacheIdCount:s.idToken.length,cacheAtCount:s.accessToken.length},r)}catch{}throw i}}}const O_t=(e,t)=>{const n={cacheLocation:Rl.MemoryStorage,temporaryCacheLocation:Rl.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new BD(e,n,OP,t)};/*! @azure/msal-browser v3.28.1 2025-01-14 */function k_t(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}function N_t(e,t,n){if(t.trace("getAccount called"),Object.keys(e).length===0)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}function R_t(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}function D_t(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function L_t(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function F_t(e,t){t.setActiveAccount(e)}function $_t(e){return e.getActiveAccount()}/*! @azure/msal-browser v3.28.1 2025-01-14 */const Mr={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};/*! @azure/msal-browser v3.28.1 2025-01-14 */class j_t{constructor(t){this.eventCallbacks=new Map,this.logger=t||new Qb({})}addEventCallback(t,n,r){if(typeof window<"u"){const i=r||g_t();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[t,n||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(t){this.eventCallbacks.delete(t),this.logger.verbose(`Event callback ${t} removed.`)}emitEvent(t,n,r,i){if(typeof window<"u"){const s={eventType:t,interactionType:n||null,payload:r||null,error:i||null,timestamp:Date.now()};this.eventCallbacks.forEach(([c,h],o)=>{(h.length===0||h.includes(t))&&(this.logger.verbose(`Emitting event to callback ${o}: ${t}`),c.apply(null,[s]))})}}}/*! @azure/msal-browser v3.28.1 2025-01-14 */class nme{constructor(t,n,r,i,s,c,h,o,m){this.config=t,this.browserStorage=n,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=s,this.navigationClient=c,this.nativeMessageHandler=o,this.correlationId=m||cp(),this.logger=i.clone(yc.MSAL_SKU,tI,this.correlationId),this.performanceClient=h}async clearCacheOnLogout(t){if(t){rs.accountInfoIsEqual(t,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(rs.generateAccountCacheKey(t)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(t){this.logger.verbose("getRedirectUri called");const n=t||this.config.auth.redirectUri;return Ki.getAbsoluteUrl(n,Vh())}initializeServerTelemetryManager(t,n){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:t,forceRefresh:n||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new HS(r,this.browserStorage)}async getDiscoveredAuthority(t){const{account:n}=t,r=t.requestExtraQueryParameters&&t.requestExtraQueryParameters.hasOwnProperty("instance_aware")?t.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(Bt.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=t.requestAuthority||this.config.auth.authority,c=r!=null&&r.length?r==="true":this.config.auth.instanceAware,h=n&&c?this.config.auth.authority.replace(Ki.getDomainFromUrl(s),n.environment):s,o=Hs.generateAuthority(h,t.requestAzureCloudOptions||this.config.auth.azureCloudOptions),m=await er(dfe,Bt.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(o,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(n&&!m.isAlias(n.environment))throw Oo(nfe);return m}}/*! @azure/msal-browser v3.28.1 2025-01-14 */const z_t=32;async function B_t(e,t,n){e.addQueueMeasurement(Bt.GeneratePkceCodes,n);const r=dy(Z_t,Bt.GenerateCodeVerifier,t,e,n)(e,t,n),i=await er(U_t,Bt.GenerateCodeChallengeFromVerifier,t,e,n)(r,e,t,n);return{verifier:r,challenge:i}}function Z_t(e,t,n){try{const r=new Uint8Array(z_t);return dy(o_t,Bt.GetRandomValues,t,e,n)(r),Q4(r)}catch{throw Ar(QF)}}async function U_t(e,t,n,r){t.addQueueMeasurement(Bt.GenerateCodeChallengeFromVerifier,r);try{const i=await er(Xfe,Bt.Sha256Digest,n,t,r)(e,t,r);return Q4(new Uint8Array(i))}catch{throw Ar(QF)}}/*! @azure/msal-browser v3.28.1 2025-01-14 */async function d$(e,t,n,r){n.addQueueMeasurement(Bt.InitializeBaseRequest,e.correlationId);const i=e.authority||t.auth.authority,s=[...e&&e.scopes||[]],c={...e,correlationId:e.correlationId,authority:i,scopes:s};if(!c.authenticationScheme)c.authenticationScheme=To.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(c.authenticationScheme===To.SSH){if(!e.sshJwk)throw Oo(W4);if(!e.sshKid)throw Oo(Qpe)}r.verbose(`Authentication Scheme set to "${c.authenticationScheme}" as configured in Auth request`)}return t.cache.claimsBasedCachingEnabled&&e.claims&&!Ku.isEmptyObj(e.claims)&&(c.requestedClaimsHash=await Yfe(e.claims)),c}async function H_t(e,t,n,r,i){r.addQueueMeasurement(Bt.InitializeSilentRequest,e.correlationId);const s=await er(d$,Bt.InitializeBaseRequest,i,r,e.correlationId)(e,n,r,i);return{...e,...s,account:t,forceRefresh:e.forceRefresh||!1}}/*! @azure/msal-browser v3.28.1 2025-01-14 */class e_ extends nme{async initializeAuthorizationCodeRequest(t){this.performanceClient.addQueueMeasurement(Bt.StandardInteractionClientInitializeAuthorizationCodeRequest,this.correlationId);const n=await er(B_t,Bt.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),r={...t,redirectUri:t.redirectUri,code:dn.EMPTY_STRING,codeVerifier:n.verifier};return t.codeChallenge=n.challenge,t.codeChallengeMethod=dn.S256_CODE_CHALLENGE_METHOD,r}initializeLogoutRequest(t){this.logger.verbose("initializeLogoutRequest called",t==null?void 0:t.correlationId);const n={correlationId:this.correlationId||cp(),...t};if(t)if(t.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(t.account){const r=this.getLogoutHintFromIdTokenClaims(t.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),n.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!t||t.postLogoutRedirectUri!==null?t&&t.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",n.correlationId),n.postLogoutRedirectUri=Ki.getAbsoluteUrl(t.postLogoutRedirectUri,Vh())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",n.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",n.correlationId),n.postLogoutRedirectUri=Ki.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Vh())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",n.correlationId),n.postLogoutRedirectUri=Ki.getAbsoluteUrl(Vh(),Vh())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",n.correlationId),n}getLogoutHintFromIdTokenClaims(t){const n=t.idTokenClaims;if(n){if(n.login_hint)return n.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(t){this.performanceClient.addQueueMeasurement(Bt.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const n=await er(this.getClientConfiguration.bind(this),Bt.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(t);return new ffe(n,this.performanceClient)}async getClientConfiguration(t){const{serverTelemetryManager:n,requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:s,account:c}=t;this.performanceClient.addQueueMeasurement(Bt.StandardInteractionClientGetClientConfiguration,this.correlationId);const h=await er(this.getDiscoveredAuthority.bind(this),Bt.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:s,account:c}),o=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:h,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:o.loggerCallback,piiLoggingEnabled:o.piiLoggingEnabled,logLevel:o.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:n,libraryInfo:{sku:yc.MSAL_SKU,version:tI,cpu:dn.EMPTY_STRING,os:dn.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(t,n){this.performanceClient.addQueueMeasurement(Bt.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(t.redirectUri),i={interactionType:n},s=qu.setRequestState(this.browserCrypto,t&&t.state||dn.EMPTY_STRING,i),h={...await er(d$,Bt.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...t,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:s,nonce:t.nonce||cp(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(t.loginHint||t.sid)return h;const o=t.account||this.browserStorage.getActiveAccount();if(o&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${o.homeAccountId}`,this.correlationId),h.account=o),!h.loginHint&&!o){const m=this.browserStorage.getLegacyLoginHint();m&&(h.loginHint=m)}return h}}/*! @azure/msal-browser v3.28.1 2025-01-14 */const V_t="ContentError",rme="user_switch";/*! @azure/msal-browser v3.28.1 2025-01-14 */const W_t="USER_INTERACTION_REQUIRED",G_t="USER_CANCEL",K_t="NO_NETWORK",q_t="PERSISTENT_ERROR",X_t="DISABLED",Y_t="ACCOUNT_UNAVAILABLE";/*! @azure/msal-browser v3.28.1 2025-01-14 */const J_t=-2147186943,Q_t={[rme]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Fd extends ra{constructor(t,n,r){super(t,n),Object.setPrototypeOf(this,Fd.prototype),this.name="NativeAuthError",this.ext=r}}function Dv(e){if(e.ext&&e.ext.status&&(e.ext.status===q_t||e.ext.status===X_t)||e.ext&&e.ext.error&&e.ext.error===J_t)return!0;switch(e.errorCode){case V_t:return!0;default:return!1}}function ZD(e,t,n){if(n&&n.status)switch(n.status){case Y_t:return RD(hfe);case W_t:return new Qu(e,t);case G_t:return Ar(Yg);case K_t:return Ar(FP)}return new Fd(e,Q_t[e]||t,n)}/*! @azure/msal-browser v3.28.1 2025-01-14 */class ime extends e_{async acquireToken(t){this.performanceClient.addQueueMeasurement(Bt.SilentCacheClientAcquireToken,t.correlationId);const n=this.initializeServerTelemetryManager(Ho.acquireTokenSilent_silentFlow),r=await er(this.getClientConfiguration.bind(this),Bt.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,account:t.account}),i=new Lbt(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const c=(await er(i.acquireCachedToken.bind(i),Bt.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,t.correlationId)(t))[0];return this.performanceClient.addFields({fromCache:!0},t.correlationId),c}catch(s){throw s instanceof OA&&s.errorCode===n$&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),s}}logout(t){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(t);return this.clearCacheOnLogout(n==null?void 0:n.account)}}/*! @azure/msal-browser v3.28.1 2025-01-14 */class S0 extends nme{constructor(t,n,r,i,s,c,h,o,m,y,v,S){var P;super(t,n,r,i,s,c,o,m,S),this.apiId=h,this.accountId=y,this.nativeMessageHandler=m,this.nativeStorageManager=v,this.silentCacheClient=new ime(t,this.nativeStorageManager,r,i,s,c,o,m,S),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);const C=this.nativeMessageHandler.getExtensionId()===o0.PREFERRED_EXTENSION_ID?"chrome":(P=this.nativeMessageHandler.getExtensionId())!=null&&P.length?"unknown":void 0;this.skus=HS.makeExtraSkuString({libraryName:yc.MSAL_SKU,libraryVersion:tI,extensionName:C,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(t){t.extraParameters={...t.extraParameters,[bbt]:this.skus}}async acquireToken(t){this.performanceClient.addQueueMeasurement(Bt.NativeInteractionClientAcquireToken,t.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const n=this.performanceClient.startMeasurement(Bt.NativeInteractionClientAcquireToken,t.correlationId),r=eh();try{const i=await this.initializeNativeRequest(t);try{const m=await this.acquireTokensFromCache(this.accountId,i);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),m}catch{this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...s}=i,c={method:Sg.GetToken,request:s},h=await this.nativeMessageHandler.sendMessage(c),o=this.validateNativeResponse(h);return await this.handleNativeResponse(o,i,r).then(m=>(n.end({success:!0,isNativeBroker:!0,requestId:m.requestId}),this.serverTelemetryManager.clearNativeBrokerErrorCode(),m)).catch(m=>{throw n.end({success:!1,errorCode:m.errorCode,subErrorCode:m.subError,isNativeBroker:!0}),m})}catch(i){throw i instanceof Fd&&this.serverTelemetryManager.setNativeBrokerErrorCode(i.errorCode),i}}createSilentCacheRequest(t,n){return{authority:t.authority,correlationId:this.correlationId,scopes:Oa.fromString(t.scope).asArray(),account:n,forceRefresh:!1}}async acquireTokensFromCache(t,n){if(!t)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),jn(ED);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:t});if(!r)throw jn(ED);try{const i=this.createSilentCacheRequest(n,r),s=await this.silentCacheClient.acquireToken(i),c={...r,idTokenClaims:s==null?void 0:s.idTokenClaims,idToken:s==null?void 0:s.idToken};return{...s,account:c}}catch(i){throw i}}async acquireTokenRedirect(t,n){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=t;delete r.onRedirectNavigate;const i=await this.initializeNativeRequest(r),s={method:Sg.GetToken,request:i};try{const o=await this.nativeMessageHandler.sendMessage(s);this.validateNativeResponse(o)}catch(o){if(o instanceof Fd&&(this.serverTelemetryManager.setNativeBrokerErrorCode(o.errorCode),Dv(o)))throw o}this.browserStorage.setTemporaryCache(bo.NATIVE_REQUEST,JSON.stringify(i),!0);const c={apiId:Ho.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},h=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(t.redirectUri);n.end({success:!0}),await this.navigationClient.navigateExternal(h,c)}async handleRedirectPromise(t,n){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),t&&n&&(t==null||t.addFields({errorCode:"no_cached_request"},n)),null;const{prompt:i,...s}=r;i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(bo.NATIVE_REQUEST));const c={method:Sg.GetToken,request:s},h=eh();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const o=await this.nativeMessageHandler.sendMessage(c);this.validateNativeResponse(o);const m=this.handleNativeResponse(o,s,h);this.browserStorage.setInteractionInProgress(!1);const y=await m;return this.serverTelemetryManager.clearNativeBrokerErrorCode(),y}catch(o){throw this.browserStorage.setInteractionInProgress(!1),o}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(t,n,r){var y;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const i=uy(t.id_token,Jd),s=this.createHomeAccountIdentifier(t,i),c=(y=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:n.accountId}))==null?void 0:y.homeAccountId;if(s!==c&&t.account.id!==n.accountId)throw ZD(rme);const h=await this.getDiscoveredAuthority({requestAuthority:n.authority}),o=XF(this.browserStorage,h,s,Jd,i,t.client_info,void 0,i.tid,void 0,t.account.id,this.logger),m=await this.generateAuthenticationResult(t,n,i,o,h.canonicalAuthority,r);return this.cacheAccount(o),this.cacheNativeTokens(t,n,s,i,t.access_token,m.tenantId,r),m}createHomeAccountIdentifier(t,n){return rs.generateHomeAccountId(t.client_info||dn.EMPTY_STRING,Du.Default,this.logger,this.browserCrypto,n)}generateScopes(t,n){return t.scope?Oa.fromString(t.scope):Oa.fromString(n.scope)}async generatePopAccessToken(t,n){if(n.tokenType===To.POP&&n.signPopToken){if(t.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),t.shr;const r=new bb(this.browserCrypto),i={resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,shrNonce:n.shrNonce};if(!n.keyId)throw jn(DF);return r.signPopToken(t.access_token,n.keyId,i)}else return t.access_token}async generateAuthenticationResult(t,n,r,i,s,c){const h=this.addTelemetryFromNativeResponse(t),o=t.scope?Oa.fromString(t.scope):Oa.fromString(n.scope),m=t.account.properties||{},y=m.UID||r.oid||r.sub||dn.EMPTY_STRING,v=m.TenantId||r.tid||dn.EMPTY_STRING,S=HF(i.getAccountInfo(),void 0,r,t.id_token);S.nativeAccountId!==t.account.id&&(S.nativeAccountId=t.account.id);const C=await this.generatePopAccessToken(t,n),P=n.tokenType===To.POP?To.POP:To.BEARER;return{authority:s,uniqueId:y,tenantId:v,scopes:o.asArray(),account:S,idToken:t.id_token,idTokenClaims:r,accessToken:C,fromCache:h?this.isResponseFromCache(h):!1,expiresOn:new Date(Number(c+t.expires_in)*1e3),tokenType:P,correlationId:this.correlationId,state:t.state,fromNativeBroker:!0}}cacheAccount(t){this.browserStorage.setAccount(t),this.browserStorage.removeAccountContext(t).catch(n=>{this.logger.error(`Error occurred while removing account context from browser storage. ${n}`)})}cacheNativeTokens(t,n,r,i,s,c,h){const o=H4(r,n.authority,t.id_token||"",n.clientId,i.tid||""),m=n.tokenType===To.POP?dn.SHR_NONCE_VALIDITY:(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,y=h+m,v=this.generateScopes(t,n),S=V4(r,n.authority,s,n.clientId,i.tid||c,v.printScopes(),y,0,Jd,void 0,n.tokenType,void 0,n.keyId),C={idToken:o,accessToken:S};this.nativeStorageManager.saveCacheRecord(C,n.storeInCache)}addTelemetryFromNativeResponse(t){const n=this.getMATSFromResponse(t);return n?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:n.broker_version,matsAccountJoinOnStart:n.account_join_on_start,matsAccountJoinOnEnd:n.account_join_on_end,matsDeviceJoin:n.device_join,matsPromptBehavior:n.prompt_behavior,matsApiErrorCode:n.api_error_code,matsUiVisible:n.ui_visible,matsSilentCode:n.silent_code,matsSilentBiSubCode:n.silent_bi_sub_code,matsSilentMessage:n.silent_message,matsSilentStatus:n.silent_status,matsHttpStatus:n.http_status,matsHttpEventCount:n.http_event_count},this.correlationId),n):null}validateNativeResponse(t){if(t.hasOwnProperty("access_token")&&t.hasOwnProperty("id_token")&&t.hasOwnProperty("client_info")&&t.hasOwnProperty("account")&&t.hasOwnProperty("scope")&&t.hasOwnProperty("expires_in"))return t;throw wpe(PF,"Response missing expected properties.")}getMATSFromResponse(t){if(t.properties.MATS)try{return JSON.parse(t.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(t){return typeof t.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!t.is_cached}async initializeNativeRequest(t){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const n=t.authority||this.config.auth.authority;t.account&&await this.getDiscoveredAuthority({requestAuthority:n,requestAzureCloudOptions:t.azureCloudOptions,account:t.account});const r=new Ki(n);r.validateAsUri();const{scopes:i,...s}=t,c=new Oa(i||[]);c.appendScopes(Jb);const h=()=>{switch(this.apiId){case Ho.ssoSilent:case Ho.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),ys.NONE}if(!t.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(t.prompt){case ys.NONE:case ys.CONSENT:case ys.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),t.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${t.prompt} is not compatible with native flow`),Ar(Zfe)}},o={...s,accountId:this.accountId,clientId:this.config.auth.clientId,authority:r.urlString,scope:c.printScopes(),redirectUri:this.getRedirectUri(t.redirectUri),prompt:h(),correlationId:this.correlationId,tokenType:t.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...t.extraQueryParameters,...t.tokenQueryParameters},extendedExpiryToken:!1,keyId:t.popKid};if(o.signPopToken&&t.popKid)throw Ar(Hfe);if(this.handleExtraBrokerParams(o),o.extraParameters=o.extraParameters||{},o.extraParameters.telemetry=o0.MATS_TELEMETRY,t.authenticationScheme===To.POP){const m={resourceRequestUri:t.resourceRequestUri,resourceRequestMethod:t.resourceRequestMethod,shrClaims:t.shrClaims,shrNonce:t.shrNonce},y=new bb(this.browserCrypto);let v;if(o.keyId)v=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:o.keyId})),o.signPopToken=!1;else{const S=await er(y.generateCnf.bind(y),Bt.PopTokenGenerateCnf,this.logger,this.performanceClient,t.correlationId)(m,this.logger);v=S.reqCnfString,o.keyId=S.kid,o.signPopToken=!0}o.reqCnf=v}return this.addRequestSKUs(o),o}handleExtraBrokerParams(t){var s;const n=t.extraParameters&&t.extraParameters.hasOwnProperty(GF)&&t.extraParameters.hasOwnProperty(ND)&&t.extraParameters.hasOwnProperty(qg);if(!t.embeddedClientId&&!n)return;let r="";const i=t.redirectUri;t.embeddedClientId?(t.redirectUri=this.config.auth.redirectUri,r=t.embeddedClientId):t.extraParameters&&(t.redirectUri=t.extraParameters[ND],r=t.extraParameters[qg]),t.extraParameters={child_client_id:r,child_redirect_uri:i},(s=this.performanceClient)==null||s.addFields({embeddedClientId:r,embeddedRedirectUri:i},t.correlationId)}}/*! @azure/msal-browser v3.28.1 2025-01-14 */class Ud{constructor(t,n,r,i){this.logger=t,this.handshakeTimeoutMs=n,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(Bt.NativeMessageHandlerHandshake)}async sendMessage(t){this.logger.trace("NativeMessageHandler - sendMessage called.");const n={channel:o0.CHANNEL_ID,extensionId:this.extensionId,responseId:cp(),body:t};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(n)}`),this.messageChannel.port1.postMessage(n),new Promise((r,i)=>{this.resolvers.set(n.responseId,{resolve:r,reject:i})})}static async createProvider(t,n,r){t.trace("NativeMessageHandler - createProvider called.");try{const i=new Ud(t,n,r,o0.PREFERRED_EXTENSION_ID);return await i.sendHandshakeRequest(),i}catch{const s=new Ud(t,n,r);return await s.sendHandshakeRequest(),s}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const t={channel:o0.CHANNEL_ID,extensionId:this.extensionId,responseId:cp(),body:{method:Sg.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=n=>{this.onChannelMessage(n)},window.postMessage(t,window.origin,[this.messageChannel.port2]),new Promise((n,r)=>{this.handshakeResolvers.set(t.responseId,{resolve:n,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(Ar(jfe)),this.handshakeResolvers.delete(t.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(t){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),t.source!==window)return;const n=t.data;if(!(!n.channel||n.channel!==o0.CHANNEL_ID)&&!(n.extensionId&&n.extensionId!==this.extensionId)&&n.body.method===Sg.HandshakeRequest){const r=this.handshakeResolvers.get(n.responseId);if(!r){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${n.responseId}`);return}this.logger.verbose(n.extensionId?`Extension with id: ${n.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(Ar(zfe))}}onChannelMessage(t){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const n=t.data,r=this.resolvers.get(n.responseId),i=this.handshakeResolvers.get(n.responseId);try{const s=n.body.method;if(s===Sg.Response){if(!r)return;const c=n.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(c)}`),c.status!=="Success")r.reject(ZD(c.code,c.description,c.ext));else if(c.result)c.result.code&&c.result.description?r.reject(ZD(c.result.code,c.result.description,c.result.ext)):r.resolve(c.result);else throw wpe(PF,"Event does not contain result.");this.resolvers.delete(n.responseId)}else if(s===Sg.HandshakeResponse){if(!i){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${n.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=n.extensionId,this.extensionVersion=n.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(n.responseId)}}catch(s){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${s}`),this.logger.errorPii(`Unable to parse ${t}`),r?r.reject(s):i&&i.reject(s)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(t,n,r,i){if(n.trace("isNativeAvailable called"),!t.system.allowNativeBroker)return n.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!r)return n.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(i)switch(i){case To.BEARER:case To.POP:return n.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return n.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}/*! @azure/msal-browser v3.28.1 2025-01-14 */class h${constructor(t,n,r,i,s){this.authModule=t,this.browserStorage=n,this.authCodeRequest=r,this.logger=i,this.performanceClient=s}async handleCodeResponse(t,n){this.performanceClient.addQueueMeasurement(Bt.HandleCodeResponse,n.correlationId);let r;try{r=this.authModule.handleFragmentResponse(t,n.state)}catch(i){throw i instanceof jf&&i.subError===Yg?Ar(Yg):i}return er(this.handleCodeResponseFromServer.bind(this),Bt.HandleCodeResponseFromServer,this.logger,this.performanceClient,n.correlationId)(r,n)}async handleCodeResponseFromServer(t,n,r=!0){if(this.performanceClient.addQueueMeasurement(Bt.HandleCodeResponseFromServer,n.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=t.code,t.cloud_instance_host_name&&await er(this.authModule.updateAuthority.bind(this.authModule),Bt.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,n.correlationId)(t.cloud_instance_host_name,n.correlationId),r&&(t.nonce=n.nonce||void 0),t.state=n.state,t.client_info)this.authCodeRequest.clientInfo=t.client_info;else{const s=this.createCcsCredentials(n);s&&(this.authCodeRequest.ccsCredential=s)}return await er(this.authModule.acquireToken.bind(this.authModule),Bt.AuthClientAcquireToken,this.logger,this.performanceClient,n.correlationId)(this.authCodeRequest,t)}createCcsCredentials(t){return t.account?{credential:t.account.homeAccountId,type:wc.HOME_ACCOUNT_ID}:t.loginHint?{credential:t.loginHint,type:wc.UPN}:null}}/*! @azure/msal-browser v3.28.1 2025-01-14 */function ome(e,t,n){const r=RP(e);if(!r)throw ife(e)?(n.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${t} detected is: ${e}`),Ar(bfe)):(n.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),Ar(vfe));return r}function e1t(e,t,n){if(!e.state)throw Ar(e$);const r=tme(t,e.state);if(!r)throw Ar(_fe);if(r.interactionType!==n)throw Ar(xfe)}/*! @azure/msal-browser v3.28.1 2025-01-14 */class t1t extends e_{constructor(t,n,r,i,s,c,h,o,m,y){super(t,n,r,i,s,c,h,m,y),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=o}acquireToken(t){try{const r={popupName:this.generatePopupName(t.scopes||Jb,t.authority||this.config.auth.authority),popupWindowAttributes:t.popupWindowAttributes||{},popupWindowParent:t.popupWindowParent??window};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(t,r)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(t,r))}catch(n){return Promise.reject(n)}}logout(t){try{this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(t),r={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(t==null?void 0:t.popupWindowAttributes)||{},popupWindowParent:(t==null?void 0:t.popupWindowParent)??window},i=t&&t.authority,s=t&&t.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,r,i,s)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(n,r,i,s))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(t,n){var s;this.logger.verbose("acquireTokenPopupAsync called");const r=this.initializeServerTelemetryManager(Ho.acquireTokenPopup),i=await er(this.initializeAuthorizationRequest.bind(this),Bt.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(t,$r.Popup);eme(i.authority);try{const c=await er(this.initializeAuthorizationCodeRequest.bind(this),Bt.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(i),h=await er(this.createAuthCodeClient.bind(this),Bt.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),o=Ud.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme);let m;o&&(m=this.performanceClient.startMeasurement(Bt.FetchAccountIdWithNativeBroker,t.correlationId));const y=await h.getAuthCodeUrl({...i,nativeBroker:o}),v=new h$(h,this.browserStorage,c,this.logger,this.performanceClient),S=this.initiateAuthRequest(y,n);this.eventHandler.emitEvent(Mr.POPUP_OPENED,$r.Popup,{popupWindow:S},null);const C=await this.monitorPopupForHash(S,n.popupWindowParent),P=dy(ome,Bt.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(C,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(Ld.removeThrottle(this.browserStorage,this.config.auth.clientId,c),P.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),m&&m.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw Ar(IA);const N=new S0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ho.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,P.accountId,this.nativeStorage,i.correlationId),{userRequestState:D}=qu.parseRequestState(this.browserCrypto,i.state);return await N.acquireToken({...i,state:D,prompt:void 0})}return await v.handleCodeResponse(P,i)}catch(c){throw(s=n.popup)==null||s.close(),c instanceof ra&&(c.setCorrelationId(this.correlationId),r.cacheFailedRequest(c)),c}}async logoutPopupAsync(t,n,r,i){var c,h,o,m;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(Mr.LOGOUT_START,$r.Popup,t);const s=this.initializeServerTelemetryManager(Ho.logoutPopup);try{await this.clearCacheOnLogout(t.account);const y=await er(this.createAuthCodeClient.bind(this),Bt.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:r,account:t.account||void 0});try{y.authority.endSessionEndpoint}catch{if((c=t.account)!=null&&c.homeAccountId&&t.postLogoutRedirectUri&&y.authority.protocolMode===Yh.OIDC){if(this.browserStorage.removeAccount((h=t.account)==null?void 0:h.homeAccountId),this.eventHandler.emitEvent(Mr.LOGOUT_SUCCESS,$r.Popup,t),i){const C={apiId:Ho.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},P=Ki.getAbsoluteUrl(i,Vh());await this.navigationClient.navigateInternal(P,C)}(o=n.popup)==null||o.close();return}}const v=y.getLogoutUri(t);this.eventHandler.emitEvent(Mr.LOGOUT_SUCCESS,$r.Popup,t);const S=this.openPopup(v,n);if(this.eventHandler.emitEvent(Mr.POPUP_OPENED,$r.Popup,{popupWindow:S},null),await this.monitorPopupForHash(S,n.popupWindowParent).catch(()=>{}),i){const C={apiId:Ho.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},P=Ki.getAbsoluteUrl(i,Vh());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${P}`),await this.navigationClient.navigateInternal(P,C)}else this.logger.verbose("No main window navigation requested")}catch(y){throw(m=n.popup)==null||m.close(),y instanceof ra&&(y.setCorrelationId(this.correlationId),s.cacheFailedRequest(y)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(Mr.LOGOUT_FAILURE,$r.Popup,null,y),this.eventHandler.emitEvent(Mr.LOGOUT_END,$r.Popup),y}this.eventHandler.emitEvent(Mr.LOGOUT_END,$r.Popup)}initiateAuthRequest(t,n){if(t)return this.logger.infoPii(`Navigate to: ${t}`),this.openPopup(t,n);throw this.logger.error("Navigate url is empty"),Ar(X4)}monitorPopupForHash(t,n){return new Promise((r,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const s=setInterval(()=>{if(t.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(s),i(Ar(Yg));return}let c="";try{c=t.location.href}catch{}if(!c||c==="about:blank")return;clearInterval(s);let h="";const o=this.config.auth.OIDCOptions.serverResponseType;t&&(o===PA.QUERY?h=t.location.search:h=t.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(h)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(t,n)})}openPopup(t,n){try{let r;if(n.popup?(r=n.popup,this.logger.verbosePii(`Navigating popup window to: ${t}`),r.location.assign(t)):typeof n.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${t}`),r=this.openSizedPopup(t,n)),!r)throw Ar(Afe);return r.focus&&r.focus(),this.currentWindow=r,n.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),this.browserStorage.setInteractionInProgress(!1),Ar(Sfe)}}openSizedPopup(t,{popupName:n,popupWindowAttributes:r,popupWindowParent:i}){var C,P,I,N;const s=i.screenLeft?i.screenLeft:i.screenX,c=i.screenTop?i.screenTop:i.screenY,h=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let m=(C=r.popupSize)==null?void 0:C.width,y=(P=r.popupSize)==null?void 0:P.height,v=(I=r.popupPosition)==null?void 0:I.top,S=(N=r.popupPosition)==null?void 0:N.left;return(!m||m<0||m>h)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),m=yc.POPUP_WIDTH),(!y||y<0||y>o)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),y=yc.POPUP_HEIGHT),(!v||v<0||v>o)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),v=Math.max(0,o/2-yc.POPUP_HEIGHT/2+c)),(!S||S<0||S>h)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),S=Math.max(0,h/2-yc.POPUP_WIDTH/2+s)),i.open(t,n,`width=${m}, height=${y}, top=${v}, left=${S}, scrollbars=yes`)}unloadWindow(t){this.browserStorage.cleanRequestByInteractionType($r.Popup),this.currentWindow&&this.currentWindow.close(),t.preventDefault()}cleanPopup(t,n){t.close(),n.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(t,n){return`${yc.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t.join("-")}.${n}.${this.correlationId}`}generateLogoutPopupName(t){const n=t.account&&t.account.homeAccountId;return`${yc.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${n}.${this.correlationId}`}}/*! @azure/msal-browser v3.28.1 2025-01-14 */class cee{constructor(t,n,r,i,s){this.authModule=t,this.browserStorage=n,this.authCodeRequest=r,this.logger=i,this.performanceClient=s}async initiateAuthRequest(t,n){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),t){n.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(bo.ORIGIN_URI,n.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(bo.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${t}`);const r={apiId:Ho.acquireTokenRedirect,timeout:n.redirectTimeout,noHistory:!1};if(typeof n.onRedirectNavigate=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),n.onRedirectNavigate(t)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await n.navigationClient.navigateExternal(t,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await n.navigationClient.navigateExternal(t,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Ar(X4)}async handleCodeResponse(t,n){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const r=this.browserStorage.generateStateKey(n),i=this.browserStorage.getTemporaryCache(r);if(!i)throw jn(IP,"Cached State");let s;try{s=this.authModule.handleFragmentResponse(t,i)}catch(m){throw m instanceof jf&&m.subError===Yg?Ar(Yg):m}const c=this.browserStorage.generateNonceKey(i),h=this.browserStorage.getTemporaryCache(c);if(this.authCodeRequest.code=s.code,s.cloud_instance_host_name&&await er(this.authModule.updateAuthority.bind(this.authModule),Bt.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(s.cloud_instance_host_name,this.authCodeRequest.correlationId),s.nonce=h||void 0,s.state=i,s.client_info)this.authCodeRequest.clientInfo=s.client_info;else{const m=this.checkCcsCredentials();m&&(this.authCodeRequest.ccsCredential=m)}const o=await this.authModule.acquireToken(this.authCodeRequest,s);return this.browserStorage.cleanRequestByState(n),o}checkCcsCredentials(){const t=this.browserStorage.getTemporaryCache(bo.CCS_CREDENTIAL,!0);if(t)try{return JSON.parse(t)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${t}`)}return null}}/*! @azure/msal-browser v3.28.1 2025-01-14 */function n1t(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return t==null?void 0:t.type}class r1t extends e_{constructor(t,n,r,i,s,c,h,o,m,y){super(t,n,r,i,s,c,h,m,y),this.nativeStorage=o}async acquireToken(t){const n=await er(this.initializeAuthorizationRequest.bind(this),Bt.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(t,$r.Redirect);this.browserStorage.updateCacheEntries(n.state,n.nonce,n.authority,n.loginHint||"",n.account||null);const r=this.initializeServerTelemetryManager(Ho.acquireTokenRedirect),i=s=>{s.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(n.state),this.eventHandler.emitEvent(Mr.RESTORE_FROM_BFCACHE,$r.Redirect))};try{const s=await er(this.initializeAuthorizationCodeRequest.bind(this),Bt.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(n),c=await er(this.createAuthCodeClient.bind(this),Bt.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),h=new cee(c,this.browserStorage,s,this.logger,this.performanceClient),o=await c.getAuthCodeUrl({...n,nativeBroker:Ud.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}),m=this.getRedirectStartPage(t.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${m}`),window.addEventListener("pageshow",i),await h.initiateAuthRequest(o,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:m,onRedirectNavigate:t.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(s){throw s instanceof ra&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),window.removeEventListener("pageshow",i),this.browserStorage.cleanRequestByState(n.state),s}}async handleRedirectPromise(t="",n){const r=this.initializeServerTelemetryManager(Ho.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[i,s]=this.getRedirectResponse(t||"");if(!i)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType($r.Redirect),n1t()!=="back_forward"?n.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const c=this.browserStorage.getTemporaryCache(bo.ORIGIN_URI,!0)||dn.EMPTY_STRING,h=Ki.removeHashFromUrl(c),o=Ki.removeHashFromUrl(window.location.href);if(h===o&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),c.indexOf("#")>-1&&u_t(c),await this.handleResponse(i,r);if(this.config.auth.navigateToLoginRequestUrl){if(!l$()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(bo.URL_HASH,s,!0);const m={apiId:Ho.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let y=!0;if(!c||c==="null"){const v=h_t();this.browserStorage.setTemporaryCache(bo.ORIGIN_URI,v,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),y=await this.navigationClient.navigateInternal(v,m)}else this.logger.verbose(`Navigating to loginRequestUrl: ${c}`),y=await this.navigationClient.navigateInternal(c,m);if(!y)return await this.handleResponse(i,r)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(i,r);return null}catch(i){throw i instanceof ra&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),this.browserStorage.cleanRequestByInteractionType($r.Redirect),i}}getRedirectResponse(t){this.logger.verbose("getRedirectResponseHash called");let n=t;n||(this.config.auth.OIDCOptions.serverResponseType===PA.QUERY?n=window.location.search:n=window.location.hash);let r=RP(n);if(r){try{e1t(r,this.browserCrypto,$r.Redirect)}catch(s){return s instanceof ra&&this.logger.error(`Interaction type validation failed due to ${s.errorCode}: ${s.errorMessage}`),[null,""]}return c_t(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,n]}const i=this.browserStorage.getTemporaryCache(bo.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(bo.URL_HASH)),i&&(r=RP(i),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,i]):[null,""]}async handleResponse(t,n){const r=t.state;if(!r)throw Ar(e$);const i=this.browserStorage.getCachedRequest(r);if(this.logger.verbose("handleResponse called, retrieved cached request"),t.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw Ar(IA);const o=new S0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ho.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,t.accountId,this.nativeStorage,i.correlationId),{userRequestState:m}=qu.parseRequestState(this.browserCrypto,r);return o.acquireToken({...i,state:m,prompt:void 0}).finally(()=>{this.browserStorage.cleanRequestByState(r)})}const s=this.browserStorage.getCachedAuthority(r);if(!s)throw Ar(t$);const c=await er(this.createAuthCodeClient.bind(this),Bt.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:s});return Ld.removeThrottle(this.browserStorage,this.config.auth.clientId,i),new cee(c,this.browserStorage,i,this.logger,this.performanceClient).handleCodeResponse(t,r)}async logout(t){var i,s;this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(t),r=this.initializeServerTelemetryManager(Ho.logout);try{this.eventHandler.emitEvent(Mr.LOGOUT_START,$r.Redirect,t),await this.clearCacheOnLogout(n.account);const c={apiId:Ho.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},h=await er(this.createAuthCodeClient.bind(this),Bt.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:t&&t.authority,requestExtraQueryParameters:t==null?void 0:t.extraQueryParameters,account:t&&t.account||void 0});if(h.authority.protocolMode===Yh.OIDC)try{h.authority.endSessionEndpoint}catch{if((i=n.account)!=null&&i.homeAccountId){this.browserStorage.removeAccount((s=n.account)==null?void 0:s.homeAccountId),this.eventHandler.emitEvent(Mr.LOGOUT_SUCCESS,$r.Redirect,n);return}}const o=h.getLogoutUri(n);if(this.eventHandler.emitEvent(Mr.LOGOUT_SUCCESS,$r.Redirect,n),t&&typeof t.onRedirectNavigate=="function")if(t.onRedirectNavigate(o)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(o,c);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(o,c);return}}catch(c){throw c instanceof ra&&(c.setCorrelationId(this.correlationId),r.cacheFailedRequest(c)),this.eventHandler.emitEvent(Mr.LOGOUT_FAILURE,$r.Redirect,null,c),this.eventHandler.emitEvent(Mr.LOGOUT_END,$r.Redirect),c}this.eventHandler.emitEvent(Mr.LOGOUT_END,$r.Redirect)}getRedirectStartPage(t){const n=t||window.location.href;return Ki.getAbsoluteUrl(n,Vh())}}/*! @azure/msal-browser v3.28.1 2025-01-14 */async function i1t(e,t,n,r,i){if(t.addQueueMeasurement(Bt.SilentHandlerInitiateAuthRequest,r),!e)throw n.info("Navigate url is empty"),Ar(X4);return i?er(a1t,Bt.SilentHandlerLoadFrame,n,t,r)(e,i,t,r):dy(s1t,Bt.SilentHandlerLoadFrameSync,n,t,r)(e)}async function o1t(e,t,n,r,i,s,c){return r.addQueueMeasurement(Bt.SilentHandlerMonitorIframeForHash,s),new Promise((h,o)=>{t<jD&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (${jD}ms). This may result in timeouts.`);const m=window.setTimeout(()=>{window.clearInterval(y),o(Ar(Cfe))},t),y=window.setInterval(()=>{let v="";const S=e.contentWindow;try{v=S?S.location.href:""}catch{}if(!v||v==="about:blank")return;let C="";S&&(c===PA.QUERY?C=S.location.search:C=S.location.hash),window.clearTimeout(m),window.clearInterval(y),h(C)},n)}).finally(()=>{dy(l1t,Bt.RemoveHiddenIframe,i,r,s)(e)})}function a1t(e,t,n,r){return n.addQueueMeasurement(Bt.SilentHandlerLoadFrame,r),new Promise((i,s)=>{const c=ame();window.setTimeout(()=>{if(!c){s("Unable to load iframe");return}c.src=e,i(c)},t)})}function s1t(e){const t=ame();return t.src=e,t}function ame(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function l1t(e){document.body===e.parentNode&&document.body.removeChild(e)}/*! @azure/msal-browser v3.28.1 2025-01-14 */class c1t extends e_{constructor(t,n,r,i,s,c,h,o,m,y,v){super(t,n,r,i,s,c,o,y,v),this.apiId=h,this.nativeStorage=m}async acquireToken(t){this.performanceClient.addQueueMeasurement(Bt.SilentIframeClientAcquireToken,t.correlationId),!t.loginHint&&!t.sid&&(!t.account||!t.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const n={...t};n.prompt?n.prompt!==ys.NONE&&n.prompt!==ys.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${n.prompt} with ${ys.NONE}`),n.prompt=ys.NONE):n.prompt=ys.NONE;const r=await er(this.initializeAuthorizationRequest.bind(this),Bt.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,t.correlationId)(n,$r.Silent);eme(r.authority);const i=this.initializeServerTelemetryManager(this.apiId);let s;try{return s=await er(this.createAuthCodeClient.bind(this),Bt.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,t.correlationId)({serverTelemetryManager:i,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),await er(this.silentTokenHelper.bind(this),Bt.SilentIframeClientTokenHelper,this.logger,this.performanceClient,t.correlationId)(s,r)}catch(c){if(c instanceof ra&&(c.setCorrelationId(this.correlationId),i.cacheFailedRequest(c)),!s||!(c instanceof ra)||c.errorCode!==yc.INVALID_GRANT_ERROR)throw c;this.performanceClient.addFields({retryError:c.errorCode},this.correlationId);const h=await er(this.initializeAuthorizationRequest.bind(this),Bt.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,t.correlationId)(n,$r.Silent);return await er(this.silentTokenHelper.bind(this),Bt.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(s,h)}}logout(){return Promise.reject(Ar(Y4))}async silentTokenHelper(t,n){const r=n.correlationId;this.performanceClient.addQueueMeasurement(Bt.SilentIframeClientTokenHelper,r);const i=await er(this.initializeAuthorizationCodeRequest.bind(this),Bt.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,r)(n),s=await er(t.getAuthCodeUrl.bind(t),Bt.GetAuthCodeUrl,this.logger,this.performanceClient,r)({...n,nativeBroker:Ud.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,n.authenticationScheme)}),c=new h$(t,this.browserStorage,i,this.logger,this.performanceClient),h=await er(i1t,Bt.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(s,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait),o=this.config.auth.OIDCOptions.serverResponseType,m=await er(o1t,Bt.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(h,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,o),y=dy(ome,Bt.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(m,o,this.logger);if(y.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw Ar(IA);const v=new S0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,y.accountId,this.browserStorage,r),{userRequestState:S}=qu.parseRequestState(this.browserCrypto,n.state);return er(v.acquireToken.bind(v),Bt.NativeInteractionClientAcquireToken,this.logger,this.performanceClient,r)({...n,state:S,prompt:n.prompt||ys.NONE})}return er(c.handleCodeResponse.bind(c),Bt.HandleCodeResponse,this.logger,this.performanceClient,r)(y,n)}}/*! @azure/msal-browser v3.28.1 2025-01-14 */class u1t extends e_{async acquireToken(t){this.performanceClient.addQueueMeasurement(Bt.SilentRefreshClientAcquireToken,t.correlationId);const n=await er(d$,Bt.InitializeBaseRequest,this.logger,this.performanceClient,t.correlationId)(t,this.config,this.performanceClient,this.logger),r={...t,...n};t.redirectUri&&(r.redirectUri=this.getRedirectUri(t.redirectUri));const i=this.initializeServerTelemetryManager(Ho.acquireTokenSilent_silentFlow),s=await this.createRefreshTokenClient({serverTelemetryManager:i,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return er(s.acquireTokenByRefreshToken.bind(s),Bt.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,t.correlationId)(r).catch(c=>{throw c.setCorrelationId(this.correlationId),i.cacheFailedRequest(c),c})}logout(){return Promise.reject(Ar(Y4))}async createRefreshTokenClient(t){const n=await er(this.getClientConfiguration.bind(this),Bt.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t.serverTelemetryManager,requestAuthority:t.authorityUrl,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return new DD(n,this.performanceClient)}}/*! @azure/msal-browser v3.28.1 2025-01-14 */class d1t{constructor(t,n,r,i){this.isBrowserEnvironment=typeof window<"u",this.config=t,this.storage=n,this.logger=r,this.cryptoObj=i}loadExternalTokens(t,n,r){if(!this.isBrowserEnvironment)throw Ar(J4);const i=n.id_token?uy(n.id_token,Jd):void 0,s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},c=t.authority?new Hs(Hs.generateAuthority(t.authority,t.azureCloudOptions),this.config.system.networkClient,this.storage,s,this.logger,t.correlationId||cp()):void 0,h=this.loadAccount(t,r.clientInfo||n.client_info||"",i,c),o=this.loadIdToken(n,h.homeAccountId,h.environment,h.realm),m=this.loadAccessToken(t,n,h.homeAccountId,h.environment,h.realm,r),y=this.loadRefreshToken(n,h.homeAccountId,h.environment);return this.generateAuthenticationResult(t,{account:h,idToken:o,accessToken:m,refreshToken:y},i,c)}loadAccount(t,n,r,i){if(this.logger.verbose("TokenCache - loading account"),t.account){const o=rs.createFromAccountInfo(t.account);return this.storage.setAccount(o),o}else if(!i||!n&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),Ar(Rfe);const s=rs.generateHomeAccountId(n,i.authorityType,this.logger,this.cryptoObj,r),c=r==null?void 0:r.tid,h=XF(this.storage,i,s,Jd,r,n,i.hostnameAndPort,c,void 0,void 0,this.logger);return this.storage.setAccount(h),h}loadIdToken(t,n,r,i){if(!t.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const s=H4(n,r,t.id_token,this.config.auth.clientId,i);return this.storage.setIdTokenCredential(s),s}loadAccessToken(t,n,r,i,s,c){if(n.access_token)if(n.expires_in){if(!n.scope&&(!t.scopes||!t.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const h=n.scope?Oa.fromString(n.scope):new Oa(t.scopes),o=c.expiresOn||n.expires_in+new Date().getTime()/1e3,m=c.extendedExpiresOn||(n.ext_expires_in||n.expires_in)+new Date().getTime()/1e3,y=V4(r,i,n.access_token,this.config.auth.clientId,s,h.printScopes(),o,m,Jd);return this.storage.setAccessTokenCredential(y),y}loadRefreshToken(t,n,r){if(!t.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=Zpe(n,r,t.refresh_token,this.config.auth.clientId,t.foci,void 0,t.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(i),i}generateAuthenticationResult(t,n,r,i){var y,v,S;let s="",c=[],h=null,o;n!=null&&n.accessToken&&(s=n.accessToken.secret,c=Oa.fromString(n.accessToken.target).asArray(),h=new Date(Number(n.accessToken.expiresOn)*1e3),o=new Date(Number(n.accessToken.extendedExpiresOn)*1e3));const m=n.account;return{authority:i?i.canonicalAuthority:"",uniqueId:n.account.localAccountId,tenantId:n.account.realm,scopes:c,account:m.getAccountInfo(),idToken:((y=n.idToken)==null?void 0:y.secret)||"",idTokenClaims:r||{},accessToken:s,fromCache:!0,expiresOn:h,correlationId:t.correlationId||"",requestId:"",extExpiresOn:o,familyId:((v=n.refreshToken)==null?void 0:v.familyId)||"",tokenType:((S=n==null?void 0:n.accessToken)==null?void 0:S.tokenType)||"",state:t.state||"",cloudGraphHostName:m.cloudGraphHostName||"",msGraphHost:m.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v3.28.1 2025-01-14 */class h1t extends ffe{constructor(t){super(t),this.includeRedirectUri=!1}}/*! @azure/msal-browser v3.28.1 2025-01-14 */class p1t extends e_{constructor(t,n,r,i,s,c,h,o,m,y){super(t,n,r,i,s,c,o,m,y),this.apiId=h}async acquireToken(t){if(!t.code)throw Ar(Dfe);const n=await er(this.initializeAuthorizationRequest.bind(this),Bt.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,t.correlationId)(t,$r.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const i={...n,code:t.code},s=await er(this.getClientConfiguration.bind(this),Bt.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,t.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),c=new h1t(s);this.logger.verbose("Auth code client created");const h=new h$(c,this.browserStorage,i,this.logger,this.performanceClient);return await er(h.handleCodeResponseFromServer.bind(h),Bt.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)({code:t.code,msgraph_host:t.msGraphHost,cloud_graph_host_name:t.cloudGraphHostName,cloud_instance_host_name:t.cloudInstanceHostName},n,!1)}catch(i){throw i instanceof ra&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),i}}logout(){return Promise.reject(Ar(Y4))}}/*! @azure/msal-browser v3.28.1 2025-01-14 */function Pd(e){const t=e==null?void 0:e.idTokenClaims;if(t!=null&&t.tfp||t!=null&&t.acr)return"B2C";if(t!=null&&t.tid){if((t==null?void 0:t.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function LM(e,t){try{c$(e)}catch(n){throw t.end({success:!1},n),n}}class nI{constructor(t){this.operatingContext=t,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=t.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new _b(this.logger,this.performanceClient):OP,this.eventHandler=new j_t(this.logger),this.browserStorage=this.isBrowserEnvironment?new BD(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,Mbt(this.config.auth),this.performanceClient):O_t(this.config.auth.clientId,this.logger);const n={cacheLocation:Rl.MemoryStorage,temporaryCacheLocation:Rl.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new BD(this.config.auth.clientId,n,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new d1t(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this),this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}static async createController(t,n){const r=new nI(t);return await r.initialize(n),r}trackPageVisibility(t){t&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},t))}async initialize(t){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(Mr.INITIALIZE_END);return}const n=(t==null?void 0:t.correlationId)||this.getRequestCorrelationId(),r=this.config.system.allowNativeBroker,i=this.performanceClient.startMeasurement(Bt.InitializeClientApplication,n);if(this.eventHandler.emitEvent(Mr.INITIALIZE_START),r)try{this.nativeExtensionProvider=await Ud.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(s){this.logger.verbose(s)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await er(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),Bt.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,n)(this.performanceClient,n)),this.initialized=!0,this.eventHandler.emitEvent(Mr.INITIALIZE_END),i.end({allowNativeBroker:r,success:!0})}async handleRedirectPromise(t){if(this.logger.verbose("handleRedirectPromise called"),Qfe(this.initialized),this.isBrowserEnvironment){const n=t||"";let r=this.redirectResponse.get(n);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(t),this.redirectResponse.set(n,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(t){const n=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),i=r&&Ud.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!t,s=i?r==null?void 0:r.correlationId:this.browserStorage.getTemporaryCache(bo.CORRELATION_ID,!0)||"",c=this.performanceClient.startMeasurement(Bt.AcquireTokenRedirect,s);this.eventHandler.emitEvent(Mr.HANDLE_REDIRECT_START,$r.Redirect);let h;if(i&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const o=new S0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ho.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,r.accountId,this.nativeInternalStorage,r.correlationId);h=er(o.handleRedirectPromise.bind(o),Bt.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,c.event.correlationId)(this.performanceClient,c.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const o=this.createRedirectClient(s);h=er(o.handleRedirectPromise.bind(o),Bt.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,c.event.correlationId)(t,c)}return h.then(o=>(o?(n.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(Mr.LOGIN_SUCCESS,$r.Redirect,o),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(Mr.ACQUIRE_TOKEN_SUCCESS,$r.Redirect,o),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),c.end({success:!0,accountType:Pd(o.account)})):c.event.errorCode?c.end({success:!1}):c.discard(),this.eventHandler.emitEvent(Mr.HANDLE_REDIRECT_END,$r.Redirect),o)).catch(o=>{const m=o;throw n.length>0?this.eventHandler.emitEvent(Mr.ACQUIRE_TOKEN_FAILURE,$r.Redirect,null,m):this.eventHandler.emitEvent(Mr.LOGIN_FAILURE,$r.Redirect,null,m),this.eventHandler.emitEvent(Mr.HANDLE_REDIRECT_END,$r.Redirect),c.end({success:!1},m),o})}async acquireTokenRedirect(t){const n=this.getRequestCorrelationId(t);this.logger.verbose("acquireTokenRedirect called",n);const r=this.performanceClient.startMeasurement(Bt.AcquireTokenPreRedirect,n);r.add({accountType:Pd(t.account),scenarioId:t.scenarioId});const i=t.onRedirectNavigate;if(i)t.onRedirectNavigate=c=>{const h=typeof i=="function"?i(c):void 0;return h!==!1?r.end({success:!0}):r.discard(),h};else{const c=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=h=>{const o=typeof c=="function"?c(h):void 0;return o!==!1?r.end({success:!0}):r.discard(),o}}const s=this.getAllAccounts().length>0;try{oee(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),s?this.eventHandler.emitEvent(Mr.ACQUIRE_TOKEN_START,$r.Redirect,t):this.eventHandler.emitEvent(Mr.LOGIN_START,$r.Redirect,t);let c;return this.nativeExtensionProvider&&this.canUseNative(t)?c=new S0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ho.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(t),this.nativeInternalStorage,n).acquireTokenRedirect(t,r).catch(o=>{if(o instanceof Fd&&Dv(o))return this.nativeExtensionProvider=void 0,this.createRedirectClient(n).acquireToken(t);if(o instanceof Qu)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(n).acquireToken(t);throw this.browserStorage.setInteractionInProgress(!1),o}):c=this.createRedirectClient(n).acquireToken(t),await c}catch(c){throw r.end({success:!1},c),s?this.eventHandler.emitEvent(Mr.ACQUIRE_TOKEN_FAILURE,$r.Redirect,null,c):this.eventHandler.emitEvent(Mr.LOGIN_FAILURE,$r.Redirect,null,c),c}}acquireTokenPopup(t){const n=this.getRequestCorrelationId(t),r=this.performanceClient.startMeasurement(Bt.AcquireTokenPopup,n);r.add({scenarioId:t.scenarioId,accountType:Pd(t.account)});try{this.logger.verbose("acquireTokenPopup called",n),LM(this.initialized,r),this.browserStorage.setInteractionInProgress(!0)}catch(c){return Promise.reject(c)}const i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(Mr.ACQUIRE_TOKEN_START,$r.Popup,t):this.eventHandler.emitEvent(Mr.LOGIN_START,$r.Popup,t);let s;return this.canUseNative(t)?s=this.acquireTokenNative({...t,correlationId:n},Ho.acquireTokenPopup).then(c=>(this.browserStorage.setInteractionInProgress(!1),r.end({success:!0,isNativeBroker:!0,accountType:Pd(c.account)}),c)).catch(c=>{if(c instanceof Fd&&Dv(c))return this.nativeExtensionProvider=void 0,this.createPopupClient(n).acquireToken(t);if(c instanceof Qu)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(n).acquireToken(t);throw this.browserStorage.setInteractionInProgress(!1),c}):s=this.createPopupClient(n).acquireToken(t),s.then(c=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(Mr.LOGIN_SUCCESS,$r.Popup,c):this.eventHandler.emitEvent(Mr.ACQUIRE_TOKEN_SUCCESS,$r.Popup,c),r.end({success:!0,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length,accountType:Pd(c.account)}),c)).catch(c=>(i.length>0?this.eventHandler.emitEvent(Mr.ACQUIRE_TOKEN_FAILURE,$r.Popup,null,c):this.eventHandler.emitEvent(Mr.LOGIN_FAILURE,$r.Popup,null,c),r.end({success:!1},c),Promise.reject(c)))}trackPageVisibilityWithMeasurement(){const t=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;t&&(this.logger.info("Perf: Visibility change detected in ",t.event.name),t.increment({visibilityChangeCount:1}))}async ssoSilent(t){var s,c;const n=this.getRequestCorrelationId(t),r={...t,prompt:t.prompt,correlationId:n};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(Bt.SsoSilent,n),(s=this.ssoSilentMeasurement)==null||s.add({scenarioId:t.scenarioId,accountType:Pd(t.account)}),LM(this.initialized,this.ssoSilentMeasurement),(c=this.ssoSilentMeasurement)==null||c.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(Mr.SSO_SILENT_START,$r.Silent,r);let i;return this.canUseNative(r)?i=this.acquireTokenNative(r,Ho.ssoSilent).catch(h=>{if(h instanceof Fd&&Dv(h))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw h}):i=this.createSilentIframeClient(r.correlationId).acquireToken(r),i.then(h=>{var o;return this.eventHandler.emitEvent(Mr.SSO_SILENT_SUCCESS,$r.Silent,h),(o=this.ssoSilentMeasurement)==null||o.end({success:!0,isNativeBroker:h.fromNativeBroker,accessTokenSize:h.accessToken.length,idTokenSize:h.idToken.length,accountType:Pd(h.account)}),h}).catch(h=>{var o;throw this.eventHandler.emitEvent(Mr.SSO_SILENT_FAILURE,$r.Silent,null,h),(o=this.ssoSilentMeasurement)==null||o.end({success:!1},h),h}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(t){const n=this.getRequestCorrelationId(t);this.logger.trace("acquireTokenByCode called",n);const r=this.performanceClient.startMeasurement(Bt.AcquireTokenByCode,n);LM(this.initialized,r),this.eventHandler.emitEvent(Mr.ACQUIRE_TOKEN_BY_CODE_START,$r.Silent,t),r.add({scenarioId:t.scenarioId});try{if(t.code&&t.nativeAccountId)throw Ar(Ffe);if(t.code){const i=t.code;let s=this.hybridAuthCodeResponses.get(i);return s?(this.logger.verbose("Existing acquireTokenByCode request found",n),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",n),s=this.acquireTokenByCodeAsync({...t,correlationId:n}).then(c=>(this.eventHandler.emitEvent(Mr.ACQUIRE_TOKEN_BY_CODE_SUCCESS,$r.Silent,c),this.hybridAuthCodeResponses.delete(i),r.end({success:!0,isNativeBroker:c.fromNativeBroker,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length,accountType:Pd(c.account)}),c)).catch(c=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(Mr.ACQUIRE_TOKEN_BY_CODE_FAILURE,$r.Silent,null,c),r.end({success:!1},c),c}),this.hybridAuthCodeResponses.set(i,s)),await s}else if(t.nativeAccountId)if(this.canUseNative(t,t.nativeAccountId)){const i=await this.acquireTokenNative({...t,correlationId:n},Ho.acquireTokenByCode,t.nativeAccountId).catch(s=>{throw s instanceof Fd&&Dv(s)&&(this.nativeExtensionProvider=void 0),s});return r.end({accountType:Pd(i.account),success:!0}),i}else throw Ar($fe);else throw Ar(Lfe)}catch(i){throw this.eventHandler.emitEvent(Mr.ACQUIRE_TOKEN_BY_CODE_FAILURE,$r.Silent,null,i),r.end({success:!1},i),i}}async acquireTokenByCodeAsync(t){var i;return this.logger.trace("acquireTokenByCodeAsync called",t.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(Bt.AcquireTokenByCodeAsync,t.correlationId),(i=this.acquireTokenByCodeAsyncMeasurement)==null||i.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(t.correlationId).acquireToken(t).then(s=>{var c;return(c=this.acquireTokenByCodeAsyncMeasurement)==null||c.end({success:!0,fromCache:s.fromCache,isNativeBroker:s.fromNativeBroker}),s}).catch(s=>{var c;throw(c=this.acquireTokenByCodeAsyncMeasurement)==null||c.end({success:!1},s),s}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(t,n){switch(this.performanceClient.addQueueMeasurement(Bt.AcquireTokenFromCache,t.correlationId),n){case pc.Default:case pc.AccessToken:case pc.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(t.correlationId);return er(r.acquireToken.bind(r),Bt.SilentCacheClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t);default:throw jn(Hh)}}async acquireTokenByRefreshToken(t,n){switch(this.performanceClient.addQueueMeasurement(Bt.AcquireTokenByRefreshToken,t.correlationId),n){case pc.Default:case pc.AccessTokenAndRefreshToken:case pc.RefreshToken:case pc.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(t.correlationId);return er(r.acquireToken.bind(r),Bt.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t);default:throw jn(Hh)}}async acquireTokenBySilentIframe(t){this.performanceClient.addQueueMeasurement(Bt.AcquireTokenBySilentIframe,t.correlationId);const n=this.createSilentIframeClient(t.correlationId);return er(n.acquireToken.bind(n),Bt.SilentIframeClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t)}async logout(t){const n=this.getRequestCorrelationId(t);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",n),this.logoutRedirect({correlationId:n,...t})}async logoutRedirect(t){const n=this.getRequestCorrelationId(t);return oee(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),this.createRedirectClient(n).logout(t)}logoutPopup(t){try{const n=this.getRequestCorrelationId(t);return c$(this.initialized),this.browserStorage.setInteractionInProgress(!0),this.createPopupClient(n).logout(t)}catch(n){return Promise.reject(n)}}async clearCache(t){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const n=this.getRequestCorrelationId(t);return this.createSilentCacheClient(n).logout(t)}getAllAccounts(t){return k_t(this.logger,this.browserStorage,this.isBrowserEnvironment,t)}getAccount(t){return N_t(t,this.logger,this.browserStorage)}getAccountByUsername(t){return R_t(t,this.logger,this.browserStorage)}getAccountByHomeId(t){return D_t(t,this.logger,this.browserStorage)}getAccountByLocalId(t){return L_t(t,this.logger,this.browserStorage)}setActiveAccount(t){F_t(t,this.browserStorage)}getActiveAccount(){return $_t(this.browserStorage)}async hydrateCache(t,n){this.logger.verbose("hydrateCache called");const r=rs.createFromAccountInfo(t.account,t.cloudGraphHostName,t.msGraphHost);return this.browserStorage.setAccount(r),t.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(t,n)):this.browserStorage.hydrateCache(t,n)}async acquireTokenNative(t,n,r){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw Ar(IA);return new S0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,n,this.performanceClient,this.nativeExtensionProvider,r||this.getNativeAccountId(t),this.nativeInternalStorage,t.correlationId).acquireToken(t)}canUseNative(t,n){if(this.logger.trace("canUseNative called"),!Ud.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,t.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(t.prompt)switch(t.prompt){case ys.NONE:case ys.CONSENT:case ys.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${t.prompt} is not compatible with native flow, returning false`),!1}return!n&&!this.getNativeAccountId(t)?(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(t){const n=t.account||this.getAccount({loginHint:t.loginHint,sid:t.sid})||this.getActiveAccount();return n&&n.nativeAccountId||""}createPopupClient(t){return new t1t(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)}createRedirectClient(t){return new r1t(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)}createSilentIframeClient(t){return new c1t(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ho.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)}createSilentCacheClient(t){return new ime(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)}createSilentRefreshClient(t){return new u1t(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)}createSilentAuthCodeClient(t){return new p1t(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ho.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,t)}addEventCallback(t,n){return this.eventHandler.addEventCallback(t,n)}removeEventCallback(t){this.eventHandler.removeEventCallback(t)}addPerformanceCallback(t){return Jfe(),this.performanceClient.addPerformanceCallback(t)}removePerformanceCallback(t){return this.performanceClient.removePerformanceCallback(t)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}handleAccountCacheChange(t){var n;try{(n=t.key)!=null&&n.includes(ps.ACTIVE_ACCOUNT_FILTERS)&&this.eventHandler.emitEvent(Mr.ACTIVE_ACCOUNT_CHANGED);const r=t.newValue||t.oldValue;if(!r)return;const i=JSON.parse(r);if(typeof i!="object"||!rs.isAccountEntity(i))return;const c=vb.toObject(new rs,i).getAccountInfo();!t.oldValue&&t.newValue?(this.logger.info("Account was added to cache in a different window"),this.eventHandler.emitEvent(Mr.ACCOUNT_ADDED,void 0,c)):!t.newValue&&t.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.eventHandler.emitEvent(Mr.ACCOUNT_REMOVED,void 0,c))}catch{return}}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(t){this.logger=t}initializeWrapperLibrary(t,n){this.browserStorage.setWrapperMetadata(t,n)}setNavigationClient(t){this.navigationClient=t}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(t){return t!=null&&t.correlationId?t.correlationId:this.isBrowserEnvironment?cp():dn.EMPTY_STRING}async loginRedirect(t){const n=this.getRequestCorrelationId(t);return this.logger.verbose("loginRedirect called",n),this.acquireTokenRedirect({correlationId:n,...t||nee})}loginPopup(t){const n=this.getRequestCorrelationId(t);return this.logger.verbose("loginPopup called",n),this.acquireTokenPopup({correlationId:n,...t||nee})}async acquireTokenSilent(t){const n=this.getRequestCorrelationId(t),r=this.performanceClient.startMeasurement(Bt.AcquireTokenSilent,n);r.add({cacheLookupPolicy:t.cacheLookupPolicy,scenarioId:t.scenarioId}),LM(this.initialized,r),this.logger.verbose("acquireTokenSilent called",n);const i=t.account||this.getActiveAccount();if(!i)throw Ar(Pfe);r.add({accountType:Pd(i)});const s={clientId:this.config.auth.clientId,authority:t.authority||dn.EMPTY_STRING,scopes:t.scopes,homeAccountIdentifier:i.homeAccountId,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,shrOptions:t.shrOptions},c=JSON.stringify(s),h=this.activeSilentTokenRequests.get(c);if(typeof h>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",n);const o=er(this.acquireTokenSilentAsync.bind(this),Bt.AcquireTokenSilentAsync,this.logger,this.performanceClient,n)({...t,correlationId:n},i).then(m=>(this.activeSilentTokenRequests.delete(c),r.end({success:!0,fromCache:m.fromCache,isNativeBroker:m.fromNativeBroker,cacheLookupPolicy:t.cacheLookupPolicy,accessTokenSize:m.accessToken.length,idTokenSize:m.idToken.length}),m)).catch(m=>{throw this.activeSilentTokenRequests.delete(c),r.end({success:!1},m),m});return this.activeSilentTokenRequests.set(c,o),{...await o,state:t.state}}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",n),r.discard(),{...await h,state:t.state}}async acquireTokenSilentAsync(t,n){const r=()=>this.trackPageVisibility(t.correlationId);this.performanceClient.addQueueMeasurement(Bt.AcquireTokenSilentAsync,t.correlationId),this.eventHandler.emitEvent(Mr.ACQUIRE_TOKEN_START,$r.Silent,t),t.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},t.correlationId),document.addEventListener("visibilitychange",r);const i=await er(H_t,Bt.InitializeSilentRequest,this.logger,this.performanceClient,t.correlationId)(t,n,this.config,this.performanceClient,this.logger),s=t.cacheLookupPolicy||pc.Default;return this.acquireTokenSilentNoIframe(i,s).catch(async h=>{if(f1t(h,s))if(this.activeIframeRequest)if(s!==pc.Skip){const[m,y]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${y}`,i.correlationId);const v=this.performanceClient.startMeasurement(Bt.AwaitConcurrentIframe,i.correlationId);v.add({awaitIframeCorrelationId:y});const S=await m;if(v.end({success:S}),S)return this.logger.verbose(`Parallel iframe request with correlationId: ${y} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,s);throw this.logger.info(`Iframe request with correlationId: ${y} failed. Interaction is required.`),h}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),er(this.acquireTokenBySilentIframe.bind(this),Bt.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let m;return this.activeIframeRequest=[new Promise(y=>{m=y}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),er(this.acquireTokenBySilentIframe.bind(this),Bt.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(y=>(m(!0),y)).catch(y=>{throw m(!1),y}).finally(()=>{this.activeIframeRequest=void 0})}else throw h}).then(h=>(this.eventHandler.emitEvent(Mr.ACQUIRE_TOKEN_SUCCESS,$r.Silent,h),t.correlationId&&this.performanceClient.addFields({fromCache:h.fromCache,isNativeBroker:h.fromNativeBroker},t.correlationId),h)).catch(h=>{throw this.eventHandler.emitEvent(Mr.ACQUIRE_TOKEN_FAILURE,$r.Silent,null,h),h}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(t,n){return Ud.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,t.authenticationScheme)&&t.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(t,Ho.acquireTokenSilent_silentFlow).catch(async r=>{throw r instanceof Fd&&Dv(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,jn(Hh)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),er(this.acquireTokenFromCache.bind(this),Bt.AcquireTokenFromCache,this.logger,this.performanceClient,t.correlationId)(t,n).catch(r=>{if(n===pc.AccessToken)throw r;return this.eventHandler.emitEvent(Mr.ACQUIRE_TOKEN_NETWORK_START,$r.Silent,t),er(this.acquireTokenByRefreshToken.bind(this),Bt.AcquireTokenByRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,n)}))}}function f1t(e,t){const n=!(e instanceof Qu&&e.subError!==q4),r=e.errorCode===yc.INVALID_GRANT_ERROR||e.errorCode===Hh,i=n&&r||e.errorCode===LP||e.errorCode===qF,s=Ybt.includes(t);return i&&s}/*! @azure/msal-browser v3.28.1 2025-01-14 */async function m1t(e,t){const n=new Jg(e);return await n.initialize(),nI.createController(n,t)}/*! @azure/msal-browser v3.28.1 2025-01-14 */class p${static async createPublicClientApplication(t){const n=await m1t(t);return new p$(t,n)}constructor(t,n){this.controller=n||new nI(new Jg(t))}async initialize(t){return this.controller.initialize(t)}async acquireTokenPopup(t){return this.controller.acquireTokenPopup(t)}acquireTokenRedirect(t){return this.controller.acquireTokenRedirect(t)}acquireTokenSilent(t){return this.controller.acquireTokenSilent(t)}acquireTokenByCode(t){return this.controller.acquireTokenByCode(t)}addEventCallback(t,n){return this.controller.addEventCallback(t,n)}removeEventCallback(t){return this.controller.removeEventCallback(t)}addPerformanceCallback(t){return this.controller.addPerformanceCallback(t)}removePerformanceCallback(t){return this.controller.removePerformanceCallback(t)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(t){return this.controller.getAccount(t)}getAccountByHomeId(t){return this.controller.getAccountByHomeId(t)}getAccountByLocalId(t){return this.controller.getAccountByLocalId(t)}getAccountByUsername(t){return this.controller.getAccountByUsername(t)}getAllAccounts(t){return this.controller.getAllAccounts(t)}handleRedirectPromise(t){return this.controller.handleRedirectPromise(t)}loginPopup(t){return this.controller.loginPopup(t)}loginRedirect(t){return this.controller.loginRedirect(t)}logout(t){return this.controller.logout(t)}logoutRedirect(t){return this.controller.logoutRedirect(t)}logoutPopup(t){return this.controller.logoutPopup(t)}ssoSilent(t){return this.controller.ssoSilent(t)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(t){this.controller.setLogger(t)}setActiveAccount(t){this.controller.setActiveAccount(t)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(t,n){return this.controller.initializeWrapperLibrary(t,n)}setNavigationClient(t){this.controller.setNavigationClient(t)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(t,n){return this.controller.hydrateCache(t,n)}clearCache(t){return this.controller.clearCache(t)}}/*! @azure/msal-browser v3.28.1 2025-01-14 */const g1t={initialize:()=>Promise.reject(za(Ja)),acquireTokenPopup:()=>Promise.reject(za(Ja)),acquireTokenRedirect:()=>Promise.reject(za(Ja)),acquireTokenSilent:()=>Promise.reject(za(Ja)),acquireTokenByCode:()=>Promise.reject(za(Ja)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(za(Ja)),loginPopup:()=>Promise.reject(za(Ja)),loginRedirect:()=>Promise.reject(za(Ja)),logout:()=>Promise.reject(za(Ja)),logoutRedirect:()=>Promise.reject(za(Ja)),logoutPopup:()=>Promise.reject(za(Ja)),ssoSilent:()=>Promise.reject(za(Ja)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw za(Ja)},getLogger:()=>{throw za(Ja)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw za(Ja)},hydrateCache:()=>Promise.reject(za(Ja)),clearCache:()=>Promise.reject(za(Ja))};/*! @azure/msal-browser v3.28.1 2025-01-14 */class y1t{static getInteractionStatusFromEvent(t,n){switch(t.eventType){case Mr.LOGIN_START:return fs.Login;case Mr.SSO_SILENT_START:return fs.SsoSilent;case Mr.ACQUIRE_TOKEN_START:if(t.interactionType===$r.Redirect||t.interactionType===$r.Popup)return fs.AcquireToken;break;case Mr.HANDLE_REDIRECT_START:return fs.HandleRedirect;case Mr.LOGOUT_START:return fs.Logout;case Mr.SSO_SILENT_SUCCESS:case Mr.SSO_SILENT_FAILURE:if(n&&n!==fs.SsoSilent)break;return fs.None;case Mr.LOGOUT_END:if(n&&n!==fs.Logout)break;return fs.None;case Mr.HANDLE_REDIRECT_END:if(n&&n!==fs.HandleRedirect)break;return fs.None;case Mr.LOGIN_SUCCESS:case Mr.LOGIN_FAILURE:case Mr.ACQUIRE_TOKEN_SUCCESS:case Mr.ACQUIRE_TOKEN_FAILURE:case Mr.RESTORE_FROM_BFCACHE:if(t.interactionType===$r.Redirect||t.interactionType===$r.Popup){if(n&&n!==fs.Login&&n!==fs.AcquireToken)break;return fs.None}break}return null}}/*! @azure/msal-react v2.2.0 2024-11-05 */const v1t={instance:g1t,inProgress:fs.None,accounts:[],logger:new Qb({})},sme=A.createContext(v1t);sme.Consumer;/*! @azure/msal-react v2.2.0 2024-11-05 */function uee(e,t){if(e.length!==t.length)return!1;const n=[...t];return e.every(r=>{const i=n.shift();return!r||!i?!1:r.homeAccountId===i.homeAccountId&&r.localAccountId===i.localAccountId&&r.username===i.username})}/*! @azure/msal-react v2.2.0 2024-11-05 */const b1t="@azure/msal-react",dee="2.2.0";/*! @azure/msal-react v2.2.0 2024-11-05 */const jP={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},_1t=(e,t)=>{const{type:n,payload:r}=t;let i=e.inProgress;switch(n){case jP.UNBLOCK_INPROGRESS:e.inProgress===fs.Startup&&(i=fs.None,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case jP.EVENT:const c=r.message,h=y1t.getInteractionStatusFromEvent(c,e.inProgress);h&&(r.logger.info(`MsalProvider - ${c.eventType} results in setting inProgress from ${e.inProgress} to ${h}`),i=h);break;default:throw new Error(`Unknown action type: ${n}`)}const s=r.instance.getAllAccounts();return i!==e.inProgress&&!uee(s,e.accounts)?{...e,inProgress:i,accounts:s}:i!==e.inProgress?{...e,inProgress:i}:uee(s,e.accounts)?e:{...e,accounts:s}};function x1t({instance:e,children:t}){A.useEffect(()=>{e.initializeWrapperLibrary(Kbt.React,dee)},[e]);const n=A.useMemo(()=>e.getLogger().clone(b1t,dee),[e]),[r,i]=A.useReducer(_1t,void 0,()=>({inProgress:fs.Startup,accounts:e.getAllAccounts()}));A.useEffect(()=>{const c=e.addEventCallback(h=>{i({payload:{instance:e,logger:n,message:h},type:jP.EVENT})});return n.verbose(`MsalProvider - Registered event callback with id: ${c}`),e.initialize().then(()=>{e.handleRedirectPromise().catch(()=>{}).finally(()=>{i({payload:{instance:e,logger:n},type:jP.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{c&&(n.verbose(`MsalProvider - Removing event callback ${c}`),e.removeEventCallback(c))}},[e,n]);const s={instance:e,inProgress:r.inProgress,accounts:r.accounts,logger:n};return Oe.createElement(sme.Provider,{value:s},t)}const w1t={auth:{clientId:"d66212b1-9513-4640-af27-352edc0a9e08",authority:"https://usmanhaiderprooutlook15.b2clogin.com/usmanhaiderprooutlook15.onmicrosoft.com/B2C_1_signupsignin1",knownAuthorities:["usmanhaiderprooutlook15.b2clogin.com"],redirectUri:"http://localhost:5173",postLogoutRedirectUri:"http://localhost:5173"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}},S1t=new p$(w1t),A1t=({children:e})=>te.jsx(x1t,{instance:S1t,children:e}),mi=e=>typeof e=="string",Nx=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},hee=e=>e==null?"":""+e,C1t=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},M1t=/###/g,pee=e=>e&&e.indexOf("###")>-1?e.replace(M1t,"."):e,fee=e=>!e||mi(e),vw=(e,t,n)=>{const r=mi(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(fee(e))return{};const s=pee(r[i]);!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++i}return fee(e)?{}:{obj:e,k:pee(r[i])}},mee=(e,t,n)=>{const{obj:r,k:i}=vw(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let s=t[t.length-1],c=t.slice(0,t.length-1),h=vw(e,c,Object);for(;h.obj===void 0&&c.length;)s=`${c[c.length-1]}.${s}`,c=c.slice(0,c.length-1),h=vw(e,c,Object),h!=null&&h.obj&&typeof h.obj[`${h.k}.${s}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${s}`]=n},E1t=(e,t,n,r)=>{const{obj:i,k:s}=vw(e,t,Object);i[s]=i[s]||[],i[s].push(n)},zP=(e,t)=>{const{obj:n,k:r}=vw(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},T1t=(e,t,n)=>{const r=zP(e,n);return r!==void 0?r:zP(t,n)},lme=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?mi(e[r])||e[r]instanceof String||mi(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):lme(e[r],t[r],n):e[r]=t[r]);return e},Tv=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var P1t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const I1t=e=>mi(e)?e.replace(/[&<>"'\/]/g,t=>P1t[t]):e;class O1t{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const k1t=[" ",",","?","!",";"],N1t=new O1t(20),R1t=(e,t,n)=>{t=t||"",n=n||"";const r=k1t.filter(c=>t.indexOf(c)<0&&n.indexOf(c)<0);if(r.length===0)return!0;const i=N1t.getRegExp(`(${r.map(c=>c==="?"?"\\?":c).join("|")})`);let s=!i.test(e);if(!s){const c=e.indexOf(n);c>0&&!i.test(e.substring(0,c))&&(s=!0)}return s},UD=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let i=e;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let c,h="";for(let o=s;o<r.length;++o)if(o!==s&&(h+=n),h+=r[o],c=i[h],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&o<r.length-1)continue;s+=o-s+1;break}i=c}return i},BP=e=>e==null?void 0:e.replace("_","-"),D1t={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;(r=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||r.call(n,console,t)}};class ZP{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||D1t,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(mi(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new ZP(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new ZP(this.logger,t)}}var Hd=new ZP;class rI{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(c=>{let[h,o]=c;for(let m=0;m<o;m++)h(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(c=>{let[h,o]=c;for(let m=0;m<o;m++)h.apply(h,[t,...r])})}}class gee extends rI{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){var m,y;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,c=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;t.indexOf(".")>-1?h=t.split("."):(h=[t,n],r&&(Array.isArray(r)?h.push(...r):mi(r)&&s?h.push(...r.split(s)):h.push(r)));const o=zP(this.data,h);return!o&&!n&&!r&&t.indexOf(".")>-1&&(t=h[0],n=h[1],r=h.slice(2).join(".")),o||!c||!mi(r)?o:UD((y=(m=this.data)==null?void 0:m[t])==null?void 0:y[n],r,s)}addResource(t,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const c=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let h=[t,n];r&&(h=h.concat(c?r.split(c):r)),t.indexOf(".")>-1&&(h=t.split("."),i=n,n=h[1]),this.addNamespaces(n),mee(this.data,h,i),s.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)(mi(r[s])||Array.isArray(r[s]))&&this.addResource(t,n,s,r[s],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,s){let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},h=[t,n];t.indexOf(".")>-1&&(h=t.split("."),i=r,r=n,n=h[1]),this.addNamespaces(n);let o=zP(this.data,h)||{};c.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?lme(o,r,s):o={...o,...r},mee(this.data,h,o),c.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var cme={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(s=>{var c;t=((c=this.processors[s])==null?void 0:c.process(t,n,r,i))??t}),t}};const yee={},vee=e=>!mi(e)&&typeof e!="boolean"&&typeof e!="number";class UP extends rI{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),C1t(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Hd.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return(r==null?void 0:r.res)!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const c=r&&t.indexOf(r)>-1,h=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!R1t(t,r,i);if(c&&!h){const o=t.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:t,namespaces:mi(s)?[s]:s};const m=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(m[0])>-1)&&(s=m.shift()),t=m.join(i)}return{key:t,namespaces:mi(s)?[s]:s}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:c,namespaces:h}=this.extractFromKey(t[t.length-1],n),o=h[h.length-1],m=n.lng||this.language,y=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((m==null?void 0:m.toLowerCase())==="cimode"){if(y){const re=n.nsSeparator||this.options.nsSeparator;return i?{res:`${o}${re}${c}`,usedKey:c,exactUsedKey:c,usedLng:m,usedNS:o,usedParams:this.getUsedParamsDetails(n)}:`${o}${re}${c}`}return i?{res:c,usedKey:c,exactUsedKey:c,usedLng:m,usedNS:o,usedParams:this.getUsedParamsDetails(n)}:c}const v=this.resolve(t,n);let S=v==null?void 0:v.res;const C=(v==null?void 0:v.usedKey)||c,P=(v==null?void 0:v.exactUsedKey)||c,I=["[object Number]","[object Function]","[object RegExp]"],N=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,D=!this.i18nFormat||this.i18nFormat.handleAsObject,k=n.count!==void 0&&!mi(n.count),F=UP.hasDefaultValue(n),U=k?this.pluralResolver.getSuffix(m,n.count,n):"",B=n.ordinal&&k?this.pluralResolver.getSuffix(m,n.count,{ordinal:!1}):"",z=k&&!n.ordinal&&n.count===0,W=z&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${U}`]||n[`defaultValue${B}`]||n.defaultValue;let Y=S;D&&!S&&F&&(Y=W);const K=vee(Y),ee=Object.prototype.toString.apply(Y);if(D&&Y&&K&&I.indexOf(ee)<0&&!(mi(N)&&Array.isArray(Y))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const re=this.options.returnedObjectHandler?this.options.returnedObjectHandler(C,Y,{...n,ns:h}):`key '${c} (${this.language})' returned an object instead of string.`;return i?(v.res=re,v.usedParams=this.getUsedParamsDetails(n),v):re}if(s){const re=Array.isArray(Y),oe=re?[]:{},he=re?P:C;for(const be in Y)if(Object.prototype.hasOwnProperty.call(Y,be)){const le=`${he}${s}${be}`;F&&!S?oe[be]=this.translate(le,{...n,defaultValue:vee(W)?W[be]:void 0,joinArrays:!1,ns:h}):oe[be]=this.translate(le,{...n,joinArrays:!1,ns:h}),oe[be]===le&&(oe[be]=Y[be])}S=oe}}else if(D&&mi(N)&&Array.isArray(S))S=S.join(N),S&&(S=this.extendTranslation(S,t,n,r));else{let re=!1,oe=!1;!this.isValidLookup(S)&&F&&(re=!0,S=W),this.isValidLookup(S)||(oe=!0,S=c);const be=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&oe?void 0:S,le=F&&W!==S&&this.options.updateMissing;if(oe||re||le){if(this.logger.log(le?"updateKey":"missingKey",m,o,c,le?W:S),s){const xe=this.resolve(c,{...n,keySeparator:!1});xe&&xe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ye=[];const fe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&fe&&fe[0])for(let xe=0;xe<fe.length;xe++)ye.push(fe[xe]);else this.options.saveMissingTo==="all"?ye=this.languageUtils.toResolveHierarchy(n.lng||this.language):ye.push(n.lng||this.language);const ue=(xe,ae,Ee)=>{var de;const Me=F&&Ee!==S?Ee:be;this.options.missingKeyHandler?this.options.missingKeyHandler(xe,o,ae,Me,le,n):(de=this.backendConnector)!=null&&de.saveMissing&&this.backendConnector.saveMissing(xe,o,ae,Me,le,n),this.emit("missingKey",xe,o,ae,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?ye.forEach(xe=>{const ae=this.pluralResolver.getSuffixes(xe,n);z&&n[`defaultValue${this.options.pluralSeparator}zero`]&&ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&ae.push(`${this.options.pluralSeparator}zero`),ae.forEach(Ee=>{ue([xe],c+Ee,n[`defaultValue${Ee}`]||W)})}):ue(ye,c,W))}S=this.extendTranslation(S,t,n,v,r),oe&&S===c&&this.options.appendNamespaceToMissingKey&&(S=`${o}:${c}`),(oe||re)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${o}:${c}`:c,re?S:void 0))}return i?(v.res=S,v.usedParams=this.getUsedParamsDetails(n),v):S}extendTranslation(t,n,r,i,s){var m,y;var c=this;if((m=this.i18nFormat)!=null&&m.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const v=mi(t)&&(((y=r==null?void 0:r.interpolation)==null?void 0:y.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let S;if(v){const P=t.match(this.interpolator.nestingRegexp);S=P&&P.length}let C=r.replace&&!mi(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(C={...this.options.interpolation.defaultVariables,...C}),t=this.interpolator.interpolate(t,C,r.lng||this.language||i.usedLng,r),v){const P=t.match(this.interpolator.nestingRegexp),I=P&&P.length;S<I&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var P=arguments.length,I=new Array(P),N=0;N<P;N++)I[N]=arguments[N];return(s==null?void 0:s[0])===I[0]&&!r.context?(c.logger.warn(`It seems you are nesting recursively key: ${I[0]} in key: ${n[0]}`),null):c.translate(...I,n)},r)),r.interpolation&&this.interpolator.reset()}const h=r.postProcess||this.options.postProcess,o=mi(h)?[h]:h;return t!=null&&(o!=null&&o.length)&&r.applyPostProcessor!==!1&&(t=cme.handle(o,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,c,h;return mi(t)&&(t=[t]),t.forEach(o=>{if(this.isValidLookup(r))return;const m=this.extractFromKey(o,n),y=m.key;i=y;let v=m.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const S=n.count!==void 0&&!mi(n.count),C=S&&!n.ordinal&&n.count===0,P=n.context!==void 0&&(mi(n.context)||typeof n.context=="number")&&n.context!=="",I=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(N=>{var D,k;this.isValidLookup(r)||(h=N,!yee[`${I[0]}-${N}`]&&((D=this.utils)!=null&&D.hasLoadedNamespace)&&!((k=this.utils)!=null&&k.hasLoadedNamespace(h))&&(yee[`${I[0]}-${N}`]=!0,this.logger.warn(`key "${i}" for languages "${I.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),I.forEach(F=>{var z;if(this.isValidLookup(r))return;c=F;const U=[y];if((z=this.i18nFormat)!=null&&z.addLookupKeys)this.i18nFormat.addLookupKeys(U,y,F,N,n);else{let W;S&&(W=this.pluralResolver.getSuffix(F,n.count,n));const Y=`${this.options.pluralSeparator}zero`,K=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(S&&(U.push(y+W),n.ordinal&&W.indexOf(K)===0&&U.push(y+W.replace(K,this.options.pluralSeparator)),C&&U.push(y+Y)),P){const ee=`${y}${this.options.contextSeparator}${n.context}`;U.push(ee),S&&(U.push(ee+W),n.ordinal&&W.indexOf(K)===0&&U.push(ee+W.replace(K,this.options.pluralSeparator)),C&&U.push(ee+Y))}}let B;for(;B=U.pop();)this.isValidLookup(r)||(s=B,r=this.getResource(F,N,B,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:c,usedNS:h}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){var s;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!mi(t.replace);let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class bee{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Hd.create("languageUtils")}getScriptPartFromCode(t){if(t=BP(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=BP(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(mi(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),mi(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],s=c=>{c&&(this.isSupportedCode(c)?i.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return mi(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):mi(t)&&s(this.formatLanguageCode(t)),r.forEach(c=>{i.indexOf(c)<0&&s(this.formatLanguageCode(c))}),i}}const _ee={zero:0,one:1,two:2,few:3,many:4,other:5},xee={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class L1t{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=Hd.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=BP(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let c;try{c=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),xee;if(!t.match(/-|_/))return xee;const o=this.languageUtils.getLanguagePartFromCode(t);c=this.getRule(o,n)}return this.pluralRulesCache[s]=c,c}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>_ee[i]-_ee[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const wee=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=T1t(e,t,n);return!s&&i&&mi(n)&&(s=UD(e,n,r),s===void 0&&(s=UD(t,n,r))),s},_k=e=>e.replace(/\$/g,"$$$$");class F1t{constructor(){var n;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Hd.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(r=>r),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:c,suffix:h,suffixEscaped:o,formatSeparator:m,unescapeSuffix:y,unescapePrefix:v,nestingPrefix:S,nestingPrefixEscaped:C,nestingSuffix:P,nestingSuffixEscaped:I,nestingOptionsSeparator:N,maxReplaces:D,alwaysFormat:k}=t.interpolation;this.escape=n!==void 0?n:I1t,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Tv(s):c||"{{",this.suffix=h?Tv(h):o||"}}",this.formatSeparator=m||",",this.unescapePrefix=y?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=S?Tv(S):C||Tv("$t("),this.nestingSuffix=P?Tv(P):I||Tv(")"),this.nestingOptionsSeparator=N||",",this.maxReplaces=D||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){var C;let s,c,h;const o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=P=>{if(P.indexOf(this.formatSeparator)<0){const k=wee(n,o,P,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,r,{...i,...n,interpolationkey:P}):k}const I=P.split(this.formatSeparator),N=I.shift().trim(),D=I.join(this.formatSeparator).trim();return this.format(wee(n,o,N,this.options.keySeparator,this.options.ignoreJSONStructure),D,r,{...i,...n,interpolationkey:N})};this.resetRegExp();const y=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,v=((C=i==null?void 0:i.interpolation)==null?void 0:C.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:P=>_k(P)},{regex:this.regexp,safeValue:P=>this.escapeValue?_k(this.escape(P)):_k(P)}].forEach(P=>{for(h=0;s=P.regex.exec(t);){const I=s[1].trim();if(c=m(I),c===void 0)if(typeof y=="function"){const D=y(t,s,i);c=mi(D)?D:""}else if(i&&Object.prototype.hasOwnProperty.call(i,I))c="";else if(v){c=s[0];continue}else this.logger.warn(`missed to pass in variable ${I} for interpolating ${t}`),c="";else!mi(c)&&!this.useRawValueToEscape&&(c=hee(c));const N=P.safeValue(c);if(t=t.replace(s[0],N),v?(P.regex.lastIndex+=c.length,P.regex.lastIndex-=s[0].length):P.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,c;const h=(o,m)=>{const y=this.nestingOptionsSeparator;if(o.indexOf(y)<0)return o;const v=o.split(new RegExp(`${y}[ ]*{`));let S=`{${v[1]}`;o=v[0],S=this.interpolate(S,c);const C=S.match(/'/g),P=S.match(/"/g);(((C==null?void 0:C.length)??0)%2===0&&!P||P.length%2!==0)&&(S=S.replace(/'/g,'"'));try{c=JSON.parse(S),m&&(c={...m,...c})}catch(I){return this.logger.warn(`failed parsing options string in nesting for key ${o}`,I),`${o}${y}${S}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,o};for(;i=this.nestingRegexp.exec(t);){let o=[];c={...r},c=c.replace&&!mi(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;let m=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const y=i[1].split(this.formatSeparator).map(v=>v.trim());i[1]=y.shift(),o=y,m=!0}if(s=n(h.call(this,i[1].trim(),c),c),s&&i[0]===t&&!mi(s))return s;mi(s)||(s=hee(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),s=""),m&&(s=o.reduce((y,v)=>this.format(y,v,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),t=t.replace(i[0],s),this.regexp.lastIndex=0}return t}}const $1t=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(c=>{if(c){const[h,...o]=c.split(":"),m=o.join(":").trim().replace(/^'+|'+$/g,""),y=h.trim();n[y]||(n[y]=m),m==="false"&&(n[y]=!1),m==="true"&&(n[y]=!0),isNaN(m)||(n[y]=parseInt(m,10))}})}return{formatName:t,formatOptions:n}},Pv=e=>{const t={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const c=r+JSON.stringify(s);let h=t[c];return h||(h=e(BP(r),i),t[c]=h),h(n)}};class j1t{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Hd.create("formatter"),this.options=t,this.formats={number:Pv((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:Pv((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:Pv((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:Pv((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:Pv((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(t)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Pv(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(h=>h.indexOf(")")>-1)){const h=s.findIndex(o=>o.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,h)].join(this.formatSeparator)}return s.reduce((h,o)=>{var v;const{formatName:m,formatOptions:y}=$1t(o);if(this.formats[m]){let S=h;try{const C=((v=i==null?void 0:i.formatParams)==null?void 0:v[i.interpolationkey])||{},P=C.locale||C.lng||i.locale||i.lng||r;S=this.formats[m](h,P,{...y,...i,...C})}catch(C){this.logger.warn(C)}return S}else this.logger.warn(`there was no format function for ${m}`);return h},t)}}const z1t=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class B1t extends rI{constructor(t,n,r){var s,c;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Hd.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(c=(s=this.backend)==null?void 0:s.init)==null||c.call(s,r,i.backend,i)}queueLoad(t,n,r,i){const s={},c={},h={},o={};return t.forEach(m=>{let y=!0;n.forEach(v=>{const S=`${m}|${v}`;!r.reload&&this.store.hasResourceBundle(m,v)?this.state[S]=2:this.state[S]<0||(this.state[S]===1?c[S]===void 0&&(c[S]=!0):(this.state[S]=1,y=!1,c[S]===void 0&&(c[S]=!0),s[S]===void 0&&(s[S]=!0),o[v]===void 0&&(o[v]=!0)))}),y||(h[m]=!0)}),(Object.keys(s).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(c),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(o)}}loaded(t,n,r){const i=t.split("|"),s=i[0],c=i[1];n&&this.emit("failedLoading",s,c,n),!n&&r&&this.store.addResourceBundle(s,c,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const h={};this.queue.forEach(o=>{E1t(o.loaded,[s],c),z1t(o,t),n&&o.errors.push(n),o.pendingCount===0&&!o.done&&(Object.keys(o.loaded).forEach(m=>{h[m]||(h[m]={});const y=o.loaded[m];y.length&&y.forEach(v=>{h[m][v]===void 0&&(h[m][v]=!0)})}),o.done=!0,o.errors.length?o.callback(o.errors):o.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(o=>!o.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!t.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:s,callback:c});return}this.readingCalls++;const h=(m,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(m&&y&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,s*2,c)},s);return}c(m,y)},o=this.backend[r].bind(this.backend);if(o.length===2){try{const m=o(t,n);m&&typeof m.then=="function"?m.then(y=>h(null,y)).catch(h):h(null,m)}catch(m){h(m)}return}return o(t,n,h)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();mi(t)&&(t=this.languageUtils.toResolveHierarchy(t)),mi(n)&&(n=[n]);const s=this.queueLoad(t,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(c=>{this.loadOne(c)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(c,h)=>{c&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,c),!c&&h&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,h),this.loaded(t,c,h)})}saveMissing(t,n,r,i,s){var o,m,y,v,S;let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((m=(o=this.services)==null?void 0:o.utils)!=null&&m.hasLoadedNamespace&&!((v=(y=this.services)==null?void 0:y.utils)!=null&&v.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((S=this.backend)!=null&&S.create){const C={...c,isUpdate:s},P=this.backend.create.bind(this.backend);if(P.length<6)try{let I;P.length===5?I=P(t,n,r,i,C):I=P(t,n,r,i),I&&typeof I.then=="function"?I.then(N=>h(null,N)).catch(h):h(null,I)}catch(I){h(I)}else P(t,n,r,i,h,C)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const See=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),mi(e[1])&&(t.defaultValue=e[1]),mi(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Aee=e=>{var t,n;return mi(e.ns)&&(e.ns=[e.ns]),mi(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),mi(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},FM=()=>{},Z1t=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class VS extends rI{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Aee(t),this.services={},this.logger=Hd,this.modules={external:[]},Z1t(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),n.defaultNS==null&&n.ns&&(mi(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=See();this.options={...i,...this.options,...Aee(n)},this.options.interpolation={...i.interpolation,...this.options.interpolation},n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const s=y=>y?typeof y=="function"?new y:y:null;if(!this.options.isClone){this.modules.logger?Hd.init(s(this.modules.logger),this.options):Hd.init(null,this.options);let y;this.modules.formatter?y=this.modules.formatter:y=j1t;const v=new bee(this.options);this.store=new gee(this.options.resources,this.options);const S=this.services;S.logger=Hd,S.resourceStore=this.store,S.languageUtils=v,S.pluralResolver=new L1t(v,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),y&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(S.formatter=s(y),S.formatter.init(S,this.options),this.options.interpolation.format=S.formatter.format.bind(S.formatter)),S.interpolator=new F1t(this.options),S.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},S.backendConnector=new B1t(s(this.modules.backend),S.resourceStore,S,this.options),S.backendConnector.on("*",function(C){for(var P=arguments.length,I=new Array(P>1?P-1:0),N=1;N<P;N++)I[N-1]=arguments[N];t.emit(C,...I)}),this.modules.languageDetector&&(S.languageDetector=s(this.modules.languageDetector),S.languageDetector.init&&S.languageDetector.init(S,this.options.detection,this.options)),this.modules.i18nFormat&&(S.i18nFormat=s(this.modules.i18nFormat),S.i18nFormat.init&&S.i18nFormat.init(this)),this.translator=new UP(this.services,this.options),this.translator.on("*",function(C){for(var P=arguments.length,I=new Array(P>1?P-1:0),N=1;N<P;N++)I[N-1]=arguments[N];t.emit(C,...I)}),this.modules.external.forEach(C=>{C.init&&C.init(this)})}if(this.format=this.options.interpolation.format,r||(r=FM),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const y=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);y.length>0&&y[0]!=="dev"&&(this.options.lng=y[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(y=>{this[y]=function(){return t.store[y](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(y=>{this[y]=function(){return t.store[y](...arguments),t}});const o=Nx(),m=()=>{const y=(v,S)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(S),r(v,S)};if(this.languages&&!this.isInitialized)return y(null,this.t.bind(this));this.changeLanguage(this.options.lng,y)};return this.options.resources||!this.options.initAsync?m():setTimeout(m,0),o}loadResources(t){var s,c;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:FM;const i=mi(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const h=[],o=m=>{if(!m||m==="cimode")return;this.services.languageUtils.toResolveHierarchy(m).forEach(v=>{v!=="cimode"&&h.indexOf(v)<0&&h.push(v)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(y=>o(y)),(c=(s=this.options.preload)==null?void 0:s.forEach)==null||c.call(s,m=>o(m)),this.services.backendConnector.load(h,this.options.ns,m=>{!m&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(m)})}else r(null)}reloadResources(t,n,r){const i=Nx();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=FM),this.services.backendConnector.reload(t,n,s=>{i.resolve(),r(s)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&cme.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=Nx();this.emit("languageChanging",t);const s=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},c=(o,m)=>{m?(s(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(o,function(){return r.t(...arguments)})},h=o=>{var y,v;!t&&!o&&this.services.languageDetector&&(o=[]);const m=mi(o)?o:this.services.languageUtils.getBestMatchFromCodes(o);m&&(this.language||s(m),this.translator.language||this.translator.changeLanguage(m),(v=(y=this.services.languageDetector)==null?void 0:y.cacheUserLanguage)==null||v.call(y,m)),this.loadResources(m,S=>{c(S,m)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(t),i}getFixedT(t,n,r){var i=this;const s=function(c,h){let o;if(typeof h!="object"){for(var m=arguments.length,y=new Array(m>2?m-2:0),v=2;v<m;v++)y[v-2]=arguments[v];o=i.options.overloadTranslationOptionHandler([c,h].concat(y))}else o={...h};o.lng=o.lng||s.lng,o.lngs=o.lngs||s.lngs,o.ns=o.ns||s.ns,o.keyPrefix!==""&&(o.keyPrefix=o.keyPrefix||r||s.keyPrefix);const S=i.options.keySeparator||".";let C;return o.keyPrefix&&Array.isArray(c)?C=c.map(P=>`${o.keyPrefix}${S}${P}`):C=o.keyPrefix?`${o.keyPrefix}${S}${c}`:c,i.t(C,o)};return mi(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=r,s}t(){var i;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(i=this.translator)==null?void 0:i.translate(...n)}exists(){var i;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(i=this.translator)==null?void 0:i.exists(...n)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const c=(h,o)=>{const m=this.services.backendConnector.state[`${h}|${o}`];return m===-1||m===0||m===2};if(n.precheck){const h=n.precheck(this,c);if(h!==void 0)return h}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(r,t)&&(!i||c(s,t)))}loadNamespaces(t,n){const r=Nx();return this.options.ns?(mi(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Nx();mi(t)&&(t=[t]);const i=this.options.preload||[],s=t.filter(c=>i.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return s.length?(this.options.preload=i.concat(s),this.loadResources(c=>{r.resolve(),n&&n(c)}),r):(n&&n(),Promise.resolve())}dir(t){var i,s;if(t||(t=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new bee(See());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new VS(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:FM;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},s=new VS(i);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(h=>{s[h]=this[h]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const h=Object.keys(this.store.data).reduce((o,m)=>(o[m]={...this.store.data[m]},Object.keys(o[m]).reduce((y,v)=>(y[v]={...o[m][v]},y),{})),{});s.store=new gee(h,i),s.services.resourceStore=s.store}return s.translator=new UP(s.services,i),s.translator.on("*",function(h){for(var o=arguments.length,m=new Array(o>1?o-1:0),y=1;y<o;y++)m[y-1]=arguments[y];s.emit(h,...m)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const nl=VS.createInstance();nl.createInstance=VS.createInstance;nl.createInstance;nl.dir;nl.init;nl.loadResources;nl.reloadResources;nl.use;nl.changeLanguage;nl.getFixedT;nl.t;nl.exists;nl.setDefaultNamespace;nl.hasLoadedNamespace;nl.loadNamespaces;nl.loadLanguages;const U1t={heatmap:{title:"الخريطة الحرارية",filters:{category:{label:"نوع العقار",values:{villa:"فيلا",building:"مبنى",apartment:"شقة",land:"أرض"}},purpose:{label:"استخدام العقار",values:{private_residential:"سكني خاص",residential_investment:"سكني استثماري",commercial:"تجاري",administrative:"إداري"}},type:{label:"نوع الخريطة",values:{sell_figure:"سعر البيع",price_sqmt:"سعر المتر المربع"}}}},district:{title:"الأحياء",filters:{district_name:"اسم الحي",municipality:"البلدية",zone:"المنطقة",district:"الحي"}},project:{title:"المشاريع",filters:{building_name:{label:"اسم المبنى",title:"ابحث عن المبنى",placeholder:"ابحث عن المبنى"},price:{label:"السعر",title:"ابحث عن السعر",clear:"مسح",apply:"تطبيق"},building_type:{label:"نوع العقار",values:{apartment:"شقة",villa:"فيلا",townhouse:"تاون هاوس",duplex:"دوبلكس"}},bedroom_count:{label:"عدد غرف النوم",values:{one:"1",two:"2",three:"3",four:"4"}}}}},H1t={district:"الحي",district_borders:"حدود الحي",district_investments:"الأحياء الإستثمارية","3d_terrain":"التضاريس ثلاثية الأبعاد","3d_building":"المبانى ثلاثية الأبعاد",heatmap:"الخريطة الحرارية",freehold:"تمليك حر",leasehold:"إيجار طويل الأمد"},V1t={home:"الصفحة الرئيسية",chat:"الدردشة"},W1t={placeholder:"ابحث عن المناطق، المشاريع، المطورين"},G1t={headings:{municipality:"البلدية",finance:"عدد المؤسسات المالية",health:"عدد المؤسسات الصحية",education:"عدد المؤسسات التعليمية",sales_transactions:"مؤشرات البيع",sell_count:"إجمالي عدد عقود البيع",rent_count:"إجمالي عدد عقود الإيجار",sell_count_by_year:"إجمالي عدد عقود البيع \\ سنة",rent_count_by_year:"إجمالي عدد عقود الإيجار \\ سنة",sell_count_by_year_category:"إجمالي عدد عقود البيع \\ سنة (حسب النوع)",rent_count_by_year_category:"إجمالي عدد عقود الإيجار \\ سنة (حسب النوع)",price_per_m2_purpose:"قيمة المتر المربع في عقود البيع بالريال القطري \\ سنة (حسب الاستخدام)",price_per_m2_category:"قيمة المتر المربع في عقود البيع بالريال القطري \\ سنة (حسب النوع)",number_of_categories:"عدد الفئات",rental_transactions:"مؤشرات الإيجار",rent_by_year_category:"قيمة عقود الإيجار بالريال القطري \\ سنة (حسب النوع)",rent_by_year_purpose:"قيمة عقود الإيجار بالريال القطري \\ سنة (حسب الاستخدام)"},footer_link_label:"لمزيد من التفاصيل، يرجى الرجوع إلى المنصة العقارية لدولة قطر"},K1t={view_units:"عرض الوحدات",project_not_found:"خطأ: المشروع غير موجود أو فشل التحميل",district_city:"المنطقة / المدينة",developer_name:"اسم المطور",expected_date:"تاريخ الانتهاء المتوقع",start_date:"تاريخ بدء المشروع",developer_contact:"معلومات التواصل مع المطور",total_units:"إجمالي عدد الوحدات",completion_percentage:"نسبة الإنجاز",number_of_floors:"عدد الطوابق",unit_types:"أنواع الوحدات",location:"الموقع",building_name:"اسم المبنى",city:"المدينة",district:"المنطقة",latitude:"خط العرض",longitude:"خط الطول",building_purpose:"الغرض من المبنى",bedrooms:"عدد غرف النوم",freehold:"ملكية حرة؟",price:"متوسط سعر الوحدات (ريال قطري)",no_amenities:"لا توجد مرافق مذكورة"},q1t="نعم",X1t="لا",Y1t={first:"الدور الأول",second:"الدور الثاني",third:"الدور الثالث",fourth:"الدور الرابع",default_ar:"الدور {{floor}}"},J1t={unitTitle:"الدور {{floor}} - وحدة {{unit}}"},Q1t={tenant:"مستأجر",currency:"ريال قطري",priceNotAvailable:"السعر غير متوفر",bedrooms:"عدد الغرف",area:"المساحة (م²)"},ext={availableUnits:"الوحدات المتاحة",dealtUnits:"الوحدات التي تم التعامل معها"},txt={unit_number:"رقم الوحدة",type:"النوع",area:"المساحة (م²)",view:"الإطلالة",bedrooms:"عدد الغرف",parking_slots:"مواقف السيارات",total_price:"السعر الإجمالي",spa_date:"تاريخ البيع"},nxt={firstPage:"الصفحة الأولى",previousPage:"الصفحة السابقة",nextPage:"الصفحة التالية",lastPage:"الصفحة الأخيرة"},rxt={toggles:U1t,map_menu:H1t,top_menu:V1t,product_search:W1t,gis_panel:G1t,project:K1t,yes:q1t,no:X1t,floor:Y1t,buildingMap:J1t,unitCard:Q1t,paginatedTables:ext,unitsTable:txt,pagination:nxt},ixt={heatmap:{title:"Heatmap Data",filters:{category:{label:"Category",values:{villa:"Villa",building:"Building",apartment:"Apartment",land:"Land"}},purpose:{label:"Purpose",values:{private_residential:"Private Residential",residential_investment:"Residential Investment",commercial:"Commercial",administrative:"Administrative"}},type:{label:"Type",values:{sell_figure:"Sell Figure",price_sqmt:"Price QAR/sqmt"}}}},district:{title:"Districts Data",filters:{district_name:"District Name",municipality:"Municipality",zone:"Zone",district:"District"}},project:{title:"Projects Data",filters:{building_name:{label:"Building Name",title:"Building Name",placeholder:"Search Building"},price:{label:"Price",title:"Price Range (QAR)",clear:"Clear",apply:"Apply"},building_type:{label:"Unit Type",values:{apartment:"Apartment",villa:"Villa",townhouse:"Townhouse",duplex:"Duplex"}},bedroom_count:{label:"Bedrooms",values:{one:"1",two:"2",three:"3",four:"4"}}}}},oxt={district:"District",district_borders:"District Borders",district_investments:"District Investments","3d_terrain":"3D Terrain","3d_building":"3D Building",heatmap:"Heatmap",freehold:"Freehold",leasehold:"Leasehold"},axt={home:"Home",chat:"Chat"},sxt={placeholder:"Search for districts, projects, developers"},lxt={headings:{municipality:"Name of the municipality",finance:"Financial institutions count",health:"Health institutions count",education:"Education institutions count",sales_transactions:"Sell indicators",sell_count:"The total number of sell contracts",rent_count:"The total number of lease contracts",sell_count_by_year:"The total number of sell contracts / Year",rent_count_by_year:"The total number of lease contracts / Year",sell_count_by_year_category:"The total number of sell contracts / Year (Depending on type)",rent_count_by_year_category:"The total number of lease contracts / Year (Depending on type)",price_per_m2_purpose:"Value per square meter in sell contracts in QAR / Year (Depending on use)",price_per_m2_category:"Value per square meter in sell contracts in QAR / Year (Depending on type)",number_of_categories:"Number of Categories",rental_transactions:"Rental indicators",rent_by_year_category:"The value of lease contracts in QAR / Year (Depending on type)",rent_by_year_purpose:"The value of lease contracts in QAR / Year (Depending on use)"},footer_link_label:"For more details, please refer to the Qatar Real Estate Platform"},cxt={view_units:"View Units",project_not_found:"Error: Project not found or failed to load.",district_city:"District / City",developer_name:"Developer Name",expected_date:"Expected Completion Date",start_date:"Project Start Date",developer_contact:"Developer Contact Info",total_units:"Total Number of Units",completion_percentage:"Completion Percentage",number_of_floors:"Number of Floors",unit_types:"Unit Types",location:"Location",building_name:"Building Name",city:"City",district:"District",latitude:"Latitude",longitude:"Longitude",building_purpose:"Building Purpose",bedrooms:"Bedrooms",freehold:"Freehold?",price:"Units average price (QAR)",no_amenities:"No amenities listed"},uxt="Yes",dxt="No",hxt={first_en:"First floor",second_en:"Second floor",third_en:"Third floor",fourth_en:"Fourth floor",default_en:"Floor {{floor}}"},pxt={unitTitle:"Floor {{floor}} - Unit {{unit}}"},fxt={tenant:"Tenant",currency:"Qatari Riyals",priceNotAvailable:"Price not available",bedrooms:"Bedroom",area:"Area (m²)"},mxt={availableUnits:"Available Units",dealtUnits:"The units that were dealt with"},gxt={unit_number:"Unit Number",type:"Type",area:"Area (m²)",view:"View",bedrooms:"Bedrooms",parking_slots:"Parking Slots",total_price:"Total Price",spa_date:"Sale Date"},yxt={firstPage:"First Page",previousPage:"Previous Page",nextPage:"Next Page",lastPage:"Last Page"},vxt={toggles:ixt,map_menu:oxt,top_menu:axt,product_search:sxt,gis_panel:lxt,project:cxt,yes:uxt,no:dxt,floor:hxt,buildingMap:pxt,unitCard:fxt,paginatedTables:mxt,unitsTable:gxt,pagination:yxt},bxt={ar:{translation:rxt},en:{translation:vxt}};function _xt(e){const t=e+"=",r=decodeURIComponent(document.cookie).split(";");for(let i=0;i<r.length;i++){const s=r[i].trim();if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null}const Cee=_xt("pll_language"),xxt=["ar","en"],wxt=xxt.includes(Cee)?Cee:"ar";nl.use(YSe).init({resources:bxt,lng:wxt,fallbackLng:"ar",interpolation:{escapeValue:!1}});xk.createRoot(document.getElementById("root")).render(te.jsx(A1t,{children:te.jsx(Cwe,{store:Wvt,children:te.jsx(Vvt,{})})}));
